import{_ as dt,l as Te}from"./lodash.6f1dd969.js";import{a as E}from"./axios.82d3905a.js";import{a as it}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.7143cee4.js";import{d as Xe,c as ct}from"./pinia.ce723395.js";import{u as fe,a as ze,c as rt,b as ut}from"./vue-router.dade01b4.js";import{r as n,o as _e,i as a,k as e,x as s,_ as g,u as d,e as t,I as Le,h as Z,j as M,F as H,q as W,d as $e,a0 as ie,v as Y,C as Ae,a2 as X,a3 as ue,aa as Pe,p as T,w as be,ab as we,ac as Ue,f as ce,a5 as Me,a6 as Ve,ad as _t,B as Je,a1 as je,ae as mt}from"./@vue.dc85cc92.js";import{B as ht}from"./vue-chartjs.f51fca7f.js";import{C as pt,p as vt,a as bt,b as ft,c as $t,d as gt,L as yt}from"./chart.js.562acd0f.js";import{S as We}from"./sweetalert2.ef56b979.js";import{t as He}from"./toastr.94171567.js";import{F as De,a as R}from"./vee-validate.3a2f48ce.js";import{f as Ze}from"./flatpickr.181c7977.js";import{c as xe,a as q}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ve}from"./moment.40bc58bf.js";import{a as Ie}from"./laravel-vue-pagination.d3117fac.js";import{C as kt}from"./vue-content-loader.f65775d2.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.f048ba1c.js";import{L as Fe}from"./vue3-datepicker.311b6dbd.js";import{h as Oe}from"./html2canvas.c4a43e03.js";import{h as et}from"./html2pdf.js.44b835e5.js";import{V as wt}from"./vue-sweetalert2.891f877f.js";import{d as Ct}from"./vue3-form-wizard.218bfa0f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=dt;window.axios=E;window.$=window.jQuery=it;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=Xe("AuthUserStore",()=>{const o=n({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await E.get("/api/profile").then(u=>{o.value=u.data})}}}),St={class:"content"},Ut={class:"container-fluid"},Dt={class:"card"},Mt={class:"card-header"},Vt={class:"card-body"},At=e("div",{class:"row"},null,-1),Et={__name:"Dashboard",setup(o){pt.register(vt,bt,ft,$t,gt,yt);const y=`${fe().name}`;me(),n("all"),n(0);const u=n(new Date().getFullYear()),l=n({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),c=()=>{axios.get("/api/chart").then(w=>{w.data,l.value=w.data}).catch(w=>{console.error("Error fetching chart data:",w)})},p=n("today"),x=n(0),P=()=>{axios.get("/api/stats/users",{params:{date_range:p.value}}).then(w=>{x.value=w.data.totalUsersCount})};return _e(()=>{c(),P(),document.title=y}),(w,h)=>(t(),a("div",St,[e("div",Ut,[e("div",Dt,[e("div",Mt," Yearly Progress - "+s(u.value),1),e("div",Vt,[g(d(ht),{data:l.value},null,8,["data"])])]),At])]))}},Tt={class:"content"},Pt={class:"container-fluid"},Lt={class:"row"},Ft={class:"col-lg-12"},It={class:"d-flex justify-content-between mb-2"},Yt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),Y(" Add New Appointment")],-1),qt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Nt={class:"badge badge-pill badge-info"},Rt=["onClick"],Ht={class:"mr-1"},jt={class:"card"},Ot={class:"card-body"},zt={class:"table table-bordered"},Gt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Wt=e("i",{class:"fa fa-edit mr-2"},null,-1),Kt=["onClick"],Xt=e("i",{class:"fa fa-trash text-danger"},null,-1),Jt=[Xt],Zt={__name:"ListAppointments",setup(o){const y=n(),u=n([]),l=()=>{E.get("/api/appointment-status").then(h=>{u.value=h.data})},c=n([]),p=h=>{y.value=h;const f={};h&&(f.status=h),E.get("/api/appointments",{params:f}).then(r=>{c.value=r.data,console.log(r)})},x=Le(()=>u.value.map(h=>h.count).reduce((h,f)=>h+f,0)),P=h=>{const f=c.value.data.find(_=>_.id===h).status.name,r=u.value.find(_=>_.name===f);r.count--},w=h=>{We.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(f=>{f.isConfirmed&&E.delete(`/api/appointments/${h}`).then(r=>{P(h),c.value.data=c.value.data.filter(_=>_.id!==h),We.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{p(),l()}),(h,f)=>{const r=$e("router-link");return t(),a("div",Tt,[e("div",Pt,[e("div",Lt,[e("div",Ft,[e("div",It,[e("div",null,[g(r,{to:"/admin/appointments/create"},{default:Z(()=>[Yt]),_:1})]),e("div",qt,[e("button",{onClick:f[0]||(f[0]=_=>p()),type:"button",class:M(["btn",[typeof y.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Nt,s(x.value),1)],2),(t(!0),a(H,null,W(u.value,_=>(t(),a("button",{onClick:k=>p(_.value),type:"button",class:M(["btn",[y.value===_.value?"btn-secondary":"btn-default"]])},[e("span",Ht,s(_.name),1),e("span",{class:M(["badge badge-pill",`badge-${_.color}`])},s(_.count),3)],10,Rt))),256))])]),e("div",jt,[e("div",Ot,[e("table",zt,[Gt,e("tbody",null,[(t(!0),a(H,null,W(c.value.data,(_,k)=>(t(),a("tr",{key:_.id},[e("td",null,s(k+1),1),e("td",null,s(_.client.first_name)+" "+s(_.client.last_name),1),e("td",null,s(_.start_time),1),e("td",null,s(_.end_time),1),Qt,e("td",null,[g(r,{to:`/admin/appointments/${_.id}/edit`},{default:Z(()=>[Wt]),_:2},1032,["to"]),e("a",{href:"#",onClick:ie(B=>w(_.id),["prevent"])},Jt,8,Kt)])]))),128))])])])])])])])])}}};function he(){return He.options.positionClass="toast-top-right",He.options.closeButton=!0,He.options.progressBar=!0,He}const es={class:"content-header"},ts={class:"container-fluid"},ss={class:"row mb-2"},as={class:"col-sm-6"},os={class:"m-0"},ls={key:0},ns={key:1},ds={class:"col-sm-6"},is={class:"breadcrumb float-sm-right"},cs={class:"breadcrumb-item"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item active"},_s={key:0},ms={key:1},hs={class:"content"},ps={class:"container-fluid"},vs={class:"row"},bs={class:"col-lg-12"},fs={class:"card"},$s={class:"card-body"},gs={class:"row"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),ws={class:"invalid-feedback"},Cs={class:"col-md-6"},Ss={class:"form-group"},Us=e("label",{for:"client"},"Client Name",-1),Ds=["value"],Ms={class:"invalid-feedback"},Vs={class:"row"},As={class:"col-md-6"},Es={class:"form-group"},Ts=e("label",{for:"start-time"},"Start Time",-1),Ps={class:"invalid-feedback"},Ls={class:"col-md-6"},Fs={class:"form-group"},Is=e("label",{for:"end-time"},"End Time",-1),Ys={class:"invalid-feedback"},qs={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Ns={class:"invalid-feedback"},Rs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Ke={__name:"AppointmentForm",setup(o){const y=ze(),u=fe(),l=he(),c=Ae({title:"",client_id:"",start_time:"",end_time:"",description:""}),p=(_,k)=>{r.value?P(_,k):x(_,k)},x=(_,k)=>{E.post("/api/appointments/create",c).then(B=>{y.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(B=>{k.setErrors(B.response.data.errors)})},P=(_,k)=>{E.put(`/api/appointments/${u.params.id}/edit`,c).then(B=>{y.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(B=>{k.setErrors(B.response.data.errors)})},w=n(),h=()=>{E.get("/api/view-clients").then(_=>{w.value=_.data})},f=()=>{E.get(`/api/appointments/${u.params.id}/edit`).then(({data:_})=>{c.title=_.title,c.client_id=_.client_id,c.start_time=_.formatted_start_time,c.end_time=_.formatted_end_time,c.description=_.description})},r=n(!1);return _e(()=>{u.name==="admin.appointments.edit"&&(r.value=!0,f()),Ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),h()}),(_,k)=>{const B=$e("router-link");return t(),a(H,null,[e("div",es,[e("div",ts,[e("div",ss,[e("div",as,[e("h1",os,[r.value?(t(),a("span",ls,"Edit")):(t(),a("span",ns,"Create")),Y(" Appointment")])]),e("div",ds,[e("ol",is,[e("li",cs,[g(B,{to:"/admin/dashboard"},{default:Z(()=>[Y("Home")]),_:1})]),e("li",rs,[g(B,{to:"/admin/appointments"},{default:Z(()=>[Y("Appointments")]),_:1})]),e("li",us,[r.value?(t(),a("span",_s,"Edit")):(t(),a("span",ms,"Create"))])])])])])]),e("div",hs,[e("div",ps,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[g(d(De),{onSubmit:p},{default:Z(({errors:G})=>[e("div",gs,[e("div",ys,[e("div",ks,[xs,X(e("input",{"onUpdate:modelValue":k[0]||(k[0]=K=>c.title=K),type:"text",class:M(["form-control",{"is-invalid":G.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ue,c.title]]),e("span",ws,s(G.title),1)])]),e("div",Cs,[e("div",Ss,[Us,X(e("select",{"onUpdate:modelValue":k[1]||(k[1]=K=>c.client_id=K),id:"client",class:M(["form-control",{"is-invalid":G.client_id}])},[(t(!0),a(H,null,W(w.value,K=>(t(),a("option",{value:K.id,key:K.id},s(K.first_name)+" "+s(K.last_name),9,Ds))),128))],2),[[Pe,c.client_id]]),e("span",Ms,s(G.client_id),1)])])]),e("div",Vs,[e("div",As,[e("div",Es,[Ts,X(e("input",{"onUpdate:modelValue":k[2]||(k[2]=K=>c.start_time=K),type:"text",class:M(["form-control flatpickr",{"is-invalid":G.start_time}]),id:"start-time"},null,2),[[ue,c.start_time]]),e("span",Ps,s(G.start_time),1)])]),e("div",Ls,[e("div",Fs,[Is,X(e("input",{"onUpdate:modelValue":k[3]||(k[3]=K=>c.end_time=K),type:"text",class:M(["form-control flatpickr",{"is-invalid":G.end_time}]),id:"end-time"},null,2),[[ue,c.end_time]]),e("span",Ys,s(G.end_time),1)])])]),e("div",qs,[Bs,X(e("textarea",{"onUpdate:modelValue":k[4]||(k[4]=K=>c.description=K),class:M(["form-control",{"is-invalid":G.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ue,c.description]]),e("span",Ns,s(G.description),1)]),Rs]),_:1})])])])])])])],64)}}},Hs=["checked"],js=["value","selected"],Os=["value","selected"],zs=e("i",{class:"fa fa-edit"},null,-1),Gs=[zs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ws=[Qs],Ks={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){const u=he(),l=o,c=y,p=n([{name:"ADMIN",value:1},{name:"USER",value:2}]),x=n([]),P=()=>{E.get("/api/users/userlist").then(r=>{x.value=r.data}).catch(r=>{console.log(r)})},w=(r,_)=>{E.patch(`/api/users/${r.id}/change-role`,{role:_}).then(()=>{u.success("Role changed successfully!")})},h=(r,_)=>{E.patch(`/api/users/${r.id}/change-sitehead`,{sitehead_user_id:_}).then(()=>{u.success("Sitehead changed successfully!")})},f=()=>{c("toggleSelection",l.user)};return _e(()=>{P()}),(r,_)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:f},null,40,Hs)):T("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:_[0]||(_[0]=k=>w(o.user,k.target.value))},[(t(!0),a(H,null,W(p.value,k=>(t(),a("option",{key:k.id,value:k.value,selected:o.user.role===k.name},s(k.name),9,js))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:_[1]||(_[1]=k=>h(o.user,k.target.value))},[(t(!0),a(H,null,W(x.value,k=>(t(),a("option",{key:k.id,value:k.id,selected:o.user.sitehead_user_id===k.id},s(k.first_name+" "+k.last_name),9,Os))),128))],32)):T("",!0)]),e("td",null,[e("a",{href:"#",onClick:_[2]||(_[2]=ie(k=>r.$emit("editUser",o.user),["prevent"]))},Gs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:_[3]||(_[3]=ie(k=>r.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ws)):T("",!0)])]))}},Xs={class:"content"},Js={class:"container-fluid"},Zs={class:"d-flex justify-content-between mb-2"},ea={class:"d-flex"},ta=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sa={key:0},aa=e("i",{class:"fa fa-trash mr-1"},null,-1),oa={class:"ml-2"},la={class:"card"},na={class:"card-body"},da={class:"dispatch-table"},ia={class:"table-responsive"},ca={class:"table table-bordered table-hover table-sm"},ra=e("th",{style:{width:"10px"}},"#",-1),ua=e("th",null,"Name",-1),_a=e("th",null,"Email",-1),ma=e("th",null,"Registered Date",-1),ha=e("th",null,"Role",-1),pa=e("th",null,"Head",-1),va=e("th",null,"Action",-1),ba={key:0},fa={key:1},$a=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ga=[$a],ya=["index"],ka={class:"card"},xa={class:"card-body"},wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Name:",-1),Sa={class:"list-field"},Ua=e("span",{class:"mb-1 dis"},"Email:",-1),Da={class:"list-field"},Ma=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Va={class:"list-field"},Aa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ea=["onChange"],Ta=["value","selected"],Pa=e("hr",null,null,-1),La={class:"row"},Fa={key:0,class:"col"},Ia=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),qa=["onClick"],Ba=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),Y(" Remove ")],-1),Na=[Ba],Ra={key:1,class:"col"},Ha=["onClick"],ja=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oa={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},za={class:"modal-dialog",role:"document"},Ga={class:"modal-content"},Qa={class:"modal-header"},Wa={class:"modal-title",id:"staticBackdropLabel"},Ka={key:0},Xa={key:1},Ja=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Za={class:"modal-body"},eo={class:"form-group"},to=e("label",{for:"name"},"Username",-1),so={class:"invalid-feedback"},ao={class:"d-flex justify-content-between"},oo={class:"d-flex"},lo={class:"form-group"},no=e("label",{for:"email"},"Email",-1),io={class:"invalid-feedback"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"siteDropdown"},"Gender",-1),_o=e("option",{value:"",disabled:""}," Select a gender ",-1),mo=["value"],ho={class:"d-flex justify-content-between"},po={class:"d-flex"},vo={class:"form-group"},bo=e("label",{for:"first_name"},"Fist Name",-1),fo={class:"invalid-feedback"},$o={class:"d-flex"},go={class:"form-group"},yo=e("label",{for:"last_name"},"Last Name",-1),ko={class:"invalid-feedback"},xo={class:"form-group"},wo=e("label",{for:"position"},"Position",-1),Co={class:"invalid-feedback"},So={class:"form-group"},Uo=e("label",{for:"password"},"Password",-1),Do={class:"invalid-feedback"},Mo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Vo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ao={class:"modal-dialog",role:"document"},Eo={class:"modal-content"},To=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Po={class:"modal-footer"},Lo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Fo={__name:"UserList",setup(o){const y=`${fe().name}`,u=me(),l=he(),c=n({data:[]}),p=n(!1),x=n(),P=n(null);n([]),n(null);const w=n([{name:"Male",value:1},{name:"Female",value:2}]),h=(S=1)=>{E.get(`/api/users?page=${S}`,{params:{query:I.value}}).then(A=>{c.value=A.data,i.value=[],pe.value=!1})},f=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().required().min(8),gender:q().required()}),r=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().when((S,A)=>S?A.required().min(8):A),gender:q().required()}),_=n([]),k=()=>{E.get("/api/users/userlist").then(S=>{_.value=S.data}).catch(S=>{console.log(S)})},B=(S,A)=>{E.patch(`/api/users/${S.id}/change-sitehead`,{sitehead_user_id:A}).then(()=>{l.success("Sitehead changed successfully!")})},G=(S,{resetForm:A,setErrors:v})=>{E.post("/api/users",S).then(m=>{c.value.data.unshift(m.data),$("#userFormModal").modal("hide"),A(),l.success("User created successfully!")}).catch(m=>{m.response.data.errors&&(v(m.response.data.errors),l.warning(m.response.data.errors.name))})},K=()=>{p.value=!1,$("#userFormModal").modal("show")},J=S=>{p.value=!0,P.value.resetForm(),$("#userFormModal").modal("show"),x.value={id:S.id,name:S.name,email:S.email,sitehead_user_id:S.sitehead_user_id,first_name:S.first_name,last_name:S.last_name,gender:S.gender}},O=(S,{setErrors:A})=>{E.put("/api/users/"+x.value.id,S).then(v=>{const m=c.value.data.findIndex(le=>le.id===v.data.id);c.value.data[m]=v.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(v=>{A(v.response.data.errors),console.log(v)})},C=(S,A)=>{p.value?O(S,A):G(S,A)},I=n(null),i=n([]),V=S=>{const A=i.value.indexOf(S.id);A===-1?i.value.push(S.id):i.value.splice(A,1),console.log(i.value)},j=n(null),se=S=>{j.value=S,$("#deleteUserModal").modal("show")},ee=()=>{E.delete(`/api/users/${j.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),c.value.data=c.value.data.filter(S=>S.id!==j.value)})},de=()=>{E.delete("/api/users",{data:{ids:i.value}}).then(S=>{c.value.data=c.value.data.filter(A=>!i.value.includes(A.id)),i.value=[],pe.value=!1,l.success(S.data.message)})},pe=n(!1),z=()=>{pe.value?i.value=c.value.data.map(S=>S.id):i.value=[],console.log(i.value)};return be(I,Te.exports.debounce(()=>{h()},300)),_e(()=>{h(),k(),document.title=y}),(S,A)=>{const v=$e("font");return t(),a(H,null,[e("div",Xs,[e("div",Js,[e("div",Zs,[e("div",ea,[e("button",{onClick:K,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ta,Y(" User ")]),i.value.length>0?(t(),a("div",sa,[e("button",{onClick:de,type:"button",class:"ml-2 mb-2 btn btn-danger"},[aa,Y(" Delete Selected ")]),e("span",oa,"Selected "+s(i.value.length)+" users",1)])):T("",!0)]),e("div",null,[X(e("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=m=>I.value=m),class:"form-control",placeholder:"Search..."},null,512),[[ue,I.value]])])]),e("div",la,[e("div",na,[e("div",da,[e("div",ia,[g(v,{size:"2"},{default:Z(()=>[e("table",ca,[e("thead",null,[e("tr",null,[e("th",null,[X(e("input",{type:"checkbox","onUpdate:modelValue":A[1]||(A[1]=m=>pe.value=m),onChange:z},null,544),[[Ue,pe.value]])]),ra,ua,_a,ma,ha,pa,va])]),c.value.data.length>0?(t(),a("tbody",ba,[(t(!0),a(H,null,W(c.value.data,(m,le)=>(t(),ce(Ks,{key:m.id,user:m,index:le,onEditUser:J,onConfirmUserDeletion:se,onToggleSelection:V,"select-all":pe.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",fa,ga))])]),_:1})])]),(t(!0),a(H,null,W(c.value.data,(m,le)=>(t(),a("div",{class:"dispatch-list",key:m.id,index:le},[e("div",ka,[e("div",xa,[e("div",wa,[Ca,e("span",null,s(m.first_name+" "+m.last_name),1)]),e("div",Sa,[Ua,e("span",null,s(m.email),1)]),e("div",Da,[Ma,e("span",null,s(m.formatted_created_at),1)]),e("div",Va,[Aa,e("span",null,[m.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:L=>B(m,L.target.value)},[(t(!0),a(H,null,W(_.value,L=>(t(),a("option",{key:L.id,value:L.id,selected:L.sitehead_user_id===L.id},s(L.first_name+" "+L.last_name),9,Ta))),128))],40,Ea)):T("",!0)])]),Pa,e("div",La,[d(u).user.role==="ADMIN"?(t(),a("div",Fa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:L=>J(m)},[Ya,Y(" Edit ")],8,Ia),e("button",{class:"btn btnsm btn-danger btn-block",onClick:L=>se(m.id)},Na,8,qa)])):T("",!0),d(u).user.role==="USER"?(t(),a("div",Ra,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:L=>J(m)},[ja,Y(" Edit ")],8,Ha)])):T("",!0)])])])],8,ya))),128))])]),g(d(Ie),{data:c.value,onPaginationChangePage:h},null,8,["data"])])]),e("div",Oa,[e("div",za,[e("div",Ga,[e("div",Qa,[e("h5",Wa,[p.value?(t(),a("span",Ka,"Edit User")):(t(),a("span",Xa,"Add New User"))]),Ja]),g(d(De),{ref_key:"form",ref:P,onSubmit:C,"validation-schema":p.value?d(r):d(f),"initial-values":x.value},{default:Z(({errors:m})=>[e("div",Za,[e("div",eo,[to,g(d(R),{name:"name",type:"text",class:M(["form-control",{"is-invalid":m.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",so,s(m.name),1)]),e("div",ao,[e("div",oo,[e("div",lo,[no,g(d(R),{name:"email",type:"email",class:M(["form-control",{"is-invalid":m.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",io,s(m.email),1)])]),e("div",co,[e("div",ro,[uo,g(d(R),{id:"gender",name:"gender",as:"select",class:M(["form-control",{"is-invalid":m.gender}])},{default:Z(()=>[_o,(t(!0),a(H,null,W(w.value,le=>(t(),a("option",{key:le.name,value:le.name},s(le.name),9,mo))),128))]),_:2},1032,["class"])])])]),e("div",ho,[e("div",po,[e("div",vo,[bo,g(d(R),{name:"first_name",type:"text",class:M(["form-control",{"is-invalid":m.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",fo,s(m.first_name),1)])]),e("div",$o,[e("div",go,[yo,g(d(R),{name:"last_name",type:"text",class:M(["form-control",{"is-invalid":m.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",ko,s(m.last_name),1)])])]),e("div",xo,[wo,g(d(R),{name:"position",type:"text",class:M(["form-control",{"is-invalid":m.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",Co,s(m.position),1)]),e("div",So,[Uo,g(d(R),{name:"password",type:"password",class:M(["form-control",{"is-invalid":m.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Do,s(m.password),1)])]),Mo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Vo,[e("div",Ao,[e("div",Eo,[To,e("div",Po,[Lo,e("button",{onClick:ie(ee,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Io=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Yo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),qo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Bo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ee={__name:"ContentLoader",setup(o){return(y,u)=>y.isloading?(t(),ce(d(kt),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Io,Yo,qo,Bo]),_:1})):T("",!0)}};var ge=(o,y)=>{const u=o.__vccOpts||o;for(const[l,c]of y)u[l]=c;return u};const Ye=o=>(Me("data-v-3a144c01"),o=o(),Ve(),o),No={class:"content"},Ro={class:"container-fluid"},Ho={class:"row"},jo={class:"col-md-6"},Oo={class:"card"},zo=we('<ul class="nav nav-tabs" id="settingsTabs" data-v-3a144c01><li class="nav-item" data-v-3a144c01><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-3a144c01>General Settings</a></li><li class="nav-item" data-v-3a144c01><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-3a144c01>Site Settings</a></li></ul>',1),Go={class:"tab-content"},Qo={class:"tab-pane fade show active",id:"general-tab"},Wo={class:"card-body"},Ko={class:"form-group"},Xo=Ye(()=>e("label",{for:"appName"},"App Display Name",-1)),Jo={key:0,class:"text-danger text-sm"},Zo={class:"form-group"},el=Ye(()=>e("label",{for:"dateFormat"},"Date Format",-1)),tl=we('<option value="m/d/Y" data-v-3a144c01> MM/DD/YYYY </option><option value="d/m/Y" data-v-3a144c01> DD/MM/YYYY </option><option value="Y-m-d" data-v-3a144c01> YYYY-MM-DD </option><option value="F j, Y" data-v-3a144c01> Month DD, YYYY </option><option value="j F Y" data-v-3a144c01> DD Month YYYY </option>',5),sl=[tl],al={key:0,class:"text-danger text-sm"},ol={class:"form-group"},ll=Ye(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),nl={key:0,class:"text-danger text-sm"},dl=Ye(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),Y("Save Changes ")])],-1)),il={class:"tab-pane fade",id:"site"},cl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},rl={key:0,class:"list-group-item mt-2"},ul={class:"d-flex justify-content-between"},_l={class:"d-flex"},ml=["onClick"],hl={class:"d-flex"},pl=["onClick"],vl={class:"m-2 list-unstyled"},bl={key:1},fl={key:0,class:"list-group-item mt-2"},$l={class:"d-flex justify-content-between"},gl={class:"d-flex"},yl=["onClick"],kl={key:1,class:"mt-2 text-center"},xl=Ye(()=>e("span",null,"No Site",-1)),wl=[xl],Cl={class:"input-group"},Sl=Ye(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Ul={__name:"UpdateSetting",setup(o){const y=`${fe().name}`,u=n([]),l=he(),c=n(!0),p=n([]),x=n(!1),P=n(),w=n({id:"",site_name:"",is_active:""}),h=()=>{x.value=!0,axios.get("/api/site").then(C=>{x.value=!1,p.value=C.data}).catch(C=>{console.log(C)})},f=Le(()=>Array.isArray(p.value)?p.value.filter(C=>C.is_active===0):[]),r=Le(()=>f.value.length),_=()=>{c.value=!c.value},k=()=>{var C,I;x.value=!0,axios.post("/api/site",{id:(C=w.value)==null?void 0:C.id,site_name:(I=w.value)==null?void 0:I.site_name,is_active:!0}).then(i=>{h(),w.value={id:null,site_name:"",is_active:!0},l.success(i.data.message),x.value=!1}).catch(i=>{i.response&&i.response.status===422&&(J.value=i.response.data.errors)})},B=C=>{w.value.is_active=C.is_active===1?0:1,axios.post("/api/site",{id:C.id,site_name:C.site_name,is_active:w.value.is_active}).then(I=>{axios.get("/api/site").then(i=>{p.value=i.data}).catch(i=>{console.error("Error fetching tasks:",i),l.error("Error fetching tasks. Please try again.")})}).catch(I=>{console.error("Error adding new task:",I),l.error("Error adding new task. Please try again.")})},G=C=>{w.value.id=C.id,w.value.site_name=C.site_name},K=()=>{axios.get("/api/settings").then(C=>{u.value=C.data})},J=n(),O=()=>{J.value="",axios.post("/api/settings",u.value).then(C=>{l.success("Settings updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(J.value=C.response.data.errors)})};return _e(()=>{h(),K(),document.title=y}),(C,I)=>(t(),a("div",No,[e("div",Ro,[e("div",Ho,[e("div",jo,[e("div",Oo,[zo,e("div",Go,[e("div",Qo,[e("form",{onSubmit:I[3]||(I[3]=ie(i=>O(),["prevent"]))},[e("div",Wo,[e("div",Ko,[Xo,X(e("input",{"onUpdate:modelValue":I[0]||(I[0]=i=>u.value.app_name=i),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ue,u.value.app_name]]),J.value&&J.value.app_name?(t(),a("span",Jo,s(J.value.app_name[0]),1)):T("",!0)]),e("div",Zo,[el,X(e("select",{"onUpdate:modelValue":I[1]||(I[1]=i=>u.value.date_format=i),class:"form-control"},sl,512),[[Pe,u.value.date_format]]),J.value&&J.value.date_format?(t(),a("span",al,s(J.value.date_format[0]),1)):T("",!0)]),e("div",ol,[ll,X(e("input",{"onUpdate:modelValue":I[2]||(I[2]=i=>u.value.pagination_limit=i),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ue,u.value.pagination_limit]]),J.value&&J.value.pagination_limit?(t(),a("span",nl,s(J.value.pagination_limit[0]),1)):T("",!0)])]),dl],32)]),e("div",il,[p.value.length>0?(t(),a("div",cl,[x.value?(t(),ce(Ee,{key:0})):T("",!0),(t(!0),a(H,null,W(p.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===1?(t(),a("li",rl,[e("div",ul,[e("div",_l,[e("i",{onClick:V=>B(i),class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,ml),e("span",{class:M({"font-italic text-red":i.is_active===0,"":i.is_active===1})},s(i.site_name),3)]),e("div",hl,[e("i",{class:"fa fa-pen text-success",onClick:V=>G(i)},null,8,pl)])])])):T("",!0)]))),128)),e("li",vl,[r.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:_},[e("i",{class:M(["fa",c.value?"fa-arrow-down":"fa-arrow-right"])},null,2),Y(" \xA0Deactive List "+s(r.value),1)])):T("",!0)]),c.value?(t(),a("div",bl,[(t(!0),a(H,null,W(p.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===0?(t(),a("li",fl,[e("div",$l,[e("div",gl,[e("i",{onClick:V=>B(i),class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,yl),e("span",{class:M({"font-italic text-red":i.is_active===0,"":i.is_active===1})},[e("del",null,s(i.site_name),1)],2)])])])):T("",!0)]))),128))])):T("",!0)])):(t(),a("div",kl,wl)),g(d(De),{ref:"form",onSubmit:k,"initial-values":P.value},{default:Z(()=>[g(d(R),{name:"id",modelValue:w.value.id,"onUpdate:modelValue":I[4]||(I[4]=i=>w.value.id=i),type:"text",hidden:""},null,8,["modelValue"]),e("div",Cl,[g(d(R),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:w.value.site_name,"onUpdate:modelValue":I[5]||(I[5]=i=>w.value.site_name=i),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Sl])]),_:1},8,["initial-values"])])])])])])])]))}};var Dl=ge(Ul,[["__scopeId","data-v-3a144c01"]]);const Ml={class:"content"},Vl={class:"container-fluid"},Al={class:"row"},El={class:"col-md-3"},Tl={class:"card card-primary card-outline"},Pl={class:"card-body box-profile"},Ll={class:"text-center"},Fl=["src"],Il={class:"profile-username text-center"},Yl={class:"text-muted text-center"},ql={class:"col-md-9"},Bl={class:"card"},Nl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Rl={class:"card-body"},Hl={class:"tab-content"},jl={class:"tab-pane active",id:"profile"},Ol={class:"form-group row"},zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Gl={class:"col-sm-10"},Ql={key:0,class:"text-danger text-sm"},Wl={class:"form-group row"},Kl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Xl={class:"col-sm-10"},Jl={key:0,class:"text-danger text-sm"},Zl={class:"form-group row"},en=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),tn={class:"col-sm-10"},sn={key:0,class:"text-danger text-sm"},an={class:"form-group row"},on=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),ln={class:"col-sm-10"},nn={key:0,class:"text-danger text-sm"},dn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),Y(" Save Changes")])])],-1),cn={class:"tab-pane",id:"changePassword"},rn={class:"form-group row"},un=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),_n={class:"col-sm-9"},mn={key:0,class:"text-danger text-sm"},hn={class:"form-group row"},pn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),vn={class:"col-sm-9"},bn={key:0,class:"text-danger text-sm"},fn={class:"form-group row"},$n=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),gn={class:"col-sm-9"},yn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),Y(" Save Changes")])])],-1),kn={__name:"UpdateProfile",setup(o){const y=me(),u=he(),l=`${fe().name}`,c=n([]),p=()=>{axios.put("/api/profile",{name:y.user.name,first_name:y.user.first_name,last_name:y.user.last_name,email:y.user.email,role:y.user.role}).then(r=>{u.success("Profile updated successfully!")}).catch(r=>{r.response&&r.response.status===422&&(c.value=r.response.data.errors)})},x=Ae({currentPassword:"",password:"",passwordConfirmation:""}),P=()=>{c.value="",axios.post("/api/change-user-password",x).then(r=>{u.success(r.data.message);for(const _ in x)x[_]=""}).catch(r=>{r.response&&r.response.status===422&&(c.value=r.response.data.errors)})},w=n(null),h=()=>{w.value.click()},f=r=>{const _=r.target.files[0];y.user.avatar=URL.createObjectURL(_);const k=new FormData;k.append("profile_picture",_),axios.post("/api/upload-profile-image",k).then(B=>{u.success("Image uploaded successfully!")})};return _e(()=>{document.title=l}),(r,_)=>(t(),a("div",Ml,[e("div",Vl,[e("div",Al,[e("div",El,[e("div",Tl,[e("div",Pl,[e("div",Ll,[e("input",{onChange:f,ref_key:"fileInput",ref:w,type:"file",class:"d-none"},null,544),e("img",{onClick:h,class:"profile-user-img img-circle",src:d(y).user.avatar,alt:"User profile picture"},null,8,Fl)]),e("h3",Il,s(d(y).user.name),1),e("p",Yl,s(d(y).user.role),1)])])]),e("div",ql,[e("div",Bl,[Nl,e("div",Rl,[e("div",Hl,[e("div",jl,[e("form",{onSubmit:_[4]||(_[4]=ie(k=>p(),["prevent"])),class:"form-horizontal"},[e("div",Ol,[zl,e("div",Gl,[X(e("input",{"onUpdate:modelValue":_[0]||(_[0]=k=>d(y).user.name=k),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ue,d(y).user.name]]),c.value&&c.value.name?(t(),a("span",Ql,s(c.value.name[0]),1)):T("",!0)])]),e("div",Wl,[Kl,e("div",Xl,[X(e("input",{"onUpdate:modelValue":_[1]||(_[1]=k=>d(y).user.first_name=k),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ue,d(y).user.first_name]]),c.value&&c.value.first_name?(t(),a("span",Jl,s(c.value.first_name[0]),1)):T("",!0)])]),e("div",Zl,[en,e("div",tn,[X(e("input",{"onUpdate:modelValue":_[2]||(_[2]=k=>d(y).user.last_name=k),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ue,d(y).user.last_name]]),c.value&&c.value.last_name?(t(),a("span",sn,s(c.value.last_name[0]),1)):T("",!0)])]),e("div",an,[on,e("div",ln,[X(e("input",{"onUpdate:modelValue":_[3]||(_[3]=k=>d(y).user.email=k),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ue,d(y).user.email]]),c.value&&c.value.email?(t(),a("span",nn,s(c.value.email[0]),1)):T("",!0)])]),dn],32)]),e("div",cn,[e("form",{onSubmit:ie(P,["prevent"]),class:"form-horizontal"},[e("div",rn,[un,e("div",_n,[X(e("input",{"onUpdate:modelValue":_[5]||(_[5]=k=>x.currentPassword=k),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ue,x.currentPassword]]),c.value&&c.value.current_password?(t(),a("span",mn,s(c.value.current_password[0]),1)):T("",!0)])]),e("div",hn,[pn,e("div",vn,[X(e("input",{"onUpdate:modelValue":_[6]||(_[6]=k=>x.password=k),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ue,x.password]]),c.value&&c.value.password?(t(),a("span",bn,s(c.value.password[0]),1)):T("",!0)])]),e("div",fn,[$n,e("div",gn,[X(e("input",{"onUpdate:modelValue":_[7]||(_[7]=k=>x.passwordConfirmation=k),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ue,x.passwordConfirmation]])])]),yn],32)])])])])])])])]))}};const qe=o=>(Me("data-v-1e686d1e"),o=o(),Ve(),o),xn={class:"login-box"},wn={class:"card card-outline card-primary"},Cn=qe(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Sn={class:"card-body"},Un={key:0,class:"alert alert-danger",role:"alert"},Dn={class:"input-group mb-3"},Mn=qe(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Vn={class:"input-group mb-3"},An=qe(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),En=["type"],Tn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Pn=qe(()=>e("div",{class:"input-group mb-3"},null,-1)),Ln={class:"row"},Fn={class:"col-12 mb-2"},In=["disabled"],Yn={key:0,class:"spinner-border spinner-border-sm",role:"status"},qn=qe(()=>e("span",{class:"sr-only"},"Loading...",-1)),Bn=[qn],Nn={key:1},Rn=qe(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Hn="Login",jn={__name:"Login",setup(o){const y=n(!1),u=he();me();const l=ze(),c=Ae({email:"",password:""}),p=n(!1),x=n(""),P=()=>{p.value=!0,x.value="",E.post("/login",c).then(()=>{l.push("/dashboard"),u.success("Login Success")}).catch(w=>{u.error(w.response.data.message)}).finally(()=>{p.value=!1})};return _e(()=>{document.title=Hn}),(w,h)=>(t(),a("div",xn,[e("div",wn,[Cn,e("div",Sn,[x.value?(t(),a("div",Un,s(x.value),1)):T("",!0),e("form",{onSubmit:ie(P,["prevent"])},[e("div",Dn,[Mn,X(e("input",{"onUpdate:modelValue":h[0]||(h[0]=f=>c.email=f),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ue,c.email]])]),e("div",Vn,[An,X(e("input",{"onUpdate:modelValue":h[1]||(h[1]=f=>c.password=f),class:"form-control",placeholder:"Password",type:y.value?"text":"password",onClick:h[2]||(h[2]=(...f)=>w.handleKeyClick&&w.handleKeyClick(...f))},null,8,En),[[_t,c.password]])]),e("label",Tn,[X(e("input",{type:"checkbox","onUpdate:modelValue":h[3]||(h[3]=f=>y.value=f)},null,512),[[Ue,y.value]]),Y(" Show Password ")]),Pn,e("div",Ln,[e("div",Fn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:p.value},[p.value?(t(),a("div",Yn,Bn)):(t(),a("span",Nn,"Sign In"))],8,In)])])],32),Rn])])]))}};var On=ge(jn,[["__scopeId","data-v-1e686d1e"]]);const zn=["checked"],Gn=e("i",{class:"fa fa-edit"},null,-1),Qn=[Gn],Wn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Kn=[Wn],Xn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){he();const u=o,l=y,c=()=>{l("toggleSelection",u.item)};return(p,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,zn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:x[0]||(x[0]=ie(P=>p.$emit("editUser",o.item),["prevent"]))},Qn),e("a",{href:"#",onClick:x[1]||(x[1]=ie(P=>p.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Kn)])]))}},Jn={class:"content"},Zn={class:"container-fluid"},ed={class:"d-flex justify-content-between"},td={class:"d-flex"},sd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ad={key:0},od=e("i",{class:"fa fa-trash mr-1"},null,-1),ld={class:"ml-2"},nd={class:"card"},dd={class:"card-body"},id={class:"table table-bordered"},cd=e("th",{style:{width:"10px"}},"#",-1),rd=e("th",null,"Name",-1),ud=e("th",null,"Email",-1),_d=e("th",null,"Registered Date",-1),md=e("th",null,"Options",-1),hd={key:0},pd={key:1},vd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),bd=[vd],fd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},$d={class:"modal-dialog",role:"document"},gd={class:"modal-content"},yd={class:"modal-header"},kd={class:"modal-title",id:"staticBackdropLabel"},xd={key:0},wd={key:1},Cd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Sd={class:"modal-body"},Ud={class:"form-group"},Dd=e("label",{for:"fist_name"},"First Name",-1),Md={class:"invalid-feedback"},Vd={class:"form-group"},Ad=e("label",{for:"last_name"},"Last Name",-1),Ed={class:"invalid-feedback"},Td={class:"form-group"},Pd=e("label",{for:"email"},"Email",-1),Ld={class:"invalid-feedback"},Fd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Id={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yd={class:"modal-dialog",role:"document"},qd={class:"modal-content"},Bd=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Nd={class:"modal-footer"},Rd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Hd={__name:"ClientList",setup(o){const y=he(),u=n({data:[]}),l=n(!1),c=n(),p=n(null),x=(j=1)=>{E.get(`/api/clients?page=${j}`,{params:{query:B.value}}).then(se=>{u.value=se.data,G.value=[],i.value=!1})},P=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),w=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),h=(j,{resetForm:se,setErrors:ee})=>{E.post("/api/clients",j).then(de=>{u.value.data.unshift(de.data),$("#clientFormModal").modal("hide"),se(),y.success("User created successfully!")}).catch(de=>{de.response.data.errors&&ee(de.response.data.errors)})},f=()=>{l.value=!1,$("#clientFormModal").modal("show")},r=j=>{l.value=!0,p.value.resetForm(),$("#clientFormModal").modal("show"),c.value={id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}},_=(j,{setErrors:se})=>{E.put("/api/clients/"+c.value.id,j).then(ee=>{const de=u.value.data.findIndex(pe=>pe.id===ee.data.id);u.value.data[de]=ee.data,$("#clientFormModal").modal("hide"),y.success("Client updated successfully!")}).catch(ee=>{se(ee.response.data.errors),console.log(ee)})},k=(j,se)=>{l.value?_(j,se):h(j,se)},B=n(null),G=n([]),K=j=>{const se=G.value.indexOf(j.id);se===-1?G.value.push(j.id):G.value.splice(se,1),console.log(G.value)},J=n(null),O=j=>{J.value=j,$("#deleteClientModal").modal("show")},C=()=>{E.delete(`/api/clients/${J.value}`).then(()=>{$("#deleteClientModal").modal("hide"),y.success("Client deleted successfully!"),u.value.data=u.value.data.filter(j=>j.id!==J.value)})},I=()=>{E.delete("/api/clients",{data:{ids:G.value}}).then(j=>{u.value.data=u.value.data.filter(se=>!G.value.includes(se.id)),G.value=[],i.value=!1,y.success(j.data.message)})},i=n(!1),V=()=>{i.value?G.value=u.value.data.map(j=>j.id):G.value=[],console.log(G.value)};return be(B,Te.exports.debounce(()=>{x()},300)),_e(()=>{x()}),(j,se)=>(t(),a(H,null,[e("div",Jn,[e("div",Zn,[e("div",ed,[e("div",td,[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-primary"},[sd,Y(" Add New Client ")]),G.value.length>0?(t(),a("div",ad,[e("button",{onClick:I,type:"button",class:"ml-2 mb-2 btn btn-danger"},[od,Y(" Delete Selected ")]),e("span",ld,"Selected "+s(G.value.length)+" clients",1)])):T("",!0)]),e("div",null,[X(e("input",{type:"text","onUpdate:modelValue":se[0]||(se[0]=ee=>B.value=ee),class:"form-control",placeholder:"Search..."},null,512),[[ue,B.value]])])]),e("div",nd,[e("div",dd,[e("table",id,[e("thead",null,[e("tr",null,[e("th",null,[X(e("input",{type:"checkbox","onUpdate:modelValue":se[1]||(se[1]=ee=>i.value=ee),onChange:V},null,544),[[Ue,i.value]])]),cd,rd,ud,_d,md])]),u.value.data.length>0?(t(),a("tbody",hd,[(t(!0),a(H,null,W(u.value.data,(ee,de)=>(t(),ce(Xn,{key:ee.id,item:ee,index:de,onEditUser:r,onConfirmUserDeletion:O,onToggleSelection:K,"select-all":i.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",pd,bd))])])]),g(d(Ie),{data:u.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",fd,[e("div",$d,[e("div",gd,[e("div",yd,[e("h5",kd,[l.value?(t(),a("span",xd,"Edit Client")):(t(),a("span",wd,"Add New Client"))]),Cd]),g(d(De),{ref_key:"form",ref:p,onSubmit:k,"validation-schema":l.value?d(w):d(P),"initial-values":c.value},{default:Z(({errors:ee})=>[e("div",Sd,[e("div",Ud,[Dd,g(d(R),{name:"first_name",type:"text",class:M(["form-control",{"is-invalid":ee.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Md,s(ee.first_name),1)]),e("div",Vd,[Ad,g(d(R),{name:"last_name",type:"text",class:M(["form-control",{"is-invalid":ee.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ed,s(ee.last_name),1)]),e("div",Td,[Pd,g(d(R),{name:"email",type:"email",class:M(["form-control",{"is-invalid":ee.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ld,s(ee.email),1)])]),Fd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Id,[e("div",Yd,[e("div",qd,[Bd,e("div",Nd,[Rd,e("button",{onClick:ie(C,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Ge=o=>(Me("data-v-36595330"),o=o(),Ve(),o),jd={style:{"text-align":"center"}},Od={key:0},zd=Ge(()=>e("i",{class:"fa fa-edit"},null,-1)),Gd=[zd],Qd=Ge(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Wd=[Qd],Kd={key:1,style:{"text-align":"center"}},Xd={key:0},Jd=Ge(()=>e("i",{class:"fa fa-edit"},null,-1)),Zd=[Jd],ei={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:y}){he();const u=me();return(l,c)=>{const p=$e("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",jd,[o.item.statusid==2?(t(),ce(p,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):T("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:M(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):T("",!0)]),e("td",null,s(o.item.created_at),1),d(u).user.role==="ADMIN"?(t(),a("td",Od,[e("a",{href:"#",onClick:c[0]||(c[0]=ie(x=>l.$emit("editUser",o.item),["prevent"]))},Gd),e("a",{href:"#",onClick:c[1]||(c[1]=ie(x=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Wd)])):T("",!0),d(u).user.role==="USER"?(t(),a("td",Kd,[o.item.statusid!=2?(t(),a("div",Xd,[o.item.created_by==d(u).user.id?(t(),a("a",{key:0,href:"#",onClick:c[2]||(c[2]=ie(x=>l.$emit("editUser",o.item),["prevent"]))},Zd)):T("",!0)])):T("",!0)])):T("",!0)])}}};var ti=ge(ei,[["__scopeId","data-v-36595330"]]);const si={class:"content"},ai={class:"container-fluid"},oi={class:"d-flex justify-content-between"},li={class:"d-flex"},ni=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),di={key:0},ii=e("i",{class:"fa fa-trash mr-1"},null,-1),ci={class:"ml-2"},ri={class:"card"},ui={class:"card-body"},_i={class:"dispatch-table"},mi={class:"table-responsive"},hi={class:"table table-bordered table-sm"},pi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),vi={key:0},bi={key:1},fi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),$i=[fi],gi=["item","index"],yi={class:"card"},ki={class:"card-body"},xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Tech #:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"User:",-1),Ui={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Branch:",-1),Mi={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Department:",-1),Ai={class:"list-field"},Ei=e("span",{class:"mb-1 dis"},"Created by:",-1),Ti={class:"list-field"},Pi=e("span",{class:"mb-1 dis"},"Status:",-1),Li={class:"list-field"},Fi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ii=e("hr",null,null,-1),Yi={class:"row"},qi={key:0,class:"col"},Bi=["onClick"],Ni=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ri=["onClick"],Hi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),Y(" Remove ")],-1),ji=[Hi],Oi={key:0,class:"btn btnsm btn-success btn-block"},zi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Gi={key:1,class:"col"},Qi={key:0},Wi=["onClick"],Ki=e("i",{class:"fa fa-pencil-square-o"},null,-1),Xi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ji={class:"modal-dialog modal-lg",role:"document"},Zi={class:"modal-content"},ec={class:"modal-header"},tc={class:"modal-title",id:"staticBackdropLabel"},sc={key:0},ac={key:1},oc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),lc={class:"modal-body"},nc={class:"col-md-12"},dc={class:"row"},ic={class:"col-6"},cc={class:"form-group"},rc=e("label",{for:"branch"},"Branch",-1),uc=e("option",{value:"",disabled:""}," Select Branch ",-1),_c=["value"],mc={class:"invalid-feedback"},hc={class:"form-group"},pc=e("label",{for:"department"},"Department",-1),vc={class:"invalid-feedback"},bc={class:"form-group"},fc=e("label",{for:"warehouse"},"warehouse",-1),$c={class:"invalid-feedback"},gc={class:"form-group"},yc=e("label",{for:"user"},"User",-1),kc={class:"invalid-feedback"},xc={class:"col-6"},wc={class:"form-group"},Cc=e("label",{for:"brand"},"Brand",-1),Sc={class:"form-group"},Uc=e("label",{for:"model"},"Model",-1),Dc={class:"invalid-feedback"},Mc={class:"form-group"},Vc=e("label",{for:"assettag"},"Asset tag",-1),Ac={class:"invalid-feedback"},Ec={class:"form-group"},Tc=e("label",{for:"serialnum"},"Serial number",-1),Pc={class:"invalid-feedback"},Lc={class:"col-12"},Fc={class:"form-group"},Ic=e("label",{for:"problem"},"Report Problem",-1),Yc={class:"invalid-feedback"},qc={class:"form-group"},Bc=e("label",{for:"assconducted"},"Assessment conducted",-1),Nc={class:"invalid-feedback"},Rc={class:"form-group"},Hc=e("label",{for:"recommendation"},"Recommendation",-1),jc={class:"invalid-feedback"},Oc={class:"modal-footer"},zc={key:0},Gc={key:0,class:"btn-group float-l ml-auto"},Qc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Wc={class:"dropdown-menu",role:"menu"},Kc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Xc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Jc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Zc={class:"modal-dialog",role:"document"},er={class:"modal-content"},tr=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),sr={class:"modal-footer"},ar=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),or={__name:"TechList",setup(o){const y=n(),u=n(),l=he(),c=n({data:[]});n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const p=`${fe().name}`,x=()=>{E.get("/api/getsite").then(A=>{u.value=A.data.sites}).catch(A=>{console.log(A)})},P=n(!1),w=n(!1),h=n(),f=Ae({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),r=me();n(null);const _=(A=1)=>{P.value=!0,E.get(`/api/tech-recommendations?page=${A}`,{params:{query:i.value}}).then(v=>{P.value=!1,c.value=v.data,V.value=[],S.value=!1})},k=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),B=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),G=(A,{resetForm:v,setErrors:m})=>{E.post("/api/tech-recommendations",A).then(le=>{c.value.data.unshift(le.data),$("#FormModal").modal("hide"),v(),l.success("Data created successfully!")}).catch(le=>{le.response.data.errors&&m(le.response.data.errors)})},K=()=>{w.value=!1,$("#FormModal").modal("show")},J=()=>{f.id="",f.recommnum="",f.branch="",f.department="",f.warehouse="",f.user="",f.problem="",f.brand="",f.model="",f.assettag="",f.serialnum="",f.assconducted="",f.recommendation="",f.ceated_by=""},O=A=>{y.value=A.id,w.value=!0,J(),f.id=A.id,f.branch=A.branch,f.department=A.department,f.warehouse=A.warehouse,f.user=A.user,f.problem=A.problem,f.brand=A.brand,f.model=A.model,f.assettag=A.assettag,f.serialnum=A.serialnum,f.assconducted=A.assconducted,f.recommendation=A.recommendation,f.ceated_by=A.ceated_by,f.recommnum=A.recommnum,$("#FormModal").modal("show")},C=(A,{setErrors:v})=>{E.put("/api/tech-recommendations/"+A.id,A).then(m=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(m=>{v(m.response.data.errors),console.log(m)})},I=(A,v)=>{w.value?C(f,v):G(A,v)},i=n(null),V=n([]),j=A=>{const v=V.value.indexOf(A.id);v===-1?V.value.push(A.id):V.value.splice(v,1),console.log(V.value)},se=n(null),ee=A=>{se.value=A,$("#deleteClientModal").modal("show")},de=()=>{E.delete(`/api/tech-recommendations/${se.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),c.value.data=c.value.data.filter(A=>A.id!==se.value)})},pe=()=>{E.delete("/api/tech-recommendations",{data:{ids:V.value}}).then(A=>{c.value.data=c.value.data.filter(v=>!V.value.includes(v.id)),V.value=[],S.value=!1,l.success(A.data.message)})},z=A=>{E.post("/api/tech-getaction",{id:y.value,status:A}).then(v=>{$("#FormModal").modal("hide"),_()}).catch(v=>{console.log(v.message)})},S=n(!1);return be(i,Te.exports.debounce(()=>{_()},300)),_e(()=>{_(),x(),document.title=p}),(A,v)=>{const m=$e("font"),le=$e("router-link");return t(),a(H,null,[e("div",si,[e("div",ai,[e("div",oi,[e("div",li,[e("button",{onClick:K,type:"button",class:"mb-2 btn btn-primary"},[ni,Y(" TechRecom ")]),V.value.length>0?(t(),a("div",di,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ii,Y(" Delete Selected ")]),e("span",ci,"Selected "+s(V.value.length)+" techrecomm",1)])):T("",!0)]),e("div",null,[X(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=L=>i.value=L),class:"form-control",placeholder:"Search..."},null,512),[[ue,i.value]])])]),e("div",ri,[e("div",ui,[P.value?(t(),ce(Ee,{key:0})):T("",!0),e("div",_i,[e("div",mi,[g(m,{size:"2"},{default:Z(()=>[e("table",hi,[pi,c.value.data.length>0?(t(),a("tbody",vi,[(t(!0),a(H,null,W(c.value.data,(L,Q)=>(t(),ce(ti,{key:L.id,item:L,index:Q,onEditUser:O,onShowItem:A.viewItem,onConfirmUserDeletion:ee,onToggleSelection:j,"select-all":S.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",bi,$i))])]),_:1})])]),(t(!0),a(H,null,W(c.value.data,(L,Q)=>(t(),a("div",{class:"dispatch-list",key:L.id,item:L,index:Q},[e("div",yi,[e("div",ki,[e("div",xi,[wi,e("span",null,[e("b",null,s(L.recommnum),1)])]),e("div",Ci,[Si,e("span",null,s(L.user),1)]),e("div",Ui,[Di,e("span",null,s(L.branch),1)]),e("div",Mi,[Vi,e("span",null,s(L.department),1)]),e("div",Ai,[Ei,e("span",null,s(L.created_user),1)]),e("div",Ti,[Pi,L.statusid==2?(t(),ce(le,{key:0,to:`/admin/tech-approved/${L.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`badge-${L.status.color}`])},s(L.status.name),3)]),_:2},1032,["to"])):T("",!0),L.statusid!=2?(t(),a("span",{key:1,class:M(["badge",`badge-${L.status.color}`])},s(L.status.name),3)):T("",!0)]),e("div",Li,[Fi,e("span",null,s(L.created_at),1)]),Ii,e("div",Yi,[d(r).user.role==="ADMIN"?(t(),a("div",qi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:D=>O(L)},[Ni,Y(" Edit ")],8,Bi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:D=>ee(L.id)},ji,8,Ri),L.statusid==2?(t(),a("button",Oi,[zi,Y(" Download ")])):T("",!0)])):T("",!0),d(r).user.role==="USER"?(t(),a("div",Gi,[L.statusid!=2?(t(),a("div",Qi,[L.created_by==d(r).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:D=>O(L)},[Ki,Y(" Edit ")],8,Wi)):T("",!0)])):T("",!0)])):T("",!0)])])])],8,gi))),128))])]),g(d(Ie),{data:c.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",Xi,[e("div",Ji,[e("div",Zi,[e("div",ec,[e("h5",tc,[w.value?(t(),a("span",sc,"Edit Tech Recom.")):(t(),a("span",ac,"Add New Tech Recom."))]),oc]),g(d(De),{onSubmit:I,"validation-schema":w.value?d(B):d(k),"initial-values":h.value},{default:Z(({errors:L})=>[e("div",lc,[e("div",nc,[e("div",dc,[e("div",ic,[g(d(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:d(r).user.id,"onUpdate:modelValue":v[1]||(v[1]=Q=>d(r).user.id=Q)},null,8,["modelValue"]),g(d(R),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:f.recommnum,"onUpdate:modelValue":v[2]||(v[2]=Q=>f.recommnum=Q)},null,8,["modelValue"]),e("div",cc,[rc,g(d(R),{as:"select",name:"branch",class:M(["form-control",{"is-invalid":L.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:f.branch,"onUpdate:modelValue":v[3]||(v[3]=Q=>f.branch=Q)},{default:Z(()=>[uc,(t(!0),a(H,null,W(u.value,Q=>(t(),a("option",{key:Q.site_name,value:Q.site_name},s(Q.site_name),9,_c))),128))]),_:2},1032,["class","modelValue"]),e("span",mc,s(L.branch),1)]),e("div",hc,[pc,g(d(R),{name:"department",type:"text",class:M(["form-control",{"is-invalid":L.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:f.department,"onUpdate:modelValue":v[4]||(v[4]=Q=>f.department=Q)},null,8,["class","modelValue"]),e("span",vc,s(L.department),1)]),e("div",bc,[fc,g(d(R),{name:"warehouse",type:"text",class:M(["form-control",{"is-invalid":L.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:f.warehouse,"onUpdate:modelValue":v[5]||(v[5]=Q=>f.warehouse=Q)},null,8,["class","modelValue"]),e("span",$c,s(L.warehouse),1)]),e("div",gc,[yc,g(d(R),{name:"user",type:"text",class:M(["form-control",{"is-invalid":L.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:f.user,"onUpdate:modelValue":v[6]||(v[6]=Q=>f.user=Q)},null,8,["class","modelValue"]),e("span",kc,s(L.user),1)])]),e("div",xc,[e("div",wc,[Cc,g(d(R),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:f.brand,"onUpdate:modelValue":v[7]||(v[7]=Q=>f.brand=Q)},null,8,["modelValue"])]),e("div",Sc,[Uc,g(d(R),{name:"model",type:"text",class:M(["form-control",{"is-invalid":L.model}]),id:"model",modelValue:f.model,"onUpdate:modelValue":v[8]||(v[8]=Q=>f.model=Q),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Dc,s(L.model),1)]),e("div",Mc,[Vc,g(d(R),{name:"assettag",type:"text",class:M(["form-control",{"is-invalid":L.assettag}]),id:"assettag",modelValue:f.assettag,"onUpdate:modelValue":v[9]||(v[9]=Q=>f.assettag=Q),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Ac,s(L.assettag),1)]),e("div",Ec,[Tc,X(e("input",{name:"serialnum",type:"text",class:M(["form-control",{"is-invalid":L.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":v[10]||(v[10]=Q=>f.serialnum=Q)},null,2),[[ue,f.serialnum]]),e("span",Pc,s(L.serialnum),1)])]),e("div",Lc,[e("div",Fc,[Ic,g(d(R),{name:"problem",as:"textarea",class:M(["form-control",{"is-invalid":L.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:f.problem,"onUpdate:modelValue":v[11]||(v[11]=Q=>f.problem=Q)},null,8,["class","modelValue"]),e("span",Yc,s(L.problem),1)]),e("div",qc,[Bc,g(d(R),{name:"assconducted",as:"textarea",class:M(["form-control",{"is-invalid":L.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:f.assconducted,"onUpdate:modelValue":v[12]||(v[12]=Q=>f.assconducted=Q)},null,8,["class","modelValue"]),e("span",Nc,s(L.assconducted),1)]),e("div",Rc,[Hc,g(d(R),{name:"recommendation",as:"textarea",class:M(["form-control",{"is-invalid":L.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:f.recommendation,"onUpdate:modelValue":v[13]||(v[13]=Q=>f.recommendation=Q)},null,8,["class","modelValue"]),e("span",jc,s(L.recommendation),1)])])])])]),e("div",Oc,[w.value?(t(),a("div",zc,[d(r).user.role==="ADMIN"?(t(),a("div",Gc,[e("button",{type:"button",onClick:v[14]||(v[14]=Q=>z(2)),class:"btn btn-info"}," Approved "),Qc,e("div",Wc,[e("span",{onClick:v[15]||(v[15]=Q=>z(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:v[16]||(v[16]=Q=>z(3)),class:"dropdown-item"},"Disapproved")])])):T("",!0)])):T("",!0),Kc,Xc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Jc,[e("div",Zc,[e("div",er,[tr,e("div",sr,[ar,e("button",{onClick:ie(de,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Re=Xe("SettingStore",()=>{const o=n({app_name:""}),y=xt("SettingStore:theme",n("light"));return{setting:o,getSetting:async()=>{await E.get("/api/settings").then(c=>{o.value=c.data})},theme:y,changeTheme:()=>{y.value=y.value==="light"?"dark":"light"}}});const ae=o=>(Me("data-v-5aff9990"),o=o(),Ve(),o),lr={class:"content"},nr={class:"container-fluid"},dr={class:"card"},ir={class:"card-header"},cr={class:"card-title"},rr={class:"card-body"},ur={class:"col-md-12"},_r={class:"d-flex justify-content-between"},mr=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),hr={class:"d-flex"},pr={class:"col-12",id:"accordion"},vr={key:1},br={key:0},fr={class:"card card-secondary"},$r={class:"card-body d-flex align-items-center justify-content-center"},gr={class:"image-container"},yr=["src"],kr=ae(()=>e("div",{class:"overlay"},null,-1)),xr={key:1},wr={class:"card-header bg-white"},Cr={class:"card-title"},Sr=["href"],Ur=["src"],Dr={class:"card-tools"},Mr=["onClick"],Vr=ae(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ar=[Vr],Er=["disabled","onClick"],Tr=["onClick"],Pr=ae(()=>e("p",{class:"float-right"},null,-1)),Lr=["id"],Fr={class:"card-body"},Ir={class:"col-md-12"},Yr={class:"dispatch-table"},qr={class:"row"},Br={class:"col-4"},Nr=ae(()=>e("b",null,"Site:",-1)),Rr=ae(()=>e("b",null,"Planned Date:",-1)),Hr=ae(()=>e("b",null,"Planned End Date:",-1)),jr={class:"col-4"},Or=ae(()=>e("b",null,"Start Date:",-1)),zr=ae(()=>e("b",null,"Accomplished Date:",-1)),Gr={class:"closestatus"},Qr=ae(()=>e("b",{style:{color:"black"}},"Type:",-1)),Wr={class:"col-4"},Kr={class:"ongoing"},Xr=ae(()=>e("b",{style:{color:"black"}},"Status:",-1)),Jr=ae(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Zr=ae(()=>e("b",null,"Remarks:",-1)),eu={style:{margin:"0.5%"}},tu=["disabled","onClick"],su=["onClick","disabled"],au={class:"dispatch-list"},ou={class:"list-group list-group-flush"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},gu={class:"badge badge-primary badge-pill"},yu=ae(()=>e("hr",null,null,-1)),ku={class:"row"},xu={class:"col"},wu=["onClick"],Cu=ae(()=>e("i",{class:"fas fa-pen"},null,-1)),Su=["onClick"],Uu=ae(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),Y(" Drop ")],-1)),Du=[Uu],Mu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vu={class:"modal-dialog modal-dialog-centered",role:"document"},Au={class:"modal-content"},Eu={class:"modal-header"},Tu={class:"modal-title",id:"staticBackdropLabel"},Pu={key:0},Lu={key:1},Fu={key:2},Iu=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Yu={class:"modal-body"},qu={class:"col-md-12"},Bu={class:"row"},Nu={class:"col-12"},Ru={class:"form-group"},Hu=ae(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),ju=ae(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Ou=["value"],zu={key:0,class:"d-flex justify-content-between"},Gu={class:"d-flex"},Qu={class:"form-group"},Wu=ae(()=>e("label",{for:"end-time"},"Start Date",-1)),Ku={class:"form-group"},Xu=ae(()=>e("label",{for:"end-time"},"Hour",-1)),Ju=["value"],Zu=ae(()=>e("div",{class:"d-fex"},null,-1)),e_={key:1,class:"d-flex justify-content-between"},t_={class:"d-flex"},s_={class:"form-group"},a_=ae(()=>e("label",{for:"end-time"},"End Date",-1)),o_={class:"form-group"},l_=ae(()=>e("label",{for:"end-time"},"Hour",-1)),n_=["value"],d_=ae(()=>e("div",{class:"d-fex"},null,-1)),i_={class:"form-group"},c_=ae(()=>e("label",{for:"site"},"Task",-1)),r_=ae(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),u_=["value"],__=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),m_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},h_={class:"modal-dialog modal-sm",role:"document"},p_={class:"modal-content"},v_={class:"modal-header"},b_={class:"modal-title",id:"staticBackdropLabel"},f_=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),$_={class:"modal-body"},g_=we('<ul class="nav nav-tabs" id="myTabs" data-v-5aff9990><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-5aff9990> Todo List</a></li><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-5aff9990> Todo</a></li></ul>',1),y_={class:"tab-content"},k_={class:"tab-pane fade show active",id:"todolist"},x_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},w_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),C_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),S_={key:0,class:"list-group-item mt-2"},U_={class:"d-flex justify-content-between"},D_={class:"d-flex"},M_=["onClick"],V_={class:"d-flex"},A_=["onClick"],E_={class:"m-2 list-unstyled"},T_={key:1},P_={key:0,class:"list-group-item mt-2"},L_={class:"d-flex justify-content-between"},F_={class:"d-flex"},I_=["onClick"],Y_={class:"d-flex"},q_=["onClick"],B_={key:1,class:"mt-2 text-center"},N_=ae(()=>e("span",null,"No Todo",-1)),R_=[N_],H_={class:"tab-pane fade",id:"formTask"},j_={class:"col-md-12"},O_={class:"row"},z_={class:"col-12"},G_={class:"m-2",style:{display:"flex","align-items":"center"}},Q_=ae(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),Y("\xA0Save ")])],-1)),W_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K_={class:"modal-dialog",role:"document"},X_={class:"modal-content"},J_=we('<div class="modal-header" data-v-5aff9990><h5 class="modal-title" id="staticBackdropLabel" data-v-5aff9990><span data-v-5aff9990>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-5aff9990><span aria-hidden="true" data-v-5aff9990>\xD7</span></button></div><div class="modal-body" data-v-5aff9990><h5 data-v-5aff9990>Are you sure you want to delete this record ?</h5></div>',2),Z_={class:"modal-footer"},em=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),tm={__name:"MyPrio",setup(o){const y=`${fe().name}`,u=n(!1),l=n(!1),c=Je("$swal");Re();const p=he(),x=n({data:[]}),P=n([]);n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const w=n();n();const h=n(!0),f=n(!1);n(!1),n();const r=n(),_=n(),k=n(),B=me();n(null),n(!1);const G=n([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),K=n(),J=n("1:00 AM"),O=n(),C=n("1:00 AM"),I=n(Array.from({length:24},(F,N)=>{const b=N%12+1,re=N<12?"AM":"PM";return`${b}:00 ${re}`})),i=n(Array.from({length:24},(F,N)=>{const b=N%12+1,re=N<12?"AM":"PM";return`${b}:00 ${re}`})),V=Ae({dailytask_id:"",site:"",user_id:B.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});be([K,J],()=>{const F=new Date(K.value),N=F.getFullYear(),b=String(F.getMonth()+1).padStart(2,"0"),re=String(F.getDate()).padStart(2,"0");V.plandate=`${N}-${b}-${re} ${J.value}`}),be([K,C],()=>{const F=new Date(K.value);F.getFullYear(),String(F.getMonth()+1).padStart(2,"0"),String(F.getDate()).padStart(2,"0")}),be([O,C],()=>{const F=new Date(O.value),N=F.getFullYear(),b=String(F.getMonth()+1).padStart(2,"0"),re=String(F.getDate()).padStart(2,"0");V.enddates=`${N}-${b}-${re} ${C.value}`});const j=n({id:"",dailytask_id:"",task_name:"",iscompleted:0}),se=()=>{E.get("/web/getsite").then(F=>{w.value=F.data.sites}).catch(F=>{console.log(F)})},ee=()=>{u.value=!0,E.get("/api/dailytask",{params:{query:Ne.value}}).then(F=>{u.value=!1,x.value=F.data,lt.value=[]})},de=async F=>{(await c({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(u.value=!0,E.put(`/api/dailytask/drop/${F}`).then(b=>{p.success("Data drop successfully!"),u.value=!1,ee()}))},pe=()=>{$("#FormModalTask").modal("show")},z=F=>{pe(),j.value.dailytask_id=F.dailytask_id,_.value=F.taskdate,k.value=F.startdate,l.value=!0,E.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(N=>{P.value=N.data,pe(),l.value=!1}).catch(N=>{console.error("Error fetching tasks:",N)})},S=()=>{l.value=!0,E.post("/api/dailytask/addnewTask",{dailytask_id:j.value.dailytask_id,task_name:j.value.task_name,iscompleted:j.value.iscompleted}).then(F=>{p.success("Data created successfully!"),E.get(`/api/dailytask/${j.value.dailytask_id}/tasks`).then(N=>{P.value=N.data,l.value=!1}).catch(N=>{console.error("Error fetching tasks:",N),p.error("Error fetching tasks. Please try again.")}),j.value.task_name=""}).catch(F=>{console.error("Error adding new task:",F),p.error("Error adding new task. Please try again.")})},A=F=>{j.value.iscompleted=F.iscompleted===1?0:1,E.post("/api/dailytask/addnewTask",{id:F.id,dailytask_id:F.dailytask_id,task_name:F.task_name,iscompleted:j.value.iscompleted}).then(N=>{E.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(b=>{P.value=b.data}).catch(b=>{console.error("Error fetching tasks:",b),p.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),p.error("Error adding new task. Please try again.")})},v=Le(()=>Array.isArray(P.value)?P.value.filter(F=>F.iscompleted===1):[]),m=Le(()=>v.value.length),le=()=>{h.value=!h.value},L=F=>{E.delete(`/api/dailytask/deleteTask/${F.id}`).then(N=>{E.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(b=>{P.value=b.data,p.success("Todo successfull Deleted")}).catch(b=>{console.error("Error fetching tasks:",b),p.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),p.error("Error adding new task. Please try again.")})};xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()}),xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()});const Q=(F,N)=>{E.post("/api/dailytask",V).then(b=>{console.log(b.data),ee(),$("#FormModal").modal("hide"),p.success("data created successfully!")}).catch(b=>{N.setErrors(b.response.data.errors)})},D=(F,N)=>{E.put("/api/dailytask/"+V.dailytask_id,V).then(b=>{console.log(b.data),ee(),$("#FormModal").modal("hide"),p.success("data update successfully!")}).catch(b=>{N.setErrors(b.response.data.errors)})},U=F=>{F&&F.dailytask_id!==null&&F.dailytask_id!==void 0?(f.value=!0,r.value=" on "+ve(F.taskdate).format("MMMM D, YYYY"),V.site=F.site,V.dailytask_id=F.dailytask_id,V.plandate=F.plandate,V.planenddate=F.planenddate):f.value=!1,se(),$("#FormModal").modal("show")},ke=(F,N)=>{f.value?D(F,N):Q(F,N)},te=async F=>{try{const N=await E.get(`/api/dailytask/${F.dailytask_id}/tasks`);if(P.value=N.data,!P.value||P.value.length===0){c.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await c.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const re=await E.put("/api/dailytask/onhandler/"+F.dailytask_id,F);p.success(re.data.message),ee()}}catch(N){console.error("Error fetching tasks:",N),p.error("An error occurred while updating the task.")}},Ce=async F=>{if((await c({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ve(F.taskdate).format("YYYY-MM-DD")===ve().format("YYYY-MM-DD")?(F.remarks="HIT",F.status="On Schedule"):(F.remarks="MISS",F.status="Behind Schedule");const re=await E.put("/api/dailytask/onhandler/"+F.dailytask_id,F);p.success(re.data.message),ee()}catch(b){console.error(b),p.error("An error occurred while updating the task.")}},Ne=n(null),lt=n([]),Qe=n(null),nt=()=>{E.delete(`/api/tech-recommendations/${Qe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),p.success("Client deleted successfully!"),x.value.data=x.value.data.filter(F=>F.id!==Qe.value)})};return be(Ne,Te.exports.debounce(()=>{ee()},300)),_e(()=>{Ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ee(),document.title=y}),(F,N)=>(t(),a(H,null,[e("div",lr,[e("div",nr,[e("div",dr,[e("div",ir,[e("div",cr,s(d(B).user.first_name+" "+d(B).user.last_name)+" - My Prio ",1)]),e("div",rr,[e("div",ur,[e("div",_r,[e("div",{class:"d-flex"},[e("button",{onClick:U,type:"button",class:"mb-2 btn btn-primary"},[mr,Y(" Task ")])]),e("div",hr,[X(e("input",{type:"text","onUpdate:modelValue":N[0]||(N[0]=b=>Ne.value=b),class:"form-control",placeholder:"Search..."},null,512),[[ue,Ne.value]])])]),e("div",pr,[u.value?(t(),ce(Ee,{key:0})):(t(),a("div",vr,[x.value.length===0?(t(),a("div",br,[e("div",fr,[e("div",$r,[e("div",gr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,yr),kr])])])])):(t(),a("div",xr,[(t(!0),a(H,null,W(x.value,b=>(t(),a("div",{class:"card card-primary",key:b.id},[e("div",wr,[e("h4",Cr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+b.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Ur),Y(" \xA0"),e("b",null,s(d(ve)(b.taskdate).format("MMMM D, YYYY")),1)],8,Sr)]),e("div",Dr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:re=>z(b)},Ar,8,Mr),e("button",{disabled:b.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:re=>Ce(b)}," End ",8,Er),b.startdate?T("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:re=>te(b)}," Start ",8,Tr)),Pr])]),e("div",{id:"collapse"+b.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Fr,[e("div",Ir,[e("div",Yr,[e("div",qr,[e("div",Br,[e("h5",null,[Nr,Y(" "+s(b.site_name),1)]),e("h5",null,[Rr,Y(" "+s(b.plandate),1)]),e("h5",null,[Hr,Y(" "+s(b.planenddate),1)])]),e("div",jr,[e("h5",null,[Or,Y(" "+s(b.startdate!==null?d(ve)(b.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[zr,Y(" "+s(b.enddate!==null?d(ve)(b.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Gr,[Qr,Y(" "+s(b.tasktype?b.tasktype.join(", "):""),1)])]),e("div",Wr,[e("h5",Kr,[Xr,Y(" "+s(b.status),1)]),e("h5",null,[Jr,Y(" "+s(b.attachment),1)]),e("h5",null,[Zr,Y(" "+s(b.remarks),1)])])]),e("div",eu,[e("button",{disabled:b.startdate!==null,onClick:re=>de(b.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,tu),e("button",{onClick:re=>U(b),type:"button",disabled:b.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,su)])]),e("div",au,[e("ul",ou,[e("li",lu,[Y(" Site: "),e("span",nu,s(b.site_name),1)]),e("li",du,[Y(" Planned Date: "),e("span",iu,s(b.plandate),1)]),e("li",cu,[Y(" Planned End Date: "),e("span",ru,s(b.planenddate),1)]),e("li",uu,[Y(" Start Date: "),e("span",_u,s(b.startdate!==null?d(ve)(b.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",mu,[Y(" Type: "),e("span",hu,s(b.tasktype?b.tasktype.join(", "):""),1)]),e("li",pu,[Y(" Status: "),e("span",vu,s(b.status),1)]),e("li",bu,[Y(" Attachment: "),e("span",fu,s(b.attachment),1)]),e("li",$u,[Y(" Remarks: "),e("span",gu,s(b.remarks),1)])]),yu,e("div",ku,[e("div",xu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:re=>U(b)},[Cu,Y(" Edit ")],8,wu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:re=>de(b.dailytask_id)},Du,8,Su)])])])])])],8,Lr)]))),128))]))]))])])])])])]),e("div",Mu,[e("div",Vu,[e("div",Au,[e("div",Eu,[e("h5",Tu,[f.value?(t(),a("span",Pu,"Edit My Task")):(t(),a("span",Lu,"Add My Task")),f.value?(t(),a("span",Fu,s(r.value),1)):T("",!0)]),Iu]),g(d(De),{onSubmit:ke},{default:Z(()=>[e("div",Yu,[e("div",qu,[e("div",Bu,[e("div",Nu,[g(d(R),{modelValue:V.user_id,"onUpdate:modelValue":N[1]||(N[1]=b=>V.user_id=b),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Ru,[Hu,X(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":N[2]||(N[2]=b=>V.site=b)},[ju,(t(!0),a(H,null,W(w.value,b=>(t(),a("option",{key:b.id,value:b.id},s(b.site_name),9,Ou))),128))],512),[[Pe,V.site]])]),f.value==!1?(t(),a("div",zu,[e("div",Gu,[e("div",Qu,[Wu,g(d(Fe),{class:"form-control",modelValue:K.value,"onUpdate:modelValue":N[3]||(N[3]=b=>K.value=b)},null,8,["modelValue"])]),e("div",Ku,[Xu,X(e("select",{class:"form-control","onUpdate:modelValue":N[4]||(N[4]=b=>J.value=b),id:"plandate"},[(t(!0),a(H,null,W(I.value,b=>(t(),a("option",{key:b,value:b},s(b),9,Ju))),128))],512),[[Pe,J.value]])])]),Zu])):T("",!0),f.value==!1?(t(),a("div",e_,[e("div",t_,[e("div",s_,[a_,g(d(Fe),{class:"form-control",modelValue:O.value,"onUpdate:modelValue":N[5]||(N[5]=b=>O.value=b)},null,8,["modelValue"])]),e("div",o_,[l_,X(e("select",{class:"form-control","onUpdate:modelValue":N[6]||(N[6]=b=>C.value=b),id:"plandate"},[(t(!0),a(H,null,W(i.value,b=>(t(),a("option",{key:b,value:b},s(b),9,n_))),128))],512),[[Pe,C.value]])])]),d_])):T("",!0),e("div",i_,[c_,g(d(R),{name:"tasktype"},{default:Z(()=>[X(e("select",{"onUpdate:modelValue":N[7]||(N[7]=b=>V.tasktype=b),class:"form-control",required:!0},[r_,(t(!0),a(H,null,W(G.value,b=>(t(),a("option",{key:b.value,value:b.value},s(b.name),9,u_))),128))],512),[[Pe,V.tasktype]])]),_:1})])])])])]),__]),_:1})])])]),e("div",m_,[e("div",h_,[e("div",p_,[e("div",v_,[e("h5",b_," My Todo of "+s(d(ve)(_.value).format("MM/D/YYYY")),1),f_]),e("div",$_,[g_,e("div",y_,[e("div",k_,[P.value.length>0?(t(),a("div",x_,[l.value?(t(),ce(Ee,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[w_,C_]),_:1})):T("",!0),(t(!0),a(H,null,W(P.value,b=>(t(),a("ul",{class:"list-group",key:b.id},[b.iscompleted!==1?(t(),a("li",S_,[e("div",U_,[e("div",D_,[k.value?(t(),a("i",{key:0,onClick:re=>A(b),class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":b.iscompleted===1,"fa fa-circle text-primary":b.iscompleted!==1}),style:{"font-size":"15px"}},null,10,M_)):T("",!0),e("span",{class:M({"font-italic":b.iscompleted===1,"":b.iscompleted!==1})},s(b.task_name),3)]),e("div",V_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>L(b)},null,8,A_)])])])):T("",!0)]))),128)),e("li",E_,[m.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:le},[e("i",{class:M(["fa",h.value?"fa-arrow-down":"fa-arrow-right"])},null,2),Y(" \xA0Completed "+s(m.value),1)])):T("",!0)]),h.value?(t(),a("div",T_,[(t(!0),a(H,null,W(P.value,b=>(t(),a("ul",{class:"list-group",key:b.id},[b.iscompleted===1?(t(),a("li",P_,[e("div",L_,[e("div",F_,[e("i",{class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle":b.iscompleted===1,"fa fa-circle":b.iscompleted!==1}),style:{"font-size":"15px"},onClick:re=>A(b)},null,10,I_),e("span",{class:M({"font-italic":b.iscompleted===1,"":b.iscompleted!==1})},[e("del",null,s(b.task_name),1)],2)]),e("div",Y_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>L(b)},null,8,q_)])])])):T("",!0)]))),128))])):T("",!0)])):(t(),a("div",B_,R_))]),e("div",H_,[g(d(De),{onSubmit:S},{default:Z(()=>[e("div",j_,[e("div",O_,[e("div",z_,[g(d(R),{modelValue:j.value.dailytask_id,"onUpdate:modelValue":N[8]||(N[8]=b=>j.value.dailytask_id=b),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",G_,[g(d(R),{modelValue:j.value.task_name,"onUpdate:modelValue":N[9]||(N[9]=b=>j.value.task_name=b),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),Q_]),_:1})])])])])])]),e("div",W_,[e("div",K_,[e("div",X_,[J_,e("div",Z_,[em,e("button",{onClick:ie(nt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var sm=ge(tm,[["__scopeId","data-v-5aff9990"]]);const am={class:"text-center"},om={key:0},lm={class:"text-center"},nm={key:0},dm={class:"text-center"},im={key:0},cm={key:0,class:"bg-success text-center"},rm={key:1,class:"bg-danger text-center"},um={key:2,class:"text-center"},_m={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return he(),me(),(y,u)=>(t(),a("tr",null,[e("td",null,s(d(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",am,[o.item.task_lists_count!==0?(t(),a("span",om,s(o.item.task_lists_count),1)):T("",!0)]),e("td",lm,[o.item.completed_task_count!==0?(t(),a("span",nm,s(o.item.completed_task_count),1)):T("",!0)]),e("td",dm,[o.item.status!=="On Going"?(t(),a("span",im,s(o.item.status),1)):T("",!0)]),o.item.remarks==="HIT"?(t(),a("td",cm,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",rm,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",um,s(o.item.startdate!=null?"On Going!":""),1)):T("",!0),e("td",{class:M({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const ye=o=>(Me("data-v-04a9a400"),o=o(),Ve(),o),mm={class:"content-header"},hm={class:"container-fluid"},pm={class:"col-12"},vm={class:"card",id:"captureVSCContainer"},bm={class:"card-header"},fm={class:"card-title"},$m={class:"card-tools"},gm={class:"card-body"},ym=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),km=[ym],xm={key:1,class:"row"},wm={class:"inner"},Cm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Sm=["src"],Um={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Dm={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Mm={style:{"text-align":"left"}},Vm={key:0},Am=ye(()=>e("span",{class:"text-light badge"},"Todos",-1)),Em={class:"list-group list-group-flush"},Tm={style:{display:"flex","align-items":"left"}},Pm={class:"ml-1"},Lm={class:"ml-1"},Fm={key:1},Im={class:"float-right"},Ym={id:"captureHitRateContainer",class:"card"},qm={class:"card-header"},Bm={class:"card-title"},Nm={class:"card-body"},Rm={class:"content"},Hm={class:"container-fluid"},jm=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),Om=[jm],zm={class:"dispatch-table"},Gm={class:"table-responsive"},Qm={class:"table table-bordered table-hover table-sm"},Wm=ye(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Km=["item"],Xm={class:"list-field"},Jm=ye(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Zm={class:"list-field"},eh=ye(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),th={key:0},sh={class:"list-field"},ah=ye(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),oh={key:0},lh={class:"list-field"},nh=ye(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),dh={class:"list-field"},ih=ye(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),ch={class:"list-field"},rh=ye(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),uh={class:"float-right"},_h={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mh={class:"modal-dialog modal-sm",role:"document"},hh={class:"modal-content"},ph=ye(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),vh={class:"modal-body"},bh={class:"fromtocenter"},fh=ye(()=>e("label",{for:"fromDate"},"From:",-1)),$h=ye(()=>e("label",{for:"toDate"},"To:",-1)),gh=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),yh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kh={class:"modal-dialog modal-sm",role:"document"},xh={class:"modal-content"},wh=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Ch={class:"modal-body"},Sh={class:"container"},Uh={class:"row"},Dh=["onClick"],Mh=ye(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Vh={__name:"MyVsc",setup(o){const y=`${fe().name}`,u=me(),l=n(!1),c=n([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),x=n((()=>{const C={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",C)})()),P=()=>{const C=document.getElementById("captureVSCContainer");Oe(C).then(I=>{const i=I.toDataURL(),V=document.createElement("a");V.href=i,V.download=`${u.user.first_name+" "+u.user.last_name} - ${y}.png`,V.click()})},w=()=>{const C=document.getElementById("captureHitRateContainer");Oe(C).then(I=>{const i=I.toDataURL(),V=document.createElement("a");V.href=i,V.download=`${u.user.first_name+" "+u.user.last_name} - My HIT RATE.png`,V.click()})};n(null),n("today");const h=n({data:[]}),f=n({data:[]}),r=()=>{l.value=!0,axios.get("/api/myvsc").then(C=>{l.value=!1,h.value=C.data.dailyTasks,f.value=C.data.TaskList})},_=()=>{$("#FormModalfilterDate").modal("show")},k=n({start_date:"",end_date:""}),B=n(""),G=n("");be([B],()=>{const C=new Date(B.value),I=C.getFullYear(),i=String(C.getMonth()+1).padStart(2,"0"),V=String(C.getDate()).padStart(2,"0");k.value.start_date=`${I}-${i}-${V}`}),be([G],()=>{const C=new Date(G.value),I=C.getFullYear(),i=String(C.getMonth()+1).padStart(2,"0"),V=String(C.getDate()).padStart(2,"0");k.value.end_date=`${I}-${i}-${V}`});const K=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:k.value.start_date,end_date:k.value.end_date}}).then(C=>{l.value=!1,h.value=C.data.dailyTasks,f.value=C.data.TaskList}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},J=()=>{$("#FormModalPickerThemes").modal("show")},O=C=>{if(C){const I=u.user.id;axios.post("/api/changethemes",{userid:I,background:C.background,active_background:C.active_background,font_background:C.font_background}).then(i=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(V=>{l.value=!1,h.value=V.data.dailyTasks,f.value=V.data.TaskList})}).catch(i=>{console.error(i)})}else console.error("Invalid item:",C)};return _e(()=>{r(),document.title=y}),(C,I)=>(t(),a(H,null,[e("div",mm,[e("div",hm,[e("div",pm,[e("div",vm,[e("div",bm,[e("div",fm,[e("h5",null,s(d(u).user.first_name+" "+d(u).user.last_name)+" - "+s(y),1)]),e("div",$m,[e("i",{onClick:I[0]||(I[0]=i=>J()),class:"fas fa-palette"})])]),e("div",gm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:P,type:"button",class:"mb-2 btn btn-sm btn-success"},km)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:_})])]),l.value?(t(),ce(Ee,{key:0})):(t(),a("div",xm,[(t(!0),a(H,null,W(h.value,i=>(t(),a("div",{class:"col-lg-3 col-6",key:i.id},[e("div",{class:"small-box",style:je("background-color: "+(d(ve)(i.taskdate).format("MMMM D, YYYY")===x.value?i.active_background==""?"#72461F":i.active_background:i.background==""?"#B98D65":i.background)+";")},[e("div",wm,[e("div",Cm,[Y(s(d(ve)(i.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Sm)]),e("div",Um,s(d(ve)(i.taskdate).format("MMMM D, YYYY")),1),e("div",Dm,s(i.site_name),1),e("div",Mm,[i.task_lists&&i.task_lists.length>0?(t(),a("div",Vm,[Am,e("ul",Em,[(t(!0),a(H,null,W(i.task_lists,V=>(t(),a("li",{class:"list-group-item",key:V.id},[e("div",Tm,[e("div",Pm,[e("i",{class:M(V.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Lm,s(V.task_name),1)])]))),128))])])):(t(),a("span",Fm))])])],4)]))),128))])),e("div",Im,s(x.value),1)])]),e("div",Ym,[e("div",qm,[e("div",Bm,[e("h5",null,s(d(u).user.first_name+" "+d(u).user.last_name)+" - My HIT RATE ",1)])]),e("div",Nm,[e("div",Rm,[e("div",Hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:w,type:"button",class:"mb-2 btn btn-sm btn-success"},Om)])]),e("div",zm,[e("div",Gm,[e("table",Qm,[Wm,e("tbody",null,[(t(!0),a(H,null,W(f.value,i=>(t(),ce(_m,{key:i.id,item:i},null,8,["item"]))),128))])])])]),(t(!0),a(H,null,W(f.value,i=>(t(),a("div",{class:"dispatch-list",key:i.id,item:i},[e("div",{class:M([{"callout callout-success":i.remarks==="HIT","callout callout-danger":i.remarks==="MISS",callout:i.remarks===null}])},[e("div",Xm,[Jm,e("span",null,s(d(ve)(i.taskdate).format("MMMM D, YYYY")),1)]),e("div",Zm,[eh,i.task_lists_count!==0?(t(),a("span",th,s(i.task_lists_count),1)):T("",!0)]),e("div",sh,[ah,i.completed_task_count!==0?(t(),a("span",oh,s(i.completed_task_count),1)):T("",!0)]),e("div",lh,[nh,e("span",null,[e("b",null,s(i.status),1)])]),e("div",dh,[ih,e("span",{class:M(["badge",i.remarks==="HIT"?"bg-success":"bg-danger"])},s(i.remarks),3)]),e("div",ch,[rh,e("span",{class:M(["badge",{"bg-danger":i.percentage_completed>=0&&i.percentage_completed<=59},{"bg-orange":i.percentage_completed>60&&i.percentage_completed<=90},{"bg-success":i.percentage_completed===100}])},s(i.percentage_completed+"%"),3)])],2)],8,Km))),128))])]),e("div",uh,s(x.value),1)])])])])]),e("div",_h,[e("div",mh,[e("div",hh,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(y)+" Summary Report")]),ph]),e("div",vh,[e("div",bh,[e("div",null,[fh,g(d(Fe),{modelValue:B.value,"onUpdate:modelValue":I[1]||(I[1]=i=>B.value=i)},null,8,["modelValue"])]),e("div",null,[$h,g(d(Fe),{modelValue:G.value,"onUpdate:modelValue":I[2]||(I[2]=i=>G.value=i)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[gh,e("button",{onClick:K,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",yh,[e("div",kh,[e("div",xh,[wh,e("div",Ch,[e("div",Sh,[e("div",Uh,[(t(!0),a(H,null,W(c.value,i=>(t(),a("div",{class:"col-md-4",key:i.background},[e("div",{class:"box",onClick:V=>O(i)},[e("div",{class:"column",style:je({"background-color":i.background})},"\xA0",4),e("div",{class:"column",style:je({"background-color":i.active_background})},"\xA0",4)],8,Dh)]))),128))])])]),Mh])])])],64))}};var Ah=ge(Vh,[["__scopeId","data-v-04a9a400"]]);const Eh={class:"text-center"},Th={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return he(),me(),(y,u)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(d(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Eh,[e("span",{class:M(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Ph=ge(Th,[["__scopeId","data-v-f22938e0"]]);const Se=o=>(Me("data-v-029f6d88"),o=o(),Ve(),o),Lh={class:"content"},Fh={class:"container-fluid"},Ih={class:"card",id:"capturePrioContainer"},Yh={class:"card-header"},qh={class:"card-title"},Bh={class:"card-body"},Nh={key:1,class:"content"},Rh={class:"container-fluid"},Hh=Se(()=>e("i",{class:"fa fa-camera"},null,-1)),jh=[Hh],Oh={class:"dispatch-table"},zh={class:"table-responsive"},Gh={class:"table table-bordered table-sm table-striped table-hover"},Qh=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Wh={key:0},Kh={key:1},Xh=Se(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),Jh=[Xh],Zh=["item","index"],ep={class:"card"},tp={class:"card-body"},sp={class:"list-field"},ap=Se(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),op={class:"list-field"},lp=Se(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),np={class:"list-field"},dp=Se(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),ip={class:"list-field"},cp=Se(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),rp={class:"list-field"},up=Se(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),_p={class:"list-field"},mp=Se(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),hp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pp={class:"modal-dialog modal-sm",role:"document"},vp={class:"modal-content"},bp=Se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),fp={class:"modal-body"},$p={class:"fromtocenter"},gp=Se(()=>e("label",{for:"fromDate"},"From:",-1)),yp=Se(()=>e("label",{for:"toDate"},"To:",-1)),kp=Se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),xp={__name:"MyClosePrioList",setup(o){const y=`${fe().name}`,u=n(!1);he();const l=n({data:[]}),c=n(""),p=n(""),x=me(),P=(r=1)=>{u.value=!0,E.get(`/api/mycloseprio?page=${r}`,{params:{query:f.value}}).then(_=>{u.value=!1,l.value=_.data})},w=()=>{const r=document.getElementById("capturePrioContainer");Oe(r).then(_=>{const k=_.toDataURL(),B=document.createElement("a");B.href=k,B.download="MY CLOSED PRIO.png",B.click()})},h=()=>{u.value=!0,E.get("/api/filter-closeprio",{params:{start_date:c.value,end_date:p.value}}).then(r=>{u.value=!1,l.value=r.data.dailyTasks}).catch(r=>{console.error(r)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},f=n(null);return be(f,Te.exports.debounce(()=>{P()},300)),_e(()=>{P(),document.title=y}),(r,_)=>{const k=$e("font");return t(),a(H,null,[e("div",Lh,[e("div",Fh,[e("div",Ih,[e("div",Yh,[e("div",qh,[e("h5",null,s(d(x).user.first_name+" "+d(x).user.last_name)+" - My Closed Prio ",1)])]),e("div",Bh,[u.value?(t(),ce(Ee,{key:0})):(t(),a("div",Nh,[e("div",Rh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:w,type:"button",class:"mb-2 btn btn-sm btn-success"},jh)])]),e("div",null,[e("div",Oh,[e("div",zh,[g(k,{size:"2"},{default:Z(()=>[e("table",Gh,[Qh,l.value.data.length>0?(t(),a("tbody",Wh,[(t(!0),a(H,null,W(l.value.data,(B,G)=>(t(),ce(Ph,{key:B.id,item:B,index:G},null,8,["item","index"]))),128))])):(t(),a("tbody",Kh,Jh))])]),_:1})])]),(t(!0),a(H,null,W(l.value.data,(B,G)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:B.id,item:B,index:G},[e("div",ep,[e("div",tp,[e("div",sp,[ap,e("span",null,s(B.sitename),1)]),e("div",op,[lp,e("span",null,s(d(ve)(B.taskdate).format("MMMM D, YYYY")),1)]),e("div",np,[dp,e("span",null,s(B.startdate),1)]),e("div",ip,[cp,e("span",null,s(B.enddate),1)]),e("div",rp,[up,e("span",null,s(B.tasktype.listtask),1)]),e("div",_p,[mp,e("span",{class:M(["badge",B.remarks==="HIT"?"bg-success":"bg-danger"])},s(B.remarks),3)])])])],8,Zh))),128))])])]))])]),g(d(Ie),{data:l.value,onPaginationChangePage:P},null,8,["data"])])]),e("div",hp,[e("div",pp,[e("div",vp,[bp,e("div",fp,[e("div",$p,[e("div",null,[gp,g(d(Fe),{modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=B=>c.value=B)},null,8,["modelValue"])]),e("div",null,[yp,g(d(Fe),{modelValue:p.value,"onUpdate:modelValue":_[1]||(_[1]=B=>p.value=B)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[kp,e("button",{onClick:h,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var wp=ge(xp,[["__scopeId","data-v-029f6d88"]]);const Cp=["checked"],Sp={class:"text-center"},Up=e("i",{class:"fa fa-edit"},null,-1),Dp=[Up],Mp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){he();const u=o,l=y,c=()=>{l("toggleSelection",u.user)};return(p,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Cp)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",Sp,[e("a",{href:"#",onClick:x[0]||(x[0]=ie(P=>p.$emit("editUser",o.user),["prevent"]))},Dp)])]))}},Vp={class:"content"},Ap={class:"container-fluid"},Ep={class:"card"},Tp={class:"card-header"},Pp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Lp={class:"card-tools"},Fp={class:"card-body"},Ip={class:"table-responsive"},Yp={class:"table table-bordered table-hover table-sm"},qp=e("th",{style:{width:"10px"}},"#",-1),Bp=e("th",null,"Name",-1),Np=e("th",null,"Email",-1),Rp=e("th",null,"Registered Date",-1),Hp=e("th",null,"Options",-1),jp={key:0},Op={key:1},zp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Gp=[zp],Qp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Wp={class:"modal-dialog modal-sm",role:"document"},Kp={class:"modal-content"},Xp={class:"modal-header"},Jp={class:"modal-title",id:"staticBackdropLabel"},Zp={key:0},ev=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),tv={class:"modal-body"},sv={class:"table table-sm"},av=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),ov={colspan:"5"},lv={class:"custom-control custom-checkbox"},nv=["value","id","checked"],dv=["for"],iv={key:0,class:"table table-sm"},cv={class:"text-danger"},rv={class:"custom-control custom-checkbox"},uv=["value","id"],_v=["for"],mv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),hv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pv={class:"modal-dialog",role:"document"},vv={class:"modal-content"},bv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),fv={class:"modal-footer"},$v=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),gv={__name:"UserMenuList",setup(o){const y=`${fe().name}`,u=he(),l=n({data:[]}),c=n(!1),p=n(),x=n(null),P=n(null),w=n([]),h=(O=1)=>{E.get(`/api/users?page=${O}`,{params:{query:_.value}}).then(C=>{l.value=C.data,k.value=[],selectAll.value=!1})},f=O=>{E.get("/api/usermenu",{params:{user_id:O.id}}).then(C=>{J.value=C.data,console.log(C.data)}).catch(C=>{console.log(C)}),c.value=!0,x.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:O.id,username:O.username,email:O.email,first_name:O.first_name,last_name:O.last_name},P.value=p.value.first_name+" "+p.value.last_name},r=()=>{const O={user_id:p.value.id,menu_id:w.value};console.log(O),E.post("/api/usermenu",O).then(C=>{u.success("User Menu Save successfully!")}).catch(C=>{setErrors(C.response.data.errors)})},_=n(null),k=n([]),B=O=>{const C=k.value.indexOf(O.id);C===-1?k.value.push(O.id):k.value.splice(C,1),console.log(k.value)},G=n(null),K=O=>{G.value=O,$("#deleteUserModal").modal("show")},J=n({data:[]});return be(_,Te.exports.debounce(()=>{h()},300)),_e(()=>{h(),document.title=y}),(O,C)=>{const I=$e("font");return t(),a(H,null,[e("div",Vp,[e("div",Ap,[e("div",Ep,[e("div",Tp,[Pp,e("div",Lp,[X(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=i=>_.value=i),class:"form-control",placeholder:"Search..."},null,512),[[ue,_.value]])])]),e("div",Fp,[e("div",Ip,[g(I,{size:"2"},{default:Z(()=>[e("table",Yp,[e("thead",null,[e("tr",null,[e("th",null,[X(e("input",{type:"checkbox","onUpdate:modelValue":C[1]||(C[1]=i=>O.selectAll=i),onChange:C[2]||(C[2]=(...i)=>O.selectAllUsers&&O.selectAllUsers(...i))},null,544),[[Ue,O.selectAll]])]),qp,Bp,Np,Rp,Hp])]),l.value.data.length>0?(t(),a("tbody",jp,[(t(!0),a(H,null,W(l.value.data,(i,V)=>(t(),ce(Mp,{key:i.id,user:i,index:V,onEditUser:f,onConfirmUserDeletion:K,onToggleSelection:B,"select-all":O.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Op,Gp))])]),_:1})])])]),g(d(Ie),{data:l.value,onPaginationChangePage:h},null,8,["data"])])]),e("div",Qp,[e("div",Wp,[e("div",Kp,[e("div",Xp,[e("h5",Jp,[c.value?(t(),a("span",Zp,"User Menu for "+s(P.value),1)):T("",!0)]),ev]),g(d(De),{ref_key:"form",ref:x,onSubmit:r,"initial-values":p.value},{default:Z(()=>[e("div",tv,[e("table",sv,[av,(t(!0),a(H,null,W(J.value,i=>(t(),a("tr",{key:i.menu_id},[e("td",ov,[e("div",lv,[X(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[3]||(C[3]=V=>w.value=V),value:i.menu_id,id:"menu_id_"+i.menu_id,checked:i.hasAccess},null,8,nv),[[Ue,w.value]]),e("label",{for:"menu_id_"+i.menu_id,class:"custom-control-label"},s(i.menu_title),9,dv)]),i.submenus&&i.submenus.length>0?(t(),a("table",iv,[(t(!0),a(H,null,W(i.submenus,V=>(t(),a("tr",{key:V.id},[e("td",cv,[e("div",rv,[X(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[4]||(C[4]=j=>w.value=j),value:V.menu_id,id:"menu_id_"+V.menu_id},null,8,uv),[[Ue,w.value]]),e("label",{for:"menu_id_"+V.menu_id,class:"custom-control-label"},s(V.menu_title),9,_v)])])]))),128))])):T("",!0)])]))),128))])]),mv]),_:1},8,["initial-values"])])])]),e("div",hv,[e("div",pv,[e("div",vv,[bv,e("div",fv,[$v,e("button",{onClick:C[5]||(C[5]=ie((...i)=>O.deleteUser&&O.deleteUser(...i),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const tt=o=>(Me("data-v-8e5d6dd6"),o=o(),Ve(),o),yv=["checked"],kv=["innerHTML"],xv={style:{"text-align":"center"}},wv={class:"text-center"},Cv=tt(()=>e("i",{class:"fa fa-edit"},null,-1)),Sv=[Cv],Uv=tt(()=>e("i",{class:"fa fa-trash"},null,-1)),Dv=[Uv],Mv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:y}){he(),me();const u=o,l=y,c=()=>{l("toggleSelection",u.item)};return(p,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,yv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,kv),e("td",null,s(o.item.sort_order),1),e("td",xv,[e("i",{class:M({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",wv,[e("button",{class:"btn btn-sm bg-primary",onClick:x[0]||(x[0]=ie(P=>p.$emit("editMenu",o.item),["prevent"]))},Sv),Y("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:x[1]||(x[1]=ie(P=>p.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Dv)])]))}};var Vv=ge(Mv,[["__scopeId","data-v-8e5d6dd6"]]);const Av={class:"content"},Ev={class:"container-fluid"},Tv={class:"d-flex justify-content-between"},Pv={class:"d-flex"},Lv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Fv={key:0},Iv=e("i",{class:"fa fa-trash mr-1"},null,-1),Yv={class:"ml-2"},qv={class:"card"},Bv={class:"card-body"},Nv={class:"table-responsive"},Rv={class:"table table-bordered table-sm"},Hv=e("th",{style:{width:"10px"}},"#",-1),jv=e("th",null,"Title",-1),Ov=e("th",null,"Parent Menu",-1),zv=e("th",null,"Route",-1),Gv=e("th",null,"Icon",-1),Qv=e("th",null,"Sort",-1),Wv=e("th",null,"Active",-1),Kv=e("th",null,"Date",-1),Xv=e("th",null,"Action",-1),Jv={key:0},Zv={key:1},eb=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),tb=[eb],sb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ab={class:"modal-dialog modal-sm",role:"document"},ob={class:"modal-content"},lb={class:"modal-header"},nb={class:"modal-title",id:"staticBackdropLabel"},db={key:0},ib={key:1},cb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),rb={class:"modal-body"},ub={class:"col-md-12"},_b={class:"row"},mb={class:"col-12"},hb={class:"form-group"},pb=e("label",{for:"user"},"Menu Title",-1),vb={class:"invalid-feedback"},bb={class:"form-group"},fb=e("label",{for:"department"},"Parent Menu",-1),$b=e("option",{value:"0"},"None",-1),gb=["value"],yb={class:"form-group"},kb=e("label",{for:"warehouse"},"Icon",-1),xb={class:"invalid-feedback"},wb={class:"form-group"},Cb=e("label",{for:"user"},"Route",-1),Sb={class:"invalid-feedback"},Ub={class:"form-group"},Db=e("label",{for:"user"},"Sort",-1),Mb={class:"invalid-feedback"},Vb={class:"form-group"},Ab=e("label",{for:"is_active"},"Active",-1),Eb=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Tb={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Pb={class:"modal-dialog",role:"document"},Lb={class:"modal-content"},Fb=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ib={class:"modal-footer"},Yb=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),qb={__name:"MenuList",setup(o){const y=`${fe().name}`,u=he(),l=n({data:[]}),c=n({data:[]}),p=n(!1),x=n(!1);n();const P=n(!0),w=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),h=me();n(null);const f=n(),r=(z=1)=>{p.value=!0,E.get(`/api/menulist?page=${z}`,{params:{query:C.value}}).then(S=>{p.value=!1,l.value=S.data,I.value=[],de.value=!1})},_=()=>{E.get("/api/GetParentId").then(z=>{c.value=z.data}).catch(z=>{console.error(z)})};xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()});const k=z=>{w.is_active=z?1:0},B=({resetForm:z,setErrors:S})=>{E.post("/api/menulist",{menu_title:w.menu_title,parent_id:w.parent_id,menu_icon:w.menu_icon,menu_route:w.menu_route,sort_order:w.sort_order,is_active:w.is_active}).then(A=>{l.value.data.unshift(A.data),$("#FormModal").modal("hide"),z(),u.success("User created successfully!")}).catch(A=>{A.response.data.errors&&S(A.response.data.errors)})},G=()=>{x.value=!1,$("#FormModal").modal("show")},K=z=>{x.value=!0,w.menu_id=z.menu_id,w.menu_title=z.menu_title,w.parent_id=z.parent_id,w.menu_icon=z.menu_icon,w.menu_route=z.menu_route,w.sort_order=z.sort_order,w.is_active===1?P.value=!0:P.value=!1,w.is_active=z.is_active,$("#FormModal").modal("show"),f.value=z.parent_id},J=({setErrors:z})=>{E.post("/api/menulist",w).then(S=>{r(),$("#FormModal").modal("hide"),u.success("successfully Updated!")}).catch(S=>{z(S.response.data.errors),console.log(S)})},O=(z,S)=>{x.value?J(z):B(z)},C=n(null),I=n([]),i=z=>{const S=I.value.indexOf(z.id);S===-1?I.value.push(z.id):I.value.splice(S,1),console.log(I.value)},V=n(null),j=z=>{V.value=z,$("#deleteClientModal").modal("show")},se=()=>{E.delete(`/api/menu/${V.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(z=>z.menu_id!==V.value)})},ee=()=>{E.delete("menulist",{data:{ids:I.value}}).then(z=>{l.value.data=l.value.data.filter(S=>!I.value.includes(S.id)),I.value=[],de.value=!1,u.success(z.data.message)})},de=n(!1),pe=()=>{de.value?I.value=l.value.data.map(z=>z.id):I.value=[],console.log(I.value)};return be([P],z=>{w.is_active=z?1:0}),be(C,Te.exports.debounce(()=>{r()},300)),_e(()=>{r(),_(),document.title=y}),(z,S)=>{const A=$e("font");return t(),a(H,null,[e("div",Av,[e("div",Ev,[e("div",Tv,[e("div",Pv,[e("button",{onClick:G,type:"button",class:"mb-2 btn btn-primary"},[Lv,Y(" Menu ")]),I.value.length>0?(t(),a("div",Fv,[e("button",{onClick:ee,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Iv,Y(" Delete Selected ")]),e("span",Yv,"Selected "+s(I.value.length)+" Menu",1)])):T("",!0)]),e("div",null,[X(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=v=>C.value=v),class:"form-control",placeholder:"Search..."},null,512),[[ue,C.value]])])]),e("div",qv,[e("div",Bv,[p.value?(t(),ce(Ee,{key:0})):T("",!0),e("div",Nv,[g(A,{size:"2"},{default:Z(()=>[e("table",Rv,[e("thead",null,[e("tr",null,[e("th",null,[X(e("input",{type:"checkbox","onUpdate:modelValue":S[1]||(S[1]=v=>de.value=v),onChange:pe},null,544),[[Ue,de.value]])]),Hv,jv,Ov,zv,Gv,Qv,Wv,Kv,Xv])]),l.value.data.length>0?(t(),a("tbody",Jv,[(t(!0),a(H,null,W(l.value.data,(v,m)=>(t(),ce(Vv,{key:v.id,item:v,index:m,onEditMenu:K,onConfirmDeletion:j,onToggleSelection:i,"select-all":de.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Zv,tb))])]),_:1})])])]),g(d(Ie),{data:l.value,onPaginationChangePage:r},null,8,["data"])])]),e("div",sb,[e("div",ab,[e("div",ob,[e("div",lb,[e("h5",nb,[x.value?(t(),a("span",db,"Edit Menu")):(t(),a("span",ib,"Add Menu"))]),cb]),g(d(De),{onSubmit:O},{default:Z(({errors:v})=>[e("div",rb,[e("div",ub,[e("div",_b,[e("div",mb,[g(d(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:d(h).user.id,"onUpdate:modelValue":S[2]||(S[2]=m=>d(h).user.id=m)},null,8,["modelValue"]),e("div",hb,[pb,g(d(R),{name:"menu_title",type:"text",class:M(["form-control",{"is-invalid":v.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:w.menu_title,"onUpdate:modelValue":S[3]||(S[3]=m=>w.menu_title=m)},null,8,["class","modelValue"]),e("span",vb,s(v.menu_title),1)]),e("div",bb,[fb,X(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":S[4]||(S[4]=m=>w.parent_id=m)},[$b,(t(!0),a(H,null,W(c.value,m=>(t(),a("option",{key:m.menu_id,value:m.menu_id},s(m.menu_title),9,gb))),128))],512),[[Pe,w.parent_id]])]),e("div",yb,[kb,g(d(R),{name:"menu_icon",type:"text",class:M(["form-control",{"is-invalid":v.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:w.menu_icon,"onUpdate:modelValue":S[5]||(S[5]=m=>w.menu_icon=m)},null,8,["class","modelValue"]),e("span",xb,s(v.menu_icon),1)]),e("div",wb,[Cb,g(d(R),{name:"menu_route",type:"text",class:M(["form-control",{"is-invalid":v.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:w.menu_route,"onUpdate:modelValue":S[6]||(S[6]=m=>w.menu_route=m)},null,8,["class","modelValue"]),e("span",Sb,s(v.menu_route),1)]),e("div",Ub,[Db,g(d(R),{name:"sort_order",type:"text",class:M(["form-control",{"is-invalid":v.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:w.sort_order,"onUpdate:modelValue":S[7]||(S[7]=m=>w.sort_order=m)},null,8,["class","modelValue"]),e("span",Mb,s(v.sort_order),1)]),e("div",Vb,[Ab,X(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":S[8]||(S[8]=m=>P.value=m),onChange:k},null,544),[[Ue,P.value]])])])])])]),Eb]),_:1})])])]),e("div",Tb,[e("div",Pb,[e("div",Lb,[Fb,e("div",Ib,[Yb,e("button",{onClick:ie(se,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Bb={class:"error-page"},Nb=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),Rb=[Nb],Hb="Page Not Found",st={__name:"404",setup(o){return _e(()=>{document.title=Hb}),(y,u)=>(t(),a("div",Bb,Rb))}};const oe=o=>(Me("data-v-18d1690e"),o=o(),Ve(),o),jb={id:"exportPDF"},Ob={class:"container"},zb=oe(()=>e("br",null,null,-1)),Gb={class:"header"},Qb=["src"],Wb=["src"],Kb={class:"header"},Xb={class:"header-justify-space-between"},Jb=oe(()=>e("br",null,null,-1)),Zb=oe(()=>e("p",null,null,-1)),e1={key:0},t1=oe(()=>e("strong",null,null,-1)),s1=oe(()=>e("br",null,null,-1)),a1=oe(()=>e("br",null,null,-1)),o1=oe(()=>e("p",null,null,-1)),l1=oe(()=>e("strong",null,"Unit details",-1)),n1={class:"content"},d1={class:"header-justify-space-between"},i1=oe(()=>e("span",null,"Brand:",-1)),c1=oe(()=>e("br",null,null,-1)),r1=oe(()=>e("span",null,"Model:",-1)),u1=oe(()=>e("br",null,null,-1)),_1=oe(()=>e("div",null,null,-1)),m1=oe(()=>e("span",null,"Serial #:",-1)),h1=oe(()=>e("br",null,null,-1)),p1=oe(()=>e("span",null,"Asset Tag:",-1)),v1=oe(()=>e("br",null,null,-1)),b1=oe(()=>e("div",null,null,-1)),f1=oe(()=>e("strong",null,"Reported problem",-1)),$1={class:"content"},g1=oe(()=>e("strong",null,"Assessment conducted",-1)),y1={class:"content"},k1=oe(()=>e("strong",null,"Recommendation",-1)),x1={class:"content"},w1={class:"header-justify-space-between"},C1=oe(()=>e("strong",null,"Evaluated by:",-1)),S1=oe(()=>e("br",null,null,-1)),U1={class:"botoom-line"},D1=oe(()=>e("br",null,null,-1)),M1=oe(()=>e("p",null,null,-1)),V1=oe(()=>e("strong",null,"Noted by:",-1)),A1=oe(()=>e("br",null,null,-1)),E1={class:"botoom-line"},T1=oe(()=>e("br",null,null,-1)),P1=oe(()=>e("br",null,null,-1)),L1=oe(()=>e("p",null,null,-1)),F1={key:0},I1={key:1},Y1={key:0,class:"fab-container"},q1=oe(()=>e("i",{class:"fas fa-download"},null,-1)),B1=[q1],N1={__name:"TechRecommApprove",setup(o){const y=`${fe().params.id}`,u=()=>{const p=document.getElementById("exportPDF");et().from(p).save(`${y}.pdf`)},l=Ae({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),c=()=>{E.get(`/api/tech-recommendations/${fe().params.id}`).then(p=>{l.id=p.data.id,l.recommnum=p.data.recommnum,l.branch=p.data.branch,l.company=p.data.company,l.department=p.data.department,l.warehouse=p.data.warehouse,l.user=p.data.user,l.problem=p.data.problem,l.brand=p.data.brand,l.model=p.data.model,l.assettag=p.data.assettag,l.serialnum=p.data.serialnum,l.status=p.data.status,l.assconducted=p.data.assconducted,l.recommendation=p.data.recommendation,l.createdby=p.data.createdby.cfull_name,l.updatedby=p.data.updatedby.ufull_name,l.created_at=ve(p.data.created_at).format("MMMM D, YYYY"),l.updated_at=ve(p.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=p.data.createdby.cposition,l.updated_position=p.data.updatedby.uposition}).catch(p=>{actions.setErrors(p.response.data.errors)})};return _e(()=>{c(),document.title=y}),(p,x)=>(t(),a(H,null,[e("div",jb,[e("div",Ob,[zb,e("div",Gb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,Qb),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,Wb)]),e("div",Kb,[e("span",null,[Y("Recommendation No: "),e("strong",null,s(l.recommnum),1)]),e("span",null,[Y("Date Checked: "),e("strong",null,s(l.created_at),1)])]),e("div",Xb,[e("div",null,[e("span",null,[Y("Company: "),e("strong",null,s(l.company),1)]),Jb,e("span",null,[Y("Branch: "),e("strong",null,s(l.branch),1)])]),Zb,e("div",null,[l.warehouse==""?(t(),a("span",e1,[Y("Warehouse: "),t1,Y(s(l.warehouse),1)])):T("",!0),s1,e("span",null,[Y("User: "),e("strong",null,s(l.user),1)]),a1,e("span",null,[Y("Department: "),e("strong",null,s(l.department),1)])]),o1]),l1,e("div",n1,[e("div",d1,[e("div",null,[i1,e("strong",null,s(l.brand),1),c1,r1,e("strong",null,s(l.model),1),u1]),_1,e("div",null,[m1,e("strong",null,s(l.serialnum),1),h1,p1,e("strong",null,s(l.assettag),1),v1]),b1])]),f1,e("div",$1,[e("p",null,s(l.problem),1)]),g1,e("div",y1,[e("p",null,s(l.assconducted),1)]),k1,e("div",x1,[e("p",null,s(l.recommendation),1)]),e("div",w1,[e("div",null,[C1,S1,e("span",U1,s(l.createdby),1),D1,e("span",null,s(l.created_position),1)]),M1,e("div",null,[V1,A1,e("span",E1,s(l.updatedby),1),T1,e("span",null,s(l.updated_position),1),P1]),L1]),l.status===2?(t(),a("span",F1,"Approved date:("+s(l.updated_at)+")",1)):(t(),a("span",I1,"Pending"))])]),l.status===2?(t(),a("div",Y1,[e("div",{class:"button iconbutton bg-success",onClick:x[0]||(x[0]=P=>u())},B1)])):T("",!0)],64))}};var at=ge(N1,[["__scopeId","data-v-18d1690e"]]);const R1={},H1={class:"card mx-auto",style:{"max-width":"600px"}},j1=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),O1={class:"card-body"},z1={class:"list-unstyled"};function G1(o,y){return t(),a("div",H1,[j1,e("div",O1,[e("ul",z1,[e("li",{class:"nav-item dropdown",onClick:y[0]||(y[0]=(...u)=>o.fetchNotifications&&o.fetchNotifications(...u))})])])])}var Q1=ge(R1,[["render",G1]]);const W1=["checked"],K1={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:y}){he(),me();const u=o,l=y,c=()=>{l("toggleSelection",u.item)};return(p,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,W1)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.location),1),e("td",null,s(o.item.paccountable),1)]))}};var X1=ge(K1,[["__scopeId","data-v-c5620630"]]);const J1={class:"content"},Z1={class:"container-fluid"},ef={class:"d-flex justify-content-between"},tf={class:"d-flex"},sf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),af={key:0},of=e("i",{class:"fa fa-trash mr-1"},null,-1),lf={class:"ml-2"},nf={class:"card"},df={class:"card-body"},cf={class:"table-responsive"},rf={class:"table table-bordered table-sm table-striped hover"},uf=e("th",{style:{width:"10px"}},"#",-1),_f=e("th",null,"Asset",-1),mf=e("th",null,"Asset type",-1),hf=e("th",null,"Serial",-1),pf=e("th",null,"Date Aquired",-1),vf=e("th",null,"Suppliear",-1),bf=e("th",null,"Unit",-1),ff=e("th",null,"Location",-1),$f={key:0},gf={key:1},yf=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),kf=[yf],xf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wf={class:"modal-dialog modal-lg",role:"document"},Cf={class:"modal-content"},Sf={class:"modal-header"},Uf={class:"modal-title",id:"staticBackdropLabel"},Df={key:0},Mf={key:1},Vf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Af={class:"modal-body"},Ef={class:"col-md-12"},Tf={class:"row"},Pf={class:"col-6"},Lf={class:"form-group"},Ff=e("label",{for:"branch"},"Branch",-1),If=e("option",{value:"",disabled:""}," Select Branch ",-1),Yf=["value"],qf={class:"invalid-feedback"},Bf={class:"form-group"},Nf=e("label",{for:"department"},"Asset Name",-1),Rf={class:"invalid-feedback"},Hf={class:"form-group"},jf=e("label",{for:"asset_type"},"Asset Type",-1),Of={class:"invalid-feedback"},zf={class:"form-group"},Gf=e("label",{for:"serial"},"Serial #:",-1),Qf={class:"invalid-feedback"},Wf={class:"col-6"},Kf={class:"form-group"},Xf=e("label",{for:"date_acquired"},"Date Acquired",-1),Jf={class:"invalid-feedback"},Zf={class:"form-group"},e$=e("label",{for:"man_supplier"},"Brand",-1),t$={class:"invalid-feedback"},s$={class:"form-group"},a$=e("label",{for:"unit"},"Unit",-1),o$={class:"invalid-feedback"},l$={class:"row"},n$={class:"col-6"},d$={class:"form-group"},i$=e("label",{for:"location"},"location",-1),c$={class:"invalid-feedback"},r$={class:"form-group"},u$=e("label",{for:"paccountable"},"Person Accountable",-1),_$={class:"invalid-feedback"},m$={class:"col-6"},h$={class:"form-group"},p$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),v$={class:"invalid-feedback"},b$={class:"row"},f$={class:"col-6"},$$={class:"form-group"},g$=e("label",{for:"cucondition"},"Current Condition",-1),y$=e("option",{value:"",disabled:""}," Select Condition ",-1),k$=["value"],x$={class:"invalid-feedback"},w$={class:"form-group"},C$=e("label",{for:"mentenancenotes"},"Maintenance Notes",-1),S$={class:"col-6"},U$={class:"form-group"},D$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),M$={class:"form-group"},V$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),A$={class:"row"},E$={class:"col-6"},T$={class:"form-group"},P$=e("label",{for:"operationhours"},"Operating Hours",-1),L$={class:"col-6"},F$={class:"form-group"},I$=e("label",{for:"notes"},"Notes",-1),Y$={class:"invalid-feedback"},q$={class:"row"},B$={class:"col-6"},N$={class:"form-group"},R$=e("label",{for:"purchasecost"},"Purchase Cost",-1),H$={class:"col-6"},j$={class:"form-group"},O$=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),z$={class:"invalid-feedback"},G$={class:"modal-footer"},Q$={key:0},W$={key:0,class:"btn-group float-l ml-auto"},K$=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),X$={class:"dropdown-menu",role:"menu"},J$=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Z$=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),eg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},tg={class:"modal-dialog",role:"document"},sg={class:"modal-content"},ag=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),og={class:"modal-footer"},lg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),ng={__name:"AssetmList",setup(o){const y=`${fe().name}`,u=he(),l=n({data:[]}),c=n({data:[]}),p=n(!1),x=n(!1),P=n(),w=n(!0),h=Ae({id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",ceated_by:"",updated_by:""}),f=me();n(null);const r=n(),_=(v=1)=>{p.value=!0,E.get(`/web/asset-monitoring?page=${v}`,{params:{query:i.value}}).then(m=>{p.value=!1,l.value=m.data,V.value=[],S.value=!1})},k=()=>{E.get("/api/GetParentId").then(v=>{c.value=v.data}).catch(v=>{console.error(v)})},B=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),G=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),K=({resetForm:v,setErrors:m})=>{E.post("/api/menulist",{menu_title:h.menu_title,parent_id:h.parent_id,menu_icon:h.menu_icon,menu_route:h.menu_route,sort_order:h.sort_order,is_active:h.is_active}).then(le=>{l.value.data.unshift(le.data),$("#FormModal").modal("hide"),v(),u.success("User created successfully!")}).catch(le=>{le.response.data.errors&&m(le.response.data.errors)})},J=()=>{x.value=!1,$("#FormModal").modal("show")},O=v=>{x.value=!0,h.menu_id=v.menu_id,h.menu_title=v.menu_title,h.parent_id=v.parent_id,h.menu_icon=v.menu_icon,h.menu_route=v.menu_route,h.sort_order=v.sort_order,h.is_active===1?w.value=!0:w.value=!1,h.is_active=v.is_active,$("#FormModal").modal("show"),r.value=v.parent_id},C=({setErrors:v})=>{E.post("/api/menulist",h).then(m=>{_(),$("#FormModal").modal("hide"),u.success("successfully Updated!")}).catch(m=>{v(m.response.data.errors),console.log(m)})},I=(v,m)=>{x.value?C(v):K(v)},i=n(null),V=n([]),j=v=>{const m=V.value.indexOf(v.id);m===-1?V.value.push(v.id):V.value.splice(m,1),console.log(V.value)},se=n(null),ee=v=>{se.value=v,$("#deleteClientModal").modal("show")},de=()=>{alert("message")},pe=()=>{E.delete(`/api/menu/${se.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(v=>v.menu_id!==se.value)})},z=()=>{E.delete("menulist",{data:{ids:V.value}}).then(v=>{l.value.data=l.value.data.filter(m=>!V.value.includes(m.id)),V.value=[],S.value=!1,u.success(v.data.message)})},S=n(!1),A=()=>{S.value?V.value=l.value.data.map(v=>v.id):V.value=[],console.log(V.value)};return be([w],v=>{h.is_active=v?1:0}),be(i,Te.exports.debounce(()=>{_()},300)),_e(()=>{_(),k(),document.title=y}),(v,m)=>{const le=$e("font"),L=$e("tab-content"),Q=$e("form-wizard");return t(),a(H,null,[e("div",J1,[e("div",Z1,[e("div",ef,[e("div",tf,[e("button",{onClick:J,type:"button",class:"mb-2 btn btn-primary"},[sf,Y(" Asset ")]),V.value.length>0?(t(),a("div",af,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[of,Y(" Delete Selected ")]),e("span",lf,"Selected "+s(V.value.length)+" techrecomm",1)])):T("",!0)]),e("div",null,[X(e("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=D=>i.value=D),class:"form-control",placeholder:"Search..."},null,512),[[ue,i.value]])])]),e("div",nf,[e("div",df,[p.value?(t(),ce(Ee,{key:0})):T("",!0),e("div",cf,[g(le,{size:"2"},{default:Z(()=>[e("table",rf,[e("thead",null,[e("tr",null,[e("th",null,[X(e("input",{type:"checkbox","onUpdate:modelValue":m[1]||(m[1]=D=>S.value=D),onChange:A},null,544),[[Ue,S.value]])]),uf,_f,mf,hf,pf,vf,bf,ff])]),l.value.data.length>0?(t(),a("tbody",$f,[(t(!0),a(H,null,W(l.value.data,(D,U)=>(t(),ce(X1,{key:D.id,item:D,index:U,onEditMenu:O,onConfirmDeletion:ee,onToggleSelection:j,"select-all":S.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",gf,kf))])]),_:1})])])]),g(d(Ie),{data:l.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",xf,[e("div",wf,[e("div",Cf,[e("div",Sf,[e("h5",Uf,[x.value?(t(),a("span",Df,"Edit Asset")):(t(),a("span",Mf,"Add Asset"))]),Vf]),g(d(De),{onSubmit:I,"validation-schema":x.value?d(G):d(B),"initial-values":P.value},{default:Z(({errors:D})=>[e("div",Af,[e("div",Ef,[g(Q,{onOnComplete:de,color:"#094899","step-size":"xs"},{default:Z(()=>[g(L,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",Tf,[e("div",Pf,[e("div",Lf,[Ff,g(d(R),{as:"select",name:"branch",class:M(["form-control",{"is-invalid":D.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:h.branch,"onUpdate:modelValue":m[2]||(m[2]=U=>h.branch=U)},{default:Z(()=>[If,(t(!0),a(H,null,W(v.listsite,U=>(t(),a("option",{key:U.site_name,value:U.site_name},s(U.site_name),9,Yf))),128))]),_:2},1032,["class","modelValue"]),e("span",qf,s(D.branch),1)]),e("div",Bf,[Nf,g(d(R),{name:"asset_name",type:"text",class:M(["form-control",{"is-invalid":D.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:h.asset_name,"onUpdate:modelValue":m[3]||(m[3]=U=>h.asset_name=U)},null,8,["class","modelValue"]),e("span",Rf,s(D.asset_name),1)]),e("div",Hf,[jf,g(d(R),{name:"asset_type",type:"text",class:M(["form-control",{"is-invalid":D.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:h.asset_type,"onUpdate:modelValue":m[4]||(m[4]=U=>h.asset_type=U)},null,8,["class","modelValue"]),e("span",Of,s(D.asset_type),1)]),e("div",zf,[Gf,g(d(R),{name:"serial",type:"text",class:M(["form-control",{"is-invalid":D.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:h.serial,"onUpdate:modelValue":m[5]||(m[5]=U=>h.serial=U)},null,8,["class","modelValue"]),e("span",Qf,s(D.serial),1)])]),e("div",Wf,[e("div",Kf,[Xf,g(d(R),{name:"date_acquired",type:"date",class:M(["form-control",{"is-invalid":D.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:h.date_acquired,"onUpdate:modelValue":m[6]||(m[6]=U=>h.date_acquired=U)},null,8,["class","modelValue"]),e("span",Jf,s(D.date_acquired),1)]),e("div",Zf,[e$,g(d(R),{name:"man_supplier",type:"text",class:M(["form-control",{"is-invalid":D.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:h.man_supplier,"onUpdate:modelValue":m[7]||(m[7]=U=>h.man_supplier=U)},null,8,["class","modelValue"]),e("span",t$,s(D.man_supplier),1)]),e("div",s$,[a$,g(d(R),{name:"unit",type:"number",class:M(["form-control",{"is-invalid":D.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:h.unit,"onUpdate:modelValue":m[8]||(m[8]=U=>h.unit=U)},null,8,["class","modelValue"]),e("span",o$,s(D.unit),1)])])])]),_:2},1024),g(L,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",l$,[e("div",n$,[e("div",d$,[i$,g(d(R),{name:"location",type:"text",class:M(["form-control",{"is-invalid":D.location}]),id:"location","aria-describedby":"nameHelp",placeholder:"Enter location",modelValue:h.location,"onUpdate:modelValue":m[9]||(m[9]=U=>h.location=U)},null,8,["class","modelValue"]),e("span",c$,s(D.location),1)]),e("div",r$,[u$,g(d(R),{name:"paccountable",type:"text",class:M(["form-control",{"is-invalid":D.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:h.paccountable,"onUpdate:modelValue":m[10]||(m[10]=U=>h.paccountable=U)},null,8,["class","modelValue"]),e("span",_$,s(D.paccountable),1)])]),e("div",m$,[e("div",h$,[p$,g(d(R),{name:"locationchangetranfer",type:"text",class:M(["form-control",{"is-invalid":D.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:h.locationchangetranfer,"onUpdate:modelValue":m[11]||(m[11]=U=>h.locationchangetranfer=U)},null,8,["class","modelValue"]),e("span",v$,s(D.locationchangetranfer),1)])])])]),_:2},1024),g(L,{title:"Asset Condition"},{default:Z(()=>[e("div",b$,[e("div",f$,[e("div",$$,[g$,g(d(R),{as:"select",name:"cucondition",class:M(["form-control",{"is-invalid":D.cucondition}]),id:"cucondition","aria-describedby":"branchHelp",modelValue:h.cucondition,"onUpdate:modelValue":m[12]||(m[12]=U=>h.cucondition=U)},{default:Z(()=>[y$,(t(!0),a(H,null,W(v.listsite,U=>(t(),a("option",{key:U.site_name,value:U.site_name},s(U.site_name),9,k$))),128))]),_:2},1032,["class","modelValue"]),e("span",x$,s(D.cucondition),1)]),e("div",w$,[C$,g(d(R),{name:"mentenancenotes",as:"textarea",class:M(["form-control",{"is-invalid":D.mentenancenotes}]),id:"mentenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:h.mentenancenotes,"onUpdate:modelValue":m[13]||(m[13]=U=>h.mentenancenotes=U)},null,8,["class","modelValue"])])]),e("div",S$,[e("div",U$,[D$,g(d(R),{name:"lastmaintenance",type:"date",class:M(["form-control",{"is-invalid":D.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:h.lastmaintenance,"onUpdate:modelValue":m[14]||(m[14]=U=>h.lastmaintenance=U)},null,8,["class","modelValue"])]),e("div",M$,[V$,g(d(R),{name:"nextmaintenance",type:"date",class:M(["form-control",{"is-invalid":D.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:h.nextmaintenance,"onUpdate:modelValue":m[15]||(m[15]=U=>h.nextmaintenance=U)},null,8,["class","modelValue"])])])])]),_:2},1024),g(L,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",A$,[e("div",E$,[e("div",T$,[P$,g(d(R),{name:"operationhours",type:"number",class:M(["form-control",{"is-invalid":D.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:h.operationhours,"onUpdate:modelValue":m[16]||(m[16]=U=>h.operationhours=U)},null,8,["class","modelValue"])])]),e("div",L$,[e("div",F$,[I$,g(d(R),{name:"notes",as:"textarea",class:M(["form-control",{"is-invalid":D.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:h.notes,"onUpdate:modelValue":m[17]||(m[17]=U=>h.notes=U)},null,8,["class","modelValue"]),e("span",Y$,s(D.notes),1)])])])]),_:2},1024),g(L,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",q$,[e("div",B$,[e("div",N$,[R$,g(d(R),{name:"purchasecost",type:"number",class:M(["form-control",{"is-invalid":D.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:h.purchasecost,"onUpdate:modelValue":m[18]||(m[18]=U=>h.purchasecost=U)},null,8,["class","modelValue"])])]),e("div",H$,[e("div",j$,[O$,g(d(R),{name:"insurancewarrantyinfo",as:"textarea",class:M(["form-control",{"is-invalid":D.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:h.insurancewarrantyinfo,"onUpdate:modelValue":m[19]||(m[19]=U=>h.insurancewarrantyinfo=U)},null,8,["class","modelValue"]),e("span",z$,s(D.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),e("div",G$,[x.value?(t(),a("div",Q$,[d(f).user.role==="ADMIN"?(t(),a("div",W$,[e("button",{type:"button",onClick:m[20]||(m[20]=U=>v.handleGetAction(2)),class:"btn btn-info"}," Approved "),K$,e("div",X$,[e("span",{onClick:m[21]||(m[21]=U=>v.handleGetAction(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:m[22]||(m[22]=U=>v.handleGetAction(3)),class:"dropdown-item"},"Disapproved")])])):T("",!0)])):T("",!0),J$,Z$])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",eg,[e("div",tg,[e("div",sg,[ag,e("div",og,[lg,e("button",{onClick:ie(pe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const ne=o=>(Me("data-v-3edb393b"),o=o(),Ve(),o),dg={class:"content"},ig={class:"container-fluid"},cg={class:"d-flex justify-content-between"},rg={class:"d-flex"},ug=ne(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),_g={key:0},mg=ne(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),hg={class:"ml-2"},pg={class:"card"},vg={class:"card-header"},bg={class:"card-title"},fg={class:"form-group",style:{display:"inline-block"}},$g=ne(()=>e("option",{value:"",disabled:""},"Select a site",-1)),gg=["value"],yg={class:"card-tools"},kg=ne(()=>e("div",null,null,-1)),xg={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},wg=ne(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Cg={class:"card-body"},Sg={key:1,class:"table-responsive"},Ug={class:"table table-bordered table-sm table-striped table-hover"},Dg=ne(()=>e("th",null,null,-1)),Mg=ne(()=>e("th",null,"Date",-1)),Vg=ne(()=>e("th",null,"Allocated Pallet Space",-1)),Ag=ne(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Eg=ne(()=>e("th",null,"Space Utilization %",-1)),Tg=ne(()=>e("th",null,"Excess",-1)),Pg={key:0},Lg={key:1},Fg=ne(()=>e("th",null,"Remarks",-1)),Ig=ne(()=>e("th",null,"Action",-1)),Yg={key:0},qg=["item","index"],Bg=["checked"],Ng={key:0},Rg={key:1},Hg=["onClick"],jg=ne(()=>e("i",{class:"fa fa-edit"},null,-1)),Og=[jg],zg={key:0},Gg=ne(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),Qg={colspan:"3"},Wg={key:1},Kg=ne(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),Xg=[Kg],Jg={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Zg={class:"modal-dialog modal-sm",role:"document"},ey={class:"modal-content"},ty={class:"modal-header"},sy={class:"modal-title",id:"staticBackdropLabel"},ay={key:0},oy={key:1},ly=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),ny={class:"modal-body"},dy={class:"col-md-12"},iy={class:"row"},cy={class:"col-12"},ry={class:"form-group"},uy=ne(()=>e("label",{for:"date"},"Date",-1)),_y={class:"invalid-feedback"},my={class:"form-group"},hy=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),py={class:"invalid-feedback"},vy={class:"form-group"},by=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),fy={class:"invalid-feedback"},$y={class:"form-group"},gy=ne(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),yy={class:"invalid-feedback"},ky=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),xy={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wy={class:"modal-dialog",role:"document"},Cy={class:"modal-content"},Sy=we('<div class="modal-header" data-v-3edb393b><h5 class="modal-title" id="staticBackdropLabel" data-v-3edb393b><span data-v-3edb393b>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-3edb393b><span aria-hidden="true" data-v-3edb393b>\xD7</span></button></div><div class="modal-body" data-v-3edb393b><h5 data-v-3edb393b>Are you sure you want to delete this record ?</h5></div>',2),Uy={class:"modal-footer"},Dy=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),My={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vy={class:"modal-dialog modal-sm",role:"document"},Ay={class:"modal-content"},Ey=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Ty={class:"modal-body"},Py={class:"fromtocenter"},Ly=ne(()=>e("label",{for:"fromDate"},"From:",-1)),Fy=ne(()=>e("label",{for:"toDate"},"To:",-1)),Iy={class:"modal-footer"},Yy=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),qy={__name:"PalletList",setup(o){const y=Je("$swal"),u=`${fe().name}`,l=he(),c=n({data:[]}),p=n(),x=n(!1),P=n(!1),w=me(),h=n(!0),f=n(!0),r=Ae({id:"",site_id:"",user_id:w.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});n(null);const _=n(),k=()=>{x.value=!0,E.get("/web/pallet",{params:{site_id:r.site_id,query:z.value}}).then(D=>{x.value=!1,c.value=D.data.data,_.value=D.data.sum,S.value=[],Q.value=!1})},B=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),G=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),K=n(""),J=n(""),O=n({start_date:"",end_date:""});be([K],()=>{const D=new Date(K.value),U=D.getFullYear(),ke=String(D.getMonth()+1).padStart(2,"0"),te=String(D.getDate()).padStart(2,"0");O.value.start_date=`${U}-${ke}-${te}`}),be([J],()=>{const D=new Date(J.value),U=D.getFullYear(),ke=String(D.getMonth()+1).padStart(2,"0"),te=String(D.getDate()).padStart(2,"0");O.value.end_date=`${U}-${ke}-${te}`});const C=()=>{x.value=!0,E.get("/web/filter-pallet",{params:{start_date:O.value.start_date,end_date:O.value.end_date,site_id:r.site_id}}).then(D=>{x.value=!1,c.value=D.data.data,_.value=D.data.sum}).catch(D=>{console.error(D)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},I=()=>{r.id="",r.user_id=w.user.id,r.date="",r.allocatedpalletspace="",r.spaceuteltotal="",r.caseperpallet=""},i=({resetForm:D,setErrors:U})=>{E.post("/web/pallet",{site_id:r.site_id,user_id:r.user_id,date:r.date,allocatedpalletspace:r.allocatedpalletspace,spaceuteltotal:r.spaceuteltotal,caseperpallet:r.caseperpallet}).then(ke=>{k(),$("#FormModal").modal("hide"),I(),l.success("Data created successfully!")}).catch(function(ke){ke.response?l.error(ke.response.data.message):ke.request?l.error(ke.request):l.error("Error",ke.message)})},V=()=>{E.get("/web/getsite").then(D=>{p.value=D.data.sites}).catch(D=>{console.log(D)})},j=()=>{k(r.site_id)},se=()=>{if(!r.site_id||r.site_id.length===0){y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}P.value=!1,$("#FormModal").modal("show")},ee=D=>{P.value=!0,r.id=D.id,r.user_id=D.user_id,r.site_id=D.site_id,r.date=D.date,r.allocatedpalletspace=D.allocatedpalletspace,r.spaceuteltotal=D.spaceuteltotal,r.caseperpallet=D.caseperpallet,$("#FormModal").modal("show")},de=({setErrors:D})=>{E.post("/web/pallet",r).then(U=>{I(),k(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(U=>{D(U.response.data.errors),console.log(U)})},pe=(D,U)=>{P.value?de(D):i(D)},z=n(null),S=n([]),A=D=>{const U=S.value.indexOf(D.id);U===-1?S.value.push(D.id):S.value.splice(U,1),console.log(S.value)},v=n(null),m=()=>{E.delete(`/web/pallet/${v.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),c.value.data=c.value.data.filter(D=>D.id!==v.value)})},le=()=>{E.delete("/web/bulkDelete",{data:{ids:S.value}}).then(D=>{k(),S.value=[],Q.value=!1,l.success(D.data.message)})},L=()=>{if(!r.site_id||r.site_id.length===0){y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},Q=n(!1);return be([f],D=>{r.is_active=D?1:0}),be(z,Te.exports.debounce(()=>{k()},300)),_e(()=>{V(),document.title=u}),(D,U)=>{const ke=$e("font");return t(),a(H,null,[e("div",dg,[e("div",ig,[e("div",cg,[e("div",rg,[e("button",{onClick:se,type:"button",class:"mb-2 btn btn-primary"},[ug,Y(" Pallet ")]),S.value.length>0?(t(),a("div",_g,[e("button",{onClick:le,type:"button",class:"ml-2 mb-2 btn btn-danger"},[mg,Y(" Delete Selected ")]),e("span",hg,"Selected "+s(S.value.length)+" Pallet",1)])):T("",!0)])]),e("div",pg,[e("div",vg,[e("div",bg,[e("div",fg,[X(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":U[0]||(U[0]=te=>r.site_id=te),onChange:U[1]||(U[1]=te=>j())},[$g,(t(!0),a(H,null,W(p.value,te=>(t(),a("option",{key:te.id,value:te.id},s(te.site_name),9,gg))),128))],544),[[Pe,r.site_id]])])]),e("div",yg,[kg,e("div",xg,[X(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":U[2]||(U[2]=te=>h.value=te)},null,512),[[Ue,h.value]]),wg,Y("\xA0"),e("i",{class:"fa fa-filter mr-1",onClick:L})])])]),e("div",Cg,[x.value?(t(),ce(Ee,{key:0})):(t(),a("div",Sg,[g(ke,{size:"2"},{default:Z(()=>[e("table",Ug,[e("thead",null,[e("tr",null,[Dg,Mg,Vg,Ag,Eg,Tg,h.value?(t(),a("th",Pg,"Cost per Pallet")):T("",!0),h.value?(t(),a("th",Lg,"Cost")):T("",!0),Fg,Ig])]),c.value.length>0?(t(),a("tbody",Yg,[(t(!0),a(H,null,W(c.value,(te,Ce)=>(t(),a("tr",{key:te.id,item:te,index:Ce},[e("td",null,[e("input",{type:"checkbox",checked:Q.value,onChange:A},null,40,Bg)]),e("td",null,s(d(ve)(te.date).format("MMMM DD, YY")),1),e("td",null,s(te.allocatedpalletspace),1),e("td",null,s(te.spaceuteltotal),1),e("td",null,s(te.spacetotalutelpercent),1),e("td",null,s(te.excess),1),h.value?(t(),a("td",Ng,s(te.caseperpallet),1)):T("",!0),h.value?(t(),a("td",Rg,s(te.cost),1)):T("",!0),e("td",null," EXCESS "+s(te.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:Ne=>ee(te)},Og,8,Hg)])],8,qg))),128)),h.value?(t(),a("tr",zg,[Gg,e("td",Qg,[e("b",null,s(_.value),1)])])):T("",!0)])):(t(),a("tbody",Wg,Xg))])]),_:1})]))])])])]),e("div",Jg,[e("div",Zg,[e("div",ey,[e("div",ty,[e("h5",sy,[P.value?(t(),a("span",ay,"Edit Pallet")):(t(),a("span",oy,"Add Pallet"))]),ly]),g(d(De),{onSubmit:pe,"validation-schema":P.value?d(G):d(B)},{default:Z(({errors:te})=>[e("div",ny,[e("div",dy,[e("div",iy,[e("div",cy,[g(d(R),{modelValue:r.user_id,"onUpdate:modelValue":U[3]||(U[3]=Ce=>r.user_id=Ce),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",ry,[uy,g(d(R),{name:"date",type:"date",class:M(["form-control",{"is-invalid":te.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:r.date,"onUpdate:modelValue":U[4]||(U[4]=Ce=>r.date=Ce)},null,8,["class","modelValue"]),e("span",_y,s(te.date),1)]),e("div",my,[hy,g(d(R),{name:"allocatedpalletspace",type:"text",class:M(["form-control",{"is-invalid":te.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:r.allocatedpalletspace,"onUpdate:modelValue":U[5]||(U[5]=Ce=>r.allocatedpalletspace=Ce)},null,8,["class","modelValue"]),e("span",py,s(te.allocatedpalletspace),1)]),e("div",vy,[by,g(d(R),{name:"spaceuteltotal",type:"text",class:M(["form-control",{"is-invalid":te.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:r.spaceuteltotal,"onUpdate:modelValue":U[6]||(U[6]=Ce=>r.spaceuteltotal=Ce),required:""},null,8,["class","modelValue"]),e("span",fy,s(te.spaceuteltotal),1)]),e("div",$y,[gy,g(d(R),{name:"caseperpallet",type:"text",class:M(["form-control",{"is-invalid":te.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:r.caseperpallet,"onUpdate:modelValue":U[7]||(U[7]=Ce=>r.caseperpallet=Ce)},null,8,["class","modelValue"]),e("span",yy,s(te.caseperpallet),1)])])])])]),ky]),_:1},8,["validation-schema"])])])]),e("div",xy,[e("div",wy,[e("div",Cy,[Sy,e("div",Uy,[Dy,e("button",{onClick:ie(m,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",My,[e("div",Vy,[e("div",Ay,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(u)+" Report")]),Ey]),e("div",Ty,[e("div",Py,[e("div",null,[Ly,g(d(Fe),{modelValue:K.value,"onUpdate:modelValue":U[8]||(U[8]=te=>K.value=te)},null,8,["modelValue"])]),e("div",null,[Fy,g(d(Fe),{modelValue:J.value,"onUpdate:modelValue":U[9]||(U[9]=te=>J.value=te)},null,8,["modelValue"])])])]),e("div",Iy,[Yy,e("button",{onClick:U[10]||(U[10]=te=>C()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var By=ge(qy,[["__scopeId","data-v-3edb393b"]]);const Ny=o=>(Me("data-v-298b68f9"),o=o(),Ve(),o),Ry={class:"content"},Hy={class:"container-fluid"},jy={class:"row"},Oy={class:"col-md-6"},zy={class:"card"},Gy={class:"card-title"},Qy={class:"form-group m-3"},Wy=Ny(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Ky=["value"],Xy={class:"card-body"},Jy={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Zy={class:"custom-control custom-checkbox"},e2=["value","id","checked"],t2=["for"],s2={class:"card-footer"},a2={__name:"UserSite",setup(o){me();const y=`${fe().name}`,u=he();n(!0);const l=Ae({user_id:""});n(null),n();const c=n(),p=n(),x=n([]),P=()=>{E.get("/api/users/userlist").then(r=>{p.value=r.data}).catch(r=>{console.log(r)})},w=r=>{r!==null?E.get(`/web/usersite/${r}`).then(_=>{c.value=_.data}).catch(_=>{console.error("Error fetching site data for user:",_)}):E.get("/web/getsitewithoutuser").then(_=>{c.value=_.data}).catch(_=>{console.error("Error fetching site data without user:",_)})},h=()=>{const r={user_id:l.user_id,site_id:x.value};console.log(r),E.post("/web/onSaveupdate",r).then(_=>{u.success("User Site Save successfully!")}).catch(_=>{setErrors(_.response.data.errors)})},f=r=>{w(r)};return _e(()=>{P(),w(),document.title=y}),(r,_)=>(t(),a("div",Ry,[e("div",Hy,[e("div",jy,[e("div",Oy,[e("div",zy,[e("div",Gy,[e("div",Qy,[g(d(R),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":_[0]||(_[0]=k=>l.user_id=k),onChange:_[1]||(_[1]=k=>f(l.user_id))},{default:Z(()=>[Wy,(t(!0),a(H,null,W(p.value,k=>(t(),a("option",{key:k.id,value:k.id},s(k.name),9,Ky))),128))]),_:1},8,["modelValue"])])]),e("div",Xy,[e("ul",Jy,[(t(!0),a(H,null,W(c.value,k=>(t(),a("li",{key:k.id,class:"list-group-item"},[e("div",Zy,[X(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":_[2]||(_[2]=B=>x.value=B),value:k.id,id:"site_id_"+k.id,checked:k.hasAccess},null,8,e2),[[Ue,x.value]]),e("label",{for:"site_id_"+k.id,class:"custom-control-label"},s(k.site_name),9,t2)])]))),128))]),e("div",s2,[e("button",{type:"button",onClick:_[3]||(_[3]=k=>h()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var o2=ge(a2,[["__scopeId","data-v-298b68f9"]]),l2=[{path:"/login",name:"admin.login",component:On},{path:"/dashboard",name:"Dashboard",component:Et},{path:"/appointments",name:"Appointments",component:Zt},{path:"/appointments/create",name:"Appointments",component:Ke},{path:"/appointments/:id/edit",name:"Appointments",component:Ke},{path:"/user",name:"User",component:Fo},{path:"/settings",name:"Setting",component:Dl},{path:"/profile",name:"Profile",component:kn},{path:"/client",name:"Client",component:Hd},{path:"/tech-recommendation",name:"Tech Recomm",component:or},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:sm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:wp},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Ah},{path:"/usermenu",name:"User Menu",component:gv},{path:"/menu",name:"Menu",component:qb},{path:"/:catchAll(.*)",name:"404 Error Page",component:st},{path:"/notifications",name:"Notifications",component:Q1},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:at},{path:"/asset-monitoring",name:"Asset Monitoring",component:ng},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:By},{path:"/usersite",name:"User Site",component:o2}];const n2={class:"navbar-nav"},d2=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),i2={class:"nav-item d-none d-sm-inline-block"},c2={class:"navbar-nav ml-auto"},r2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),u2=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),_2={class:"nav-link","data-toggle":"dropdown",href:"#"},m2=e("i",{class:"far fa-bell"},null,-1),h2={class:"badge badge-warning navbar-badge"},p2={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},v2={class:"dropdown-header"},b2=e("div",{class:"dropdown-divider"},null,-1),f2=e("i",{class:"fas fa-envelope mr-2"},null,-1),$2={class:"float-right text-muted text-sm"},g2={key:1,class:"text-center text-muted py-3"},y2=e("div",{class:"dropdown-divider"},null,-1),k2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),x2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),w2={__name:"AppNavbar",setup(o){const y=Re(),u=n([]),l=()=>{E.get("/api/notifications").then(c=>{u.value=c.data.notifications}).catch(c=>{console.error("Error fetching notifications",c)})};return _e(()=>{l()}),(c,p)=>{const x=$e("router-link");return t(),a("nav",{class:M(["main-header navbar navbar-expand",d(y).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",n2,[d2,e("li",i2,[e("a",{onClick:p[0]||(p[0]=ie((...P)=>d(y).changeTheme&&d(y).changeTheme(...P),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:M(["far",d(y).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",c2,[r2,u2,e("li",{class:"nav-item dropdown",onClick:l},[e("a",_2,[m2,e("span",h2,s(u.value.length),1)]),e("div",p2,[e("span",v2,s(u.value.length)+" Notifications",1),b2,u.value.length>0?(t(!0),a(H,{key:0},W(u.value,P=>(t(),a("a",{key:P.id,href:"#",class:"dropdown-item"},[f2,Y(" "+s(P.data?P.data:"No message available")+" ",1),e("span",$2,s(d(ve)(P.created_at)),1)]))),128)):(t(),a("p",g2,"No new notifications")),y2,g(x,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[Y("See All Notifications")]),_:1})])]),k2,x2])],2)}}},C2={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},S2={href:"#",class:"brand-link"},U2=["src"],D2={class:"brand-text font-weight-light"},M2={class:"sidebar"},V2={class:"user-panel mt-3 pb-3 mb-3 d-flex"},A2={key:0,class:"image"},E2=["src"],T2={key:1,class:"image"},P2=["src"],L2=["src"],F2={class:"info"},I2={href:"#",class:"d-block"},Y2={class:"mt-2"},q2={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},B2={key:0,class:"right fas fa-angle-left"},N2={key:0,class:"nav nav-treeview"},R2={class:"nav-item"},H2={class:"nav-link"},j2=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),O2=e("p",null,"Logout",-1),z2=[j2,O2],G2={__name:"SidebarLeft",setup(o){const y=ze(),u=me(),l=Re(),c=n({data:[]}),p=()=>{axios.get("/api/menu").then(w=>{c.value=w.data}).catch(w=>{console.log(w)})},x=w=>w===y.currentRoute.value.path,P=()=>{axios.post("/logout").then(w=>{u.user.name="",y.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),p()}),(w,h)=>{const f=$e("router-link");return t(),a("aside",C2,[e("a",S2,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,U2),e("span",D2,s(d(l).setting.app_name),1)]),e("div",M2,[e("div",V2,[d(u).user.avatar===""?(t(),a("div",A2,[e("img",{src:d(u).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,E2)])):d(u).user.avatar!==""?(t(),a("div",T2,[d(u).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,P2)):d(u).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,L2)):T("",!0)])):T("",!0),e("div",F2,[e("a",I2,s(d(u).user.name),1)])]),e("nav",Y2,[e("ul",q2,[(t(!0),a(H,null,W(c.value,r=>(t(),a("li",{key:r.id,class:M({"nav-item":!0,"has-submenu":r.submenus&&r.submenus.length>0})},[g(f,{class:M({"nav-link":!0,active:x(r.menu_route)}),to:`${r.menu_route}`},{default:Z(()=>[e("i",{class:M("nav-icon "+r.menu_icon)},null,2),e("p",null,s(r.menu_title),1),r.submenus&&r.submenus.length>0?(t(),a("i",B2)):T("",!0)]),_:2},1032,["class","to"]),r.submenus&&r.submenus.length>0?(t(),a("ul",N2,[(t(!0),a(H,null,W(r.submenus,_=>(t(),a("li",{key:_.id,class:"nav-item"},[g(f,{class:M({"nav-link":!0,active:x(_.menu_route)}),to:_.menu_route},{default:Z(()=>[e("i",{class:M("nav-icon "+_.menu_icon)},null,2),e("p",null,s(_.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):T("",!0)],2))),128)),e("li",R2,[e("form",H2,[e("a",{href:"#",onClick:ie(P,["prevent"])},z2)])])])])])])}}},Q2={},W2={class:"control-sidebar control-sidebar-dark"},K2=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),X2=[K2];function J2(o,y){return t(),a("aside",W2,X2)}var Z2=ge(Q2,[["render",J2]]);const ek={class:"main-footer"},tk={class:"float-right d-none d-sm-block"},sk={href:"#"},ak={__name:"AppFooter",props:{settings:Object},setup(o){const y=me(),u=n(new Date().getFullYear());return(l,c)=>{var p;return t(),a("footer",ek,[e("div",tk,s(d(y).user.name),1),e("strong",null,[Y("Copyright \xA9 "+s(u.value)+" ",1),e("a",sk,s((p=o.settings)==null?void 0:p.app_name),1),Y(".")]),Y(" All rights reserved. ")])}}};const ok=o=>(Me("data-v-36653638"),o=o(),Ve(),o),lk={class:"content-wrapper"},nk={class:"content-header"},dk={class:"container-fluid"},ik={class:"row mb-2"},ck={class:"col-sm-6"},rk={class:"m-0"},uk={class:"col-sm-6"},_k={class:"breadcrumb float-sm-right"},mk=ok(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),hk={class:"breadcrumb-item active"},pk={__name:"CustomMainLayout",setup(o){const y=me(),u=Re(),l=Le(()=>u.theme==="dark"?"dark-mode":"");return(c,p)=>{const x=$e("router-view");return d(y).user.name!==""?(t(),a("div",{key:0,class:M(["wrapper",l.value])},[g(w2),g(G2),g(Z2),e("div",lk,[e("section",nk,[e("div",dk,[e("div",ik,[e("div",ck,[e("h1",rk,s(c.$route.name),1)]),e("div",uk,[e("ol",_k,[mk,e("li",hk,s(c.$route.name),1)])])])])]),g(x)]),g(ak)],2)):(t(),a("div",{key:1,class:M(["login-page slibg",l.value])},[g(x)],2))}}};var vk=ge(pk,[["__scopeId","data-v-36653638"]]);const bk={__name:"App",setup(o){me();const y=fe(),u=Le(()=>y.name==="Tech-Approved"),l=Le(()=>y.name==="404 Error Page");return(c,p)=>(t(),a("div",null,[!l.value&&!u.value?(t(),ce(vk,{key:0})):u.value?(t(),ce(at,{key:1})):(t(),ce(st,{key:2}))]))}};var fk=ge(bk,[["__scopeId","data-v-252b567e"]]);const $k=ct(),Be=mt(fk),ot=rt({routes:l2,history:ut()});ot.beforeEach(async(o,y)=>{const u=me();if(u.user.name===""&&o.name!=="admin.login"){const l=Re();await Promise.all([u.getAuthUser(),l.getSetting()])}});Be.use(Ct);Be.use($k);Be.use(ot);Be.use(wt);Be.use(et);Be.mount("#app");
