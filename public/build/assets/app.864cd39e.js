import{_ as ct,l as Ee}from"./lodash.d4ecb7e7.js";import{a as F}from"./axios.82d3905a.js";import{a as rt}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as tt,c as ut}from"./pinia.210ccde5.js";import{u as fe,a as Ke,c as _t,b as mt}from"./vue-router.abad5649.js";import{r as c,o as ue,i as a,k as e,x as t,_ as g,u as r,e as s,I as Se,h as Z,j as U,F as G,q as X,d as ge,a0 as te,v as Y,C as Ve,a2 as ee,a3 as re,aa as Te,p as L,w as ve,ab as xe,f as ce,B as Xe,a5 as De,a6 as Ue,ac as st,ad as Me,a1 as Qe,ae as pt}from"./@vue.04713aa0.js";import{B as ht}from"./vue-chartjs.50c6886f.js";import{C as vt,p as bt,a as ft,b as $t,c as gt,d as yt,L as kt}from"./chart.js.562acd0f.js";import{S as Ze}from"./sweetalert2.c578665c.js";import{t as He}from"./toastr.c863df60.js";import{F as Ce,a as B}from"./vee-validate.1443789f.js";import{f as at}from"./flatpickr.181c7977.js";import{c as ke,a as I}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as he}from"./moment.40bc58bf.js";import{a as Pe}from"./laravel-vue-pagination.475a8c82.js";import{C as xt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as wt}from"./@vueuse.5a8c8091.js";import{L as Fe}from"./vue3-datepicker.da50a26b.js";import je from"./html2canvas.4d0ab5af.js";import{h as ot}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{V as Ct}from"./vue-sweetalert2.891f877f.js";import{d as St}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=ct;window.axios=F;window.$=window.jQuery=rt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=tt("AuthUserStore",()=>{const o=c({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await F.get("/api/profile").then(_=>{o.value=_.data})}}}),Dt={class:"content"},Ut={class:"container-fluid"},Vt={class:"card"},Mt={class:"card-header"},At={class:"card-body"},Et=e("div",{class:"row"},null,-1),Tt={__name:"Dashboard",setup(o){vt.register(bt,ft,$t,gt,yt,kt);const k=`${fe().name}`;_e(),c("all"),c(0);const _=c(new Date().getFullYear()),d=c({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),i=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},u=c("today"),m=c(0),D=()=>{axios.get("/api/stats/users",{params:{date_range:u.value}}).then(l=>{m.value=l.data.totalUsersCount})};return ue(()=>{i(),D(),document.title=k}),(l,A)=>(s(),a("div",Dt,[e("div",Ut,[e("div",Vt,[e("div",Mt," Yearly Progress - "+t(_.value),1),e("div",At,[g(r(ht),{data:d.value},null,8,["data"])])]),Et])]))}},Ft={class:"content"},Lt={class:"container-fluid"},Pt={class:"row"},It={class:"col-lg-12"},qt={class:"d-flex justify-content-between mb-2"},Yt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),Y(" Add New Appointment")],-1),Nt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Rt={class:"badge badge-pill badge-info"},Ht=["onClick"],jt={class:"mr-1"},Ot={class:"card"},zt={class:"card-body"},Gt={class:"table table-bordered"},Wt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Kt=e("i",{class:"fa fa-edit mr-2"},null,-1),Xt=["onClick"],Jt=e("i",{class:"fa fa-trash text-danger"},null,-1),Zt=[Jt],es={__name:"ListAppointments",setup(o){const k=c(),_=c([]),d=()=>{F.get("/api/appointment-status").then(A=>{_.value=A.data})},i=c([]),u=A=>{k.value=A;const v={};A&&(v.status=A),F.get("/api/appointments",{params:v}).then(w=>{i.value=w.data,console.log(w)})},m=Se(()=>_.value.map(A=>A.count).reduce((A,v)=>A+v,0)),D=A=>{const v=i.value.data.find(n=>n.id===A).status.name,w=_.value.find(n=>n.name===v);w.count--},l=A=>{Ze.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&F.delete(`/api/appointments/${A}`).then(w=>{D(A),i.value.data=i.value.data.filter(n=>n.id!==A),Ze.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{u(),d()}),(A,v)=>{const w=ge("router-link");return s(),a("div",Ft,[e("div",Lt,[e("div",Pt,[e("div",It,[e("div",qt,[e("div",null,[g(w,{to:"/admin/appointments/create"},{default:Z(()=>[Yt]),_:1})]),e("div",Nt,[e("button",{onClick:v[0]||(v[0]=n=>u()),type:"button",class:U(["btn",[typeof k.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Rt,t(m.value),1)],2),(s(!0),a(G,null,X(_.value,n=>(s(),a("button",{key:n.id,onClick:x=>u(n.value),type:"button",class:U(["btn",[k.value===n.value?"btn-secondary":"btn-default"]])},[e("span",jt,t(n.name),1),e("span",{class:U(["badge badge-pill",`badge-${n.color}`])},t(n.count),3)],10,Ht))),128))])]),e("div",Ot,[e("div",zt,[e("table",Gt,[Wt,e("tbody",null,[(s(!0),a(G,null,X(i.value.data,(n,x)=>(s(),a("tr",{key:n.id},[e("td",null,t(x+1),1),e("td",null,t(n.client.first_name)+" "+t(n.client.last_name),1),e("td",null,t(n.start_time),1),e("td",null,t(n.end_time),1),Qt,e("td",null,[g(w,{to:`/admin/appointments/${n.id}/edit`},{default:Z(()=>[Kt]),_:2},1032,["to"]),e("a",{href:"#",onClick:te(R=>l(n.id),["prevent"])},Zt,8,Xt)])]))),128))])])])])])])])])}}};function me(){return He.options.positionClass="toast-top-right",He.options.closeButton=!0,He.options.progressBar=!0,He}const ts={class:"content-header"},ss={class:"container-fluid"},as={class:"row mb-2"},os={class:"col-sm-6"},ls={class:"m-0"},ns={key:0},ds={key:1},is={class:"col-sm-6"},cs={class:"breadcrumb float-sm-right"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item"},_s={class:"breadcrumb-item active"},ms={key:0},ps={key:1},hs={class:"content"},vs={class:"container-fluid"},bs={class:"row"},fs={class:"col-lg-12"},$s={class:"card"},gs={class:"card-body"},ys={class:"row"},ks={class:"col-md-6"},xs={class:"form-group"},ws=e("label",{for:"title"},"Title",-1),Cs={class:"invalid-feedback"},Ss={class:"col-md-6"},Ds={class:"form-group"},Us=e("label",{for:"client"},"Client Name",-1),Vs=["value"],Ms={class:"invalid-feedback"},As={class:"row"},Es={class:"col-md-6"},Ts={class:"form-group"},Fs=e("label",{for:"start-time"},"Start Time",-1),Ls={class:"invalid-feedback"},Ps={class:"col-md-6"},Is={class:"form-group"},qs=e("label",{for:"end-time"},"End Time",-1),Ys={class:"invalid-feedback"},Ns={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Rs={class:"invalid-feedback"},Hs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),et={__name:"AppointmentForm",setup(o){const k=Ke(),_=fe(),d=me(),i=Ve({title:"",client_id:"",start_time:"",end_time:"",description:""}),u=(n,x)=>{w.value?D(n,x):m(n,x)},m=(n,x)=>{F.post("/api/appointments/create",i).then(R=>{k.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(R=>{x.setErrors(R.response.data.errors)})},D=(n,x)=>{F.put(`/api/appointments/${_.params.id}/edit`,i).then(R=>{k.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(R=>{x.setErrors(R.response.data.errors)})},l=c(),A=()=>{F.get("/api/view-clients").then(n=>{l.value=n.data})},v=()=>{F.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{i.title=n.title,i.client_id=n.client_id,i.start_time=n.formatted_start_time,i.end_time=n.formatted_end_time,i.description=n.description})},w=c(!1);return ue(()=>{_.name==="admin.appointments.edit"&&(w.value=!0,v()),at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),A()}),(n,x)=>{const R=ge("router-link");return s(),a(G,null,[e("div",ts,[e("div",ss,[e("div",as,[e("div",os,[e("h1",ls,[w.value?(s(),a("span",ns,"Edit")):(s(),a("span",ds,"Create")),Y(" Appointment")])]),e("div",is,[e("ol",cs,[e("li",rs,[g(R,{to:"/admin/dashboard"},{default:Z(()=>[Y("Home")]),_:1})]),e("li",us,[g(R,{to:"/admin/appointments"},{default:Z(()=>[Y("Appointments")]),_:1})]),e("li",_s,[w.value?(s(),a("span",ms,"Edit")):(s(),a("span",ps,"Create"))])])])])])]),e("div",hs,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[e("div",gs,[g(r(Ce),{onSubmit:u},{default:Z(({errors:K})=>[e("div",ys,[e("div",ks,[e("div",xs,[ws,ee(e("input",{"onUpdate:modelValue":x[0]||(x[0]=J=>i.title=J),type:"text",class:U(["form-control",{"is-invalid":K.title}]),id:"title",placeholder:"Enter Title"},null,2),[[re,i.title]]),e("span",Cs,t(K.title),1)])]),e("div",Ss,[e("div",Ds,[Us,ee(e("select",{"onUpdate:modelValue":x[1]||(x[1]=J=>i.client_id=J),id:"client",class:U(["form-control",{"is-invalid":K.client_id}])},[(s(!0),a(G,null,X(l.value,J=>(s(),a("option",{value:J.id,key:J.id},t(J.first_name)+" "+t(J.last_name),9,Vs))),128))],2),[[Te,i.client_id]]),e("span",Ms,t(K.client_id),1)])])]),e("div",As,[e("div",Es,[e("div",Ts,[Fs,ee(e("input",{"onUpdate:modelValue":x[2]||(x[2]=J=>i.start_time=J),type:"text",class:U(["form-control flatpickr",{"is-invalid":K.start_time}]),id:"start-time"},null,2),[[re,i.start_time]]),e("span",Ls,t(K.start_time),1)])]),e("div",Ps,[e("div",Is,[qs,ee(e("input",{"onUpdate:modelValue":x[3]||(x[3]=J=>i.end_time=J),type:"text",class:U(["form-control flatpickr",{"is-invalid":K.end_time}]),id:"end-time"},null,2),[[re,i.end_time]]),e("span",Ys,t(K.end_time),1)])])]),e("div",Ns,[Bs,ee(e("textarea",{"onUpdate:modelValue":x[4]||(x[4]=J=>i.description=J),class:U(["form-control",{"is-invalid":K.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[re,i.description]]),e("span",Rs,t(K.description),1)]),Hs]),_:1})])])])])])])],64)}}},js=["checked"],Os=["value","selected"],zs=["value","selected"],Gs=e("i",{class:"fa fa-edit"},null,-1),Ws=[Gs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ks=[Qs],Xs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){const _=me(),d=o,i=k,u=c([{name:"ADMIN",value:1},{name:"USER",value:2}]),m=c([]),D=()=>{F.get("/api/users/userlist").then(w=>{m.value=w.data}).catch(w=>{console.log(w)})},l=(w,n)=>{F.patch(`/api/users/${w.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},A=(w,n)=>{F.patch(`/api/users/${w.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},v=()=>{i("toggleSelection",d.user)};return ue(()=>{D()}),(w,n)=>(s(),a("tr",null,[e("td",null,[o.user.name!="admin"?(s(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:v},null,40,js)):L("",!0)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=x=>l(o.user,x.target.value))},[(s(!0),a(G,null,X(u.value,x=>(s(),a("option",{key:x.id,value:x.value,selected:o.user.role===x.name},t(x.name),9,Os))),128))],32)]),e("td",null,[o.user.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=x=>A(o.user,x.target.value))},[(s(!0),a(G,null,X(m.value,x=>(s(),a("option",{key:x.id,value:x.id,selected:o.user.sitehead_user_id===x.id},t(x.first_name+" "+x.last_name),9,zs))),128))],32)):L("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=te(x=>w.$emit("editUser",o.user),["prevent"]))},Ws),o.user.id!=1?(s(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=te(x=>w.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ks)):L("",!0)])]))}},Js={class:"content"},Zs={class:"container-fluid"},ea={class:"d-flex justify-content-between mb-2"},ta={class:"d-flex"},sa=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),aa={key:0},oa=e("i",{class:"fa fa-trash mr-1"},null,-1),la={class:"ml-2"},na={class:"card"},da={class:"card-body"},ia={class:"dispatch-table"},ca={class:"table-responsive"},ra={class:"table table-bordered table-hover table-sm"},ua=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),_a={key:0},ma={key:1},pa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[pa],va=["index"],ba={class:"card"},fa={class:"card-body"},$a={class:"list-field"},ga=e("span",{class:"mb-1 dis"},"Name:",-1),ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Email:",-1),xa={class:"list-field"},wa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ca={class:"list-field"},Sa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Da=["onChange"],Ua=["value","selected"],Va=e("hr",null,null,-1),Ma={class:"row"},Aa={key:0,class:"col"},Ea=["onClick"],Ta=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fa=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),Y(" Remove ")],-1),Pa=[La],Ia={key:1,class:"col"},qa=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Ra={class:"modal-content"},Ha={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Oa={key:0},za={key:1},Ga=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wa={class:"modal-body"},Qa={class:"form-group"},Ka=e("label",{for:"name"},"Username",-1),Xa={class:"invalid-feedback"},Ja={class:"d-flex justify-content-between"},Za={class:"d-flex"},eo={class:"form-group"},to=e("label",{for:"email"},"Email",-1),so={class:"invalid-feedback"},ao={class:"d-flex"},oo={class:"form-group"},lo=e("label",{for:"siteDropdown"},"Gender",-1),no=e("option",{value:"",disabled:""}," Select a gender ",-1),io=["value"],co={class:"d-flex justify-content-between"},ro={class:"d-flex"},uo={class:"form-group"},_o=e("label",{for:"first_name"},"Fist Name",-1),mo={class:"invalid-feedback"},po={class:"d-flex"},ho={class:"form-group"},vo=e("label",{for:"last_name"},"Last Name",-1),bo={class:"invalid-feedback"},fo={class:"form-group"},$o=e("label",{for:"position"},"Position",-1),go={class:"invalid-feedback"},yo={class:"form-group"},ko=e("label",{for:"password"},"Password",-1),xo={class:"invalid-feedback"},wo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Co={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},So={class:"modal-dialog",role:"document"},Do={class:"modal-content"},Uo=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ao={__name:"UserList",setup(o){const k=`${fe().name}`,_=_e(),d=me(),i=c({data:[]}),u=c(!1),m=c(),D=c(null);c([]),c(null);const l=c([{name:"Male",value:1},{name:"Female",value:2}]),A=(P=1)=>{F.get(`/api/users?page=${P}`,{params:{query:Q.value}}).then(S=>{i.value=S.data,E.value=[],W.value=!1})},v=ke({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().required().min(8),gender:I().required()}),w=ke({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().when((P,S)=>P?S.required().min(8):S),gender:I().required()}),n=c([]),x=()=>{F.get("/api/users/userlist").then(P=>{n.value=P.data}).catch(P=>{console.log(P)})},R=(P,S)=>{F.patch(`/api/users/${P.id}/change-sitehead`,{sitehead_user_id:S}).then(()=>{d.success("Sitehead changed successfully!")})},K=(P,{resetForm:S,setErrors:b})=>{F.post("/api/users",P).then(y=>{i.value.data.unshift(y.data),$("#userFormModal").modal("hide"),S(),d.success("User created successfully!")}).catch(y=>{y.response.data.errors&&(b(y.response.data.errors),d.warning(y.response.data.errors.name))})},J=()=>{u.value=!1,$("#userFormModal").modal("show")},ne=P=>{u.value=!0,D.value.resetForm(),$("#userFormModal").modal("show"),m.value={id:P.id,name:P.name,email:P.email,sitehead_user_id:P.sitehead_user_id,first_name:P.first_name,last_name:P.last_name,gender:P.gender}},N=(P,{setErrors:S})=>{F.put("/api/users/"+m.value.id,P).then(b=>{const y=i.value.data.findIndex(de=>de.id===b.data.id);i.value.data[y]=b.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},H=(P,S)=>{u.value?N(P,S):K(P,S)},Q=c(null),E=c([]),h=P=>{const S=E.value.indexOf(P.id);S===-1?E.value.push(P.id):E.value.splice(S,1),console.log(E.value)},q=c(null),C=P=>{q.value=P,$("#deleteUserModal").modal("show")},j=()=>{F.delete(`/api/users/${q.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),i.value.data=i.value.data.filter(P=>P.id!==q.value)})},ie=()=>{F.delete("/api/users",{data:{ids:E.value}}).then(P=>{i.value.data=i.value.data.filter(S=>!E.value.includes(S.id)),E.value=[],W.value=!1,d.success(P.data.message)})},W=c(!1);return ve(Q,Ee.exports.debounce(()=>{A()},300)),ue(()=>{A(),x(),document.title=k}),(P,S)=>{const b=ge("font");return s(),a(G,null,[e("div",Js,[e("div",Zs,[e("div",ea,[e("div",ta,[e("button",{onClick:J,type:"button",class:"mb-2 btn btn-primary btn-sm"},[sa,Y(" User ")]),E.value.length>0?(s(),a("div",aa,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[oa,Y(" Delete Selected ")]),e("span",la,"Selected "+t(E.value.length)+" users",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=y=>Q.value=y),class:"form-control",placeholder:"Search..."},null,512),[[re,Q.value]])])]),e("div",na,[e("div",da,[e("div",ia,[e("div",ca,[g(b,{size:"2"},{default:Z(()=>[e("table",ra,[ua,i.value.data.length>0?(s(),a("tbody",_a,[(s(!0),a(G,null,X(i.value.data,(y,de)=>(s(),ce(Xs,{key:y.id,user:y,index:de,onEditUser:ne,onConfirmUserDeletion:C,onToggleSelection:h,"select-all":W.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",ma,ha))])]),_:1})])]),(s(!0),a(G,null,X(i.value.data,(y,de)=>(s(),a("div",{class:"dispatch-list",key:y.id,index:de},[e("div",ba,[e("div",fa,[e("div",$a,[ga,e("span",null,t(y.first_name+" "+y.last_name),1)]),e("div",ya,[ka,e("span",null,t(y.email),1)]),e("div",xa,[wa,e("span",null,t(y.formatted_created_at),1)]),e("div",Ca,[Sa,e("span",null,[y.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:oe=>R(y,oe.target.value)},[(s(!0),a(G,null,X(n.value,oe=>(s(),a("option",{key:oe.id,value:oe.id,selected:oe.sitehead_user_id===oe.id},t(oe.first_name+" "+oe.last_name),9,Ua))),128))],40,Da)):L("",!0)])]),Va,e("div",Ma,[r(_).user.role==="ADMIN"?(s(),a("div",Aa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>ne(y)},[Ta,Y(" Edit ")],8,Ea),e("button",{class:"btn btnsm btn-danger btn-block",onClick:oe=>C(y.id)},Pa,8,Fa)])):L("",!0),r(_).user.role==="USER"?(s(),a("div",Ia,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>ne(y)},[Ya,Y(" Edit ")],8,qa)])):L("",!0)])])])],8,va))),128))])]),g(r(Pe),{data:i.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",Na,[e("div",Ba,[e("div",Ra,[e("div",Ha,[e("h5",ja,[u.value?(s(),a("span",Oa,"Edit User")):(s(),a("span",za,"Add New User"))]),Ga]),g(r(Ce),{ref_key:"form",ref:D,onSubmit:H,"validation-schema":u.value?r(w):r(v),"initial-values":m.value},{default:Z(({errors:y})=>[e("div",Wa,[e("div",Qa,[Ka,g(r(B),{name:"name",type:"text",class:U(["form-control",{"is-invalid":y.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Xa,t(y.name),1)]),e("div",Ja,[e("div",Za,[e("div",eo,[to,g(r(B),{name:"email",type:"email",class:U(["form-control",{"is-invalid":y.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",so,t(y.email),1)])]),e("div",ao,[e("div",oo,[lo,g(r(B),{id:"gender",name:"gender",as:"select",class:U(["form-control",{"is-invalid":y.gender}])},{default:Z(()=>[no,(s(!0),a(G,null,X(l.value,de=>(s(),a("option",{key:de.name,value:de.name},t(de.name),9,io))),128))]),_:2},1032,["class"])])])]),e("div",co,[e("div",ro,[e("div",uo,[_o,g(r(B),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":y.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",mo,t(y.first_name),1)])]),e("div",po,[e("div",ho,[vo,g(r(B),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":y.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",bo,t(y.last_name),1)])])]),e("div",fo,[$o,g(r(B),{name:"position",type:"text",class:U(["form-control",{"is-invalid":y.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",go,t(y.position),1)]),e("div",yo,[ko,g(r(B),{name:"password",type:"password",class:U(["form-control",{"is-invalid":y.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",xo,t(y.password),1)])]),wo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Co,[e("div",So,[e("div",Do,[Uo,e("div",Vo,[Mo,e("button",{onClick:te(j,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Eo=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Fo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Lo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ae={__name:"ContentLoader",setup(o){return(k,_)=>k.isloading?(s(),ce(r(xt),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Eo,To,Fo,Lo]),_:1})):L("",!0)}};var ye=(o,k)=>{const _=o.__vccOpts||o;for(const[d,i]of k)_[d]=i;return _};const Le=o=>(De("data-v-5b4c8080"),o=o(),Ue(),o),Po={class:"content"},Io={class:"container-fluid"},qo={class:"row"},Yo={class:"col-md-6"},No={class:"card"},Bo=xe('<ul class="nav nav-tabs" data-v-5b4c8080><li class="nav-item" data-v-5b4c8080><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-5b4c8080>General Settings</a></li><li class="nav-item" data-v-5b4c8080><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-5b4c8080>Site Settings</a></li></ul>',1),Ro={class:"tab-content"},Ho={class:"tab-pane fade show active",id:"general-tab"},jo={class:"card-body"},Oo={class:"form-group"},zo=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),Go={key:0,class:"text-danger text-sm"},Wo={class:"form-group"},Qo=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Ko=xe('<option value="m/d/Y" data-v-5b4c8080> MM/DD/YYYY </option><option value="d/m/Y" data-v-5b4c8080> DD/MM/YYYY </option><option value="Y-m-d" data-v-5b4c8080> YYYY-MM-DD </option><option value="F j, Y" data-v-5b4c8080> Month DD, YYYY </option><option value="j F Y" data-v-5b4c8080> DD Month YYYY </option>',5),Xo=[Ko],Jo={key:0,class:"text-danger text-sm"},Zo={class:"form-group"},el=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),tl={key:0,class:"text-danger text-sm"},sl=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),Y("Save Changes ")])],-1)),al={class:"tab-pane fade",id:"site"},ol={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ll={key:0,class:"list-group-item p-0"},nl={class:"d-flex justify-content-center"},dl=["onClick"],il={class:"ml-auto my-1 mr-1"},cl=["onClick"],rl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),ul=[rl],_l={class:"m-2 list-unstyled"},ml={key:1},pl={key:0,class:"list-group-item p-0"},hl={class:"d-flex justify-content-center"},vl=["onClick"],bl={class:"ml-auto my-1 mr-1"},fl=["onClick"],$l=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),gl=[$l],yl={key:1,class:"mt-2 text-center"},kl=Le(()=>e("span",null,"No Site",-1)),xl=[kl],wl={class:"input-group"},Cl=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Sl={__name:"UpdateSetting",setup(o){const k=`${fe().name}`,_=c([]),d=me(),i=c(!0),u=c([]),m=c(!1),D=c(),l=Xe("$swal"),A=c({id:"",site_name:"",is_active:""}),v=()=>{m.value=!0,axios.get("/api/site").then(Q=>{m.value=!1,u.value=Q.data}).catch(Q=>{console.log(Q)})},w=Se(()=>Array.isArray(u.value)?u.value.filter(Q=>Q.is_active===0):[]),n=Se(()=>w.value.length),x=()=>{i.value=!i.value},R=()=>{var Q,E;m.value=!0,axios.post("/api/site",{id:(Q=A.value)==null?void 0:Q.id,site_name:(E=A.value)==null?void 0:E.site_name,is_active:!0}).then(h=>{v(),A.value={id:null,site_name:"",is_active:!0},d.success(h.data.message),m.value=!1}).catch(h=>{h.response&&h.response.status===422&&(N.value=h.response.data.errors)})},K=Q=>{A.value.is_active=Q.is_active===1?0:1,axios.post("/api/site",{id:Q.id,site_name:Q.site_name,is_active:A.value.is_active}).then(E=>{axios.get("/api/site").then(h=>{u.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),d.error("Error fetching tasks. Please try again.")})}).catch(E=>{console.error("Error adding new task:",E),d.error("Error adding new task. Please try again.")})},J=Q=>{if(Q.is_active===null||Q.is_active===0){l.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}A.value.id=Q.id,A.value.site_name=Q.site_name},ne=()=>{axios.get("/api/settings").then(Q=>{_.value=Q.data})},N=c(),H=()=>{N.value="",axios.post("/api/settings",_.value).then(Q=>{d.success("Settings updated successfully!")}).catch(Q=>{Q.response&&Q.response.status===422&&(N.value=Q.response.data.errors)})};return ue(()=>{v(),ne(),document.title=k}),(Q,E)=>(s(),a("div",Po,[e("div",Io,[e("div",qo,[e("div",Yo,[e("div",No,[Bo,e("div",Ro,[e("div",Ho,[e("form",{onSubmit:E[3]||(E[3]=te(h=>H(),["prevent"]))},[e("div",jo,[e("div",Oo,[zo,ee(e("input",{"onUpdate:modelValue":E[0]||(E[0]=h=>_.value.app_name=h),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[re,_.value.app_name]]),N.value&&N.value.app_name?(s(),a("span",Go,t(N.value.app_name[0]),1)):L("",!0)]),e("div",Wo,[Qo,ee(e("select",{"onUpdate:modelValue":E[1]||(E[1]=h=>_.value.date_format=h),class:"form-control"},Xo,512),[[Te,_.value.date_format]]),N.value&&N.value.date_format?(s(),a("span",Jo,t(N.value.date_format[0]),1)):L("",!0)]),e("div",Zo,[el,ee(e("input",{"onUpdate:modelValue":E[2]||(E[2]=h=>_.value.pagination_limit=h),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[re,_.value.pagination_limit]]),N.value&&N.value.pagination_limit?(s(),a("span",tl,t(N.value.pagination_limit[0]),1)):L("",!0)])]),sl],32)]),e("div",al,[u.value.length>0?(s(),a("div",ol,[m.value?(s(),ce(Ae,{key:0})):L("",!0),(s(!0),a(G,null,X(u.value,h=>(s(),a("ul",{class:"list-group",key:h.id},[h.is_active===1?(s(),a("li",ll,[e("div",nl,[e("div",null,[e("span",{class:U({"btn font-italic text-red":h.is_active===0,btn:h.is_active===1})},[e("i",{onClick:q=>K(h),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":h.is_active===1,"fa fa-circle text-primary":h.is_active===0}),style:{"font-size":"15px"}},null,10,dl),Y(" "+t(h.site_name),1)],2)]),e("div",il,[e("button",{onClick:q=>J(h),class:"btn btn-outline"},ul,8,cl)])])])):L("",!0)]))),128)),e("li",_l,[n.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:x},[e("i",{class:U(["fa",i.value?"fa-arrow-down":"fa-arrow-right"])},null,2),Y(" \xA0Deactive List "+t(n.value),1)])):L("",!0)]),i.value?(s(),a("div",ml,[(s(!0),a(G,null,X(u.value,h=>(s(),a("ul",{class:"list-group",key:h.id},[h.is_active===0?(s(),a("li",pl,[e("div",hl,[e("div",null,[e("span",{class:U({"btn font-italic text-red":h.is_active===0,btn:h.is_active===1})},[e("i",{onClick:q=>K(h),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":h.is_active===1,"fa fa-circle text-primary":h.is_active===0}),style:{"font-size":"15px"}},null,10,vl),e("del",null,t(h.site_name),1)],2)]),e("div",bl,[e("button",{onClick:q=>J(h),class:"btn btn-outline"},gl,8,fl)])])])):L("",!0)]))),128))])):L("",!0)])):(s(),a("div",yl,xl)),g(r(Ce),{ref:"form",onSubmit:R,"initial-values":D.value},{default:Z(()=>[g(r(B),{name:"id",modelValue:A.value.id,"onUpdate:modelValue":E[4]||(E[4]=h=>A.value.id=h),type:"text",hidden:""},null,8,["modelValue"]),e("div",wl,[g(r(B),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:A.value.site_name,"onUpdate:modelValue":E[5]||(E[5]=h=>A.value.site_name=h),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Cl])]),_:1},8,["initial-values"])])])])])])])]))}};var Dl=ye(Sl,[["__scopeId","data-v-5b4c8080"]]);const Ul={class:"content"},Vl={class:"container-fluid"},Ml={class:"row"},Al={class:"col-md-3"},El={class:"card card-primary card-outline"},Tl={class:"card-body box-profile"},Fl={class:"text-center"},Ll=["src"],Pl={class:"profile-username text-center"},Il={class:"text-muted text-center"},ql={class:"col-md-9"},Yl={class:"card"},Nl=xe('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Bl={class:"card-body"},Rl={class:"tab-content"},Hl={class:"tab-pane active",id:"profile"},jl={class:"form-group row"},Ol=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),zl={class:"col-sm-10"},Gl={key:0,class:"text-danger text-sm"},Wl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Kl={class:"col-sm-10"},Xl={key:0,class:"text-danger text-sm"},Jl={class:"form-group row"},Zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),en={class:"col-sm-10"},tn={key:0,class:"text-danger text-sm"},sn={class:"form-group row"},an=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),on={class:"col-sm-10"},ln={key:0,class:"text-danger text-sm"},nn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),Y(" Save Changes")])])],-1),dn={class:"tab-pane",id:"changePassword"},cn={class:"form-group row"},rn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),un={class:"col-sm-9"},_n={key:0,class:"text-danger text-sm"},mn={class:"form-group row"},pn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),hn={class:"col-sm-9"},vn={key:0,class:"text-danger text-sm"},bn={class:"form-group row"},fn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),$n={class:"col-sm-9"},gn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),Y(" Save Changes")])])],-1),yn={__name:"UpdateProfile",setup(o){const k=_e(),_=me(),d=`${fe().name}`,i=c([]),u=()=>{axios.put("/api/profile",{name:k.user.name,first_name:k.user.first_name,last_name:k.user.last_name,email:k.user.email,role:k.user.role}).then(w=>{_.success("Profile updated successfully!")}).catch(w=>{w.response&&w.response.status===422&&(i.value=w.response.data.errors)})},m=Ve({currentPassword:"",password:"",passwordConfirmation:""}),D=()=>{i.value="",axios.post("/api/change-user-password",m).then(w=>{_.success(w.data.message);for(const n in m)m[n]=""}).catch(w=>{w.response&&w.response.status===422&&(i.value=w.response.data.errors)})},l=c(null),A=()=>{l.value.click()},v=w=>{const n=w.target.files[0];k.user.avatar=URL.createObjectURL(n);const x=new FormData;x.append("profile_picture",n),axios.post("/api/upload-profile-image",x).then(R=>{_.success("Image uploaded successfully!")})};return ue(()=>{document.title=d}),(w,n)=>(s(),a("div",Ul,[e("div",Vl,[e("div",Ml,[e("div",Al,[e("div",El,[e("div",Tl,[e("div",Fl,[e("input",{onChange:v,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:A,class:"profile-user-img img-circle",src:r(k).user.avatar,alt:"User profile picture"},null,8,Ll)]),e("h3",Pl,t(r(k).user.name),1),e("p",Il,t(r(k).user.role),1)])])]),e("div",ql,[e("div",Yl,[Nl,e("div",Bl,[e("div",Rl,[e("div",Hl,[e("form",{onSubmit:n[4]||(n[4]=te(x=>u(),["prevent"])),class:"form-horizontal"},[e("div",jl,[Ol,e("div",zl,[ee(e("input",{"onUpdate:modelValue":n[0]||(n[0]=x=>r(k).user.name=x),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[re,r(k).user.name]]),i.value&&i.value.name?(s(),a("span",Gl,t(i.value.name[0]),1)):L("",!0)])]),e("div",Wl,[Ql,e("div",Kl,[ee(e("input",{"onUpdate:modelValue":n[1]||(n[1]=x=>r(k).user.first_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[re,r(k).user.first_name]]),i.value&&i.value.first_name?(s(),a("span",Xl,t(i.value.first_name[0]),1)):L("",!0)])]),e("div",Jl,[Zl,e("div",en,[ee(e("input",{"onUpdate:modelValue":n[2]||(n[2]=x=>r(k).user.last_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[re,r(k).user.last_name]]),i.value&&i.value.last_name?(s(),a("span",tn,t(i.value.last_name[0]),1)):L("",!0)])]),e("div",sn,[an,e("div",on,[ee(e("input",{"onUpdate:modelValue":n[3]||(n[3]=x=>r(k).user.email=x),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[re,r(k).user.email]]),i.value&&i.value.email?(s(),a("span",ln,t(i.value.email[0]),1)):L("",!0)])]),nn],32)]),e("div",dn,[e("form",{onSubmit:te(D,["prevent"]),class:"form-horizontal"},[e("div",cn,[rn,e("div",un,[ee(e("input",{"onUpdate:modelValue":n[5]||(n[5]=x=>m.currentPassword=x),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[re,m.currentPassword]]),i.value&&i.value.current_password?(s(),a("span",_n,t(i.value.current_password[0]),1)):L("",!0)])]),e("div",mn,[pn,e("div",hn,[ee(e("input",{"onUpdate:modelValue":n[6]||(n[6]=x=>m.password=x),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[re,m.password]]),i.value&&i.value.password?(s(),a("span",vn,t(i.value.password[0]),1)):L("",!0)])]),e("div",bn,[fn,e("div",$n,[ee(e("input",{"onUpdate:modelValue":n[7]||(n[7]=x=>m.passwordConfirmation=x),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[re,m.passwordConfirmation]])])]),gn],32)])])])])])])])]))}};const Ye=o=>(De("data-v-809e38f2"),o=o(),Ue(),o),kn={class:"login-box"},xn={class:"card card-outline card-primary"},wn=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Cn={class:"card-body"},Sn={key:0,class:"alert alert-danger",role:"alert"},Dn={class:"input-group mb-3"},Un=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Vn={class:"input-group mb-3"},Mn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),An=["type"],En={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Tn=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),Fn={class:"row"},Ln={class:"col-12 mb-2"},Pn=["disabled"],In={key:0,class:"spinner-border spinner-border-sm",role:"status"},qn=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),Yn=[qn],Nn={key:1},Bn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Rn="Login",Hn={__name:"Login",setup(o){const k=c(!1),_=me();_e();const d=Ke(),i=Ve({email:"",password:""}),u=c(!1),m=c(""),D=()=>{u.value=!0,m.value="",F.post("/login",i).then(()=>{d.push("/"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{u.value=!1})};return ue(()=>{document.title=Rn}),(l,A)=>(s(),a("div",kn,[e("div",xn,[wn,e("div",Cn,[m.value?(s(),a("div",Sn,t(m.value),1)):L("",!0),e("form",{onSubmit:te(D,["prevent"])},[e("div",Dn,[Un,ee(e("input",{"onUpdate:modelValue":A[0]||(A[0]=v=>i.email=v),type:"email",class:"form-control",placeholder:"Email"},null,512),[[re,i.email]])]),e("div",Vn,[Mn,ee(e("input",{"onUpdate:modelValue":A[1]||(A[1]=v=>i.password=v),class:"form-control",placeholder:"Password",type:k.value?"text":"password",onClick:A[2]||(A[2]=(...v)=>l.handleKeyClick&&l.handleKeyClick(...v))},null,8,An),[[st,i.password]])]),e("label",En,[ee(e("input",{type:"checkbox","onUpdate:modelValue":A[3]||(A[3]=v=>k.value=v)},null,512),[[Me,k.value]]),Y(" Show Password ")]),Tn,e("div",Fn,[e("div",Ln,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:u.value},[u.value?(s(),a("div",In,Yn)):(s(),a("span",Nn,"Sign In"))],8,Pn)])])],32),Bn])])]))}};var jn=ye(Hn,[["__scopeId","data-v-809e38f2"]]);const On=["checked"],zn=e("i",{class:"fa fa-edit"},null,-1),Gn=[zn],Wn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Qn=[Wn],Kn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){me();const _=o,d=k,i=()=>{d("toggleSelection",_.item)};return(u,m)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,On)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.first_name)+" "+t(o.item.last_name),1),e("td",null,t(o.item.email),1),e("td",null,t(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:m[0]||(m[0]=te(D=>u.$emit("editUser",o.item),["prevent"]))},Gn),e("a",{href:"#",onClick:m[1]||(m[1]=te(D=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Qn)])]))}},Xn={class:"content"},Jn={class:"container-fluid"},Zn={class:"d-flex justify-content-between"},ed={class:"d-flex"},td=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sd={key:0},ad=e("i",{class:"fa fa-trash mr-1"},null,-1),od={class:"ml-2"},ld={class:"card"},nd={class:"card-body"},dd={class:"table table-bordered"},id=e("th",{style:{width:"10px"}},"#",-1),cd=e("th",null,"Name",-1),rd=e("th",null,"Email",-1),ud=e("th",null,"Registered Date",-1),_d=e("th",null,"Options",-1),md={key:0},pd={key:1},hd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),vd=[hd],bd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fd={class:"modal-dialog",role:"document"},$d={class:"modal-content"},gd={class:"modal-header"},yd={class:"modal-title",id:"staticBackdropLabel"},kd={key:0},xd={key:1},wd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Cd={class:"modal-body"},Sd={class:"form-group"},Dd=e("label",{for:"fist_name"},"First Name",-1),Ud={class:"invalid-feedback"},Vd={class:"form-group"},Md=e("label",{for:"last_name"},"Last Name",-1),Ad={class:"invalid-feedback"},Ed={class:"form-group"},Td=e("label",{for:"email"},"Email",-1),Fd={class:"invalid-feedback"},Ld=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Pd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Id={class:"modal-dialog",role:"document"},qd={class:"modal-content"},Yd=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Nd={class:"modal-footer"},Bd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Rd={__name:"ClientList",setup(o){const k=me(),_=c({data:[]}),d=c(!1),i=c(),u=c(null),m=(q=1)=>{F.get(`/api/clients?page=${q}`,{params:{query:R.value}}).then(C=>{_.value=C.data,K.value=[],E.value=!1})},D=ke({first_name:I().required(),last_name:I().required(),email:I().email().required()}),l=ke({first_name:I().required(),last_name:I().required(),email:I().email().required()}),A=(q,{resetForm:C,setErrors:j})=>{F.post("/api/clients",q).then(ie=>{_.value.data.unshift(ie.data),$("#clientFormModal").modal("hide"),C(),k.success("User created successfully!")}).catch(ie=>{ie.response.data.errors&&j(ie.response.data.errors)})},v=()=>{d.value=!1,$("#clientFormModal").modal("show")},w=q=>{d.value=!0,u.value.resetForm(),$("#clientFormModal").modal("show"),i.value={id:q.id,first_name:q.first_name,last_name:q.last_name,email:q.email}},n=(q,{setErrors:C})=>{F.put("/api/clients/"+i.value.id,q).then(j=>{const ie=_.value.data.findIndex(W=>W.id===j.data.id);_.value.data[ie]=j.data,$("#clientFormModal").modal("hide"),k.success("Client updated successfully!")}).catch(j=>{C(j.response.data.errors),console.log(j)})},x=(q,C)=>{d.value?n(q,C):A(q,C)},R=c(null),K=c([]),J=q=>{const C=K.value.indexOf(q.id);C===-1?K.value.push(q.id):K.value.splice(C,1),console.log(K.value)},ne=c(null),N=q=>{ne.value=q,$("#deleteClientModal").modal("show")},H=()=>{F.delete(`/api/clients/${ne.value}`).then(()=>{$("#deleteClientModal").modal("hide"),k.success("Client deleted successfully!"),_.value.data=_.value.data.filter(q=>q.id!==ne.value)})},Q=()=>{F.delete("/api/clients",{data:{ids:K.value}}).then(q=>{_.value.data=_.value.data.filter(C=>!K.value.includes(C.id)),K.value=[],E.value=!1,k.success(q.data.message)})},E=c(!1),h=()=>{E.value?K.value=_.value.data.map(q=>q.id):K.value=[],console.log(K.value)};return ve(R,Ee.exports.debounce(()=>{m()},300)),ue(()=>{m()}),(q,C)=>(s(),a(G,null,[e("div",Xn,[e("div",Jn,[e("div",Zn,[e("div",ed,[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-primary"},[td,Y(" Add New Client ")]),K.value.length>0?(s(),a("div",sd,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ad,Y(" Delete Selected ")]),e("span",od,"Selected "+t(K.value.length)+" clients",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=j=>R.value=j),class:"form-control",placeholder:"Search..."},null,512),[[re,R.value]])])]),e("div",ld,[e("div",nd,[e("table",dd,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":C[1]||(C[1]=j=>E.value=j),onChange:h},null,544),[[Me,E.value]])]),id,cd,rd,ud,_d])]),_.value.data.length>0?(s(),a("tbody",md,[(s(!0),a(G,null,X(_.value.data,(j,ie)=>(s(),ce(Kn,{key:j.id,item:j,index:ie,onEditUser:w,onConfirmUserDeletion:N,onToggleSelection:J,"select-all":E.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",pd,vd))])])]),g(r(Pe),{data:_.value,onPaginationChangePage:m},null,8,["data"])])]),e("div",bd,[e("div",fd,[e("div",$d,[e("div",gd,[e("h5",yd,[d.value?(s(),a("span",kd,"Edit Client")):(s(),a("span",xd,"Add New Client"))]),wd]),g(r(Ce),{ref_key:"form",ref:u,onSubmit:x,"validation-schema":d.value?r(l):r(D),"initial-values":i.value},{default:Z(({errors:j})=>[e("div",Cd,[e("div",Sd,[Dd,g(r(B),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":j.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Ud,t(j.first_name),1)]),e("div",Vd,[Md,g(r(B),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":j.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ad,t(j.last_name),1)]),e("div",Ed,[Td,g(r(B),{name:"email",type:"email",class:U(["form-control",{"is-invalid":j.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Fd,t(j.email),1)])]),Ld]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Pd,[e("div",Id,[e("div",qd,[Yd,e("div",Nd,[Bd,e("button",{onClick:te(H,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Je=o=>(De("data-v-7ef25f66"),o=o(),Ue(),o),Hd={style:{"text-align":"center"}},jd={key:0},Od=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),zd=[Od],Gd=Je(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Wd=[Gd],Qd={key:1,style:{"text-align":"center"}},Kd={key:0},Xd=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),Jd=[Xd],Zd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:k}){me();const _=_e();return(d,i)=>{const u=ge("router-link");return s(),a("tr",null,[e("td",null,t(o.item.recommnum),1),e("td",null,t(o.item.user),1),e("td",null,t(o.item.branch),1),e("td",null,t(o.item.department),1),e("td",null,t(o.item.created_user),1),e("td",Hd,[o.item.statusid==2?(s(),ce(u,{key:0,to:`/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:U(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)]),_:1},8,["to"])):L("",!0),o.item.statusid!=2?(s(),a("span",{key:1,class:U(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)):L("",!0)]),e("td",null,t(o.item.created_at),1),r(_).user.role==="ADMIN"?(s(),a("td",jd,[e("a",{href:"#",onClick:i[0]||(i[0]=te(m=>d.$emit("editUser",o.item),["prevent"]))},zd),e("a",{href:"#",onClick:i[1]||(i[1]=te(m=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Wd)])):L("",!0),r(_).user.role==="USER"?(s(),a("td",Qd,[o.item.statusid!=2?(s(),a("div",Kd,[o.item.created_by==r(_).user.id?(s(),a("a",{key:0,href:"#",onClick:i[2]||(i[2]=te(m=>d.$emit("editUser",o.item),["prevent"]))},Jd)):L("",!0)])):L("",!0)])):L("",!0)])}}};var ei=ye(Zd,[["__scopeId","data-v-7ef25f66"]]);const ti={class:"content"},si={class:"container-fluid"},ai={class:"d-flex justify-content-between"},oi={class:"d-flex"},li=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ni={key:0},di=e("i",{class:"fa fa-trash mr-1"},null,-1),ii={class:"ml-2"},ci={class:"card"},ri={class:"card-body"},ui={class:"dispatch-table"},_i={class:"table-responsive"},mi={class:"table table-bordered table-sm"},pi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),hi={key:0},vi={key:1},bi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),fi=[bi],$i=["item","index"],gi={class:"card"},yi={class:"card-body"},ki={class:"list-field"},xi=e("span",{class:"mb-1 dis"},"Tech #:",-1),wi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"User:",-1),Si={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Branch:",-1),Ui={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Department:",-1),Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Created by:",-1),Ei={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"Status:",-1),Fi={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"Created Date:",-1),Pi=e("hr",null,null,-1),Ii={class:"row"},qi={key:0,class:"col"},Yi=["onClick"],Ni=e("i",{class:"fa fa-pencil-square-o"},null,-1),Bi=["onClick"],Ri=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),Y(" Remove ")],-1),Hi=[Ri],ji={key:1,class:"col"},Oi={key:0},zi=["onClick"],Gi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Wi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qi={class:"modal-dialog modal-lg",role:"document"},Ki={class:"modal-content"},Xi={class:"modal-header"},Ji={class:"modal-title",id:"staticBackdropLabel"},Zi={key:0},ec={key:1},tc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),sc={class:"modal-body"},ac={class:"col-md-12"},oc={class:"row"},lc={class:"col-6"},nc={class:"form-group"},dc=e("label",{for:"branch"},"Branch",-1),ic=e("option",{value:"",disabled:""}," Select Branch ",-1),cc=["value"],rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"department"},"Department",-1),mc={class:"invalid-feedback"},pc={class:"form-group"},hc=e("label",{for:"warehouse"},"warehouse",-1),vc={class:"invalid-feedback"},bc={class:"form-group"},fc=e("label",{for:"user"},"User",-1),$c={class:"invalid-feedback"},gc={class:"col-6"},yc={class:"form-group"},kc=e("label",{for:"brand"},"Brand",-1),xc={class:"form-group"},wc=e("label",{for:"model"},"Model",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"assettag"},"Asset tag",-1),Uc={class:"invalid-feedback"},Vc={class:"form-group"},Mc=e("label",{for:"serialnum"},"Serial number",-1),Ac={class:"invalid-feedback"},Ec={class:"col-12"},Tc={class:"form-group"},Fc=e("label",{for:"problem"},"Report Problem",-1),Lc={class:"invalid-feedback"},Pc={class:"form-group"},Ic=e("label",{for:"assconducted"},"Assessment conducted",-1),qc={class:"invalid-feedback"},Yc={class:"form-group"},Nc=e("label",{for:"recommendation"},"Recommendation",-1),Bc={class:"invalid-feedback"},Rc={class:"modal-footer"},Hc={key:0},jc={key:0,class:"btn-group float-l ml-auto"},Oc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),zc={class:"dropdown-menu",role:"menu"},Gc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Wc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Qc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Kc={class:"modal-dialog",role:"document"},Xc={class:"modal-content"},Jc=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Zc={class:"modal-footer"},er=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),tr={__name:"TechList",setup(o){const k=c(),_=c(),d=me(),i=c({data:[]});c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=`${fe().name}`,m=()=>{F.get("/web/getsite").then(b=>{_.value=b.data.sites}).catch(b=>{console.log(b)})},D=c(!1),l=c(!1),A=c(),v=Ve({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),w=_e();c(null);const n=(b=1)=>{D.value=!0,F.get(`/api/tech-recommendations?page=${b}`,{params:{query:E.value}}).then(y=>{D.value=!1,i.value=y.data,h.value=[],S.value=!1})},x=ke({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),R=ke({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),K=(b,{resetForm:y,setErrors:de})=>{F.post("/api/tech-recommendations",b).then(oe=>{i.value.data.unshift(oe.data),$("#FormModal").modal("hide"),y(),d.success("Data created successfully!")}).catch(oe=>{oe.response.data.errors&&de(oe.response.data.errors)})},J=()=>{l.value=!1,$("#FormModal").modal("show")},ne=()=>{v.id="",v.recommnum="",v.branch="",v.department="",v.warehouse="",v.user="",v.problem="",v.brand="",v.model="",v.assettag="",v.serialnum="",v.assconducted="",v.recommendation="",v.ceated_by=""},N=b=>{k.value=b.id,l.value=!0,ne(),v.id=b.id,v.branch=b.branch,v.department=b.department,v.warehouse=b.warehouse,v.user=b.user,v.problem=b.problem,v.brand=b.brand,v.model=b.model,v.assettag=b.assettag,v.serialnum=b.serialnum,v.assconducted=b.assconducted,v.recommendation=b.recommendation,v.ceated_by=b.ceated_by,v.recommnum=b.recommnum,$("#FormModal").modal("show")},H=(b,{setErrors:y})=>{F.put("/api/tech-recommendations/"+b.id,b).then(de=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(de=>{y(de.response.data.errors),console.log(de)})},Q=(b,y)=>{l.value?H(v,y):K(b,y)},E=c(null),h=c([]),q=b=>{const y=h.value.indexOf(b.id);y===-1?h.value.push(b.id):h.value.splice(y,1),console.log(h.value)},C=c(null),j=b=>{C.value=b,$("#deleteClientModal").modal("show")},ie=()=>{F.delete(`/api/tech-recommendations/${C.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),i.value.data=i.value.data.filter(b=>b.id!==C.value)})},W=()=>{F.delete("/api/tech-recommendations",{data:{ids:h.value}}).then(b=>{i.value.data=i.value.data.filter(y=>!h.value.includes(y.id)),h.value=[],S.value=!1,d.success(b.data.message)})},P=b=>{F.post("/api/tech-getaction",{id:k.value,status:b}).then(y=>{$("#FormModal").modal("hide"),n()}).catch(y=>{console.log(y.message)})},S=c(!1);return ve(E,Ee.exports.debounce(()=>{n()},300)),ue(()=>{n(),m(),document.title=u}),(b,y)=>{const de=ge("font"),oe=ge("router-link");return s(),a(G,null,[e("div",ti,[e("div",si,[e("div",ai,[e("div",oi,[e("button",{onClick:J,type:"button",class:"mb-2 btn btn-primary"},[li,Y(" TechRecom ")]),h.value.length>0?(s(),a("div",ni,[e("button",{onClick:W,type:"button",class:"ml-2 mb-2 btn btn-danger"},[di,Y(" Delete Selected ")]),e("span",ii,"Selected "+t(h.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=M=>E.value=M),class:"form-control",placeholder:"Search..."},null,512),[[re,E.value]])])]),e("div",ci,[e("div",ri,[D.value?(s(),ce(Ae,{key:0})):L("",!0),e("div",ui,[e("div",_i,[g(de,{size:"2"},{default:Z(()=>[e("table",mi,[pi,i.value.data.length>0?(s(),a("tbody",hi,[(s(!0),a(G,null,X(i.value.data,(M,T)=>(s(),ce(ei,{key:M.id,item:M,index:T,onEditUser:N,onShowItem:b.viewItem,onConfirmUserDeletion:j,onToggleSelection:q,"select-all":S.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",vi,fi))])]),_:1})])]),(s(!0),a(G,null,X(i.value.data,(M,T)=>(s(),a("div",{class:"dispatch-list",key:M.id,item:M,index:T},[e("div",gi,[e("div",yi,[e("div",ki,[xi,e("span",null,[e("b",null,t(M.recommnum),1)])]),e("div",wi,[Ci,e("span",null,t(M.user),1)]),e("div",Si,[Di,e("span",null,t(M.branch),1)]),e("div",Ui,[Vi,e("span",null,t(M.department),1)]),e("div",Mi,[Ai,e("span",null,t(M.created_user),1)]),e("div",Ei,[Ti,M.statusid==2?(s(),ce(oe,{key:0,to:`/tech-approved/${M.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:U(["badge",`badge-${M.status.color}`])},t(M.status.name),3)]),_:2},1032,["to"])):L("",!0),M.statusid!=2?(s(),a("span",{key:1,class:U(["badge",`badge-${M.status.color}`])},t(M.status.name),3)):L("",!0)]),e("div",Fi,[Li,e("span",null,t(M.created_at),1)]),Pi,e("div",Ii,[r(w).user.role==="ADMIN"?(s(),a("div",qi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>N(M)},[Ni,Y(" Edit ")],8,Yi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>j(M.id)},Hi,8,Bi)])):L("",!0),r(w).user.role==="USER"?(s(),a("div",ji,[M.statusid!=2?(s(),a("div",Oi,[M.created_by==r(w).user.id?(s(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>N(M)},[Gi,Y(" Edit ")],8,zi)):L("",!0)])):L("",!0)])):L("",!0)])])])],8,$i))),128))])]),g(r(Pe),{data:i.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Wi,[e("div",Qi,[e("div",Ki,[e("div",Xi,[e("h5",Ji,[l.value?(s(),a("span",Zi,"Edit Tech Recom.")):(s(),a("span",ec,"Add New Tech Recom."))]),tc]),g(r(Ce),{onSubmit:Q,"validation-schema":l.value?r(R):r(x),"initial-values":A.value},{default:Z(({errors:M})=>[e("div",sc,[e("div",ac,[e("div",oc,[e("div",lc,[g(r(B),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(w).user.id,"onUpdate:modelValue":y[1]||(y[1]=T=>r(w).user.id=T)},null,8,["modelValue"]),g(r(B),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:v.recommnum,"onUpdate:modelValue":y[2]||(y[2]=T=>v.recommnum=T)},null,8,["modelValue"]),e("div",nc,[dc,g(r(B),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":M.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:v.branch,"onUpdate:modelValue":y[3]||(y[3]=T=>v.branch=T)},{default:Z(()=>[ic,(s(!0),a(G,null,X(_.value,T=>(s(),a("option",{key:T.site_name,value:T.site_name},t(T.site_name),9,cc))),128))]),_:2},1032,["class","modelValue"]),e("span",rc,t(M.branch),1)]),e("div",uc,[_c,g(r(B),{name:"department",type:"text",class:U(["form-control",{"is-invalid":M.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:v.department,"onUpdate:modelValue":y[4]||(y[4]=T=>v.department=T)},null,8,["class","modelValue"]),e("span",mc,t(M.department),1)]),e("div",pc,[hc,g(r(B),{name:"warehouse",type:"text",class:U(["form-control",{"is-invalid":M.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:v.warehouse,"onUpdate:modelValue":y[5]||(y[5]=T=>v.warehouse=T)},null,8,["class","modelValue"]),e("span",vc,t(M.warehouse),1)]),e("div",bc,[fc,g(r(B),{name:"user",type:"text",class:U(["form-control",{"is-invalid":M.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:v.user,"onUpdate:modelValue":y[6]||(y[6]=T=>v.user=T)},null,8,["class","modelValue"]),e("span",$c,t(M.user),1)])]),e("div",gc,[e("div",yc,[kc,g(r(B),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:v.brand,"onUpdate:modelValue":y[7]||(y[7]=T=>v.brand=T)},null,8,["modelValue"])]),e("div",xc,[wc,g(r(B),{name:"model",type:"text",class:U(["form-control",{"is-invalid":M.model}]),id:"model",modelValue:v.model,"onUpdate:modelValue":y[8]||(y[8]=T=>v.model=T),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Cc,t(M.model),1)]),e("div",Sc,[Dc,g(r(B),{name:"assettag",type:"text",class:U(["form-control",{"is-invalid":M.assettag}]),id:"assettag",modelValue:v.assettag,"onUpdate:modelValue":y[9]||(y[9]=T=>v.assettag=T),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Uc,t(M.assettag),1)]),e("div",Vc,[Mc,ee(e("input",{name:"serialnum",type:"text",class:U(["form-control",{"is-invalid":M.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":y[10]||(y[10]=T=>v.serialnum=T)},null,2),[[re,v.serialnum]]),e("span",Ac,t(M.serialnum),1)])]),e("div",Ec,[e("div",Tc,[Fc,g(r(B),{name:"problem",as:"textarea",class:U(["form-control",{"is-invalid":M.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:v.problem,"onUpdate:modelValue":y[11]||(y[11]=T=>v.problem=T)},null,8,["class","modelValue"]),e("span",Lc,t(M.problem),1)]),e("div",Pc,[Ic,g(r(B),{name:"assconducted",as:"textarea",class:U(["form-control",{"is-invalid":M.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:v.assconducted,"onUpdate:modelValue":y[12]||(y[12]=T=>v.assconducted=T)},null,8,["class","modelValue"]),e("span",qc,t(M.assconducted),1)]),e("div",Yc,[Nc,g(r(B),{name:"recommendation",as:"textarea",class:U(["form-control",{"is-invalid":M.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:v.recommendation,"onUpdate:modelValue":y[13]||(y[13]=T=>v.recommendation=T)},null,8,["class","modelValue"]),e("span",Bc,t(M.recommendation),1)])])])])]),e("div",Rc,[l.value?(s(),a("div",Hc,[r(w).user.role==="ADMIN"?(s(),a("div",jc,[e("button",{type:"button",onClick:y[14]||(y[14]=T=>P(2)),class:"btn btn-info"}," Approved "),Oc,e("div",zc,[e("span",{onClick:y[15]||(y[15]=T=>P(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:y[16]||(y[16]=T=>P(3)),class:"dropdown-item"},"Disapproved")])])):L("",!0)])):L("",!0),Gc,Wc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Qc,[e("div",Kc,[e("div",Xc,[Jc,e("div",Zc,[er,e("button",{onClick:te(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Re=tt("SettingStore",()=>{const o=c({app_name:""}),k=wt("SettingStore:theme",c("light"));return{setting:o,getSetting:async()=>{await F.get("/api/settings").then(i=>{o.value=i.data})},theme:k,changeTheme:()=>{k.value=k.value==="light"?"dark":"light"}}});const se=o=>(De("data-v-0c8371d9"),o=o(),Ue(),o),sr={class:"content"},ar={class:"container-fluid"},or={class:"card"},lr={class:"card-header"},nr={class:"card-title"},dr={class:"card-body"},ir={class:"col-md-12"},cr={class:"d-flex justify-content-between"},rr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ur={class:"d-flex"},_r={class:"col-12",id:"accordion"},mr={key:1},pr={key:0},hr={class:"card card-secondary"},vr={class:"card-body d-flex align-items-center justify-content-center"},br={class:"image-container"},fr=["src"],$r=se(()=>e("div",{class:"overlay"},null,-1)),gr={key:1},yr={class:"card-header bg-white"},kr={class:"card-title"},xr=["href"],wr=["src"],Cr={class:"card-tools"},Sr=["onClick"],Dr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ur=[Dr],Vr=["disabled","onClick"],Mr=["onClick"],Ar=["onClick"],Er=se(()=>e("p",{class:"float-right"},null,-1)),Tr=["id"],Fr={class:"card-body"},Lr={class:"col-md-12"},Pr={class:"dispatch-table"},Ir={class:"row"},qr={class:"col-4"},Yr=se(()=>e("b",null,"Site:",-1)),Nr=se(()=>e("b",null,"Planned Date:",-1)),Br=se(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},Hr=se(()=>e("b",null,"Start Date:",-1)),jr=se(()=>e("b",null,"Accomplished Date:",-1)),Or={class:"closestatus"},zr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Gr={class:"col-4"},Wr={class:"ongoing"},Qr=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),Kr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Xr=se(()=>e("b",null,"Remarks:",-1)),Jr={style:{margin:"0.5%"}},Zr=["disabled","onClick"],eu=["onClick","disabled"],tu={class:"dispatch-list"},su={class:"list-group list-group-flush"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u=se(()=>e("hr",null,null,-1)),gu={class:"row"},yu={class:"col"},ku=["onClick"],xu=se(()=>e("i",{class:"fas fa-pen"},null,-1)),wu=["onClick"],Cu=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),Y(" Drop ")],-1)),Su=[Cu],Du={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uu={class:"modal-dialog modal-dialog-centered",role:"document"},Vu={class:"modal-content"},Mu={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Eu={key:0},Tu={key:1},Fu={key:2},Lu=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Pu={class:"modal-body"},Iu={class:"col-md-12"},qu={class:"row"},Yu={class:"col-12"},Nu={class:"form-group"},Bu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Hu=["value"],ju={key:0,class:"d-flex justify-content-between"},Ou={class:"d-flex"},zu={class:"form-group"},Gu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),Wu={class:"form-group"},Qu=se(()=>e("label",{for:"end-time"},"Hour",-1)),Ku=["value"],Xu=se(()=>e("div",{class:"d-fex"},null,-1)),Ju={key:1,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=se(()=>e("label",{for:"end-time"},"End Date",-1)),s_={class:"form-group"},a_=se(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=se(()=>e("div",{class:"d-fex"},null,-1)),n_={class:"form-group"},d_=se(()=>e("label",{for:"site"},"Type",-1)),i_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),c_=["value"],r_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),u_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},__={class:"modal-dialog modal-sm",role:"document"},m_={class:"modal-content"},p_={class:"modal-header"},h_={class:"modal-title",id:"staticBackdropLabel"},v_=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),b_={class:"modal-body"},f_=xe('<ul class="nav nav-tabs" id="myTabs" data-v-0c8371d9><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-0c8371d9> Todo List</a></li><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-0c8371d9> Todo</a></li></ul>',1),$_={class:"tab-content"},g_={class:"tab-pane fade show active",id:"todolist"},y_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},k_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),w_={key:0,class:"list-group-item p-0"},C_={class:"d-flex justify-content-center"},S_=["onClick"],D_={class:"ml-auto my-1 mr-1"},U_=["onClick"],V_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),M_=[V_],A_={class:"mt-2 mb-2 list-unstyled"},E_={key:1},T_={key:0,class:"list-group-item p-0"},F_={class:"d-flex justify-content-center"},L_=["onClick"],P_={class:"ml-auto my-1 mr-1"},I_=["onClick"],q_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),Y_=[q_],N_={key:1,class:"mt-2 text-center"},B_=se(()=>e("span",null,"No Todo",-1)),R_=[B_],H_={class:"tab-pane fade",id:"formTask"},j_={class:"col-md-12"},O_={class:"row"},z_={class:"col-12"},G_={class:"m-2",style:{display:"flex","align-items":"center"}},W_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),Y("\xA0Save ")])],-1)),Q_={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K_={class:"modal-dialog",role:"document"},X_={class:"modal-content"},J_=se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Z_={class:"modal-body"},em={class:"col-md-12"},tm={class:"row"},sm={class:"col-12"},am={class:"modal-footer"},om=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),lm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},nm={class:"modal-dialog",role:"document"},dm={class:"modal-content"},im=xe('<div class="modal-header" data-v-0c8371d9><h5 class="modal-title" id="staticBackdropLabel" data-v-0c8371d9><span data-v-0c8371d9>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-0c8371d9><span aria-hidden="true" data-v-0c8371d9>\xD7</span></button></div><div class="modal-body" data-v-0c8371d9><h5 data-v-0c8371d9>Are you sure you want to delete this record ?</h5></div>',2),cm={class:"modal-footer"},rm=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),um={__name:"MyPrio",setup(o){const k=`${fe().name}`,_=c(!1),d=c(!1),i=Xe("$swal");Re();const u=me(),m=c({data:[]}),D=c([]);c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),c();const l=c();c();const A=c(!0),v=c(!1);c(!1),c();const w=c(),n=c(),x=c(),R=_e();c(null),c(!1);const K=c([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),J=c(),ne=c("1:00 AM"),N=c(),H=c("1:00 AM"),Q=c(Array.from({length:24},(f,V)=>{const p=V%12+1,pe=V<12?"AM":"PM";return`${p}:00 ${pe}`})),E=c(Array.from({length:24},(f,V)=>{const p=V%12+1,pe=V<12?"AM":"PM";return`${p}:00 ${pe}`})),h=Ve({dailytask_id:"",site:"",user_id:R.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),q=c("");ve([J,ne],()=>{const f=new Date(J.value),V=f.getFullYear(),p=String(f.getMonth()+1).padStart(2,"0"),pe=String(f.getDate()).padStart(2,"0");h.plandate=`${V}-${p}-${pe} ${ne.value}`}),ve([J,H],()=>{const f=new Date(J.value);f.getFullYear(),String(f.getMonth()+1).padStart(2,"0"),String(f.getDate()).padStart(2,"0")}),ve([N,H],()=>{const f=new Date(N.value),V=f.getFullYear(),p=String(f.getMonth()+1).padStart(2,"0"),pe=String(f.getDate()).padStart(2,"0");h.enddates=`${V}-${p}-${pe} ${H.value}`});const C=c({id:"",dailytask_id:"",task_name:"",iscompleted:0}),j=()=>{F.get("/web/getsite").then(f=>{l.value=f.data.sites}).catch(f=>{console.log(f)})},ie=()=>{_.value=!0,F.get("/web/dailytask",{params:{query:z.value}}).then(f=>{_.value=!1,m.value=f.data,$e.value=[]})},W=async f=>{(await i({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,F.put(`/web/dailytask/drop/${f}`).then(p=>{u.success("Data drop successfully!"),_.value=!1,ie()}))},P=()=>{$("#FormModalTask").modal("show")},S=f=>{P(),C.value.dailytask_id=f.dailytask_id,n.value=f.taskdate,x.value=f.startdate,d.value=!0,F.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(V=>{D.value=V.data,P(),d.value=!1}).catch(V=>{console.error("Error fetching tasks:",V)})},b=()=>{d.value=!0,F.post("/web/dailytask/addnewTask",{dailytask_id:C.value.dailytask_id,task_name:C.value.task_name,iscompleted:C.value.iscompleted}).then(f=>{u.success("Data created successfully!"),F.get(`/web/dailytask/${C.value.dailytask_id}/tasks`).then(V=>{D.value=V.data,d.value=!1}).catch(V=>{console.error("Error fetching tasks:",V),u.error("Error fetching tasks. Please try again.")}),C.value.task_name=""}).catch(f=>{console.error("Error adding new task:",f),u.error("Error adding new task. Please try again.")})},y=f=>{C.value.iscompleted=f.iscompleted===1?0:1,F.post("/web/dailytask/addnewTask",{id:f.id,dailytask_id:f.dailytask_id,task_name:f.task_name,iscompleted:C.value.iscompleted}).then(V=>{F.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(p=>{D.value=p.data}).catch(p=>{console.error("Error fetching tasks:",p),u.error("Error fetching tasks. Please try again.")})}).catch(V=>{console.error("Error adding new task:",V),u.error("Error adding new task. Please try again.")})},de=Se(()=>Array.isArray(D.value)?D.value.filter(f=>f.iscompleted===1):[]),oe=Se(()=>de.value.length),M=()=>{A.value=!A.value},T=f=>{F.delete(`/web/dailytask/deleteTask/${f.id}`).then(V=>{F.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(p=>{D.value=p.data,u.success("Todo successfull Deleted")}).catch(p=>{console.error("Error fetching tasks:",p),u.error("Error fetching tasks. Please try again.")})}).catch(V=>{console.error("Error adding new task:",V),u.error("Error adding new task. Please try again.")})};ke({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()}),ke({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()});const Ie=(f,V)=>{F.post("/web/dailytask",h).then(p=>{ie(),$("#FormModal").modal("hide"),u.success("data created successfully!")}).catch(p=>{V.setErrors(p.response.data.errors)})},Oe=(f,V)=>{F.put("/web/dailytask/"+h.dailytask_id,h).then(p=>{console.log(p.data),ie(),$("#FormModal").modal("hide"),u.success("data update successfully!")}).catch(p=>{V.setErrors(p.response.data.errors)})},Be=f=>{f&&f.dailytask_id!==null&&f.dailytask_id!==void 0?(v.value=!0,w.value=" on "+he(f.taskdate).format("MMMM D, YYYY"),h.site=f.site_name,h.dailytask_id=f.dailytask_id,h.plandate=f.plandate,h.planenddate=f.planenddate,h.tasktype=f.tasktype,console.log(f.site_name),console.log(f.tasktype)):v.value=!1,j(),$("#FormModal").modal("show")},ze=(f,V)=>{v.value?Oe(f,V):Ie(f,V)},qe=async f=>{if((await i.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const p=await F.put("/web/dailytask/onTashHoliday/"+f.dailytask_id,f);u.success(p.data.message),ie()}},Ge=async f=>{try{const V=await F.get(`/web/dailytask/${f.dailytask_id}/tasks`);if(D.value=V.data,!D.value||D.value.length===0){i.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await i.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const pe=await F.put("/web/dailytask/onhandler/"+f.dailytask_id,f);u.success(pe.data.message),ie()}}catch(V){console.error("Error fetching tasks:",V),u.error("An error occurred while updating the task.")}},We=f=>{$("#onRemarksModal").modal("show"),q.value=f},O=()=>{h.remarks===null||h.remarks==""?u.error("Remarks is required"):(he(q.value.taskdate).format("YYYY-MM-DD")===he().format("YYYY-MM-DD")?h.status="HIT":h.status="MISS",F.put("/web/dailytask/onhandler/"+q.value.dailytask_id,{startdate:q.value.startdate,remarks:h.remarks,status:h.status}).then(V=>{console.log(V.data),ie(),$("#onRemarksModal").modal("hide"),u.success(V.data.message)}))},z=c(null),$e=c([]);return c(null),ve(z,Ee.exports.debounce(()=>{ie()},300)),ue(()=>{at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ie(),document.title=k}),(f,V)=>(s(),a(G,null,[e("div",sr,[e("div",ar,[e("div",or,[e("div",lr,[e("div",nr,t(r(R).user.first_name+" "+r(R).user.last_name)+" - My Prio ",1)]),e("div",dr,[e("div",ir,[e("div",cr,[e("div",{class:"d-flex"},[e("button",{onClick:Be,type:"button",class:"mb-2 btn btn-primary"},[rr,Y(" Task ")])]),e("div",ur,[ee(e("input",{type:"text","onUpdate:modelValue":V[0]||(V[0]=p=>z.value=p),class:"form-control",placeholder:"Search..."},null,512),[[re,z.value]])])]),e("div",_r,[_.value?(s(),ce(Ae,{key:0})):(s(),a("div",mr,[m.value.length===0?(s(),a("div",pr,[e("div",hr,[e("div",vr,[e("div",br,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,fr),$r])])])])):(s(),a("div",gr,[(s(!0),a(G,null,X(m.value,p=>(s(),a("div",{class:"card card-primary",key:p.id},[e("div",yr,[e("h4",kr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+p.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,wr),Y(" \xA0"),e("b",null,t(r(he)(p.taskdate).format("MMMM D, YYYY")+" - "+p.site_name),1)],8,xr)]),e("div",Cr,[p.tasktypeid&&p.tasktypeid!==6?(s(),a("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:pe=>S(p)},Ur,8,Sr)):L("",!0),!p.enddate&&p.tasktypeid!==6?(s(),a("button",{key:1,disabled:p.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:pe=>We(p)}," End ",8,Vr)):L("",!0),p.tasktypeid&&p.tasktypeid===6?(s(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:pe=>qe(p)}," Complete ",8,Mr)):L("",!0),!p.startdate&&p.tasktypeid!==6?(s(),a("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:pe=>Ge(p)}," Start ",8,Ar)):L("",!0),Er])]),e("div",{id:"collapse"+p.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Fr,[e("div",Lr,[e("div",Pr,[e("div",Ir,[e("div",qr,[e("h5",null,[Yr,Y(" "+t(p.site_name),1)]),e("h5",null,[Nr,Y(" "+t(p.plandate),1)]),e("h5",null,[Br,Y(" "+t(p.planenddate),1)])]),e("div",Rr,[e("h5",null,[Hr,Y(" "+t(p.startdate!==null?r(he)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[jr,Y(" "+t(p.enddate!==null?r(he)(p.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Or,[zr,Y(" "+t(p.tasktype?p.tasktype.join(", "):""),1)])]),e("div",Gr,[e("h5",Wr,[Qr,Y(" "+t(p.status),1)]),e("h5",null,[Kr,Y(" "+t(p.attachment),1)]),e("h5",null,[Xr,Y(" "+t(p.remarks),1)])])]),e("div",Jr,[e("button",{disabled:p.startdate!==null,onClick:pe=>W(p.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Zr),e("button",{onClick:pe=>Be(p),type:"button",disabled:p.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,eu)])]),e("div",tu,[e("ul",su,[e("li",au,[Y(" Site: "),e("span",ou,t(p.site_name),1)]),e("li",lu,[Y(" Planned Date: "),e("span",nu,t(p.plandate),1)]),e("li",du,[Y(" Planned End Date: "),e("span",iu,t(p.planenddate),1)]),e("li",cu,[Y(" Start Date: "),e("span",ru,t(p.startdate!==null?r(he)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",uu,[Y(" Type: "),e("span",_u,t(p.tasktype?p.tasktype.join(", "):""),1)]),e("li",mu,[Y(" Status: "),e("span",pu,t(p.status),1)]),e("li",hu,[Y(" Attachment: "),e("span",vu,t(p.attachment),1)]),e("li",bu,[Y(" Remarks: "),e("span",fu,t(p.remarks),1)])]),$u,e("div",gu,[e("div",yu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:pe=>Be(p)},[xu,Y(" Edit ")],8,ku),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:pe=>W(p.dailytask_id)},Su,8,wu)])])])])])],8,Tr)]))),128))]))]))])])])])])]),e("div",Du,[e("div",Uu,[e("div",Vu,[e("div",Mu,[e("h5",Au,[v.value?(s(),a("span",Eu,"Edit My Task")):(s(),a("span",Tu,"Add My Task")),v.value?(s(),a("span",Fu,t(w.value),1)):L("",!0)]),Lu]),g(r(Ce),{onSubmit:ze},{default:Z(()=>[e("div",Pu,[e("div",Iu,[e("div",qu,[e("div",Yu,[g(r(B),{modelValue:h.user_id,"onUpdate:modelValue":V[1]||(V[1]=p=>h.user_id=p),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Nu,[Bu,ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":V[2]||(V[2]=p=>h.site=p)},[Ru,(s(!0),a(G,null,X(l.value,p=>(s(),a("option",{key:p.id,value:p.id},t(p.site_name),9,Hu))),128))],512),[[Te,h.site]])]),v.value==!1?(s(),a("div",ju,[e("div",Ou,[e("div",zu,[Gu,g(r(Fe),{class:"form-control",modelValue:J.value,"onUpdate:modelValue":V[3]||(V[3]=p=>J.value=p)},null,8,["modelValue"])]),e("div",Wu,[Qu,ee(e("select",{class:"form-control","onUpdate:modelValue":V[4]||(V[4]=p=>ne.value=p),id:"plandate"},[(s(!0),a(G,null,X(Q.value,p=>(s(),a("option",{key:p,value:p},t(p),9,Ku))),128))],512),[[Te,ne.value]])])]),Xu])):L("",!0),v.value==!1?(s(),a("div",Ju,[e("div",Zu,[e("div",e_,[t_,g(r(Fe),{class:"form-control",modelValue:N.value,"onUpdate:modelValue":V[5]||(V[5]=p=>N.value=p)},null,8,["modelValue"])]),e("div",s_,[a_,ee(e("select",{class:"form-control","onUpdate:modelValue":V[6]||(V[6]=p=>H.value=p),id:"plandate"},[(s(!0),a(G,null,X(E.value,p=>(s(),a("option",{key:p,value:p},t(p),9,o_))),128))],512),[[Te,H.value]])])]),l_])):L("",!0),e("div",n_,[d_,g(r(B),{name:"tasktype"},{default:Z(()=>[ee(e("select",{"onUpdate:modelValue":V[7]||(V[7]=p=>h.tasktype=p),class:"form-control",required:!0},[i_,(s(!0),a(G,null,X(K.value,p=>(s(),a("option",{key:p.value,value:p.value},t(p.name),9,c_))),128))],512),[[Te,h.tasktype]])]),_:1})])])])])]),r_]),_:1})])])]),e("div",u_,[e("div",__,[e("div",m_,[e("div",p_,[e("h5",h_," My Todo of "+t(r(he)(n.value).format("MM/D/YYYY")),1),v_]),e("div",b_,[f_,e("div",$_,[e("div",g_,[D.value.length>0?(s(),a("div",y_,[d.value?(s(),ce(Ae,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[k_,x_]),_:1})):L("",!0),(s(!0),a(G,null,X(D.value,p=>(s(),a("ul",{class:"list-group",key:p.id},[p.iscompleted!==1?(s(),a("li",w_,[e("div",C_,[e("div",null,[e("span",{class:U({"font-italic btn":p.iscompleted===1,btn:p.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:pe=>y(p),class:U({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1})},null,10,S_)):L("",!0),Y(" "+t(p.task_name),1)],2)]),e("div",D_,[e("button",{onClick:pe=>T(p),class:"btn btn-outline"},M_,8,U_)])])])):L("",!0)]))),128)),e("li",A_,[oe.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:M},[e("i",{class:U(["fa",A.value?"fa-arrow-down":"fa-arrow-right"])},null,2),Y(" \xA0Completed "+t(oe.value),1)])):L("",!0)]),A.value?(s(),a("div",E_,[(s(!0),a(G,null,X(D.value,p=>(s(),a("ul",{class:"list-group",key:p.id},[p.iscompleted===1?(s(),a("li",T_,[e("div",F_,[e("div",null,[e("span",{class:U({"font-italic btn":p.iscompleted===1,btn:p.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:pe=>y(p),class:U({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1})},null,10,L_)):L("",!0),Y(" "+t(p.task_name),1)],2)]),e("div",P_,[e("button",{onClick:pe=>T(p),class:"btn btn-outline"},Y_,8,I_)])])])):L("",!0)]))),128))])):L("",!0)])):(s(),a("div",N_,R_))]),e("div",H_,[g(r(Ce),{onSubmit:b},{default:Z(()=>[e("div",j_,[e("div",O_,[e("div",z_,[g(r(B),{modelValue:C.value.dailytask_id,"onUpdate:modelValue":V[8]||(V[8]=p=>C.value.dailytask_id=p),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",G_,[g(r(B),{modelValue:C.value.task_name,"onUpdate:modelValue":V[9]||(V[9]=p=>C.value.task_name=p),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),W_]),_:1})])])])])])]),e("div",Q_,[e("div",K_,[e("div",X_,[J_,e("div",Z_,[e("div",em,[e("div",tm,[e("div",sm,[g(r(B),{modelValue:h.remarks,"onUpdate:modelValue":V[10]||(V[10]=p=>h.remarks=p),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",am,[e("button",{onClick:V[11]||(V[11]=te(p=>O(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),om])])])]),e("div",lm,[e("div",nm,[e("div",dm,[im,e("div",cm,[e("button",{onClick:V[12]||(V[12]=te((...p)=>f.deleteUser&&f.deleteUser(...p),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),rm])])])])],64))}};var _m=ye(um,[["__scopeId","data-v-0c8371d9"]]);const mm={class:"text-center"},pm={key:0},hm={class:"text-center"},vm={key:0},bm={class:"text-center"},fm={key:0,class:"bg-success text-center"},$m={key:1,class:"bg-danger text-center"},gm={key:2,class:"text-center"},ym={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return me(),_e(),(k,_)=>(s(),a("tr",null,[e("td",null,t(r(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",mm,[o.item.task_lists_count!==0?(s(),a("span",pm,t(o.item.task_lists_count),1)):L("",!0)]),e("td",hm,[o.item.completed_task_count!==0?(s(),a("span",vm,t(o.item.completed_task_count),1)):L("",!0)]),e("td",bm,[e("span",null,t(o.item.remarks),1)]),o.item.status==="HIT"?(s(),a("td",fm,t(o.item.status),1)):o.item.status==="MISS"?(s(),a("td",$m,t(o.item.status),1)):o.item.status===null||o.item.status===""?(s(),a("td",gm,t(o.item.status===null||o.item.status===""?"On Going!":""),1)):L("",!0),e("td",{class:U({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},t(o.item.percentage_completed+"%"),3)]))}};const be=o=>(De("data-v-323d585d"),o=o(),Ue(),o),km={class:"content-header"},xm={class:"container-fluid"},wm={class:"col-12"},Cm={class:"card",id:"captureVSCContainer"},Sm={class:"card-header"},Dm={class:"card-title"},Um={class:"card-tools"},Vm={class:"card-body"},Mm=be(()=>e("i",{class:"fa fa-camera"},null,-1)),Am=[Mm],Em={key:1,class:"row"},Tm={class:"inner"},Fm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Lm=["src"],Pm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Im={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},qm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Ym={style:{"text-align":"left"}},Nm={key:0},Bm=be(()=>e("span",{class:"text-light badge"},"Todos",-1)),Rm={class:"list-group-item"},Hm={style:{display:"flex","align-items":"left"}},jm={class:"ml-1"},Om={class:"ml-1"},zm={class:"float-right"},Gm={id:"captureHitRateContainer",class:"card"},Wm={class:"card-header"},Qm={class:"card-title"},Km={class:"card-body"},Xm={class:"content"},Jm={class:"container-fluid"},Zm=be(()=>e("i",{class:"fa fa-camera"},null,-1)),ep=[Zm],tp={class:"dispatch-table"},sp={class:"table-responsive"},ap={class:"table table-bordered table-hover table-sm"},op=be(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),lp=be(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),np={class:"text-center"},dp={class:"text-center"},ip=be(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),cp=be(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),rp=["item"],up={class:"list-field"},_p=be(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),mp={class:"list-field"},pp=be(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),hp={key:0},vp={class:"list-field"},bp=be(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),fp={key:0},$p={class:"list-field"},gp=be(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),yp={class:"list-field"},kp=be(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),xp={class:"list-field"},wp=be(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),Cp={class:"float-right"},Sp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Dp={class:"modal-dialog modal-sm",role:"document"},Up={class:"modal-content"},Vp=be(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Mp={class:"modal-body"},Ap={class:"fromtocenter"},Ep=be(()=>e("label",{for:"fromDate"},"From:",-1)),Tp=be(()=>e("label",{for:"toDate"},"To:",-1)),Fp=be(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Lp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Pp={class:"modal-dialog modal-sm",role:"document"},Ip={class:"modal-content"},qp=be(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Yp={class:"modal-body"},Np={class:"container"},Bp={class:"row"},Rp=["onClick"],Hp=be(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),jp={__name:"MyVsc",setup(o){const k=`${fe().name}`,_=_e(),d=c(!1),i=c(0),u=c(0),m=c(0),D=c([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),A=c((()=>{const h={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",h)})()),v=()=>{const h=document.getElementById("captureVSCContainer");je(h).then(q=>{const C=q.toDataURL(),j=document.createElement("a");j.href=C,j.download=`${_.user.first_name+" "+_.user.last_name} - ${k}.png`,j.click()})},w=()=>{const h=document.getElementById("captureHitRateContainer");je(h).then(q=>{const C=q.toDataURL(),j=document.createElement("a");j.href=C,j.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,j.click()})};c(null),c("today");const n=c({data:[]}),x=c({data:[]}),R=()=>{d.value=!0,axios.get("/api/myvsc").then(h=>{d.value=!1,n.value=h.data.dailyTasks,x.value=h.data.TaskList,i.value=h.data.totaltasklist,u.value=h.data.totalcomplettask,m.value=h.data.totalpercentcomplete})},K=()=>{$("#FormModalfilterDate").modal("show")},J=c({start_date:"",end_date:""}),ne=c(""),N=c("");ve([ne],()=>{const h=new Date(ne.value),q=h.getFullYear(),C=String(h.getMonth()+1).padStart(2,"0"),j=String(h.getDate()).padStart(2,"0");J.value.start_date=`${q}-${C}-${j}`}),ve([N],()=>{const h=new Date(N.value),q=h.getFullYear(),C=String(h.getMonth()+1).padStart(2,"0"),j=String(h.getDate()).padStart(2,"0");J.value.end_date=`${q}-${C}-${j}`});const H=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:J.value.start_date,end_date:J.value.end_date}}).then(h=>{d.value=!1,n.value=h.data.dailyTasks,x.value=h.data.TaskList}).catch(h=>{console.error(h)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},Q=()=>{$("#FormModalPickerThemes").modal("show")},E=h=>{if(h){const q=_.user.id;axios.post("/api/changethemes",{userid:q,background:h.background,active_background:h.active_background,font_background:h.font_background}).then(C=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(j=>{d.value=!1,n.value=j.data.dailyTasks,x.value=j.data.TaskList})}).catch(C=>{console.error(C)})}else console.error("Invalid item:",h)};return ue(()=>{R(),document.title=k}),(h,q)=>(s(),a(G,null,[e("div",km,[e("div",xm,[e("div",wm,[e("div",Cm,[e("div",Sm,[e("div",Dm,[e("h5",null,t(r(_).user.first_name+" "+r(_).user.last_name)+" - "+t(k),1)]),e("div",Um,[e("i",{onClick:q[0]||(q[0]=C=>Q()),class:"fas fa-palette"})])]),e("div",Vm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-sm btn-success"},Am)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:K})])]),d.value?(s(),ce(Ae,{key:0})):(s(),a("div",Em,[(s(!0),a(G,null,X(n.value,C=>(s(),a("div",{class:"col-lg-3 col-6",key:C.id},[e("div",{class:"small-box",style:Qe("background-color: "+(r(he)(C.taskdate).format("MMMM D, YYYY")===A.value?C.active_background==""?"#72461F":C.active_background:C.background==""?"#B98D65":C.background)+";")},[e("div",Tm,[e("div",Fm,[Y(t(r(he)(C.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Lm)]),e("div",Pm,t(r(he)(C.taskdate).format("MMMM D, YYYY")),1),C.tasktype!==6?(s(),a("div",Im,t(C.site_name),1)):L("",!0),C.tasktype===6?(s(),a("div",qm," Holiday ")):L("",!0),e("div",Ym,[C.task_lists&&C.task_lists.length>0?(s(),a("div",Nm,[Bm,(s(!0),a(G,null,X(C.task_lists,j=>(s(),a("ul",{class:"list-group list-group-flush",key:j.id},[e("li",Rm,[e("div",Hm,[e("div",jm,[e("i",{class:U(j.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Om,t(j.task_name),1)])])]))),128))])):L("",!0)])])],4)]))),128))])),e("div",zm,t(A.value),1)])]),e("div",Gm,[e("div",Wm,[e("div",Qm,[e("h5",null,t(r(_).user.first_name+" "+r(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Km,[e("div",Xm,[e("div",Jm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:w,type:"button",class:"mb-2 btn btn-sm btn-success"},ep)])]),e("div",tp,[e("div",sp,[e("table",ap,[op,e("tbody",null,[(s(!0),a(G,null,X(x.value,C=>(s(),ce(ym,{key:C.id,item:C},null,8,["item"]))),128)),e("tr",null,[lp,e("td",np,[e("strong",null,t(i.value),1)]),e("td",dp,[e("strong",null,t(u.value),1)]),ip,cp,e("td",{class:U({"bg-danger":m.value>=0&&m.value<=59,"bg-orange":m.value>60&&m.value<=90,"bg-success":m.value===100,"text-center":!0})},[e("strong",null,t(m.value.toFixed(2)+"%"),1)],2)])])])])]),(s(!0),a(G,null,X(x.value,C=>(s(),a("div",{class:"dispatch-list",key:C.id,item:C},[e("div",{class:U([{"callout callout-success":C.remarks==="HIT","callout callout-danger":C.remarks==="MISS",callout:C.remarks===null}])},[e("div",up,[_p,e("span",null,t(r(he)(C.taskdate).format("MMMM D, YYYY")),1)]),e("div",mp,[pp,C.task_lists_count!==0?(s(),a("span",hp,t(C.task_lists_count),1)):L("",!0)]),e("div",vp,[bp,C.completed_task_count!==0?(s(),a("span",fp,t(C.completed_task_count),1)):L("",!0)]),e("div",$p,[gp,e("span",null,t(C.remarks),1)]),e("div",yp,[kp,e("span",{class:U(["badge",C.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(C.status),1)],2)]),e("div",xp,[wp,e("span",{class:U(["badge",{"bg-danger":C.percentage_completed>=0&&C.percentage_completed<=59},{"bg-orange":C.percentage_completed>60&&C.percentage_completed<=90},{"bg-success":C.percentage_completed===100}])},t(C.percentage_completed+"%"),3)])],2)],8,rp))),128))])]),e("div",Cp,t(A.value),1)])])])])]),e("div",Sp,[e("div",Dp,[e("div",Up,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(k)+" Summary Report")]),Vp]),e("div",Mp,[e("div",Ap,[e("div",null,[Ep,g(r(Fe),{modelValue:ne.value,"onUpdate:modelValue":q[1]||(q[1]=C=>ne.value=C)},null,8,["modelValue"])]),e("div",null,[Tp,g(r(Fe),{modelValue:N.value,"onUpdate:modelValue":q[2]||(q[2]=C=>N.value=C)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Fp,e("button",{onClick:H,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Lp,[e("div",Pp,[e("div",Ip,[qp,e("div",Yp,[e("div",Np,[e("div",Bp,[(s(!0),a(G,null,X(D.value,C=>(s(),a("div",{class:"col-md-4",key:C.background},[e("div",{class:"box",onClick:j=>E(C)},[e("div",{class:"column",style:Qe({"background-color":C.background})}," \xA0 ",4),e("div",{class:"column",style:Qe({"background-color":C.active_background})}," \xA0 ",4)],8,Rp)]))),128))])])]),Hp])])])],64))}};var Op=ye(jp,[["__scopeId","data-v-323d585d"]]);const zp={class:"text-center"},Gp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return me(),_e(),(k,_)=>(s(),a("tr",null,[e("td",null,t(o.item.sitename),1),e("td",null,t(r(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(o.item.startdate),1),e("td",null,t(o.item.enddate),1),e("td",null,t(o.item.tasktype.listtask),1),e("td",zp,[e("span",{class:U(["badge",o.item.status==="HIT"?"bg-success":"bg-danger"])},t(o.item.status),3)]),e("td",null,t(o.item.remarks),1)]))}};var Wp=ye(Gp,[["__scopeId","data-v-b058f1b2"]]);const we=o=>(De("data-v-65d2a690"),o=o(),Ue(),o),Qp={class:"content"},Kp={class:"container-fluid"},Xp={class:"card",id:"capturePrioContainer"},Jp={class:"card-header"},Zp={class:"card-title"},eh={class:"card-body"},th={key:1,class:"content"},sh={class:"container-fluid"},ah=we(()=>e("i",{class:"fa fa-camera"},null,-1)),oh=[ah],lh={class:"dispatch-table"},nh={class:"table-responsive"},dh={class:"table table-bordered table-sm table-striped table-hover"},ih=we(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),ch={key:0},rh={key:1},uh=we(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),_h=[uh],mh=["item","index"],ph={class:"card"},hh={class:"card-body"},vh={class:"list-field"},bh=we(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),fh={class:"list-field"},$h=we(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),gh={class:"list-field"},yh=we(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),kh={class:"list-field"},xh=we(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),wh={class:"list-field"},Ch=we(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),Sh={class:"list-field"},Dh=we(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Uh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vh={class:"modal-dialog modal-sm",role:"document"},Mh={class:"modal-content"},Ah=we(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Eh={class:"modal-body"},Th={class:"fromtocenter"},Fh=we(()=>e("label",{for:"fromDate"},"From:",-1)),Lh=we(()=>e("label",{for:"toDate"},"To:",-1)),Ph=we(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ih={__name:"MyClosePrioList",setup(o){const k=`${fe().name}`,_=c(!1);me();const d=c({data:[]}),i=c(""),u=c(""),m=_e(),D=(w=1)=>{_.value=!0,F.get(`/api/mycloseprio?page=${w}`,{params:{query:v.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const w=document.getElementById("capturePrioContainer");je(w).then(n=>{const x=n.toDataURL(),R=document.createElement("a");R.href=x,R.download="MY CLOSED PRIO.png",R.click()})},A=()=>{_.value=!0,F.get("/api/filter-closeprio",{params:{start_date:i.value,end_date:u.value}}).then(w=>{_.value=!1,d.value=w.data.dailyTasks}).catch(w=>{console.error(w)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},v=c(null);return ve(v,Ee.exports.debounce(()=>{D()},300)),ue(()=>{D(),document.title=k}),(w,n)=>{const x=ge("font");return s(),a(G,null,[e("div",Qp,[e("div",Kp,[e("div",Xp,[e("div",Jp,[e("div",Zp,[e("h5",null,t(r(m).user.first_name+" "+r(m).user.last_name)+" - My Closed Prio ",1)])]),e("div",eh,[_.value?(s(),ce(Ae,{key:0})):(s(),a("div",th,[e("div",sh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},oh)])]),e("div",null,[e("div",lh,[e("div",nh,[g(x,{size:"2"},{default:Z(()=>[e("table",dh,[ih,d.value.data.length>0?(s(),a("tbody",ch,[(s(!0),a(G,null,X(d.value.data,(R,K)=>(s(),ce(Wp,{key:R.id,item:R,index:K},null,8,["item","index"]))),128))])):(s(),a("tbody",rh,_h))])]),_:1})])]),(s(!0),a(G,null,X(d.value.data,(R,K)=>(s(),a("div",{class:"dispatch-list first-letter:shadow",key:R.id,item:R,index:K},[e("div",ph,[e("div",hh,[e("div",vh,[bh,e("span",null,t(R.sitename),1)]),e("div",fh,[$h,e("span",null,t(r(he)(R.taskdate).format("MMMM D, YYYY")),1)]),e("div",gh,[yh,e("span",null,t(R.startdate),1)]),e("div",kh,[xh,e("span",null,t(R.enddate),1)]),e("div",wh,[Ch,e("span",null,t(R.tasktype.listtask),1)]),e("div",Sh,[Dh,e("span",{class:U(["badge",R.remarks==="HIT"?"bg-success":"bg-danger"])},t(R.remarks),3)])])])],8,mh))),128))])])]))])]),g(r(Pe),{data:d.value,onPaginationChangePage:D},null,8,["data"])])]),e("div",Uh,[e("div",Vh,[e("div",Mh,[Ah,e("div",Eh,[e("div",Th,[e("div",null,[Fh,g(r(Fe),{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=R=>i.value=R)},null,8,["modelValue"])]),e("div",null,[Lh,g(r(Fe),{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=R=>u.value=R)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Ph,e("button",{onClick:A,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var qh=ye(Ih,[["__scopeId","data-v-65d2a690"]]);const Yh=["checked"],Nh={class:"text-center"},Bh=e("i",{class:"fa fa-edit"},null,-1),Rh=[Bh],Hh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){me();const _=o,d=k,i=()=>{d("toggleSelection",_.user)};return(u,m)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,Yh)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",Nh,[e("a",{href:"#",onClick:m[0]||(m[0]=te(D=>u.$emit("editUser",o.user),["prevent"]))},Rh)])]))}},jh={class:"content"},Oh={class:"container-fluid"},zh={class:"card"},Gh={class:"card-header"},Wh=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Qh={class:"card-tools"},Kh={class:"card-body"},Xh={class:"table-responsive"},Jh={class:"table table-bordered table-hover table-sm"},Zh=e("th",{style:{width:"10px"}},"#",-1),ev=e("th",null,"Name",-1),tv=e("th",null,"Email",-1),sv=e("th",null,"Registered Date",-1),av=e("th",null,"Options",-1),ov={key:0},lv={key:1},nv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),dv=[nv],iv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cv={class:"modal-dialog modal-sm",role:"document"},rv={class:"modal-content"},uv={class:"modal-header"},_v={class:"modal-title",id:"staticBackdropLabel"},mv={key:0},pv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),hv={class:"modal-body"},vv={class:"table table-sm"},bv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),fv={colspan:"5"},$v={class:"custom-control custom-checkbox"},gv=["value","id","checked"],yv=["for"],kv={key:0,class:"table table-sm"},xv={class:"text-danger"},wv={class:"custom-control custom-checkbox"},Cv=["value","id"],Sv=["for"],Dv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Uv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vv={class:"modal-dialog",role:"document"},Mv={class:"modal-content"},Av=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ev={class:"modal-footer"},Tv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Fv={__name:"UserMenuList",setup(o){const k=`${fe().name}`,_=me(),d=c({data:[]}),i=c(!1),u=c(),m=c(null),D=c(null),l=c([]),A=(N=1)=>{F.get(`/api/users?page=${N}`,{params:{query:n.value}}).then(H=>{d.value=H.data,x.value=[],selectAll.value=!1})},v=N=>{F.get("/api/usermenu",{params:{user_id:N.id}}).then(H=>{ne.value=H.data,console.log(H.data)}).catch(H=>{console.log(H)}),i.value=!0,m.value.resetForm(),$("#userFormModal").modal("show"),u.value={id:N.id,username:N.username,email:N.email,first_name:N.first_name,last_name:N.last_name},D.value=u.value.first_name+" "+u.value.last_name},w=()=>{const N={user_id:u.value.id,menu_id:l.value};console.log(N),F.post("/api/usermenu",N).then(H=>{_.success("User Menu Save successfully!")}).catch(H=>{setErrors(H.response.data.errors)})},n=c(null),x=c([]),R=N=>{const H=x.value.indexOf(N.id);H===-1?x.value.push(N.id):x.value.splice(H,1),console.log(x.value)},K=c(null),J=N=>{K.value=N,$("#deleteUserModal").modal("show")},ne=c({data:[]});return ve(n,Ee.exports.debounce(()=>{A()},300)),ue(()=>{A(),document.title=k}),(N,H)=>{const Q=ge("font");return s(),a(G,null,[e("div",jh,[e("div",Oh,[e("div",zh,[e("div",Gh,[Wh,e("div",Qh,[ee(e("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=E=>n.value=E),class:"form-control",placeholder:"Search..."},null,512),[[re,n.value]])])]),e("div",Kh,[e("div",Xh,[g(Q,{size:"2"},{default:Z(()=>[e("table",Jh,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":H[1]||(H[1]=E=>N.selectAll=E),onChange:H[2]||(H[2]=(...E)=>N.selectAllUsers&&N.selectAllUsers(...E))},null,544),[[Me,N.selectAll]])]),Zh,ev,tv,sv,av])]),d.value.data.length>0?(s(),a("tbody",ov,[(s(!0),a(G,null,X(d.value.data,(E,h)=>(s(),ce(Hh,{key:E.id,user:E,index:h,onEditUser:v,onConfirmUserDeletion:J,onToggleSelection:R,"select-all":N.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),a("tbody",lv,dv))])]),_:1})])])]),g(r(Pe),{data:d.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",iv,[e("div",cv,[e("div",rv,[e("div",uv,[e("h5",_v,[i.value?(s(),a("span",mv,"User Menu for "+t(D.value),1)):L("",!0)]),pv]),g(r(Ce),{ref_key:"form",ref:m,onSubmit:w,"initial-values":u.value},{default:Z(()=>[e("div",hv,[e("table",vv,[bv,(s(!0),a(G,null,X(ne.value,E=>(s(),a("tr",{key:E.menu_id},[e("td",fv,[e("div",$v,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":H[3]||(H[3]=h=>l.value=h),value:E.menu_id,id:"menu_id_"+E.menu_id,checked:E.hasAccess},null,8,gv),[[Me,l.value]]),e("label",{for:"menu_id_"+E.menu_id,class:"custom-control-label"},t(E.menu_title),9,yv)]),E.submenus&&E.submenus.length>0?(s(),a("table",kv,[(s(!0),a(G,null,X(E.submenus,h=>(s(),a("tr",{key:h.id},[e("td",xv,[e("div",wv,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":H[4]||(H[4]=q=>l.value=q),value:h.menu_id,id:"menu_id_"+h.menu_id},null,8,Cv),[[Me,l.value]]),e("label",{for:"menu_id_"+h.menu_id,class:"custom-control-label"},t(h.menu_title),9,Sv)])])]))),128))])):L("",!0)])]))),128))])]),Dv]),_:1},8,["initial-values"])])])]),e("div",Uv,[e("div",Vv,[e("div",Mv,[Av,e("div",Ev,[Tv,e("button",{onClick:H[5]||(H[5]=te((...E)=>N.deleteUser&&N.deleteUser(...E),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const lt=o=>(De("data-v-1f6da5a7"),o=o(),Ue(),o),Lv=["checked"],Pv=["innerHTML"],Iv={style:{"text-align":"center"}},qv={class:"text-center"},Yv=lt(()=>e("i",{class:"fa fa-edit"},null,-1)),Nv=[Yv],Bv=lt(()=>e("i",{class:"fa fa-trash"},null,-1)),Rv=[Bv],Hv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:k}){me(),_e();const _=o,d=k,i=()=>{d("toggleSelection",_.item)};return(u,m)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,Lv)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.menu_title),1),e("td",null,t(o.item.parent_title),1),e("td",null,t(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Pv),e("td",null,t(o.item.sort_order),1),e("td",Iv,[e("i",{class:U({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,t(o.item.created_at),1),e("td",qv,[e("button",{class:"btn btn-sm bg-primary",onClick:m[0]||(m[0]=te(D=>u.$emit("editMenu",o.item),["prevent"]))},Nv),Y("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:m[1]||(m[1]=te(D=>u.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Rv)])]))}};var jv=ye(Hv,[["__scopeId","data-v-1f6da5a7"]]);const Ov=["type","name","value"],zv=e("span",{class:"check"},null,-1),Gv={class:"pl-2"},Wv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:k}){const _=o,d=k,i=Se({get:()=>_.modelValue,set:m=>{d("update:modelValue",m)}}),u=Se(()=>_.type==="radio"?"radio":"checkbox");return(m,D)=>(s(),a("label",{class:U([o.type,"mr-6 mb-3 last:mr-0"])},[ee(e("input",{"onUpdate:modelValue":D[0]||(D[0]=l=>i.value=l),type:u.value,name:o.name,value:o.inputValue},null,8,Ov),[[st,i.value]]),zv,e("span",Gv,t(o.label),1)],2))}},Qv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:k}){const _=o,d=k,i=Se({get:()=>_.modelValue,set:u=>{d("update:modelValue",u)}});return(u,m)=>(s(),a("div",{class:U(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(s(!0),a(G,null,X(o.options,(D,l)=>(s(),ce(Wv,{key:l,modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=A=>i.value=A),type:o.type,name:o.name,"input-value":l,label:D,class:U(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Kv={class:"content"},Xv={class:"container-fluid"},Jv={class:"d-flex justify-content-between"},Zv={class:"d-flex"},e1=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),t1={key:0},s1=e("i",{class:"fa fa-trash mr-1"},null,-1),a1={class:"ml-2"},o1={class:"card"},l1={class:"card-body"},n1={class:"table-responsive"},d1={class:"table table-bordered table-sm"},i1=e("th",{style:{width:"10px"}},"#",-1),c1=e("th",null,"Title",-1),r1=e("th",null,"Parent Menu",-1),u1=e("th",null,"Route",-1),_1=e("th",null,"Icon",-1),m1=e("th",null,"Sort",-1),p1=e("th",null,"Active",-1),h1=e("th",null,"Date",-1),v1=e("th",null,"Action",-1),b1={key:0},f1={key:1},$1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),g1=[$1],y1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},k1={class:"modal-dialog modal-sm",role:"document"},x1={class:"modal-content"},w1={class:"modal-header"},C1={class:"modal-title",id:"staticBackdropLabel"},S1={key:0},D1={key:1},U1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),V1={class:"modal-body"},M1={class:"col-md-12"},A1={class:"row"},E1={class:"col-12"},T1={class:"form-group"},F1=e("label",{for:"user"},"Menu Title",-1),L1={class:"invalid-feedback"},P1={class:"form-group"},I1=e("label",{for:"department"},"Parent Menu",-1),q1=e("option",{value:"0"},"None",-1),Y1=["value"],N1={class:"form-group"},B1=e("label",{for:"warehouse"},"Icon",-1),R1={class:"invalid-feedback"},H1={class:"form-group"},j1=e("label",{for:"user"},"Route",-1),O1={class:"invalid-feedback"},z1={class:"form-group"},G1=e("label",{for:"user"},"Sort",-1),W1={class:"invalid-feedback"},Q1={class:"form-group"},K1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),X1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},J1={class:"modal-dialog",role:"document"},Z1={class:"modal-content"},eb=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),tb={class:"modal-footer"},sb=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),ab={__name:"MenuList",setup(o){const k=`${fe().name}`,_=me(),d=c({data:[]}),i=c({data:[]}),u=c(!1),m=c(!1);c();const D=c(!0),l=Ve({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),A=_e();c(null);const v=c(),w=(W=1)=>{u.value=!0,F.get(`/api/menulist?page=${W}`,{params:{query:N.value}}).then(P=>{u.value=!1,d.value=P.data,H.value=[],j.value=!1})},n=()=>{F.get("/api/GetParentId").then(W=>{i.value=W.data}).catch(W=>{console.error(W)})};ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const x=({resetForm:W,setErrors:P})=>{F.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(S=>{d.value.data.unshift(S.data),$("#FormModal").modal("hide"),W(),_.success("User created successfully!")}).catch(S=>{S.response.data.errors&&P(S.response.data.errors)})},R=()=>{m.value=!1,$("#FormModal").modal("show")},K=W=>{m.value=!0,l.menu_id=W.menu_id,l.menu_title=W.menu_title,l.parent_id=W.parent_id,l.menu_icon=W.menu_icon,l.menu_route=W.menu_route,l.sort_order=W.sort_order,l.is_active===1?D.value=!0:D.value=!1,l.is_active=W.is_active,$("#FormModal").modal("show"),v.value=W.parent_id},J=({setErrors:W})=>{F.post("/api/menulist",l).then(P=>{w(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(P=>{W(P.response.data.errors),console.log(P)})},ne=(W,P)=>{m.value?J(W):x(W)},N=c(null),H=c([]),Q=W=>{const P=H.value.indexOf(W.id);P===-1?H.value.push(W.id):H.value.splice(P,1),console.log(H.value)},E=c(null),h=W=>{E.value=W,$("#deleteClientModal").modal("show")},q=()=>{F.delete(`/api/menu/${E.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(W=>W.menu_id!==E.value)})},C=()=>{F.delete("menulist",{data:{ids:H.value}}).then(W=>{d.value.data=d.value.data.filter(P=>!H.value.includes(P.id)),H.value=[],j.value=!1,_.success(W.data.message)})},j=c(!1),ie=()=>{j.value?H.value=d.value.data.map(W=>W.id):H.value=[],console.log(H.value)};return ve([D],W=>{l.is_active=W?1:0}),ve(N,Ee.exports.debounce(()=>{w()},300)),ue(()=>{w(),n(),document.title=k}),(W,P)=>{const S=ge("font");return s(),a(G,null,[e("div",Kv,[e("div",Xv,[e("div",Jv,[e("div",Zv,[e("button",{onClick:R,type:"button",class:"mb-2 btn btn-primary"},[e1,Y(" Menu ")]),H.value.length>0?(s(),a("div",t1,[e("button",{onClick:C,type:"button",class:"ml-2 mb-2 btn btn-danger"},[s1,Y(" Delete Selected ")]),e("span",a1,"Selected "+t(H.value.length)+" Menu",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=b=>N.value=b),class:"form-control",placeholder:"Search..."},null,512),[[re,N.value]])])]),e("div",o1,[e("div",l1,[u.value?(s(),ce(Ae,{key:0})):L("",!0),e("div",n1,[g(S,{size:"2"},{default:Z(()=>[e("table",d1,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":P[1]||(P[1]=b=>j.value=b),onChange:ie},null,544),[[Me,j.value]])]),i1,c1,r1,u1,_1,m1,p1,h1,v1])]),d.value.data.length>0?(s(),a("tbody",b1,[(s(!0),a(G,null,X(d.value.data,(b,y)=>(s(),ce(jv,{key:b.id,item:b,index:y,onEditMenu:K,onConfirmDeletion:h,onToggleSelection:Q,"select-all":j.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",f1,g1))])]),_:1})])])]),g(r(Pe),{data:d.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",y1,[e("div",k1,[e("div",x1,[e("div",w1,[e("h5",C1,[m.value?(s(),a("span",S1,"Edit Menu")):(s(),a("span",D1,"Add Menu"))]),U1]),g(r(Ce),{onSubmit:ne},{default:Z(({errors:b})=>[e("div",V1,[e("div",M1,[e("div",A1,[e("div",E1,[g(r(B),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(A).user.id,"onUpdate:modelValue":P[2]||(P[2]=y=>r(A).user.id=y)},null,8,["modelValue"]),e("div",T1,[F1,g(r(B),{name:"menu_title",type:"text",class:U(["form-control",{"is-invalid":b.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":P[3]||(P[3]=y=>l.menu_title=y)},null,8,["class","modelValue"]),e("span",L1,t(b.menu_title),1)]),e("div",P1,[I1,ee(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":P[4]||(P[4]=y=>l.parent_id=y)},[q1,(s(!0),a(G,null,X(i.value,y=>(s(),a("option",{key:y.menu_id,value:y.menu_id},t(y.menu_title),9,Y1))),128))],512),[[Te,l.parent_id]])]),e("div",N1,[B1,g(r(B),{name:"menu_icon",type:"text",class:U(["form-control",{"is-invalid":b.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":P[5]||(P[5]=y=>l.menu_icon=y)},null,8,["class","modelValue"]),e("span",R1,t(b.menu_icon),1)]),e("div",H1,[j1,g(r(B),{name:"menu_route",type:"text",class:U(["form-control",{"is-invalid":b.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":P[6]||(P[6]=y=>l.menu_route=y)},null,8,["class","modelValue"]),e("span",O1,t(b.menu_route),1)]),e("div",z1,[G1,g(r(B),{name:"sort_order",type:"text",class:U(["form-control",{"is-invalid":b.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":P[7]||(P[7]=y=>l.sort_order=y)},null,8,["class","modelValue"]),e("span",W1,t(b.sort_order),1)]),e("div",Q1,[g(Qv,{modelValue:l.is_active,"onUpdate:modelValue":P[8]||(P[8]=y=>l.is_active=y),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),K1]),_:1})])])]),e("div",X1,[e("div",J1,[e("div",Z1,[eb,e("div",tb,[sb,e("button",{onClick:te(q,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},ob={class:"error-page"},lb=xe('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),nb=[lb],db="Page Not Found",nt={__name:"404",setup(o){return ue(()=>{document.title=db}),(k,_)=>(s(),a("div",ob,nb))}};const le=o=>(De("data-v-5c8db172"),o=o(),Ue(),o),ib={id:"exportPDF"},cb={class:"container"},rb=le(()=>e("br",null,null,-1)),ub={class:"header"},_b=["src"],mb=["src"],pb={class:"header"},hb={class:"header-justify-space-between"},vb=le(()=>e("br",null,null,-1)),bb=le(()=>e("p",null,null,-1)),fb={key:0},$b=le(()=>e("strong",null,null,-1)),gb=le(()=>e("br",null,null,-1)),yb=le(()=>e("br",null,null,-1)),kb=le(()=>e("p",null,null,-1)),xb=le(()=>e("strong",null,"Unit details",-1)),wb={class:"content"},Cb={class:"header-justify-space-between"},Sb=le(()=>e("span",null,"Brand:",-1)),Db=le(()=>e("br",null,null,-1)),Ub=le(()=>e("span",null,"Model:",-1)),Vb=le(()=>e("br",null,null,-1)),Mb=le(()=>e("div",null,null,-1)),Ab=le(()=>e("span",null,"Serial #:",-1)),Eb=le(()=>e("br",null,null,-1)),Tb=le(()=>e("span",null,"Asset Tag:",-1)),Fb=le(()=>e("br",null,null,-1)),Lb=le(()=>e("div",null,null,-1)),Pb=le(()=>e("strong",null,"Reported problem",-1)),Ib={class:"content"},qb=le(()=>e("strong",null,"Assessment conducted",-1)),Yb={class:"content"},Nb=le(()=>e("strong",null,"Recommendation",-1)),Bb={class:"content"},Rb={class:"header-justify-space-between"},Hb=le(()=>e("strong",null,"Evaluated by:",-1)),jb=le(()=>e("br",null,null,-1)),Ob={class:"botoom-line"},zb=le(()=>e("br",null,null,-1)),Gb=le(()=>e("p",null,null,-1)),Wb=le(()=>e("strong",null,"Noted by:",-1)),Qb=le(()=>e("br",null,null,-1)),Kb={class:"botoom-line"},Xb=le(()=>e("br",null,null,-1)),Jb=le(()=>e("br",null,null,-1)),Zb=le(()=>e("p",null,null,-1)),ef={key:0},tf={key:1},sf={key:0,class:"fab-container"},af=le(()=>e("i",{class:"fas fa-download"},null,-1)),of=[af],lf={__name:"TechRecommApproved",setup(o){const k=`${fe().params.id}`,_=()=>{const u=document.getElementById("exportPDF");ot().from(u).save(`${k}.pdf`)},d=Ve({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),i=()=>{F.get(`/api/tech-recommendations/${fe().params.id}`).then(u=>{d.id=u.data.id,d.recommnum=u.data.recommnum,d.branch=u.data.branch,d.company=u.data.company,d.department=u.data.department,d.warehouse=u.data.warehouse,d.user=u.data.user,d.problem=u.data.problem,d.brand=u.data.brand,d.model=u.data.model,d.assettag=u.data.assettag,d.serialnum=u.data.serialnum,d.status=u.data.status,d.assconducted=u.data.assconducted,d.recommendation=u.data.recommendation,d.createdby=u.data.createdby.cfull_name,d.updatedby=u.data.updatedby.ufull_name,d.created_at=he(u.data.created_at).format("MMMM D, YYYY"),d.updated_at=he(u.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=u.data.createdby.cposition,d.updated_position=u.data.updatedby.uposition}).catch(u=>{actions.setErrors(u.response.data.errors)})};return ue(()=>{i(),document.title=k}),(u,m)=>(s(),a(G,null,[e("div",ib,[e("div",cb,[rb,e("div",ub,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,_b),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,mb)]),e("div",pb,[e("span",null,[Y("Recommendation No: "),e("strong",null,t(d.recommnum),1)]),e("span",null,[Y("Date Checked: "),e("strong",null,t(d.created_at),1)])]),e("div",hb,[e("div",null,[e("span",null,[Y("Company: "),e("strong",null,t(d.company),1)]),vb,e("span",null,[Y("Branch: "),e("strong",null,t(d.branch),1)])]),bb,e("div",null,[d.warehouse==""?(s(),a("span",fb,[Y("Warehouse: "),$b,Y(t(d.warehouse),1)])):L("",!0),gb,e("span",null,[Y("User: "),e("strong",null,t(d.user),1)]),yb,e("span",null,[Y("Department: "),e("strong",null,t(d.department),1)])]),kb]),xb,e("div",wb,[e("div",Cb,[e("div",null,[Sb,e("strong",null,t(d.brand),1),Db,Ub,e("strong",null,t(d.model),1),Vb]),Mb,e("div",null,[Ab,e("strong",null,t(d.serialnum),1),Eb,Tb,e("strong",null,t(d.assettag),1),Fb]),Lb])]),Pb,e("div",Ib,[e("p",null,t(d.problem),1)]),qb,e("div",Yb,[e("p",null,t(d.assconducted),1)]),Nb,e("div",Bb,[e("p",null,t(d.recommendation),1)]),e("div",Rb,[e("div",null,[Hb,jb,e("span",Ob,t(d.createdby),1),zb,e("span",null,t(d.created_position),1)]),Gb,e("div",null,[Wb,Qb,e("span",Kb,t(d.updatedby),1),Xb,e("span",null,t(d.updated_position),1),Jb]),Zb]),d.status===2?(s(),a("span",ef,"Approved date:("+t(d.updated_at)+")",1)):(s(),a("span",tf,"Pending"))])]),d.status===2?(s(),a("div",sf,[e("div",{class:"button iconbutton bg-success",onClick:m[0]||(m[0]=D=>_())},of)])):L("",!0)],64))}};var dt=ye(lf,[["__scopeId","data-v-5c8db172"]]);const nf={},df={class:"card mx-auto",style:{"max-width":"600px"}},cf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),rf={class:"card-body"},uf={class:"list-unstyled"};function _f(o,k){return s(),a("div",df,[cf,e("div",rf,[e("ul",uf,[e("li",{class:"nav-item dropdown",onClick:k[0]||(k[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var mf=ye(nf,[["render",_f]]);const pf=["checked"],hf={class:"text-center"},vf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:k}){me(),_e();const _=o,d=k,i=()=>{d("toggleSelection",_.item)};return(u,m)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,pf)]),e("td",null,t(o.index+1),1),e("td",{onClick:m[0]||(m[0]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.site_name),1),e("td",{onClick:m[1]||(m[1]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_name),1),e("td",{onClick:m[2]||(m[2]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_type),1),e("td",{onClick:m[3]||(m[3]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.serial),1),e("td",{onClick:m[4]||(m[4]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.date_acquired),1),e("td",{onClick:m[5]||(m[5]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.man_supplier),1),e("td",{onClick:m[6]||(m[6]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.unit),1),e("td",{onClick:m[7]||(m[7]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:m[8]||(m[8]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:m[9]||(m[9]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_by),1),e("td",{onClick:m[10]||(m[10]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_at),1),e("td",{onClick:m[11]||(m[11]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.updated_by),1),e("td",hf,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:m[12]||(m[12]=te(D=>u.$emit("editData",o.item),["prevent"]))}),Y(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:m[13]||(m[13]=te(D=>u.$emit("confirmDeletion",o.item.id),["prevent"]))})])])]))}};var bf=ye(vf,[["__scopeId","data-v-78d9436c"]]);const ff={class:"content"},$f={class:"container-fluid"},gf={class:"d-flex justify-content-between"},yf={class:"d-flex"},kf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),xf={key:0},wf=e("i",{class:"fa fa-trash mr-1"},null,-1),Cf={class:"ml-2"},Sf={class:"card"},Df={class:"card-body"},Uf={class:"table-responsive"},Vf={class:"table table-bordered table-sm table-striped hover"},Mf=e("th",{style:{width:"10px"}},"#",-1),Af=e("th",null,"Site",-1),Ef=e("th",null,"Asset",-1),Tf=e("th",null,"Asset type",-1),Ff=e("th",null,"Serial",-1),Lf=e("th",null,"Date Aquired",-1),Pf=e("th",null,"Supplier",-1),If=e("th",null,"Unit",-1),qf=e("th",null,"Purchase Cost",-1),Yf=e("th",null,"Unit Value",-1),Nf=e("th",null,"Createdby",-1),Bf=e("th",null,"CreatedAt",-1),Rf=e("th",null,"Updatedby",-1),Hf=e("th",null,"Action",-1),jf={key:0},Of={key:1},zf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Gf=[zf],Wf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qf={class:"modal-dialog modal-lg",role:"document"},Kf={class:"modal-content"},Xf={class:"modal-header"},Jf={class:"modal-title",id:"staticBackdropLabel"},Zf={key:0},e$={key:1},t$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),s$={class:"modal-body"},a$={class:"col-md-12"},o$={class:"row"},l$={class:"col-6"},n$={class:"form-group"},d$=e("label",{for:"branch"},"Site",-1),i$=e("option",{value:"",disabled:""}," Select Site ",-1),c$=["value"],r$={class:"invalid-feedback"},u$={class:"form-group"},_$=e("label",{for:"department"},"Asset Name",-1),m$={class:"invalid-feedback"},p$={class:"form-group"},h$=e("label",{for:"asset_type"},"Asset Type",-1),v$={class:"invalid-feedback"},b$={class:"form-group"},f$=e("label",{for:"serial"},"Serial #:",-1),$$={class:"invalid-feedback"},g$={class:"col-6"},y$={class:"form-group"},k$=e("label",{for:"date_acquired"},"Date Acquired",-1),x$={class:"invalid-feedback"},w$={class:"form-group"},C$=e("label",{for:"man_supplier"},"Brand",-1),S$={class:"invalid-feedback"},D$={class:"form-group"},U$=e("label",{for:"unit"},"Unit",-1),V$={class:"invalid-feedback"},M$={class:"row"},A$={class:"col-6"},E$={class:"form-group"},T$=e("label",{for:"paccountable"},"Person Accountable",-1),F$={class:"invalid-feedback"},L$={class:"col-6"},P$={class:"form-group"},I$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),q$={class:"invalid-feedback"},Y$={class:"row"},N$={class:"col-6"},B$={class:"form-group"},R$=e("label",{for:"cucodition"},"Current Condition",-1),H$=e("option",{value:"",disabled:""}," Select Condition ",-1),j$=e("option",{value:"Fair"}," FAIR ",-1),O$=e("option",{value:"Good"}," GOOD ",-1),z$=e("option",{value:"Damange"}," DAMANGE ",-1),G$={class:"invalid-feedback"},W$={class:"form-group"},Q$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),K$={class:"col-6"},X$={class:"form-group"},J$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),Z$={class:"form-group"},eg=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),tg={class:"row"},sg={class:"col-6"},ag={class:"form-group"},og=e("label",{for:"operationhours"},"Operating Hours",-1),lg={class:"col-6"},ng={class:"form-group"},dg=e("label",{for:"notes"},"Notes",-1),ig={class:"invalid-feedback"},cg={class:"row"},rg={class:"col-6"},ug={class:"form-group"},_g=e("label",{for:"purchasecost"},"Purchase Cost",-1),mg={class:"input-group mb-3"},pg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),hg={class:"form-group"},vg=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),bg={class:"input-group mb-3"},fg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),$g={class:"col-6"},gg={class:"form-group"},yg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),kg={class:"invalid-feedback"},xg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),wg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Cg={class:"modal-dialog",role:"document"},Sg={class:"modal-content"},Dg=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ug={class:"modal-footer"},Vg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Mg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ag={class:"modal-dialog",role:"document"},Eg={class:"modal-content"},Tg=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Fg={class:"modal-body"},Lg={class:"table table-striped table-sm table-hover"},Pg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Ig=e("td",null,"Site",-1),qg=e("td",null,"Assit Name",-1),Yg=e("td",null,"Assit Type",-1),Ng=e("td",null,"Serial No.",-1),Bg=e("td",null,"Date Acquired",-1),Rg=e("td",null,"Brand",-1),Hg=e("td",null,"Unit",-1),jg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Og=e("td",null,"Personal Accountable",-1),zg=e("td",null,"Transfer Location",-1),Gg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Wg=e("td",null,"Current Condition",-1),Qg=e("td",null,"Maintenance Note",-1),Kg=e("td",null,"Last Maintenance",-1),Xg=e("td",null,"Next Maintenance",-1),Jg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),Zg=e("td",null,"Operation Hours",-1),ey=e("td",null,"Notes",-1),ty=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),sy=e("td",null,"Purchase Cost",-1),ay=e("td",null,"Unit Value",-1),oy=e("td",null,"Warranty information",-1),ly=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),ny={__name:"AssetmList",setup(o){_e();const k=`${fe().name}`,_=me(),d=c({data:[]});c({data:[]});const i=c(!1),u=c(!1),m=c(),D=c(!0),l=Ve({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});c(null),c();const A=c(),v=(S=1)=>{i.value=!0,F.get(`/web/asset-monitoring?page=${S}`,{params:{query:Q.value}}).then(b=>{i.value=!1,d.value=b.data,E.value=[],W.value=!1})},w=ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),n=ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),x=()=>{F.post("/web/asset-monitoring",l).then(S=>{$("#FormModal").modal("hide"),v(),_.success(S.data.message)}).catch(S=>{_.error(S.data.message)})},R=()=>{u.value=!1,$("#FormModal").modal("show")},K=S=>{l.site_name=S.site_name,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,l.Depreciationcostbyyear=S.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},J=S=>{u.value=!0,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.depreciationcost=S.depreciationcost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,$("#FormModal").modal("show")},ne=({setErrors:S})=>{F.post("/web/asset-monitoring",l).then(b=>{v(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},N=(S,b)=>{u.value?ne(S):x()},H=()=>{F.get("/web/getsite").then(S=>{A.value=S.data.sites}).catch(S=>{console.log(S)})},Q=c(null),E=c([]),h=S=>{const b=E.value.indexOf(S.id);b===-1?E.value.push(S.id):E.value.splice(b,1),console.log(E.value)},q=c(null),C=S=>{q.value=S,$("#deleteClientModal").modal("show")},j=()=>{F.delete(`/web/asset-monitoring/${q.value}`).then(S=>{$("#deleteClientModal").modal("hide"),_.success(S.data.message),v()})},ie=()=>{F.delete("/web/bulkDeleteAsset",{data:{ids:E.value}}).then(S=>{d.value.data=d.value.data.filter(b=>!E.value.includes(b.id)),E.value=[],W.value=!1,_.success(S.data.message)})},W=c(!1),P=()=>{W.value?E.value=d.value.data.map(S=>S.id):E.value=[],console.log(E.value)};return ve([D],S=>{l.is_active=S?1:0}),ve(Q,Ee.exports.debounce(()=>{v()},300)),ue(()=>{v(),H(),document.title=k}),(S,b)=>{const y=ge("font"),de=ge("tab-content"),oe=ge("form-wizard");return s(),a(G,null,[e("div",ff,[e("div",$f,[e("div",gf,[e("div",yf,[e("button",{onClick:R,type:"button",class:"mb-2 btn btn-primary"},[kf,Y(" Asset ")]),E.value.length>0?(s(),a("div",xf,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[wf,Y(" Delete Selected ")]),e("span",Cf,"Selected "+t(E.value.length)+" Record",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=M=>Q.value=M),class:"form-control",placeholder:"Search..."},null,512),[[re,Q.value]])])]),e("div",Sf,[e("div",Df,[i.value?(s(),ce(Ae,{key:0})):L("",!0),e("div",Uf,[g(y,{size:"2"},{default:Z(()=>[e("table",Vf,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":b[1]||(b[1]=M=>W.value=M),onChange:P},null,544),[[Me,W.value]])]),Mf,Af,Ef,Tf,Ff,Lf,Pf,If,qf,Yf,Nf,Bf,Rf,Hf])]),d.value.data.length>0?(s(),a("tbody",jf,[(s(!0),a(G,null,X(d.value.data,(M,T)=>(s(),ce(bf,{key:M.id,item:M,index:T,onViewData:K,onEditData:J,onConfirmDeletion:C,onToggleSelection:h,"select-all":W.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",Of,Gf))])]),_:1})])])]),g(r(Pe),{data:d.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",Wf,[e("div",Qf,[e("div",Kf,[e("div",Xf,[e("h5",Jf,[u.value?(s(),a("span",Zf,"Edit Asset")):(s(),a("span",e$,"Add Asset"))]),t$]),g(r(Ce),{onSubmit:N,"validation-schema":u.value?r(n):r(w),"initial-values":m.value},{default:Z(({errors:M})=>[e("div",s$,[e("div",a$,[g(oe,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:Z(()=>[g(de,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",o$,[e("div",l$,[e("div",n$,[d$,g(r(B),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":M.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":b[2]||(b[2]=T=>l.site_id=T)},{default:Z(()=>[i$,(s(!0),a(G,null,X(A.value,T=>(s(),a("option",{key:T.id,value:T.id},t(T.site_name),9,c$))),128))]),_:2},1032,["class","modelValue"]),e("span",r$,t(M.branch),1)]),e("div",u$,[_$,g(r(B),{name:"asset_name",type:"text",class:U(["form-control",{"is-invalid":M.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":b[3]||(b[3]=T=>l.asset_name=T)},null,8,["class","modelValue"]),e("span",m$,t(M.asset_name),1)]),e("div",p$,[h$,g(r(B),{name:"asset_type",type:"text",class:U(["form-control",{"is-invalid":M.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":b[4]||(b[4]=T=>l.asset_type=T)},null,8,["class","modelValue"]),e("span",v$,t(M.asset_type),1)]),e("div",b$,[f$,g(r(B),{name:"serial",type:"text",class:U(["form-control",{"is-invalid":M.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":b[5]||(b[5]=T=>l.serial=T)},null,8,["class","modelValue"]),e("span",$$,t(M.serial),1)])]),e("div",g$,[e("div",y$,[k$,g(r(B),{name:"date_acquired",type:"date",class:U(["form-control",{"is-invalid":M.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":b[6]||(b[6]=T=>l.date_acquired=T)},null,8,["class","modelValue"]),e("span",x$,t(M.date_acquired),1)]),e("div",w$,[C$,g(r(B),{name:"man_supplier",type:"text",class:U(["form-control",{"is-invalid":M.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":b[7]||(b[7]=T=>l.man_supplier=T)},null,8,["class","modelValue"]),e("span",S$,t(M.man_supplier),1)]),e("div",D$,[U$,g(r(B),{name:"unit",type:"number",class:U(["form-control",{"is-invalid":M.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":b[8]||(b[8]=T=>l.unit=T)},null,8,["class","modelValue"]),e("span",V$,t(M.unit),1)])])])]),_:2},1024),g(de,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",M$,[e("div",A$,[e("div",E$,[T$,g(r(B),{name:"paccountable",type:"text",class:U(["form-control",{"is-invalid":M.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":b[9]||(b[9]=T=>l.paccountable=T)},null,8,["class","modelValue"]),e("span",F$,t(M.paccountable),1)])]),e("div",L$,[e("div",P$,[I$,g(r(B),{name:"locationchangetranfer",type:"text",class:U(["form-control",{"is-invalid":M.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":b[10]||(b[10]=T=>l.locationchangetranfer=T)},null,8,["class","modelValue"]),e("span",q$,t(M.locationchangetranfer),1)])])])]),_:2},1024),g(de,{title:"Asset Condition"},{default:Z(()=>[e("div",Y$,[e("div",N$,[e("div",B$,[R$,g(r(B),{as:"select",name:"cucodition",class:U(["form-control",{"is-invalid":M.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":b[11]||(b[11]=T=>l.cucodition=T)},{default:Z(()=>[H$,j$,O$,z$]),_:2},1032,["class","modelValue"]),e("span",G$,t(M.cucodition),1)]),e("div",W$,[Q$,g(r(B),{name:"maintenancenotes",as:"textarea",class:U(["form-control",{"is-invalid":M.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":b[12]||(b[12]=T=>l.maintenancenotes=T)},null,8,["class","modelValue"])])]),e("div",K$,[e("div",X$,[J$,g(r(B),{name:"lastmaintenance",type:"date",class:U(["form-control",{"is-invalid":M.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":b[13]||(b[13]=T=>l.lastmaintenance=T)},null,8,["class","modelValue"])]),e("div",Z$,[eg,g(r(B),{name:"nextmaintenance",type:"date",class:U(["form-control",{"is-invalid":M.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":b[14]||(b[14]=T=>l.nextmaintenance=T)},null,8,["class","modelValue"])])])])]),_:2},1024),g(de,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",tg,[e("div",sg,[e("div",ag,[og,g(r(B),{name:"operationhours",type:"number",class:U(["form-control",{"is-invalid":M.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":b[15]||(b[15]=T=>l.operationhours=T)},null,8,["class","modelValue"])])]),e("div",lg,[e("div",ng,[dg,g(r(B),{name:"notes",as:"textarea",class:U(["form-control",{"is-invalid":M.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":b[16]||(b[16]=T=>l.notes=T)},null,8,["class","modelValue"]),e("span",ig,t(M.notes),1)])])])]),_:2},1024),g(de,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",cg,[e("div",rg,[e("div",ug,[_g,e("div",mg,[pg,g(r(B),{name:"purchasecost",type:"text",class:U(["form-control",{"is-invalid":M.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":b[17]||(b[17]=T=>l.purchasecost=T)},null,8,["class","modelValue"])])]),e("div",hg,[vg,e("div",bg,[fg,g(r(B),{name:"depreciationcost",type:"text",class:U(["form-control",{"is-invalid":M.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":b[18]||(b[18]=T=>l.depreciationcost=T)},null,8,["class","modelValue"])])])]),e("div",$g,[e("div",gg,[yg,g(r(B),{name:"insurancewarrantyinfo",as:"textarea",class:U(["form-control",{"is-invalid":M.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":b[19]||(b[19]=T=>l.insurancewarrantyinfo=T)},null,8,["class","modelValue"]),e("span",kg,t(M.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),xg]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wg,[e("div",Cg,[e("div",Sg,[Dg,e("div",Ug,[Vg,e("button",{onClick:te(j,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Mg,[e("div",Ag,[e("div",Eg,[Tg,e("div",Fg,[e("table",Lg,[e("tbody",null,[Pg,e("tr",null,[Ig,e("td",null,t(l.site_name),1)]),e("tr",null,[qg,e("td",null,t(l.asset_name),1)]),e("tr",null,[Yg,e("td",null,t(l.asset_type),1)]),e("tr",null,[Ng,e("td",null,t(l.serial),1)]),e("tr",null,[Bg,e("td",null,t(l.date_acquired),1)]),e("tr",null,[Rg,e("td",null,t(l.man_supplier),1)]),e("tr",null,[Hg,e("td",null,t(l.unit),1)]),jg,e("tr",null,[Og,e("td",null,t(l.paccountable),1)]),e("tr",null,[zg,e("td",null,t(l.locationchangetranfer),1)]),Gg,e("tr",null,[Wg,e("td",null,t(l.cucodition),1)]),e("tr",null,[Qg,e("td",null,t(l.maintenancenotes),1)]),e("tr",null,[Kg,e("td",null,t(l.lastmaintenance),1)]),e("tr",null,[Xg,e("td",null,t(l.nextmaintenance),1)]),Jg,e("tr",null,[Zg,e("td",null,t(l.operationhours),1)]),e("tr",null,[ey,e("td",null,t(l.notes),1)]),ty,e("tr",null,[sy,e("td",null,t("\u20B1"+l.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[ay,e("td",null,t("\u20B1"+l.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[oy,e("td",null,t(l.insurancewarrantyinfo),1)])])])]),ly])])])],64)}}};function dy(o,k,_){var d=typeof o!="object"?JSON.parse(o):o,i="";if(i+=k+`\r

`,_){var u="";for(var m in d[0])u+=m+",";u=u.slice(0,-1),i+=u+`\r
`}for(var D=0;D<d.length;D++){var u="";for(var m in d[D])u+='"'+d[D][m]+'",';u.slice(0,u.length-1),i+=u+`\r
`}if(i==""){alert("Invalid data");return}var l="MyReport_";l+=k.replace(/ /g,"_");var A="data:text/csv;charset=utf-8,"+escape(i),v=document.createElement("a");v.href=A,v.style="visibility:hidden",v.download=l+".csv",document.body.appendChild(v),v.click(),document.body.removeChild(v)}const ae=o=>(De("data-v-41e0ed33"),o=o(),Ue(),o),iy={class:"content"},cy={class:"container-fluid"},ry={class:"d-flex justify-content-between"},uy={class:"d-flex"},_y=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),my={key:0},py=ae(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),hy={class:"ml-2"},vy={class:"d-flex"},by={class:"form-group"},fy=ae(()=>e("option",{value:"",disabled:""},"Select a site",-1)),$y=["value"],gy={id:"captureDiv"},yy={class:"card"},ky={class:"card-header"},xy={class:"card-title"},wy={class:"card-tools"},Cy={id:"cost"},Sy={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Dy=ae(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Uy={class:"card-body"},Vy=ae(()=>e("i",{class:"fa fa-camera"},null,-1)),My=[Vy],Ay=ae(()=>e("i",{class:"fas fa-file-excel"},null,-1)),Ey=[Ay],Ty={key:1,class:"table-responsive"},Fy={class:"table table-bordered table-sm table-striped table-hover"},Ly=ae(()=>e("th",null,null,-1)),Py=ae(()=>e("th",null,"Date",-1)),Iy=ae(()=>e("th",null,"Allocated Pallet Space",-1)),qy=ae(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Yy=ae(()=>e("th",null,"Space Utilization %",-1)),Ny=ae(()=>e("th",null,"Excess",-1)),By={key:0},Ry={key:1},Hy=ae(()=>e("th",null,"Remarks",-1)),jy=ae(()=>e("th",null,"Action",-1)),Oy={key:0},zy=["item","index","select-all"],Gy=["checked"],Wy={key:0},Qy={key:1},Ky=["onClick"],Xy=ae(()=>e("i",{class:"fa fa-edit"},null,-1)),Jy=[Xy],Zy={key:0},e2=ae(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),t2={colspan:"3"},s2={key:1},a2=ae(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),o2=[a2],l2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},n2={class:"modal-dialog modal-sm",role:"document"},d2={class:"modal-content"},i2={class:"modal-header"},c2={class:"modal-title",id:"staticBackdropLabel"},r2={key:0},u2={key:1},_2=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),m2=xe('<ul class="nav nav-tabs" data-v-41e0ed33><li id="bulkviewtab1" class="nav-item" data-v-41e0ed33><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-41e0ed33>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-41e0ed33><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-41e0ed33>Bulk Pallet</a></li></ul>',1),p2={class:"tab-content"},h2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},v2={class:"modal-body"},b2={class:"col-md-12"},f2={class:"row"},$2={class:"col-12"},g2={class:"form-group"},y2=ae(()=>e("label",{for:"date"},"Date",-1)),k2={class:"invalid-feedback"},x2={class:"form-group"},w2=ae(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),C2={class:"invalid-feedback"},S2={class:"form-group"},D2=ae(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),U2={class:"invalid-feedback"},V2={class:"form-group"},M2=ae(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),A2={class:"invalid-feedback"},E2=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),T2={class:"tab-pane fade show",id:"bulk-pallet-tab"},F2={class:"modal-body"},L2={class:"col-md-12"},P2={class:"row"},I2={class:"col-12"},q2={class:"form-group"},Y2=ae(()=>e("label",{for:"fromdate"},"From:",-1)),N2={class:"invalid-feedback"},B2={class:"form-group"},R2=ae(()=>e("label",{for:"todate"},"To:",-1)),H2={class:"invalid-feedback"},j2={class:"form-group"},O2=ae(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),z2={class:"invalid-feedback"},G2={class:"form-group"},W2=ae(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),Q2={class:"invalid-feedback"},K2={class:"form-group"},X2=ae(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),J2={class:"invalid-feedback"},Z2=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),ek={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},tk={class:"modal-dialog",role:"document"},sk={class:"modal-content"},ak=xe('<div class="modal-header" data-v-41e0ed33><h5 class="modal-title" id="staticBackdropLabel" data-v-41e0ed33><span data-v-41e0ed33>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-41e0ed33><span aria-hidden="true" data-v-41e0ed33>\xD7</span></button></div><div class="modal-body" data-v-41e0ed33><h5 data-v-41e0ed33>Are you sure you want to delete this record ?</h5></div>',2),ok={class:"modal-footer"},lk=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),nk={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dk={class:"modal-dialog modal-sm",role:"document"},ik={class:"modal-content"},ck=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),rk={class:"modal-body"},uk={class:"fromtocenter"},_k=ae(()=>e("label",{for:"fromDate"},"From:",-1)),mk=ae(()=>e("label",{for:"toDate"},"To:",-1)),pk={class:"modal-footer"},hk=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),vk={__name:"PalletList",setup(o){const k=Xe("$swal"),_=`${fe().name}`,d=me(),i=c({data:[]}),u=c(),m=c(!1),D=c(!1),l=_e(),A=c(!0),v=c(!0),w=c(),n=Ve({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});c(null);const x=c(),R=()=>{m.value=!0,F.get("/web/pallet",{params:{site_id:n.site_id,query:de.value}}).then(O=>{m.value=!1,i.value=O.data.data,x.value=O.data.sum,oe.value=[],qe.value=!1})},K=ke({allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required(),fromdate:I().required(),todate:I().required()}),J=ke({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),ne=ke({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),N=c(""),H=c(""),Q=c({start_date:"",end_date:""});ve([N],()=>{const O=new Date(N.value),z=O.getFullYear(),$e=String(O.getMonth()+1).padStart(2,"0"),f=String(O.getDate()).padStart(2,"0");Q.value.start_date=`${z}-${$e}-${f}`}),ve([H],()=>{const O=new Date(H.value),z=O.getFullYear(),$e=String(O.getMonth()+1).padStart(2,"0"),f=String(O.getDate()).padStart(2,"0");Q.value.end_date=`${z}-${$e}-${f}`});const E=()=>{m.value=!0,F.get("/web/filter-pallet",{params:{start_date:Q.value.start_date,end_date:Q.value.end_date,site_id:n.site_id}}).then(O=>{m.value=!1,i.value=O.data.data,x.value=O.data.sum}).catch(O=>{console.error(O)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},h=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},q=()=>!n.site_id||n.site_id.length===0?(k.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,C=({resetForm:O,setErrors:z})=>{F.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then($e=>{R(),$("#FormModal").modal("hide"),h(),d.success("Data created successfully!")}).catch(function($e){$e.response?d.error($e.response.data.message):$e.request?d.error($e.request):d.error("Error",$e.message)})},j=()=>{F.get("/web/getsite").then(O=>{u.value=O.data.sites}).catch(O=>{console.log(O)})},ie=()=>{R(n.site_id);const O=u.value.find(z=>z.id===n.site_id);w.value=O?O.site_name:""},W=()=>{q()||(D.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},P=O=>{$("#bulkviewtab2").hide(),D.value=!0,n.id=O.id,n.user_id=O.user_id,n.site_id=O.site_id,n.date=O.date,n.allocatedpalletspace=O.allocatedpalletspace,n.spaceuteltotal=O.spaceuteltotal,n.caseperpallet=O.caseperpallet,$("#FormModal").modal("show")},S=({setErrors:O})=>{F.post("/web/pallet",n).then(z=>{h(),R(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(z=>{O(z.response.data.errors),console.log(z)})},b=(O,z)=>{D.value?S(O):C(O)},y=()=>{F.post("/web/bulkCreatePallet",n).then(O=>{R(),$("#FormModal").modal("hide"),d.success(O.data.message)}).catch(O=>{d.error(O.response.data.errors)})},de=c(null),oe=c([]),M=O=>{const z=oe.value.indexOf(O.id);z===-1?oe.value.push(O.id):oe.value.splice(z,1),console.log(oe.value)},T=c(null),Ie=O=>{T.value=O,$("#deleteDataModal").modal("show")},Oe=()=>{F.delete(`/web/pallet/${T.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),i.value.data=i.value.data.filter(O=>O.id!==T.value)})},Be=()=>{F.delete("/web/bulkDeletePallet",{data:{ids:oe.value}}).then(O=>{R(),oe.value=[],qe.value=!1,d.success(O.data.message)})},ze=()=>{q()||$("#FormModalfilterDate").modal("show")},qe=c(!1),Ge=()=>{if(q())return;$("#cost").hide(),$("#capturecamerafilter").hide();const O=document.getElementById("captureDiv");je(O).then(z=>{const $e=z.toDataURL(),f=document.createElement("a");f.href=$e,f.download=`${w.value} - ${_}.png`,f.click()}),$("#cost").show(),$("#capturecamerafilter").show()},We=()=>{if(q())return;let O=i.value;dy(O,"PalletList",!0)};return ve([v],O=>{n.is_active=O?1:0}),ve(de,Ee.exports.debounce(()=>{R()},300)),ue(()=>{j(),document.title=_}),(O,z)=>{const $e=ge("font");return s(),a(G,null,[e("div",iy,[e("div",cy,[e("div",ry,[e("div",uy,[e("button",{onClick:W,type:"button",class:"mb-2 btn btn-primary"},[_y,Y(" Pallet ")]),oe.value.length>0?(s(),a("div",my,[e("button",{onClick:Be,type:"button",class:"ml-2 mb-2 btn btn-danger"},[py,Y(" Delete Selected ")]),e("span",hy,"Selected "+t(oe.value.length)+" Pallet",1)])):L("",!0)]),e("div",vy,[e("div",by,[ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":z[0]||(z[0]=f=>n.site_id=f),onChange:z[1]||(z[1]=f=>ie())},[fy,(s(!0),a(G,null,X(u.value,f=>(s(),a("option",{key:f.id,value:f.id},t(f.site_name),9,$y))),128))],544),[[Te,n.site_id]])])])]),e("div",gy,[e("div",yy,[e("div",ky,[e("div",xy,t(w.value||"Select a Site"),1),e("div",wy,[e("div",Cy,[e("div",Sy,[ee(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":z[2]||(z[2]=f=>A.value=f)},null,512),[[Me,A.value]]),Dy])])])]),e("div",Uy,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:Ge,type:"button",class:"btn btn-warning"},My),e("button",{onClick:We,type:"button",class:"btn btn-success"},Ey)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:ze})])])]),m.value?(s(),ce(Ae,{key:0})):(s(),a("div",Ty,[g($e,{size:"2"},{default:Z(()=>[e("table",Fy,[e("thead",null,[e("tr",null,[Ly,Py,Iy,qy,Yy,Ny,A.value?(s(),a("th",By," Cost per Pallet ")):L("",!0),A.value?(s(),a("th",Ry,"Cost")):L("",!0),Hy,jy])]),i.value.length>0?(s(),a("tbody",Oy,[(s(!0),a(G,null,X(i.value,(f,V)=>(s(),a("tr",{key:f.id,item:f,index:V,onConfirmDeletion:Ie,onToggleSelection:M,"select-all":qe.value},[e("td",null,[e("input",{type:"checkbox",checked:qe.value,onChange:M},null,40,Gy)]),e("td",null,t(r(he)(f.date).format("MMMM DD, YY")),1),e("td",null,t(f.allocatedpalletspace),1),e("td",null,t(f.spaceuteltotal),1),e("td",null,t(f.spacetotalutelpercent),1),e("td",null,t(f.excess),1),A.value?(s(),a("td",Wy,t(f.caseperpallet),1)):L("",!0),A.value?(s(),a("td",Qy,t(f.cost),1)):L("",!0),e("td",null," EXCESS "+t(f.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:p=>P(f)},Jy,8,Ky)])],40,zy))),128)),A.value?(s(),a("tr",Zy,[e2,e("td",t2,[e("b",null,t(x.value),1)])])):L("",!0)])):(s(),a("tbody",s2,o2))])]),_:1})]))])])])])]),e("div",l2,[e("div",n2,[e("div",d2,[e("div",i2,[e("h5",c2,[D.value?(s(),a("span",r2,"Edit Pallet")):(s(),a("span",u2,"Add Pallet"))]),_2]),m2,e("div",p2,[e("div",h2,[g(r(Ce),{onSubmit:b,"validation-schema":D.value?r(ne):r(J)},{default:Z(({errors:f})=>[e("div",v2,[e("div",b2,[e("div",f2,[e("div",$2,[g(r(B),{modelValue:n.user_id,"onUpdate:modelValue":z[3]||(z[3]=V=>n.user_id=V),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",g2,[y2,g(r(B),{name:"date",type:"date",class:U(["form-control",{"is-invalid":f.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":z[4]||(z[4]=V=>n.date=V)},null,8,["class","modelValue"]),e("span",k2,t(f.date),1)]),e("div",x2,[w2,g(r(B),{name:"allocatedpalletspace",type:"text",class:U(["form-control",{"is-invalid":f.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":z[5]||(z[5]=V=>n.allocatedpalletspace=V)},null,8,["class","modelValue"]),e("span",C2,t(f.allocatedpalletspace),1)]),e("div",S2,[D2,g(r(B),{name:"spaceuteltotal",type:"text",class:U(["form-control",{"is-invalid":f.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":z[6]||(z[6]=V=>n.spaceuteltotal=V),required:""},null,8,["class","modelValue"]),e("span",U2,t(f.spaceuteltotal),1)]),e("div",V2,[M2,g(r(B),{name:"caseperpallet",type:"text",class:U(["form-control",{"is-invalid":f.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":z[7]||(z[7]=V=>n.caseperpallet=V)},null,8,["class","modelValue"]),e("span",A2,t(f.caseperpallet),1)])])])])]),E2]),_:1},8,["validation-schema"])]),e("div",T2,[g(r(Ce),{onSubmit:y,"validation-schema":r(K)},{default:Z(({errors:f})=>[e("div",F2,[e("div",L2,[e("div",P2,[e("div",I2,[g(r(B),{modelValue:n.user_id,"onUpdate:modelValue":z[8]||(z[8]=V=>n.user_id=V),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",q2,[Y2,g(r(B),{name:"fromdate",type:"date",class:U(["form-control",{"is-invalid":f.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.fromdate,"onUpdate:modelValue":z[9]||(z[9]=V=>n.fromdate=V)},null,8,["class","modelValue"]),e("span",N2,t(f.fromdate),1)]),e("div",B2,[R2,g(r(B),{name:"todate",type:"date",class:U(["form-control",{"is-invalid":f.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.todate,"onUpdate:modelValue":z[10]||(z[10]=V=>n.todate=V)},null,8,["class","modelValue"]),e("span",H2,t(f.todate),1)]),e("div",j2,[O2,g(r(B),{name:"allocatedpalletspace",type:"text",class:U(["form-control",{"is-invalid":f.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":z[11]||(z[11]=V=>n.allocatedpalletspace=V)},null,8,["class","modelValue"]),e("span",z2,t(f.allocatedpalletspace),1)]),e("div",G2,[W2,g(r(B),{name:"spaceuteltotal",type:"text",class:U(["form-control",{"is-invalid":f.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":z[12]||(z[12]=V=>n.spaceuteltotal=V),required:""},null,8,["class","modelValue"]),e("span",Q2,t(f.spaceuteltotal),1)]),e("div",K2,[X2,g(r(B),{name:"caseperpallet",type:"text",class:U(["form-control",{"is-invalid":f.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":z[13]||(z[13]=V=>n.caseperpallet=V)},null,8,["class","modelValue"]),e("span",J2,t(f.caseperpallet),1)])])])])]),Z2]),_:1},8,["validation-schema"])])])])])]),e("div",ek,[e("div",tk,[e("div",sk,[ak,e("div",ok,[lk,e("button",{onClick:te(Oe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",nk,[e("div",dk,[e("div",ik,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(_)+" Report")]),ck]),e("div",rk,[e("div",uk,[e("div",null,[_k,g(r(Fe),{modelValue:N.value,"onUpdate:modelValue":z[14]||(z[14]=f=>N.value=f)},null,8,["modelValue"])]),e("div",null,[mk,g(r(Fe),{modelValue:H.value,"onUpdate:modelValue":z[15]||(z[15]=f=>H.value=f)},null,8,["modelValue"])])])]),e("div",pk,[hk,e("button",{onClick:z[16]||(z[16]=f=>E()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var bk=ye(vk,[["__scopeId","data-v-41e0ed33"]]);const fk=o=>(De("data-v-4f631a07"),o=o(),Ue(),o),$k={class:"content"},gk={class:"container-fluid"},yk={class:"row"},kk={class:"col-md-6"},xk={class:"card"},wk={class:"card-title"},Ck={class:"form-group m-3"},Sk=fk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Dk=["value"],Uk={class:"card-body"},Vk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Mk={class:"custom-control custom-checkbox"},Ak=["value","id","checked"],Ek=["for"],Tk={class:"card-footer"},Fk={__name:"UserSite",setup(o){_e();const k=`${fe().name}`,_=me();c(!0);const d=Ve({user_id:""});c(null),c();const i=c(),u=c(),m=c([]),D=()=>{F.get("/api/users/userlist").then(w=>{u.value=w.data}).catch(w=>{console.log(w)})},l=w=>{w!==null?F.get(`/web/usersite/${w}`).then(n=>{i.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):F.get("/web/getsitewithoutuser").then(n=>{i.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},A=()=>{const w={user_id:d.user_id,site_id:m.value};console.log(w),F.post("/web/onSaveupdate",w).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},v=w=>{l(w)};return ue(()=>{D(),l(),document.title=k}),(w,n)=>(s(),a("div",$k,[e("div",gk,[e("div",yk,[e("div",kk,[e("div",xk,[e("div",wk,[e("div",Ck,[g(r(B),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=x=>d.user_id=x),onChange:n[1]||(n[1]=x=>v(d.user_id))},{default:Z(()=>[Sk,(s(!0),a(G,null,X(u.value,x=>(s(),a("option",{key:x.id,value:x.id},t(x.name),9,Dk))),128))]),_:1},8,["modelValue"])])]),e("div",Uk,[e("ul",Vk,[(s(!0),a(G,null,X(i.value,x=>(s(),a("li",{key:x.id,class:"list-group-item"},[e("div",Mk,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=R=>m.value=R),value:x.id,id:"site_id_"+x.id,checked:x.hasAccess},null,8,Ak),[[Me,m.value]]),e("label",{for:"site_id_"+x.id,class:"custom-control-label"},t(x.site_name),9,Ek)])]))),128))]),e("div",Tk,[e("button",{type:"button",onClick:n[3]||(n[3]=x=>A()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var Lk=ye(Fk,[["__scopeId","data-v-4f631a07"]]),Pk=[{path:"/login",name:"admin.login",component:jn},{path:"/",name:"Dashboard",component:Tt},{path:"/appointments",name:"Appointments",component:es},{path:"/appointments/create",name:"Appointments",component:et},{path:"/appointments/:id/edit",name:"Appointments",component:et},{path:"/user",name:"User",component:Ao},{path:"/settings",name:"Setting",component:Dl},{path:"/profile",name:"Profile",component:yn},{path:"/client",name:"Client",component:Rd},{path:"/tech-recommendation",name:"Tech Recomm",component:tr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:_m},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:qh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Op},{path:"/usermenu",name:"User Menu",component:Fv},{path:"/menu",name:"Menu",component:ab},{path:"/:catchAll(.*)",name:"404 Error Page",component:nt},{path:"/notifications",name:"Notifications",component:mf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:dt},{path:"/asset-monitoring",name:"Asset Monitoring",component:ny},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:bk},{path:"/usersite",name:"User Site",component:Lk}];const Ik={class:"navbar-nav"},qk=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),Yk={class:"nav-item d-none d-sm-inline-block"},Nk={class:"navbar-nav ml-auto"},Bk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Rk=xe('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),Hk={class:"nav-link","data-toggle":"dropdown",href:"#"},jk=e("i",{class:"far fa-bell"},null,-1),Ok={class:"badge badge-warning navbar-badge"},zk={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Gk={class:"dropdown-header"},Wk=e("div",{class:"dropdown-divider"},null,-1),Qk=e("i",{class:"fas fa-envelope mr-2"},null,-1),Kk={class:"float-right text-muted text-sm"},Xk={key:1,class:"text-center text-muted py-3"},Jk=e("div",{class:"dropdown-divider"},null,-1),Zk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),e0=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),t0={__name:"AppNavbar",setup(o){const k=Re(),_=c([]),d=()=>{F.get("/api/notifications").then(i=>{_.value=i.data.notifications}).catch(i=>{console.error("Error fetching notifications",i)})};return ue(()=>{d()}),(i,u)=>{const m=ge("router-link");return s(),a("nav",{class:U(["main-header navbar navbar-expand",r(k).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",Ik,[qk,e("li",Yk,[e("a",{onClick:u[0]||(u[0]=te((...D)=>r(k).changeTheme&&r(k).changeTheme(...D),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:U(["far",r(k).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",Nk,[Bk,Rk,e("li",{class:"nav-item dropdown",onClick:d},[e("a",Hk,[jk,e("span",Ok,t(_.value.length),1)]),e("div",zk,[e("span",Gk,t(_.value.length)+" Notifications",1),Wk,_.value.length>0?(s(!0),a(G,{key:0},X(_.value,D=>(s(),a("a",{key:D.id,href:"#",class:"dropdown-item"},[Qk,Y(" "+t(D.data?D.data:"No message available")+" ",1),e("span",Kk,t(r(he)(D.created_at)),1)]))),128)):(s(),a("p",Xk,"No new notifications")),Jk,g(m,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[Y("See All Notifications")]),_:1})])]),Zk,e0])],2)}}},s0={class:"main-sidebar sidebar-dark-primary elevation-4"},a0={href:"#",class:"brand-link"},o0=["src"],l0={class:"brand-text font-weight-light"},n0={class:"sidebar"},d0={class:"user-panel mt-3 pb-3 mb-3 d-flex"},i0={key:0,class:"image"},c0=["src"],r0={key:1,class:"image"},u0=["src"],_0=["src"],m0={class:"info"},p0={href:"#",class:"d-block"},h0={class:"mt-2"},v0={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},b0={key:0,class:"right fas fa-angle-left"},f0={key:0,class:"nav nav-treeview"},$0={class:"nav-item"},g0={class:"nav-link"},y0=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),k0=e("p",null,"Logout",-1),x0=[y0,k0],w0={__name:"SidebarLeft",setup(o){const k=Ke(),_=_e(),d=Re(),i=c({data:[]}),u=()=>{axios.get("/api/menu").then(l=>{i.value=l.data}).catch(l=>{console.log(l)})},m=l=>l===k.currentRoute.value.path,D=()=>{axios.post("/logout").then(l=>{_.user.name="",k.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),u()}),(l,A)=>{const v=ge("router-link");return s(),a("aside",s0,[e("a",a0,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,o0),e("span",l0,t(r(d).setting.app_name),1)]),e("div",n0,[e("div",d0,[r(_).user.avatar===""?(s(),a("div",i0,[e("img",{src:r(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,c0)])):r(_).user.avatar!==""?(s(),a("div",r0,[r(_).user.gender==="Male"?(s(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,u0)):r(_).user.gender==="Female"?(s(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,_0)):L("",!0)])):L("",!0),e("div",m0,[e("a",p0,t(r(_).user.name),1)])]),e("nav",h0,[e("ul",v0,[(s(!0),a(G,null,X(i.value,w=>(s(),a("li",{key:w.id,class:U({"nav-item":!0,"menu-is-opening":w.submenus&&w.submenus.length>0})},[g(v,{class:U({"nav-link":!0,active:m(w.menu_route)}),to:`${w.menu_route}`},{default:Z(()=>[e("i",{class:U("nav-icon "+w.menu_icon)},null,2),e("p",null,t(w.menu_title),1),w.submenus&&w.submenus.length>0?(s(),a("i",b0)):L("",!0)]),_:2},1032,["class","to"]),w.submenus&&w.submenus.length>0?(s(),a("ul",f0,[(s(!0),a(G,null,X(w.submenus,n=>(s(),a("li",{key:n.id,class:"nav-item"},[g(v,{class:U({"nav-link menu-open":!0,active:m(n.menu_route)}),to:n.menu_route},{default:Z(()=>[e("i",{class:U("nav-icon "+n.menu_icon)},null,2),e("p",null,t(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):L("",!0)],2))),128)),e("li",$0,[e("form",g0,[e("a",{href:"#",onClick:te(D,["prevent"])},x0)])])])])])])}}},C0={},S0={class:"control-sidebar control-sidebar-dark"},D0=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),U0=[D0];function V0(o,k){return s(),a("aside",S0,U0)}var M0=ye(C0,[["render",V0]]);const A0={class:"main-footer"},E0={class:"float-right d-none d-sm-block"},T0={href:"#"},F0={__name:"AppFooter",props:{settings:Object},setup(o){const k=_e(),_=c(new Date().getFullYear());return(d,i)=>{var u;return s(),a("footer",A0,[e("div",E0,t(r(k).user.name),1),e("strong",null,[Y("Copyright \xA9 "+t(_.value)+" ",1),e("a",T0,t((u=o.settings)==null?void 0:u.app_name),1),Y(".")]),Y(" All rights reserved. ")])}}};const L0=o=>(De("data-v-36653638"),o=o(),Ue(),o),P0={class:"content-wrapper"},I0={class:"content-header"},q0={class:"container-fluid"},Y0={class:"row mb-2"},N0={class:"col-sm-6"},B0={class:"m-0"},R0={class:"col-sm-6"},H0={class:"breadcrumb float-sm-right"},j0=L0(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),O0={class:"breadcrumb-item active"},z0={__name:"CustomMainLayout",setup(o){const k=_e(),_=Re(),d=Se(()=>_.theme==="dark"?"dark-mode":"");return(i,u)=>{const m=ge("router-view");return r(k).user.name!==""?(s(),a("div",{key:0,class:U(["wrapper",d.value])},[g(t0),g(w0),g(M0),e("div",P0,[e("section",I0,[e("div",q0,[e("div",Y0,[e("div",N0,[e("h1",B0,t(i.$route.name),1)]),e("div",R0,[e("ol",H0,[j0,e("li",O0,t(i.$route.name),1)])])])])]),g(m)]),g(F0)],2)):(s(),a("div",{key:1,class:U(["login-page slibg",d.value])},[g(m)],2))}}};var G0=ye(z0,[["__scopeId","data-v-36653638"]]);const W0={__name:"App",setup(o){_e();const k=fe(),_=Se(()=>k.name==="Tech-Approved"),d=Se(()=>k.name==="404 Error Page");return(i,u)=>(s(),a("div",null,[!d.value&&!_.value?(s(),ce(G0,{key:0})):_.value?(s(),ce(dt,{key:1})):(s(),ce(nt,{key:2}))]))}};var Q0=ye(W0,[["__scopeId","data-v-45d7c538"]]);const K0=ut(),Ne=pt(Q0),it=_t({routes:Pk,history:mt()});it.beforeEach(async(o,k)=>{const _=_e();if(_.user.name===""&&o.name!=="admin.login"){const d=Re();await Promise.all([_.getAuthUser(),d.getSetting()])}});Ne.use(St);Ne.use(K0);Ne.use(it);Ne.use(Ct);Ne.use(ot);Ne.mount("#app");
