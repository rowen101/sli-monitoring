import{_ as Ct,l as Ae}from"./lodash.d4ecb7e7.js";import{a as T}from"./axios.82d3905a.js";import{a as St}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as vt,c as Dt}from"./pinia.210ccde5.js";import{u as he,a as Be,c as Mt,b as Vt}from"./vue-router.980fb8a0.js";import{r,o as ue,i as o,k as e,x as t,_ as h,u as _,e as a,I as xe,h as Z,j as P,F as B,q as X,d as fe,a0 as se,v as q,C as Me,a2 as te,a3 as ie,aa as Re,p as U,w as ve,ab as Se,f as ce,B as Fe,a5 as ye,a6 as ge,ac as rt,ad as Le,a1 as dt,ae as Ut}from"./@vue.04713aa0.js";import{B as At}from"./vue-chartjs.50c6886f.js";import{C as Pt,p as qt,a as It,b as Tt,c as Rt,d as Et,L as Lt}from"./chart.js.562acd0f.js";import{S as mt}from"./sweetalert2.c578665c.js";import{t as et}from"./toastr.c863df60.js";import{F as qe,a as Q}from"./vee-validate.1443789f.js";import{f as bt}from"./flatpickr.181c7977.js";import{c as De,a as z}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as le}from"./moment.40bc58bf.js";import{a as Ee}from"./laravel-vue-pagination.475a8c82.js";import{C as Yt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as Ft}from"./@vueuse.5a8c8091.js";import{L as Ye}from"./vue3-datepicker.da50a26b.js";import tt from"./html2canvas.4d0ab5af.js";import{h as Ge}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{j as Nt}from"./qrcode-vue3.899eeefc.js";import{V as Bt}from"./vue-sweetalert2.891f877f.js";import{d as jt}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=Ct;window.axios=T;window.$=window.jQuery=St;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=vt("AuthUserStore",()=>{const s=r({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:"",sitehead_user_id:""});return{user:s,getAuthUser:async()=>{await T.get("/api/profile").then(m=>{s.value=m.data})}}}),Ot={class:"content"},Ht={class:"container-fluid"},zt={class:"card"},Jt={class:"card-header"},Qt={class:"card-body"},Gt=e("div",{class:"row"},null,-1),Wt={__name:"Dashboard",setup(s){Pt.register(qt,It,Tt,Rt,Et,Lt);const b=`${he().name}`;_e(),r("all"),r(0);const m=r(new Date().getFullYear()),n=r({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),d=()=>{axios.get("/api/chart").then(l=>{l.data,n.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},i=r("today"),c=r(0),p=()=>{axios.get("/api/stats/users",{params:{date_range:i.value}}).then(l=>{c.value=l.data.totalUsersCount})};return ue(()=>{d(),p(),document.title=b}),(l,f)=>(a(),o("div",Ot,[e("div",Ht,[e("div",zt,[e("div",Jt," Yearly Progress - "+t(m.value),1),e("div",Qt,[h(_(At),{data:n.value},null,8,["data"])])]),Gt])]))}},Kt={class:"content"},Xt={class:"container-fluid"},Zt={class:"row"},es={class:"col-lg-12"},ts={class:"d-flex justify-content-between mb-2"},ss=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),q(" Add New Appointment")],-1),as={class:"btn-group"},os=e("span",{class:"mr-1"},"All",-1),ls={class:"badge badge-pill badge-info"},ns=["onClick"],ds={class:"mr-1"},is={class:"card"},cs={class:"card-body"},rs={class:"table table-bordered"},us=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),_s=e("td",null,null,-1),ms=e("i",{class:"fa fa-edit mr-2"},null,-1),ps=["onClick"],hs=e("i",{class:"fa fa-trash text-danger"},null,-1),vs=[hs],bs={__name:"ListAppointments",setup(s){const b=r(),m=r([]),n=()=>{T.get("/api/appointment-status").then(f=>{m.value=f.data})},d=r([]),i=f=>{b.value=f;const v={};f&&(v.status=f),T.get("/api/appointments",{params:v}).then(D=>{d.value=D.data,console.log(D)})},c=xe(()=>m.value.map(f=>f.count).reduce((f,v)=>f+v,0)),p=f=>{const v=d.value.data.find(u=>u.id===f).status.name,D=m.value.find(u=>u.name===v);D.count--},l=f=>{mt.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&T.delete(`/api/appointments/${f}`).then(D=>{p(f),d.value.data=d.value.data.filter(u=>u.id!==f),mt.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{i(),n()}),(f,v)=>{const D=fe("router-link");return a(),o("div",Kt,[e("div",Xt,[e("div",Zt,[e("div",es,[e("div",ts,[e("div",null,[h(D,{to:"/admin/appointments/create"},{default:Z(()=>[ss]),_:1})]),e("div",as,[e("button",{onClick:v[0]||(v[0]=u=>i()),type:"button",class:P(["btn",[typeof b.value=="undefined"?"btn-secondary":"btn-default"]])},[os,e("span",ls,t(c.value),1)],2),(a(!0),o(B,null,X(m.value,u=>(a(),o("button",{key:u.id,onClick:C=>i(u.value),type:"button",class:P(["btn",[b.value===u.value?"btn-secondary":"btn-default"]])},[e("span",ds,t(u.name),1),e("span",{class:P(["badge badge-pill",`badge-${u.color}`])},t(u.count),3)],10,ns))),128))])]),e("div",is,[e("div",cs,[e("table",rs,[us,e("tbody",null,[(a(!0),o(B,null,X(d.value.data,(u,C)=>(a(),o("tr",{key:u.id},[e("td",null,t(C+1),1),e("td",null,t(u.client.first_name)+" "+t(u.client.last_name),1),e("td",null,t(u.start_time),1),e("td",null,t(u.end_time),1),_s,e("td",null,[h(D,{to:`/admin/appointments/${u.id}/edit`},{default:Z(()=>[ms]),_:2},1032,["to"]),e("a",{href:"#",onClick:se(O=>l(u.id),["prevent"])},vs,8,ps)])]))),128))])])])])])])])])}}};function me(){return et.options.positionClass="toast-top-right",et.options.closeButton=!0,et.options.progressBar=!0,et}const fs={class:"content-header"},$s={class:"container-fluid"},ys={class:"row mb-2"},gs={class:"col-sm-6"},ks={class:"m-0"},ws={key:0},xs={key:1},Cs={class:"col-sm-6"},Ss={class:"breadcrumb float-sm-right"},Ds={class:"breadcrumb-item"},Ms={class:"breadcrumb-item"},Vs={class:"breadcrumb-item active"},Us={key:0},As={key:1},Ps={class:"content"},qs={class:"container-fluid"},Is={class:"row"},Ts={class:"col-lg-12"},Rs={class:"card"},Es={class:"card-body"},Ls={class:"row"},Ys={class:"col-md-6"},Fs={class:"form-group"},Ns=e("label",{for:"title"},"Title",-1),Bs={class:"invalid-feedback"},js={class:"col-md-6"},Os={class:"form-group"},Hs=e("label",{for:"client"},"Client Name",-1),zs=["value"],Js={class:"invalid-feedback"},Qs={class:"row"},Gs={class:"col-md-6"},Ws={class:"form-group"},Ks=e("label",{for:"start-time"},"Start Time",-1),Xs={class:"invalid-feedback"},Zs={class:"col-md-6"},ea={class:"form-group"},ta=e("label",{for:"end-time"},"End Time",-1),sa={class:"invalid-feedback"},aa={class:"form-group"},oa=e("label",{for:"description"},"Description",-1),la={class:"invalid-feedback"},na=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),pt={__name:"AppointmentForm",setup(s){const b=Be(),m=he(),n=me(),d=Me({title:"",client_id:"",start_time:"",end_time:"",description:""}),i=(u,C)=>{D.value?p(u,C):c(u,C)},c=(u,C)=>{T.post("/api/appointments/create",d).then(O=>{b.push("/admin/appointments"),n.success("Appointment created successfully!")}).catch(O=>{C.setErrors(O.response.data.errors)})},p=(u,C)=>{T.put(`/api/appointments/${m.params.id}/edit`,d).then(O=>{b.push("/admin/appointments"),n.success("Appointment updated successfully!")}).catch(O=>{C.setErrors(O.response.data.errors)})},l=r(),f=()=>{T.get("/api/view-clients").then(u=>{l.value=u.data})},v=()=>{T.get(`/api/appointments/${m.params.id}/edit`).then(({data:u})=>{d.title=u.title,d.client_id=u.client_id,d.start_time=u.formatted_start_time,d.end_time=u.formatted_end_time,d.description=u.description})},D=r(!1);return ue(()=>{m.name==="admin.appointments.edit"&&(D.value=!0,v()),bt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),f()}),(u,C)=>{const O=fe("router-link");return a(),o(B,null,[e("div",fs,[e("div",$s,[e("div",ys,[e("div",gs,[e("h1",ks,[D.value?(a(),o("span",ws,"Edit")):(a(),o("span",xs,"Create")),q(" Appointment")])]),e("div",Cs,[e("ol",Ss,[e("li",Ds,[h(O,{to:"/admin/dashboard"},{default:Z(()=>[q("Home")]),_:1})]),e("li",Ms,[h(O,{to:"/admin/appointments"},{default:Z(()=>[q("Appointments")]),_:1})]),e("li",Vs,[D.value?(a(),o("span",Us,"Edit")):(a(),o("span",As,"Create"))])])])])])]),e("div",Ps,[e("div",qs,[e("div",Is,[e("div",Ts,[e("div",Rs,[e("div",Es,[h(_(qe),{onSubmit:i},{default:Z(({errors:H})=>[e("div",Ls,[e("div",Ys,[e("div",Fs,[Ns,te(e("input",{"onUpdate:modelValue":C[0]||(C[0]=L=>d.title=L),type:"text",class:P(["form-control",{"is-invalid":H.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ie,d.title]]),e("span",Bs,t(H.title),1)])]),e("div",js,[e("div",Os,[Hs,te(e("select",{"onUpdate:modelValue":C[1]||(C[1]=L=>d.client_id=L),id:"client",class:P(["form-control",{"is-invalid":H.client_id}])},[(a(!0),o(B,null,X(l.value,L=>(a(),o("option",{value:L.id,key:L.id},t(L.first_name)+" "+t(L.last_name),9,zs))),128))],2),[[Re,d.client_id]]),e("span",Js,t(H.client_id),1)])])]),e("div",Qs,[e("div",Gs,[e("div",Ws,[Ks,te(e("input",{"onUpdate:modelValue":C[2]||(C[2]=L=>d.start_time=L),type:"text",class:P(["form-control flatpickr",{"is-invalid":H.start_time}]),id:"start-time"},null,2),[[ie,d.start_time]]),e("span",Xs,t(H.start_time),1)])]),e("div",Zs,[e("div",ea,[ta,te(e("input",{"onUpdate:modelValue":C[3]||(C[3]=L=>d.end_time=L),type:"text",class:P(["form-control flatpickr",{"is-invalid":H.end_time}]),id:"end-time"},null,2),[[ie,d.end_time]]),e("span",sa,t(H.end_time),1)])])]),e("div",aa,[oa,te(e("textarea",{"onUpdate:modelValue":C[4]||(C[4]=L=>d.description=L),class:P(["form-control",{"is-invalid":H.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ie,d.description]]),e("span",la,t(H.description),1)]),na]),_:1})])])])])])])],64)}}},da=["checked"],ia=["value","selected"],ca=["value","selected"],ra=e("i",{class:"fa fa-edit"},null,-1),ua=[ra],_a=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),ma=[_a],pa={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:b}){const m=me(),n=s,d=b,i=r([{name:"ADMIN",value:1},{name:"USER",value:2}]),c=r([]),p=()=>{T.get("/api/users/userlist").then(D=>{c.value=D.data}).catch(D=>{console.log(D)})},l=(D,u)=>{T.patch(`/api/users/${D.id}/change-role`,{role:u}).then(()=>{m.success("Role changed successfully!")})},f=(D,u)=>{T.patch(`/api/users/${D.id}/change-sitehead`,{sitehead_user_id:u}).then(()=>{m.success("Sitehead changed successfully!")})},v=()=>{d("toggleSelection",n.user)};return ue(()=>{p()}),(D,u)=>(a(),o("tr",null,[e("td",null,[s.user.name!="admin"?(a(),o("input",{key:0,type:"checkbox",checked:s.selectAll,onChange:v},null,40,da)):U("",!0)]),e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:u[0]||(u[0]=C=>l(s.user,C.target.value))},[(a(!0),o(B,null,X(i.value,C=>(a(),o("option",{key:C.id,value:C.value,selected:s.user.role===C.name},t(C.name),9,ia))),128))],32)]),e("td",null,[s.user.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:u[1]||(u[1]=C=>f(s.user,C.target.value))},[(a(!0),o(B,null,X(c.value,C=>(a(),o("option",{key:C.id,value:C.id,selected:s.user.sitehead_user_id===C.id},t(C.first_name+" "+C.last_name),9,ca))),128))],32)):U("",!0)]),e("td",null,[e("a",{href:"#",onClick:u[2]||(u[2]=se(C=>D.$emit("editUser",s.user),["prevent"]))},ua),s.user.id!=1?(a(),o("a",{key:0,href:"#",onClick:u[3]||(u[3]=se(C=>D.$emit("confirmUserDeletion",s.user.id),["prevent"]))},ma)):U("",!0)])]))}},ha={class:"content"},va={class:"container-fluid"},ba={class:"d-flex justify-content-between mb-2"},fa={class:"d-flex"},$a=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ya={key:0},ga=e("i",{class:"fa fa-trash mr-1"},null,-1),ka={class:"ml-2"},wa={class:"card"},xa={class:"card-body"},Ca={class:"dispatch-table"},Sa={class:"table-responsive"},Da={class:"table table-bordered table-hover table-sm"},Ma=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Department Head"),e("th",null,"Action")])],-1),Va={key:0},Ua={key:1},Aa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Pa=[Aa],qa=["index"],Ia={class:"card"},Ta={class:"card-body"},Ra={class:"list-field"},Ea=e("span",{class:"mb-1 dis"},"Name:",-1),La={class:"list-field"},Ya=e("span",{class:"mb-1 dis"},"Email:",-1),Fa={class:"list-field"},Na=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ba={class:"list-field"},ja=e("span",{class:"mb-1 dis"},"Site Head:",-1),Oa=["onChange"],Ha=["value","selected"],za=e("hr",null,null,-1),Ja={class:"row"},Qa={key:0,class:"col"},Ga=["onClick"],Wa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ka=["onClick"],Xa=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),Za=[Xa],eo={key:1,class:"col"},to=["onClick"],so=e("i",{class:"fa fa-pencil-square-o"},null,-1),ao={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},oo={class:"modal-dialog",role:"document"},lo={class:"modal-content"},no={class:"modal-header"},io={class:"modal-title",id:"staticBackdropLabel"},co={key:0},ro={key:1},uo=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),_o={class:"modal-body"},mo={class:"form-group"},po=e("label",{for:"name"},"Username",-1),ho={class:"invalid-feedback"},vo={class:"d-flex justify-content-between"},bo={class:"d-flex"},fo={class:"form-group"},$o=e("label",{for:"email"},"Email",-1),yo={class:"invalid-feedback"},go={class:"d-flex"},ko={class:"form-group"},wo=e("label",{for:"siteDropdown"},"Gender",-1),xo=e("option",{value:"",disabled:""}," Select a gender ",-1),Co=["value"],So={class:"d-flex justify-content-between"},Do={class:"d-flex"},Mo={class:"form-group"},Vo=e("label",{for:"first_name"},"Fist Name",-1),Uo={class:"invalid-feedback"},Ao={class:"d-flex"},Po={class:"form-group"},qo=e("label",{for:"last_name"},"Last Name",-1),Io={class:"invalid-feedback"},To={class:"form-group"},Ro=e("label",{for:"position"},"Position",-1),Eo={class:"invalid-feedback"},Lo={class:"form-group"},Yo=e("label",{for:"password"},"Password",-1),Fo={class:"invalid-feedback"},No=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Bo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},jo={class:"modal-dialog",role:"document"},Oo={class:"modal-content"},Ho=Se('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),zo={class:"modal-footer"},Jo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Qo={__name:"UserList",setup(s){const b=`${he().name}`,m=_e(),n=me(),d=r({data:[]}),i=r(!1),c=r(),p=Me({id:"",name:"",email:"",sitehead_user_id:"",first_name:"",last_name:"",gender:"",position:""});r([]),r(null);const l=r([{name:"Male",value:1},{name:"Female",value:2}]),f=(F=1)=>{T.get(`/api/users?page=${F}`,{params:{query:N.value}}).then(M=>{d.value=M.data,k.value=[],ee.value=!1})},v=De({name:z().required(),last_name:z().required(),first_name:z().required(),email:z().email().required(),password:z().required().min(8),gender:z().required()}),D=De({name:z().required(),last_name:z().required(),first_name:z().required(),email:z().email().required(),password:z().when((F,M)=>F?M.required().min(8):M),gender:z().required()}),u=r([]),C=()=>{T.get("/api/users/userlist").then(F=>{u.value=F.data}).catch(F=>{console.log(F)})},O=(F,M)=>{T.patch(`/api/users/${F.id}/change-sitehead`,{sitehead_user_id:M}).then(()=>{n.success("Sitehead changed successfully!")})},H=(F,{resetForm:M,setErrors:w})=>{T.post("/api/users",F).then(S=>{d.value.data.unshift(S.data),$("#userFormModal").modal("hide"),M(),n.success("User created successfully!")}).catch(S=>{S.response.data.errors&&(w(S.response.data.errors),n.warning(S.response.data.errors.name))})},L=()=>{i.value=!1,$("#userFormModal").modal("show")},J=F=>{i.value=!0,p.id=F.id,p.name=F.name,p.email=F.email,p.first_name=F.first_name,p.last_name=F.last_name,p.gender=F.gender,p.position=F.position,$("#userFormModal").modal("show")},V=(F,{setErrors:M})=>{T.put("/api/users/"+c.value.id,F).then(w=>{const S=d.value.data.findIndex(ae=>ae.id===w.data.id);d.value.data[S]=w.data,$("#userFormModal").modal("hide"),n.success("User updated successfully!")}).catch(w=>{M(w.response.data.errors),console.log(w)})},I=(F,M)=>{i.value?V(F,M):H(F,M)},N=r(null),k=r([]),g=F=>{const M=k.value.indexOf(F.id);M===-1?k.value.push(F.id):k.value.splice(M,1),console.log(k.value)},j=r(null),A=F=>{j.value=F,$("#deleteUserModal").modal("show")},G=()=>{T.delete(`/api/users/${j.value}`).then(()=>{$("#deleteUserModal").modal("hide"),n.success("User deleted successfully!"),d.value.data=d.value.data.filter(F=>F.id!==j.value)})},pe=()=>{T.delete("/api/users",{data:{ids:k.value}}).then(F=>{d.value.data=d.value.data.filter(M=>!k.value.includes(M.id)),k.value=[],ee.value=!1,n.success(F.data.message)})},ee=r(!1);return ve(N,Ae.exports.debounce(()=>{f()},300)),ue(()=>{f(),C(),document.title=`SLI-DTS - ${b}`}),(F,M)=>{const w=fe("font");return a(),o(B,null,[e("div",ha,[e("div",va,[e("div",ba,[e("div",fa,[e("button",{onClick:L,type:"button",class:"mb-2 btn btn-primary btn-sm"},[$a,q(" User ")]),k.value.length>0?(a(),o("div",ya,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ga,q(" Delete Selected ")]),e("span",ka,"Selected "+t(k.value.length)+" users",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=S=>N.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ie,N.value]])])]),e("div",wa,[e("div",xa,[e("div",Ca,[e("div",Sa,[h(w,{size:"2"},{default:Z(()=>[e("table",Da,[Ma,d.value.data.length>0?(a(),o("tbody",Va,[(a(!0),o(B,null,X(d.value.data,(S,ae)=>(a(),ce(pa,{key:S.id,user:S,index:ae,onEditUser:J,onConfirmUserDeletion:A,onToggleSelection:g,"select-all":ee.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",Ua,Pa))])]),_:1})])]),(a(!0),o(B,null,X(d.value.data,(S,ae)=>(a(),o("div",{class:"dispatch-list",key:S.id,index:ae},[e("div",Ia,[e("div",Ta,[e("div",Ra,[Ea,e("span",null,t(S.first_name+" "+S.last_name),1)]),e("div",La,[Ya,e("span",null,t(S.email),1)]),e("div",Fa,[Na,e("span",null,t(S.formatted_created_at),1)]),e("div",Ba,[ja,e("span",null,[S.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:de=>O(S,de.target.value)},[(a(!0),o(B,null,X(u.value,de=>(a(),o("option",{key:de.id,value:de.id,selected:de.sitehead_user_id===de.id},t(de.first_name+" "+de.last_name),9,Ha))),128))],40,Oa)):U("",!0)])]),za,e("div",Ja,[_(m).user.role==="ADMIN"?(a(),o("div",Qa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:de=>J(S)},[Wa,q(" Edit ")],8,Ga),e("button",{class:"btn btnsm btn-danger btn-block",onClick:de=>A(S.id)},Za,8,Ka)])):U("",!0),_(m).user.role==="USER"?(a(),o("div",eo,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:de=>J(S)},[so,q(" Edit ")],8,to)])):U("",!0)])])])],8,qa))),128))])]),h(_(Ee),{data:d.value,onPaginationChangePage:f},null,8,["data"])])]),e("div",ao,[e("div",oo,[e("div",lo,[e("div",no,[e("h5",io,[i.value?(a(),o("span",co,"Edit User")):(a(),o("span",ro,"Add New User"))]),uo]),h(_(qe),{ref:"form",onSubmit:I,"validation-schema":i.value?_(D):_(v),"initial-values":c.value},{default:Z(({errors:S})=>[e("div",_o,[e("div",mo,[po,h(_(Q),{name:"name",type:"text",class:P(["form-control",{"is-invalid":S.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username",modelValue:p.name,"onUpdate:modelValue":M[1]||(M[1]=ae=>p.name=ae)},null,8,["class","modelValue"]),e("span",ho,t(S.name),1)]),e("div",vo,[e("div",bo,[e("div",fo,[$o,h(_(Q),{name:"email",type:"email",class:P(["form-control",{"is-invalid":S.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email",modelValue:p.email,"onUpdate:modelValue":M[2]||(M[2]=ae=>p.email=ae)},null,8,["class","modelValue"]),e("span",yo,t(S.email),1)])]),e("div",go,[e("div",ko,[wo,h(_(Q),{id:"gender",name:"gender",as:"select",class:P(["form-control",{"is-invalid":S.gender}])},{default:Z(()=>[xo,(a(!0),o(B,null,X(l.value,ae=>(a(),o("option",{key:ae.name,value:ae.name},t(ae.name),9,Co))),128))]),_:2},1032,["class"])])])]),e("div",So,[e("div",Do,[e("div",Mo,[Vo,h(_(Q),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":S.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name",modelValue:p.first_name,"onUpdate:modelValue":M[3]||(M[3]=ae=>p.first_name=ae)},null,8,["class","modelValue"]),e("span",Uo,t(S.first_name),1)])]),e("div",Ao,[e("div",Po,[qo,h(_(Q),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":S.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name",modelValue:p.last_name,"onUpdate:modelValue":M[4]||(M[4]=ae=>p.last_name=ae)},null,8,["class","modelValue"]),e("span",Io,t(S.last_name),1)])])]),e("div",To,[Ro,h(_(Q),{name:"position",type:"text",class:P(["form-control",{"is-invalid":S.position}]),id:"position",modelValue:p.position,"onUpdate:modelValue":M[5]||(M[5]=ae=>p.position=ae),placeholder:"Enter position"},null,8,["class","modelValue"]),e("span",Eo,t(S.position),1)]),e("div",Lo,[Yo,h(_(Q),{name:"password",type:"password",class:P(["form-control",{"is-invalid":S.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Fo,t(S.password),1)])]),No]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Bo,[e("div",jo,[e("div",Oo,[Ho,e("div",zo,[Jo,e("button",{onClick:se(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Go=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Wo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ko=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Xo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ie={__name:"ContentLoader",setup(s){return(b,m)=>b.isloading?(a(),ce(_(Yt),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Go,Wo,Ko,Xo]),_:1})):U("",!0)}};var be=(s,b)=>{const m=s.__vccOpts||s;for(const[n,d]of b)m[n]=d;return m};const Ne=s=>(ye("data-v-965b4d94"),s=s(),ge(),s),Zo={class:"content"},el={class:"container-fluid"},tl={class:"row"},sl={class:"col-md-6"},al={class:"card"},ol=Se('<ul class="nav nav-tabs" data-v-965b4d94><li class="nav-item" data-v-965b4d94><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-965b4d94>General Settings</a></li><li class="nav-item" data-v-965b4d94><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-965b4d94>Site Settings</a></li></ul>',1),ll={class:"tab-content"},nl={class:"tab-pane fade show active",id:"general-tab"},dl={class:"card-body"},il={class:"form-group"},cl=Ne(()=>e("label",{for:"appName"},"App Display Name",-1)),rl={key:0,class:"text-danger text-sm"},ul={class:"form-group"},_l=Ne(()=>e("label",{for:"dateFormat"},"Date Format",-1)),ml=Se('<option value="m/d/Y" data-v-965b4d94> MM/DD/YYYY </option><option value="d/m/Y" data-v-965b4d94> DD/MM/YYYY </option><option value="Y-m-d" data-v-965b4d94> YYYY-MM-DD </option><option value="F j, Y" data-v-965b4d94> Month DD, YYYY </option><option value="j F Y" data-v-965b4d94> DD Month YYYY </option>',5),pl=[ml],hl={key:0,class:"text-danger text-sm"},vl={class:"form-group"},bl=Ne(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),fl={key:0,class:"text-danger text-sm"},$l=Ne(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),q("Save Changes ")])],-1)),yl={class:"tab-pane fade",id:"site"},gl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},kl={key:0,class:"list-group-item p-0"},wl={class:"d-flex justify-content-center"},xl=["onClick"],Cl={class:"ml-auto my-1 mr-1"},Sl=["onClick"],Dl=Ne(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),Ml=[Dl],Vl={class:"m-2 list-unstyled"},Ul={key:1},Al={key:0,class:"list-group-item p-0"},Pl={class:"d-flex justify-content-center"},ql=["onClick"],Il={class:"ml-auto my-1 mr-1"},Tl=["onClick"],Rl=Ne(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),El=[Rl],Ll={key:1,class:"mt-2 text-center"},Yl=Ne(()=>e("span",null,"No Site",-1)),Fl=[Yl],Nl={class:"input-group"},Bl=Ne(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),jl={__name:"UpdateSetting",setup(s){const b=`${he().name}`,m=r([]),n=me(),d=r(!0),i=r([]),c=r(!1),p=r(),l=Fe("$swal"),f=r({id:"",site_name:"",is_active:""}),v=()=>{c.value=!0,axios.get("/api/site").then(N=>{c.value=!1,i.value=N.data}).catch(N=>{console.log(N)})},D=xe(()=>Array.isArray(i.value)?i.value.filter(N=>N.is_active===0):[]),u=xe(()=>D.value.length),C=()=>{d.value=!d.value},O=()=>{var N,k;c.value=!0,axios.post("/api/site",{id:(N=f.value)==null?void 0:N.id,site_name:(k=f.value)==null?void 0:k.site_name,is_active:!0}).then(g=>{v(),f.value={id:null,site_name:"",is_active:!0},n.success(g.data.message),c.value=!1}).catch(g=>{g.response&&g.response.status===422&&(V.value=g.response.data.errors)})},H=N=>{f.value.is_active=N.is_active===1?0:1,axios.post("/api/site",{id:N.id,site_name:N.site_name,is_active:f.value.is_active}).then(k=>{axios.get("/api/site").then(g=>{i.value=g.data}).catch(g=>{console.error("Error fetching tasks:",g),n.error("Error fetching tasks. Please try again.")})}).catch(k=>{console.error("Error adding new task:",k),n.error("Error adding new task. Please try again.")})},L=N=>{if(N.is_active===null||N.is_active===0){l.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}f.value.id=N.id,f.value.site_name=N.site_name},J=()=>{axios.get("/api/settings").then(N=>{m.value=N.data})},V=r(),I=()=>{V.value="",axios.post("/api/settings",m.value).then(N=>{n.success("Settings updated successfully!")}).catch(N=>{N.response&&N.response.status===422&&(V.value=N.response.data.errors)})};return ue(()=>{v(),J(),document.title=`SLI-DTS - ${b}`}),(N,k)=>(a(),o("div",Zo,[e("div",el,[e("div",tl,[e("div",sl,[e("div",al,[ol,e("div",ll,[e("div",nl,[e("form",{onSubmit:k[3]||(k[3]=se(g=>I(),["prevent"]))},[e("div",dl,[e("div",il,[cl,te(e("input",{"onUpdate:modelValue":k[0]||(k[0]=g=>m.value.app_name=g),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ie,m.value.app_name]]),V.value&&V.value.app_name?(a(),o("span",rl,t(V.value.app_name[0]),1)):U("",!0)]),e("div",ul,[_l,te(e("select",{"onUpdate:modelValue":k[1]||(k[1]=g=>m.value.date_format=g),class:"form-control"},pl,512),[[Re,m.value.date_format]]),V.value&&V.value.date_format?(a(),o("span",hl,t(V.value.date_format[0]),1)):U("",!0)]),e("div",vl,[bl,te(e("input",{"onUpdate:modelValue":k[2]||(k[2]=g=>m.value.pagination_limit=g),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ie,m.value.pagination_limit]]),V.value&&V.value.pagination_limit?(a(),o("span",fl,t(V.value.pagination_limit[0]),1)):U("",!0)])]),$l],32)]),e("div",yl,[i.value.length>0?(a(),o("div",gl,[c.value?(a(),ce(Ie,{key:0})):U("",!0),(a(!0),o(B,null,X(i.value,g=>(a(),o("ul",{class:"list-group",key:g.id},[g.is_active===1?(a(),o("li",kl,[e("div",wl,[e("div",null,[e("span",{class:P({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:j=>H(g),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,xl),q(" "+t(g.site_name),1)],2)]),e("div",Cl,[e("button",{onClick:j=>L(g),class:"btn btn-outline"},Ml,8,Sl)])])])):U("",!0)]))),128)),e("li",Vl,[u.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-danger",onClick:C},[e("i",{class:P(["fa",d.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Deactive List "+t(u.value),1)])):U("",!0)]),d.value?(a(),o("div",Ul,[(a(!0),o(B,null,X(i.value,g=>(a(),o("ul",{class:"list-group",key:g.id},[g.is_active===0?(a(),o("li",Al,[e("div",Pl,[e("div",null,[e("span",{class:P({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:j=>H(g),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,ql),e("del",null,t(g.site_name),1)],2)]),e("div",Il,[e("button",{onClick:j=>L(g),class:"btn btn-outline"},El,8,Tl)])])])):U("",!0)]))),128))])):U("",!0)])):(a(),o("div",Ll,Fl)),h(_(qe),{ref:"form",onSubmit:O,"initial-values":p.value},{default:Z(()=>[h(_(Q),{name:"id",modelValue:f.value.id,"onUpdate:modelValue":k[4]||(k[4]=g=>f.value.id=g),type:"text",hidden:""},null,8,["modelValue"]),e("div",Nl,[h(_(Q),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:f.value.site_name,"onUpdate:modelValue":k[5]||(k[5]=g=>f.value.site_name=g),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Bl])]),_:1},8,["initial-values"])])])])])])])]))}};var Ol=be(jl,[["__scopeId","data-v-965b4d94"]]);const Hl={class:"content"},zl={class:"container-fluid"},Jl={class:"row"},Ql={class:"col-md-3"},Gl={class:"card card-primary card-outline"},Wl={class:"card-body box-profile"},Kl={class:"text-center"},Xl=["src"],Zl={class:"profile-username text-center"},en={class:"text-muted text-center"},tn={class:"col-md-9"},sn={class:"card"},an=Se('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),on={class:"card-body"},ln={class:"tab-content"},nn={class:"tab-pane active",id:"profile"},dn={class:"form-group row"},cn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),rn={class:"col-sm-10"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),pn={class:"col-sm-10"},hn={key:0,class:"text-danger text-sm"},vn={class:"form-group row"},bn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),fn={class:"col-sm-10"},$n={key:0,class:"text-danger text-sm"},yn={class:"form-group row"},gn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),kn={class:"col-sm-10"},wn={key:0,class:"text-danger text-sm"},xn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),Cn={class:"tab-pane",id:"changePassword"},Sn={class:"form-group row"},Dn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),Mn={class:"col-sm-9"},Vn={key:0,class:"text-danger text-sm"},Un={class:"form-group row"},An=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),Pn={class:"col-sm-9"},qn={key:0,class:"text-danger text-sm"},In={class:"form-group row"},Tn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),Rn={class:"col-sm-9"},En=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),Ln={__name:"UpdateProfile",setup(s){const b=_e(),m=me(),n=`${he().name}`,d=r([]),i=()=>{axios.put("/api/profile",{name:b.user.name,first_name:b.user.first_name,last_name:b.user.last_name,email:b.user.email,role:b.user.role}).then(D=>{m.success("Profile updated successfully!")}).catch(D=>{D.response&&D.response.status===422&&(d.value=D.response.data.errors)})},c=Me({currentPassword:"",password:"",passwordConfirmation:""}),p=()=>{d.value="",axios.post("/api/change-user-password",c).then(D=>{m.success(D.data.message);for(const u in c)c[u]=""}).catch(D=>{D.response&&D.response.status===422&&(d.value=D.response.data.errors)})},l=r(null),f=()=>{l.value.click()},v=D=>{const u=D.target.files[0];b.user.avatar=URL.createObjectURL(u);const C=new FormData;C.append("profile_picture",u),axios.post("/api/upload-profile-image",C).then(O=>{m.success("Image uploaded successfully!")})};return ue(()=>{document.title=`SLI-DTS - ${n}`}),(D,u)=>(a(),o("div",Hl,[e("div",zl,[e("div",Jl,[e("div",Ql,[e("div",Gl,[e("div",Wl,[e("div",Kl,[e("input",{onChange:v,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:f,class:"profile-user-img img-circle",src:_(b).user.avatar,alt:"User profile picture"},null,8,Xl)]),e("h3",Zl,t(_(b).user.name),1),e("p",en,t(_(b).user.role),1)])])]),e("div",tn,[e("div",sn,[an,e("div",on,[e("div",ln,[e("div",nn,[e("form",{onSubmit:u[4]||(u[4]=se(C=>i(),["prevent"])),class:"form-horizontal"},[e("div",dn,[cn,e("div",rn,[te(e("input",{"onUpdate:modelValue":u[0]||(u[0]=C=>_(b).user.name=C),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ie,_(b).user.name]]),d.value&&d.value.name?(a(),o("span",un,t(d.value.name[0]),1)):U("",!0)])]),e("div",_n,[mn,e("div",pn,[te(e("input",{"onUpdate:modelValue":u[1]||(u[1]=C=>_(b).user.first_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ie,_(b).user.first_name]]),d.value&&d.value.first_name?(a(),o("span",hn,t(d.value.first_name[0]),1)):U("",!0)])]),e("div",vn,[bn,e("div",fn,[te(e("input",{"onUpdate:modelValue":u[2]||(u[2]=C=>_(b).user.last_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ie,_(b).user.last_name]]),d.value&&d.value.last_name?(a(),o("span",$n,t(d.value.last_name[0]),1)):U("",!0)])]),e("div",yn,[gn,e("div",kn,[te(e("input",{"onUpdate:modelValue":u[3]||(u[3]=C=>_(b).user.email=C),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ie,_(b).user.email]]),d.value&&d.value.email?(a(),o("span",wn,t(d.value.email[0]),1)):U("",!0)])]),xn],32)]),e("div",Cn,[e("form",{onSubmit:se(p,["prevent"]),class:"form-horizontal"},[e("div",Sn,[Dn,e("div",Mn,[te(e("input",{"onUpdate:modelValue":u[5]||(u[5]=C=>c.currentPassword=C),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ie,c.currentPassword]]),d.value&&d.value.current_password?(a(),o("span",Vn,t(d.value.current_password[0]),1)):U("",!0)])]),e("div",Un,[An,e("div",Pn,[te(e("input",{"onUpdate:modelValue":u[6]||(u[6]=C=>c.password=C),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ie,c.password]]),d.value&&d.value.password?(a(),o("span",qn,t(d.value.password[0]),1)):U("",!0)])]),e("div",In,[Tn,e("div",Rn,[te(e("input",{"onUpdate:modelValue":u[7]||(u[7]=C=>c.passwordConfirmation=C),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ie,c.passwordConfirmation]])])]),En],32)])])])])])])])]))}};const He=s=>(ye("data-v-809e38f2"),s=s(),ge(),s),Yn={class:"login-box"},Fn={class:"card card-outline card-primary"},Nn=He(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Bn={class:"card-body"},jn={key:0,class:"alert alert-danger",role:"alert"},On={class:"input-group mb-3"},Hn=He(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),zn={class:"input-group mb-3"},Jn=He(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Qn=["type"],Gn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Wn=He(()=>e("div",{class:"input-group mb-3"},null,-1)),Kn={class:"row"},Xn={class:"col-12 mb-2"},Zn=["disabled"],ed={key:0,class:"spinner-border spinner-border-sm",role:"status"},td=He(()=>e("span",{class:"sr-only"},"Loading...",-1)),sd=[td],ad={key:1},od=He(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),ld="Login",nd={__name:"Login",setup(s){const b=r(!1),m=me();_e();const n=Be(),d=Me({email:"",password:""}),i=r(!1),c=r(""),p=()=>{i.value=!0,c.value="",T.post("/login",d).then(()=>{n.push("/"),m.success("Login Success")}).catch(l=>{m.error(l.response.data.message)}).finally(()=>{i.value=!1})};return ue(()=>{document.title=ld}),(l,f)=>(a(),o("div",Yn,[e("div",Fn,[Nn,e("div",Bn,[c.value?(a(),o("div",jn,t(c.value),1)):U("",!0),e("form",{onSubmit:se(p,["prevent"])},[e("div",On,[Hn,te(e("input",{"onUpdate:modelValue":f[0]||(f[0]=v=>d.email=v),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ie,d.email]])]),e("div",zn,[Jn,te(e("input",{"onUpdate:modelValue":f[1]||(f[1]=v=>d.password=v),class:"form-control",placeholder:"Password",type:b.value?"text":"password",onClick:f[2]||(f[2]=(...v)=>l.handleKeyClick&&l.handleKeyClick(...v))},null,8,Qn),[[rt,d.password]])]),e("label",Gn,[te(e("input",{type:"checkbox","onUpdate:modelValue":f[3]||(f[3]=v=>b.value=v)},null,512),[[Le,b.value]]),q(" Show Password ")]),Wn,e("div",Kn,[e("div",Xn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:i.value},[i.value?(a(),o("div",ed,sd)):(a(),o("span",ad,"Sign In"))],8,Zn)])])],32),od])])]))}};var dd=be(nd,[["__scopeId","data-v-809e38f2"]]);const id=["checked"],cd=e("i",{class:"fa fa-edit"},null,-1),rd=[cd],ud=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),_d=[ud],md={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:b}){me();const m=s,n=b,d=()=>{n("toggleSelection",m.item)};return(i,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:d},null,40,id)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.first_name)+" "+t(s.item.last_name),1),e("td",null,t(s.item.email),1),e("td",null,t(s.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:c[0]||(c[0]=se(p=>i.$emit("editUser",s.item),["prevent"]))},rd),e("a",{href:"#",onClick:c[1]||(c[1]=se(p=>i.$emit("confirmUserDeletion",s.item.id),["prevent"]))},_d)])]))}},pd={class:"content"},hd={class:"container-fluid"},vd={class:"d-flex justify-content-between"},bd={class:"d-flex"},fd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),$d={key:0},yd=e("i",{class:"fa fa-trash mr-1"},null,-1),gd={class:"ml-2"},kd={class:"card"},wd={class:"card-body"},xd={class:"table table-bordered"},Cd=e("th",{style:{width:"10px"}},"#",-1),Sd=e("th",null,"Name",-1),Dd=e("th",null,"Email",-1),Md=e("th",null,"Registered Date",-1),Vd=e("th",null,"Options",-1),Ud={key:0},Ad={key:1},Pd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),qd=[Pd],Id={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Td={class:"modal-dialog",role:"document"},Rd={class:"modal-content"},Ed={class:"modal-header"},Ld={class:"modal-title",id:"staticBackdropLabel"},Yd={key:0},Fd={key:1},Nd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Bd={class:"modal-body"},jd={class:"form-group"},Od=e("label",{for:"fist_name"},"First Name",-1),Hd={class:"invalid-feedback"},zd={class:"form-group"},Jd=e("label",{for:"last_name"},"Last Name",-1),Qd={class:"invalid-feedback"},Gd={class:"form-group"},Wd=e("label",{for:"email"},"Email",-1),Kd={class:"invalid-feedback"},Xd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Zd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ei={class:"modal-dialog",role:"document"},ti={class:"modal-content"},si=Se('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),ai={class:"modal-footer"},oi=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),li={__name:"ClientList",setup(s){const b=me(),m=r({data:[]}),n=r(!1),d=r(),i=r(null),c=(j=1)=>{T.get(`/api/clients?page=${j}`,{params:{query:O.value}}).then(A=>{m.value=A.data,H.value=[],k.value=!1})},p=De({first_name:z().required(),last_name:z().required(),email:z().email().required()}),l=De({first_name:z().required(),last_name:z().required(),email:z().email().required()}),f=(j,{resetForm:A,setErrors:G})=>{T.post("/api/clients",j).then(pe=>{m.value.data.unshift(pe.data),$("#clientFormModal").modal("hide"),A(),b.success("User created successfully!")}).catch(pe=>{pe.response.data.errors&&G(pe.response.data.errors)})},v=()=>{n.value=!1,$("#clientFormModal").modal("show")},D=j=>{n.value=!0,i.value.resetForm(),$("#clientFormModal").modal("show"),d.value={id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}},u=(j,{setErrors:A})=>{T.put("/api/clients/"+d.value.id,j).then(G=>{const pe=m.value.data.findIndex(ee=>ee.id===G.data.id);m.value.data[pe]=G.data,$("#clientFormModal").modal("hide"),b.success("Client updated successfully!")}).catch(G=>{A(G.response.data.errors),console.log(G)})},C=(j,A)=>{n.value?u(j,A):f(j,A)},O=r(null),H=r([]),L=j=>{const A=H.value.indexOf(j.id);A===-1?H.value.push(j.id):H.value.splice(A,1),console.log(H.value)},J=r(null),V=j=>{J.value=j,$("#deleteClientModal").modal("show")},I=()=>{T.delete(`/api/clients/${J.value}`).then(()=>{$("#deleteClientModal").modal("hide"),b.success("Client deleted successfully!"),m.value.data=m.value.data.filter(j=>j.id!==J.value)})},N=()=>{T.delete("/api/clients",{data:{ids:H.value}}).then(j=>{m.value.data=m.value.data.filter(A=>!H.value.includes(A.id)),H.value=[],k.value=!1,b.success(j.data.message)})},k=r(!1),g=()=>{k.value?H.value=m.value.data.map(j=>j.id):H.value=[],console.log(H.value)};return ve(O,Ae.exports.debounce(()=>{c()},300)),ue(()=>{c()}),(j,A)=>(a(),o(B,null,[e("div",pd,[e("div",hd,[e("div",vd,[e("div",bd,[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-primary"},[fd,q(" Add New Client ")]),H.value.length>0?(a(),o("div",$d,[e("button",{onClick:N,type:"button",class:"ml-2 mb-2 btn btn-danger"},[yd,q(" Delete Selected ")]),e("span",gd,"Selected "+t(H.value.length)+" clients",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=G=>O.value=G),class:"form-control",placeholder:"Search..."},null,512),[[ie,O.value]])])]),e("div",kd,[e("div",wd,[e("table",xd,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":A[1]||(A[1]=G=>k.value=G),onChange:g},null,544),[[Le,k.value]])]),Cd,Sd,Dd,Md,Vd])]),m.value.data.length>0?(a(),o("tbody",Ud,[(a(!0),o(B,null,X(m.value.data,(G,pe)=>(a(),ce(md,{key:G.id,item:G,index:pe,onEditUser:D,onConfirmUserDeletion:V,onToggleSelection:L,"select-all":k.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Ad,qd))])])]),h(_(Ee),{data:m.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",Id,[e("div",Td,[e("div",Rd,[e("div",Ed,[e("h5",Ld,[n.value?(a(),o("span",Yd,"Edit Client")):(a(),o("span",Fd,"Add New Client"))]),Nd]),h(_(qe),{ref_key:"form",ref:i,onSubmit:C,"validation-schema":n.value?_(l):_(p),"initial-values":d.value},{default:Z(({errors:G})=>[e("div",Bd,[e("div",jd,[Od,h(_(Q),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":G.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Hd,t(G.first_name),1)]),e("div",zd,[Jd,h(_(Q),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":G.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Qd,t(G.last_name),1)]),e("div",Gd,[Wd,h(_(Q),{name:"email",type:"email",class:P(["form-control",{"is-invalid":G.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Kd,t(G.email),1)])]),Xd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Zd,[e("div",ei,[e("div",ti,[si,e("div",ai,[oi,e("button",{onClick:se(I,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const ut=s=>(ye("data-v-6b52e506"),s=s(),ge(),s),ni={style:{"text-align":"center"}},di={key:0},ii=ut(()=>e("i",{class:"fa fa-edit"},null,-1)),ci=[ii],ri=ut(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),ui=[ri],_i={key:1,style:{"text-align":"center"}},mi={key:0},pi=ut(()=>e("i",{class:"fa fa-edit"},null,-1)),hi=[pi],vi={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(s,{emit:b}){me();const m=_e();return(n,d)=>{const i=fe("router-link");return a(),o("tr",null,[e("td",null,t(s.item.recommnum),1),e("td",null,t(s.item.user),1),e("td",null,t(s.item.branch),1),e("td",null,t(s.item.department),1),e("td",null,t(s.item.created_user),1),e("td",ni,[s.item.statusid==2?(a(),ce(i,{key:0,to:`/tech-approved/${s.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3)]),_:1},8,["to"])):(a(),o("span",{key:1,class:P(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3))]),e("td",null,t(s.item.created_at),1),_(m).user.role==="ADMIN"?(a(),o("td",di,[e("a",{href:"#",onClick:d[0]||(d[0]=se(c=>n.$emit("editUser",s.item),["prevent"]))},ci),e("a",{href:"#",onClick:d[1]||(d[1]=se(c=>n.$emit("confirmUserDeletion",s.item.id),["prevent"]))},ui)])):U("",!0),_(m).user.role==="USER"?(a(),o("td",_i,[s.item.statusid!=2?(a(),o("div",mi,[s.item.created_by==_(m).user.id?(a(),o("a",{key:0,href:"#",onClick:d[2]||(d[2]=se(c=>n.$emit("editUser",s.item),["prevent"]))},hi)):U("",!0)])):U("",!0)])):U("",!0)])}}};var bi=be(vi,[["__scopeId","data-v-6b52e506"]]);const fi={class:"content"},$i={class:"container-fluid"},yi={class:"d-flex justify-content-between"},gi={class:"d-flex"},ki=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),wi={key:0},xi=e("i",{class:"fa fa-trash mr-1"},null,-1),Ci={class:"ml-2"},Si={class:"card"},Di={class:"card-body"},Mi={class:"dispatch-table"},Vi={class:"table-responsive"},Ui={class:"table table-bordered table-sm"},Ai=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),Pi={key:0},qi={key:1},Ii=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Ti=[Ii],Ri=["item","index"],Ei={class:"card"},Li={class:"card-body"},Yi={class:"list-field"},Fi=e("span",{class:"mb-1 dis"},"Tech #:",-1),Ni={class:"list-field"},Bi=e("span",{class:"mb-1 dis"},"User:",-1),ji={class:"list-field"},Oi=e("span",{class:"mb-1 dis"},"Branch:",-1),Hi={class:"list-field"},zi=e("span",{class:"mb-1 dis"},"Department:",-1),Ji={class:"list-field"},Qi=e("span",{class:"mb-1 dis"},"Created by:",-1),Gi={class:"list-field"},Wi=e("span",{class:"mb-1 dis"},"Status:",-1),Ki={class:"list-field"},Xi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Zi=e("hr",null,null,-1),ec={class:"row"},tc={key:0,class:"col"},sc=["onClick"],ac=e("i",{class:"fa fa-pencil-square-o"},null,-1),oc=["onClick"],lc=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),nc=[lc],dc={key:1,class:"col"},ic={key:0},cc=["onClick"],rc=e("i",{class:"fa fa-pencil-square-o"},null,-1),uc={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_c={class:"modal-dialog modal-lg",role:"document"},mc={class:"modal-content"},pc={class:"modal-header"},hc={class:"modal-title",id:"staticBackdropLabel"},vc={key:0},bc={key:1},fc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),$c={class:"modal-body"},yc={class:"col-md-12"},gc={class:"row"},kc={class:"col-6"},wc={class:"form-group"},xc=e("label",{for:"branch"},"Branch",-1),Cc=e("option",{value:"",disabled:""}," Select Branch ",-1),Sc=["value"],Dc={class:"invalid-feedback"},Mc={class:"form-group"},Vc=e("label",{for:"department"},"Department",-1),Uc={class:"invalid-feedback"},Ac={class:"form-group"},Pc=e("label",{for:"warehouse"},"warehouse",-1),qc={class:"invalid-feedback"},Ic={class:"form-group"},Tc=e("label",{for:"user"},"User",-1),Rc={class:"invalid-feedback"},Ec={class:"col-6"},Lc={class:"form-group"},Yc=e("label",{for:"brand"},"Brand",-1),Fc={class:"form-group"},Nc=e("label",{for:"model"},"Model",-1),Bc={class:"invalid-feedback"},jc={class:"form-group"},Oc=e("label",{for:"assettag"},"Asset tag",-1),Hc={class:"invalid-feedback"},zc={class:"form-group"},Jc=e("label",{for:"serialnum"},"Serial number",-1),Qc={class:"invalid-feedback"},Gc={class:"col-12"},Wc={class:"form-group"},Kc=e("label",{for:"problem"},"Report Problem",-1),Xc={class:"invalid-feedback"},Zc={class:"form-group"},er=e("label",{for:"assconducted"},"Assessment conducted",-1),tr={class:"invalid-feedback"},sr={class:"form-group"},ar=e("label",{for:"recommendation"},"Recommendation",-1),or={class:"invalid-feedback"},lr={class:"modal-footer"},nr={key:0},dr={key:0,class:"btn-group float-l ml-auto"},ir=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),cr={class:"dropdown-menu",role:"menu"},rr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),ur=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),_r={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mr={class:"modal-dialog",role:"document"},pr={class:"modal-content"},hr=Se('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),vr={class:"modal-footer"},br=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),fr={__name:"TechList",setup(s){const b=r(),m=r(),n=me(),d=r({data:[]});r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const i=`${he().name}`,c=()=>{T.get("/web/getsite").then(w=>{m.value=w.data.sites}).catch(w=>{console.log(w)})},p=r(!1),l=r(!1),f=r(),v=Me({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),D=_e();r(null);const u=(w=1)=>{p.value=!0,T.get(`/api/tech-recommendations?page=${w}`,{params:{query:k.value}}).then(S=>{p.value=!1,d.value=S.data,g.value=[],M.value=!1})},C=De({branch:z().required(),department:z().required(),user:z().required(),problem:z().required(),assconducted:z().required(),brand:z().required()}),O=De({branch:z().required(),department:z().required(),user:z().required(),problem:z().required(),assconducted:z().required(),brand:z().required()}),H=(w,{resetForm:S,setErrors:ae})=>{T.post("/api/tech-recommendations",w).then(de=>{d.value.data.unshift(de.data),$("#FormModal").modal("hide"),S(),n.success("Data created successfully!")}).catch(de=>{de.response.data.errors&&ae(de.response.data.errors)})},L=()=>{l.value=!1,$("#FormModal").modal("show")},J=()=>{v.id="",v.recommnum="",v.branch="",v.department="",v.warehouse="",v.user="",v.problem="",v.brand="",v.model="",v.assettag="",v.serialnum="",v.assconducted="",v.recommendation="",v.ceated_by=""},V=w=>{b.value=w.id,l.value=!0,J(),v.id=w.id,v.branch=w.branch,v.department=w.department,v.warehouse=w.warehouse,v.user=w.user,v.problem=w.problem,v.brand=w.brand,v.model=w.model,v.assettag=w.assettag,v.serialnum=w.serialnum,v.assconducted=w.assconducted,v.recommendation=w.recommendation,v.ceated_by=w.ceated_by,v.recommnum=w.recommnum,$("#FormModal").modal("show")},I=(w,{setErrors:S})=>{T.put("/api/tech-recommendations/"+w.id,w).then(ae=>{$("#FormModal").modal("hide"),n.success("successfully Updated!")}).catch(ae=>{S(ae.response.data.errors),console.log(ae)})},N=(w,S)=>{l.value?I(v,S):H(w,S)},k=r(null),g=r([]),j=w=>{const S=g.value.indexOf(w.id);S===-1?g.value.push(w.id):g.value.splice(S,1),console.log(g.value)},A=r(null),G=w=>{A.value=w,$("#deleteClientModal").modal("show")},pe=()=>{T.delete(`/api/tech-recommendations/${A.value}`).then(()=>{$("#deleteClientModal").modal("hide"),n.success("Client deleted successfully!"),d.value.data=d.value.data.filter(w=>w.id!==A.value)})},ee=()=>{T.delete("/api/tech-recommendations",{data:{ids:g.value}}).then(w=>{d.value.data=d.value.data.filter(S=>!g.value.includes(S.id)),g.value=[],M.value=!1,n.success(w.data.message)})},F=w=>{T.post("/api/tech-getaction",{id:b.value,status:w}).then(S=>{$("#FormModal").modal("hide"),u()}).catch(S=>{console.log(S.message)})},M=r(!1);return ve(k,Ae.exports.debounce(()=>{u()},300)),ue(()=>{u(),c(),document.title=`SLI-DTS - ${i}`}),(w,S)=>{const ae=fe("font"),de=fe("router-link");return a(),o(B,null,[e("div",fi,[e("div",$i,[e("div",yi,[e("div",gi,[e("button",{onClick:L,type:"button",class:"mb-2 btn btn-primary"},[ki,q(" TechRecom ")]),g.value.length>0?(a(),o("div",wi,[e("button",{onClick:ee,type:"button",class:"ml-2 mb-2 btn btn-danger"},[xi,q(" Delete Selected ")]),e("span",Ci,"Selected "+t(g.value.length)+" techrecomm",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=E=>k.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ie,k.value]])])]),e("div",Si,[e("div",Di,[p.value?(a(),ce(Ie,{key:0})):U("",!0),e("div",Mi,[e("div",Vi,[h(ae,{size:"2"},{default:Z(()=>[e("table",Ui,[Ai,d.value.data.length>0?(a(),o("tbody",Pi,[(a(!0),o(B,null,X(d.value.data,(E,Y)=>(a(),ce(bi,{key:E.id,item:E,index:Y,onEditUser:V,onShowItem:w.viewItem,onConfirmUserDeletion:G,onToggleSelection:j,"select-all":M.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",qi,Ti))])]),_:1})])]),(a(!0),o(B,null,X(d.value.data,(E,Y)=>(a(),o("div",{class:"dispatch-list",key:E.id,item:E,index:Y},[e("div",Ei,[e("div",Li,[e("div",Yi,[Fi,e("span",null,[e("b",null,t(E.recommnum),1)])]),e("div",Ni,[Bi,e("span",null,t(E.user),1)]),e("div",ji,[Oi,e("span",null,t(E.branch),1)]),e("div",Hi,[zi,e("span",null,t(E.department),1)]),e("div",Ji,[Qi,e("span",null,t(E.created_user),1)]),e("div",Gi,[Wi,E.statusid==2?(a(),ce(de,{key:0,to:`/tech-approved/${E.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`badge-${E.status.color}`])},t(E.status.name),3)]),_:2},1032,["to"])):U("",!0),E.statusid!=2?(a(),o("span",{key:1,class:P(["badge",`badge-${E.status.color}`])},t(E.status.name),3)):U("",!0)]),e("div",Ki,[Xi,e("span",null,t(E.created_at),1)]),Zi,e("div",ec,[_(D).user.role==="ADMIN"?(a(),o("div",tc,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:je=>V(E)},[ac,q(" Edit ")],8,sc),e("button",{class:"btn btnsm btn-danger btn-block",onClick:je=>G(E.id)},nc,8,oc)])):U("",!0),_(D).user.role==="USER"?(a(),o("div",dc,[E.statusid!=2?(a(),o("div",ic,[E.created_by==_(D).user.id?(a(),o("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:je=>V(E)},[rc,q(" Edit ")],8,cc)):U("",!0)])):U("",!0)])):U("",!0)])])])],8,Ri))),128))])]),h(_(Ee),{data:d.value,onPaginationChangePage:u},null,8,["data"])])]),e("div",uc,[e("div",_c,[e("div",mc,[e("div",pc,[e("h5",hc,[l.value?(a(),o("span",vc,"Edit Tech Recom.")):(a(),o("span",bc,"Add New Tech Recom."))]),fc]),h(_(qe),{onSubmit:N,"validation-schema":l.value?_(O):_(C),"initial-values":f.value},{default:Z(({errors:E})=>[e("div",$c,[e("div",yc,[e("div",gc,[e("div",kc,[h(_(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(D).user.id,"onUpdate:modelValue":S[1]||(S[1]=Y=>_(D).user.id=Y)},null,8,["modelValue"]),h(_(Q),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:v.recommnum,"onUpdate:modelValue":S[2]||(S[2]=Y=>v.recommnum=Y)},null,8,["modelValue"]),e("div",wc,[xc,h(_(Q),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:v.branch,"onUpdate:modelValue":S[3]||(S[3]=Y=>v.branch=Y)},{default:Z(()=>[Cc,(a(!0),o(B,null,X(m.value,Y=>(a(),o("option",{key:Y.name,value:Y.name},t(Y.name),9,Sc))),128))]),_:2},1032,["class","modelValue"]),e("span",Dc,t(E.branch),1)]),e("div",Mc,[Vc,h(_(Q),{name:"department",type:"text",class:P(["form-control",{"is-invalid":E.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:v.department,"onUpdate:modelValue":S[4]||(S[4]=Y=>v.department=Y)},null,8,["class","modelValue"]),e("span",Uc,t(E.department),1)]),e("div",Ac,[Pc,h(_(Q),{name:"warehouse",type:"text",class:P(["form-control",{"is-invalid":E.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:v.warehouse,"onUpdate:modelValue":S[5]||(S[5]=Y=>v.warehouse=Y)},null,8,["class","modelValue"]),e("span",qc,t(E.warehouse),1)]),e("div",Ic,[Tc,h(_(Q),{name:"user",type:"text",class:P(["form-control",{"is-invalid":E.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:v.user,"onUpdate:modelValue":S[6]||(S[6]=Y=>v.user=Y)},null,8,["class","modelValue"]),e("span",Rc,t(E.user),1)])]),e("div",Ec,[e("div",Lc,[Yc,h(_(Q),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:v.brand,"onUpdate:modelValue":S[7]||(S[7]=Y=>v.brand=Y)},null,8,["modelValue"])]),e("div",Fc,[Nc,h(_(Q),{name:"model",type:"text",class:P(["form-control",{"is-invalid":E.model}]),id:"model",modelValue:v.model,"onUpdate:modelValue":S[8]||(S[8]=Y=>v.model=Y),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Bc,t(E.model),1)]),e("div",jc,[Oc,h(_(Q),{name:"assettag",type:"text",class:P(["form-control",{"is-invalid":E.assettag}]),id:"assettag",modelValue:v.assettag,"onUpdate:modelValue":S[9]||(S[9]=Y=>v.assettag=Y),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Hc,t(E.assettag),1)]),e("div",zc,[Jc,te(e("input",{name:"serialnum",type:"text",class:P(["form-control",{"is-invalid":E.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":S[10]||(S[10]=Y=>v.serialnum=Y)},null,2),[[ie,v.serialnum]]),e("span",Qc,t(E.serialnum),1)])]),e("div",Gc,[e("div",Wc,[Kc,h(_(Q),{name:"problem",as:"textarea",class:P(["form-control",{"is-invalid":E.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:v.problem,"onUpdate:modelValue":S[11]||(S[11]=Y=>v.problem=Y)},null,8,["class","modelValue"]),e("span",Xc,t(E.problem),1)]),e("div",Zc,[er,h(_(Q),{name:"assconducted",as:"textarea",class:P(["form-control",{"is-invalid":E.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:v.assconducted,"onUpdate:modelValue":S[12]||(S[12]=Y=>v.assconducted=Y)},null,8,["class","modelValue"]),e("span",tr,t(E.assconducted),1)]),e("div",sr,[ar,h(_(Q),{name:"recommendation",as:"textarea",class:P(["form-control",{"is-invalid":E.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:v.recommendation,"onUpdate:modelValue":S[13]||(S[13]=Y=>v.recommendation=Y)},null,8,["class","modelValue"]),e("span",or,t(E.recommendation),1)])])])])]),e("div",lr,[l.value?(a(),o("div",nr,[_(D).user.role==="ADMIN"?(a(),o("div",dr,[e("button",{type:"button",onClick:S[14]||(S[14]=Y=>F(2)),class:"btn btn-info"}," Approved "),ir,e("div",cr,[e("span",{onClick:S[15]||(S[15]=Y=>F(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:S[16]||(S[16]=Y=>F(3)),class:"dropdown-item"},"Disapproved")])])):U("",!0)])):U("",!0),rr,ur])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",_r,[e("div",mr,[e("div",pr,[hr,e("div",vr,[br,e("button",{onClick:se(pe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const We=vt("SettingStore",()=>{const s=r({app_name:""}),b=Ft("SettingStore:theme",r("light"));return{setting:s,getSetting:async()=>{await T.get("/api/settings").then(d=>{s.value=d.data})},theme:b,changeTheme:()=>{b.value=b.value==="light"?"dark":"light"}}});const oe=s=>(ye("data-v-a215d374"),s=s(),ge(),s),$r={class:"content"},yr={class:"container-fluid"},gr={class:"card"},kr={class:"card-header"},wr={class:"card-title"},xr={class:"card-body"},Cr={class:"col-md-12"},Sr={class:"d-flex justify-content-between"},Dr=oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Mr={class:"d-flex"},Vr={class:"col-12",id:"accordion"},Ur={key:1},Ar={key:0},Pr={class:"card card-secondary"},qr={class:"card-body d-flex align-items-center justify-content-center"},Ir={class:"image-container"},Tr=["src"],Rr=oe(()=>e("div",{class:"overlay"},null,-1)),Er={key:1},Lr={class:"card-header bg-white"},Yr={class:"card-title"},Fr=["href"],Nr=["src"],Br={class:"card-tools"},jr=["onClick"],Or=oe(()=>e("i",{class:"fas fa-tasks"},null,-1)),Hr=[Or],zr=["disabled","onClick"],Jr=["onClick"],Qr=["onClick"],Gr=oe(()=>e("p",{class:"float-right"},null,-1)),Wr=["id"],Kr={class:"card-body"},Xr={class:"col-md-12"},Zr={class:"dispatch-table"},eu={class:"row"},tu={class:"col-4"},su=oe(()=>e("b",null,"Site:",-1)),au=oe(()=>e("b",null,"Planned Date:",-1)),ou=oe(()=>e("b",null,"Planned End Date:",-1)),lu={class:"col-4"},nu=oe(()=>e("b",null,"Start Date:",-1)),du=oe(()=>e("b",null,"Accomplished Date:",-1)),iu={class:"closestatus"},cu=oe(()=>e("b",{style:{color:"black"}},"Type:",-1)),ru={class:"col-4"},uu={class:"ongoing"},_u=oe(()=>e("b",{style:{color:"black"}},"Status:",-1)),mu=oe(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),pu=oe(()=>e("b",null,"Remarks:",-1)),hu={style:{margin:"0.5%"}},vu=["disabled","onClick"],bu=["onClick","disabled"],fu={class:"dispatch-list"},$u={class:"list-group list-group-flush"},yu={class:"list-group-item d-flex justify-content-between align-items-center"},gu={class:"badge badge-primary badge-pill"},ku={class:"list-group-item d-flex justify-content-between align-items-center"},wu={class:"badge badge-primary badge-pill"},xu={class:"list-group-item d-flex justify-content-between align-items-center"},Cu={class:"badge badge-primary badge-pill"},Su={class:"list-group-item d-flex justify-content-between align-items-center"},Du={class:"badge badge-primary badge-pill"},Mu={class:"list-group-item d-flex justify-content-between align-items-center"},Vu={class:"badge badge-primary badge-pill"},Uu={class:"list-group-item d-flex justify-content-between align-items-center"},Au={class:"badge badge-primary badge-pill"},Pu={class:"list-group-item d-flex justify-content-between align-items-center"},qu={class:"badge badge-primary badge-pill"},Iu={class:"list-group-item d-flex justify-content-between align-items-center"},Tu={class:"badge badge-primary badge-pill"},Ru=oe(()=>e("hr",null,null,-1)),Eu={class:"row"},Lu={class:"col"},Yu=["onClick"],Fu=oe(()=>e("i",{class:"fas fa-pen"},null,-1)),Nu=["onClick"],Bu=oe(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),q(" Drop ")],-1)),ju=[Bu],Ou={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hu={class:"modal-dialog modal-dialog-centered",role:"document"},zu={class:"modal-content"},Ju={class:"modal-header"},Qu={class:"modal-title",id:"staticBackdropLabel"},Gu={key:0},Wu={key:1},Ku={key:2},Xu=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Zu={class:"modal-body"},e_={class:"col-md-12"},t_={class:"row"},s_={class:"col-12"},a_={class:"form-group"},o_=oe(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),l_=oe(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),n_=["value"],d_={key:0,class:"d-flex justify-content-between"},i_={class:"d-flex"},c_={class:"form-group"},r_=oe(()=>e("label",{for:"end-time"},"Start Date",-1)),u_={class:"form-group"},__=oe(()=>e("label",{for:"end-time"},"Hour",-1)),m_=["value"],p_=oe(()=>e("div",{class:"d-fex"},null,-1)),h_={key:1,class:"d-flex justify-content-between"},v_={class:"d-flex"},b_={class:"form-group"},f_=oe(()=>e("label",{for:"end-time"},"End Date",-1)),$_={class:"form-group"},y_=oe(()=>e("label",{for:"end-time"},"Hour",-1)),g_=["value"],k_=oe(()=>e("div",{class:"d-fex"},null,-1)),w_={class:"form-group"},x_=oe(()=>e("label",{for:"site"},"Type",-1)),C_=oe(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),S_=["value"],D_=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),M_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},V_={class:"modal-dialog modal-sm",role:"document"},U_={class:"modal-content"},A_={class:"modal-header"},P_={class:"modal-title",id:"staticBackdropLabel"},q_=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),I_={class:"modal-body"},T_=Se('<ul class="nav nav-tabs" id="myTabs" data-v-a215d374><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-a215d374> Todo List</a></li><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-a215d374> Todo</a></li></ul>',1),R_={class:"tab-content"},E_={class:"tab-pane fade show active",id:"todolist"},L_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},Y_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),F_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),N_={key:0,class:"list-group-item p-0"},B_={class:"d-flex justify-content-center"},j_=["onClick"],O_={class:"ml-auto my-1 mr-1"},H_=["onClick"],z_=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),J_=[z_],Q_={class:"mt-2 mb-2 list-unstyled"},G_={key:1},W_={key:0,class:"list-group-item p-0"},K_={class:"d-flex justify-content-center"},X_=["onClick"],Z_={class:"ml-auto my-1 mr-1"},em=["onClick"],tm=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),sm=[tm],am={key:1,class:"mt-2 text-center"},om=oe(()=>e("span",null,"No Todo",-1)),lm=[om],nm={class:"tab-pane fade",id:"formTask"},dm={class:"col-md-12"},im={class:"row"},cm={class:"col-12"},rm={class:"m-2",style:{display:"flex","align-items":"center"}},um=oe(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),q("\xA0Save ")])],-1)),_m={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mm={class:"modal-dialog",role:"document"},pm={class:"modal-content"},hm=oe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),vm={class:"modal-body"},bm={class:"col-md-12"},fm={class:"row"},$m={class:"col-12"},ym={class:"modal-footer"},gm=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),km={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wm={class:"modal-dialog",role:"document"},xm={class:"modal-content"},Cm=Se('<div class="modal-header" data-v-a215d374><h5 class="modal-title" id="staticBackdropLabel" data-v-a215d374><span data-v-a215d374>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-a215d374><span aria-hidden="true" data-v-a215d374>\xD7</span></button></div><div class="modal-body" data-v-a215d374><h5 data-v-a215d374>Are you sure you want to delete this record ?</h5></div>',2),Sm={class:"modal-footer"},Dm=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Mm={__name:"MyPrio",setup(s){const b=`${he().name}`,m=r(!1),n=r(!1),d=Fe("$swal");We();const i=me(),c=r({data:[]}),p=r([]);r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),r();const l=r();r();const f=r(!0),v=r(!1);r(!1),r();const D=r(),u=r(),C=r(),O=_e();r(null),r(!1);const H=r([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),L=r(),J=r("1:00 AM"),V=r(),I=r("1:00 AM"),N=r(Array.from({length:24},(x,R)=>{const y=R%12+1,$e=R<12?"AM":"PM";return`${y}:00 ${$e}`})),k=r(Array.from({length:24},(x,R)=>{const y=R%12+1,$e=R<12?"AM":"PM";return`${y}:00 ${$e}`})),g=Me({dailytask_id:"",site:"",user_id:O.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),j=r("");ve([L,J],()=>{const x=new Date(L.value),R=x.getFullYear(),y=String(x.getMonth()+1).padStart(2,"0"),$e=String(x.getDate()).padStart(2,"0");g.plandate=`${R}-${y}-${$e} ${J.value}`}),ve([L,I],()=>{const x=new Date(L.value);x.getFullYear(),String(x.getMonth()+1).padStart(2,"0"),String(x.getDate()).padStart(2,"0")}),ve([V,I],()=>{const x=new Date(V.value),R=x.getFullYear(),y=String(x.getMonth()+1).padStart(2,"0"),$e=String(x.getDate()).padStart(2,"0");g.enddates=`${R}-${y}-${$e} ${I.value}`});const A=r({id:"",dailytask_id:"",task_name:"",iscompleted:0}),G=()=>{T.get("/web/getsite").then(x=>{l.value=x.data.sites}).catch(x=>{console.log(x)})},pe=()=>{m.value=!0,T.get("/web/dailytask",{params:{query:K.value}}).then(x=>{m.value=!1,c.value=x.data,Ce.value=[]})},ee=async x=>{(await d({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(m.value=!0,T.put(`/web/dailytask/drop/${x}`).then(y=>{i.success("Data drop successfully!"),m.value=!1,pe()}))},F=()=>{$("#FormModalTask").modal("show")},M=x=>{F(),A.value.dailytask_id=x.dailytask_id,u.value=x.taskdate,C.value=x.startdate,n.value=!0,T.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(R=>{p.value=R.data,F(),n.value=!1}).catch(R=>{console.error("Error fetching tasks:",R)})},w=()=>{n.value=!0,T.post("/web/dailytask/addnewTask",{dailytask_id:A.value.dailytask_id,task_name:A.value.task_name,iscompleted:A.value.iscompleted}).then(x=>{i.success("Data created successfully!"),T.get(`/web/dailytask/${A.value.dailytask_id}/tasks`).then(R=>{p.value=R.data,n.value=!1}).catch(R=>{console.error("Error fetching tasks:",R),i.error("Error fetching tasks. Please try again.")}),A.value.task_name=""}).catch(x=>{console.error("Error adding new task:",x),i.error("Error adding new task. Please try again.")})},S=x=>{A.value.iscompleted=x.iscompleted===1?0:1,T.post("/web/dailytask/addnewTask",{id:x.id,dailytask_id:x.dailytask_id,task_name:x.task_name,iscompleted:A.value.iscompleted}).then(R=>{T.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(y=>{p.value=y.data}).catch(y=>{console.error("Error fetching tasks:",y),i.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),i.error("Error adding new task. Please try again.")})},ae=xe(()=>Array.isArray(p.value)?p.value.filter(x=>x.iscompleted===1):[]),de=xe(()=>ae.value.length),E=()=>{f.value=!f.value},Y=x=>{T.delete(`/web/dailytask/deleteTask/${x.id}`).then(R=>{T.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(y=>{p.value=y.data,i.success("Todo successfull Deleted")}).catch(y=>{console.error("Error fetching tasks:",y),i.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),i.error("Error adding new task. Please try again.")})};De({site:z().required(),tasktype:z().required(),plandate:z().required(),planenddate:z().required()}),De({site:z().required(),tasktype:z().required(),plandate:z().required(),planenddate:z().required()});const je=(x,R)=>{T.post("/web/dailytask",g).then(y=>{pe(),$("#FormModal").modal("hide"),i.success("data created successfully!")}).catch(y=>{R.setErrors(y.response.data.errors)})},at=(x,R)=>{T.put("/web/dailytask/"+g.dailytask_id,g).then(y=>{console.log(y.data),pe(),$("#FormModal").modal("hide"),i.success("data update successfully!")}).catch(y=>{R.setErrors(y.response.data.errors)})},Qe=x=>{x&&x.dailytask_id!==null&&x.dailytask_id!==void 0?(v.value=!0,D.value=" on "+le(x.taskdate).format("MMMM D, YYYY"),g.site=x.site_name,g.dailytask_id=x.dailytask_id,g.plandate=x.plandate,g.planenddate=x.planenddate,g.tasktype=x.tasktype,console.log(x.site_name),console.log(x.tasktype)):v.value=!1,G(),$("#FormModal").modal("show")},ot=(x,R)=>{v.value?at(x,R):je(x,R)},Oe=async x=>{if((await d.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const y=await T.put("/web/dailytask/onTashHoliday/"+x.dailytask_id,x);i.success(y.data.message),pe()}},lt=async x=>{try{const R=await T.get(`/web/dailytask/${x.dailytask_id}/tasks`);if(p.value=R.data,!p.value||p.value.length===0){d.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await d.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const $e=await T.put("/web/dailytask/onhandler/"+x.dailytask_id,x);i.success($e.data.message),pe()}}catch(R){console.error("Error fetching tasks:",R),i.error("An error occurred while updating the task.")}},nt=x=>{$("#onRemarksModal").modal("show"),j.value=x},W=()=>{g.remarks===null||g.remarks==""?i.error("Remarks is required"):(le(j.value.taskdate).format("YYYY-MM-DD")===le().format("YYYY-MM-DD")?g.status="HIT":g.status="MISS",T.put("/web/dailytask/onhandler/"+j.value.dailytask_id,{startdate:j.value.startdate,remarks:g.remarks,status:g.status}).then(R=>{console.log(R.data),pe(),$("#onRemarksModal").modal("hide"),i.success(R.data.message)}))},K=r(null),Ce=r([]);return r(null),ve(K,Ae.exports.debounce(()=>{pe()},300)),ue(()=>{bt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),pe(),document.title=`SLI-DTS - ${b}`}),(x,R)=>(a(),o(B,null,[e("div",$r,[e("div",yr,[e("div",gr,[e("div",kr,[e("div",wr,t(_(O).user.first_name+" "+_(O).user.last_name)+" - My Prio ",1)]),e("div",xr,[e("div",Cr,[e("div",Sr,[e("div",{class:"d-flex"},[e("button",{onClick:Qe,type:"button",class:"mb-2 btn btn-primary"},[Dr,q(" Task ")])]),e("div",Mr,[te(e("input",{type:"text","onUpdate:modelValue":R[0]||(R[0]=y=>K.value=y),class:"form-control",placeholder:"Search..."},null,512),[[ie,K.value]])])]),e("div",Vr,[m.value?(a(),ce(Ie,{key:0})):(a(),o("div",Ur,[c.value.length===0?(a(),o("div",Ar,[e("div",Pr,[e("div",qr,[e("div",Ir,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,Tr),Rr])])])])):(a(),o("div",Er,[(a(!0),o(B,null,X(c.value,y=>(a(),o("div",{class:"card card-primary",key:y.id},[e("div",Lr,[e("h4",Yr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+y.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Nr),q(" \xA0"),e("b",null,t(_(le)(y.taskdate).format("MMMM D, YYYY")+" - "+y.site_name),1)],8,Fr)]),e("div",Br,[y.tasktypeid&&y.tasktypeid!==6?(a(),o("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:$e=>M(y)},Hr,8,jr)):U("",!0),!y.enddate&&y.tasktypeid!==6?(a(),o("button",{key:1,disabled:y.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:$e=>nt(y)}," End ",8,zr)):U("",!0),y.tasktypeid&&y.tasktypeid===6?(a(),o("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:$e=>Oe(y)}," Complete ",8,Jr)):U("",!0),!y.startdate&&y.tasktypeid!==6?(a(),o("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:$e=>lt(y)}," Start ",8,Qr)):U("",!0),Gr])]),e("div",{id:"collapse"+y.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Kr,[e("div",Xr,[e("div",Zr,[e("div",eu,[e("div",tu,[e("h5",null,[su,q(" "+t(y.site_name),1)]),e("h5",null,[au,q(" "+t(y.plandate),1)]),e("h5",null,[ou,q(" "+t(y.planenddate),1)])]),e("div",lu,[e("h5",null,[nu,q(" "+t(y.startdate!==null?_(le)(y.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[du,q(" "+t(y.enddate!==null?_(le)(y.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",iu,[cu,q(" "+t(y.tasktype?y.tasktype.join(", "):""),1)])]),e("div",ru,[e("h5",uu,[_u,q(" "+t(y.status),1)]),e("h5",null,[mu,q(" "+t(y.attachment),1)]),e("h5",null,[pu,q(" "+t(y.remarks),1)])])]),e("div",hu,[e("button",{disabled:y.startdate!==null,onClick:$e=>ee(y.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,vu),e("button",{onClick:$e=>Qe(y),type:"button",disabled:y.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,bu)])]),e("div",fu,[e("ul",$u,[e("li",yu,[q(" Site: "),e("span",gu,t(y.site_name),1)]),e("li",ku,[q(" Planned Date: "),e("span",wu,t(y.plandate),1)]),e("li",xu,[q(" Planned End Date: "),e("span",Cu,t(y.planenddate),1)]),e("li",Su,[q(" Start Date: "),e("span",Du,t(y.startdate!==null?_(le)(y.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",Mu,[q(" Type: "),e("span",Vu,t(y.tasktype?y.tasktype.join(", "):""),1)]),e("li",Uu,[q(" Status: "),e("span",Au,t(y.status),1)]),e("li",Pu,[q(" Attachment: "),e("span",qu,t(y.attachment),1)]),e("li",Iu,[q(" Remarks: "),e("span",Tu,t(y.remarks),1)])]),Ru,e("div",Eu,[e("div",Lu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:$e=>Qe(y)},[Fu,q(" Edit ")],8,Yu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:$e=>ee(y.dailytask_id)},ju,8,Nu)])])])])])],8,Wr)]))),128))]))]))])])])])])]),e("div",Ou,[e("div",Hu,[e("div",zu,[e("div",Ju,[e("h5",Qu,[v.value?(a(),o("span",Gu,"Edit My Task")):(a(),o("span",Wu,"Add My Task")),v.value?(a(),o("span",Ku,t(D.value),1)):U("",!0)]),Xu]),h(_(qe),{onSubmit:ot},{default:Z(()=>[e("div",Zu,[e("div",e_,[e("div",t_,[e("div",s_,[h(_(Q),{modelValue:g.user_id,"onUpdate:modelValue":R[1]||(R[1]=y=>g.user_id=y),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",a_,[o_,te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":R[2]||(R[2]=y=>g.site=y)},[l_,(a(!0),o(B,null,X(l.value,y=>(a(),o("option",{key:y.id,value:y.id},t(y.name),9,n_))),128))],512),[[Re,g.site]])]),v.value==!1?(a(),o("div",d_,[e("div",i_,[e("div",c_,[r_,h(_(Ye),{class:"form-control",modelValue:L.value,"onUpdate:modelValue":R[3]||(R[3]=y=>L.value=y)},null,8,["modelValue"])]),e("div",u_,[__,te(e("select",{class:"form-control","onUpdate:modelValue":R[4]||(R[4]=y=>J.value=y),id:"plandate"},[(a(!0),o(B,null,X(N.value,y=>(a(),o("option",{key:y,value:y},t(y),9,m_))),128))],512),[[Re,J.value]])])]),p_])):U("",!0),v.value==!1?(a(),o("div",h_,[e("div",v_,[e("div",b_,[f_,h(_(Ye),{class:"form-control",modelValue:V.value,"onUpdate:modelValue":R[5]||(R[5]=y=>V.value=y)},null,8,["modelValue"])]),e("div",$_,[y_,te(e("select",{class:"form-control","onUpdate:modelValue":R[6]||(R[6]=y=>I.value=y),id:"plandate"},[(a(!0),o(B,null,X(k.value,y=>(a(),o("option",{key:y,value:y},t(y),9,g_))),128))],512),[[Re,I.value]])])]),k_])):U("",!0),e("div",w_,[x_,h(_(Q),{name:"tasktype"},{default:Z(()=>[te(e("select",{"onUpdate:modelValue":R[7]||(R[7]=y=>g.tasktype=y),class:"form-control",required:!0},[C_,(a(!0),o(B,null,X(H.value,y=>(a(),o("option",{key:y.value,value:y.value},t(y.name),9,S_))),128))],512),[[Re,g.tasktype]])]),_:1})])])])])]),D_]),_:1})])])]),e("div",M_,[e("div",V_,[e("div",U_,[e("div",A_,[e("h5",P_," My Todo of "+t(_(le)(u.value).format("MM/D/YYYY")),1),q_]),e("div",I_,[T_,e("div",R_,[e("div",E_,[p.value.length>0?(a(),o("div",L_,[n.value?(a(),ce(Ie,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Y_,F_]),_:1})):U("",!0),(a(!0),o(B,null,X(p.value,y=>(a(),o("ul",{class:"list-group",key:y.id},[y.iscompleted!==1?(a(),o("li",N_,[e("div",B_,[e("div",null,[e("span",{class:P({"font-italic btn":y.iscompleted===1,btn:y.iscompleted!==1})},[C.value?(a(),o("i",{key:0,onClick:$e=>S(y),class:P({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":y.iscompleted===1,"fa fa-circle text-primary":y.iscompleted!==1})},null,10,j_)):U("",!0),q(" "+t(y.task_name),1)],2)]),e("div",O_,[e("button",{onClick:$e=>Y(y),class:"btn btn-outline"},J_,8,H_)])])])):U("",!0)]))),128)),e("li",Q_,[de.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-secondary",onClick:E},[e("i",{class:P(["fa",f.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Completed "+t(de.value),1)])):U("",!0)]),f.value?(a(),o("div",G_,[(a(!0),o(B,null,X(p.value,y=>(a(),o("ul",{class:"list-group",key:y.id},[y.iscompleted===1?(a(),o("li",W_,[e("div",K_,[e("div",null,[e("span",{class:P({"font-italic btn":y.iscompleted===1,btn:y.iscompleted!==1})},[C.value?(a(),o("i",{key:0,onClick:$e=>S(y),class:P({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":y.iscompleted===1,"fa fa-circle text-primary":y.iscompleted!==1})},null,10,X_)):U("",!0),q(" "+t(y.task_name),1)],2)]),e("div",Z_,[e("button",{onClick:$e=>Y(y),class:"btn btn-outline"},sm,8,em)])])])):U("",!0)]))),128))])):U("",!0)])):(a(),o("div",am,lm))]),e("div",nm,[h(_(qe),{onSubmit:w},{default:Z(()=>[e("div",dm,[e("div",im,[e("div",cm,[h(_(Q),{modelValue:A.value.dailytask_id,"onUpdate:modelValue":R[8]||(R[8]=y=>A.value.dailytask_id=y),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",rm,[h(_(Q),{modelValue:A.value.task_name,"onUpdate:modelValue":R[9]||(R[9]=y=>A.value.task_name=y),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),um]),_:1})])])])])])]),e("div",_m,[e("div",mm,[e("div",pm,[hm,e("div",vm,[e("div",bm,[e("div",fm,[e("div",$m,[h(_(Q),{modelValue:g.remarks,"onUpdate:modelValue":R[10]||(R[10]=y=>g.remarks=y),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",ym,[e("button",{onClick:R[11]||(R[11]=se(y=>W(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),gm])])])]),e("div",km,[e("div",wm,[e("div",xm,[Cm,e("div",Sm,[e("button",{onClick:R[12]||(R[12]=se((...y)=>x.deleteUser&&x.deleteUser(...y),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),Dm])])])])],64))}};var Vm=be(Mm,[["__scopeId","data-v-a215d374"]]);const Um={class:"text-center"},Am={key:0},Pm={class:"text-center"},qm={key:0},Im={class:"text-center"},Tm={key:0,class:"bg-success text-center"},Rm={key:1,class:"bg-danger text-center"},Em={key:2,class:"text-center"},Lm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(s){return me(),_e(),(b,m)=>(a(),o("tr",null,[e("td",null,t(_(le)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",Um,[s.item.task_lists_count!==0?(a(),o("span",Am,t(s.item.task_lists_count),1)):U("",!0)]),e("td",Pm,[s.item.completed_task_count!==0?(a(),o("span",qm,t(s.item.completed_task_count),1)):U("",!0)]),e("td",Im,[e("span",null,t(s.item.remarks),1)]),s.item.status==="HIT"?(a(),o("td",Tm,t(s.item.status),1)):s.item.status==="MISS"?(a(),o("td",Rm,t(s.item.status),1)):s.item.status===null||s.item.status===""?(a(),o("td",Em,t(s.item.status===null||s.item.status===""?"On Going!":""),1)):U("",!0),e("td",{class:P({"bg-danger":s.item.percentage_completed>=0&&s.item.percentage_completed<=59,"bg-orange":s.item.percentage_completed>60&&s.item.percentage_completed<=90,"bg-success":s.item.percentage_completed===100,"text-center":!0})},t(s.item.percentage_completed+"%"),3)]))}};const ke=s=>(ye("data-v-e2739d90"),s=s(),ge(),s),Ym={class:"content-header"},Fm={class:"container-fluid"},Nm={class:"col-12"},Bm={class:"card",id:"captureVSCContainer"},jm={class:"card-header"},Om={class:"card-title"},Hm={class:"card-tools"},zm={class:"card-body"},Jm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),Qm=[Jm],Gm={key:1,class:"row"},Wm={class:"inner"},Km={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Xm=["src"],Zm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},ep={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},tp={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},sp={style:{"text-align":"left"}},ap={key:0},op=ke(()=>e("span",{class:"text-light badge"},"Todos",-1)),lp={class:"list-group-item"},np={style:{display:"flex","align-items":"left"}},dp={class:"ml-1"},ip={class:"ml-1"},cp={class:"float-right"},rp={id:"captureHitRateContainer",class:"card"},up={class:"card-header"},_p={class:"card-title"},mp={class:"card-body"},pp={class:"content"},hp={class:"container-fluid"},vp=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),bp=[vp],fp={class:"dispatch-table"},$p={class:"table-responsive"},yp={class:"table table-bordered table-hover table-sm"},gp=ke(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),kp=ke(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),wp={class:"text-center"},xp={class:"text-center"},Cp=ke(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),Sp=ke(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),Dp=["item"],Mp={class:"list-field"},Vp=ke(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Up={class:"list-field"},Ap=ke(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Pp={key:0},qp={class:"list-field"},Ip=ke(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Tp={key:0},Rp={class:"list-field"},Ep=ke(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),Lp={class:"list-field"},Yp=ke(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),Fp={class:"list-field"},Np=ke(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),Bp={class:"float-right"},jp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Op={class:"modal-dialog modal-sm",role:"document"},Hp={class:"modal-content"},zp=ke(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Jp={class:"modal-body"},Qp={class:"fromtocenter"},Gp=ke(()=>e("label",{for:"fromDate"},"From:",-1)),Wp=ke(()=>e("label",{for:"toDate"},"To:",-1)),Kp=ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Xp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Zp={class:"modal-dialog modal-sm",role:"document"},eh={class:"modal-content"},th=ke(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),sh={class:"modal-body"},ah={class:"container"},oh={class:"row"},lh=["onClick"],nh=ke(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),dh={__name:"MyVsc",setup(s){const b=`${he().name}`,m=_e(),n=r(!1),d=r(0),i=r(0),c=r(0),p=r([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),f=r((()=>{const g={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",g)})()),v=()=>{const g=document.getElementById("captureVSCContainer");tt(g).then(j=>{const A=j.toDataURL(),G=document.createElement("a");G.href=A,G.download=`${m.user.first_name+" "+m.user.last_name} - ${b}.png`,G.click()})},D=()=>{const g=document.getElementById("captureHitRateContainer");tt(g).then(j=>{const A=j.toDataURL(),G=document.createElement("a");G.href=A,G.download=`${m.user.first_name+" "+m.user.last_name} - My HIT RATE.png`,G.click()})};r(null),r("today");const u=r({data:[]}),C=r({data:[]}),O=()=>{n.value=!0,axios.get("/api/myvsc").then(g=>{n.value=!1,u.value=g.data.dailyTasks,C.value=g.data.TaskList,d.value=g.data.totaltasklist,i.value=g.data.totalcomplettask,c.value=g.data.totalpercentcomplete})},H=()=>{$("#FormModalfilterDate").modal("show")},L=r({start_date:"",end_date:""}),J=r(""),V=r("");ve([J],()=>{const g=new Date(J.value),j=g.getFullYear(),A=String(g.getMonth()+1).padStart(2,"0"),G=String(g.getDate()).padStart(2,"0");L.value.start_date=`${j}-${A}-${G}`}),ve([V],()=>{const g=new Date(V.value),j=g.getFullYear(),A=String(g.getMonth()+1).padStart(2,"0"),G=String(g.getDate()).padStart(2,"0");L.value.end_date=`${j}-${A}-${G}`});const I=()=>{n.value=!0,axios.get("/api/filter-vsc",{params:{start_date:L.value.start_date,end_date:L.value.end_date}}).then(g=>{n.value=!1,u.value=g.data.dailyTasks,C.value=g.data.TaskList}).catch(g=>{console.error(g)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},N=()=>{$("#FormModalPickerThemes").modal("show")},k=g=>{if(g){const j=m.user.id;axios.post("/api/changethemes",{userid:j,background:g.background,active_background:g.active_background,font_background:g.font_background}).then(A=>{$("#FormModalPickerThemes").modal("hide"),n.value=!0,axios.get("/api/myvsc").then(G=>{n.value=!1,u.value=G.data.dailyTasks,C.value=G.data.TaskList})}).catch(A=>{console.error(A)})}else console.error("Invalid item:",g)};return ue(()=>{O(),document.title=`SLI-DTS - ${b}`}),(g,j)=>(a(),o(B,null,[e("div",Ym,[e("div",Fm,[e("div",Nm,[e("div",Bm,[e("div",jm,[e("div",Om,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - "+t(b),1)]),e("div",Hm,[e("i",{onClick:j[0]||(j[0]=A=>N()),class:"fas fa-palette"})])]),e("div",zm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-sm btn-success"},Qm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:H})])]),n.value?(a(),ce(Ie,{key:0})):(a(),o("div",Gm,[(a(!0),o(B,null,X(u.value,A=>(a(),o("div",{class:"col-lg-3 col-6",key:A.id},[e("div",{class:"small-box",style:dt("background-color: "+(_(le)(A.taskdate).format("MMMM D, YYYY")===f.value?A.active_background==""?"#72461F":A.active_background:A.background==""?"#B98D65":A.background)+";")},[e("div",Wm,[e("div",Km,[q(t(_(le)(A.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Xm)]),e("div",Zm,t(_(le)(A.taskdate).format("MMMM D, YYYY")),1),A.tasktype!==6?(a(),o("div",ep,t(A.site_name),1)):U("",!0),A.tasktype===6?(a(),o("div",tp," Holiday ")):U("",!0),e("div",sp,[A.task_lists&&A.task_lists.length>0?(a(),o("div",ap,[op,(a(!0),o(B,null,X(A.task_lists,G=>(a(),o("ul",{class:"list-group list-group-flush",key:G.id},[e("li",lp,[e("div",np,[e("div",dp,[e("i",{class:P(G.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",ip,t(G.task_name),1)])])]))),128))])):U("",!0)])])],4)]))),128))])),e("div",cp,t(f.value),1)])]),e("div",rp,[e("div",up,[e("div",_p,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - My HIT RATE ",1)])]),e("div",mp,[e("div",pp,[e("div",hp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:D,type:"button",class:"mb-2 btn btn-sm btn-success"},bp)])]),e("div",fp,[e("div",$p,[e("table",yp,[gp,e("tbody",null,[(a(!0),o(B,null,X(C.value,A=>(a(),ce(Lm,{key:A.id,item:A},null,8,["item"]))),128)),e("tr",null,[kp,e("td",wp,[e("strong",null,t(d.value),1)]),e("td",xp,[e("strong",null,t(i.value),1)]),Cp,Sp,e("td",{class:P({"bg-danger":c.value>=0&&c.value<=59,"bg-orange":c.value>60&&c.value<=90,"bg-success":c.value===100,"text-center":!0})},[e("strong",null,t(c.value.toFixed(2)+"%"),1)],2)])])])])]),(a(!0),o(B,null,X(C.value,A=>(a(),o("div",{class:"dispatch-list",key:A.id,item:A},[e("div",{class:P([{"callout callout-success":A.remarks==="HIT","callout callout-danger":A.remarks==="MISS",callout:A.remarks===null}])},[e("div",Mp,[Vp,e("span",null,t(_(le)(A.taskdate).format("MMMM D, YYYY")),1)]),e("div",Up,[Ap,A.task_lists_count!==0?(a(),o("span",Pp,t(A.task_lists_count),1)):U("",!0)]),e("div",qp,[Ip,A.completed_task_count!==0?(a(),o("span",Tp,t(A.completed_task_count),1)):U("",!0)]),e("div",Rp,[Ep,e("span",null,t(A.remarks),1)]),e("div",Lp,[Yp,e("span",{class:P(["badge",A.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(A.status),1)],2)]),e("div",Fp,[Np,e("span",{class:P(["badge",{"bg-danger":A.percentage_completed>=0&&A.percentage_completed<=59},{"bg-orange":A.percentage_completed>60&&A.percentage_completed<=90},{"bg-success":A.percentage_completed===100}])},t(A.percentage_completed+"%"),3)])],2)],8,Dp))),128))])]),e("div",Bp,t(f.value),1)])])])])]),e("div",jp,[e("div",Op,[e("div",Hp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(b)+" Summary Report")]),zp]),e("div",Jp,[e("div",Qp,[e("div",null,[Gp,h(_(Ye),{modelValue:J.value,"onUpdate:modelValue":j[1]||(j[1]=A=>J.value=A)},null,8,["modelValue"])]),e("div",null,[Wp,h(_(Ye),{modelValue:V.value,"onUpdate:modelValue":j[2]||(j[2]=A=>V.value=A)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Kp,e("button",{onClick:I,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Xp,[e("div",Zp,[e("div",eh,[th,e("div",sh,[e("div",ah,[e("div",oh,[(a(!0),o(B,null,X(p.value,A=>(a(),o("div",{class:"col-md-4",key:A.background},[e("div",{class:"box",onClick:G=>k(A)},[e("div",{class:"column",style:dt({"background-color":A.background})}," \xA0 ",4),e("div",{class:"column",style:dt({"background-color":A.active_background})}," \xA0 ",4)],8,lh)]))),128))])])]),nh])])])],64))}};var ih=be(dh,[["__scopeId","data-v-e2739d90"]]);const ch={class:"text-center"},rh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(s){return me(),_e(),(b,m)=>(a(),o("tr",null,[e("td",null,t(s.item.sitename),1),e("td",null,t(_(le)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(s.item.startdate),1),e("td",null,t(s.item.enddate),1),e("td",null,t(s.item.tasktype.listtask),1),e("td",ch,[e("span",{class:P(["badge",s.item.status==="HIT"?"bg-success":"bg-danger"])},t(s.item.status),3)]),e("td",null,t(s.item.remarks),1)]))}};var uh=be(rh,[["__scopeId","data-v-b058f1b2"]]);const Pe=s=>(ye("data-v-00887440"),s=s(),ge(),s),_h={class:"content"},mh={class:"container-fluid"},ph={class:"card",id:"capturePrioContainer"},hh={class:"card-header"},vh={class:"card-title"},bh={class:"card-body"},fh={key:1,class:"content"},$h={class:"container-fluid"},yh=Pe(()=>e("i",{class:"fa fa-camera"},null,-1)),gh=[yh],kh={class:"dispatch-table"},wh={class:"table-responsive"},xh={class:"table table-bordered table-sm table-striped table-hover"},Ch=Pe(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Sh={key:0},Dh={key:1},Mh=Pe(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),Vh=[Mh],Uh=["item","index"],Ah={class:"card"},Ph={class:"card-body"},qh={class:"list-field"},Ih=Pe(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Th={class:"list-field"},Rh=Pe(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),Eh={class:"list-field"},Lh=Pe(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),Yh={class:"list-field"},Fh=Pe(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),Nh={class:"list-field"},Bh=Pe(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),jh={class:"list-field"},Oh=Pe(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Hh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zh={class:"modal-dialog modal-sm",role:"document"},Jh={class:"modal-content"},Qh=Pe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Gh={class:"modal-body"},Wh={class:"fromtocenter"},Kh=Pe(()=>e("label",{for:"fromDate"},"From:",-1)),Xh=Pe(()=>e("label",{for:"toDate"},"To:",-1)),Zh=Pe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ev={__name:"MyClosePrioList",setup(s){const b=`${he().name}`,m=r(!1);me();const n=r({data:[]}),d=r(""),i=r(""),c=_e(),p=(D=1)=>{m.value=!0,T.get(`/api/mycloseprio?page=${D}`,{params:{query:v.value}}).then(u=>{m.value=!1,n.value=u.data})},l=()=>{const D=document.getElementById("capturePrioContainer");tt(D).then(u=>{const C=u.toDataURL(),O=document.createElement("a");O.href=C,O.download="MY CLOSED PRIO.png",O.click()})},f=()=>{m.value=!0,T.get("/api/filter-closeprio",{params:{start_date:d.value,end_date:i.value}}).then(D=>{m.value=!1,n.value=D.data.dailyTasks}).catch(D=>{console.error(D)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},v=r(null);return ve(v,Ae.exports.debounce(()=>{p()},300)),ue(()=>{p(),document.title=`SLI-DTS - ${b}`}),(D,u)=>{const C=fe("font");return a(),o(B,null,[e("div",_h,[e("div",mh,[e("div",ph,[e("div",hh,[e("div",vh,[e("h5",null,t(_(c).user.first_name+" "+_(c).user.last_name)+" - My Closed Prio ",1)])]),e("div",bh,[m.value?(a(),ce(Ie,{key:0})):(a(),o("div",fh,[e("div",$h,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},gh)])]),e("div",null,[e("div",kh,[e("div",wh,[h(C,{size:"2"},{default:Z(()=>[e("table",xh,[Ch,n.value.data.length>0?(a(),o("tbody",Sh,[(a(!0),o(B,null,X(n.value.data,(O,H)=>(a(),ce(uh,{key:O.id,item:O,index:H},null,8,["item","index"]))),128))])):(a(),o("tbody",Dh,Vh))])]),_:1})])]),(a(!0),o(B,null,X(n.value.data,(O,H)=>(a(),o("div",{class:"dispatch-list first-letter:shadow",key:O.id,item:O,index:H},[e("div",Ah,[e("div",Ph,[e("div",qh,[Ih,e("span",null,t(O.sitename),1)]),e("div",Th,[Rh,e("span",null,t(_(le)(O.taskdate).format("MMMM D, YYYY")),1)]),e("div",Eh,[Lh,e("span",null,t(O.startdate),1)]),e("div",Yh,[Fh,e("span",null,t(O.enddate),1)]),e("div",Nh,[Bh,e("span",null,t(O.tasktype.listtask),1)]),e("div",jh,[Oh,e("span",{class:P(["badge",O.remarks==="HIT"?"bg-success":"bg-danger"])},t(O.remarks),3)])])])],8,Uh))),128))])])]))])]),h(_(Ee),{data:n.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",Hh,[e("div",zh,[e("div",Jh,[Qh,e("div",Gh,[e("div",Wh,[e("div",null,[Kh,h(_(Ye),{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=O=>d.value=O)},null,8,["modelValue"])]),e("div",null,[Xh,h(_(Ye),{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=O=>i.value=O)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Zh,e("button",{onClick:f,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var tv=be(ev,[["__scopeId","data-v-00887440"]]);const sv={class:"text-center"},av=e("i",{class:"fa fa-edit"},null,-1),ov=[av],lv={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:b}){return me(),(m,n)=>(a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",sv,[e("a",{href:"#",onClick:n[0]||(n[0]=se(d=>m.$emit("editUser",s.user),["prevent"]))},ov)])]))}},nv={class:"content"},dv={class:"container-fluid"},iv={class:"card"},cv={class:"card-header"},rv=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),uv={class:"card-tools"},_v={class:"card-body"},mv={class:"table-responsive"},pv={class:"table table-bordered table-hover table-sm"},hv=e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Action")])],-1),vv={key:0},bv={key:1},fv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),$v=[fv],yv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gv={class:"modal-dialog modal-sm",role:"document"},kv={class:"modal-content"},wv={class:"modal-header"},xv={class:"modal-title",id:"staticBackdropLabel"},Cv={key:0},Sv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Dv={class:"modal-body"},Mv={class:"table table-sm"},Vv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Uv={colspan:"5"},Av={class:"custom-control custom-checkbox"},Pv=["value","id"],qv=["for"],Iv={key:0,class:"table table-sm"},Tv={class:"text-danger"},Rv={class:"custom-control custom-checkbox"},Ev=["value","id"],Lv=["for"],Yv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Fv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Nv={class:"modal-dialog",role:"document"},Bv={class:"modal-content"},jv=Se('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ov={class:"modal-footer"},Hv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),zv={__name:"UserMenuList",setup(s){const b=`${he().name}`,m=me(),n=r({data:[]}),d=r(!1),i=r(),c=r(null),p=r(null),l=r(),f=r([]),v=(V=1)=>{T.get(`/api/users?page=${V}`,{params:{query:C.value}}).then(I=>{n.value=I.data,O.value=[],selectAll.value=!1})},D=V=>{T.get(`/web/usermenu/${V.id}`).then(I=>{l.value=I.data,f.value=[],l.value.forEach(N=>{N.hasAccess===1&&f.value.push(N.menu_id),N.submenus.forEach(k=>{k.hasAccess===1&&f.value.push(k.menu_id)})})}).catch(I=>{console.log(I)}),d.value=!0,c.value.resetForm(),$("#userFormModal").modal("show"),i.value={id:V.id,username:V.username,email:V.email,first_name:V.first_name,last_name:V.last_name},p.value=i.value.first_name+" "+i.value.last_name},u=()=>{const V={user_id:i.value.id,menu_id:f.value};console.log(V),T.post("/web/usermenu",V).then(I=>{m.success("User Menu Save successfully!")}).catch(I=>{setErrors(I.response.data.errors)})},C=r(null),O=r([]),H=V=>{const I=O.value.indexOf(V.id);I===-1?O.value.push(V.id):O.value.splice(I,1),console.log(O.value)},L=r(null),J=V=>{L.value=V,$("#deleteUserModal").modal("show")};return ve(C,Ae.exports.debounce(()=>{v()},300)),ue(()=>{v(),document.title=`SLI-DTS - ${b}`}),(V,I)=>{const N=fe("font");return a(),o(B,null,[e("div",nv,[e("div",dv,[e("div",iv,[e("div",cv,[rv,e("div",uv,[te(e("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=k=>C.value=k),class:"form-control",placeholder:"Search..."},null,512),[[ie,C.value]])])]),e("div",_v,[e("div",mv,[h(N,{size:"2"},{default:Z(()=>[e("table",pv,[hv,n.value.data.length>0?(a(),o("tbody",vv,[(a(!0),o(B,null,X(n.value.data,(k,g)=>(a(),ce(lv,{key:k.id,user:k,index:g,onEditUser:D,onConfirmUserDeletion:J,onToggleSelection:H,"select-all":V.selectAll},null,8,["user","index","select-all"]))),128))])):(a(),o("tbody",bv,$v))])]),_:1})])])]),h(_(Ee),{data:n.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",yv,[e("div",gv,[e("div",kv,[e("div",wv,[e("h5",xv,[d.value?(a(),o("span",Cv,"User Menu for "+t(p.value),1)):U("",!0)]),Sv]),h(_(qe),{ref_key:"form",ref:c,onSubmit:u,"initial-values":i.value},{default:Z(()=>[e("div",Dv,[e("table",Mv,[Vv,(a(!0),o(B,null,X(l.value,k=>(a(),o("tr",{key:k.menu_id},[e("td",Uv,[e("div",Av,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=g=>f.value=g),value:k.menu_id,id:"menu_id_"+k.menu_id},null,8,Pv),[[Le,f.value]]),e("label",{for:"menu_id_"+k.menu_id,class:"custom-control-label"},t(k.menu_title),9,qv)]),k.submenus&&k.submenus.length>0?(a(),o("table",Iv,[(a(!0),o(B,null,X(k.submenus,g=>(a(),o("tr",{key:g.id},[e("td",Tv,[e("div",Rv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":I[2]||(I[2]=j=>f.value=j),value:g.menu_id,id:"menu_id_"+g.menu_id},null,8,Ev),[[Le,f.value]]),e("label",{for:"menu_id_"+g.menu_id,class:"custom-control-label"},t(g.menu_title),9,Lv)])])]))),128))])):U("",!0)])]))),128))])]),Yv]),_:1},8,["initial-values"])])])]),e("div",Fv,[e("div",Nv,[e("div",Bv,[jv,e("div",Ov,[Hv,e("button",{onClick:I[3]||(I[3]=se((...k)=>V.deleteUser&&V.deleteUser(...k),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const ft=s=>(ye("data-v-a1892af4"),s=s(),ge(),s),Jv=["checked"],Qv=["innerHTML"],Gv={style:{"text-align":"center"}},Wv={class:"text-center"},Kv=ft(()=>e("i",{class:"fa fa-edit"},null,-1)),Xv=[Kv],Zv=ft(()=>e("i",{class:"fa fa-trash"},null,-1)),eb=[Zv],tb={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(s,{emit:b}){me(),_e();const m=s,n=b,d=()=>{n("toggleSelection",m.item)};return(i,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:d},null,40,Jv)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.menu_title),1),e("td",null,t(s.item.parent_title),1),e("td",null,t(s.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${s.item.menu_icon}'></i>`},null,8,Qv),e("td",null,t(s.item.sort_order),1),e("td",Gv,[e("i",{class:P(s.item.is_active===!0?"fas fa-check":"far fa-circle")},null,2)]),e("td",null,t(s.item.created_at),1),e("td",Wv,[e("button",{class:"btn btn-sm bg-primary",onClick:c[0]||(c[0]=se(p=>i.$emit("editMenu",s.item),["prevent"]))},Xv),q("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:c[1]||(c[1]=se(p=>i.$emit("confirmDeletion",s.item.menu_id),["prevent"]))},eb)])]))}};var sb=be(tb,[["__scopeId","data-v-a1892af4"]]);const ab=["type","name","value"],ob=e("span",{class:"check"},null,-1),lb={class:"pl-2"},nb={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,n=b,d=xe({get:()=>m.modelValue,set:c=>{n("update:modelValue",c)}}),i=xe(()=>m.type==="radio"?"radio":"checkbox");return(c,p)=>(a(),o("label",{class:P([s.type,"mr-6 mb-3 last:mr-0"])},[te(e("input",{"onUpdate:modelValue":p[0]||(p[0]=l=>d.value=l),type:i.value,name:s.name,value:s.inputValue},null,8,ab),[[rt,d.value]]),ob,e("span",lb,t(s.label),1)],2))}},db={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,n=b,d=xe({get:()=>m.modelValue,set:i=>{n("update:modelValue",i)}});return(i,c)=>(a(),o("div",{class:P(["flex justify-start flex-wrap -mb-3",{"flex-col":s.isColumn}])},[(a(!0),o(B,null,X(s.options,(p,l)=>(a(),ce(nb,{key:l,modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=f=>d.value=f),type:s.type,name:s.name,"input-value":l,label:p,class:P(s.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},ib={class:"content"},cb={class:"container-fluid"},rb={class:"d-flex justify-content-between"},ub={class:"d-flex"},_b=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),mb={key:0},pb=e("i",{class:"fa fa-trash mr-1"},null,-1),hb={class:"ml-2"},vb={class:"card"},bb={class:"card-body"},fb={class:"table-responsive"},$b={class:"table table-bordered table-sm"},yb=e("th",{style:{width:"10px"}},"#",-1),gb=e("th",null,"Title",-1),kb=e("th",null,"Parent Menu",-1),wb=e("th",null,"Route",-1),xb=e("th",null,"Icon",-1),Cb=e("th",null,"Sort",-1),Sb=e("th",null,"Active",-1),Db=e("th",null,"Date",-1),Mb=e("th",null,"Action",-1),Vb={key:0},Ub={key:1},Ab=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Pb=[Ab],qb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ib={class:"modal-dialog modal-sm",role:"document"},Tb={class:"modal-content"},Rb={class:"modal-header"},Eb={class:"modal-title",id:"staticBackdropLabel"},Lb={key:0},Yb={key:1},Fb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Nb={class:"modal-body"},Bb={class:"col-md-12"},jb={class:"row"},Ob={class:"col-12"},Hb={class:"form-group"},zb=e("label",{for:"user"},"Menu Title",-1),Jb={class:"invalid-feedback"},Qb={class:"form-group"},Gb=e("label",{for:"department"},"Parent Menu",-1),Wb=e("option",{value:"0"},"None",-1),Kb=["value"],Xb={class:"form-group"},Zb=e("label",{for:"warehouse"},"Icon",-1),e1={class:"invalid-feedback"},t1={class:"form-group"},s1=e("label",{for:"user"},"Route",-1),a1={class:"invalid-feedback"},o1={class:"form-group"},l1=e("label",{for:"user"},"Sort",-1),n1={class:"invalid-feedback"},d1={class:"form-group"},i1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),c1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r1={class:"modal-dialog",role:"document"},u1={class:"modal-content"},_1=Se('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),m1={class:"modal-footer"},p1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),h1={__name:"MenuList",setup(s){const b=`${he().name}`,m=me(),n=r({data:[]}),d=r({data:[]}),i=r(!1),c=r(!1);r();const p=r(!0),l=Me({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),f=_e();r(null);const v=r(),D=(ee=1)=>{i.value=!0,T.get(`/web/menulist?page=${ee}`,{params:{query:V.value}}).then(F=>{i.value=!1,n.value=F.data,I.value=[],G.value=!1})},u=()=>{T.get("/web/GetParentId").then(ee=>{d.value=ee.data}).catch(ee=>{console.error(ee)})};De({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()}),De({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()});const C=({resetForm:ee,setErrors:F})=>{T.post("/web/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(M=>{n.value.data.unshift(M.data),$("#FormModal").modal("hide"),ee(),m.success("User created successfully!")}).catch(M=>{M.response.data.errors&&F(M.response.data.errors)})},O=()=>{c.value=!1,$("#FormModal").modal("show")},H=ee=>{c.value=!0,l.menu_id=ee.menu_id,l.menu_title=ee.menu_title,l.parent_id=ee.parent_id,l.menu_icon=ee.menu_icon,l.menu_route=ee.menu_route,l.sort_order=ee.sort_order,l.is_active===1?p.value=!0:p.value=!1,l.is_active=ee.is_active,$("#FormModal").modal("show"),v.value=ee.parent_id},L=({setErrors:ee})=>{T.post("/web/menulist",l).then(F=>{D(),$("#FormModal").modal("hide"),m.success("successfully Updated!")}).catch(F=>{ee(F.response.data.errors),console.log(F)})},J=(ee,F)=>{c.value?L(ee):C(ee)},V=r(null),I=r([]),N=ee=>{const F=I.value.indexOf(ee.id);F===-1?I.value.push(ee.id):I.value.splice(F,1),console.log(I.value)},k=r(null),g=ee=>{k.value=ee,$("#deleteClientModal").modal("show")},j=()=>{T.delete(`/web/menu/${k.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Menu deleted successfully!"),n.value.data=n.value.data.filter(ee=>ee.menu_id!==k.value)})},A=()=>{T.delete("menulist",{data:{ids:I.value}}).then(ee=>{n.value.data=n.value.data.filter(F=>!I.value.includes(F.id)),I.value=[],G.value=!1,m.success(ee.data.message)})},G=r(!1),pe=()=>{G.value?I.value=n.value.data.map(ee=>ee.id):I.value=[],console.log(I.value)};return ve([p],ee=>{l.is_active=ee?1:0}),ve(V,Ae.exports.debounce(()=>{D()},300)),ue(()=>{D(),u(),document.title=`SLI-DTS - ${b}`}),(ee,F)=>{const M=fe("font");return a(),o(B,null,[e("div",ib,[e("div",cb,[e("div",rb,[e("div",ub,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary"},[_b,q(" Menu ")]),I.value.length>0?(a(),o("div",mb,[e("button",{onClick:A,type:"button",class:"ml-2 mb-2 btn btn-danger"},[pb,q(" Delete Selected ")]),e("span",hb,"Selected "+t(I.value.length)+" Menu",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":F[0]||(F[0]=w=>V.value=w),class:"form-control",placeholder:"Search..."},null,512),[[ie,V.value]])])]),e("div",vb,[e("div",bb,[i.value?(a(),ce(Ie,{key:0})):U("",!0),e("div",fb,[h(M,{size:"2"},{default:Z(()=>[e("table",$b,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":F[1]||(F[1]=w=>G.value=w),onChange:pe},null,544),[[Le,G.value]])]),yb,gb,kb,wb,xb,Cb,Sb,Db,Mb])]),n.value.data.length>0?(a(),o("tbody",Vb,[(a(!0),o(B,null,X(n.value.data,(w,S)=>(a(),ce(sb,{key:w.id,item:w,index:S,onEditMenu:H,onConfirmDeletion:g,onToggleSelection:N,"select-all":G.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Ub,Pb))])]),_:1})])])]),h(_(Ee),{data:n.value,onPaginationChangePage:D},null,8,["data"])])]),e("div",qb,[e("div",Ib,[e("div",Tb,[e("div",Rb,[e("h5",Eb,[c.value?(a(),o("span",Lb,"Edit Menu")):(a(),o("span",Yb,"Add Menu"))]),Fb]),h(_(qe),{onSubmit:J},{default:Z(({errors:w})=>[e("div",Nb,[e("div",Bb,[e("div",jb,[e("div",Ob,[h(_(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(f).user.id,"onUpdate:modelValue":F[2]||(F[2]=S=>_(f).user.id=S)},null,8,["modelValue"]),e("div",Hb,[zb,h(_(Q),{name:"menu_title",type:"text",class:P(["form-control",{"is-invalid":w.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":F[3]||(F[3]=S=>l.menu_title=S)},null,8,["class","modelValue"]),e("span",Jb,t(w.menu_title),1)]),e("div",Qb,[Gb,te(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":F[4]||(F[4]=S=>l.parent_id=S)},[Wb,(a(!0),o(B,null,X(d.value,S=>(a(),o("option",{key:S.menu_id,value:S.menu_id},t(S.menu_title),9,Kb))),128))],512),[[Re,l.parent_id]])]),e("div",Xb,[Zb,h(_(Q),{name:"menu_icon",type:"text",class:P(["form-control",{"is-invalid":w.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":F[5]||(F[5]=S=>l.menu_icon=S)},null,8,["class","modelValue"]),e("span",e1,t(w.menu_icon),1)]),e("div",t1,[s1,h(_(Q),{name:"menu_route",type:"text",class:P(["form-control",{"is-invalid":w.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":F[6]||(F[6]=S=>l.menu_route=S)},null,8,["class","modelValue"]),e("span",a1,t(w.menu_route),1)]),e("div",o1,[l1,h(_(Q),{name:"sort_order",type:"text",class:P(["form-control",{"is-invalid":w.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":F[7]||(F[7]=S=>l.sort_order=S)},null,8,["class","modelValue"]),e("span",n1,t(w.sort_order),1)]),e("div",d1,[h(db,{modelValue:l.is_active,"onUpdate:modelValue":F[8]||(F[8]=S=>l.is_active=S),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),i1]),_:1})])])]),e("div",c1,[e("div",r1,[e("div",u1,[_1,e("div",m1,[p1,e("button",{onClick:se(j,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}},v1={class:"error-page"},b1=Se('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),f1=[b1],$1="Page Not Found",$t={__name:"404",setup(s){return ue(()=>{document.title=$1}),(b,m)=>(a(),o("div",v1,f1))}};const re=s=>(ye("data-v-5c8db172"),s=s(),ge(),s),y1={id:"exportPDF"},g1={class:"container"},k1=re(()=>e("br",null,null,-1)),w1={class:"header"},x1=["src"],C1=["src"],S1={class:"header"},D1={class:"header-justify-space-between"},M1=re(()=>e("br",null,null,-1)),V1=re(()=>e("p",null,null,-1)),U1={key:0},A1=re(()=>e("strong",null,null,-1)),P1=re(()=>e("br",null,null,-1)),q1=re(()=>e("br",null,null,-1)),I1=re(()=>e("p",null,null,-1)),T1=re(()=>e("strong",null,"Unit details",-1)),R1={class:"content"},E1={class:"header-justify-space-between"},L1=re(()=>e("span",null,"Brand:",-1)),Y1=re(()=>e("br",null,null,-1)),F1=re(()=>e("span",null,"Model:",-1)),N1=re(()=>e("br",null,null,-1)),B1=re(()=>e("div",null,null,-1)),j1=re(()=>e("span",null,"Serial #:",-1)),O1=re(()=>e("br",null,null,-1)),H1=re(()=>e("span",null,"Asset Tag:",-1)),z1=re(()=>e("br",null,null,-1)),J1=re(()=>e("div",null,null,-1)),Q1=re(()=>e("strong",null,"Reported problem",-1)),G1={class:"content"},W1=re(()=>e("strong",null,"Assessment conducted",-1)),K1={class:"content"},X1=re(()=>e("strong",null,"Recommendation",-1)),Z1={class:"content"},ef={class:"header-justify-space-between"},tf=re(()=>e("strong",null,"Evaluated by:",-1)),sf=re(()=>e("br",null,null,-1)),af={class:"botoom-line"},of=re(()=>e("br",null,null,-1)),lf=re(()=>e("p",null,null,-1)),nf=re(()=>e("strong",null,"Noted by:",-1)),df=re(()=>e("br",null,null,-1)),cf={class:"botoom-line"},rf=re(()=>e("br",null,null,-1)),uf=re(()=>e("br",null,null,-1)),_f=re(()=>e("p",null,null,-1)),mf={key:0},pf={key:1},hf={key:0,class:"fab-container"},vf=re(()=>e("i",{class:"fas fa-download"},null,-1)),bf=[vf],ff={__name:"TechRecommApproved",setup(s){const b=`${he().params.id}`,m=()=>{const i=document.getElementById("exportPDF");Ge().from(i).save(`${b}.pdf`)},n=Me({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),d=()=>{T.get(`/api/tech-recommendations/${he().params.id}`).then(i=>{n.id=i.data.id,n.recommnum=i.data.recommnum,n.branch=i.data.branch,n.company=i.data.company,n.department=i.data.department,n.warehouse=i.data.warehouse,n.user=i.data.user,n.problem=i.data.problem,n.brand=i.data.brand,n.model=i.data.model,n.assettag=i.data.assettag,n.serialnum=i.data.serialnum,n.status=i.data.status,n.assconducted=i.data.assconducted,n.recommendation=i.data.recommendation,n.createdby=i.data.createdby.cfull_name,n.updatedby=i.data.updatedby.ufull_name,n.created_at=le(i.data.created_at).format("MMMM D, YYYY"),n.updated_at=le(i.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),n.created_position=i.data.createdby.cposition,n.updated_position=i.data.updatedby.uposition}).catch(i=>{actions.setErrors(i.response.data.errors)})};return ue(()=>{d(),document.title=b}),(i,c)=>(a(),o(B,null,[e("div",y1,[e("div",g1,[k1,e("div",w1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,x1),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,C1)]),e("div",S1,[e("span",null,[q("Recommendation No: "),e("strong",null,t(n.recommnum),1)]),e("span",null,[q("Date Checked: "),e("strong",null,t(n.created_at),1)])]),e("div",D1,[e("div",null,[e("span",null,[q("Company: "),e("strong",null,t(n.company),1)]),M1,e("span",null,[q("Branch: "),e("strong",null,t(n.branch),1)])]),V1,e("div",null,[n.warehouse==""?(a(),o("span",U1,[q("Warehouse: "),A1,q(t(n.warehouse),1)])):U("",!0),P1,e("span",null,[q("User: "),e("strong",null,t(n.user),1)]),q1,e("span",null,[q("Department: "),e("strong",null,t(n.department),1)])]),I1]),T1,e("div",R1,[e("div",E1,[e("div",null,[L1,e("strong",null,t(n.brand),1),Y1,F1,e("strong",null,t(n.model),1),N1]),B1,e("div",null,[j1,e("strong",null,t(n.serialnum),1),O1,H1,e("strong",null,t(n.assettag),1),z1]),J1])]),Q1,e("div",G1,[e("p",null,t(n.problem),1)]),W1,e("div",K1,[e("p",null,t(n.assconducted),1)]),X1,e("div",Z1,[e("p",null,t(n.recommendation),1)]),e("div",ef,[e("div",null,[tf,sf,e("span",af,t(n.createdby),1),of,e("span",null,t(n.created_position),1)]),lf,e("div",null,[nf,df,e("span",cf,t(n.updatedby),1),rf,e("span",null,t(n.updated_position),1),uf]),_f]),n.status===2?(a(),o("span",mf,"Approved date:("+t(n.updated_at)+")",1)):(a(),o("span",pf,"Pending"))])]),n.status===2?(a(),o("div",hf,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=p=>m())},bf)])):U("",!0)],64))}};var yt=be(ff,[["__scopeId","data-v-5c8db172"]]);const $f={},yf={class:"card mx-auto",style:{"max-width":"600px"}},gf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),kf={class:"card-body"},wf={class:"list-unstyled"};function xf(s,b){return a(),o("div",yf,[gf,e("div",kf,[e("ul",wf,[e("li",{class:"nav-item dropdown",onClick:b[0]||(b[0]=(...m)=>s.fetchNotifications&&s.fetchNotifications(...m))})])])])}var Cf=be($f,[["render",xf]]);const Sf=["checked"],Df={class:"text-center"},Mf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(s,{emit:b}){me(),_e();const m=s,n=b,d=()=>{n("toggleSelection",m.item)};return(i,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:d},null,40,Sf)]),e("td",null,t(s.index+1),1),e("td",{onClick:c[0]||(c[0]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.site_name),1),e("td",{onClick:c[1]||(c[1]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_name),1),e("td",{onClick:c[2]||(c[2]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_type),1),e("td",{onClick:c[3]||(c[3]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.serial),1),e("td",{onClick:c[4]||(c[4]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.date_acquired),1),e("td",{onClick:c[5]||(c[5]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.man_supplier),1),e("td",{onClick:c[6]||(c[6]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.unit),1),e("td",{onClick:c[7]||(c[7]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[8]||(c[8]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[9]||(c[9]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.created_by),1),e("td",{onClick:c[10]||(c[10]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.created_at),1),e("td",{onClick:c[11]||(c[11]=se(p=>i.$emit("viewData",s.item),["prevent"]))},t(s.item.updated_by),1),e("td",Df,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:c[12]||(c[12]=se(p=>i.$emit("editData",s.item),["prevent"]))}),q(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:c[13]||(c[13]=se(p=>i.$emit("confirmDeletion",s.item.id),["prevent"]))})])])]))}};var Vf=be(Mf,[["__scopeId","data-v-78d9436c"]]);const Uf={class:"content"},Af={class:"container-fluid"},Pf={class:"d-flex justify-content-between"},qf={class:"d-flex"},If=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Tf={key:0},Rf=e("i",{class:"fa fa-trash mr-1"},null,-1),Ef={class:"ml-2"},Lf={class:"card"},Yf={class:"card-body"},Ff={class:"table-responsive"},Nf={class:"table table-bordered table-sm table-striped hover"},Bf=e("th",{style:{width:"10px"}},"#",-1),jf=e("th",null,"Site",-1),Of=e("th",null,"Asset",-1),Hf=e("th",null,"Asset type",-1),zf=e("th",null,"Serial",-1),Jf=e("th",null,"Date Aquired",-1),Qf=e("th",null,"Supplier",-1),Gf=e("th",null,"Unit",-1),Wf=e("th",null,"Purchase Cost",-1),Kf=e("th",null,"Unit Value",-1),Xf=e("th",null,"Createdby",-1),Zf=e("th",null,"CreatedAt",-1),e$=e("th",null,"Updatedby",-1),t$=e("th",null,"Action",-1),s$={key:0},a$={key:1},o$=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),l$=[o$],n$={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},d$={class:"modal-dialog modal-lg",role:"document"},i$={class:"modal-content"},c$={class:"modal-header"},r$={class:"modal-title",id:"staticBackdropLabel"},u$={key:0},_$={key:1},m$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),p$={class:"modal-body"},h$={class:"col-md-12"},v$={class:"row"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"branch"},"Site",-1),y$=e("option",{value:"",disabled:""}," Select Site ",-1),g$=["value"],k$={class:"invalid-feedback"},w$={class:"form-group"},x$=e("label",{for:"department"},"Asset Name",-1),C$={class:"invalid-feedback"},S$={class:"form-group"},D$=e("label",{for:"asset_type"},"Asset Type",-1),M$={class:"invalid-feedback"},V$={class:"form-group"},U$=e("label",{for:"serial"},"Serial #:",-1),A$={class:"invalid-feedback"},P$={class:"col-6"},q$={class:"form-group"},I$=e("label",{for:"date_acquired"},"Date Acquired",-1),T$={class:"invalid-feedback"},R$={class:"form-group"},E$=e("label",{for:"man_supplier"},"Brand",-1),L$={class:"invalid-feedback"},Y$={class:"form-group"},F$=e("label",{for:"unit"},"Unit",-1),N$={class:"invalid-feedback"},B$={class:"row"},j$={class:"col-6"},O$={class:"form-group"},H$=e("label",{for:"paccountable"},"Person Accountable",-1),z$={class:"invalid-feedback"},J$={class:"col-6"},Q$={class:"form-group"},G$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),W$={class:"invalid-feedback"},K$={class:"row"},X$={class:"col-6"},Z$={class:"form-group"},ey=e("label",{for:"cucodition"},"Current Condition",-1),ty=e("option",{value:"",disabled:""}," Select Condition ",-1),sy=e("option",{value:"Fair"}," FAIR ",-1),ay=e("option",{value:"Good"}," GOOD ",-1),oy=e("option",{value:"Damange"}," DAMANGE ",-1),ly={class:"invalid-feedback"},ny={class:"form-group"},dy=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),iy={class:"col-6"},cy={class:"form-group"},ry=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),uy={class:"form-group"},_y=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),my={class:"row"},py={class:"col-6"},hy={class:"form-group"},vy=e("label",{for:"operationhours"},"Operating Hours",-1),by={class:"col-6"},fy={class:"form-group"},$y=e("label",{for:"notes"},"Notes",-1),yy={class:"invalid-feedback"},gy={class:"row"},ky={class:"col-6"},wy={class:"form-group"},xy=e("label",{for:"purchasecost"},"Purchase Cost",-1),Cy={class:"input-group mb-3"},Sy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),Dy={class:"form-group"},My=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),Vy={class:"input-group mb-3"},Uy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),Ay={class:"col-6"},Py={class:"form-group"},qy=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),Iy={class:"invalid-feedback"},Ty=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Ry={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ey={class:"modal-dialog",role:"document"},Ly={class:"modal-content"},Yy=Se('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Fy={class:"modal-footer"},Ny=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),By={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},jy={class:"modal-dialog",role:"document"},Oy={class:"modal-content"},Hy=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),zy={class:"modal-body"},Jy={class:"table table-striped table-sm table-hover"},Qy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Gy=e("td",null,"Site",-1),Wy=e("td",null,"Assit Name",-1),Ky=e("td",null,"Assit Type",-1),Xy=e("td",null,"Serial No.",-1),Zy=e("td",null,"Date Acquired",-1),eg=e("td",null,"Brand",-1),tg=e("td",null,"Unit",-1),sg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),ag=e("td",null,"Personal Accountable",-1),og=e("td",null,"Transfer Location",-1),lg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),ng=e("td",null,"Current Condition",-1),dg=e("td",null,"Maintenance Note",-1),ig=e("td",null,"Last Maintenance",-1),cg=e("td",null,"Next Maintenance",-1),rg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),ug=e("td",null,"Operation Hours",-1),_g=e("td",null,"Notes",-1),mg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),pg=e("td",null,"Purchase Cost",-1),hg=e("td",null,"Unit Value",-1),vg=e("td",null,"Warranty information",-1),bg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),fg={__name:"AssetmList",setup(s){he(),Be(),_e();const b=`${he().name}`,m=me(),n=r({data:[]});r({data:[]});const d=r(!1),i=r(!1),c=r(),p=r(!0),l=Me({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});r(null),r();const f=r(),v=(M=1)=>{d.value=!0,T.get(`/web/asset-monitoring?page=${M}`,{params:{query:N.value}}).then(w=>{d.value=!1,n.value=w.data,k.value=[],ee.value=!1})},D=De({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()}),u=De({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()}),C=()=>{T.post("/web/asset-monitoring",l).then(M=>{$("#FormModal").modal("hide"),v(),m.success(M.data.message)}).catch(M=>{m.error(M.data.message)})},O=()=>{i.value=!1,$("#FormModal").modal("show")},H=M=>{l.site_name=M.site_name,l.id=M.id,l.site_id=M.site_id,l.asset_name=M.asset_name,l.asset_type=M.asset_type,l.serial=M.serial,l.date_acquired=M.date_acquired,l.man_supplier=M.man_supplier,l.unit=M.unit,l.location=M.location,l.paccountable=M.paccountable,l.locationchangetranfer=M.locationchangetranfer,l.cucodition=M.cucodition,l.purchasecost=M.purchasecost,l.maintenancenotes=M.maintenancenotes,l.ceated_by=M.ceated_by,l.updated_by=M.updated_by,l.Depreciationcostbyyear=M.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},L=M=>{i.value=!0,l.id=M.id,l.site_id=M.site_id,l.asset_name=M.asset_name,l.asset_type=M.asset_type,l.serial=M.serial,l.date_acquired=M.date_acquired,l.man_supplier=M.man_supplier,l.unit=M.unit,l.location=M.location,l.paccountable=M.paccountable,l.locationchangetranfer=M.locationchangetranfer,l.cucodition=M.cucodition,l.purchasecost=M.purchasecost,l.depreciationcost=M.depreciationcost,l.maintenancenotes=M.maintenancenotes,l.ceated_by=M.ceated_by,l.updated_by=M.updated_by,$("#FormModal").modal("show")},J=({setErrors:M})=>{T.post("/web/asset-monitoring",l).then(w=>{v(),$("#FormModal").modal("hide"),m.success("Data successfully Updated!")}).catch(w=>{M(w.response.data.errors),console.log(w)})},V=(M,w)=>{i.value?J(M):C()},I=()=>{T.get("/web/getsite").then(M=>{f.value=M.data.sites}).catch(M=>{console.log(M)})},N=r(null),k=r([]),g=M=>{const w=k.value.indexOf(M.id);w===-1?k.value.push(M.id):k.value.splice(w,1),console.log(k.value)},j=r(null),A=M=>{j.value=M,$("#deleteClientModal").modal("show")},G=()=>{T.delete(`/web/asset-monitoring/${j.value}`).then(M=>{$("#deleteClientModal").modal("hide"),m.success(M.data.message),v()})},pe=()=>{const M=k.value.join(",");sessionStorage.setItem("selectedItems",M);const w="/asset-monitoring/bulkPrint/print";window.open(w,"_blank")},ee=r(!1),F=()=>{ee.value?k.value=n.value.data.map(M=>M.id):k.value=[],console.log(k.value)};return ve([p],M=>{l.is_active=M?1:0}),ve(N,Ae.exports.debounce(()=>{v()},300)),ue(()=>{v(),I(),document.title=`SLI-DTS - ${b}`}),(M,w)=>{const S=fe("font"),ae=fe("tab-content"),de=fe("form-wizard");return a(),o(B,null,[e("div",Uf,[e("div",Af,[e("div",Pf,[e("div",qf,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary"},[If,q(" Asset ")]),k.value.length>0?(a(),o("div",Tf,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-success"},[Rf,q(" Print Selected ")]),e("span",Ef,"Selected "+t(k.value.length)+" Record",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=E=>N.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ie,N.value]])])]),e("div",Lf,[e("div",Yf,[d.value?(a(),ce(Ie,{key:0})):U("",!0),e("div",Ff,[h(S,{size:"2"},{default:Z(()=>[e("table",Nf,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":w[1]||(w[1]=E=>ee.value=E),onChange:F},null,544),[[Le,ee.value]])]),Bf,jf,Of,Hf,zf,Jf,Qf,Gf,Wf,Kf,Xf,Zf,e$,t$])]),n.value.data.length>0?(a(),o("tbody",s$,[(a(!0),o(B,null,X(n.value.data,(E,Y)=>(a(),ce(Vf,{key:E.id,item:E,index:Y,onViewData:H,onEditData:L,onConfirmDeletion:A,onToggleSelection:g,"select-all":ee.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",a$,l$))])]),_:1})])])]),h(_(Ee),{data:n.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",n$,[e("div",d$,[e("div",i$,[e("div",c$,[e("h5",r$,[i.value?(a(),o("span",u$,"Edit Asset")):(a(),o("span",_$,"Add Asset"))]),m$]),h(_(qe),{onSubmit:V,"validation-schema":i.value?_(u):_(D),"initial-values":c.value},{default:Z(({errors:E})=>[e("div",p$,[e("div",h$,[h(de,{onOnComplete:C,color:"#094899","step-size":"xs"},{default:Z(()=>[h(ae,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",v$,[e("div",b$,[e("div",f$,[$$,h(_(Q),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":w[2]||(w[2]=Y=>l.site_id=Y)},{default:Z(()=>[y$,(a(!0),o(B,null,X(f.value,Y=>(a(),o("option",{key:Y.id,value:Y.id},t(Y.name),9,g$))),128))]),_:2},1032,["class","modelValue"]),e("span",k$,t(E.branch),1)]),e("div",w$,[x$,h(_(Q),{name:"asset_name",type:"text",class:P(["form-control",{"is-invalid":E.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":w[3]||(w[3]=Y=>l.asset_name=Y)},null,8,["class","modelValue"]),e("span",C$,t(E.asset_name),1)]),e("div",S$,[D$,h(_(Q),{name:"asset_type",type:"text",class:P(["form-control",{"is-invalid":E.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":w[4]||(w[4]=Y=>l.asset_type=Y)},null,8,["class","modelValue"]),e("span",M$,t(E.asset_type),1)]),e("div",V$,[U$,h(_(Q),{name:"serial",type:"text",class:P(["form-control",{"is-invalid":E.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":w[5]||(w[5]=Y=>l.serial=Y)},null,8,["class","modelValue"]),e("span",A$,t(E.serial),1)])]),e("div",P$,[e("div",q$,[I$,h(_(Q),{name:"date_acquired",type:"date",class:P(["form-control",{"is-invalid":E.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":w[6]||(w[6]=Y=>l.date_acquired=Y)},null,8,["class","modelValue"]),e("span",T$,t(E.date_acquired),1)]),e("div",R$,[E$,h(_(Q),{name:"man_supplier",type:"text",class:P(["form-control",{"is-invalid":E.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":w[7]||(w[7]=Y=>l.man_supplier=Y)},null,8,["class","modelValue"]),e("span",L$,t(E.man_supplier),1)]),e("div",Y$,[F$,h(_(Q),{name:"unit",type:"number",class:P(["form-control",{"is-invalid":E.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":w[8]||(w[8]=Y=>l.unit=Y)},null,8,["class","modelValue"]),e("span",N$,t(E.unit),1)])])])]),_:2},1024),h(ae,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",B$,[e("div",j$,[e("div",O$,[H$,h(_(Q),{name:"paccountable",type:"text",class:P(["form-control",{"is-invalid":E.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":w[9]||(w[9]=Y=>l.paccountable=Y)},null,8,["class","modelValue"]),e("span",z$,t(E.paccountable),1)])]),e("div",J$,[e("div",Q$,[G$,h(_(Q),{name:"locationchangetranfer",type:"text",class:P(["form-control",{"is-invalid":E.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":w[10]||(w[10]=Y=>l.locationchangetranfer=Y)},null,8,["class","modelValue"]),e("span",W$,t(E.locationchangetranfer),1)])])])]),_:2},1024),h(ae,{title:"Asset Condition"},{default:Z(()=>[e("div",K$,[e("div",X$,[e("div",Z$,[ey,h(_(Q),{as:"select",name:"cucodition",class:P(["form-control",{"is-invalid":E.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":w[11]||(w[11]=Y=>l.cucodition=Y)},{default:Z(()=>[ty,sy,ay,oy]),_:2},1032,["class","modelValue"]),e("span",ly,t(E.cucodition),1)]),e("div",ny,[dy,h(_(Q),{name:"maintenancenotes",as:"textarea",class:P(["form-control",{"is-invalid":E.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":w[12]||(w[12]=Y=>l.maintenancenotes=Y)},null,8,["class","modelValue"])])]),e("div",iy,[e("div",cy,[ry,h(_(Q),{name:"lastmaintenance",type:"date",class:P(["form-control",{"is-invalid":E.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":w[13]||(w[13]=Y=>l.lastmaintenance=Y)},null,8,["class","modelValue"])]),e("div",uy,[_y,h(_(Q),{name:"nextmaintenance",type:"date",class:P(["form-control",{"is-invalid":E.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":w[14]||(w[14]=Y=>l.nextmaintenance=Y)},null,8,["class","modelValue"])])])])]),_:2},1024),h(ae,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",my,[e("div",py,[e("div",hy,[vy,h(_(Q),{name:"operationhours",type:"number",class:P(["form-control",{"is-invalid":E.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":w[15]||(w[15]=Y=>l.operationhours=Y)},null,8,["class","modelValue"])])]),e("div",by,[e("div",fy,[$y,h(_(Q),{name:"notes",as:"textarea",class:P(["form-control",{"is-invalid":E.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":w[16]||(w[16]=Y=>l.notes=Y)},null,8,["class","modelValue"]),e("span",yy,t(E.notes),1)])])])]),_:2},1024),h(ae,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",gy,[e("div",ky,[e("div",wy,[xy,e("div",Cy,[Sy,h(_(Q),{name:"purchasecost",type:"text",class:P(["form-control",{"is-invalid":E.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":w[17]||(w[17]=Y=>l.purchasecost=Y)},null,8,["class","modelValue"])])]),e("div",Dy,[My,e("div",Vy,[Uy,h(_(Q),{name:"depreciationcost",type:"text",class:P(["form-control",{"is-invalid":E.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":w[18]||(w[18]=Y=>l.depreciationcost=Y)},null,8,["class","modelValue"])])])]),e("div",Ay,[e("div",Py,[qy,h(_(Q),{name:"insurancewarrantyinfo",as:"textarea",class:P(["form-control",{"is-invalid":E.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":w[19]||(w[19]=Y=>l.insurancewarrantyinfo=Y)},null,8,["class","modelValue"]),e("span",Iy,t(E.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Ty]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ry,[e("div",Ey,[e("div",Ly,[Yy,e("div",Fy,[Ny,e("button",{onClick:se(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",By,[e("div",jy,[e("div",Oy,[Hy,e("div",zy,[e("table",Jy,[e("tbody",null,[Qy,e("tr",null,[Gy,e("td",null,t(l.site_name),1)]),e("tr",null,[Wy,e("td",null,t(l.asset_name),1)]),e("tr",null,[Ky,e("td",null,t(l.asset_type),1)]),e("tr",null,[Xy,e("td",null,t(l.serial),1)]),e("tr",null,[Zy,e("td",null,t(l.date_acquired),1)]),e("tr",null,[eg,e("td",null,t(l.man_supplier),1)]),e("tr",null,[tg,e("td",null,t(l.unit),1)]),sg,e("tr",null,[ag,e("td",null,t(l.paccountable),1)]),e("tr",null,[og,e("td",null,t(l.locationchangetranfer),1)]),lg,e("tr",null,[ng,e("td",null,t(l.cucodition),1)]),e("tr",null,[dg,e("td",null,t(l.maintenancenotes),1)]),e("tr",null,[ig,e("td",null,t(l.lastmaintenance),1)]),e("tr",null,[cg,e("td",null,t(l.nextmaintenance),1)]),rg,e("tr",null,[ug,e("td",null,t(l.operationhours),1)]),e("tr",null,[_g,e("td",null,t(l.notes),1)]),mg,e("tr",null,[pg,e("td",null,t("\u20B1"+l.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[hg,e("td",null,t("\u20B1"+l.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[vg,e("td",null,t(l.insurancewarrantyinfo),1)])])])]),bg])])])],64)}}};function $g(s,b,m){var n=typeof s!="object"?JSON.parse(s):s,d="";if(d+=b+`\r

`,m){var i="";for(var c in n[0])i+=c+",";i=i.slice(0,-1),d+=i+`\r
`}for(var p=0;p<n.length;p++){var i="";for(var c in n[p])i+='"'+n[p][c]+'",';i.slice(0,i.length-1),d+=i+`\r
`}if(d==""){alert("Invalid data");return}var l="MyReport_";l+=b.replace(/ /g,"_");var f="data:text/csv;charset=utf-8,"+escape(d),v=document.createElement("a");v.href=f,v.style="visibility:hidden",v.download=l+".csv",document.body.appendChild(v),v.click(),document.body.removeChild(v)}const ne=s=>(ye("data-v-79d8dd46"),s=s(),ge(),s),yg={class:"content"},gg={class:"container-fluid"},kg={class:"d-flex justify-content-between"},wg={class:"d-flex"},xg=ne(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Cg={key:0},Sg=ne(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),Dg={class:"ml-2"},Mg={class:"d-flex"},Vg={class:"form-group"},Ug=ne(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Ag=["value"],Pg={id:"captureDiv"},qg={class:"card"},Ig={class:"card-header"},Tg={class:"card-title"},Rg={class:"card-tools"},Eg={id:"cost"},Lg={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Yg=ne(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Fg={class:"card-body"},Ng=ne(()=>e("i",{class:"fa fa-camera"},null,-1)),Bg=[Ng],jg=ne(()=>e("i",{class:"fas fa-file-excel"},null,-1)),Og=[jg],Hg={key:1,class:"table-responsive"},zg={class:"table table-bordered table-sm table-striped table-hover"},Jg=ne(()=>e("th",null,null,-1)),Qg=ne(()=>e("th",null,"Date",-1)),Gg=ne(()=>e("th",null,"Allocated Pallet Space",-1)),Wg=ne(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Kg=ne(()=>e("th",null,"Space Utilization %",-1)),Xg=ne(()=>e("th",null,"Excess",-1)),Zg={key:0},e2={key:1},t2=ne(()=>e("th",null,"Remarks",-1)),s2=ne(()=>e("th",null,"Action",-1)),a2={key:0},o2=["item","index","select-all"],l2=["checked"],n2={key:0},d2={key:1},i2=["onClick"],c2=ne(()=>e("i",{class:"fa fa-edit"},null,-1)),r2=[c2],u2={key:0},_2=ne(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),m2={colspan:"3"},p2={key:1},h2=ne(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),v2=[h2],b2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},f2={class:"modal-dialog modal-sm",role:"document"},$2={class:"modal-content"},y2={class:"modal-header"},g2={class:"modal-title",id:"staticBackdropLabel"},k2={key:0},w2={key:1},x2=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),C2=Se('<ul class="nav nav-tabs" data-v-79d8dd46><li id="bulkviewtab1" class="nav-item" data-v-79d8dd46><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-79d8dd46>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-79d8dd46><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-79d8dd46>Bulk Pallet</a></li></ul>',1),S2={class:"tab-content"},D2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},M2={class:"modal-body"},V2={class:"col-md-12"},U2={class:"row"},A2={class:"col-12"},P2={class:"form-group"},q2=ne(()=>e("label",{for:"date"},"Date",-1)),I2={class:"invalid-feedback"},T2={class:"form-group"},R2=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),E2={class:"invalid-feedback"},L2={class:"form-group"},Y2=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),F2={class:"invalid-feedback"},N2={class:"form-group"},B2=ne(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),j2={class:"invalid-feedback"},O2=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),H2={class:"tab-pane fade show",id:"bulk-pallet-tab"},z2={class:"modal-body"},J2={class:"col-md-12"},Q2={class:"row"},G2={class:"col-12"},W2={class:"form-group"},K2=ne(()=>e("label",{for:"fromdate"},"From:",-1)),X2={class:"invalid-feedback"},Z2={class:"form-group"},ek=ne(()=>e("label",{for:"todate"},"To:",-1)),tk={class:"invalid-feedback"},sk={class:"form-group"},ak=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),ok={class:"invalid-feedback"},lk={class:"form-group"},nk=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),dk={class:"invalid-feedback"},ik={class:"form-group"},ck=ne(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),rk={class:"invalid-feedback"},uk=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),_k={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mk={class:"modal-dialog",role:"document"},pk={class:"modal-content"},hk=Se('<div class="modal-header" data-v-79d8dd46><h5 class="modal-title" id="staticBackdropLabel" data-v-79d8dd46><span data-v-79d8dd46>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-79d8dd46><span aria-hidden="true" data-v-79d8dd46>\xD7</span></button></div><div class="modal-body" data-v-79d8dd46><h5 data-v-79d8dd46>Are you sure you want to delete this record ?</h5></div>',2),vk={class:"modal-footer"},bk=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),fk={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},$k={class:"modal-dialog modal-sm",role:"document"},yk={class:"modal-content"},gk=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),kk={class:"modal-body"},wk={class:"fromtocenter"},xk=ne(()=>e("label",{for:"fromDate"},"From:",-1)),Ck=ne(()=>e("label",{for:"toDate"},"To:",-1)),Sk={class:"modal-footer"},Dk=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Mk={__name:"PalletList",setup(s){const b=Fe("$swal"),m=`${he().name}`,n=me(),d=r({data:[]}),i=r(),c=r(!1),p=r(!1),l=_e(),f=r(!0),v=r(!0),D=r(),u=Me({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});r(null);const C=r(),O=()=>{c.value=!0,T.get("/web/pallet",{params:{site_id:u.site_id,query:ae.value}}).then(W=>{c.value=!1,d.value=W.data.data,C.value=W.data.sum,de.value=[],Oe.value=!1})},H=De({allocatedpalletspace:z().required(),spaceuteltotal:z().required(),caseperpallet:z().required(),fromdate:z().required(),todate:z().required()}),L=De({date:z().required(),allocatedpalletspace:z().required(),spaceuteltotal:z().required(),caseperpallet:z().required()}),J=De({date:z().required(),allocatedpalletspace:z().required(),spaceuteltotal:z().required(),caseperpallet:z().required()}),V=r(""),I=r(""),N=r({start_date:"",end_date:""});ve([V],()=>{const W=new Date(V.value),K=W.getFullYear(),Ce=String(W.getMonth()+1).padStart(2,"0"),x=String(W.getDate()).padStart(2,"0");N.value.start_date=`${K}-${Ce}-${x}`}),ve([I],()=>{const W=new Date(I.value),K=W.getFullYear(),Ce=String(W.getMonth()+1).padStart(2,"0"),x=String(W.getDate()).padStart(2,"0");N.value.end_date=`${K}-${Ce}-${x}`});const k=()=>{c.value=!0,T.get("/web/filter-pallet",{params:{start_date:N.value.start_date,end_date:N.value.end_date,site_id:u.site_id}}).then(W=>{c.value=!1,d.value=W.data.data,C.value=W.data.sum}).catch(W=>{console.error(W)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},g=()=>{u.id="",u.user_id=l.user.id,u.date="",u.allocatedpalletspace="",u.spaceuteltotal="",u.caseperpallet=""},j=()=>!u.site_id||u.site_id.length===0?(b.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,A=({resetForm:W,setErrors:K})=>{T.post("/web/pallet",{site_id:u.site_id,user_id:u.user_id,date:u.date,allocatedpalletspace:u.allocatedpalletspace,spaceuteltotal:u.spaceuteltotal,caseperpallet:u.caseperpallet}).then(Ce=>{O(),$("#FormModal").modal("hide"),g(),n.success("Data created successfully!")}).catch(function(Ce){Ce.response?n.error(Ce.response.data.message):Ce.request?n.error(Ce.request):n.error("Error",Ce.message)})},G=()=>{T.get("/web/getsite").then(W=>{i.value=W.data.sites}).catch(W=>{console.log(W)})},pe=()=>{O(u.site_id);const W=i.value.find(K=>K.id===u.site_id);D.value=W?W.site_name:""},ee=()=>{j()||(p.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},F=W=>{$("#bulkviewtab2").hide(),p.value=!0,u.id=W.id,u.user_id=W.user_id,u.site_id=W.site_id,u.date=W.date,u.allocatedpalletspace=W.allocatedpalletspace,u.spaceuteltotal=W.spaceuteltotal,u.caseperpallet=W.caseperpallet,$("#FormModal").modal("show")},M=({setErrors:W})=>{T.post("/web/pallet",u).then(K=>{g(),O(),$("#FormModal").modal("hide"),n.success("successfully Updated!")}).catch(K=>{W(K.response.data.errors),console.log(K)})},w=(W,K)=>{p.value?M(W):A(W)},S=()=>{T.post("/web/bulkCreatePallet",u).then(W=>{O(),$("#FormModal").modal("hide"),n.success(W.data.message)}).catch(W=>{n.error(W.response.data.errors)})},ae=r(null),de=r([]),E=W=>{const K=de.value.indexOf(W.id);K===-1?de.value.push(W.id):de.value.splice(K,1),console.log(de.value)},Y=r(null),je=W=>{Y.value=W,$("#deleteDataModal").modal("show")},at=()=>{T.delete(`/web/pallet/${Y.value}`).then(()=>{$("#deleteDataModal").modal("hide"),n.success("Pallet deleted successfully!"),d.value.data=d.value.data.filter(W=>W.id!==Y.value)})},Qe=()=>{T.delete("/web/bulkDeletePallet",{data:{ids:de.value}}).then(W=>{O(),de.value=[],Oe.value=!1,n.success(W.data.message)})},ot=()=>{j()||$("#FormModalfilterDate").modal("show")},Oe=r(!1),lt=()=>{if(j())return;$("#cost").hide(),$("#capturecamerafilter").hide();const W=document.getElementById("captureDiv");tt(W).then(K=>{const Ce=K.toDataURL(),x=document.createElement("a");x.href=Ce,x.download=`${D.value} - ${m}.png`,x.click()}),$("#cost").show(),$("#capturecamerafilter").show()},nt=()=>{if(j())return;let W=d.value;$g(W,"PalletList",!0)};return ve([v],W=>{u.is_active=W?1:0}),ve(ae,Ae.exports.debounce(()=>{O()},300)),ue(()=>{G(),document.title=`SLI-DTS - ${m}`}),(W,K)=>{const Ce=fe("font");return a(),o(B,null,[e("div",yg,[e("div",gg,[e("div",kg,[e("div",wg,[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary"},[xg,q(" Pallet ")]),de.value.length>0?(a(),o("div",Cg,[e("button",{onClick:Qe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Sg,q(" Delete Selected ")]),e("span",Dg,"Selected "+t(de.value.length)+" Pallet",1)])):U("",!0)]),e("div",Mg,[e("div",Vg,[te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":K[0]||(K[0]=x=>u.site_id=x),onChange:K[1]||(K[1]=x=>pe())},[Ug,(a(!0),o(B,null,X(i.value,x=>(a(),o("option",{key:x.id,value:x.id},t(x.name),9,Ag))),128))],544),[[Re,u.site_id]])])])]),e("div",Pg,[e("div",qg,[e("div",Ig,[e("div",Tg,t(D.value||"Select a Site"),1),e("div",Rg,[e("div",Eg,[e("div",Lg,[te(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":K[2]||(K[2]=x=>f.value=x)},null,512),[[Le,f.value]]),Yg])])])]),e("div",Fg,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:lt,type:"button",class:"btn btn-warning"},Bg),e("button",{onClick:nt,type:"button",class:"btn btn-success"},Og)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:ot})])])]),c.value?(a(),ce(Ie,{key:0})):(a(),o("div",Hg,[h(Ce,{size:"2"},{default:Z(()=>[e("table",zg,[e("thead",null,[e("tr",null,[Jg,Qg,Gg,Wg,Kg,Xg,f.value?(a(),o("th",Zg," Cost per Pallet ")):U("",!0),f.value?(a(),o("th",e2,"Cost")):U("",!0),t2,s2])]),d.value.length>0?(a(),o("tbody",a2,[(a(!0),o(B,null,X(d.value,(x,R)=>(a(),o("tr",{key:x.id,item:x,index:R,onConfirmDeletion:je,onToggleSelection:E,"select-all":Oe.value},[e("td",null,[e("input",{type:"checkbox",checked:Oe.value,onChange:E},null,40,l2)]),e("td",null,t(_(le)(x.date).format("MMMM DD, YY")),1),e("td",null,t(x.allocatedpalletspace),1),e("td",null,t(x.spaceuteltotal),1),e("td",null,t(x.spacetotalutelpercent),1),e("td",null,t(x.excess),1),f.value?(a(),o("td",n2,t(x.caseperpallet),1)):U("",!0),f.value?(a(),o("td",d2,t(x.cost),1)):U("",!0),e("td",null," EXCESS "+t(x.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:y=>F(x)},r2,8,i2)])],40,o2))),128)),f.value?(a(),o("tr",u2,[_2,e("td",m2,[e("b",null,t(C.value),1)])])):U("",!0)])):(a(),o("tbody",p2,v2))])]),_:1})]))])])])])]),e("div",b2,[e("div",f2,[e("div",$2,[e("div",y2,[e("h5",g2,[p.value?(a(),o("span",k2,"Edit Pallet")):(a(),o("span",w2,"Add Pallet"))]),x2]),C2,e("div",S2,[e("div",D2,[h(_(qe),{onSubmit:w,"validation-schema":p.value?_(J):_(L)},{default:Z(({errors:x})=>[e("div",M2,[e("div",V2,[e("div",U2,[e("div",A2,[h(_(Q),{modelValue:u.user_id,"onUpdate:modelValue":K[3]||(K[3]=R=>u.user_id=R),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",P2,[q2,h(_(Q),{name:"date",type:"date",class:P(["form-control",{"is-invalid":x.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:u.date,"onUpdate:modelValue":K[4]||(K[4]=R=>u.date=R)},null,8,["class","modelValue"]),e("span",I2,t(x.date),1)]),e("div",T2,[R2,h(_(Q),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":x.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",modelValue:u.allocatedpalletspace,"onUpdate:modelValue":K[5]||(K[5]=R=>u.allocatedpalletspace=R)},null,8,["class","modelValue"]),e("span",E2,t(x.allocatedpalletspace),1)]),e("div",L2,[Y2,h(_(Q),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":x.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",modelValue:u.spaceuteltotal,"onUpdate:modelValue":K[6]||(K[6]=R=>u.spaceuteltotal=R),required:""},null,8,["class","modelValue"]),e("span",F2,t(x.spaceuteltotal),1)]),e("div",N2,[B2,h(_(Q),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":x.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",modelValue:u.caseperpallet,"onUpdate:modelValue":K[7]||(K[7]=R=>u.caseperpallet=R)},null,8,["class","modelValue"]),e("span",j2,t(x.caseperpallet),1)])])])])]),O2]),_:1},8,["validation-schema"])]),e("div",H2,[h(_(qe),{onSubmit:S,"validation-schema":_(H)},{default:Z(({errors:x})=>[e("div",z2,[e("div",J2,[e("div",Q2,[e("div",G2,[h(_(Q),{modelValue:u.user_id,"onUpdate:modelValue":K[8]||(K[8]=R=>u.user_id=R),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",W2,[K2,h(_(Q),{name:"fromdate",type:"date",class:P(["form-control",{"is-invalid":x.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:u.fromdate,"onUpdate:modelValue":K[9]||(K[9]=R=>u.fromdate=R)},null,8,["class","modelValue"]),e("span",X2,t(x.fromdate),1)]),e("div",Z2,[ek,h(_(Q),{name:"todate",type:"date",class:P(["form-control",{"is-invalid":x.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:u.todate,"onUpdate:modelValue":K[10]||(K[10]=R=>u.todate=R)},null,8,["class","modelValue"]),e("span",tk,t(x.todate),1)]),e("div",sk,[ak,h(_(Q),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":x.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:u.allocatedpalletspace,"onUpdate:modelValue":K[11]||(K[11]=R=>u.allocatedpalletspace=R)},null,8,["class","modelValue"]),e("span",ok,t(x.allocatedpalletspace),1)]),e("div",lk,[nk,h(_(Q),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":x.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:u.spaceuteltotal,"onUpdate:modelValue":K[12]||(K[12]=R=>u.spaceuteltotal=R),required:""},null,8,["class","modelValue"]),e("span",dk,t(x.spaceuteltotal),1)]),e("div",ik,[ck,h(_(Q),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":x.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:u.caseperpallet,"onUpdate:modelValue":K[13]||(K[13]=R=>u.caseperpallet=R)},null,8,["class","modelValue"]),e("span",rk,t(x.caseperpallet),1)])])])])]),uk]),_:1},8,["validation-schema"])])])])])]),e("div",_k,[e("div",mk,[e("div",pk,[hk,e("div",vk,[bk,e("button",{onClick:se(at,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",fk,[e("div",$k,[e("div",yk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(m)+" Report")]),gk]),e("div",kk,[e("div",wk,[e("div",null,[xk,h(_(Ye),{modelValue:V.value,"onUpdate:modelValue":K[14]||(K[14]=x=>V.value=x)},null,8,["modelValue"])]),e("div",null,[Ck,h(_(Ye),{modelValue:I.value,"onUpdate:modelValue":K[15]||(K[15]=x=>I.value=x)},null,8,["modelValue"])])])]),e("div",Sk,[Dk,e("button",{onClick:K[16]||(K[16]=x=>k()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Vk=be(Mk,[["__scopeId","data-v-79d8dd46"]]);const Uk=s=>(ye("data-v-572c61f8"),s=s(),ge(),s),Ak={class:"content"},Pk={class:"container-fluid"},qk={class:"row"},Ik={class:"col-md-6"},Tk={class:"card"},Rk={class:"card-title"},Ek={class:"form-group m-3"},Lk=Uk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Yk=["value"],Fk={key:0,class:"card-body"},Nk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Bk={class:"custom-control custom-checkbox"},jk=["value","id"],Ok=["for"],Hk={class:"card-footer"},zk={__name:"UserSite",setup(s){_e();const b=`${he().name}`,m=me();r(!0);const n=Me({user_id:""});r(null),r();const d=r(),i=r(),c=r([]),p=()=>{T.get("/api/users/userlist").then(D=>{i.value=D.data}).catch(D=>{console.log(D)})},l=D=>{T.get(`/web/usersite/${D}`).then(u=>{d.value=u.data,c.value=d.value.filter(C=>C.hasAccess===1).map(C=>C.id)}).catch(u=>{console.error("Error fetching site data for user:",u)})},f=()=>{const D={user_id:n.user_id,site_id:c.value};console.log(D),T.post("/web/onSaveupdate",D).then(u=>{m.success("User Site Save successfully!")}).catch(u=>{setErrors(u.response.data.errors)})},v=D=>{l(D)};return ue(()=>{p(),l(),document.title=`SLI-DTS - ${b}`}),(D,u)=>(a(),o("div",Ak,[e("div",Pk,[e("div",qk,[e("div",Ik,[e("div",Tk,[e("div",Rk,[e("div",Ek,[h(_(Q),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:n.user_id,"onUpdate:modelValue":u[0]||(u[0]=C=>n.user_id=C),onChange:u[1]||(u[1]=C=>v(n.user_id))},{default:Z(()=>[Lk,(a(!0),o(B,null,X(i.value,C=>(a(),o("option",{key:C.id,value:C.id},t(C.name),9,Yk))),128))]),_:1},8,["modelValue"])])]),n.user_id?(a(),o("div",Fk,[e("ul",Nk,[(a(!0),o(B,null,X(d.value,C=>(a(),o("li",{key:C.id,class:"list-group-item"},[e("div",Bk,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":u[2]||(u[2]=O=>c.value=O),value:C.id,id:"site_id_"+C.id},null,8,jk),[[Le,c.value]]),e("label",{for:"site_id_"+C.id,class:"custom-control-label"},t(C.site_name),9,Ok)])]))),128))]),e("div",Hk,[e("button",{type:"button",onClick:u[3]||(u[3]=C=>f()),class:"btn btn-primary"}," Submit ")])])):U("",!0)])])])])]))}};var Jk=be(zk,[["__scopeId","data-v-572c61f8"]]);const _t=s=>(ye("data-v-1142fe58"),s=s(),ge(),s),Qk={style:{"text-align":"center"}},Gk={key:0},Wk=_t(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Approved",-1)),Kk=[Wk],Xk=_t(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Reject",-1)),Zk=[Xk],e0={key:1,style:{"text-align":"center"}},t0={key:0},s0=_t(()=>e("i",{class:"fa fa-edit"},null,-1)),a0=[s0],o0={__name:"JobItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(s,{emit:b}){me();const m=_e(),n=i=>{switch(i){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},d=i=>{switch(i){case"P":return"Pending";case"A":return"Approved";case"C":return"Reject";default:return"badge-secondary"}};return(i,c)=>{const p=fe("router-link");return a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.job_order_number),1),e("td",null,t(s.item.date_needed),1),e("td",null,t(s.item.commitment_date),1),e("td",Qk,[h(p,{to:`/job-order-request-approved/${s.item.job_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`${n(s.item.status)}`])},t(d(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(s.item.created_at),1),_(m).user.role==="ADMIN"||_(m).user.sitehead_user_id===_(m).user.id?(a(),o("td",Gk,[e("div",{onClick:c[0]||(c[0]=se(l=>i.$emit("approvedata",s.item),["prevent"])),style:{"background-color":"#17ad49",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Kk),e("div",{onClick:c[1]||(c[1]=se(l=>i.$emit("confirmDataDeletion",s.item),["prevent"])),style:{"background-color":"#da2f38",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Zk)])):U("",!0),_(m).user.role==="USER"?(a(),o("td",e0,[s.item.status!="P"?(a(),o("div",t0,[s.item.created_by==_(m).user.id?(a(),o("a",{key:0,href:"#",onClick:c[2]||(c[2]=se(l=>i.$emit("editRecord",s.item),["prevent"]))},a0)):U("",!0)])):U("",!0)])):U("",!0)])}}};var l0=be(o0,[["__scopeId","data-v-1142fe58"]]);const ze=s=>(ye("data-v-3f7051bb"),s=s(),ge(),s),n0={key:0,class:"spinner"},d0=ze(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),i0=[d0],c0={class:"content"},r0={class:"container-fluid"},u0={class:"d-flex justify-content-between"},_0={class:"d-flex"},m0=ze(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),p0={key:0},h0=ze(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),v0={class:"ml-2"},b0={class:"card"},f0={class:"card-body"},$0={class:"table-responsive"},y0={class:"table table-bordered table-sm"},g0=ze(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Order Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),k0={key:0},w0={key:1},x0=ze(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),C0=[x0],S0={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},D0={class:"modal-dialog",role:"document"},M0={class:"modal-content"},V0=Se('<div class="modal-header" data-v-3f7051bb><h5 class="modal-title" id="staticBackdropLabel" data-v-3f7051bb><span data-v-3f7051bb>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-3f7051bb><span aria-hidden="true" data-v-3f7051bb>\xD7</span></button></div><div class="modal-body" data-v-3f7051bb><h5 data-v-3f7051bb>Are you sure you want to Reject this record ?</h5></div>',2),U0={class:"modal-footer"},A0=ze(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),P0={__name:"JobOrderList",setup(s){const b=Fe("$swal"),m=`${he().name}`,n=me(),d=r({data:[]});r({data:[]}),r(!1),r();const i=r(!1);_e(),r(null),r();const c=(H=1)=>{i.value=!0,T.get(`/web/job-request?page=${H}`,{params:{query:p.value}}).then(L=>{i.value=!1,d.value=L.data,l.value=[],v.value=!1}).finally(()=>{i.value=!1})},p=r(null),l=r([]),f=H=>{const L=l.value.indexOf(H.id);L===-1?l.value.push(H.id):l.value.splice(L,1),console.log(l.value)},v=r(!1),D=r(!1),u=async H=>{(await b.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(i.value=!0,T.put(`/web/job-request/${H.id}`,{status:"C"}).then(J=>{n.success("Record successfully Rejected"),c()}).catch(J=>{n.error(J.response.data.errors)}).finally(()=>{i.value=!1}))},C=async H=>{(await b.fire({title:"Are you sure you want to Approve this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(i.value=!0,T.put(`/web/job-request/${H.id}`,{status:"A"}).then(J=>{n.success("Record successfully Approved"),c()}).catch(J=>{n.error(J.data.message)}))},O=()=>{};return ve(p,Ae.exports.debounce(()=>{c()},300)),ue(()=>{c(),document.title=`SLI-DTS - ${m}`}),(H,L)=>{const J=fe("router-link");return a(),o(B,null,[i.value?(a(),o("div",n0,i0)):U("",!0),e("div",c0,[e("div",r0,[e("div",u0,[e("div",_0,[h(J,{class:P("mb-2 btn btn-primary"),to:{name:"Job Order Create"}},{default:Z(()=>[m0,q("Create ")]),_:1}),l.value.length>0?(a(),o("div",p0,[e("button",{onClick:L[0]||(L[0]=(...V)=>H.bulkDelete&&H.bulkDelete(...V)),type:"button",class:"ml-2 mb-2 btn btn-danger"},[h0,q(" Delete Selected ")]),e("span",v0,"Selected "+t(l.value.length)+" Menu",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=V=>p.value=V),class:"form-control",placeholder:"Search..."},null,512),[[ie,p.value]])])]),e("div",b0,[e("div",f0,[i.value?(a(),ce(Ie,{key:0})):U("",!0),e("div",$0,[e("table",y0,[g0,d.value.data.length>0?(a(),o("tbody",k0,[(a(!0),o(B,null,X(d.value.data,(V,I)=>(a(),ce(l0,{key:V.id,item:V,index:I,onApprovedata:C,onShowItem:D.value,onConfirmDataDeletion:u,onToggleSelection:f,"select-all":v.value},null,8,["item","index","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),o("tbody",w0,C0))])])])]),h(_(Ee),{data:d.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",S0,[e("div",D0,[e("div",M0,[V0,e("div",U0,[A0,e("button",{onClick:se(O,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var q0=be(P0,[["__scopeId","data-v-3f7051bb"]]);const I0={class:"form-group row"},T0=["for"],R0={class:"col-sm-10"},E0=["type","id","name","placeholder"],L0={key:0,class:"invalid-feedback"},Y0={key:0},Te={__name:"FormTextField",props:{name:{type:String,required:!0},type:{type:String,default:"text",validator:s=>["text","number","password","email","url","tel"].includes(s)},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,n=b,d=xe({get:()=>m.modelValue,set:i=>{n("update:modelValue",i)}});return(i,c)=>(a(),o("div",I0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,T0)):U("",!0),e("div",R0,[te(e("input",{"onUpdate:modelValue":c[0]||(c[0]=p=>d.value=p),type:s.type,id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""])},null,10,E0),[[rt,d.value]]),s.errors?(a(),o("span",L0,[Array.isArray(s.errors)?(a(),o("ul",Y0,[(a(!0),o(B,null,X(s.errors,(p,l)=>(a(),o("li",{key:l},t(p),1))),128))])):(a(),o(B,{key:1},[q(t(s.errors),1)],64))])):U("",!0)])]))}},F0={class:"form-group row"},N0=["for"],B0={class:"col-sm-10"},j0=["id","name","placeholder"],O0={value:"",disabled:""},H0=["value"],z0={key:0,class:"invalid-feedback"},J0={key:0},it={__name:"FormSelectOption",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:"Select an option"},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,n=b,d=xe({get:()=>m.modelValue,set:i=>{n("update:modelValue",i)}});return(i,c)=>(a(),o("div",F0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,N0)):U("",!0),e("div",B0,[te(e("select",{"onUpdate:modelValue":c[0]||(c[0]=p=>d.value=p),id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""])},[e("option",O0,t(s.placeholder),1),(a(!0),o(B,null,X(s.options,p=>(a(),o("option",{key:p.id,value:p.id},t(p.name),9,H0))),128))],10,j0),[[Re,d.value]]),s.errors?(a(),o("span",z0,[Array.isArray(s.errors)?(a(),o("ul",J0,[(a(!0),o(B,null,X(s.errors,(p,l)=>(a(),o("li",{key:l},t(p),1))),128))])):(a(),o(B,{key:1},[q(t(s.errors),1)],64))])):U("",!0)])]))}},Q0={class:"form-group row"},G0=["for"],W0={class:"col-sm-10"},K0=["id","name","placeholder","rows"],X0={key:0,class:"invalid-feedback"},Z0={key:0},ct={__name:"FormTextAria",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},rows:{type:[Number],default:""}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,n=b,d=xe({get:()=>m.modelValue,set:i=>{n("update:modelValue",i)}});return(i,c)=>(a(),o("div",Q0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,G0)):U("",!0),e("div",W0,[te(e("textarea",{"onUpdate:modelValue":c[0]||(c[0]=p=>d.value=p),id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""]),rows:s.rows},null,10,K0),[[ie,d.value]]),s.errors?(a(),o("span",X0,[Array.isArray(s.errors)?(a(),o("ul",Z0,[(a(!0),o(B,null,X(s.errors,(p,l)=>(a(),o("li",{key:l},t(p),1))),128))])):(a(),o(B,{key:1},[q(t(s.errors),1)],64))])):U("",!0)])]))}};const st=s=>(ye("data-v-674eedab"),s=s(),ge(),s),e3={class:"col-md-12"},t3={key:0,class:"spinner"},s3=st(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),a3=[s3],o3={class:"form-group row"},l3=st(()=>e("i",{class:"fa fa-plus"},null,-1)),n3=[l3],d3={class:"col-sm-10"},i3={class:"table"},c3=st(()=>e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Part Number"),e("th",null,"Quantity"),e("th",null,"Action")])],-1)),r3=["onUpdate:modelValue"],u3=["onUpdate:modelValue"],_3=["onUpdate:modelValue"],m3=["onClick"],p3=st(()=>e("i",{class:"fa fa-trash"},null,-1)),h3=[p3],v3={__name:"JobOrderAction",setup(s){const b=he(),m=Be(),n=r(!1),d=`${b.name}`,i=me();r(!1),r();const c=Fe("$swal"),p=_e(),l=r(!0),f=Me({id:"",site_id:null,site_name:"",job_order_number:"",end_user:"",time_requested:"",date_needed:"",noted_by:"",type_of_job:"",problem_description:"",findings_recommendations:"",commitment_date:"",status:"P",created_by:p.user.id,updated_by:"",description:"",part_number:"",quantity:"",replacement_parts:[{description:"",part_number:"",quantity:0}]}),v=()=>{f.replacement_parts.push({description:"",part_number:"",quantity:0})},D=J=>{f.replacement_parts.length>1&&f.replacement_parts.splice(J,1)};r(null);const u=r([]),C=()=>{T.get("/web/getsite").then(J=>{u.value=J.data.sites}).catch(J=>{console.log(J)})},O=r(null),H=r([{id:"Preventive Maintenance",name:"Preventive Maintenance"},{id:"Corrective Maintenance",name:"Corrective Maintenance"},{id:"Calibration",name:"Calibration"}]),L=async()=>{(await c.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,T.post("/web/job-request",f).then(V=>{V.status===200?(i.success(V.data.message),m.push("/job-order-request-list")):i.error("Something went wrong. Please try again.")}).catch(V=>{i.error(V.data.message)}).finally(()=>{n.value=!1}))};return ve([l],J=>{f.is_active=J?1:0}),ve(O,Ae.exports.debounce(()=>{getItems()},300)),ue(()=>{C(),document.title=d}),(J,V)=>{const I=fe("tab-content"),N=fe("form-wizard");return a(),o("div",e3,[n.value?(a(),o("div",t3,a3)):U("",!0),h(N,{onOnComplete:L,color:"#094899","step-size":"xs"},{default:Z(()=>[h(I,{title:"Job Information",icon:"fas fa-book"},{default:Z(()=>[h(Te,{label:"Job Order Number",placeholder:"Job Order Number - AutoGenerate",name:"job_order_number",type:"text",id:"job_order_number",modelValue:f.job_order_number,"onUpdate:modelValue":V[0]||(V[0]=k=>f.job_order_number=k)},null,8,["modelValue"]),h(it,{name:"branch",label:"Area / Department",modelValue:f.site_id,"onUpdate:modelValue":V[1]||(V[1]=k=>f.site_id=k),options:u.value},null,8,["modelValue","options"]),h(Te,{label:"End User",placeholder:"End User",name:"enduser",type:"text",id:"enduser",modelValue:f.end_user,"onUpdate:modelValue":V[2]||(V[2]=k=>f.end_user=k)},null,8,["modelValue"]),h(Te,{label:"Time Requested",placeholder:"Time Requested",name:"time_requested",type:"date",id:"time_requested",modelValue:f.time_requested,"onUpdate:modelValue":V[3]||(V[3]=k=>f.time_requested=k)},null,8,["modelValue"]),h(Te,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:f.date_needed,"onUpdate:modelValue":V[4]||(V[4]=k=>f.date_needed=k)},null,8,["modelValue"]),h(Te,{label:"Noted By",placeholder:"Noted By",name:"noted_by",type:"text",id:"noted_by",modelValue:f.noted_by,"onUpdate:modelValue":V[5]||(V[5]=k=>f.noted_by=k)},null,8,["modelValue"]),h(it,{name:"type_of_job",label:"Type of Job",modelValue:f.type_of_job,"onUpdate:modelValue":V[6]||(V[6]=k=>f.type_of_job=k),options:H.value},null,8,["modelValue","options"])]),_:1}),h(I,{title:"Problem Details",icon:"fas fa-pen-alt"},{default:Z(()=>[h(ct,{label:"Problem Description",id:"problem_description",name:"problem_description",rows:"3",placeholder:"Problem Description",modelValue:f.problem_description,"onUpdate:modelValue":V[7]||(V[7]=k=>f.problem_description=k)},null,8,["modelValue"]),h(ct,{label:"Recommendations",id:"Recommendations",rows:"3",placeholder:"Recommendations",modelValue:f.findings_recommendations,"onUpdate:modelValue":V[8]||(V[8]=k=>f.findings_recommendations=k)},null,8,["modelValue"]),h(Te,{label:"Commitment Date",placeholder:"Commitment Date",name:"commitment_date",type:"date",id:"commitment_date",modelValue:f.commitment_date,"onUpdate:modelValue":V[9]||(V[9]=k=>f.commitment_date=k)},null,8,["modelValue"])]),_:1}),h(I,{title:"Replacement Parts",icon:"fas fa-tools"},{default:Z(()=>[e("div",o3,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[q("Replacement Parts "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:v},n3)]),e("div",d3,[e("table",i3,[c3,e("tbody",null,[(a(!0),o(B,null,X(f.replacement_parts,(k,g)=>(a(),o("tr",{key:g},[e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":j=>k.description=j},null,8,r3),[[ie,k.description]])]),e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Part Number","onUpdate:modelValue":j=>k.part_number=j},null,8,u3),[[ie,k.part_number]])]),e("td",null,[te(e("input",{type:"number",class:"form-control",placeholder:"Quantity","onUpdate:modelValue":j=>k.quantity=j},null,8,_3),[[ie,k.quantity]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:j=>D(g)},h3,8,m3)])]))),128))])])])])]),_:1})]),_:1})])}}};var b3=be(v3,[["__scopeId","data-v-674eedab"]]);const we=s=>(ye("data-v-23e1722c"),s=s(),ge(),s),f3={id:"exportPDF"},$3=we(()=>e("br",null,null,-1)),y3={class:"container"},g3={class:"row align-items-center"},k3={class:"col-3 p-2 text-center"},w3={class:"header"},x3=["src"],C3=we(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),S3={class:"row border border-secondary p-2"},D3={class:"col-6 float-end"},M3={class:"mb-1"},V3=we(()=>e("strong",null,"Job Order Number :",-1)),U3={class:"row"},A3={class:"table table-bordered table-sm"},P3=we(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),q3={class:"row border"},I3={class:"col-6 p-2"},T3={class:"row"},R3={class:"col-12 p-2"},E3=we(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),L3=we(()=>e("br",null,null,-1)),Y3={class:"row"},F3={class:"col-12 p-2"},N3=we(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),B3={class:"row justify-content-right"},j3={class:"col-12 hidden-md-down border border-secondary"},O3=we(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),H3={class:"row"},z3={class:"col-12 p-2"},J3=we(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),Q3={class:"row justify-content-right"},G3={class:"col-12 hidden-md-down border border-secondary"},W3={class:"row border mt-2"},K3={class:"col-6 p-2"},X3=we(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),Z3={class:"row"},ew=we(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),tw={class:"table table-bordered table-sm"},sw=we(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),aw={class:"row border border-secondary mt-2"},ow={class:"col-6 p-2"},lw=we(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),nw=we(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),dw=we(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),iw={class:"row"},cw={class:"col-12 p-2"},rw={class:"row justify-content-right"},uw={class:"col-12 hidden-md-down border border-secondary"},_w={class:"row"},mw={class:"col-6 p-2"},pw=we(()=>e("br",null,null,-1)),hw={class:"mt-2"},vw={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},bw=we(()=>e("br",null,null,-1)),fw=we(()=>e("div",{class:"col-6 p-2"},[q(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"},[e("span",{class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},"Eden Satinitigan")])],-1)),$w={key:0,class:"fab-container"},yw=we(()=>e("i",{class:"fas fa-download"},null,-1)),gw=[yw],kw={__name:"JobOrderRequestApproved",setup(s){const b=`${he().params.id}`,m=()=>{const i=document.getElementById("exportPDF");Ge().from(i).save(`${b}.pdf`)},n=Me({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",jobstatus:"",approvedPosition:""}),d=()=>{T.get(`/web/job-request/${he().params.id}`).then(i=>{n.id=i.data.record.id,n.jobOrderNumber=i.data.record.job_order_number,n.areaDepartment=i.data.record.site_name,n.endUser=i.data.record.end_user,n.dateTimeRequested=le(i.data.record.time_requested).format("MMMM D, YYYY"),n.dateNeeded=le(i.data.record.date_needed).format("MMMM D, YYYY"),n.notedBy=i.data.record.noted_by,n.typeofjob=i.data.record.type_of_job,n.calibration=i.data.record.calibration,n.problemDescription=i.data.record.problem_description,n.findingsRecommendations=i.data.record.findings_recommendations,n.commitmentDate=le(i.data.record.commitment_date).format("MMMM D, YYYY"),n.replacementParts=i.data.record.replacement_parts,n.checkedBy=i.data.record.createdby.cfull_name,n.checkedDate=le(i.data.record.checkedDate).format("MMMM D, YYYY"),n.checkedTime=le(i.data.record.checkedTime).format("h:mm:ss a"),n.reviewedBy=i.data.record.reviewedBy,n.reviewedDate=le(i.data.record.reviewedDate).format("MMMM D, YYYY"),n.approvedBy=i.data.record.updatedby.ufull_name,n.approvedPosition=i.data.record.updatedby.uposition?i.data.record.updatedby.uposition:"",n.approvedDate=le(i.data.record.approvedDate).format("MMMM D, YYYY"),n.remarks=i.data.record.remarks,n.jobstatus=i.data.record.status,console.log(i.data.record.status)}).catch(i=>{console.log(i.message)})};return ue(()=>{d(),document.title=b}),(i,c)=>(a(),o(B,null,[e("div",f3,[$3,e("div",y3,[["P","C"].includes(n.jobstatus)?(a(),o("div",{key:0,class:P(["ribbon",{warning:n.jobstatus==="P",closed:n.jobstatus==="C"}])},[e("span",null,t(n.jobstatus==="P"?"Pending":n.jobstatus==="C"?"Reject":n.jobstatus==="P"),1)],2)):U("",!0),e("div",g3,[e("div",k3,[e("div",w3,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,x3)])]),C3]),e("div",S3,[e("div",D3,[e("p",M3,[V3,q(t(n.jobOrderNumber),1)])])]),e("div",U3,[e("table",A3,[P3,e("tbody",null,[e("tr",null,[e("td",null,t(n.areaDepartment),1),e("td",null,t(n.endUser),1),e("td",null,t(n.dateTimeRequested),1),e("td",null,t(n.dateNeeded),1)])])])]),e("div",q3,[e("div",I3,[q("Noted by:"),e("b",null,t(n.notedBy),1)])]),e("div",T3,[e("div",R3,[E3,L3,e("span",null,t(n.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),q("\xA0 "),e("span",null,t(n.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),q("\xA0 "),e("span",null,t(n.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",Y3,[e("div",F3,[N3,e("div",B3,[e("div",j3,[e("p",null,t(n.problemDescription),1)])])])]),O3,e("div",H3,[e("div",z3,[J3,e("div",Q3,[e("div",G3,[e("p",null,t(n.findingsRecommendations),1)])])])]),e("div",W3,[e("div",K3,[q("Commitment Date:\xA0"),e("b",null,t(n.commitmentDate),1)]),X3]),e("div",Z3,[ew,e("table",tw,[sw,e("tbody",null,[(a(!0),o(B,null,X(n.replacementParts,(p,l)=>(a(),o("tr",{key:l},[e("td",null,t(l+1),1),e("td",null,t(p.description),1),e("td",null,t(p.part_number),1),e("td",null,t(p.quantity),1)]))),128))])])]),e("div",aw,[e("div",ow,[q(" Checked by : "),e("b",null,t(n.checkedBy),1)]),lw,nw]),dw,e("div",iw,[e("div",cw,[q(" Remarks / Comments: "),e("div",rw,[e("div",uw,[e("p",null,t(n.findingsRecommendations),1)])])])]),e("div",_w,[e("div",mw,[q(" Reviewed by: Department Manager"),pw,e("div",hw,[e("span",vw,t(n.approvedBy),1),bw,e("span",null,t(n.approvedPosition),1)])]),fw])])]),n.status==="A"?(a(),o("div",$w,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=p=>m())},gw)])):U("",!0)],64))}};var gt=be(kw,[["__scopeId","data-v-23e1722c"]]);const Ke=s=>(ye("data-v-3c16fe16"),s=s(),ge(),s),ww={key:0,class:"spinner"},xw=Ke(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Cw=[xw],Sw={style:{"text-align":"center"}},Dw={key:0},Mw=Ke(()=>e("option",{value:"",disabled:"",selected:""},"Action",-1)),Vw=Ke(()=>e("option",{value:"A"},"Approved",-1)),Uw=Ke(()=>e("option",{value:"C"},"Reject",-1)),Aw=[Mw,Vw,Uw],Pw={key:1,style:{"text-align":"center"}},qw={key:0},Iw=Ke(()=>e("i",{class:"fa fa-edit"},null,-1)),Tw=[Iw],Rw={__name:"MrfItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion","toggleSelection"],setup(s,{emit:b}){me();const m=_e();Fe("$swal");const n=r(!1),d=c=>{switch(c){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},i=c=>{switch(c){case"P":return"Pending";case"A":return"Approved";case"C":return"Rejected";default:return"Unknown"}};return(c,p)=>{const l=fe("router-link");return a(),o(B,null,[n.value?(a(),o("div",ww,Cw)):U("",!0),e("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.mrf_order_number),1),e("td",null,t(_(le)(s.item.date_requested).format("MMMM D, YYYY")),1),e("td",null,t(_(le)(s.item.date_needed).format("MMMM D, YYYY")),1),e("td",Sw,[h(l,{to:`/marial-Requisition-Approved/${s.item.mrf_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`${d(s.item.status)}`])},t(i(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(_(le)(s.item.created_at).format("MMMM D, YYYY, h:mm A")),1),_(m).user.role==="ADMIN"||_(m).user.sitehead_user_id===_(m).user.id?(a(),o("td",Dw,[e("select",{class:"form-control",onChange:p[0]||(p[0]=f=>c.$emit("handleSelectChange",f,s.item))},Aw,32)])):U("",!0),_(m).user.role==="USER"?(a(),o("td",Pw,[s.item.status!="P"?(a(),o("div",qw,[s.item.created_by==_(m).user.id?(a(),o("a",{key:0,href:"#",onClick:p[1]||(p[1]=se(f=>c.$emit("editRecord",s.item),["prevent"]))},Tw)):U("",!0)])):U("",!0)])):U("",!0)])],64)}}};var Ew=be(Rw,[["__scopeId","data-v-3c16fe16"]]);const Xe=s=>(ye("data-v-1893c6ae"),s=s(),ge(),s),Lw={key:0,class:"spinner"},Yw=Xe(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Fw=[Yw],Nw={class:"content"},Bw={class:"container-fluid"},jw={class:"d-flex justify-content-between mb-2"},Ow={class:"d-flex"},Hw=Xe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),zw={class:"card"},Jw={class:"card-body"},Qw={class:"table-responsive"},Gw={class:"table table-bordered table-sm"},Ww=Xe(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Mrf Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),Kw={key:0},Xw={key:1},Zw=Xe(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),e4=[Zw],t4={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},s4={class:"modal-dialog",role:"document"},a4={class:"modal-content"},o4=Se('<div class="modal-header" data-v-1893c6ae><h5 class="modal-title" id="staticBackdropLabel" data-v-1893c6ae><span data-v-1893c6ae>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-1893c6ae><span aria-hidden="true" data-v-1893c6ae>\xD7</span></button></div><div class="modal-body" data-v-1893c6ae><h5 data-v-1893c6ae>Are you sure you want to Reject this record ?</h5></div>',2),l4={class:"modal-footer"},n4=Xe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),d4={__name:"MrfList",setup(s){const b=Fe("$swal"),m=`${he().name}`,n=me(),d=r({data:[]});r({data:[]}),r(!1),r();const i=r(!1);_e(),r(null),r();const c=(L=1)=>{i.value=!0,T.get(`/web/Mrf-request?page=${L}`,{params:{query:p.value}}).then(J=>{i.value=!1,d.value=J.data,l.value=[],v.value=!1}).finally(()=>{i.value=!1})},p=r(null),l=r([]),f=L=>{const J=l.value.indexOf(L.id);J===-1?l.value.push(L.id):l.value.splice(J,1),console.log(l.value)},v=r(!1),D=r(!1),u=async L=>{(await b.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(i.value=!0,T.put(`/web/Mrf-request/${L.id}`,{status:"C"}).then(V=>{n.success("Record successfully Rejected"),c()}).catch(V=>{n.error(V.response.data.errors)}).finally(()=>{i.value=!1}))},C=async(L,J)=>{const V=J==="A"?"Are you sure you want to Approve this record?":"Are you sure you want to Reject this record?";if((await b.fire({title:V,icon:"warning",showCancelButton:!0})).isConfirmed){i.value=!0;try{await T.put(`/web/Mrf-request/${L.id}`);const N=J==="A"?"Approved":"Rejected";n.success(`Record successfully ${N}`),c()}catch(N){n.error(N.response.data.errors)}finally{i.value=!1}}},O=(L,J)=>{const V=L.target.value;V&&C(J,V)},H=()=>{};return ve(p,Ae.exports.debounce(()=>{c()},300)),ue(()=>{c(),document.title=`SLI-DTS - ${m}`}),(L,J)=>{const V=fe("router-link");return a(),o(B,null,[i.value?(a(),o("div",Lw,Fw)):U("",!0),e("div",Nw,[e("div",Bw,[e("div",jw,[e("div",Ow,[h(V,{class:P(" mb-2 btn btn-primary btn-sm"),to:{path:"/Marial-Requisition/create"}},{default:Z(()=>[Hw]),_:1})]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":J[0]||(J[0]=I=>p.value=I),class:"form-control mb-2",placeholder:"Search..."},null,512),[[ie,p.value]])])]),e("div",zw,[e("div",Jw,[i.value?(a(),ce(Ie,{key:0})):U("",!0),e("div",Qw,[e("table",Gw,[Ww,d.value.data.length>0?(a(),o("tbody",Kw,[(a(!0),o(B,null,X(d.value.data,(I,N)=>(a(),ce(Ew,{key:I.id,item:I,index:N,onHandleSelectChange:k=>O(k,I),onShowItem:D.value,onConfirmDataDeletion:u,onToggleSelection:f,"select-all":v.value},null,8,["item","index","onHandleSelectChange","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),o("tbody",Xw,e4))])])])]),h(_(Ee),{data:d.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",t4,[e("div",s4,[e("div",a4,[o4,e("div",l4,[n4,e("button",{onClick:se(H,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var i4=be(d4,[["__scopeId","data-v-1893c6ae"]]);const Ue=s=>(ye("data-v-6d543bc1"),s=s(),ge(),s),c4={class:"col-md-12"},r4={key:0,class:"spinner"},u4=Ue(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),_4=[u4],m4=Ue(()=>e("i",{class:"fa fa-plus"},null,-1)),p4=[m4],h4={class:"form-group row"},v4={class:"col-sm-12"},b4={class:"table tabl-sm table-hover table-striped"},f4=Ue(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"Particular"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"UOM"),e("th",null,"Price"),e("th",null,"Action")])],-1)),$4=["onUpdate:modelValue"],y4=["onUpdate:modelValue"],g4=["onUpdate:modelValue"],k4=["onUpdate:modelValue"],w4=["onUpdate:modelValue"],x4=["onClick"],C4=Ue(()=>e("i",{class:"fa fa-trash"},null,-1)),S4=[C4],D4=Ue(()=>e("h4",null,"Requisition Information",-1)),M4={class:"row"},V4={class:"col-md-6"},U4=Ue(()=>e("strong",null,"Area / Department:",-1)),A4=Ue(()=>e("br",null,null,-1)),P4={class:"col-md-6"},q4=Ue(()=>e("strong",null,"Date Requested:",-1)),I4=Ue(()=>e("br",null,null,-1)),T4=Ue(()=>e("strong",null,"Date Needed:",-1)),R4=Ue(()=>e("br",null,null,-1)),E4=Ue(()=>e("h4",null,"List of Materials",-1)),L4={class:"table table-sm table-hover table-striped"},Y4=Ue(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"Particular"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"UOM"),e("th",null,"Price"),e("th",null,"Total Amount")])],-1)),F4={class:"row"},N4={class:"col-md-6"},B4=Ue(()=>e("strong",null,"Purpose:",-1)),j4={__name:"MrfAction",setup(s){const b=he(),m=Be(),n=r(!1),d=`${b.name}`,i=me();r(!1),r();const c=Fe("$swal");_e();const p=r(!0),l=Me({id:"",site_id:null,site_name:"",mrf_order_number:"",date_requested:"",date_needed:"",purpose:"",status:"P",mrf_items_parts:[{particulars:"",description:"",quantity:0,uom:"",unit_price:0,total_amount:0}]}),f=()=>{l.mrf_items_parts.push({particulars:"",description:"",quantity:0,uom:"",unit_price:0})},v=H=>{l.mrf_items_parts.length>1&&l.mrf_items_parts.splice(H,1)};r(null);const D=r([]),u=()=>{T.get("/web/getsite").then(H=>{D.value=H.data.sites}).catch(H=>{console.log(H)})},C=r(null),O=async()=>{(await c.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,T.post("/web/Mrf-request",l).then(L=>{L.status===200?(i.success(L.data.message),m.push("/Marial-Requisition")):i.error("Something went wrong. Please try again.")}).catch(L=>{i.error(L.data.message)}).finally(()=>{n.value=!1}))};return ve([p],H=>{l.is_active=H?1:0}),ve(C,Ae.exports.debounce(()=>{getItems()},300)),ue(()=>{u(),document.title=d}),(H,L)=>{const J=fe("tab-content"),V=fe("form-wizard");return a(),o("div",c4,[n.value?(a(),o("div",r4,_4)):U("",!0),h(V,{onOnComplete:O,color:"#094899","step-size":"xs"},{default:Z(()=>[h(J,{title:"Requisition Info",icon:"fas fa-book"},{default:Z(()=>[h(Te,{label:"Material Requisition Number",placeholder:"Material Requisition Number - AutoGenerate",name:"mrf_order_number",type:"text",id:"mrf_order_number",modelValue:l.mrf_order_number,"onUpdate:modelValue":L[0]||(L[0]=I=>l.mrf_order_number=I)},null,8,["modelValue"]),h(it,{name:"branch",label:"Area / Department",modelValue:l.site_id,"onUpdate:modelValue":L[1]||(L[1]=I=>l.site_id=I),options:D.value},null,8,["modelValue","options"]),h(Te,{label:"Date Requested",placeholder:"Date Requested",name:"date_requested",type:"date",id:"date_requested",modelValue:l.date_requested,"onUpdate:modelValue":L[2]||(L[2]=I=>l.date_requested=I)},null,8,["modelValue"]),h(Te,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:l.date_needed,"onUpdate:modelValue":L[3]||(L[3]=I=>l.date_needed=I)},null,8,["modelValue"]),h(ct,{label:"Purpose",placeholder:"Purpose",name:"purpose",type:"text",id:"purpose",row:"3",modelValue:l.purpose,"onUpdate:modelValue":L[4]||(L[4]=I=>l.purpose=I)},null,8,["modelValue"])]),_:1}),h(J,{title:"List of Material",icon:"fas fa-tools"},{default:Z(()=>[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:f},p4)]),e("div",h4,[e("div",v4,[e("table",b4,[f4,e("tbody",null,[(a(!0),o(B,null,X(l.mrf_items_parts,(I,N)=>(a(),o("tr",{key:N},[e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>I.particulars=k},null,8,$4),[[ie,I.particulars]])]),e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>I.description=k},null,8,y4),[[ie,I.description]])]),e("td",null,[te(e("input",{type:"number",class:"form-control","onUpdate:modelValue":k=>I.quantity=k},null,8,g4),[[ie,I.quantity]])]),e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>I.uom=k},null,8,k4),[[ie,I.uom]])]),e("td",null,[te(e("input",{type:"number",class:"form-control","onUpdate:modelValue":k=>I.unit_price=k},null,8,w4),[[ie,I.unit_price]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:k=>v(N)},S4,8,x4)])]))),128))])])])])]),_:1}),h(J,{title:"Verify",icon:"fas fa-check"},{default:Z(()=>{var I;return[D4,e("div",M4,[e("div",V4,[U4,q(" "+t(((I=D.value.find(N=>N.id===l.site_id))==null?void 0:I.name)||"Not Selected"),1),A4]),e("div",P4,[q4,q(" "+t(_(le)(l.date_requested).format("MMMM D, YYYY")),1),I4,T4,q(" "+t(_(le)(l.date_needed).format("MMMM D, YYYY")),1),R4])]),E4,e("table",L4,[Y4,e("tbody",null,[(a(!0),o(B,null,X(l.mrf_items_parts,(N,k)=>(a(),o("tr",{key:k},[e("td",null,t(N.particulars),1),e("td",null,t(N.description),1),e("td",null,t(N.quantity),1),e("td",null,t(N.uom),1),e("td",null,t(N.unit_price),1),e("td",null,t(N.quantity*N.unit_price),1)]))),128))])]),e("div",F4,[e("div",N4,[B4,q(" "+t(l.purpose),1)])])]}),_:1})]),_:1})])}}};var O4=be(j4,[["__scopeId","data-v-6d543bc1"]]);const Ve=s=>(ye("data-v-22331331"),s=s(),ge(),s),H4={id:"exportPDF"},z4=Ve(()=>e("br",null,null,-1)),J4={class:"container"},Q4={class:"row align-items-center"},G4={class:"container-fluid"},W4={class:"row"},K4={class:"col-sm"},X4=["src"],Z4=Ve(()=>e("div",{class:"col-sm"},[e("span",{class:"m-0 font-weight-bold"},"MATERIALS REQUISITION FORM")],-1)),ex={class:"col-sm font-weight-bold font-italic"},tx={class:"table table-bordered table-sm"},sx={class:"table table-bordered text-center table-sm table-striped"},ax=Ve(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"ITEM NO."),e("th",null,"PARTICULARS"),e("th",null,"DESCRIPTION"),e("th",null,"QUANTITY"),e("th",null,"UNIT"),e("th",null,"UNIT PRICE"),e("th",null,"PRINCIPAL AMOUNT")])],-1)),ox={class:"text-right"},lx={class:"text-right"},nx={class:"font-weight-bold"},dx={class:"table table-bordered table-sm border-0"},ix={colspan:"3"},cx=Ve(()=>e("tr",null,[e("td",{colspan:"3"}," Note: Procurement cut-off time of receiving requests: MWF @8AM-2PM ")],-1)),rx=Ve(()=>e("tr",null,[e("td",{colspan:"3"}," *7 Days lead for consumables (Repeat Order) ")],-1)),ux=Ve(()=>e("tr",null,[e("td",{colspan:"3"}," *10 Days lead time for (New Request) beyond TOR for Local Vendor ")],-1)),_x=Ve(()=>e("tr",null,[e("td",{colspan:"3"}," *30 Days lead time for (New Request) beyond TOR for Foreign Vendor ")],-1)),mx={class:"signature"},px=Ve(()=>e("br",null,null,-1)),hx={style:{"text-decoration":"underline"}},vx=Ve(()=>e("br",null,null,-1)),bx={class:"signature"},fx=Ve(()=>e("br",null,null,-1)),$x={style:{"text-decoration":"underline"}},yx=Ve(()=>e("br",null,null,-1)),gx={class:"signature"},kx=Ve(()=>e("br",null,null,-1)),wx={style:{"text-decoration":"underline"}},xx=Ve(()=>e("br",null,null,-1)),Cx=Ve(()=>e("br",null,null,-1)),Sx={key:0},Dx={key:0,class:"fab-container"},Mx=Ve(()=>e("i",{class:"fas fa-download"},null,-1)),Vx=[Mx],Ux={__name:"MrfRequestApproved",setup(s){const b=`${he().params.id}`,m=()=>{const c=document.getElementById("exportPDF");Ge().from(c).save(`${b}.pdf`)},n=c=>c?c.toFixed(2):"0.00",d=Me({id:"",mrfOrderNumber:"",areaDepartment:"",requisitioner:"",daterequested:"",dateNeeded:"",Purpose:"",materiallist:[],checkedBy:"",checkedPosition:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",financeby:"",financePosition:"",remarks:"",Status:"",approveby:"",approvedPosition:""}),i=()=>{T.get(`/web/Mrf-request/${he().params.id}`).then(c=>{d.id=c.data.record.id,d.mrfOrderNumber=c.data.record.mrf_order_number,d.areaDepartment=c.data.record.site_name,d.requisitioner=c.data.record.requisitioner,d.daterequested=le(c.data.record.date_requested).format("MMMM D, YYYY"),d.dateNeeded=le(c.data.record.date_needed).format("MMMM D, YYYY"),d.Purpose=c.data.record.purpose,d.materiallist=c.data.record.mrf_items_parts,d.checkedBy=c.data.record.createdby.cfull_name,d.checkedPosition=c.data.record.createdby.cposition?c.data.record.createdby.cposition:"",d.checkedDate=le(c.data.record.checkedDate).format("MMMM D, YYYY"),d.checkedTime=le(c.data.record.checkedTime).format("h:mm:ss a"),d.reviewedBy=c.data.record.reviewedBy,d.reviewedDate=le(c.data.record.reviewedDate).format("MMMM D, YYYY"),d.approvedBy=c.data.record.noted_by.ufull_name,d.approvedPosition=c.data.record.noted_by.uposition?c.data.record.noted_by.uposition:"",d.approvedDate=le(c.data.record.approvedDate).format("MMMM D, YYYY"),d.remarks=c.data.record.remarks,d.Status=c.data.record.status,d.financeby=c.data.record.finance_by.user_finance,d.financePosition=c.data.record.finance_by.finance_position}).catch(c=>{console.log(c.message)})};return ue(()=>{i(),document.title=b}),(c,p)=>(a(),o(B,null,[e("div",H4,[z4,e("div",J4,[["P","C"].includes(d.Status)?(a(),o("div",{key:0,class:P(["ribbon",{warning:d.Status==="P",closed:d.Status==="C"}])},[e("span",null,t(d.Status==="P"?"Pending":d.Status==="C"?"Reject":d.Status==="P"),1)],2)):U("",!0),e("div",Q4,[e("div",G4,[e("div",W4,[e("div",K4,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,X4)]),Z4,e("div",ex,[e("span",null,t(d.mrfOrderNumber),1)])]),e("table",tx,[e("tr",null,[e("td",null,"SITE: "+t(d.areaDepartment),1),e("td",null,"DATE REQUEST: "+t(d.daterequested),1)]),e("tr",null,[e("td",null,"REQUISITIONER: "+t(d.checkedBy),1),e("td",null,"DATE NEEDED: "+t(d.dateNeeded),1)])]),e("table",sx,[ax,e("tbody",null,[(a(!0),o(B,null,X(d.materiallist,(l,f)=>(a(),o("tr",{key:f},[e("td",null,t(f+1),1),e("td",null,t(l.particulars),1),e("td",null,t(l.description),1),e("td",null,t(l.quantity),1),e("td",null,t(l.uom),1),e("td",ox,"\u20B1"+t(l.unit_price),1),e("td",lx,"\u20B1"+t(n(l.quantity*l.unit_price)),1)]))),128))])]),e("p",nx,"PURPOSE: "+t(d.Purpose),1),e("table",dx,[e("tr",null,[e("td",ix,"PREPARED BY: "+t(d.checkedBy),1)]),cx,rx,ux,_x,e("tr",null,[e("td",mx,[q(" Prepared by:"),px,e("span",hx,t(d.checkedBy),1),q(),vx,q(" "+t(d.checkedPosition),1)]),e("td",bx,[q(" Noted by: "),fx,e("span",$x,t(d.approvedBy),1),yx,q(" "+t(d.approvedPosition),1)]),e("td",gx,[q(" Checked by: "),kx,e("span",wx,t(d.financeby),1),xx,q(" "+t(d.financePosition),1)])])]),Cx,d.Status==="A"?(a(),o("span",Sx,"Approved date:("+t(d.approvedDate)+")",1)):U("",!0)])])])]),d.Status==="A"?(a(),o("div",Dx,[e("div",{class:"button iconbutton bg-success",onClick:p[0]||(p[0]=l=>m())},Vx)])):U("",!0)],64))}};var kt=be(Ux,[["__scopeId","data-v-22331331"]]);const Ze=s=>(ye("data-v-4ea15a94"),s=s(),ge(),s),Ax={id:"exportPDF"},Px=Ze(()=>e("br",null,null,-1)),qx={class:"container"},Ix={class:"row align-items-center"},Tx={class:"container-fluid"},Rx={class:"row"},Ex={class:"col-auto"},Lx={key:0},Yx=["item"],Fx={class:"d-flex align-items-center"},Nx={class:"qr-code"},Bx={class:"content ml-3"},jx=Ze(()=>e("div",null,"Property Owner",-1)),Ox=Ze(()=>e("div",null,"Safexpress Logistics Inc.",-1)),Hx={key:1},zx=Ze(()=>e("p",null,"No data available.",-1)),Jx=[zx],Qx={class:"fab-container"},Gx=Ze(()=>e("i",{class:"fas fa-download"},null,-1)),Wx=[Gx],ht="Print Asset Tag",Kx={__name:"PrintAsset",setup(s){he(),Be();const b=r({data:[]}),m=sessionStorage.getItem("selectedItems"),d=(m?m.split(",").map(l=>l.trim()).filter(l=>l!==""):[]).map(Number);sessionStorage.removeItem("selectedIdsArray");const i=()=>{const l=document.getElementById("exportPDF");Ge().from(l).save(`${ht}.pdf`)},c=l=>JSON.stringify({serial:l.serial,assetName:l.asset_name,dateAcquired:l.date_acquired,purchaseCost:l.purchasecost,accountable:l.paccountable}),p=()=>{T.get(`/web/asset/bulkprint/${d.join(",")}`).then(l=>{Array.isArray(l.data)?b.value.data=l.data.map(f=>({...f,qrCodeValue:c(f)})):console.error("Expected an array but got:",l.data)}).catch(l=>{console.log(l.message)})};return ue(()=>{p(),document.title=ht}),(l,f)=>(a(),o(B,null,[e("div",Ax,[Px,e("div",qx,[e("div",Ix,[e("div",Tx,[e("div",Rx,[e("div",Ex,[b.value.data.length>0?(a(),o("div",Lx,[(a(!0),o(B,null,X(b.value.data,(v,D)=>(a(),o("div",{class:"asset-tag",item:v,key:D},[e("div",Fx,[e("div",Nx,[h(_(Nt),{width:200,height:200,value:c(v),"qr-options":{errorCorrectionLevel:"H"},"image-options":{hideBackgroundDots:!0,imageSize:1.5,margin:10},"corners-square-options":{type:"dot",color:"#34495E"},"corners-dot-options":{type:void 0,color:"#41B883"},"dots-options":{type:"dots",color:"#41B883",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#41B883"},{offset:1,color:"#34495E"}]}},image:"/img/logo.png",download:!1},null,8,["value","image"])]),e("div",Bx,[jx,Ox,e("div",null,"Purchase Cost: "+t(v.purchasecost),1),e("div",null,"Accountable: "+t(v.paccountable),1),e("div",null,"S/N "+t(v.serial),1),e("div",null,"Asset Name: "+t(v.asset_name),1),e("div",null,"Date Acquired: "+t(v.date_acquired),1)])])],8,Yx))),128))])):(a(),o("div",Hx,Jx))])])])])])]),e("div",Qx,[e("div",{class:"button iconbutton bg-success",onClick:f[0]||(f[0]=v=>i())},Wx)])],64))}};var wt=be(Kx,[["__scopeId","data-v-4ea15a94"]]),Xx=[{path:"/login",name:"admin.login",component:dd},{path:"/",name:"Dashboard",component:Wt},{path:"/appointments",name:"Appointments",component:bs},{path:"/appointments/create",name:"Appointments",component:pt},{path:"/appointments/:id/edit",name:"Appointments",component:pt},{path:"/user",name:"User",component:Qo},{path:"/settings",name:"Setting",component:Ol},{path:"/profile",name:"Profile",component:Ln},{path:"/client",name:"Client",component:li},{path:"/tech-recommendation",name:"Tech Recomm",component:fr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:Vm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:tv},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:ih},{path:"/usermenu",name:"User Menu",component:zv},{path:"/menu",name:"Menu",component:h1},{path:"/:catchAll(.*)",name:"404 Error Page",component:$t},{path:"/notifications",name:"Notifications",component:Cf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:yt},{path:"/asset-monitoring",name:"Asset Monitoring",component:fg},{path:"/asset-monitoring/bulkPrint/print",name:"print-asset",component:wt},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:Vk},{path:"/usersite",name:"User Site",component:Jk},{path:"/job-order-request-list",name:"Job Order Request",component:q0},{path:"/job-order-request-list/create",name:"Job Order Create",component:b3},{path:"/job-order-request-approved/:id/view",name:"Job-Order-Request-Approved",component:gt},{path:"/Marial-Requisition",name:"Material Requisition Form List",component:i4},{path:"/Marial-Requisition/create",name:"Create Material Requisition Form",component:O4},{path:"/Marial-Requisition-approved/:id/view",name:"marial-Requisition-Approved",component:kt}];const Zx={class:"navbar-nav"},e8=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),t8={class:"nav-item d-none d-sm-inline-block"},s8={class:"navbar-nav ml-auto"},a8=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),o8={class:"nav-link","data-toggle":"dropdown",href:"#"},l8=e("i",{class:"far fa-bell"},null,-1),n8={class:"badge badge-warning navbar-badge"},d8={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},i8={class:"dropdown-header"},c8=e("div",{class:"dropdown-divider"},null,-1),r8=e("i",{class:"fas fa-envelope mr-2"},null,-1),u8={class:"float-right text-muted text-sm"},_8={key:1,class:"text-center text-muted py-3"},m8=e("div",{class:"dropdown-divider"},null,-1),p8=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),h8={class:"nav-item dropdown"},v8={class:"nav-link","data-toggle":"dropdown",href:"#"},b8={class:"user-panel d-flex",style:{top:"-5px"}},f8={class:"info"},$8={key:0,class:"image"},y8=["src"],g8={key:1,class:"image"},k8=["src"],w8=["src"],x8={class:"dropdown-menu dropdown-menu-sg dropdown-menu-right"},C8=e("i",{class:"fas fa-user-circle"},null,-1),S8={__name:"AppNavbar",setup(s){const b=We(),m=r([]),n=_e(),d=()=>{T.get("/api/notifications").then(i=>{m.value=i.data.notifications}).catch(i=>{console.error("Error fetching notifications",i)})};return ue(()=>{d()}),(i,c)=>{const p=fe("router-link");return a(),o("nav",{class:P(["main-header navbar navbar-expand",_(b).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",Zx,[e8,e("li",t8,[e("a",{onClick:c[0]||(c[0]=se((...l)=>_(b).changeTheme&&_(b).changeTheme(...l),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:P(["far",_(b).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",s8,[a8,e("li",{class:"nav-item dropdown",onClick:d},[e("a",o8,[l8,e("span",n8,t(m.value.length),1)]),e("div",d8,[e("span",i8,t(m.value.length)+" Notifications",1),c8,m.value.length>0?(a(!0),o(B,{key:0},X(m.value,l=>(a(),o("a",{key:l.id,href:"#",class:"dropdown-item"},[r8,q(" "+t(l.data?l.data:"No message available")+" ",1),e("span",u8,t(_(le)(l.created_at)),1)]))),128)):(a(),o("p",_8,"No new notifications")),m8,h(p,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[q("See All Notifications")]),_:1})])]),p8,e("li",h8,[e("a",v8,[e("div",b8,[e("div",f8,t(_(n).user.name),1),_(n).user.avatar===""?(a(),o("div",$8,[e("img",{src:_(n).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,y8)])):_(n).user.avatar!==""?(a(),o("div",g8,[_(n).user.gender==="Male"?(a(),o("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,k8)):_(n).user.gender==="Female"?(a(),o("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,w8)):U("",!0)])):U("",!0)])]),e("div",x8,[h(p,{class:"dropdown-item",to:"/profile"},{default:Z(()=>[C8,q(" My Profile")]),_:1})])])])],2)}}},D8={class:"main-sidebar sidebar-dark-primary elevation-4"},M8={href:"#",class:"brand-link"},V8=["src"],U8={class:"brand-text font-weight-light"},A8={class:"sidebar"},P8={class:"mt-2"},q8={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},I8={key:0,class:"right fas fa-angle-left"},T8={key:0,class:"nav nav-treeview"},R8={class:"nav-item"},E8={class:"nav-link"},L8=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),Y8=e("p",null,"Logout",-1),F8=[L8,Y8],N8={__name:"SidebarLeft",setup(s){const b=Be(),m=_e(),n=We(),d=r({data:[]}),i=()=>{axios.get("/web/menu").then(l=>{d.value=l.data}).catch(l=>{console.log(l)})},c=l=>l===b.currentRoute.value.path,p=()=>{axios.post("/logout").then(l=>{m.user.name="",b.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),i()}),(l,f)=>{const v=fe("router-link");return a(),o("aside",D8,[e("a",M8,[e("img",{src:"/img/safe1.png",alt:" Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,V8),e("span",U8,t(_(n).setting.app_name),1)]),e("div",A8,[e("nav",P8,[e("ul",q8,[(a(!0),o(B,null,X(d.value,D=>(a(),o("li",{key:D.id,class:P({"nav-item":!0,"menu-is-opening":D.submenus&&D.submenus.length>0})},[h(v,{class:P({"nav-link":!0,active:c(D.menu_route)}),to:`${D.menu_route}`},{default:Z(()=>[e("i",{class:P("nav-icon "+D.menu_icon)},null,2),e("p",null,t(D.menu_title),1),D.submenus&&D.submenus.length>0?(a(),o("i",I8)):U("",!0)]),_:2},1032,["class","to"]),D.submenus&&D.submenus.length>0?(a(),o("ul",T8,[(a(!0),o(B,null,X(D.submenus,u=>(a(),o("li",{key:u.id,class:"nav-item"},[h(v,{class:P({"nav-link menu-open":!0,active:c(u.menu_route)}),to:u.menu_route},{default:Z(()=>[e("i",{class:P("nav-icon "+u.menu_icon)},null,2),e("p",null,t(u.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):U("",!0)],2))),128)),e("li",R8,[e("form",E8,[e("a",{href:"#",onClick:se(p,["prevent"])},F8)])])])])])])}}},B8={},j8={class:"control-sidebar control-sidebar-dark"},O8=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),H8=[O8];function z8(s,b){return a(),o("aside",j8,H8)}var J8=be(B8,[["render",z8]]);const Q8={class:"main-footer"},G8={class:"float-right d-none d-sm-block"},W8={href:"#"},K8={__name:"AppFooter",props:{settings:Object},setup(s){const b=_e(),m=r(new Date().getFullYear());return(n,d)=>{var i;return a(),o("footer",Q8,[e("div",G8,t(_(b).user.name),1),e("strong",null,[q("Copyright \xA9 "+t(m.value)+" ",1),e("a",W8,t((i=s.settings)==null?void 0:i.app_name),1),q(".")]),q(" All rights reserved. ")])}}};const X8=s=>(ye("data-v-36653638"),s=s(),ge(),s),Z8={class:"content-wrapper"},e5={class:"content-header"},t5={class:"container-fluid"},s5={class:"row mb-2"},a5={class:"col-sm-6"},o5={class:"m-0"},l5={class:"col-sm-6"},n5={class:"breadcrumb float-sm-right"},d5=X8(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),i5={class:"breadcrumb-item active"},c5={__name:"CustomMainLayout",setup(s){const b=_e(),m=We(),n=xe(()=>m.theme==="dark"?"dark-mode":"");return(d,i)=>{const c=fe("router-view");return _(b).user.name!==""?(a(),o("div",{key:0,class:P(["wrapper",n.value])},[h(S8),h(N8),h(J8),e("div",Z8,[e("section",e5,[e("div",t5,[e("div",s5,[e("div",a5,[e("h1",o5,t(d.$route.name),1)]),e("div",l5,[e("ol",n5,[d5,e("li",i5,t(d.$route.name),1)])])])])]),h(c)]),h(K8)],2)):(a(),o("div",{key:1,class:P(["login-page slibg",n.value])},[h(c)],2))}}};var r5=be(c5,[["__scopeId","data-v-36653638"]]);const u5={__name:"App",setup(s){_e();const b=he(),m=xe(()=>b.name==="Tech-Approved"),n=xe(()=>b.name==="Job-Order-Request-Approved"),d=xe(()=>b.name==="marial-Requisition-Approved"),i=xe(()=>b.name==="print-asset"),c=xe(()=>b.name==="404 Error Page");return(p,l)=>(a(),o("div",null,[!c.value&&!m.value&&!n.value&&!d.value&&!i.value?(a(),ce(r5,{key:0})):m.value?(a(),ce(yt,{key:1})):n.value?(a(),ce(gt,{key:2})):d.value?(a(),ce(kt,{key:3})):i.value?(a(),ce(wt,{key:4})):(a(),ce($t,{key:5}))]))}};var _5=be(u5,[["__scopeId","data-v-435c4714"]]);const m5=Dt(),Je=Ut(_5),xt=Mt({routes:Xx,history:Vt()});xt.beforeEach(async(s,b)=>{const m=_e();if(m.user.name===""&&s.name!=="admin.login"){const n=We();await Promise.all([m.getAuthUser(),n.getSetting()])}});Je.use(jt);Je.use(m5);Je.use(xt);Je.use(Bt);Je.use(Ge);Je.mount("#app");
