import{_ as ht,l as Ae}from"./lodash.d4ecb7e7.js";import{a as F}from"./axios.82d3905a.js";import{a as vt}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as it,c as bt}from"./pinia.210ccde5.js";import{u as fe,a as Ze,c as ft,b as $t}from"./vue-router.abad5649.js";import{r as u,o as _e,i as o,k as e,x as t,_ as p,u as _,e as s,I as Ce,h as Z,j as V,F as H,q as X,d as be,a0 as te,v as I,C as Me,a2 as ee,a3 as ce,aa as Te,p as A,w as he,ab as xe,f as re,B as Je,a5 as Se,a6 as De,ac as et,ad as Ee,a1 as Xe,ae as gt}from"./@vue.04713aa0.js";import{B as yt}from"./vue-chartjs.50c6886f.js";import{C as kt,p as wt,a as xt,b as Ct,c as St,d as Dt,L as Vt}from"./chart.js.562acd0f.js";import{S as ot}from"./sweetalert2.c578665c.js";import{t as Oe}from"./toastr.c863df60.js";import{F as Ue,a as O}from"./vee-validate.1443789f.js";import{f as ct}from"./flatpickr.181c7977.js";import{c as ke,a as R}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as ue}from"./moment.40bc58bf.js";import{a as Fe}from"./laravel-vue-pagination.475a8c82.js";import{C as Ut}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as Mt}from"./@vueuse.5a8c8091.js";import{L as qe}from"./vue3-datepicker.da50a26b.js";import ze from"./html2canvas.4d0ab5af.js";import{h as tt}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{V as At}from"./vue-sweetalert2.891f877f.js";import{d as Pt}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=ht;window.axios=F;window.$=window.jQuery=vt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=it("AuthUserStore",()=>{const a=u({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:a,getAuthUser:async()=>{await F.get("/api/profile").then(m=>{a.value=m.data})}}}),Tt={class:"content"},Et={class:"container-fluid"},qt={class:"card"},Ft={class:"card-header"},Lt={class:"card-body"},It=e("div",{class:"row"},null,-1),Rt={__name:"Dashboard",setup(a){kt.register(wt,xt,Ct,St,Dt,Vt);const f=`${fe().name}`;me(),u("all"),u(0);const m=u(new Date().getFullYear()),l=u({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),r=()=>{axios.get("/api/chart").then(d=>{d.data,l.value=d.data}).catch(d=>{console.error("Error fetching chart data:",d)})},n=u("today"),c=u(0),v=()=>{axios.get("/api/stats/users",{params:{date_range:n.value}}).then(d=>{c.value=d.data.totalUsersCount})};return _e(()=>{r(),v(),document.title=f}),(d,M)=>(s(),o("div",Tt,[e("div",Et,[e("div",qt,[e("div",Ft," Yearly Progress - "+t(m.value),1),e("div",Lt,[p(_(yt),{data:l.value},null,8,["data"])])]),It])]))}},Nt={class:"content"},Yt={class:"container-fluid"},Bt={class:"row"},jt={class:"col-lg-12"},Ht={class:"d-flex justify-content-between mb-2"},Ot=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),I(" Add New Appointment")],-1),zt={class:"btn-group"},Jt=e("span",{class:"mr-1"},"All",-1),Gt={class:"badge badge-pill badge-info"},Qt=["onClick"],Wt={class:"mr-1"},Kt={class:"card"},Xt={class:"card-body"},Zt={class:"table table-bordered"},es=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),ts=e("td",null,null,-1),ss=e("i",{class:"fa fa-edit mr-2"},null,-1),as=["onClick"],os=e("i",{class:"fa fa-trash text-danger"},null,-1),ls=[os],ns={__name:"ListAppointments",setup(a){const f=u(),m=u([]),l=()=>{F.get("/api/appointment-status").then(M=>{m.value=M.data})},r=u([]),n=M=>{f.value=M;const b={};M&&(b.status=M),F.get("/api/appointments",{params:b}).then(C=>{r.value=C.data,console.log(C)})},c=Ce(()=>m.value.map(M=>M.count).reduce((M,b)=>M+b,0)),v=M=>{const b=r.value.data.find(i=>i.id===M).status.name,C=m.value.find(i=>i.name===b);C.count--},d=M=>{ot.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&F.delete(`/api/appointments/${M}`).then(C=>{v(M),r.value.data=r.value.data.filter(i=>i.id!==M),ot.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{n(),l()}),(M,b)=>{const C=be("router-link");return s(),o("div",Nt,[e("div",Yt,[e("div",Bt,[e("div",jt,[e("div",Ht,[e("div",null,[p(C,{to:"/admin/appointments/create"},{default:Z(()=>[Ot]),_:1})]),e("div",zt,[e("button",{onClick:b[0]||(b[0]=i=>n()),type:"button",class:V(["btn",[typeof f.value=="undefined"?"btn-secondary":"btn-default"]])},[Jt,e("span",Gt,t(c.value),1)],2),(s(!0),o(H,null,X(m.value,i=>(s(),o("button",{key:i.id,onClick:x=>n(i.value),type:"button",class:V(["btn",[f.value===i.value?"btn-secondary":"btn-default"]])},[e("span",Wt,t(i.name),1),e("span",{class:V(["badge badge-pill",`badge-${i.color}`])},t(i.count),3)],10,Qt))),128))])]),e("div",Kt,[e("div",Xt,[e("table",Zt,[es,e("tbody",null,[(s(!0),o(H,null,X(r.value.data,(i,x)=>(s(),o("tr",{key:i.id},[e("td",null,t(x+1),1),e("td",null,t(i.client.first_name)+" "+t(i.client.last_name),1),e("td",null,t(i.start_time),1),e("td",null,t(i.end_time),1),ts,e("td",null,[p(C,{to:`/admin/appointments/${i.id}/edit`},{default:Z(()=>[ss]),_:2},1032,["to"]),e("a",{href:"#",onClick:te(Y=>d(i.id),["prevent"])},ls,8,as)])]))),128))])])])])])])])])}}};function pe(){return Oe.options.positionClass="toast-top-right",Oe.options.closeButton=!0,Oe.options.progressBar=!0,Oe}const ds={class:"content-header"},is={class:"container-fluid"},cs={class:"row mb-2"},rs={class:"col-sm-6"},us={class:"m-0"},_s={key:0},ms={key:1},ps={class:"col-sm-6"},hs={class:"breadcrumb float-sm-right"},vs={class:"breadcrumb-item"},bs={class:"breadcrumb-item"},fs={class:"breadcrumb-item active"},$s={key:0},gs={key:1},ys={class:"content"},ks={class:"container-fluid"},ws={class:"row"},xs={class:"col-lg-12"},Cs={class:"card"},Ss={class:"card-body"},Ds={class:"row"},Vs={class:"col-md-6"},Us={class:"form-group"},Ms=e("label",{for:"title"},"Title",-1),As={class:"invalid-feedback"},Ps={class:"col-md-6"},Ts={class:"form-group"},Es=e("label",{for:"client"},"Client Name",-1),qs=["value"],Fs={class:"invalid-feedback"},Ls={class:"row"},Is={class:"col-md-6"},Rs={class:"form-group"},Ns=e("label",{for:"start-time"},"Start Time",-1),Ys={class:"invalid-feedback"},Bs={class:"col-md-6"},js={class:"form-group"},Hs=e("label",{for:"end-time"},"End Time",-1),Os={class:"invalid-feedback"},zs={class:"form-group"},Js=e("label",{for:"description"},"Description",-1),Gs={class:"invalid-feedback"},Qs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),lt={__name:"AppointmentForm",setup(a){const f=Ze(),m=fe(),l=pe(),r=Me({title:"",client_id:"",start_time:"",end_time:"",description:""}),n=(i,x)=>{C.value?v(i,x):c(i,x)},c=(i,x)=>{F.post("/api/appointments/create",r).then(Y=>{f.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(Y=>{x.setErrors(Y.response.data.errors)})},v=(i,x)=>{F.put(`/api/appointments/${m.params.id}/edit`,r).then(Y=>{f.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(Y=>{x.setErrors(Y.response.data.errors)})},d=u(),M=()=>{F.get("/api/view-clients").then(i=>{d.value=i.data})},b=()=>{F.get(`/api/appointments/${m.params.id}/edit`).then(({data:i})=>{r.title=i.title,r.client_id=i.client_id,r.start_time=i.formatted_start_time,r.end_time=i.formatted_end_time,r.description=i.description})},C=u(!1);return _e(()=>{m.name==="admin.appointments.edit"&&(C.value=!0,b()),ct(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),M()}),(i,x)=>{const Y=be("router-link");return s(),o(H,null,[e("div",ds,[e("div",is,[e("div",cs,[e("div",rs,[e("h1",us,[C.value?(s(),o("span",_s,"Edit")):(s(),o("span",ms,"Create")),I(" Appointment")])]),e("div",ps,[e("ol",hs,[e("li",vs,[p(Y,{to:"/admin/dashboard"},{default:Z(()=>[I("Home")]),_:1})]),e("li",bs,[p(Y,{to:"/admin/appointments"},{default:Z(()=>[I("Appointments")]),_:1})]),e("li",fs,[C.value?(s(),o("span",$s,"Edit")):(s(),o("span",gs,"Create"))])])])])])]),e("div",ys,[e("div",ks,[e("div",ws,[e("div",xs,[e("div",Cs,[e("div",Ss,[p(_(Ue),{onSubmit:n},{default:Z(({errors:E})=>[e("div",Ds,[e("div",Vs,[e("div",Us,[Ms,ee(e("input",{"onUpdate:modelValue":x[0]||(x[0]=Q=>r.title=Q),type:"text",class:V(["form-control",{"is-invalid":E.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ce,r.title]]),e("span",As,t(E.title),1)])]),e("div",Ps,[e("div",Ts,[Es,ee(e("select",{"onUpdate:modelValue":x[1]||(x[1]=Q=>r.client_id=Q),id:"client",class:V(["form-control",{"is-invalid":E.client_id}])},[(s(!0),o(H,null,X(d.value,Q=>(s(),o("option",{value:Q.id,key:Q.id},t(Q.first_name)+" "+t(Q.last_name),9,qs))),128))],2),[[Te,r.client_id]]),e("span",Fs,t(E.client_id),1)])])]),e("div",Ls,[e("div",Is,[e("div",Rs,[Ns,ee(e("input",{"onUpdate:modelValue":x[2]||(x[2]=Q=>r.start_time=Q),type:"text",class:V(["form-control flatpickr",{"is-invalid":E.start_time}]),id:"start-time"},null,2),[[ce,r.start_time]]),e("span",Ys,t(E.start_time),1)])]),e("div",Bs,[e("div",js,[Hs,ee(e("input",{"onUpdate:modelValue":x[3]||(x[3]=Q=>r.end_time=Q),type:"text",class:V(["form-control flatpickr",{"is-invalid":E.end_time}]),id:"end-time"},null,2),[[ce,r.end_time]]),e("span",Os,t(E.end_time),1)])])]),e("div",zs,[Js,ee(e("textarea",{"onUpdate:modelValue":x[4]||(x[4]=Q=>r.description=Q),class:V(["form-control",{"is-invalid":E.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ce,r.description]]),e("span",Gs,t(E.description),1)]),Qs]),_:1})])])])])])])],64)}}},Ws=["checked"],Ks=["value","selected"],Xs=["value","selected"],Zs=e("i",{class:"fa fa-edit"},null,-1),ea=[Zs],ta=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),sa=[ta],aa={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(a,{emit:f}){const m=pe(),l=a,r=f,n=u([{name:"ADMIN",value:1},{name:"USER",value:2}]),c=u([]),v=()=>{F.get("/api/users/userlist").then(C=>{c.value=C.data}).catch(C=>{console.log(C)})},d=(C,i)=>{F.patch(`/api/users/${C.id}/change-role`,{role:i}).then(()=>{m.success("Role changed successfully!")})},M=(C,i)=>{F.patch(`/api/users/${C.id}/change-sitehead`,{sitehead_user_id:i}).then(()=>{m.success("Sitehead changed successfully!")})},b=()=>{r("toggleSelection",l.user)};return _e(()=>{v()}),(C,i)=>(s(),o("tr",null,[e("td",null,[a.user.name!="admin"?(s(),o("input",{key:0,type:"checkbox",checked:a.selectAll,onChange:b},null,40,Ws)):A("",!0)]),e("td",null,t(a.index+1),1),e("td",null,t(a.user.first_name+" "+a.user.last_name),1),e("td",null,t(a.user.email),1),e("td",null,t(a.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:i[0]||(i[0]=x=>d(a.user,x.target.value))},[(s(!0),o(H,null,X(n.value,x=>(s(),o("option",{key:x.id,value:x.value,selected:a.user.role===x.name},t(x.name),9,Ks))),128))],32)]),e("td",null,[a.user.name!="admin"?(s(),o("select",{key:0,class:"form-control",onChange:i[1]||(i[1]=x=>M(a.user,x.target.value))},[(s(!0),o(H,null,X(c.value,x=>(s(),o("option",{key:x.id,value:x.id,selected:a.user.sitehead_user_id===x.id},t(x.first_name+" "+x.last_name),9,Xs))),128))],32)):A("",!0)]),e("td",null,[e("a",{href:"#",onClick:i[2]||(i[2]=te(x=>C.$emit("editUser",a.user),["prevent"]))},ea),a.user.id!=1?(s(),o("a",{key:0,href:"#",onClick:i[3]||(i[3]=te(x=>C.$emit("confirmUserDeletion",a.user.id),["prevent"]))},sa)):A("",!0)])]))}},oa={class:"content"},la={class:"container-fluid"},na={class:"d-flex justify-content-between mb-2"},da={class:"d-flex"},ia=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ca={key:0},ra=e("i",{class:"fa fa-trash mr-1"},null,-1),ua={class:"ml-2"},_a={class:"card"},ma={class:"card-body"},pa={class:"dispatch-table"},ha={class:"table-responsive"},va={class:"table table-bordered table-hover table-sm"},ba=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),fa={key:0},$a={key:1},ga=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ya=[ga],ka=["index"],wa={class:"card"},xa={class:"card-body"},Ca={class:"list-field"},Sa=e("span",{class:"mb-1 dis"},"Name:",-1),Da={class:"list-field"},Va=e("span",{class:"mb-1 dis"},"Email:",-1),Ua={class:"list-field"},Ma=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Aa={class:"list-field"},Pa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ta=["onChange"],Ea=["value","selected"],qa=e("hr",null,null,-1),Fa={class:"row"},La={key:0,class:"col"},Ia=["onClick"],Ra=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na=["onClick"],Ya=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),I(" Remove ")],-1),Ba=[Ya],ja={key:1,class:"col"},Ha=["onClick"],Oa=e("i",{class:"fa fa-pencil-square-o"},null,-1),za={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ja={class:"modal-dialog",role:"document"},Ga={class:"modal-content"},Qa={class:"modal-header"},Wa={class:"modal-title",id:"staticBackdropLabel"},Ka={key:0},Xa={key:1},Za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),eo={class:"modal-body"},to={class:"form-group"},so=e("label",{for:"name"},"Username",-1),ao={class:"invalid-feedback"},oo={class:"d-flex justify-content-between"},lo={class:"d-flex"},no={class:"form-group"},io=e("label",{for:"email"},"Email",-1),co={class:"invalid-feedback"},ro={class:"d-flex"},uo={class:"form-group"},_o=e("label",{for:"siteDropdown"},"Gender",-1),mo=e("option",{value:"",disabled:""}," Select a gender ",-1),po=["value"],ho={class:"d-flex justify-content-between"},vo={class:"d-flex"},bo={class:"form-group"},fo=e("label",{for:"first_name"},"Fist Name",-1),$o={class:"invalid-feedback"},go={class:"d-flex"},yo={class:"form-group"},ko=e("label",{for:"last_name"},"Last Name",-1),wo={class:"invalid-feedback"},xo={class:"form-group"},Co=e("label",{for:"position"},"Position",-1),So={class:"invalid-feedback"},Do={class:"form-group"},Vo=e("label",{for:"password"},"Password",-1),Uo={class:"invalid-feedback"},Mo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Ao={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Po={class:"modal-dialog",role:"document"},To={class:"modal-content"},Eo=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),qo={class:"modal-footer"},Fo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Lo={__name:"UserList",setup(a){const f=`${fe().name}`,m=me(),l=pe(),r=u({data:[]}),n=u(!1),c=u(),v=u(null);u([]),u(null);const d=u([{name:"Male",value:1},{name:"Female",value:2}]),M=(N=1)=>{F.get(`/api/users?page=${N}`,{params:{query:z.value}}).then(D=>{r.value=D.data,q.value=[],K.value=!1})},b=ke({name:R().required(),last_name:R().required(),first_name:R().required(),email:R().email().required(),password:R().required().min(8),gender:R().required()}),C=ke({name:R().required(),last_name:R().required(),first_name:R().required(),email:R().email().required(),password:R().when((N,D)=>N?D.required().min(8):D),gender:R().required()}),i=u([]),x=()=>{F.get("/api/users/userlist").then(N=>{i.value=N.data}).catch(N=>{console.log(N)})},Y=(N,D)=>{F.patch(`/api/users/${N.id}/change-sitehead`,{sitehead_user_id:D}).then(()=>{l.success("Sitehead changed successfully!")})},E=(N,{resetForm:D,setErrors:y})=>{F.post("/api/users",N).then(w=>{r.value.data.unshift(w.data),$("#userFormModal").modal("hide"),D(),l.success("User created successfully!")}).catch(w=>{w.response.data.errors&&(y(w.response.data.errors),l.warning(w.response.data.errors.name))})},Q=()=>{n.value=!1,$("#userFormModal").modal("show")},ae=N=>{n.value=!0,v.value.resetForm(),$("#userFormModal").modal("show"),c.value={id:N.id,name:N.name,email:N.email,sitehead_user_id:N.sitehead_user_id,first_name:N.first_name,last_name:N.last_name,gender:N.gender}},U=(N,{setErrors:D})=>{F.put("/api/users/"+c.value.id,N).then(y=>{const w=r.value.data.findIndex(de=>de.id===y.data.id);r.value.data[w]=y.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(y=>{D(y.response.data.errors),console.log(y)})},B=(N,D)=>{n.value?U(N,D):E(N,D)},z=u(null),q=u([]),g=N=>{const D=q.value.indexOf(N.id);D===-1?q.value.push(N.id):q.value.splice(D,1),console.log(q.value)},j=u(null),S=N=>{j.value=N,$("#deleteUserModal").modal("show")},J=()=>{F.delete(`/api/users/${j.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),r.value.data=r.value.data.filter(N=>N.id!==j.value)})},ie=()=>{F.delete("/api/users",{data:{ids:q.value}}).then(N=>{r.value.data=r.value.data.filter(D=>!q.value.includes(D.id)),q.value=[],K.value=!1,l.success(N.data.message)})},K=u(!1);return he(z,Ae.exports.debounce(()=>{M()},300)),_e(()=>{M(),x(),document.title=f}),(N,D)=>{const y=be("font");return s(),o(H,null,[e("div",oa,[e("div",la,[e("div",na,[e("div",da,[e("button",{onClick:Q,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ia,I(" User ")]),q.value.length>0?(s(),o("div",ca,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ra,I(" Delete Selected ")]),e("span",ua,"Selected "+t(q.value.length)+" users",1)])):A("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=w=>z.value=w),class:"form-control",placeholder:"Search..."},null,512),[[ce,z.value]])])]),e("div",_a,[e("div",ma,[e("div",pa,[e("div",ha,[p(y,{size:"2"},{default:Z(()=>[e("table",va,[ba,r.value.data.length>0?(s(),o("tbody",fa,[(s(!0),o(H,null,X(r.value.data,(w,de)=>(s(),re(aa,{key:w.id,user:w,index:de,onEditUser:ae,onConfirmUserDeletion:S,onToggleSelection:g,"select-all":K.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),o("tbody",$a,ya))])]),_:1})])]),(s(!0),o(H,null,X(r.value.data,(w,de)=>(s(),o("div",{class:"dispatch-list",key:w.id,index:de},[e("div",wa,[e("div",xa,[e("div",Ca,[Sa,e("span",null,t(w.first_name+" "+w.last_name),1)]),e("div",Da,[Va,e("span",null,t(w.email),1)]),e("div",Ua,[Ma,e("span",null,t(w.formatted_created_at),1)]),e("div",Aa,[Pa,e("span",null,[w.name!="admin"?(s(),o("select",{key:0,class:"form-control",onChange:le=>Y(w,le.target.value)},[(s(!0),o(H,null,X(i.value,le=>(s(),o("option",{key:le.id,value:le.id,selected:le.sitehead_user_id===le.id},t(le.first_name+" "+le.last_name),9,Ea))),128))],40,Ta)):A("",!0)])]),qa,e("div",Fa,[_(m).user.role==="ADMIN"?(s(),o("div",La,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:le=>ae(w)},[Ra,I(" Edit ")],8,Ia),e("button",{class:"btn btnsm btn-danger btn-block",onClick:le=>S(w.id)},Ba,8,Na)])):A("",!0),_(m).user.role==="USER"?(s(),o("div",ja,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:le=>ae(w)},[Oa,I(" Edit ")],8,Ha)])):A("",!0)])])])],8,ka))),128))])]),p(_(Fe),{data:r.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",za,[e("div",Ja,[e("div",Ga,[e("div",Qa,[e("h5",Wa,[n.value?(s(),o("span",Ka,"Edit User")):(s(),o("span",Xa,"Add New User"))]),Za]),p(_(Ue),{ref_key:"form",ref:v,onSubmit:B,"validation-schema":n.value?_(C):_(b),"initial-values":c.value},{default:Z(({errors:w})=>[e("div",eo,[e("div",to,[so,p(_(O),{name:"name",type:"text",class:V(["form-control",{"is-invalid":w.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",ao,t(w.name),1)]),e("div",oo,[e("div",lo,[e("div",no,[io,p(_(O),{name:"email",type:"email",class:V(["form-control",{"is-invalid":w.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",co,t(w.email),1)])]),e("div",ro,[e("div",uo,[_o,p(_(O),{id:"gender",name:"gender",as:"select",class:V(["form-control",{"is-invalid":w.gender}])},{default:Z(()=>[mo,(s(!0),o(H,null,X(d.value,de=>(s(),o("option",{key:de.name,value:de.name},t(de.name),9,po))),128))]),_:2},1032,["class"])])])]),e("div",ho,[e("div",vo,[e("div",bo,[fo,p(_(O),{name:"first_name",type:"text",class:V(["form-control",{"is-invalid":w.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",$o,t(w.first_name),1)])]),e("div",go,[e("div",yo,[ko,p(_(O),{name:"last_name",type:"text",class:V(["form-control",{"is-invalid":w.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",wo,t(w.last_name),1)])])]),e("div",xo,[Co,p(_(O),{name:"position",type:"text",class:V(["form-control",{"is-invalid":w.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",So,t(w.position),1)]),e("div",Do,[Vo,p(_(O),{name:"password",type:"password",class:V(["form-control",{"is-invalid":w.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Uo,t(w.password),1)])]),Mo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ao,[e("div",Po,[e("div",To,[Eo,e("div",qo,[Fo,e("button",{onClick:te(J,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Io=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ro=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),No=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Yo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Pe={__name:"ContentLoader",setup(a){return(f,m)=>f.isloading?(s(),re(_(Ut),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Io,Ro,No,Yo]),_:1})):A("",!0)}};var ye=(a,f)=>{const m=a.__vccOpts||a;for(const[l,r]of f)m[l]=r;return m};const Le=a=>(Se("data-v-5b4c8080"),a=a(),De(),a),Bo={class:"content"},jo={class:"container-fluid"},Ho={class:"row"},Oo={class:"col-md-6"},zo={class:"card"},Jo=xe('<ul class="nav nav-tabs" data-v-5b4c8080><li class="nav-item" data-v-5b4c8080><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-5b4c8080>General Settings</a></li><li class="nav-item" data-v-5b4c8080><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-5b4c8080>Site Settings</a></li></ul>',1),Go={class:"tab-content"},Qo={class:"tab-pane fade show active",id:"general-tab"},Wo={class:"card-body"},Ko={class:"form-group"},Xo=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),Zo={key:0,class:"text-danger text-sm"},el={class:"form-group"},tl=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),sl=xe('<option value="m/d/Y" data-v-5b4c8080> MM/DD/YYYY </option><option value="d/m/Y" data-v-5b4c8080> DD/MM/YYYY </option><option value="Y-m-d" data-v-5b4c8080> YYYY-MM-DD </option><option value="F j, Y" data-v-5b4c8080> Month DD, YYYY </option><option value="j F Y" data-v-5b4c8080> DD Month YYYY </option>',5),al=[sl],ol={key:0,class:"text-danger text-sm"},ll={class:"form-group"},nl=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),dl={key:0,class:"text-danger text-sm"},il=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),I("Save Changes ")])],-1)),cl={class:"tab-pane fade",id:"site"},rl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ul={key:0,class:"list-group-item p-0"},_l={class:"d-flex justify-content-center"},ml=["onClick"],pl={class:"ml-auto my-1 mr-1"},hl=["onClick"],vl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),bl=[vl],fl={class:"m-2 list-unstyled"},$l={key:1},gl={key:0,class:"list-group-item p-0"},yl={class:"d-flex justify-content-center"},kl=["onClick"],wl={class:"ml-auto my-1 mr-1"},xl=["onClick"],Cl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),Sl=[Cl],Dl={key:1,class:"mt-2 text-center"},Vl=Le(()=>e("span",null,"No Site",-1)),Ul=[Vl],Ml={class:"input-group"},Al=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Pl={__name:"UpdateSetting",setup(a){const f=`${fe().name}`,m=u([]),l=pe(),r=u(!0),n=u([]),c=u(!1),v=u(),d=Je("$swal"),M=u({id:"",site_name:"",is_active:""}),b=()=>{c.value=!0,axios.get("/api/site").then(z=>{c.value=!1,n.value=z.data}).catch(z=>{console.log(z)})},C=Ce(()=>Array.isArray(n.value)?n.value.filter(z=>z.is_active===0):[]),i=Ce(()=>C.value.length),x=()=>{r.value=!r.value},Y=()=>{var z,q;c.value=!0,axios.post("/api/site",{id:(z=M.value)==null?void 0:z.id,site_name:(q=M.value)==null?void 0:q.site_name,is_active:!0}).then(g=>{b(),M.value={id:null,site_name:"",is_active:!0},l.success(g.data.message),c.value=!1}).catch(g=>{g.response&&g.response.status===422&&(U.value=g.response.data.errors)})},E=z=>{M.value.is_active=z.is_active===1?0:1,axios.post("/api/site",{id:z.id,site_name:z.site_name,is_active:M.value.is_active}).then(q=>{axios.get("/api/site").then(g=>{n.value=g.data}).catch(g=>{console.error("Error fetching tasks:",g),l.error("Error fetching tasks. Please try again.")})}).catch(q=>{console.error("Error adding new task:",q),l.error("Error adding new task. Please try again.")})},Q=z=>{if(z.is_active===null||z.is_active===0){d.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}M.value.id=z.id,M.value.site_name=z.site_name},ae=()=>{axios.get("/api/settings").then(z=>{m.value=z.data})},U=u(),B=()=>{U.value="",axios.post("/api/settings",m.value).then(z=>{l.success("Settings updated successfully!")}).catch(z=>{z.response&&z.response.status===422&&(U.value=z.response.data.errors)})};return _e(()=>{b(),ae(),document.title=f}),(z,q)=>(s(),o("div",Bo,[e("div",jo,[e("div",Ho,[e("div",Oo,[e("div",zo,[Jo,e("div",Go,[e("div",Qo,[e("form",{onSubmit:q[3]||(q[3]=te(g=>B(),["prevent"]))},[e("div",Wo,[e("div",Ko,[Xo,ee(e("input",{"onUpdate:modelValue":q[0]||(q[0]=g=>m.value.app_name=g),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ce,m.value.app_name]]),U.value&&U.value.app_name?(s(),o("span",Zo,t(U.value.app_name[0]),1)):A("",!0)]),e("div",el,[tl,ee(e("select",{"onUpdate:modelValue":q[1]||(q[1]=g=>m.value.date_format=g),class:"form-control"},al,512),[[Te,m.value.date_format]]),U.value&&U.value.date_format?(s(),o("span",ol,t(U.value.date_format[0]),1)):A("",!0)]),e("div",ll,[nl,ee(e("input",{"onUpdate:modelValue":q[2]||(q[2]=g=>m.value.pagination_limit=g),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ce,m.value.pagination_limit]]),U.value&&U.value.pagination_limit?(s(),o("span",dl,t(U.value.pagination_limit[0]),1)):A("",!0)])]),il],32)]),e("div",cl,[n.value.length>0?(s(),o("div",rl,[c.value?(s(),re(Pe,{key:0})):A("",!0),(s(!0),o(H,null,X(n.value,g=>(s(),o("ul",{class:"list-group",key:g.id},[g.is_active===1?(s(),o("li",ul,[e("div",_l,[e("div",null,[e("span",{class:V({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:j=>E(g),class:V({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,ml),I(" "+t(g.site_name),1)],2)]),e("div",pl,[e("button",{onClick:j=>Q(g),class:"btn btn-outline"},bl,8,hl)])])])):A("",!0)]))),128)),e("li",fl,[i.value>0?(s(),o("button",{key:0,class:"btn btn-sm bg-danger",onClick:x},[e("i",{class:V(["fa",r.value?"fa-arrow-down":"fa-arrow-right"])},null,2),I(" \xA0Deactive List "+t(i.value),1)])):A("",!0)]),r.value?(s(),o("div",$l,[(s(!0),o(H,null,X(n.value,g=>(s(),o("ul",{class:"list-group",key:g.id},[g.is_active===0?(s(),o("li",gl,[e("div",yl,[e("div",null,[e("span",{class:V({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:j=>E(g),class:V({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,kl),e("del",null,t(g.site_name),1)],2)]),e("div",wl,[e("button",{onClick:j=>Q(g),class:"btn btn-outline"},Sl,8,xl)])])])):A("",!0)]))),128))])):A("",!0)])):(s(),o("div",Dl,Ul)),p(_(Ue),{ref:"form",onSubmit:Y,"initial-values":v.value},{default:Z(()=>[p(_(O),{name:"id",modelValue:M.value.id,"onUpdate:modelValue":q[4]||(q[4]=g=>M.value.id=g),type:"text",hidden:""},null,8,["modelValue"]),e("div",Ml,[p(_(O),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:M.value.site_name,"onUpdate:modelValue":q[5]||(q[5]=g=>M.value.site_name=g),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Al])]),_:1},8,["initial-values"])])])])])])])]))}};var Tl=ye(Pl,[["__scopeId","data-v-5b4c8080"]]);const El={class:"content"},ql={class:"container-fluid"},Fl={class:"row"},Ll={class:"col-md-3"},Il={class:"card card-primary card-outline"},Rl={class:"card-body box-profile"},Nl={class:"text-center"},Yl=["src"],Bl={class:"profile-username text-center"},jl={class:"text-muted text-center"},Hl={class:"col-md-9"},Ol={class:"card"},zl=xe('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Jl={class:"card-body"},Gl={class:"tab-content"},Ql={class:"tab-pane active",id:"profile"},Wl={class:"form-group row"},Kl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Xl={class:"col-sm-10"},Zl={key:0,class:"text-danger text-sm"},en={class:"form-group row"},tn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),sn={class:"col-sm-10"},an={key:0,class:"text-danger text-sm"},on={class:"form-group row"},ln=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),nn={class:"col-sm-10"},dn={key:0,class:"text-danger text-sm"},cn={class:"form-group row"},rn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),un={class:"col-sm-10"},_n={key:0,class:"text-danger text-sm"},mn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),I(" Save Changes")])])],-1),pn={class:"tab-pane",id:"changePassword"},hn={class:"form-group row"},vn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),bn={class:"col-sm-9"},fn={key:0,class:"text-danger text-sm"},$n={class:"form-group row"},gn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),yn={class:"col-sm-9"},kn={key:0,class:"text-danger text-sm"},wn={class:"form-group row"},xn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),Cn={class:"col-sm-9"},Sn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),I(" Save Changes")])])],-1),Dn={__name:"UpdateProfile",setup(a){const f=me(),m=pe(),l=`${fe().name}`,r=u([]),n=()=>{axios.put("/api/profile",{name:f.user.name,first_name:f.user.first_name,last_name:f.user.last_name,email:f.user.email,role:f.user.role}).then(C=>{m.success("Profile updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(r.value=C.response.data.errors)})},c=Me({currentPassword:"",password:"",passwordConfirmation:""}),v=()=>{r.value="",axios.post("/api/change-user-password",c).then(C=>{m.success(C.data.message);for(const i in c)c[i]=""}).catch(C=>{C.response&&C.response.status===422&&(r.value=C.response.data.errors)})},d=u(null),M=()=>{d.value.click()},b=C=>{const i=C.target.files[0];f.user.avatar=URL.createObjectURL(i);const x=new FormData;x.append("profile_picture",i),axios.post("/api/upload-profile-image",x).then(Y=>{m.success("Image uploaded successfully!")})};return _e(()=>{document.title=l}),(C,i)=>(s(),o("div",El,[e("div",ql,[e("div",Fl,[e("div",Ll,[e("div",Il,[e("div",Rl,[e("div",Nl,[e("input",{onChange:b,ref_key:"fileInput",ref:d,type:"file",class:"d-none"},null,544),e("img",{onClick:M,class:"profile-user-img img-circle",src:_(f).user.avatar,alt:"User profile picture"},null,8,Yl)]),e("h3",Bl,t(_(f).user.name),1),e("p",jl,t(_(f).user.role),1)])])]),e("div",Hl,[e("div",Ol,[zl,e("div",Jl,[e("div",Gl,[e("div",Ql,[e("form",{onSubmit:i[4]||(i[4]=te(x=>n(),["prevent"])),class:"form-horizontal"},[e("div",Wl,[Kl,e("div",Xl,[ee(e("input",{"onUpdate:modelValue":i[0]||(i[0]=x=>_(f).user.name=x),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ce,_(f).user.name]]),r.value&&r.value.name?(s(),o("span",Zl,t(r.value.name[0]),1)):A("",!0)])]),e("div",en,[tn,e("div",sn,[ee(e("input",{"onUpdate:modelValue":i[1]||(i[1]=x=>_(f).user.first_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ce,_(f).user.first_name]]),r.value&&r.value.first_name?(s(),o("span",an,t(r.value.first_name[0]),1)):A("",!0)])]),e("div",on,[ln,e("div",nn,[ee(e("input",{"onUpdate:modelValue":i[2]||(i[2]=x=>_(f).user.last_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ce,_(f).user.last_name]]),r.value&&r.value.last_name?(s(),o("span",dn,t(r.value.last_name[0]),1)):A("",!0)])]),e("div",cn,[rn,e("div",un,[ee(e("input",{"onUpdate:modelValue":i[3]||(i[3]=x=>_(f).user.email=x),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ce,_(f).user.email]]),r.value&&r.value.email?(s(),o("span",_n,t(r.value.email[0]),1)):A("",!0)])]),mn],32)]),e("div",pn,[e("form",{onSubmit:te(v,["prevent"]),class:"form-horizontal"},[e("div",hn,[vn,e("div",bn,[ee(e("input",{"onUpdate:modelValue":i[5]||(i[5]=x=>c.currentPassword=x),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ce,c.currentPassword]]),r.value&&r.value.current_password?(s(),o("span",fn,t(r.value.current_password[0]),1)):A("",!0)])]),e("div",$n,[gn,e("div",yn,[ee(e("input",{"onUpdate:modelValue":i[6]||(i[6]=x=>c.password=x),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ce,c.password]]),r.value&&r.value.password?(s(),o("span",kn,t(r.value.password[0]),1)):A("",!0)])]),e("div",wn,[xn,e("div",Cn,[ee(e("input",{"onUpdate:modelValue":i[7]||(i[7]=x=>c.passwordConfirmation=x),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ce,c.passwordConfirmation]])])]),Sn],32)])])])])])])])]))}};const Ye=a=>(Se("data-v-809e38f2"),a=a(),De(),a),Vn={class:"login-box"},Un={class:"card card-outline card-primary"},Mn=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),An={class:"card-body"},Pn={key:0,class:"alert alert-danger",role:"alert"},Tn={class:"input-group mb-3"},En=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),qn={class:"input-group mb-3"},Fn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Ln=["type"],In={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Rn=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),Nn={class:"row"},Yn={class:"col-12 mb-2"},Bn=["disabled"],jn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Hn=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),On=[Hn],zn={key:1},Jn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Gn="Login",Qn={__name:"Login",setup(a){const f=u(!1),m=pe();me();const l=Ze(),r=Me({email:"",password:""}),n=u(!1),c=u(""),v=()=>{n.value=!0,c.value="",F.post("/login",r).then(()=>{l.push("/"),m.success("Login Success")}).catch(d=>{m.error(d.response.data.message)}).finally(()=>{n.value=!1})};return _e(()=>{document.title=Gn}),(d,M)=>(s(),o("div",Vn,[e("div",Un,[Mn,e("div",An,[c.value?(s(),o("div",Pn,t(c.value),1)):A("",!0),e("form",{onSubmit:te(v,["prevent"])},[e("div",Tn,[En,ee(e("input",{"onUpdate:modelValue":M[0]||(M[0]=b=>r.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ce,r.email]])]),e("div",qn,[Fn,ee(e("input",{"onUpdate:modelValue":M[1]||(M[1]=b=>r.password=b),class:"form-control",placeholder:"Password",type:f.value?"text":"password",onClick:M[2]||(M[2]=(...b)=>d.handleKeyClick&&d.handleKeyClick(...b))},null,8,Ln),[[et,r.password]])]),e("label",In,[ee(e("input",{type:"checkbox","onUpdate:modelValue":M[3]||(M[3]=b=>f.value=b)},null,512),[[Ee,f.value]]),I(" Show Password ")]),Rn,e("div",Nn,[e("div",Yn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:n.value},[n.value?(s(),o("div",jn,On)):(s(),o("span",zn,"Sign In"))],8,Bn)])])],32),Jn])])]))}};var Wn=ye(Qn,[["__scopeId","data-v-809e38f2"]]);const Kn=["checked"],Xn=e("i",{class:"fa fa-edit"},null,-1),Zn=[Xn],ed=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),td=[ed],sd={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(a,{emit:f}){pe();const m=a,l=f,r=()=>{l("toggleSelection",m.item)};return(n,c)=>(s(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:a.selectAll,onChange:r},null,40,Kn)]),e("td",null,t(a.index+1),1),e("td",null,t(a.item.first_name)+" "+t(a.item.last_name),1),e("td",null,t(a.item.email),1),e("td",null,t(a.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:c[0]||(c[0]=te(v=>n.$emit("editUser",a.item),["prevent"]))},Zn),e("a",{href:"#",onClick:c[1]||(c[1]=te(v=>n.$emit("confirmUserDeletion",a.item.id),["prevent"]))},td)])]))}},ad={class:"content"},od={class:"container-fluid"},ld={class:"d-flex justify-content-between"},nd={class:"d-flex"},dd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),id={key:0},cd=e("i",{class:"fa fa-trash mr-1"},null,-1),rd={class:"ml-2"},ud={class:"card"},_d={class:"card-body"},md={class:"table table-bordered"},pd=e("th",{style:{width:"10px"}},"#",-1),hd=e("th",null,"Name",-1),vd=e("th",null,"Email",-1),bd=e("th",null,"Registered Date",-1),fd=e("th",null,"Options",-1),$d={key:0},gd={key:1},yd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),kd=[yd],wd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xd={class:"modal-dialog",role:"document"},Cd={class:"modal-content"},Sd={class:"modal-header"},Dd={class:"modal-title",id:"staticBackdropLabel"},Vd={key:0},Ud={key:1},Md=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ad={class:"modal-body"},Pd={class:"form-group"},Td=e("label",{for:"fist_name"},"First Name",-1),Ed={class:"invalid-feedback"},qd={class:"form-group"},Fd=e("label",{for:"last_name"},"Last Name",-1),Ld={class:"invalid-feedback"},Id={class:"form-group"},Rd=e("label",{for:"email"},"Email",-1),Nd={class:"invalid-feedback"},Yd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Bd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},jd={class:"modal-dialog",role:"document"},Hd={class:"modal-content"},Od=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),zd={class:"modal-footer"},Jd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Gd={__name:"ClientList",setup(a){const f=pe(),m=u({data:[]}),l=u(!1),r=u(),n=u(null),c=(j=1)=>{F.get(`/api/clients?page=${j}`,{params:{query:Y.value}}).then(S=>{m.value=S.data,E.value=[],q.value=!1})},v=ke({first_name:R().required(),last_name:R().required(),email:R().email().required()}),d=ke({first_name:R().required(),last_name:R().required(),email:R().email().required()}),M=(j,{resetForm:S,setErrors:J})=>{F.post("/api/clients",j).then(ie=>{m.value.data.unshift(ie.data),$("#clientFormModal").modal("hide"),S(),f.success("User created successfully!")}).catch(ie=>{ie.response.data.errors&&J(ie.response.data.errors)})},b=()=>{l.value=!1,$("#clientFormModal").modal("show")},C=j=>{l.value=!0,n.value.resetForm(),$("#clientFormModal").modal("show"),r.value={id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}},i=(j,{setErrors:S})=>{F.put("/api/clients/"+r.value.id,j).then(J=>{const ie=m.value.data.findIndex(K=>K.id===J.data.id);m.value.data[ie]=J.data,$("#clientFormModal").modal("hide"),f.success("Client updated successfully!")}).catch(J=>{S(J.response.data.errors),console.log(J)})},x=(j,S)=>{l.value?i(j,S):M(j,S)},Y=u(null),E=u([]),Q=j=>{const S=E.value.indexOf(j.id);S===-1?E.value.push(j.id):E.value.splice(S,1),console.log(E.value)},ae=u(null),U=j=>{ae.value=j,$("#deleteClientModal").modal("show")},B=()=>{F.delete(`/api/clients/${ae.value}`).then(()=>{$("#deleteClientModal").modal("hide"),f.success("Client deleted successfully!"),m.value.data=m.value.data.filter(j=>j.id!==ae.value)})},z=()=>{F.delete("/api/clients",{data:{ids:E.value}}).then(j=>{m.value.data=m.value.data.filter(S=>!E.value.includes(S.id)),E.value=[],q.value=!1,f.success(j.data.message)})},q=u(!1),g=()=>{q.value?E.value=m.value.data.map(j=>j.id):E.value=[],console.log(E.value)};return he(Y,Ae.exports.debounce(()=>{c()},300)),_e(()=>{c()}),(j,S)=>(s(),o(H,null,[e("div",ad,[e("div",od,[e("div",ld,[e("div",nd,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[dd,I(" Add New Client ")]),E.value.length>0?(s(),o("div",id,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[cd,I(" Delete Selected ")]),e("span",rd,"Selected "+t(E.value.length)+" clients",1)])):A("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=J=>Y.value=J),class:"form-control",placeholder:"Search..."},null,512),[[ce,Y.value]])])]),e("div",ud,[e("div",_d,[e("table",md,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":S[1]||(S[1]=J=>q.value=J),onChange:g},null,544),[[Ee,q.value]])]),pd,hd,vd,bd,fd])]),m.value.data.length>0?(s(),o("tbody",$d,[(s(!0),o(H,null,X(m.value.data,(J,ie)=>(s(),re(sd,{key:J.id,item:J,index:ie,onEditUser:C,onConfirmUserDeletion:U,onToggleSelection:Q,"select-all":q.value},null,8,["item","index","select-all"]))),128))])):(s(),o("tbody",gd,kd))])])]),p(_(Fe),{data:m.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",wd,[e("div",xd,[e("div",Cd,[e("div",Sd,[e("h5",Dd,[l.value?(s(),o("span",Vd,"Edit Client")):(s(),o("span",Ud,"Add New Client"))]),Md]),p(_(Ue),{ref_key:"form",ref:n,onSubmit:x,"validation-schema":l.value?_(d):_(v),"initial-values":r.value},{default:Z(({errors:J})=>[e("div",Ad,[e("div",Pd,[Td,p(_(O),{name:"first_name",type:"text",class:V(["form-control",{"is-invalid":J.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Ed,t(J.first_name),1)]),e("div",qd,[Fd,p(_(O),{name:"last_name",type:"text",class:V(["form-control",{"is-invalid":J.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ld,t(J.last_name),1)]),e("div",Id,[Rd,p(_(O),{name:"email",type:"email",class:V(["form-control",{"is-invalid":J.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Nd,t(J.email),1)])]),Yd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Bd,[e("div",jd,[e("div",Hd,[Od,e("div",zd,[Jd,e("button",{onClick:te(B,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const st=a=>(Se("data-v-6b52e506"),a=a(),De(),a),Qd={style:{"text-align":"center"}},Wd={key:0},Kd=st(()=>e("i",{class:"fa fa-edit"},null,-1)),Xd=[Kd],Zd=st(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),ei=[Zd],ti={key:1,style:{"text-align":"center"}},si={key:0},ai=st(()=>e("i",{class:"fa fa-edit"},null,-1)),oi=[ai],li={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(a,{emit:f}){pe();const m=me();return(l,r)=>{const n=be("router-link");return s(),o("tr",null,[e("td",null,t(a.item.recommnum),1),e("td",null,t(a.item.user),1),e("td",null,t(a.item.branch),1),e("td",null,t(a.item.department),1),e("td",null,t(a.item.created_user),1),e("td",Qd,[a.item.statusid==2?(s(),re(n,{key:0,to:`/tech-approved/${a.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:V(["badge",`badge-${a.item.status.color}`])},t(a.item.status.name),3)]),_:1},8,["to"])):(s(),o("span",{key:1,class:V(["badge",`badge-${a.item.status.color}`])},t(a.item.status.name),3))]),e("td",null,t(a.item.created_at),1),_(m).user.role==="ADMIN"?(s(),o("td",Wd,[e("a",{href:"#",onClick:r[0]||(r[0]=te(c=>l.$emit("editUser",a.item),["prevent"]))},Xd),e("a",{href:"#",onClick:r[1]||(r[1]=te(c=>l.$emit("confirmUserDeletion",a.item.id),["prevent"]))},ei)])):A("",!0),_(m).user.role==="USER"?(s(),o("td",ti,[a.item.statusid!=2?(s(),o("div",si,[a.item.created_by==_(m).user.id?(s(),o("a",{key:0,href:"#",onClick:r[2]||(r[2]=te(c=>l.$emit("editUser",a.item),["prevent"]))},oi)):A("",!0)])):A("",!0)])):A("",!0)])}}};var ni=ye(li,[["__scopeId","data-v-6b52e506"]]);const di={class:"content"},ii={class:"container-fluid"},ci={class:"d-flex justify-content-between"},ri={class:"d-flex"},ui=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),_i={key:0},mi=e("i",{class:"fa fa-trash mr-1"},null,-1),pi={class:"ml-2"},hi={class:"card"},vi={class:"card-body"},bi={class:"dispatch-table"},fi={class:"table-responsive"},$i={class:"table table-bordered table-sm"},gi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),yi={key:0},ki={key:1},wi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),xi=[wi],Ci=["item","index"],Si={class:"card"},Di={class:"card-body"},Vi={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Tech #:",-1),Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"User:",-1),Pi={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"Branch:",-1),Ei={class:"list-field"},qi=e("span",{class:"mb-1 dis"},"Department:",-1),Fi={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"Created by:",-1),Ii={class:"list-field"},Ri=e("span",{class:"mb-1 dis"},"Status:",-1),Ni={class:"list-field"},Yi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Bi=e("hr",null,null,-1),ji={class:"row"},Hi={key:0,class:"col"},Oi=["onClick"],zi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ji=["onClick"],Gi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),I(" Remove ")],-1),Qi=[Gi],Wi={key:1,class:"col"},Ki={key:0},Xi=["onClick"],Zi=e("i",{class:"fa fa-pencil-square-o"},null,-1),ec={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},tc={class:"modal-dialog modal-lg",role:"document"},sc={class:"modal-content"},ac={class:"modal-header"},oc={class:"modal-title",id:"staticBackdropLabel"},lc={key:0},nc={key:1},dc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),ic={class:"modal-body"},cc={class:"col-md-12"},rc={class:"row"},uc={class:"col-6"},_c={class:"form-group"},mc=e("label",{for:"branch"},"Branch",-1),pc=e("option",{value:"",disabled:""}," Select Branch ",-1),hc=["value"],vc={class:"invalid-feedback"},bc={class:"form-group"},fc=e("label",{for:"department"},"Department",-1),$c={class:"invalid-feedback"},gc={class:"form-group"},yc=e("label",{for:"warehouse"},"warehouse",-1),kc={class:"invalid-feedback"},wc={class:"form-group"},xc=e("label",{for:"user"},"User",-1),Cc={class:"invalid-feedback"},Sc={class:"col-6"},Dc={class:"form-group"},Vc=e("label",{for:"brand"},"Brand",-1),Uc={class:"form-group"},Mc=e("label",{for:"model"},"Model",-1),Ac={class:"invalid-feedback"},Pc={class:"form-group"},Tc=e("label",{for:"assettag"},"Asset tag",-1),Ec={class:"invalid-feedback"},qc={class:"form-group"},Fc=e("label",{for:"serialnum"},"Serial number",-1),Lc={class:"invalid-feedback"},Ic={class:"col-12"},Rc={class:"form-group"},Nc=e("label",{for:"problem"},"Report Problem",-1),Yc={class:"invalid-feedback"},Bc={class:"form-group"},jc=e("label",{for:"assconducted"},"Assessment conducted",-1),Hc={class:"invalid-feedback"},Oc={class:"form-group"},zc=e("label",{for:"recommendation"},"Recommendation",-1),Jc={class:"invalid-feedback"},Gc={class:"modal-footer"},Qc={key:0},Wc={key:0,class:"btn-group float-l ml-auto"},Kc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Xc={class:"dropdown-menu",role:"menu"},Zc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),er=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),tr={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},sr={class:"modal-dialog",role:"document"},ar={class:"modal-content"},or=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),lr={class:"modal-footer"},nr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),dr={__name:"TechList",setup(a){const f=u(),m=u(),l=pe(),r=u({data:[]});u([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const n=`${fe().name}`,c=()=>{F.get("/web/getsite").then(y=>{m.value=y.data.sites}).catch(y=>{console.log(y)})},v=u(!1),d=u(!1),M=u(),b=Me({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),C=me();u(null);const i=(y=1)=>{v.value=!0,F.get(`/api/tech-recommendations?page=${y}`,{params:{query:q.value}}).then(w=>{v.value=!1,r.value=w.data,g.value=[],D.value=!1})},x=ke({branch:R().required(),department:R().required(),user:R().required(),problem:R().required(),assconducted:R().required(),brand:R().required()}),Y=ke({branch:R().required(),department:R().required(),user:R().required(),problem:R().required(),assconducted:R().required(),brand:R().required()}),E=(y,{resetForm:w,setErrors:de})=>{F.post("/api/tech-recommendations",y).then(le=>{r.value.data.unshift(le.data),$("#FormModal").modal("hide"),w(),l.success("Data created successfully!")}).catch(le=>{le.response.data.errors&&de(le.response.data.errors)})},Q=()=>{d.value=!1,$("#FormModal").modal("show")},ae=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},U=y=>{f.value=y.id,d.value=!0,ae(),b.id=y.id,b.branch=y.branch,b.department=y.department,b.warehouse=y.warehouse,b.user=y.user,b.problem=y.problem,b.brand=y.brand,b.model=y.model,b.assettag=y.assettag,b.serialnum=y.serialnum,b.assconducted=y.assconducted,b.recommendation=y.recommendation,b.ceated_by=y.ceated_by,b.recommnum=y.recommnum,$("#FormModal").modal("show")},B=(y,{setErrors:w})=>{F.put("/api/tech-recommendations/"+y.id,y).then(de=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(de=>{w(de.response.data.errors),console.log(de)})},z=(y,w)=>{d.value?B(b,w):E(y,w)},q=u(null),g=u([]),j=y=>{const w=g.value.indexOf(y.id);w===-1?g.value.push(y.id):g.value.splice(w,1),console.log(g.value)},S=u(null),J=y=>{S.value=y,$("#deleteClientModal").modal("show")},ie=()=>{F.delete(`/api/tech-recommendations/${S.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),r.value.data=r.value.data.filter(y=>y.id!==S.value)})},K=()=>{F.delete("/api/tech-recommendations",{data:{ids:g.value}}).then(y=>{r.value.data=r.value.data.filter(w=>!g.value.includes(w.id)),g.value=[],D.value=!1,l.success(y.data.message)})},N=y=>{F.post("/api/tech-getaction",{id:f.value,status:y}).then(w=>{$("#FormModal").modal("hide"),i()}).catch(w=>{console.log(w.message)})},D=u(!1);return he(q,Ae.exports.debounce(()=>{i()},300)),_e(()=>{i(),c(),document.title=n}),(y,w)=>{const de=be("font"),le=be("router-link");return s(),o(H,null,[e("div",di,[e("div",ii,[e("div",ci,[e("div",ri,[e("button",{onClick:Q,type:"button",class:"mb-2 btn btn-primary"},[ui,I(" TechRecom ")]),g.value.length>0?(s(),o("div",_i,[e("button",{onClick:K,type:"button",class:"ml-2 mb-2 btn btn-danger"},[mi,I(" Delete Selected ")]),e("span",pi,"Selected "+t(g.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=T=>q.value=T),class:"form-control",placeholder:"Search..."},null,512),[[ce,q.value]])])]),e("div",hi,[e("div",vi,[v.value?(s(),re(Pe,{key:0})):A("",!0),e("div",bi,[e("div",fi,[p(de,{size:"2"},{default:Z(()=>[e("table",$i,[gi,r.value.data.length>0?(s(),o("tbody",yi,[(s(!0),o(H,null,X(r.value.data,(T,L)=>(s(),re(ni,{key:T.id,item:T,index:L,onEditUser:U,onShowItem:y.viewItem,onConfirmUserDeletion:J,onToggleSelection:j,"select-all":D.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),o("tbody",ki,xi))])]),_:1})])]),(s(!0),o(H,null,X(r.value.data,(T,L)=>(s(),o("div",{class:"dispatch-list",key:T.id,item:T,index:L},[e("div",Si,[e("div",Di,[e("div",Vi,[Ui,e("span",null,[e("b",null,t(T.recommnum),1)])]),e("div",Mi,[Ai,e("span",null,t(T.user),1)]),e("div",Pi,[Ti,e("span",null,t(T.branch),1)]),e("div",Ei,[qi,e("span",null,t(T.department),1)]),e("div",Fi,[Li,e("span",null,t(T.created_user),1)]),e("div",Ii,[Ri,T.statusid==2?(s(),re(le,{key:0,to:`/tech-approved/${T.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:V(["badge",`badge-${T.status.color}`])},t(T.status.name),3)]),_:2},1032,["to"])):A("",!0),T.statusid!=2?(s(),o("span",{key:1,class:V(["badge",`badge-${T.status.color}`])},t(T.status.name),3)):A("",!0)]),e("div",Ni,[Yi,e("span",null,t(T.created_at),1)]),Bi,e("div",ji,[_(C).user.role==="ADMIN"?(s(),o("div",Hi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>U(T)},[zi,I(" Edit ")],8,Oi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>J(T.id)},Qi,8,Ji)])):A("",!0),_(C).user.role==="USER"?(s(),o("div",Wi,[T.statusid!=2?(s(),o("div",Ki,[T.created_by==_(C).user.id?(s(),o("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>U(T)},[Zi,I(" Edit ")],8,Xi)):A("",!0)])):A("",!0)])):A("",!0)])])])],8,Ci))),128))])]),p(_(Fe),{data:r.value,onPaginationChangePage:i},null,8,["data"])])]),e("div",ec,[e("div",tc,[e("div",sc,[e("div",ac,[e("h5",oc,[d.value?(s(),o("span",lc,"Edit Tech Recom.")):(s(),o("span",nc,"Add New Tech Recom."))]),dc]),p(_(Ue),{onSubmit:z,"validation-schema":d.value?_(Y):_(x),"initial-values":M.value},{default:Z(({errors:T})=>[e("div",ic,[e("div",cc,[e("div",rc,[e("div",uc,[p(_(O),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(C).user.id,"onUpdate:modelValue":w[1]||(w[1]=L=>_(C).user.id=L)},null,8,["modelValue"]),p(_(O),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":w[2]||(w[2]=L=>b.recommnum=L)},null,8,["modelValue"]),e("div",_c,[mc,p(_(O),{as:"select",name:"branch",class:V(["form-control",{"is-invalid":T.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":w[3]||(w[3]=L=>b.branch=L)},{default:Z(()=>[pc,(s(!0),o(H,null,X(m.value,L=>(s(),o("option",{key:L.site_name,value:L.site_name},t(L.site_name),9,hc))),128))]),_:2},1032,["class","modelValue"]),e("span",vc,t(T.branch),1)]),e("div",bc,[fc,p(_(O),{name:"department",type:"text",class:V(["form-control",{"is-invalid":T.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":w[4]||(w[4]=L=>b.department=L)},null,8,["class","modelValue"]),e("span",$c,t(T.department),1)]),e("div",gc,[yc,p(_(O),{name:"warehouse",type:"text",class:V(["form-control",{"is-invalid":T.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":w[5]||(w[5]=L=>b.warehouse=L)},null,8,["class","modelValue"]),e("span",kc,t(T.warehouse),1)]),e("div",wc,[xc,p(_(O),{name:"user",type:"text",class:V(["form-control",{"is-invalid":T.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":w[6]||(w[6]=L=>b.user=L)},null,8,["class","modelValue"]),e("span",Cc,t(T.user),1)])]),e("div",Sc,[e("div",Dc,[Vc,p(_(O),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":w[7]||(w[7]=L=>b.brand=L)},null,8,["modelValue"])]),e("div",Uc,[Mc,p(_(O),{name:"model",type:"text",class:V(["form-control",{"is-invalid":T.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":w[8]||(w[8]=L=>b.model=L),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Ac,t(T.model),1)]),e("div",Pc,[Tc,p(_(O),{name:"assettag",type:"text",class:V(["form-control",{"is-invalid":T.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":w[9]||(w[9]=L=>b.assettag=L),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Ec,t(T.assettag),1)]),e("div",qc,[Fc,ee(e("input",{name:"serialnum",type:"text",class:V(["form-control",{"is-invalid":T.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":w[10]||(w[10]=L=>b.serialnum=L)},null,2),[[ce,b.serialnum]]),e("span",Lc,t(T.serialnum),1)])]),e("div",Ic,[e("div",Rc,[Nc,p(_(O),{name:"problem",as:"textarea",class:V(["form-control",{"is-invalid":T.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":w[11]||(w[11]=L=>b.problem=L)},null,8,["class","modelValue"]),e("span",Yc,t(T.problem),1)]),e("div",Bc,[jc,p(_(O),{name:"assconducted",as:"textarea",class:V(["form-control",{"is-invalid":T.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":w[12]||(w[12]=L=>b.assconducted=L)},null,8,["class","modelValue"]),e("span",Hc,t(T.assconducted),1)]),e("div",Oc,[zc,p(_(O),{name:"recommendation",as:"textarea",class:V(["form-control",{"is-invalid":T.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":w[13]||(w[13]=L=>b.recommendation=L)},null,8,["class","modelValue"]),e("span",Jc,t(T.recommendation),1)])])])])]),e("div",Gc,[d.value?(s(),o("div",Qc,[_(C).user.role==="ADMIN"?(s(),o("div",Wc,[e("button",{type:"button",onClick:w[14]||(w[14]=L=>N(2)),class:"btn btn-info"}," Approved "),Kc,e("div",Xc,[e("span",{onClick:w[15]||(w[15]=L=>N(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:w[16]||(w[16]=L=>N(3)),class:"dropdown-item"},"Disapproved")])])):A("",!0)])):A("",!0),Zc,er])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",tr,[e("div",sr,[e("div",ar,[or,e("div",lr,[nr,e("button",{onClick:te(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const He=it("SettingStore",()=>{const a=u({app_name:""}),f=Mt("SettingStore:theme",u("light"));return{setting:a,getSetting:async()=>{await F.get("/api/settings").then(r=>{a.value=r.data})},theme:f,changeTheme:()=>{f.value=f.value==="light"?"dark":"light"}}});const se=a=>(Se("data-v-0c8371d9"),a=a(),De(),a),ir={class:"content"},cr={class:"container-fluid"},rr={class:"card"},ur={class:"card-header"},_r={class:"card-title"},mr={class:"card-body"},pr={class:"col-md-12"},hr={class:"d-flex justify-content-between"},vr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),br={class:"d-flex"},fr={class:"col-12",id:"accordion"},$r={key:1},gr={key:0},yr={class:"card card-secondary"},kr={class:"card-body d-flex align-items-center justify-content-center"},wr={class:"image-container"},xr=["src"],Cr=se(()=>e("div",{class:"overlay"},null,-1)),Sr={key:1},Dr={class:"card-header bg-white"},Vr={class:"card-title"},Ur=["href"],Mr=["src"],Ar={class:"card-tools"},Pr=["onClick"],Tr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Er=[Tr],qr=["disabled","onClick"],Fr=["onClick"],Lr=["onClick"],Ir=se(()=>e("p",{class:"float-right"},null,-1)),Rr=["id"],Nr={class:"card-body"},Yr={class:"col-md-12"},Br={class:"dispatch-table"},jr={class:"row"},Hr={class:"col-4"},Or=se(()=>e("b",null,"Site:",-1)),zr=se(()=>e("b",null,"Planned Date:",-1)),Jr=se(()=>e("b",null,"Planned End Date:",-1)),Gr={class:"col-4"},Qr=se(()=>e("b",null,"Start Date:",-1)),Wr=se(()=>e("b",null,"Accomplished Date:",-1)),Kr={class:"closestatus"},Xr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Zr={class:"col-4"},eu={class:"ongoing"},tu=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),su=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),au=se(()=>e("b",null,"Remarks:",-1)),ou={style:{margin:"0.5%"}},lu=["disabled","onClick"],nu=["onClick","disabled"],du={class:"dispatch-list"},iu={class:"list-group list-group-flush"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},gu={class:"badge badge-primary badge-pill"},yu={class:"list-group-item d-flex justify-content-between align-items-center"},ku={class:"badge badge-primary badge-pill"},wu={class:"list-group-item d-flex justify-content-between align-items-center"},xu={class:"badge badge-primary badge-pill"},Cu=se(()=>e("hr",null,null,-1)),Su={class:"row"},Du={class:"col"},Vu=["onClick"],Uu=se(()=>e("i",{class:"fas fa-pen"},null,-1)),Mu=["onClick"],Au=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),I(" Drop ")],-1)),Pu=[Au],Tu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Eu={class:"modal-dialog modal-dialog-centered",role:"document"},qu={class:"modal-content"},Fu={class:"modal-header"},Lu={class:"modal-title",id:"staticBackdropLabel"},Iu={key:0},Ru={key:1},Nu={key:2},Yu=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Bu={class:"modal-body"},ju={class:"col-md-12"},Hu={class:"row"},Ou={class:"col-12"},zu={class:"form-group"},Ju=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Gu=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Qu=["value"],Wu={key:0,class:"d-flex justify-content-between"},Ku={class:"d-flex"},Xu={class:"form-group"},Zu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),e_={class:"form-group"},t_=se(()=>e("label",{for:"end-time"},"Hour",-1)),s_=["value"],a_=se(()=>e("div",{class:"d-fex"},null,-1)),o_={key:1,class:"d-flex justify-content-between"},l_={class:"d-flex"},n_={class:"form-group"},d_=se(()=>e("label",{for:"end-time"},"End Date",-1)),i_={class:"form-group"},c_=se(()=>e("label",{for:"end-time"},"Hour",-1)),r_=["value"],u_=se(()=>e("div",{class:"d-fex"},null,-1)),__={class:"form-group"},m_=se(()=>e("label",{for:"site"},"Type",-1)),p_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),h_=["value"],v_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),b_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},f_={class:"modal-dialog modal-sm",role:"document"},$_={class:"modal-content"},g_={class:"modal-header"},y_={class:"modal-title",id:"staticBackdropLabel"},k_=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),w_={class:"modal-body"},x_=xe('<ul class="nav nav-tabs" id="myTabs" data-v-0c8371d9><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-0c8371d9> Todo List</a></li><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-0c8371d9> Todo</a></li></ul>',1),C_={class:"tab-content"},S_={class:"tab-pane fade show active",id:"todolist"},D_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},V_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),U_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),M_={key:0,class:"list-group-item p-0"},A_={class:"d-flex justify-content-center"},P_=["onClick"],T_={class:"ml-auto my-1 mr-1"},E_=["onClick"],q_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),F_=[q_],L_={class:"mt-2 mb-2 list-unstyled"},I_={key:1},R_={key:0,class:"list-group-item p-0"},N_={class:"d-flex justify-content-center"},Y_=["onClick"],B_={class:"ml-auto my-1 mr-1"},j_=["onClick"],H_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),O_=[H_],z_={key:1,class:"mt-2 text-center"},J_=se(()=>e("span",null,"No Todo",-1)),G_=[J_],Q_={class:"tab-pane fade",id:"formTask"},W_={class:"col-md-12"},K_={class:"row"},X_={class:"col-12"},Z_={class:"m-2",style:{display:"flex","align-items":"center"}},em=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),I("\xA0Save ")])],-1)),tm={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},sm={class:"modal-dialog",role:"document"},am={class:"modal-content"},om=se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),lm={class:"modal-body"},nm={class:"col-md-12"},dm={class:"row"},im={class:"col-12"},cm={class:"modal-footer"},rm=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),um={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_m={class:"modal-dialog",role:"document"},mm={class:"modal-content"},pm=xe('<div class="modal-header" data-v-0c8371d9><h5 class="modal-title" id="staticBackdropLabel" data-v-0c8371d9><span data-v-0c8371d9>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-0c8371d9><span aria-hidden="true" data-v-0c8371d9>\xD7</span></button></div><div class="modal-body" data-v-0c8371d9><h5 data-v-0c8371d9>Are you sure you want to delete this record ?</h5></div>',2),hm={class:"modal-footer"},vm=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),bm={__name:"MyPrio",setup(a){const f=`${fe().name}`,m=u(!1),l=u(!1),r=Je("$swal");He();const n=pe(),c=u({data:[]}),v=u([]);u([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),u();const d=u();u();const M=u(!0),b=u(!1);u(!1),u();const C=u(),i=u(),x=u(),Y=me();u(null),u(!1);const E=u([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),Q=u(),ae=u("1:00 AM"),U=u(),B=u("1:00 AM"),z=u(Array.from({length:24},(k,P)=>{const h=P%12+1,ve=P<12?"AM":"PM";return`${h}:00 ${ve}`})),q=u(Array.from({length:24},(k,P)=>{const h=P%12+1,ve=P<12?"AM":"PM";return`${h}:00 ${ve}`})),g=Me({dailytask_id:"",site:"",user_id:Y.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),j=u("");he([Q,ae],()=>{const k=new Date(Q.value),P=k.getFullYear(),h=String(k.getMonth()+1).padStart(2,"0"),ve=String(k.getDate()).padStart(2,"0");g.plandate=`${P}-${h}-${ve} ${ae.value}`}),he([Q,B],()=>{const k=new Date(Q.value);k.getFullYear(),String(k.getMonth()+1).padStart(2,"0"),String(k.getDate()).padStart(2,"0")}),he([U,B],()=>{const k=new Date(U.value),P=k.getFullYear(),h=String(k.getMonth()+1).padStart(2,"0"),ve=String(k.getDate()).padStart(2,"0");g.enddates=`${P}-${h}-${ve} ${B.value}`});const S=u({id:"",dailytask_id:"",task_name:"",iscompleted:0}),J=()=>{F.get("/web/getsite").then(k=>{d.value=k.data.sites}).catch(k=>{console.log(k)})},ie=()=>{m.value=!0,F.get("/web/dailytask",{params:{query:W.value}}).then(k=>{m.value=!1,c.value=k.data,we.value=[]})},K=async k=>{(await r({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(m.value=!0,F.put(`/web/dailytask/drop/${k}`).then(h=>{n.success("Data drop successfully!"),m.value=!1,ie()}))},N=()=>{$("#FormModalTask").modal("show")},D=k=>{N(),S.value.dailytask_id=k.dailytask_id,i.value=k.taskdate,x.value=k.startdate,l.value=!0,F.get(`/web/dailytask/${k.dailytask_id}/tasks`).then(P=>{v.value=P.data,N(),l.value=!1}).catch(P=>{console.error("Error fetching tasks:",P)})},y=()=>{l.value=!0,F.post("/web/dailytask/addnewTask",{dailytask_id:S.value.dailytask_id,task_name:S.value.task_name,iscompleted:S.value.iscompleted}).then(k=>{n.success("Data created successfully!"),F.get(`/web/dailytask/${S.value.dailytask_id}/tasks`).then(P=>{v.value=P.data,l.value=!1}).catch(P=>{console.error("Error fetching tasks:",P),n.error("Error fetching tasks. Please try again.")}),S.value.task_name=""}).catch(k=>{console.error("Error adding new task:",k),n.error("Error adding new task. Please try again.")})},w=k=>{S.value.iscompleted=k.iscompleted===1?0:1,F.post("/web/dailytask/addnewTask",{id:k.id,dailytask_id:k.dailytask_id,task_name:k.task_name,iscompleted:S.value.iscompleted}).then(P=>{F.get(`/web/dailytask/${k.dailytask_id}/tasks`).then(h=>{v.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),n.error("Error fetching tasks. Please try again.")})}).catch(P=>{console.error("Error adding new task:",P),n.error("Error adding new task. Please try again.")})},de=Ce(()=>Array.isArray(v.value)?v.value.filter(k=>k.iscompleted===1):[]),le=Ce(()=>de.value.length),T=()=>{M.value=!M.value},L=k=>{F.delete(`/web/dailytask/deleteTask/${k.id}`).then(P=>{F.get(`/web/dailytask/${k.dailytask_id}/tasks`).then(h=>{v.value=h.data,n.success("Todo successfull Deleted")}).catch(h=>{console.error("Error fetching tasks:",h),n.error("Error fetching tasks. Please try again.")})}).catch(P=>{console.error("Error adding new task:",P),n.error("Error adding new task. Please try again.")})};ke({site:R().required(),tasktype:R().required(),plandate:R().required(),planenddate:R().required()}),ke({site:R().required(),tasktype:R().required(),plandate:R().required(),planenddate:R().required()});const Ie=(k,P)=>{F.post("/web/dailytask",g).then(h=>{ie(),$("#FormModal").modal("hide"),n.success("data created successfully!")}).catch(h=>{P.setErrors(h.response.data.errors)})},Ge=(k,P)=>{F.put("/web/dailytask/"+g.dailytask_id,g).then(h=>{console.log(h.data),ie(),$("#FormModal").modal("hide"),n.success("data update successfully!")}).catch(h=>{P.setErrors(h.response.data.errors)})},je=k=>{k&&k.dailytask_id!==null&&k.dailytask_id!==void 0?(b.value=!0,C.value=" on "+ue(k.taskdate).format("MMMM D, YYYY"),g.site=k.site_name,g.dailytask_id=k.dailytask_id,g.plandate=k.plandate,g.planenddate=k.planenddate,g.tasktype=k.tasktype,console.log(k.site_name),console.log(k.tasktype)):b.value=!1,J(),$("#FormModal").modal("show")},Qe=(k,P)=>{b.value?Ge(k,P):Ie(k,P)},Re=async k=>{if((await r.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const h=await F.put("/web/dailytask/onTashHoliday/"+k.dailytask_id,k);n.success(h.data.message),ie()}},We=async k=>{try{const P=await F.get(`/web/dailytask/${k.dailytask_id}/tasks`);if(v.value=P.data,!v.value||v.value.length===0){r.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await r.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ve=await F.put("/web/dailytask/onhandler/"+k.dailytask_id,k);n.success(ve.data.message),ie()}}catch(P){console.error("Error fetching tasks:",P),n.error("An error occurred while updating the task.")}},Ke=k=>{$("#onRemarksModal").modal("show"),j.value=k},G=()=>{g.remarks===null||g.remarks==""?n.error("Remarks is required"):(ue(j.value.taskdate).format("YYYY-MM-DD")===ue().format("YYYY-MM-DD")?g.status="HIT":g.status="MISS",F.put("/web/dailytask/onhandler/"+j.value.dailytask_id,{startdate:j.value.startdate,remarks:g.remarks,status:g.status}).then(P=>{console.log(P.data),ie(),$("#onRemarksModal").modal("hide"),n.success(P.data.message)}))},W=u(null),we=u([]);return u(null),he(W,Ae.exports.debounce(()=>{ie()},300)),_e(()=>{ct(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ie(),document.title=f}),(k,P)=>(s(),o(H,null,[e("div",ir,[e("div",cr,[e("div",rr,[e("div",ur,[e("div",_r,t(_(Y).user.first_name+" "+_(Y).user.last_name)+" - My Prio ",1)]),e("div",mr,[e("div",pr,[e("div",hr,[e("div",{class:"d-flex"},[e("button",{onClick:je,type:"button",class:"mb-2 btn btn-primary"},[vr,I(" Task ")])]),e("div",br,[ee(e("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=h=>W.value=h),class:"form-control",placeholder:"Search..."},null,512),[[ce,W.value]])])]),e("div",fr,[m.value?(s(),re(Pe,{key:0})):(s(),o("div",$r,[c.value.length===0?(s(),o("div",gr,[e("div",yr,[e("div",kr,[e("div",wr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,xr),Cr])])])])):(s(),o("div",Sr,[(s(!0),o(H,null,X(c.value,h=>(s(),o("div",{class:"card card-primary",key:h.id},[e("div",Dr,[e("h4",Vr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+h.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Mr),I(" \xA0"),e("b",null,t(_(ue)(h.taskdate).format("MMMM D, YYYY")+" - "+h.site_name),1)],8,Ur)]),e("div",Ar,[h.tasktypeid&&h.tasktypeid!==6?(s(),o("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>D(h)},Er,8,Pr)):A("",!0),!h.enddate&&h.tasktypeid!==6?(s(),o("button",{key:1,disabled:h.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ve=>Ke(h)}," End ",8,qr)):A("",!0),h.tasktypeid&&h.tasktypeid===6?(s(),o("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>Re(h)}," Complete ",8,Fr)):A("",!0),!h.startdate&&h.tasktypeid!==6?(s(),o("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ve=>We(h)}," Start ",8,Lr)):A("",!0),Ir])]),e("div",{id:"collapse"+h.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Nr,[e("div",Yr,[e("div",Br,[e("div",jr,[e("div",Hr,[e("h5",null,[Or,I(" "+t(h.site_name),1)]),e("h5",null,[zr,I(" "+t(h.plandate),1)]),e("h5",null,[Jr,I(" "+t(h.planenddate),1)])]),e("div",Gr,[e("h5",null,[Qr,I(" "+t(h.startdate!==null?_(ue)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Wr,I(" "+t(h.enddate!==null?_(ue)(h.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Kr,[Xr,I(" "+t(h.tasktype?h.tasktype.join(", "):""),1)])]),e("div",Zr,[e("h5",eu,[tu,I(" "+t(h.status),1)]),e("h5",null,[su,I(" "+t(h.attachment),1)]),e("h5",null,[au,I(" "+t(h.remarks),1)])])]),e("div",ou,[e("button",{disabled:h.startdate!==null,onClick:ve=>K(h.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,lu),e("button",{onClick:ve=>je(h),type:"button",disabled:h.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,nu)])]),e("div",du,[e("ul",iu,[e("li",cu,[I(" Site: "),e("span",ru,t(h.site_name),1)]),e("li",uu,[I(" Planned Date: "),e("span",_u,t(h.plandate),1)]),e("li",mu,[I(" Planned End Date: "),e("span",pu,t(h.planenddate),1)]),e("li",hu,[I(" Start Date: "),e("span",vu,t(h.startdate!==null?_(ue)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",bu,[I(" Type: "),e("span",fu,t(h.tasktype?h.tasktype.join(", "):""),1)]),e("li",$u,[I(" Status: "),e("span",gu,t(h.status),1)]),e("li",yu,[I(" Attachment: "),e("span",ku,t(h.attachment),1)]),e("li",wu,[I(" Remarks: "),e("span",xu,t(h.remarks),1)])]),Cu,e("div",Su,[e("div",Du,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ve=>je(h)},[Uu,I(" Edit ")],8,Vu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ve=>K(h.dailytask_id)},Pu,8,Mu)])])])])])],8,Rr)]))),128))]))]))])])])])])]),e("div",Tu,[e("div",Eu,[e("div",qu,[e("div",Fu,[e("h5",Lu,[b.value?(s(),o("span",Iu,"Edit My Task")):(s(),o("span",Ru,"Add My Task")),b.value?(s(),o("span",Nu,t(C.value),1)):A("",!0)]),Yu]),p(_(Ue),{onSubmit:Qe},{default:Z(()=>[e("div",Bu,[e("div",ju,[e("div",Hu,[e("div",Ou,[p(_(O),{modelValue:g.user_id,"onUpdate:modelValue":P[1]||(P[1]=h=>g.user_id=h),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",zu,[Ju,ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":P[2]||(P[2]=h=>g.site=h)},[Gu,(s(!0),o(H,null,X(d.value,h=>(s(),o("option",{key:h.id,value:h.id},t(h.site_name),9,Qu))),128))],512),[[Te,g.site]])]),b.value==!1?(s(),o("div",Wu,[e("div",Ku,[e("div",Xu,[Zu,p(_(qe),{class:"form-control",modelValue:Q.value,"onUpdate:modelValue":P[3]||(P[3]=h=>Q.value=h)},null,8,["modelValue"])]),e("div",e_,[t_,ee(e("select",{class:"form-control","onUpdate:modelValue":P[4]||(P[4]=h=>ae.value=h),id:"plandate"},[(s(!0),o(H,null,X(z.value,h=>(s(),o("option",{key:h,value:h},t(h),9,s_))),128))],512),[[Te,ae.value]])])]),a_])):A("",!0),b.value==!1?(s(),o("div",o_,[e("div",l_,[e("div",n_,[d_,p(_(qe),{class:"form-control",modelValue:U.value,"onUpdate:modelValue":P[5]||(P[5]=h=>U.value=h)},null,8,["modelValue"])]),e("div",i_,[c_,ee(e("select",{class:"form-control","onUpdate:modelValue":P[6]||(P[6]=h=>B.value=h),id:"plandate"},[(s(!0),o(H,null,X(q.value,h=>(s(),o("option",{key:h,value:h},t(h),9,r_))),128))],512),[[Te,B.value]])])]),u_])):A("",!0),e("div",__,[m_,p(_(O),{name:"tasktype"},{default:Z(()=>[ee(e("select",{"onUpdate:modelValue":P[7]||(P[7]=h=>g.tasktype=h),class:"form-control",required:!0},[p_,(s(!0),o(H,null,X(E.value,h=>(s(),o("option",{key:h.value,value:h.value},t(h.name),9,h_))),128))],512),[[Te,g.tasktype]])]),_:1})])])])])]),v_]),_:1})])])]),e("div",b_,[e("div",f_,[e("div",$_,[e("div",g_,[e("h5",y_," My Todo of "+t(_(ue)(i.value).format("MM/D/YYYY")),1),k_]),e("div",w_,[x_,e("div",C_,[e("div",S_,[v.value.length>0?(s(),o("div",D_,[l.value?(s(),re(Pe,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[V_,U_]),_:1})):A("",!0),(s(!0),o(H,null,X(v.value,h=>(s(),o("ul",{class:"list-group",key:h.id},[h.iscompleted!==1?(s(),o("li",M_,[e("div",A_,[e("div",null,[e("span",{class:V({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[x.value?(s(),o("i",{key:0,onClick:ve=>w(h),class:V({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,P_)):A("",!0),I(" "+t(h.task_name),1)],2)]),e("div",T_,[e("button",{onClick:ve=>L(h),class:"btn btn-outline"},F_,8,E_)])])])):A("",!0)]))),128)),e("li",L_,[le.value>0?(s(),o("button",{key:0,class:"btn btn-sm bg-secondary",onClick:T},[e("i",{class:V(["fa",M.value?"fa-arrow-down":"fa-arrow-right"])},null,2),I(" \xA0Completed "+t(le.value),1)])):A("",!0)]),M.value?(s(),o("div",I_,[(s(!0),o(H,null,X(v.value,h=>(s(),o("ul",{class:"list-group",key:h.id},[h.iscompleted===1?(s(),o("li",R_,[e("div",N_,[e("div",null,[e("span",{class:V({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[x.value?(s(),o("i",{key:0,onClick:ve=>w(h),class:V({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,Y_)):A("",!0),I(" "+t(h.task_name),1)],2)]),e("div",B_,[e("button",{onClick:ve=>L(h),class:"btn btn-outline"},O_,8,j_)])])])):A("",!0)]))),128))])):A("",!0)])):(s(),o("div",z_,G_))]),e("div",Q_,[p(_(Ue),{onSubmit:y},{default:Z(()=>[e("div",W_,[e("div",K_,[e("div",X_,[p(_(O),{modelValue:S.value.dailytask_id,"onUpdate:modelValue":P[8]||(P[8]=h=>S.value.dailytask_id=h),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",Z_,[p(_(O),{modelValue:S.value.task_name,"onUpdate:modelValue":P[9]||(P[9]=h=>S.value.task_name=h),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),em]),_:1})])])])])])]),e("div",tm,[e("div",sm,[e("div",am,[om,e("div",lm,[e("div",nm,[e("div",dm,[e("div",im,[p(_(O),{modelValue:g.remarks,"onUpdate:modelValue":P[10]||(P[10]=h=>g.remarks=h),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",cm,[e("button",{onClick:P[11]||(P[11]=te(h=>G(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),rm])])])]),e("div",um,[e("div",_m,[e("div",mm,[pm,e("div",hm,[e("button",{onClick:P[12]||(P[12]=te((...h)=>k.deleteUser&&k.deleteUser(...h),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),vm])])])])],64))}};var fm=ye(bm,[["__scopeId","data-v-0c8371d9"]]);const $m={class:"text-center"},gm={key:0},ym={class:"text-center"},km={key:0},wm={class:"text-center"},xm={key:0,class:"bg-success text-center"},Cm={key:1,class:"bg-danger text-center"},Sm={key:2,class:"text-center"},Dm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(a){return pe(),me(),(f,m)=>(s(),o("tr",null,[e("td",null,t(_(ue)(a.item.taskdate).format("MMMM D, YYYY")),1),e("td",$m,[a.item.task_lists_count!==0?(s(),o("span",gm,t(a.item.task_lists_count),1)):A("",!0)]),e("td",ym,[a.item.completed_task_count!==0?(s(),o("span",km,t(a.item.completed_task_count),1)):A("",!0)]),e("td",wm,[e("span",null,t(a.item.remarks),1)]),a.item.status==="HIT"?(s(),o("td",xm,t(a.item.status),1)):a.item.status==="MISS"?(s(),o("td",Cm,t(a.item.status),1)):a.item.status===null||a.item.status===""?(s(),o("td",Sm,t(a.item.status===null||a.item.status===""?"On Going!":""),1)):A("",!0),e("td",{class:V({"bg-danger":a.item.percentage_completed>=0&&a.item.percentage_completed<=59,"bg-orange":a.item.percentage_completed>60&&a.item.percentage_completed<=90,"bg-success":a.item.percentage_completed===100,"text-center":!0})},t(a.item.percentage_completed+"%"),3)]))}};const $e=a=>(Se("data-v-323d585d"),a=a(),De(),a),Vm={class:"content-header"},Um={class:"container-fluid"},Mm={class:"col-12"},Am={class:"card",id:"captureVSCContainer"},Pm={class:"card-header"},Tm={class:"card-title"},Em={class:"card-tools"},qm={class:"card-body"},Fm=$e(()=>e("i",{class:"fa fa-camera"},null,-1)),Lm=[Fm],Im={key:1,class:"row"},Rm={class:"inner"},Nm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Ym=["src"],Bm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},jm={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Hm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Om={style:{"text-align":"left"}},zm={key:0},Jm=$e(()=>e("span",{class:"text-light badge"},"Todos",-1)),Gm={class:"list-group-item"},Qm={style:{display:"flex","align-items":"left"}},Wm={class:"ml-1"},Km={class:"ml-1"},Xm={class:"float-right"},Zm={id:"captureHitRateContainer",class:"card"},ep={class:"card-header"},tp={class:"card-title"},sp={class:"card-body"},ap={class:"content"},op={class:"container-fluid"},lp=$e(()=>e("i",{class:"fa fa-camera"},null,-1)),np=[lp],dp={class:"dispatch-table"},ip={class:"table-responsive"},cp={class:"table table-bordered table-hover table-sm"},rp=$e(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),up=$e(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),_p={class:"text-center"},mp={class:"text-center"},pp=$e(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),hp=$e(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),vp=["item"],bp={class:"list-field"},fp=$e(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),$p={class:"list-field"},gp=$e(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),yp={key:0},kp={class:"list-field"},wp=$e(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),xp={key:0},Cp={class:"list-field"},Sp=$e(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),Dp={class:"list-field"},Vp=$e(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),Up={class:"list-field"},Mp=$e(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),Ap={class:"float-right"},Pp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Tp={class:"modal-dialog modal-sm",role:"document"},Ep={class:"modal-content"},qp=$e(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Fp={class:"modal-body"},Lp={class:"fromtocenter"},Ip=$e(()=>e("label",{for:"fromDate"},"From:",-1)),Rp=$e(()=>e("label",{for:"toDate"},"To:",-1)),Np=$e(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Yp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Bp={class:"modal-dialog modal-sm",role:"document"},jp={class:"modal-content"},Hp=$e(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Op={class:"modal-body"},zp={class:"container"},Jp={class:"row"},Gp=["onClick"],Qp=$e(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Wp={__name:"MyVsc",setup(a){const f=`${fe().name}`,m=me(),l=u(!1),r=u(0),n=u(0),c=u(0),v=u([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),M=u((()=>{const g={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",g)})()),b=()=>{const g=document.getElementById("captureVSCContainer");ze(g).then(j=>{const S=j.toDataURL(),J=document.createElement("a");J.href=S,J.download=`${m.user.first_name+" "+m.user.last_name} - ${f}.png`,J.click()})},C=()=>{const g=document.getElementById("captureHitRateContainer");ze(g).then(j=>{const S=j.toDataURL(),J=document.createElement("a");J.href=S,J.download=`${m.user.first_name+" "+m.user.last_name} - My HIT RATE.png`,J.click()})};u(null),u("today");const i=u({data:[]}),x=u({data:[]}),Y=()=>{l.value=!0,axios.get("/api/myvsc").then(g=>{l.value=!1,i.value=g.data.dailyTasks,x.value=g.data.TaskList,r.value=g.data.totaltasklist,n.value=g.data.totalcomplettask,c.value=g.data.totalpercentcomplete})},E=()=>{$("#FormModalfilterDate").modal("show")},Q=u({start_date:"",end_date:""}),ae=u(""),U=u("");he([ae],()=>{const g=new Date(ae.value),j=g.getFullYear(),S=String(g.getMonth()+1).padStart(2,"0"),J=String(g.getDate()).padStart(2,"0");Q.value.start_date=`${j}-${S}-${J}`}),he([U],()=>{const g=new Date(U.value),j=g.getFullYear(),S=String(g.getMonth()+1).padStart(2,"0"),J=String(g.getDate()).padStart(2,"0");Q.value.end_date=`${j}-${S}-${J}`});const B=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:Q.value.start_date,end_date:Q.value.end_date}}).then(g=>{l.value=!1,i.value=g.data.dailyTasks,x.value=g.data.TaskList}).catch(g=>{console.error(g)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},z=()=>{$("#FormModalPickerThemes").modal("show")},q=g=>{if(g){const j=m.user.id;axios.post("/api/changethemes",{userid:j,background:g.background,active_background:g.active_background,font_background:g.font_background}).then(S=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(J=>{l.value=!1,i.value=J.data.dailyTasks,x.value=J.data.TaskList})}).catch(S=>{console.error(S)})}else console.error("Invalid item:",g)};return _e(()=>{Y(),document.title=f}),(g,j)=>(s(),o(H,null,[e("div",Vm,[e("div",Um,[e("div",Mm,[e("div",Am,[e("div",Pm,[e("div",Tm,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - "+t(f),1)]),e("div",Em,[e("i",{onClick:j[0]||(j[0]=S=>z()),class:"fas fa-palette"})])]),e("div",qm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-sm btn-success"},Lm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:E})])]),l.value?(s(),re(Pe,{key:0})):(s(),o("div",Im,[(s(!0),o(H,null,X(i.value,S=>(s(),o("div",{class:"col-lg-3 col-6",key:S.id},[e("div",{class:"small-box",style:Xe("background-color: "+(_(ue)(S.taskdate).format("MMMM D, YYYY")===M.value?S.active_background==""?"#72461F":S.active_background:S.background==""?"#B98D65":S.background)+";")},[e("div",Rm,[e("div",Nm,[I(t(_(ue)(S.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Ym)]),e("div",Bm,t(_(ue)(S.taskdate).format("MMMM D, YYYY")),1),S.tasktype!==6?(s(),o("div",jm,t(S.site_name),1)):A("",!0),S.tasktype===6?(s(),o("div",Hm," Holiday ")):A("",!0),e("div",Om,[S.task_lists&&S.task_lists.length>0?(s(),o("div",zm,[Jm,(s(!0),o(H,null,X(S.task_lists,J=>(s(),o("ul",{class:"list-group list-group-flush",key:J.id},[e("li",Gm,[e("div",Qm,[e("div",Wm,[e("i",{class:V(J.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Km,t(J.task_name),1)])])]))),128))])):A("",!0)])])],4)]))),128))])),e("div",Xm,t(M.value),1)])]),e("div",Zm,[e("div",ep,[e("div",tp,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - My HIT RATE ",1)])]),e("div",sp,[e("div",ap,[e("div",op,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:C,type:"button",class:"mb-2 btn btn-sm btn-success"},np)])]),e("div",dp,[e("div",ip,[e("table",cp,[rp,e("tbody",null,[(s(!0),o(H,null,X(x.value,S=>(s(),re(Dm,{key:S.id,item:S},null,8,["item"]))),128)),e("tr",null,[up,e("td",_p,[e("strong",null,t(r.value),1)]),e("td",mp,[e("strong",null,t(n.value),1)]),pp,hp,e("td",{class:V({"bg-danger":c.value>=0&&c.value<=59,"bg-orange":c.value>60&&c.value<=90,"bg-success":c.value===100,"text-center":!0})},[e("strong",null,t(c.value.toFixed(2)+"%"),1)],2)])])])])]),(s(!0),o(H,null,X(x.value,S=>(s(),o("div",{class:"dispatch-list",key:S.id,item:S},[e("div",{class:V([{"callout callout-success":S.remarks==="HIT","callout callout-danger":S.remarks==="MISS",callout:S.remarks===null}])},[e("div",bp,[fp,e("span",null,t(_(ue)(S.taskdate).format("MMMM D, YYYY")),1)]),e("div",$p,[gp,S.task_lists_count!==0?(s(),o("span",yp,t(S.task_lists_count),1)):A("",!0)]),e("div",kp,[wp,S.completed_task_count!==0?(s(),o("span",xp,t(S.completed_task_count),1)):A("",!0)]),e("div",Cp,[Sp,e("span",null,t(S.remarks),1)]),e("div",Dp,[Vp,e("span",{class:V(["badge",S.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(S.status),1)],2)]),e("div",Up,[Mp,e("span",{class:V(["badge",{"bg-danger":S.percentage_completed>=0&&S.percentage_completed<=59},{"bg-orange":S.percentage_completed>60&&S.percentage_completed<=90},{"bg-success":S.percentage_completed===100}])},t(S.percentage_completed+"%"),3)])],2)],8,vp))),128))])]),e("div",Ap,t(M.value),1)])])])])]),e("div",Pp,[e("div",Tp,[e("div",Ep,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(f)+" Summary Report")]),qp]),e("div",Fp,[e("div",Lp,[e("div",null,[Ip,p(_(qe),{modelValue:ae.value,"onUpdate:modelValue":j[1]||(j[1]=S=>ae.value=S)},null,8,["modelValue"])]),e("div",null,[Rp,p(_(qe),{modelValue:U.value,"onUpdate:modelValue":j[2]||(j[2]=S=>U.value=S)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Np,e("button",{onClick:B,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Yp,[e("div",Bp,[e("div",jp,[Hp,e("div",Op,[e("div",zp,[e("div",Jp,[(s(!0),o(H,null,X(v.value,S=>(s(),o("div",{class:"col-md-4",key:S.background},[e("div",{class:"box",onClick:J=>q(S)},[e("div",{class:"column",style:Xe({"background-color":S.background})}," \xA0 ",4),e("div",{class:"column",style:Xe({"background-color":S.active_background})}," \xA0 ",4)],8,Gp)]))),128))])])]),Qp])])])],64))}};var Kp=ye(Wp,[["__scopeId","data-v-323d585d"]]);const Xp={class:"text-center"},Zp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(a){return pe(),me(),(f,m)=>(s(),o("tr",null,[e("td",null,t(a.item.sitename),1),e("td",null,t(_(ue)(a.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(a.item.startdate),1),e("td",null,t(a.item.enddate),1),e("td",null,t(a.item.tasktype.listtask),1),e("td",Xp,[e("span",{class:V(["badge",a.item.status==="HIT"?"bg-success":"bg-danger"])},t(a.item.status),3)]),e("td",null,t(a.item.remarks),1)]))}};var eh=ye(Zp,[["__scopeId","data-v-b058f1b2"]]);const Ve=a=>(Se("data-v-65d2a690"),a=a(),De(),a),th={class:"content"},sh={class:"container-fluid"},ah={class:"card",id:"capturePrioContainer"},oh={class:"card-header"},lh={class:"card-title"},nh={class:"card-body"},dh={key:1,class:"content"},ih={class:"container-fluid"},ch=Ve(()=>e("i",{class:"fa fa-camera"},null,-1)),rh=[ch],uh={class:"dispatch-table"},_h={class:"table-responsive"},mh={class:"table table-bordered table-sm table-striped table-hover"},ph=Ve(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),hh={key:0},vh={key:1},bh=Ve(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),fh=[bh],$h=["item","index"],gh={class:"card"},yh={class:"card-body"},kh={class:"list-field"},wh=Ve(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),xh={class:"list-field"},Ch=Ve(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),Sh={class:"list-field"},Dh=Ve(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),Vh={class:"list-field"},Uh=Ve(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),Mh={class:"list-field"},Ah=Ve(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),Ph={class:"list-field"},Th=Ve(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Eh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qh={class:"modal-dialog modal-sm",role:"document"},Fh={class:"modal-content"},Lh=Ve(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Ih={class:"modal-body"},Rh={class:"fromtocenter"},Nh=Ve(()=>e("label",{for:"fromDate"},"From:",-1)),Yh=Ve(()=>e("label",{for:"toDate"},"To:",-1)),Bh=Ve(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),jh={__name:"MyClosePrioList",setup(a){const f=`${fe().name}`,m=u(!1);pe();const l=u({data:[]}),r=u(""),n=u(""),c=me(),v=(C=1)=>{m.value=!0,F.get(`/api/mycloseprio?page=${C}`,{params:{query:b.value}}).then(i=>{m.value=!1,l.value=i.data})},d=()=>{const C=document.getElementById("capturePrioContainer");ze(C).then(i=>{const x=i.toDataURL(),Y=document.createElement("a");Y.href=x,Y.download="MY CLOSED PRIO.png",Y.click()})},M=()=>{m.value=!0,F.get("/api/filter-closeprio",{params:{start_date:r.value,end_date:n.value}}).then(C=>{m.value=!1,l.value=C.data.dailyTasks}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=u(null);return he(b,Ae.exports.debounce(()=>{v()},300)),_e(()=>{v(),document.title=f}),(C,i)=>{const x=be("font");return s(),o(H,null,[e("div",th,[e("div",sh,[e("div",ah,[e("div",oh,[e("div",lh,[e("h5",null,t(_(c).user.first_name+" "+_(c).user.last_name)+" - My Closed Prio ",1)])]),e("div",nh,[m.value?(s(),re(Pe,{key:0})):(s(),o("div",dh,[e("div",ih,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:d,type:"button",class:"mb-2 btn btn-sm btn-success"},rh)])]),e("div",null,[e("div",uh,[e("div",_h,[p(x,{size:"2"},{default:Z(()=>[e("table",mh,[ph,l.value.data.length>0?(s(),o("tbody",hh,[(s(!0),o(H,null,X(l.value.data,(Y,E)=>(s(),re(eh,{key:Y.id,item:Y,index:E},null,8,["item","index"]))),128))])):(s(),o("tbody",vh,fh))])]),_:1})])]),(s(!0),o(H,null,X(l.value.data,(Y,E)=>(s(),o("div",{class:"dispatch-list first-letter:shadow",key:Y.id,item:Y,index:E},[e("div",gh,[e("div",yh,[e("div",kh,[wh,e("span",null,t(Y.sitename),1)]),e("div",xh,[Ch,e("span",null,t(_(ue)(Y.taskdate).format("MMMM D, YYYY")),1)]),e("div",Sh,[Dh,e("span",null,t(Y.startdate),1)]),e("div",Vh,[Uh,e("span",null,t(Y.enddate),1)]),e("div",Mh,[Ah,e("span",null,t(Y.tasktype.listtask),1)]),e("div",Ph,[Th,e("span",{class:V(["badge",Y.remarks==="HIT"?"bg-success":"bg-danger"])},t(Y.remarks),3)])])])],8,$h))),128))])])]))])]),p(_(Fe),{data:l.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",Eh,[e("div",qh,[e("div",Fh,[Lh,e("div",Ih,[e("div",Rh,[e("div",null,[Nh,p(_(qe),{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=Y=>r.value=Y)},null,8,["modelValue"])]),e("div",null,[Yh,p(_(qe),{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=Y=>n.value=Y)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Bh,e("button",{onClick:M,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Hh=ye(jh,[["__scopeId","data-v-65d2a690"]]);const Oh=["checked"],zh={class:"text-center"},Jh=e("i",{class:"fa fa-edit"},null,-1),Gh=[Jh],Qh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(a,{emit:f}){pe();const m=a,l=f,r=()=>{l("toggleSelection",m.user)};return(n,c)=>(s(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:a.selectAll,onChange:r},null,40,Oh)]),e("td",null,t(a.index+1),1),e("td",null,t(a.user.first_name+" "+a.user.last_name),1),e("td",null,t(a.user.email),1),e("td",null,t(a.user.formatted_created_at),1),e("td",zh,[e("a",{href:"#",onClick:c[0]||(c[0]=te(v=>n.$emit("editUser",a.user),["prevent"]))},Gh)])]))}},Wh={class:"content"},Kh={class:"container-fluid"},Xh={class:"card"},Zh={class:"card-header"},ev=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),tv={class:"card-tools"},sv={class:"card-body"},av={class:"table-responsive"},ov={class:"table table-bordered table-hover table-sm"},lv=e("th",{style:{width:"10px"}},"#",-1),nv=e("th",null,"Name",-1),dv=e("th",null,"Email",-1),iv=e("th",null,"Registered Date",-1),cv=e("th",null,"Options",-1),rv={key:0},uv={key:1},_v=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),mv=[_v],pv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hv={class:"modal-dialog modal-sm",role:"document"},vv={class:"modal-content"},bv={class:"modal-header"},fv={class:"modal-title",id:"staticBackdropLabel"},$v={key:0},gv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),yv={class:"modal-body"},kv={class:"table table-sm"},wv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),xv={colspan:"5"},Cv={class:"custom-control custom-checkbox"},Sv=["value","id","checked"],Dv=["for"],Vv={key:0,class:"table table-sm"},Uv={class:"text-danger"},Mv={class:"custom-control custom-checkbox"},Av=["value","id"],Pv=["for"],Tv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Ev={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qv={class:"modal-dialog",role:"document"},Fv={class:"modal-content"},Lv=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Iv={class:"modal-footer"},Rv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Nv={__name:"UserMenuList",setup(a){const f=`${fe().name}`,m=pe(),l=u({data:[]}),r=u(!1),n=u(),c=u(null),v=u(null),d=u([]),M=(U=1)=>{F.get(`/api/users?page=${U}`,{params:{query:i.value}}).then(B=>{l.value=B.data,x.value=[],selectAll.value=!1})},b=U=>{F.get("/api/usermenu",{params:{user_id:U.id}}).then(B=>{ae.value=B.data,console.log(B.data)}).catch(B=>{console.log(B)}),r.value=!0,c.value.resetForm(),$("#userFormModal").modal("show"),n.value={id:U.id,username:U.username,email:U.email,first_name:U.first_name,last_name:U.last_name},v.value=n.value.first_name+" "+n.value.last_name},C=()=>{const U={user_id:n.value.id,menu_id:d.value};console.log(U),F.post("/api/usermenu",U).then(B=>{m.success("User Menu Save successfully!")}).catch(B=>{setErrors(B.response.data.errors)})},i=u(null),x=u([]),Y=U=>{const B=x.value.indexOf(U.id);B===-1?x.value.push(U.id):x.value.splice(B,1),console.log(x.value)},E=u(null),Q=U=>{E.value=U,$("#deleteUserModal").modal("show")},ae=u({data:[]});return he(i,Ae.exports.debounce(()=>{M()},300)),_e(()=>{M(),document.title=f}),(U,B)=>{const z=be("font");return s(),o(H,null,[e("div",Wh,[e("div",Kh,[e("div",Xh,[e("div",Zh,[ev,e("div",tv,[ee(e("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=q=>i.value=q),class:"form-control",placeholder:"Search..."},null,512),[[ce,i.value]])])]),e("div",sv,[e("div",av,[p(z,{size:"2"},{default:Z(()=>[e("table",ov,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":B[1]||(B[1]=q=>U.selectAll=q),onChange:B[2]||(B[2]=(...q)=>U.selectAllUsers&&U.selectAllUsers(...q))},null,544),[[Ee,U.selectAll]])]),lv,nv,dv,iv,cv])]),l.value.data.length>0?(s(),o("tbody",rv,[(s(!0),o(H,null,X(l.value.data,(q,g)=>(s(),re(Qh,{key:q.id,user:q,index:g,onEditUser:b,onConfirmUserDeletion:Q,onToggleSelection:Y,"select-all":U.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),o("tbody",uv,mv))])]),_:1})])])]),p(_(Fe),{data:l.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",pv,[e("div",hv,[e("div",vv,[e("div",bv,[e("h5",fv,[r.value?(s(),o("span",$v,"User Menu for "+t(v.value),1)):A("",!0)]),gv]),p(_(Ue),{ref_key:"form",ref:c,onSubmit:C,"initial-values":n.value},{default:Z(()=>[e("div",yv,[e("table",kv,[wv,(s(!0),o(H,null,X(ae.value,q=>(s(),o("tr",{key:q.menu_id},[e("td",xv,[e("div",Cv,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":B[3]||(B[3]=g=>d.value=g),value:q.menu_id,id:"menu_id_"+q.menu_id,checked:q.hasAccess},null,8,Sv),[[Ee,d.value]]),e("label",{for:"menu_id_"+q.menu_id,class:"custom-control-label"},t(q.menu_title),9,Dv)]),q.submenus&&q.submenus.length>0?(s(),o("table",Vv,[(s(!0),o(H,null,X(q.submenus,g=>(s(),o("tr",{key:g.id},[e("td",Uv,[e("div",Mv,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":B[4]||(B[4]=j=>d.value=j),value:g.menu_id,id:"menu_id_"+g.menu_id},null,8,Av),[[Ee,d.value]]),e("label",{for:"menu_id_"+g.menu_id,class:"custom-control-label"},t(g.menu_title),9,Pv)])])]))),128))])):A("",!0)])]))),128))])]),Tv]),_:1},8,["initial-values"])])])]),e("div",Ev,[e("div",qv,[e("div",Fv,[Lv,e("div",Iv,[Rv,e("button",{onClick:B[5]||(B[5]=te((...q)=>U.deleteUser&&U.deleteUser(...q),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const rt=a=>(Se("data-v-1f6da5a7"),a=a(),De(),a),Yv=["checked"],Bv=["innerHTML"],jv={style:{"text-align":"center"}},Hv={class:"text-center"},Ov=rt(()=>e("i",{class:"fa fa-edit"},null,-1)),zv=[Ov],Jv=rt(()=>e("i",{class:"fa fa-trash"},null,-1)),Gv=[Jv],Qv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(a,{emit:f}){pe(),me();const m=a,l=f,r=()=>{l("toggleSelection",m.item)};return(n,c)=>(s(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:a.selectAll,onChange:r},null,40,Yv)]),e("td",null,t(a.index+1),1),e("td",null,t(a.item.menu_title),1),e("td",null,t(a.item.parent_title),1),e("td",null,t(a.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${a.item.menu_icon}'></i>`},null,8,Bv),e("td",null,t(a.item.sort_order),1),e("td",jv,[e("i",{class:V({"fas fa-check-circle":a.item.is_active===1,"far fa-circle":a.item.is_active!==1})},null,2)]),e("td",null,t(a.item.created_at),1),e("td",Hv,[e("button",{class:"btn btn-sm bg-primary",onClick:c[0]||(c[0]=te(v=>n.$emit("editMenu",a.item),["prevent"]))},zv),I("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:c[1]||(c[1]=te(v=>n.$emit("confirmDeletion",a.item.menu_id),["prevent"]))},Gv)])]))}};var Wv=ye(Qv,[["__scopeId","data-v-1f6da5a7"]]);const Kv=["type","name","value"],Xv=e("span",{class:"check"},null,-1),Zv={class:"pl-2"},eb={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:a=>["checkbox","radio","switch"].includes(a)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(a,{emit:f}){const m=a,l=f,r=Ce({get:()=>m.modelValue,set:c=>{l("update:modelValue",c)}}),n=Ce(()=>m.type==="radio"?"radio":"checkbox");return(c,v)=>(s(),o("label",{class:V([a.type,"mr-6 mb-3 last:mr-0"])},[ee(e("input",{"onUpdate:modelValue":v[0]||(v[0]=d=>r.value=d),type:n.value,name:a.name,value:a.inputValue},null,8,Kv),[[et,r.value]]),Xv,e("span",Zv,t(a.label),1)],2))}},tb={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:a=>["checkbox","radio","switch"].includes(a)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(a,{emit:f}){const m=a,l=f,r=Ce({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,c)=>(s(),o("div",{class:V(["flex justify-start flex-wrap -mb-3",{"flex-col":a.isColumn}])},[(s(!0),o(H,null,X(a.options,(v,d)=>(s(),re(eb,{key:d,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=M=>r.value=M),type:a.type,name:a.name,"input-value":d,label:v,class:V(a.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},sb={class:"content"},ab={class:"container-fluid"},ob={class:"d-flex justify-content-between"},lb={class:"d-flex"},nb=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),db={key:0},ib=e("i",{class:"fa fa-trash mr-1"},null,-1),cb={class:"ml-2"},rb={class:"card"},ub={class:"card-body"},_b={class:"table-responsive"},mb={class:"table table-bordered table-sm"},pb=e("th",{style:{width:"10px"}},"#",-1),hb=e("th",null,"Title",-1),vb=e("th",null,"Parent Menu",-1),bb=e("th",null,"Route",-1),fb=e("th",null,"Icon",-1),$b=e("th",null,"Sort",-1),gb=e("th",null,"Active",-1),yb=e("th",null,"Date",-1),kb=e("th",null,"Action",-1),wb={key:0},xb={key:1},Cb=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Sb=[Cb],Db={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vb={class:"modal-dialog modal-sm",role:"document"},Ub={class:"modal-content"},Mb={class:"modal-header"},Ab={class:"modal-title",id:"staticBackdropLabel"},Pb={key:0},Tb={key:1},Eb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),qb={class:"modal-body"},Fb={class:"col-md-12"},Lb={class:"row"},Ib={class:"col-12"},Rb={class:"form-group"},Nb=e("label",{for:"user"},"Menu Title",-1),Yb={class:"invalid-feedback"},Bb={class:"form-group"},jb=e("label",{for:"department"},"Parent Menu",-1),Hb=e("option",{value:"0"},"None",-1),Ob=["value"],zb={class:"form-group"},Jb=e("label",{for:"warehouse"},"Icon",-1),Gb={class:"invalid-feedback"},Qb={class:"form-group"},Wb=e("label",{for:"user"},"Route",-1),Kb={class:"invalid-feedback"},Xb={class:"form-group"},Zb=e("label",{for:"user"},"Sort",-1),e1={class:"invalid-feedback"},t1={class:"form-group"},s1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),a1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},o1={class:"modal-dialog",role:"document"},l1={class:"modal-content"},n1=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),d1={class:"modal-footer"},i1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),c1={__name:"MenuList",setup(a){const f=`${fe().name}`,m=pe(),l=u({data:[]}),r=u({data:[]}),n=u(!1),c=u(!1);u();const v=u(!0),d=Me({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),M=me();u(null);const b=u(),C=(K=1)=>{n.value=!0,F.get(`/web/menulist?page=${K}`,{params:{query:U.value}}).then(N=>{n.value=!1,l.value=N.data,B.value=[],J.value=!1})},i=()=>{F.get("/web/GetParentId").then(K=>{r.value=K.data}).catch(K=>{console.error(K)})};ke({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()}),ke({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()});const x=({resetForm:K,setErrors:N})=>{F.post("/web/menulist",{menu_title:d.menu_title,parent_id:d.parent_id,menu_icon:d.menu_icon,menu_route:d.menu_route,sort_order:d.sort_order,is_active:d.is_active}).then(D=>{l.value.data.unshift(D.data),$("#FormModal").modal("hide"),K(),m.success("User created successfully!")}).catch(D=>{D.response.data.errors&&N(D.response.data.errors)})},Y=()=>{c.value=!1,$("#FormModal").modal("show")},E=K=>{c.value=!0,d.menu_id=K.menu_id,d.menu_title=K.menu_title,d.parent_id=K.parent_id,d.menu_icon=K.menu_icon,d.menu_route=K.menu_route,d.sort_order=K.sort_order,d.is_active===1?v.value=!0:v.value=!1,d.is_active=K.is_active,$("#FormModal").modal("show"),b.value=K.parent_id},Q=({setErrors:K})=>{F.post("/web/menulist",d).then(N=>{C(),$("#FormModal").modal("hide"),m.success("successfully Updated!")}).catch(N=>{K(N.response.data.errors),console.log(N)})},ae=(K,N)=>{c.value?Q(K):x(K)},U=u(null),B=u([]),z=K=>{const N=B.value.indexOf(K.id);N===-1?B.value.push(K.id):B.value.splice(N,1),console.log(B.value)},q=u(null),g=K=>{q.value=K,$("#deleteClientModal").modal("show")},j=()=>{F.delete(`/web/menu/${q.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(K=>K.menu_id!==q.value)})},S=()=>{F.delete("menulist",{data:{ids:B.value}}).then(K=>{l.value.data=l.value.data.filter(N=>!B.value.includes(N.id)),B.value=[],J.value=!1,m.success(K.data.message)})},J=u(!1),ie=()=>{J.value?B.value=l.value.data.map(K=>K.id):B.value=[],console.log(B.value)};return he([v],K=>{d.is_active=K?1:0}),he(U,Ae.exports.debounce(()=>{C()},300)),_e(()=>{C(),i(),document.title=f}),(K,N)=>{const D=be("font");return s(),o(H,null,[e("div",sb,[e("div",ab,[e("div",ob,[e("div",lb,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[nb,I(" Menu ")]),B.value.length>0?(s(),o("div",db,[e("button",{onClick:S,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ib,I(" Delete Selected ")]),e("span",cb,"Selected "+t(B.value.length)+" Menu",1)])):A("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":N[0]||(N[0]=y=>U.value=y),class:"form-control",placeholder:"Search..."},null,512),[[ce,U.value]])])]),e("div",rb,[e("div",ub,[n.value?(s(),re(Pe,{key:0})):A("",!0),e("div",_b,[p(D,{size:"2"},{default:Z(()=>[e("table",mb,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":N[1]||(N[1]=y=>J.value=y),onChange:ie},null,544),[[Ee,J.value]])]),pb,hb,vb,bb,fb,$b,gb,yb,kb])]),l.value.data.length>0?(s(),o("tbody",wb,[(s(!0),o(H,null,X(l.value.data,(y,w)=>(s(),re(Wv,{key:y.id,item:y,index:w,onEditMenu:E,onConfirmDeletion:g,onToggleSelection:z,"select-all":J.value},null,8,["item","index","select-all"]))),128))])):(s(),o("tbody",xb,Sb))])]),_:1})])])]),p(_(Fe),{data:l.value,onPaginationChangePage:C},null,8,["data"])])]),e("div",Db,[e("div",Vb,[e("div",Ub,[e("div",Mb,[e("h5",Ab,[c.value?(s(),o("span",Pb,"Edit Menu")):(s(),o("span",Tb,"Add Menu"))]),Eb]),p(_(Ue),{onSubmit:ae},{default:Z(({errors:y})=>[e("div",qb,[e("div",Fb,[e("div",Lb,[e("div",Ib,[p(_(O),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(M).user.id,"onUpdate:modelValue":N[2]||(N[2]=w=>_(M).user.id=w)},null,8,["modelValue"]),e("div",Rb,[Nb,p(_(O),{name:"menu_title",type:"text",class:V(["form-control",{"is-invalid":y.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:d.menu_title,"onUpdate:modelValue":N[3]||(N[3]=w=>d.menu_title=w)},null,8,["class","modelValue"]),e("span",Yb,t(y.menu_title),1)]),e("div",Bb,[jb,ee(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":N[4]||(N[4]=w=>d.parent_id=w)},[Hb,(s(!0),o(H,null,X(r.value,w=>(s(),o("option",{key:w.menu_id,value:w.menu_id},t(w.menu_title),9,Ob))),128))],512),[[Te,d.parent_id]])]),e("div",zb,[Jb,p(_(O),{name:"menu_icon",type:"text",class:V(["form-control",{"is-invalid":y.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:d.menu_icon,"onUpdate:modelValue":N[5]||(N[5]=w=>d.menu_icon=w)},null,8,["class","modelValue"]),e("span",Gb,t(y.menu_icon),1)]),e("div",Qb,[Wb,p(_(O),{name:"menu_route",type:"text",class:V(["form-control",{"is-invalid":y.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:d.menu_route,"onUpdate:modelValue":N[6]||(N[6]=w=>d.menu_route=w)},null,8,["class","modelValue"]),e("span",Kb,t(y.menu_route),1)]),e("div",Xb,[Zb,p(_(O),{name:"sort_order",type:"text",class:V(["form-control",{"is-invalid":y.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:d.sort_order,"onUpdate:modelValue":N[7]||(N[7]=w=>d.sort_order=w)},null,8,["class","modelValue"]),e("span",e1,t(y.sort_order),1)]),e("div",t1,[p(tb,{modelValue:d.is_active,"onUpdate:modelValue":N[8]||(N[8]=w=>d.is_active=w),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),s1]),_:1})])])]),e("div",a1,[e("div",o1,[e("div",l1,[n1,e("div",d1,[i1,e("button",{onClick:te(j,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},r1={class:"error-page"},u1=xe('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),_1=[u1],m1="Page Not Found",ut={__name:"404",setup(a){return _e(()=>{document.title=m1}),(f,m)=>(s(),o("div",r1,_1))}};const ne=a=>(Se("data-v-5c8db172"),a=a(),De(),a),p1={id:"exportPDF"},h1={class:"container"},v1=ne(()=>e("br",null,null,-1)),b1={class:"header"},f1=["src"],$1=["src"],g1={class:"header"},y1={class:"header-justify-space-between"},k1=ne(()=>e("br",null,null,-1)),w1=ne(()=>e("p",null,null,-1)),x1={key:0},C1=ne(()=>e("strong",null,null,-1)),S1=ne(()=>e("br",null,null,-1)),D1=ne(()=>e("br",null,null,-1)),V1=ne(()=>e("p",null,null,-1)),U1=ne(()=>e("strong",null,"Unit details",-1)),M1={class:"content"},A1={class:"header-justify-space-between"},P1=ne(()=>e("span",null,"Brand:",-1)),T1=ne(()=>e("br",null,null,-1)),E1=ne(()=>e("span",null,"Model:",-1)),q1=ne(()=>e("br",null,null,-1)),F1=ne(()=>e("div",null,null,-1)),L1=ne(()=>e("span",null,"Serial #:",-1)),I1=ne(()=>e("br",null,null,-1)),R1=ne(()=>e("span",null,"Asset Tag:",-1)),N1=ne(()=>e("br",null,null,-1)),Y1=ne(()=>e("div",null,null,-1)),B1=ne(()=>e("strong",null,"Reported problem",-1)),j1={class:"content"},H1=ne(()=>e("strong",null,"Assessment conducted",-1)),O1={class:"content"},z1=ne(()=>e("strong",null,"Recommendation",-1)),J1={class:"content"},G1={class:"header-justify-space-between"},Q1=ne(()=>e("strong",null,"Evaluated by:",-1)),W1=ne(()=>e("br",null,null,-1)),K1={class:"botoom-line"},X1=ne(()=>e("br",null,null,-1)),Z1=ne(()=>e("p",null,null,-1)),ef=ne(()=>e("strong",null,"Noted by:",-1)),tf=ne(()=>e("br",null,null,-1)),sf={class:"botoom-line"},af=ne(()=>e("br",null,null,-1)),of=ne(()=>e("br",null,null,-1)),lf=ne(()=>e("p",null,null,-1)),nf={key:0},df={key:1},cf={key:0,class:"fab-container"},rf=ne(()=>e("i",{class:"fas fa-download"},null,-1)),uf=[rf],_f={__name:"TechRecommApproved",setup(a){const f=`${fe().params.id}`,m=()=>{const n=document.getElementById("exportPDF");tt().from(n).save(`${f}.pdf`)},l=Me({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),r=()=>{F.get(`/api/tech-recommendations/${fe().params.id}`).then(n=>{l.id=n.data.id,l.recommnum=n.data.recommnum,l.branch=n.data.branch,l.company=n.data.company,l.department=n.data.department,l.warehouse=n.data.warehouse,l.user=n.data.user,l.problem=n.data.problem,l.brand=n.data.brand,l.model=n.data.model,l.assettag=n.data.assettag,l.serialnum=n.data.serialnum,l.status=n.data.status,l.assconducted=n.data.assconducted,l.recommendation=n.data.recommendation,l.createdby=n.data.createdby.cfull_name,l.updatedby=n.data.updatedby.ufull_name,l.created_at=ue(n.data.created_at).format("MMMM D, YYYY"),l.updated_at=ue(n.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=n.data.createdby.cposition,l.updated_position=n.data.updatedby.uposition}).catch(n=>{actions.setErrors(n.response.data.errors)})};return _e(()=>{r(),document.title=f}),(n,c)=>(s(),o(H,null,[e("div",p1,[e("div",h1,[v1,e("div",b1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,f1),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,$1)]),e("div",g1,[e("span",null,[I("Recommendation No: "),e("strong",null,t(l.recommnum),1)]),e("span",null,[I("Date Checked: "),e("strong",null,t(l.created_at),1)])]),e("div",y1,[e("div",null,[e("span",null,[I("Company: "),e("strong",null,t(l.company),1)]),k1,e("span",null,[I("Branch: "),e("strong",null,t(l.branch),1)])]),w1,e("div",null,[l.warehouse==""?(s(),o("span",x1,[I("Warehouse: "),C1,I(t(l.warehouse),1)])):A("",!0),S1,e("span",null,[I("User: "),e("strong",null,t(l.user),1)]),D1,e("span",null,[I("Department: "),e("strong",null,t(l.department),1)])]),V1]),U1,e("div",M1,[e("div",A1,[e("div",null,[P1,e("strong",null,t(l.brand),1),T1,E1,e("strong",null,t(l.model),1),q1]),F1,e("div",null,[L1,e("strong",null,t(l.serialnum),1),I1,R1,e("strong",null,t(l.assettag),1),N1]),Y1])]),B1,e("div",j1,[e("p",null,t(l.problem),1)]),H1,e("div",O1,[e("p",null,t(l.assconducted),1)]),z1,e("div",J1,[e("p",null,t(l.recommendation),1)]),e("div",G1,[e("div",null,[Q1,W1,e("span",K1,t(l.createdby),1),X1,e("span",null,t(l.created_position),1)]),Z1,e("div",null,[ef,tf,e("span",sf,t(l.updatedby),1),af,e("span",null,t(l.updated_position),1),of]),lf]),l.status===2?(s(),o("span",nf,"Approved date:("+t(l.updated_at)+")",1)):(s(),o("span",df,"Pending"))])]),l.status===2?(s(),o("div",cf,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=v=>m())},uf)])):A("",!0)],64))}};var _t=ye(_f,[["__scopeId","data-v-5c8db172"]]);const mf={},pf={class:"card mx-auto",style:{"max-width":"600px"}},hf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),vf={class:"card-body"},bf={class:"list-unstyled"};function ff(a,f){return s(),o("div",pf,[hf,e("div",vf,[e("ul",bf,[e("li",{class:"nav-item dropdown",onClick:f[0]||(f[0]=(...m)=>a.fetchNotifications&&a.fetchNotifications(...m))})])])])}var $f=ye(mf,[["render",ff]]);const gf=["checked"],yf={class:"text-center"},kf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(a,{emit:f}){pe(),me();const m=a,l=f,r=()=>{l("toggleSelection",m.item)};return(n,c)=>(s(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:a.selectAll,onChange:r},null,40,gf)]),e("td",null,t(a.index+1),1),e("td",{onClick:c[0]||(c[0]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.site_name),1),e("td",{onClick:c[1]||(c[1]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.asset_name),1),e("td",{onClick:c[2]||(c[2]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.asset_type),1),e("td",{onClick:c[3]||(c[3]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.serial),1),e("td",{onClick:c[4]||(c[4]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.date_acquired),1),e("td",{onClick:c[5]||(c[5]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.man_supplier),1),e("td",{onClick:c[6]||(c[6]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.unit),1),e("td",{onClick:c[7]||(c[7]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t("\u20B1"+a.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[8]||(c[8]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t("\u20B1"+a.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[9]||(c[9]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.created_by),1),e("td",{onClick:c[10]||(c[10]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.created_at),1),e("td",{onClick:c[11]||(c[11]=te(v=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.updated_by),1),e("td",yf,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:c[12]||(c[12]=te(v=>n.$emit("editData",a.item),["prevent"]))}),I(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:c[13]||(c[13]=te(v=>n.$emit("confirmDeletion",a.item.id),["prevent"]))})])])]))}};var wf=ye(kf,[["__scopeId","data-v-78d9436c"]]);const xf={class:"content"},Cf={class:"container-fluid"},Sf={class:"d-flex justify-content-between"},Df={class:"d-flex"},Vf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Uf={key:0},Mf=e("i",{class:"fa fa-trash mr-1"},null,-1),Af={class:"ml-2"},Pf={class:"card"},Tf={class:"card-body"},Ef={class:"table-responsive"},qf={class:"table table-bordered table-sm table-striped hover"},Ff=e("th",{style:{width:"10px"}},"#",-1),Lf=e("th",null,"Site",-1),If=e("th",null,"Asset",-1),Rf=e("th",null,"Asset type",-1),Nf=e("th",null,"Serial",-1),Yf=e("th",null,"Date Aquired",-1),Bf=e("th",null,"Supplier",-1),jf=e("th",null,"Unit",-1),Hf=e("th",null,"Purchase Cost",-1),Of=e("th",null,"Unit Value",-1),zf=e("th",null,"Createdby",-1),Jf=e("th",null,"CreatedAt",-1),Gf=e("th",null,"Updatedby",-1),Qf=e("th",null,"Action",-1),Wf={key:0},Kf={key:1},Xf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Zf=[Xf],e$={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},t$={class:"modal-dialog modal-lg",role:"document"},s$={class:"modal-content"},a$={class:"modal-header"},o$={class:"modal-title",id:"staticBackdropLabel"},l$={key:0},n$={key:1},d$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),i$={class:"modal-body"},c$={class:"col-md-12"},r$={class:"row"},u$={class:"col-6"},_$={class:"form-group"},m$=e("label",{for:"branch"},"Site",-1),p$=e("option",{value:"",disabled:""}," Select Site ",-1),h$=["value"],v$={class:"invalid-feedback"},b$={class:"form-group"},f$=e("label",{for:"department"},"Asset Name",-1),$$={class:"invalid-feedback"},g$={class:"form-group"},y$=e("label",{for:"asset_type"},"Asset Type",-1),k$={class:"invalid-feedback"},w$={class:"form-group"},x$=e("label",{for:"serial"},"Serial #:",-1),C$={class:"invalid-feedback"},S$={class:"col-6"},D$={class:"form-group"},V$=e("label",{for:"date_acquired"},"Date Acquired",-1),U$={class:"invalid-feedback"},M$={class:"form-group"},A$=e("label",{for:"man_supplier"},"Brand",-1),P$={class:"invalid-feedback"},T$={class:"form-group"},E$=e("label",{for:"unit"},"Unit",-1),q$={class:"invalid-feedback"},F$={class:"row"},L$={class:"col-6"},I$={class:"form-group"},R$=e("label",{for:"paccountable"},"Person Accountable",-1),N$={class:"invalid-feedback"},Y$={class:"col-6"},B$={class:"form-group"},j$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),H$={class:"invalid-feedback"},O$={class:"row"},z$={class:"col-6"},J$={class:"form-group"},G$=e("label",{for:"cucodition"},"Current Condition",-1),Q$=e("option",{value:"",disabled:""}," Select Condition ",-1),W$=e("option",{value:"Fair"}," FAIR ",-1),K$=e("option",{value:"Good"}," GOOD ",-1),X$=e("option",{value:"Damange"}," DAMANGE ",-1),Z$={class:"invalid-feedback"},eg={class:"form-group"},tg=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),sg={class:"col-6"},ag={class:"form-group"},og=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),lg={class:"form-group"},ng=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),dg={class:"row"},ig={class:"col-6"},cg={class:"form-group"},rg=e("label",{for:"operationhours"},"Operating Hours",-1),ug={class:"col-6"},_g={class:"form-group"},mg=e("label",{for:"notes"},"Notes",-1),pg={class:"invalid-feedback"},hg={class:"row"},vg={class:"col-6"},bg={class:"form-group"},fg=e("label",{for:"purchasecost"},"Purchase Cost",-1),$g={class:"input-group mb-3"},gg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),yg={class:"form-group"},kg=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),wg={class:"input-group mb-3"},xg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),Cg={class:"col-6"},Sg={class:"form-group"},Dg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),Vg={class:"invalid-feedback"},Ug=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Mg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ag={class:"modal-dialog",role:"document"},Pg={class:"modal-content"},Tg=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Eg={class:"modal-footer"},qg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Fg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Lg={class:"modal-dialog",role:"document"},Ig={class:"modal-content"},Rg=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Ng={class:"modal-body"},Yg={class:"table table-striped table-sm table-hover"},Bg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),jg=e("td",null,"Site",-1),Hg=e("td",null,"Assit Name",-1),Og=e("td",null,"Assit Type",-1),zg=e("td",null,"Serial No.",-1),Jg=e("td",null,"Date Acquired",-1),Gg=e("td",null,"Brand",-1),Qg=e("td",null,"Unit",-1),Wg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Kg=e("td",null,"Personal Accountable",-1),Xg=e("td",null,"Transfer Location",-1),Zg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),ey=e("td",null,"Current Condition",-1),ty=e("td",null,"Maintenance Note",-1),sy=e("td",null,"Last Maintenance",-1),ay=e("td",null,"Next Maintenance",-1),oy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),ly=e("td",null,"Operation Hours",-1),ny=e("td",null,"Notes",-1),dy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),iy=e("td",null,"Purchase Cost",-1),cy=e("td",null,"Unit Value",-1),ry=e("td",null,"Warranty information",-1),uy=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),_y={__name:"AssetmList",setup(a){me();const f=`${fe().name}`,m=pe(),l=u({data:[]});u({data:[]});const r=u(!1),n=u(!1),c=u(),v=u(!0),d=Me({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});u(null),u();const M=u(),b=(D=1)=>{r.value=!0,F.get(`/web/asset-monitoring?page=${D}`,{params:{query:z.value}}).then(y=>{r.value=!1,l.value=y.data,q.value=[],K.value=!1})},C=ke({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()}),i=ke({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()}),x=()=>{F.post("/web/asset-monitoring",d).then(D=>{$("#FormModal").modal("hide"),b(),m.success(D.data.message)}).catch(D=>{m.error(D.data.message)})},Y=()=>{n.value=!1,$("#FormModal").modal("show")},E=D=>{d.site_name=D.site_name,d.id=D.id,d.site_id=D.site_id,d.asset_name=D.asset_name,d.asset_type=D.asset_type,d.serial=D.serial,d.date_acquired=D.date_acquired,d.man_supplier=D.man_supplier,d.unit=D.unit,d.location=D.location,d.paccountable=D.paccountable,d.locationchangetranfer=D.locationchangetranfer,d.cucodition=D.cucodition,d.purchasecost=D.purchasecost,d.maintenancenotes=D.maintenancenotes,d.ceated_by=D.ceated_by,d.updated_by=D.updated_by,d.Depreciationcostbyyear=D.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},Q=D=>{n.value=!0,d.id=D.id,d.site_id=D.site_id,d.asset_name=D.asset_name,d.asset_type=D.asset_type,d.serial=D.serial,d.date_acquired=D.date_acquired,d.man_supplier=D.man_supplier,d.unit=D.unit,d.location=D.location,d.paccountable=D.paccountable,d.locationchangetranfer=D.locationchangetranfer,d.cucodition=D.cucodition,d.purchasecost=D.purchasecost,d.depreciationcost=D.depreciationcost,d.maintenancenotes=D.maintenancenotes,d.ceated_by=D.ceated_by,d.updated_by=D.updated_by,$("#FormModal").modal("show")},ae=({setErrors:D})=>{F.post("/web/asset-monitoring",d).then(y=>{b(),$("#FormModal").modal("hide"),m.success("Data successfully Updated!")}).catch(y=>{D(y.response.data.errors),console.log(y)})},U=(D,y)=>{n.value?ae(D):x()},B=()=>{F.get("/web/getsite").then(D=>{M.value=D.data.sites}).catch(D=>{console.log(D)})},z=u(null),q=u([]),g=D=>{const y=q.value.indexOf(D.id);y===-1?q.value.push(D.id):q.value.splice(y,1),console.log(q.value)},j=u(null),S=D=>{j.value=D,$("#deleteClientModal").modal("show")},J=()=>{F.delete(`/web/asset-monitoring/${j.value}`).then(D=>{$("#deleteClientModal").modal("hide"),m.success(D.data.message),b()})},ie=()=>{F.delete("/web/bulkDeleteAsset",{data:{ids:q.value}}).then(D=>{l.value.data=l.value.data.filter(y=>!q.value.includes(y.id)),q.value=[],K.value=!1,m.success(D.data.message)})},K=u(!1),N=()=>{K.value?q.value=l.value.data.map(D=>D.id):q.value=[],console.log(q.value)};return he([v],D=>{d.is_active=D?1:0}),he(z,Ae.exports.debounce(()=>{b()},300)),_e(()=>{b(),B(),document.title=f}),(D,y)=>{const w=be("font"),de=be("tab-content"),le=be("form-wizard");return s(),o(H,null,[e("div",xf,[e("div",Cf,[e("div",Sf,[e("div",Df,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[Vf,I(" Asset ")]),q.value.length>0?(s(),o("div",Uf,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Mf,I(" Delete Selected ")]),e("span",Af,"Selected "+t(q.value.length)+" Record",1)])):A("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=T=>z.value=T),class:"form-control",placeholder:"Search..."},null,512),[[ce,z.value]])])]),e("div",Pf,[e("div",Tf,[r.value?(s(),re(Pe,{key:0})):A("",!0),e("div",Ef,[p(w,{size:"2"},{default:Z(()=>[e("table",qf,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=T=>K.value=T),onChange:N},null,544),[[Ee,K.value]])]),Ff,Lf,If,Rf,Nf,Yf,Bf,jf,Hf,Of,zf,Jf,Gf,Qf])]),l.value.data.length>0?(s(),o("tbody",Wf,[(s(!0),o(H,null,X(l.value.data,(T,L)=>(s(),re(wf,{key:T.id,item:T,index:L,onViewData:E,onEditData:Q,onConfirmDeletion:S,onToggleSelection:g,"select-all":K.value},null,8,["item","index","select-all"]))),128))])):(s(),o("tbody",Kf,Zf))])]),_:1})])])]),p(_(Fe),{data:l.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",e$,[e("div",t$,[e("div",s$,[e("div",a$,[e("h5",o$,[n.value?(s(),o("span",l$,"Edit Asset")):(s(),o("span",n$,"Add Asset"))]),d$]),p(_(Ue),{onSubmit:U,"validation-schema":n.value?_(i):_(C),"initial-values":c.value},{default:Z(({errors:T})=>[e("div",i$,[e("div",c$,[p(le,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:Z(()=>[p(de,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",r$,[e("div",u$,[e("div",_$,[m$,p(_(O),{as:"select",name:"branch",class:V(["form-control",{"is-invalid":T.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:d.site_id,"onUpdate:modelValue":y[2]||(y[2]=L=>d.site_id=L)},{default:Z(()=>[p$,(s(!0),o(H,null,X(M.value,L=>(s(),o("option",{key:L.id,value:L.id},t(L.site_name),9,h$))),128))]),_:2},1032,["class","modelValue"]),e("span",v$,t(T.branch),1)]),e("div",b$,[f$,p(_(O),{name:"asset_name",type:"text",class:V(["form-control",{"is-invalid":T.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:d.asset_name,"onUpdate:modelValue":y[3]||(y[3]=L=>d.asset_name=L)},null,8,["class","modelValue"]),e("span",$$,t(T.asset_name),1)]),e("div",g$,[y$,p(_(O),{name:"asset_type",type:"text",class:V(["form-control",{"is-invalid":T.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:d.asset_type,"onUpdate:modelValue":y[4]||(y[4]=L=>d.asset_type=L)},null,8,["class","modelValue"]),e("span",k$,t(T.asset_type),1)]),e("div",w$,[x$,p(_(O),{name:"serial",type:"text",class:V(["form-control",{"is-invalid":T.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:d.serial,"onUpdate:modelValue":y[5]||(y[5]=L=>d.serial=L)},null,8,["class","modelValue"]),e("span",C$,t(T.serial),1)])]),e("div",S$,[e("div",D$,[V$,p(_(O),{name:"date_acquired",type:"date",class:V(["form-control",{"is-invalid":T.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:d.date_acquired,"onUpdate:modelValue":y[6]||(y[6]=L=>d.date_acquired=L)},null,8,["class","modelValue"]),e("span",U$,t(T.date_acquired),1)]),e("div",M$,[A$,p(_(O),{name:"man_supplier",type:"text",class:V(["form-control",{"is-invalid":T.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:d.man_supplier,"onUpdate:modelValue":y[7]||(y[7]=L=>d.man_supplier=L)},null,8,["class","modelValue"]),e("span",P$,t(T.man_supplier),1)]),e("div",T$,[E$,p(_(O),{name:"unit",type:"number",class:V(["form-control",{"is-invalid":T.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:d.unit,"onUpdate:modelValue":y[8]||(y[8]=L=>d.unit=L)},null,8,["class","modelValue"]),e("span",q$,t(T.unit),1)])])])]),_:2},1024),p(de,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",F$,[e("div",L$,[e("div",I$,[R$,p(_(O),{name:"paccountable",type:"text",class:V(["form-control",{"is-invalid":T.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:d.paccountable,"onUpdate:modelValue":y[9]||(y[9]=L=>d.paccountable=L)},null,8,["class","modelValue"]),e("span",N$,t(T.paccountable),1)])]),e("div",Y$,[e("div",B$,[j$,p(_(O),{name:"locationchangetranfer",type:"text",class:V(["form-control",{"is-invalid":T.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:d.locationchangetranfer,"onUpdate:modelValue":y[10]||(y[10]=L=>d.locationchangetranfer=L)},null,8,["class","modelValue"]),e("span",H$,t(T.locationchangetranfer),1)])])])]),_:2},1024),p(de,{title:"Asset Condition"},{default:Z(()=>[e("div",O$,[e("div",z$,[e("div",J$,[G$,p(_(O),{as:"select",name:"cucodition",class:V(["form-control",{"is-invalid":T.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:d.cucodition,"onUpdate:modelValue":y[11]||(y[11]=L=>d.cucodition=L)},{default:Z(()=>[Q$,W$,K$,X$]),_:2},1032,["class","modelValue"]),e("span",Z$,t(T.cucodition),1)]),e("div",eg,[tg,p(_(O),{name:"maintenancenotes",as:"textarea",class:V(["form-control",{"is-invalid":T.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:d.maintenancenotes,"onUpdate:modelValue":y[12]||(y[12]=L=>d.maintenancenotes=L)},null,8,["class","modelValue"])])]),e("div",sg,[e("div",ag,[og,p(_(O),{name:"lastmaintenance",type:"date",class:V(["form-control",{"is-invalid":T.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:d.lastmaintenance,"onUpdate:modelValue":y[13]||(y[13]=L=>d.lastmaintenance=L)},null,8,["class","modelValue"])]),e("div",lg,[ng,p(_(O),{name:"nextmaintenance",type:"date",class:V(["form-control",{"is-invalid":T.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:d.nextmaintenance,"onUpdate:modelValue":y[14]||(y[14]=L=>d.nextmaintenance=L)},null,8,["class","modelValue"])])])])]),_:2},1024),p(de,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",dg,[e("div",ig,[e("div",cg,[rg,p(_(O),{name:"operationhours",type:"number",class:V(["form-control",{"is-invalid":T.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:d.operationhours,"onUpdate:modelValue":y[15]||(y[15]=L=>d.operationhours=L)},null,8,["class","modelValue"])])]),e("div",ug,[e("div",_g,[mg,p(_(O),{name:"notes",as:"textarea",class:V(["form-control",{"is-invalid":T.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:d.notes,"onUpdate:modelValue":y[16]||(y[16]=L=>d.notes=L)},null,8,["class","modelValue"]),e("span",pg,t(T.notes),1)])])])]),_:2},1024),p(de,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",hg,[e("div",vg,[e("div",bg,[fg,e("div",$g,[gg,p(_(O),{name:"purchasecost",type:"text",class:V(["form-control",{"is-invalid":T.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:d.purchasecost,"onUpdate:modelValue":y[17]||(y[17]=L=>d.purchasecost=L)},null,8,["class","modelValue"])])]),e("div",yg,[kg,e("div",wg,[xg,p(_(O),{name:"depreciationcost",type:"text",class:V(["form-control",{"is-invalid":T.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:d.depreciationcost,"onUpdate:modelValue":y[18]||(y[18]=L=>d.depreciationcost=L)},null,8,["class","modelValue"])])])]),e("div",Cg,[e("div",Sg,[Dg,p(_(O),{name:"insurancewarrantyinfo",as:"textarea",class:V(["form-control",{"is-invalid":T.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:d.insurancewarrantyinfo,"onUpdate:modelValue":y[19]||(y[19]=L=>d.insurancewarrantyinfo=L)},null,8,["class","modelValue"]),e("span",Vg,t(T.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Ug]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Mg,[e("div",Ag,[e("div",Pg,[Tg,e("div",Eg,[qg,e("button",{onClick:te(J,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Fg,[e("div",Lg,[e("div",Ig,[Rg,e("div",Ng,[e("table",Yg,[e("tbody",null,[Bg,e("tr",null,[jg,e("td",null,t(d.site_name),1)]),e("tr",null,[Hg,e("td",null,t(d.asset_name),1)]),e("tr",null,[Og,e("td",null,t(d.asset_type),1)]),e("tr",null,[zg,e("td",null,t(d.serial),1)]),e("tr",null,[Jg,e("td",null,t(d.date_acquired),1)]),e("tr",null,[Gg,e("td",null,t(d.man_supplier),1)]),e("tr",null,[Qg,e("td",null,t(d.unit),1)]),Wg,e("tr",null,[Kg,e("td",null,t(d.paccountable),1)]),e("tr",null,[Xg,e("td",null,t(d.locationchangetranfer),1)]),Zg,e("tr",null,[ey,e("td",null,t(d.cucodition),1)]),e("tr",null,[ty,e("td",null,t(d.maintenancenotes),1)]),e("tr",null,[sy,e("td",null,t(d.lastmaintenance),1)]),e("tr",null,[ay,e("td",null,t(d.nextmaintenance),1)]),oy,e("tr",null,[ly,e("td",null,t(d.operationhours),1)]),e("tr",null,[ny,e("td",null,t(d.notes),1)]),dy,e("tr",null,[iy,e("td",null,t("\u20B1"+d.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[cy,e("td",null,t("\u20B1"+d.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[ry,e("td",null,t(d.insurancewarrantyinfo),1)])])])]),uy])])])],64)}}};function my(a,f,m){var l=typeof a!="object"?JSON.parse(a):a,r="";if(r+=f+`\r

`,m){var n="";for(var c in l[0])n+=c+",";n=n.slice(0,-1),r+=n+`\r
`}for(var v=0;v<l.length;v++){var n="";for(var c in l[v])n+='"'+l[v][c]+'",';n.slice(0,n.length-1),r+=n+`\r
`}if(r==""){alert("Invalid data");return}var d="MyReport_";d+=f.replace(/ /g,"_");var M="data:text/csv;charset=utf-8,"+escape(r),b=document.createElement("a");b.href=M,b.style="visibility:hidden",b.download=d+".csv",document.body.appendChild(b),b.click(),document.body.removeChild(b)}const oe=a=>(Se("data-v-1fd6eeed"),a=a(),De(),a),py={class:"content"},hy={class:"container-fluid"},vy={class:"d-flex justify-content-between"},by={class:"d-flex"},fy=oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),$y={key:0},gy=oe(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),yy={class:"ml-2"},ky={class:"d-flex"},wy={class:"form-group"},xy=oe(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Cy=["value"],Sy={id:"captureDiv"},Dy={class:"card"},Vy={class:"card-header"},Uy={class:"card-title"},My={class:"card-tools"},Ay={id:"cost"},Py={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Ty=oe(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Ey={class:"card-body"},qy=oe(()=>e("i",{class:"fa fa-camera"},null,-1)),Fy=[qy],Ly=oe(()=>e("i",{class:"fas fa-file-excel"},null,-1)),Iy=[Ly],Ry={key:1,class:"table-responsive"},Ny={class:"table table-bordered table-sm table-striped table-hover"},Yy=oe(()=>e("th",null,null,-1)),By=oe(()=>e("th",null,"Date",-1)),jy=oe(()=>e("th",null,"Allocated Pallet Space",-1)),Hy=oe(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Oy=oe(()=>e("th",null,"Space Utilization %",-1)),zy=oe(()=>e("th",null,"Excess",-1)),Jy={key:0},Gy={key:1},Qy=oe(()=>e("th",null,"Remarks",-1)),Wy=oe(()=>e("th",null,"Action",-1)),Ky={key:0},Xy=["item","index","select-all"],Zy=["checked"],e2={key:0},t2={key:1},s2=["onClick"],a2=oe(()=>e("i",{class:"fa fa-edit"},null,-1)),o2=[a2],l2={key:0},n2=oe(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),d2={colspan:"3"},i2={key:1},c2=oe(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),r2=[c2],u2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_2={class:"modal-dialog modal-sm",role:"document"},m2={class:"modal-content"},p2={class:"modal-header"},h2={class:"modal-title",id:"staticBackdropLabel"},v2={key:0},b2={key:1},f2=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),$2=xe('<ul class="nav nav-tabs" data-v-1fd6eeed><li id="bulkviewtab1" class="nav-item" data-v-1fd6eeed><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-1fd6eeed>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-1fd6eeed><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-1fd6eeed>Bulk Pallet</a></li></ul>',1),g2={class:"tab-content"},y2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},k2={class:"modal-body"},w2={class:"col-md-12"},x2={class:"row"},C2={class:"col-12"},S2={class:"form-group"},D2=oe(()=>e("label",{for:"date"},"Date",-1)),V2={class:"invalid-feedback"},U2={class:"form-group"},M2=oe(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),A2={class:"invalid-feedback"},P2={class:"form-group"},T2=oe(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),E2={class:"invalid-feedback"},q2={class:"form-group"},F2=oe(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),L2={class:"invalid-feedback"},I2=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),R2={class:"tab-pane fade show",id:"bulk-pallet-tab"},N2={class:"modal-body"},Y2={class:"col-md-12"},B2={class:"row"},j2={class:"col-12"},H2={class:"form-group"},O2=oe(()=>e("label",{for:"fromdate"},"From:",-1)),z2={class:"invalid-feedback"},J2={class:"form-group"},G2=oe(()=>e("label",{for:"todate"},"To:",-1)),Q2={class:"invalid-feedback"},W2={class:"form-group"},K2=oe(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),X2={class:"invalid-feedback"},Z2={class:"form-group"},ek=oe(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),tk={class:"invalid-feedback"},sk={class:"form-group"},ak=oe(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),ok={class:"invalid-feedback"},lk=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),nk={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dk={class:"modal-dialog",role:"document"},ik={class:"modal-content"},ck=xe('<div class="modal-header" data-v-1fd6eeed><h5 class="modal-title" id="staticBackdropLabel" data-v-1fd6eeed><span data-v-1fd6eeed>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-1fd6eeed><span aria-hidden="true" data-v-1fd6eeed>\xD7</span></button></div><div class="modal-body" data-v-1fd6eeed><h5 data-v-1fd6eeed>Are you sure you want to delete this record ?</h5></div>',2),rk={class:"modal-footer"},uk=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),_k={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mk={class:"modal-dialog modal-sm",role:"document"},pk={class:"modal-content"},hk=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),vk={class:"modal-body"},bk={class:"fromtocenter"},fk=oe(()=>e("label",{for:"fromDate"},"From:",-1)),$k=oe(()=>e("label",{for:"toDate"},"To:",-1)),gk={class:"modal-footer"},yk=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),kk={__name:"PalletList",setup(a){const f=Je("$swal"),m=`${fe().name}`,l=pe(),r=u({data:[]}),n=u(),c=u(!1),v=u(!1),d=me(),M=u(!0),b=u(!0),C=u(),i=Me({id:"",site_id:"",user_id:d.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});u(null);const x=u(),Y=()=>{c.value=!0,F.get("/web/pallet",{params:{site_id:i.site_id,query:de.value}}).then(G=>{c.value=!1,r.value=G.data.data,x.value=G.data.sum,le.value=[],Re.value=!1})},E=ke({allocatedpalletspace:R().required(),spaceuteltotal:R().required(),caseperpallet:R().required(),fromdate:R().required(),todate:R().required()}),Q=ke({date:R().required(),allocatedpalletspace:R().required(),spaceuteltotal:R().required(),caseperpallet:R().required()}),ae=ke({date:R().required(),allocatedpalletspace:R().required(),spaceuteltotal:R().required(),caseperpallet:R().required()}),U=u(""),B=u(""),z=u({start_date:"",end_date:""});he([U],()=>{const G=new Date(U.value),W=G.getFullYear(),we=String(G.getMonth()+1).padStart(2,"0"),k=String(G.getDate()).padStart(2,"0");z.value.start_date=`${W}-${we}-${k}`}),he([B],()=>{const G=new Date(B.value),W=G.getFullYear(),we=String(G.getMonth()+1).padStart(2,"0"),k=String(G.getDate()).padStart(2,"0");z.value.end_date=`${W}-${we}-${k}`});const q=()=>{c.value=!0,F.get("/web/filter-pallet",{params:{start_date:z.value.start_date,end_date:z.value.end_date,site_id:i.site_id}}).then(G=>{c.value=!1,r.value=G.data.data,x.value=G.data.sum}).catch(G=>{console.error(G)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},g=()=>{i.id="",i.user_id=d.user.id,i.date="",i.allocatedpalletspace="",i.spaceuteltotal="",i.caseperpallet=""},j=()=>!i.site_id||i.site_id.length===0?(f.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,S=({resetForm:G,setErrors:W})=>{F.post("/web/pallet",{site_id:i.site_id,user_id:i.user_id,date:i.date,allocatedpalletspace:i.allocatedpalletspace,spaceuteltotal:i.spaceuteltotal,caseperpallet:i.caseperpallet}).then(we=>{Y(),$("#FormModal").modal("hide"),g(),l.success("Data created successfully!")}).catch(function(we){we.response?l.error(we.response.data.message):we.request?l.error(we.request):l.error("Error",we.message)})},J=()=>{F.get("/web/getsite").then(G=>{n.value=G.data.sites}).catch(G=>{console.log(G)})},ie=()=>{Y(i.site_id);const G=n.value.find(W=>W.id===i.site_id);C.value=G?G.site_name:""},K=()=>{j()||(v.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},N=G=>{$("#bulkviewtab2").hide(),v.value=!0,i.id=G.id,i.user_id=G.user_id,i.site_id=G.site_id,i.date=G.date,i.allocatedpalletspace=G.allocatedpalletspace,i.spaceuteltotal=G.spaceuteltotal,i.caseperpallet=G.caseperpallet,$("#FormModal").modal("show")},D=({setErrors:G})=>{F.post("/web/pallet",i).then(W=>{g(),Y(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(W=>{G(W.response.data.errors),console.log(W)})},y=(G,W)=>{v.value?D(G):S(G)},w=()=>{F.post("/web/bulkCreatePallet",i).then(G=>{Y(),$("#FormModal").modal("hide"),l.success(G.data.message)}).catch(G=>{l.error(G.response.data.errors)})},de=u(null),le=u([]),T=G=>{const W=le.value.indexOf(G.id);W===-1?le.value.push(G.id):le.value.splice(W,1),console.log(le.value)},L=u(null),Ie=G=>{L.value=G,$("#deleteDataModal").modal("show")},Ge=()=>{F.delete(`/web/pallet/${L.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),r.value.data=r.value.data.filter(G=>G.id!==L.value)})},je=()=>{F.delete("/web/bulkDeletePallet",{data:{ids:le.value}}).then(G=>{Y(),le.value=[],Re.value=!1,l.success(G.data.message)})},Qe=()=>{j()||$("#FormModalfilterDate").modal("show")},Re=u(!1),We=()=>{if(j())return;$("#cost").hide(),$("#capturecamerafilter").hide();const G=document.getElementById("captureDiv");ze(G).then(W=>{const we=W.toDataURL(),k=document.createElement("a");k.href=we,k.download=`${C.value} - ${m}.png`,k.click()}),$("#cost").show(),$("#capturecamerafilter").show()},Ke=()=>{if(j())return;let G=r.value;my(G,"PalletList",!0)};return he([b],G=>{i.is_active=G?1:0}),he(de,Ae.exports.debounce(()=>{Y()},300)),_e(()=>{J(),document.title=m}),(G,W)=>{const we=be("font");return s(),o(H,null,[e("div",py,[e("div",hy,[e("div",vy,[e("div",by,[e("button",{onClick:K,type:"button",class:"mb-2 btn btn-primary"},[fy,I(" Pallet ")]),le.value.length>0?(s(),o("div",$y,[e("button",{onClick:je,type:"button",class:"ml-2 mb-2 btn btn-danger"},[gy,I(" Delete Selected ")]),e("span",yy,"Selected "+t(le.value.length)+" Pallet",1)])):A("",!0)]),e("div",ky,[e("div",wy,[ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":W[0]||(W[0]=k=>i.site_id=k),onChange:W[1]||(W[1]=k=>ie())},[xy,(s(!0),o(H,null,X(n.value,k=>(s(),o("option",{key:k.id,value:k.id},t(k.site_name),9,Cy))),128))],544),[[Te,i.site_id]])])])]),e("div",Sy,[e("div",Dy,[e("div",Vy,[e("div",Uy,t(C.value||"Select a Site"),1),e("div",My,[e("div",Ay,[e("div",Py,[ee(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":W[2]||(W[2]=k=>M.value=k)},null,512),[[Ee,M.value]]),Ty])])])]),e("div",Ey,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:We,type:"button",class:"btn btn-warning"},Fy),e("button",{onClick:Ke,type:"button",class:"btn btn-success"},Iy)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:Qe})])])]),c.value?(s(),re(Pe,{key:0})):(s(),o("div",Ry,[p(we,{size:"2"},{default:Z(()=>[e("table",Ny,[e("thead",null,[e("tr",null,[Yy,By,jy,Hy,Oy,zy,M.value?(s(),o("th",Jy," Cost per Pallet ")):A("",!0),M.value?(s(),o("th",Gy,"Cost")):A("",!0),Qy,Wy])]),r.value.length>0?(s(),o("tbody",Ky,[(s(!0),o(H,null,X(r.value,(k,P)=>(s(),o("tr",{key:k.id,item:k,index:P,onConfirmDeletion:Ie,onToggleSelection:T,"select-all":Re.value},[e("td",null,[e("input",{type:"checkbox",checked:Re.value,onChange:T},null,40,Zy)]),e("td",null,t(_(ue)(k.date).format("MMMM DD, YY")),1),e("td",null,t(k.allocatedpalletspace),1),e("td",null,t(k.spaceuteltotal),1),e("td",null,t(k.spacetotalutelpercent),1),e("td",null,t(k.excess),1),M.value?(s(),o("td",e2,t(k.caseperpallet),1)):A("",!0),M.value?(s(),o("td",t2,t(k.cost),1)):A("",!0),e("td",null," EXCESS "+t(k.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:h=>N(k)},o2,8,s2)])],40,Xy))),128)),M.value?(s(),o("tr",l2,[n2,e("td",d2,[e("b",null,t(x.value),1)])])):A("",!0)])):(s(),o("tbody",i2,r2))])]),_:1})]))])])])])]),e("div",u2,[e("div",_2,[e("div",m2,[e("div",p2,[e("h5",h2,[v.value?(s(),o("span",v2,"Edit Pallet")):(s(),o("span",b2,"Add Pallet"))]),f2]),$2,e("div",g2,[e("div",y2,[p(_(Ue),{onSubmit:y,"validation-schema":v.value?_(ae):_(Q)},{default:Z(({errors:k})=>[e("div",k2,[e("div",w2,[e("div",x2,[e("div",C2,[p(_(O),{modelValue:i.user_id,"onUpdate:modelValue":W[3]||(W[3]=P=>i.user_id=P),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",S2,[D2,p(_(O),{name:"date",type:"date",class:V(["form-control",{"is-invalid":k.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:i.date,"onUpdate:modelValue":W[4]||(W[4]=P=>i.date=P)},null,8,["class","modelValue"]),e("span",V2,t(k.date),1)]),e("div",U2,[M2,p(_(O),{name:"allocatedpalletspace",type:"text",class:V(["form-control",{"is-invalid":k.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",modelValue:i.allocatedpalletspace,"onUpdate:modelValue":W[5]||(W[5]=P=>i.allocatedpalletspace=P)},null,8,["class","modelValue"]),e("span",A2,t(k.allocatedpalletspace),1)]),e("div",P2,[T2,p(_(O),{name:"spaceuteltotal",type:"text",class:V(["form-control",{"is-invalid":k.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",modelValue:i.spaceuteltotal,"onUpdate:modelValue":W[6]||(W[6]=P=>i.spaceuteltotal=P),required:""},null,8,["class","modelValue"]),e("span",E2,t(k.spaceuteltotal),1)]),e("div",q2,[F2,p(_(O),{name:"caseperpallet",type:"text",class:V(["form-control",{"is-invalid":k.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",modelValue:i.caseperpallet,"onUpdate:modelValue":W[7]||(W[7]=P=>i.caseperpallet=P)},null,8,["class","modelValue"]),e("span",L2,t(k.caseperpallet),1)])])])])]),I2]),_:1},8,["validation-schema"])]),e("div",R2,[p(_(Ue),{onSubmit:w,"validation-schema":_(E)},{default:Z(({errors:k})=>[e("div",N2,[e("div",Y2,[e("div",B2,[e("div",j2,[p(_(O),{modelValue:i.user_id,"onUpdate:modelValue":W[8]||(W[8]=P=>i.user_id=P),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",H2,[O2,p(_(O),{name:"fromdate",type:"date",class:V(["form-control",{"is-invalid":k.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:i.fromdate,"onUpdate:modelValue":W[9]||(W[9]=P=>i.fromdate=P)},null,8,["class","modelValue"]),e("span",z2,t(k.fromdate),1)]),e("div",J2,[G2,p(_(O),{name:"todate",type:"date",class:V(["form-control",{"is-invalid":k.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:i.todate,"onUpdate:modelValue":W[10]||(W[10]=P=>i.todate=P)},null,8,["class","modelValue"]),e("span",Q2,t(k.todate),1)]),e("div",W2,[K2,p(_(O),{name:"allocatedpalletspace",type:"text",class:V(["form-control",{"is-invalid":k.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:i.allocatedpalletspace,"onUpdate:modelValue":W[11]||(W[11]=P=>i.allocatedpalletspace=P)},null,8,["class","modelValue"]),e("span",X2,t(k.allocatedpalletspace),1)]),e("div",Z2,[ek,p(_(O),{name:"spaceuteltotal",type:"text",class:V(["form-control",{"is-invalid":k.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:i.spaceuteltotal,"onUpdate:modelValue":W[12]||(W[12]=P=>i.spaceuteltotal=P),required:""},null,8,["class","modelValue"]),e("span",tk,t(k.spaceuteltotal),1)]),e("div",sk,[ak,p(_(O),{name:"caseperpallet",type:"text",class:V(["form-control",{"is-invalid":k.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:i.caseperpallet,"onUpdate:modelValue":W[13]||(W[13]=P=>i.caseperpallet=P)},null,8,["class","modelValue"]),e("span",ok,t(k.caseperpallet),1)])])])])]),lk]),_:1},8,["validation-schema"])])])])])]),e("div",nk,[e("div",dk,[e("div",ik,[ck,e("div",rk,[uk,e("button",{onClick:te(Ge,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",_k,[e("div",mk,[e("div",pk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(m)+" Report")]),hk]),e("div",vk,[e("div",bk,[e("div",null,[fk,p(_(qe),{modelValue:U.value,"onUpdate:modelValue":W[14]||(W[14]=k=>U.value=k)},null,8,["modelValue"])]),e("div",null,[$k,p(_(qe),{modelValue:B.value,"onUpdate:modelValue":W[15]||(W[15]=k=>B.value=k)},null,8,["modelValue"])])])]),e("div",gk,[yk,e("button",{onClick:W[16]||(W[16]=k=>q()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var wk=ye(kk,[["__scopeId","data-v-1fd6eeed"]]);const xk=a=>(Se("data-v-4f631a07"),a=a(),De(),a),Ck={class:"content"},Sk={class:"container-fluid"},Dk={class:"row"},Vk={class:"col-md-6"},Uk={class:"card"},Mk={class:"card-title"},Ak={class:"form-group m-3"},Pk=xk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Tk=["value"],Ek={class:"card-body"},qk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Fk={class:"custom-control custom-checkbox"},Lk=["value","id","checked"],Ik=["for"],Rk={class:"card-footer"},Nk={__name:"UserSite",setup(a){me();const f=`${fe().name}`,m=pe();u(!0);const l=Me({user_id:""});u(null),u();const r=u(),n=u(),c=u([]),v=()=>{F.get("/api/users/userlist").then(C=>{n.value=C.data}).catch(C=>{console.log(C)})},d=C=>{C!==null?F.get(`/web/usersite/${C}`).then(i=>{r.value=i.data}).catch(i=>{console.error("Error fetching site data for user:",i)}):F.get("/web/getsitewithoutuser").then(i=>{r.value=i.data}).catch(i=>{console.error("Error fetching site data without user:",i)})},M=()=>{const C={user_id:l.user_id,site_id:c.value};console.log(C),F.post("/web/onSaveupdate",C).then(i=>{m.success("User Site Save successfully!")}).catch(i=>{setErrors(i.response.data.errors)})},b=C=>{d(C)};return _e(()=>{v(),d(),document.title=f}),(C,i)=>(s(),o("div",Ck,[e("div",Sk,[e("div",Dk,[e("div",Vk,[e("div",Uk,[e("div",Mk,[e("div",Ak,[p(_(O),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":i[0]||(i[0]=x=>l.user_id=x),onChange:i[1]||(i[1]=x=>b(l.user_id))},{default:Z(()=>[Pk,(s(!0),o(H,null,X(n.value,x=>(s(),o("option",{key:x.id,value:x.id},t(x.name),9,Tk))),128))]),_:1},8,["modelValue"])])]),e("div",Ek,[e("ul",qk,[(s(!0),o(H,null,X(r.value,x=>(s(),o("li",{key:x.id,class:"list-group-item"},[e("div",Fk,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=Y=>c.value=Y),value:x.id,id:"site_id_"+x.id,checked:x.hasAccess},null,8,Lk),[[Ee,c.value]]),e("label",{for:"site_id_"+x.id,class:"custom-control-label"},t(x.site_name),9,Ik)])]))),128))]),e("div",Rk,[e("button",{type:"button",onClick:i[3]||(i[3]=x=>M()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var Yk=ye(Nk,[["__scopeId","data-v-4f631a07"]]);const at=a=>(Se("data-v-8e5a7dbc"),a=a(),De(),a),Bk={style:{"text-align":"center"}},jk={key:0},Hk=at(()=>e("i",{class:"fa fa-edit"},null,-1)),Ok=[Hk],zk=at(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Jk=[zk],Gk={key:1,style:{"text-align":"center"}},Qk={key:0},Wk=at(()=>e("i",{class:"fa fa-edit"},null,-1)),Kk=[Wk],Xk={__name:"JobItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(a,{emit:f}){pe();const m=me(),l=n=>{switch(n){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},r=n=>{switch(n){case"P":return"Pinding";case"A":return"Approved";case"C":return"Closed";default:return"badge-secondary"}};return(n,c)=>{const v=be("router-link");return s(),o("tr",null,[e("td",null,t(a.index+1),1),e("td",null,t(a.item.site_name),1),e("td",null,t(a.item.job_order_number),1),e("td",null,t(a.item.end_user),1),e("td",null,t(a.item.date_needed),1),e("td",null,t(a.item.commitment_date),1),e("td",null,t(a.item.commitment_date),1),e("td",Bk,[p(v,{to:`/job-order-request-approved/${a.item.job_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:V(["badge",`${l(a.item.status)}`])},t(r(a.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(a.item.created_user),1),e("td",null,t(a.item.created_at),1),_(m).user.role==="ADMIN"?(s(),o("td",jk,[e("a",{href:"#",onClick:c[0]||(c[0]=te(d=>n.$emit("editRecord",a.item),["prevent"]))},Ok),e("a",{href:"#",onClick:c[1]||(c[1]=te(d=>n.$emit("confirmUserDeletion",a.item),["prevent"]))},Jk)])):A("",!0),_(m).user.role==="USER"?(s(),o("td",Gk,[a.item.status!="P"?(s(),o("div",Qk,[a.item.created_by==_(m).user.id?(s(),o("a",{key:0,href:"#",onClick:c[2]||(c[2]=te(d=>n.$emit("editRecord",a.item),["prevent"]))},Kk)):A("",!0)])):A("",!0)])):A("",!0)])}}};var Zk=ye(Xk,[["__scopeId","data-v-8e5a7dbc"]]);const e0={class:"content"},t0={class:"container-fluid"},s0={class:"d-flex justify-content-between"},a0={class:"d-flex"},o0=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),l0={key:0},n0=e("i",{class:"fa fa-trash mr-1"},null,-1),d0={class:"ml-2"},i0={class:"card"},c0={class:"card-body"},r0={class:"table-responsive"},u0={class:"table table-bordered table-sm"},_0=e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Order Number"),e("th",null,"End User"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Commitment Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1),m0={key:0},p0={key:1},h0=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),v0=[h0],b0={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},f0={class:"modal-dialog",role:"document"},$0={class:"modal-content"},g0=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Closed Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to close this record ? </h5></div>',2),y0={class:"modal-footer"},k0=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),w0={__name:"JobOrderList",setup(a){const f=`${fe().name}`,m=pe(),l=u({data:[]});u({data:[]});const r=u(!1);u(!1),u(),me(),u(null),u();const n=(E=1)=>{r.value=!0,F.get(`/web/job-request?page=${E}`,{params:{query:c.value}}).then(Q=>{r.value=!1,l.value=Q.data,v.value=[],b.value=!1})};ke({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()}),ke({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()});const c=u(null),v=u([]),d=E=>{const Q=v.value.indexOf(E.id);Q===-1?v.value.push(E.id):v.value.splice(Q,1),console.log(v.value)},M=()=>{F.delete("menulist",{data:{ids:v.value}}).then(E=>{l.value.data=l.value.data.filter(Q=>!v.value.includes(Q.id)),v.value=[],b.value=!1,m.success(E.data.message)})},b=u(!1),C=u(null),i=u(null),x=E=>{C.value=E.id,i.value=E.job_order_number,$("#deleteRecordModal").modal("show")},Y=()=>{F.delete(`/web/job-request/${C.value}`).then(()=>{$("#deleteRecordModal").modal("hide"),m.success("Record Close successfully!"),n()}).catch(E=>{m.error(E.response.data.errors)})};return he(c,Ae.exports.debounce(()=>{n()},300)),_e(()=>{n(),document.title=f}),(E,Q)=>{const ae=be("router-link"),U=be("font");return s(),o(H,null,[e("div",e0,[e("div",t0,[e("div",s0,[e("div",a0,[p(ae,{class:V("mb-2 btn btn-primary"),to:{name:"Job Order Create"}},{default:Z(()=>[o0,I("Create ")]),_:1}),v.value.length>0?(s(),o("div",l0,[e("button",{onClick:M,type:"button",class:"ml-2 mb-2 btn btn-danger"},[n0,I(" Delete Selected ")]),e("span",d0,"Selected "+t(v.value.length)+" Menu",1)])):A("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":Q[0]||(Q[0]=B=>c.value=B),class:"form-control",placeholder:"Search..."},null,512),[[ce,c.value]])])]),e("div",i0,[e("div",c0,[r.value?(s(),re(Pe,{key:0})):A("",!0),e("div",r0,[p(U,{size:"2"},{default:Z(()=>[e("table",u0,[_0,l.value.data.length>0?(s(),o("tbody",m0,[(s(!0),o(H,null,X(l.value.data,(B,z)=>(s(),re(Zk,{key:B.id,item:B,index:z,onEditUser:E.editData,onShowItem:E.viewItem,onConfirmUserDeletion:x,onToggleSelection:d,"select-all":b.value},null,8,["item","index","onEditUser","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),o("tbody",p0,v0))])]),_:1})])])]),p(_(Fe),{data:l.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",b0,[e("div",f0,[e("div",$0,[g0,e("div",y0,[k0,e("button",{onClick:te(Y,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}},x0={class:"form-group row"},C0=["for"],S0={class:"col-sm-10"},D0=["type","id","name","placeholder"],V0={key:0,class:"invalid-feedback"},U0={key:0},Ne={__name:"FormTextField",props:{name:{type:String,required:!0},type:{type:String,default:"text",validator:a=>["text","number","password","email","url","tel"].includes(a)},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null}},emits:["update:modelValue"],setup(a,{emit:f}){const m=a,l=f,r=Ce({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,c)=>(s(),o("div",x0,[a.label?(s(),o("label",{key:0,for:a.name,class:"col-sm-2 col-form-label"},t(a.label),9,C0)):A("",!0),e("div",S0,[ee(e("input",{"onUpdate:modelValue":c[0]||(c[0]=v=>r.value=v),type:a.type,id:a.name,name:a.name,placeholder:a.placeholder,class:V(["form-control",a.errors?"is-invalid":""])},null,10,D0),[[et,r.value]]),a.errors?(s(),o("span",V0,[Array.isArray(a.errors)?(s(),o("ul",U0,[(s(!0),o(H,null,X(a.errors,(v,d)=>(s(),o("li",{key:d},t(v),1))),128))])):(s(),o(H,{key:1},[I(t(a.errors),1)],64))])):A("",!0)])]))}},M0={class:"form-group row"},A0=["for"],P0={class:"col-sm-10"},T0=["id","name","placeholder"],E0={value:"",disabled:""},q0=["value"],F0={key:0,class:"invalid-feedback"},L0={key:0},nt={__name:"FormSelectOption",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:"Select an option"},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(a,{emit:f}){const m=a,l=f,r=Ce({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,c)=>(s(),o("div",M0,[a.label?(s(),o("label",{key:0,for:a.name,class:"col-sm-2 col-form-label"},t(a.label),9,A0)):A("",!0),e("div",P0,[ee(e("select",{"onUpdate:modelValue":c[0]||(c[0]=v=>r.value=v),id:a.name,name:a.name,placeholder:a.placeholder,class:V(["form-control",a.errors?"is-invalid":""])},[e("option",E0,t(a.placeholder),1),(s(!0),o(H,null,X(a.options,v=>(s(),o("option",{key:v.id,value:v.id},t(v.name),9,q0))),128))],10,T0),[[Te,r.value]]),a.errors?(s(),o("span",F0,[Array.isArray(a.errors)?(s(),o("ul",L0,[(s(!0),o(H,null,X(a.errors,(v,d)=>(s(),o("li",{key:d},t(v),1))),128))])):(s(),o(H,{key:1},[I(t(a.errors),1)],64))])):A("",!0)])]))}},I0={class:"form-group row"},R0=["for"],N0={class:"col-sm-10"},Y0=["id","name","placeholder","rows"],B0={key:0,class:"invalid-feedback"},j0={key:0},dt={__name:"FormTextAria",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},rows:{type:[Number],default:""}},emits:["update:modelValue"],setup(a,{emit:f}){const m=a,l=f,r=Ce({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,c)=>(s(),o("div",I0,[a.label?(s(),o("label",{key:0,for:a.name,class:"col-sm-2 col-form-label"},t(a.label),9,R0)):A("",!0),e("div",N0,[ee(e("textarea",{"onUpdate:modelValue":c[0]||(c[0]=v=>r.value=v),id:a.name,name:a.name,placeholder:a.placeholder,class:V(["form-control",a.errors?"is-invalid":""]),rows:a.rows},null,10,Y0),[[ce,r.value]]),a.errors?(s(),o("span",B0,[Array.isArray(a.errors)?(s(),o("ul",j0,[(s(!0),o(H,null,X(a.errors,(v,d)=>(s(),o("li",{key:d},t(v),1))),128))])):(s(),o(H,{key:1},[I(t(a.errors),1)],64))])):A("",!0)])]))}},H0={class:"col-md-12"},O0={class:"form-group row"},z0=e("i",{class:"fa fa-plus"},null,-1),J0=[z0],G0={class:"col-sm-10"},Q0={class:"table"},W0=e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Part Number"),e("th",null,"Quantity"),e("th",null,"Action")])],-1),K0=["onUpdate:modelValue"],X0=["onUpdate:modelValue"],Z0=["onUpdate:modelValue"],e3=["onClick"],t3=e("i",{class:"fa fa-trash"},null,-1),s3=[t3],a3={__name:"JobOrderAction",setup(a){const f=`${fe().name}`,m=pe();u(!1),u();const l=Je("$swal"),r=me(),n=u(!0),c=Me({id:"",site_id:null,site_name:"",job_order_number:"",end_user:"",time_requested:"",date_needed:"",noted_by:"",type_of_job:"",problem_description:"",findings_recommendations:"",commitment_date:"",status:"P",created_by:r.user.id,updated_by:"",description:"",part_number:"",quantity:"",replacement_parts:[{description:"",part_number:"",quantity:0}]}),v=()=>{c.replacement_parts.push({description:"",part_number:"",quantity:0})},d=Y=>{c.replacement_parts.length>1&&c.replacement_parts.splice(Y,1)};u(null);const M=u([]),b=()=>{F.get("/web/getsite").then(Y=>{M.value=Y.data.sites}).catch(Y=>{console.log(Y)})},C=u(null),i=u([{id:"Preventive Maintenance",name:"Preventive Maintenance"},{id:"Corrective Maintenance",name:"Corrective Maintenance"},{id:"Calibration",name:"Calibration"}]),x=async()=>{(await l.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&F.post("/web/job-request",c).then(E=>{m.success(E.data.message)}).catch(E=>{m.error(E.data.message)})};return he([n],Y=>{c.is_active=Y?1:0}),he(C,Ae.exports.debounce(()=>{getItems()},300)),_e(()=>{b(),document.title=f}),(Y,E)=>{const Q=be("tab-content"),ae=be("form-wizard");return s(),o("div",H0,[p(ae,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:Z(()=>[p(Q,{title:"Job Information",icon:"fas fa-book"},{default:Z(()=>[p(Ne,{label:"Job Order Number",placeholder:"Job Order Number - AutoGenerate",name:"job_order_number",type:"text",id:"job_order_number",modelValue:c.job_order_number,"onUpdate:modelValue":E[0]||(E[0]=U=>c.job_order_number=U)},null,8,["modelValue"]),p(nt,{name:"branch",label:"Area / Department",modelValue:c.site_id,"onUpdate:modelValue":E[1]||(E[1]=U=>c.site_id=U),options:M.value},null,8,["modelValue","options"]),p(Ne,{label:"End User",placeholder:"End User",name:"enduser",type:"text",id:"enduser",modelValue:c.end_user,"onUpdate:modelValue":E[2]||(E[2]=U=>c.end_user=U)},null,8,["modelValue"]),p(Ne,{label:"Time Requested",placeholder:"Time Requested",name:"time_requested",type:"date",id:"time_requested",modelValue:c.time_requested,"onUpdate:modelValue":E[3]||(E[3]=U=>c.time_requested=U)},null,8,["modelValue"]),p(Ne,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:c.date_needed,"onUpdate:modelValue":E[4]||(E[4]=U=>c.date_needed=U)},null,8,["modelValue"]),p(Ne,{label:"Noted By",placeholder:"Noted By",name:"noted_by",type:"text",id:"noted_by",modelValue:c.noted_by,"onUpdate:modelValue":E[5]||(E[5]=U=>c.noted_by=U)},null,8,["modelValue"]),p(nt,{name:"type_of_job",label:"Type of Job",modelValue:c.type_of_job,"onUpdate:modelValue":E[6]||(E[6]=U=>c.type_of_job=U),options:i.value},null,8,["modelValue","options"])]),_:1}),p(Q,{title:"Problem Details",icon:"fas fa-pen-alt"},{default:Z(()=>[p(dt,{label:"Problem Description",id:"problem_description",name:"problem_description",rows:"3",placeholder:"Problem Description",modelValue:c.problem_description,"onUpdate:modelValue":E[7]||(E[7]=U=>c.problem_description=U)},null,8,["modelValue"]),p(dt,{label:"Recommendations",id:"Recommendations",rows:"3",placeholder:"Recommendations",modelValue:c.findings_recommendations,"onUpdate:modelValue":E[8]||(E[8]=U=>c.findings_recommendations=U)},null,8,["modelValue"]),p(Ne,{label:"Commitment Date",placeholder:"Commitment Date",name:"commitment_date",type:"date",id:"commitment_date",modelValue:c.commitment_date,"onUpdate:modelValue":E[9]||(E[9]=U=>c.commitment_date=U)},null,8,["modelValue"])]),_:1}),p(Q,{title:"Replacement Parts",icon:"fas fa-tools"},{default:Z(()=>[e("div",O0,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[I("Replacement Parts "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:v},J0)]),e("div",G0,[e("table",Q0,[W0,e("tbody",null,[(s(!0),o(H,null,X(c.replacement_parts,(U,B)=>(s(),o("tr",{key:B},[e("td",null,[ee(e("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":z=>U.description=z},null,8,K0),[[ce,U.description]])]),e("td",null,[ee(e("input",{type:"text",class:"form-control",placeholder:"Part Number","onUpdate:modelValue":z=>U.part_number=z},null,8,X0),[[ce,U.part_number]])]),e("td",null,[ee(e("input",{type:"number",class:"form-control",placeholder:"Quantity","onUpdate:modelValue":z=>U.quantity=z},null,8,Z0),[[ce,U.quantity]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:z=>d(B)},s3,8,e3)])]))),128))])])])])]),_:1})]),_:1})])}}};const ge=a=>(Se("data-v-4be19b9e"),a=a(),De(),a),o3={id:"exportPDF"},l3=ge(()=>e("br",null,null,-1)),n3={class:"container"},d3={class:"row align-items-center"},i3={class:"col-3 p-2 text-center"},c3={class:"header"},r3=["src"],u3=ge(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),_3={class:"row border border-secondary p-2"},m3={class:"col-6 float-end"},p3={class:"mb-1"},h3=ge(()=>e("strong",null,"Job Order Number :",-1)),v3={class:"row"},b3={class:"table table-bordered table-sm"},f3=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),$3={class:"row border"},g3={class:"col-6 p-2"},y3={class:"row"},k3={class:"col-12 p-2"},w3=ge(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),x3=ge(()=>e("br",null,null,-1)),C3={class:"row"},S3={class:"col-12 p-2"},D3=ge(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),V3={class:"row justify-content-right"},U3={class:"col-12 hidden-md-down border border-secondary"},M3=ge(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),A3={class:"row"},P3={class:"col-12 p-2"},T3=ge(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),E3={class:"row justify-content-right"},q3={class:"col-12 hidden-md-down border border-secondary"},F3={class:"row border mt-2"},L3={class:"col-6 p-2"},I3=ge(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),R3={class:"row"},N3=ge(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),Y3={class:"table table-bordered table-sm"},B3=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),j3={class:"row border border-secondary mt-2"},H3={class:"col-6 p-2"},O3=ge(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),z3=ge(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),J3=ge(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),G3={class:"row"},Q3={class:"col-12 p-2"},W3={class:"row justify-content-right"},K3={class:"col-12 hidden-md-down border border-secondary"},X3={class:"row"},Z3={class:"col-6 p-2"},ew=ge(()=>e("br",null,null,-1)),tw={class:"mt-2"},sw={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},aw=ge(()=>e("br",null,null,-1)),ow=ge(()=>e("div",{class:"col-6 p-2"},[I(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"})],-1)),lw={key:0,class:"fab-container"},nw=ge(()=>e("i",{class:"fas fa-download"},null,-1)),dw=[nw],iw={__name:"JobOrderRequestApproved",setup(a){const f=`${fe().params.id}`,m=()=>{const n=document.getElementById("exportPDF");tt().from(n).save(`${f}.pdf`)},l=Me({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",status:"",approvedPosition:""}),r=()=>{F.get(`/web/job-request/${fe().params.id}`).then(n=>{l.id=n.data.record.id,l.jobOrderNumber=n.data.record.job_order_number,l.areaDepartment=n.data.record.site_name,l.endUser=n.data.record.end_user,l.dateTimeRequested=ue(n.data.record.time_requested).format("MMMM D, YYYY"),l.dateNeeded=ue(n.data.record.date_needed).format("MMMM D, YYYY"),l.notedBy=n.data.record.noted_by,l.typeofjob=n.data.record.type_of_job,l.calibration=n.data.record.calibration,l.problemDescription=n.data.record.problem_description,l.findingsRecommendations=n.data.record.findings_recommendations,l.commitmentDate=ue(n.data.record.commitment_date).format("MMMM D, YYYY"),l.replacementParts=n.data.record.replacement_parts,l.checkedBy=n.data.record.createdby.cfull_name,l.checkedDate=ue(n.data.record.checkedDate).format("MMMM D, YYYY"),l.checkedTime=ue(n.data.record.checkedTime).format("h:mm:ss a"),l.reviewedBy=n.data.record.reviewedBy,l.reviewedDate=ue(n.data.record.reviewedDate).format("MMMM D, YYYY"),l.approvedBy=n.data.record.updatedby.ufull_name,l.approvedPosition=n.data.record.updatedby.uposition,l.approvedDate=ue(n.data.record.approvedDate).format("MMMM D, YYYY"),l.remarks=n.data.record.remarks,l.status=n.data.record.status}).catch(n=>{actions.setErrors(n.response.data.record.error)})};return _e(()=>{r(),document.title=f}),(n,c)=>(s(),o(H,null,[e("div",o3,[l3,e("div",n3,[l.status!=="A"?(s(),o("div",{key:0,class:V(["ribbon",{warning:l.status==="P",closed:l.status==="C"}])},[e("span",null,t(l.status==="P"?"Pending":l.status==="C"?"Closed":l.status),1)],2)):A("",!0),e("div",d3,[e("div",i3,[e("div",c3,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,r3)])]),u3]),e("div",_3,[e("div",m3,[e("p",p3,[h3,I(t(l.jobOrderNumber),1)])])]),e("div",v3,[e("table",b3,[f3,e("tbody",null,[e("tr",null,[e("td",null,t(l.areaDepartment),1),e("td",null,t(l.endUser),1),e("td",null,t(l.dateTimeRequested),1),e("td",null,t(l.dateNeeded),1)])])])]),e("div",$3,[e("div",g3,[I("Noted by:"),e("b",null,t(l.notedBy),1)])]),e("div",y3,[e("div",k3,[w3,x3,e("span",null,t(l.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),I("\xA0 "),e("span",null,t(l.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),I("\xA0 "),e("span",null,t(l.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",C3,[e("div",S3,[D3,e("div",V3,[e("div",U3,[e("p",null,t(l.problemDescription),1)])])])]),M3,e("div",A3,[e("div",P3,[T3,e("div",E3,[e("div",q3,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",F3,[e("div",L3,[I("Commitment Date:\xA0"),e("b",null,t(l.commitmentDate),1)]),I3]),e("div",R3,[N3,e("table",Y3,[B3,e("tbody",null,[(s(!0),o(H,null,X(l.replacementParts,(v,d)=>(s(),o("tr",{key:d},[e("td",null,t(d+1),1),e("td",null,t(v.description),1),e("td",null,t(v.part_number),1),e("td",null,t(v.quantity),1)]))),128))])])]),e("div",j3,[e("div",H3,[I(" Checked by : "),e("b",null,t(l.checkedBy),1)]),O3,z3]),J3,e("div",G3,[e("div",Q3,[I(" Remarks / Comments: "),e("div",W3,[e("div",K3,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",X3,[e("div",Z3,[I(" Reviewed by: Department Manager"),ew,e("div",tw,[e("span",sw,t(l.approvedBy),1),aw,e("span",null,t(l.approvedPosition),1)])]),ow])])]),l.status==="A"?(s(),o("div",lw,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=v=>m())},dw)])):A("",!0)],64))}};var mt=ye(iw,[["__scopeId","data-v-4be19b9e"]]),cw=[{path:"/login",name:"admin.login",component:Wn},{path:"/",name:"Dashboard",component:Rt},{path:"/appointments",name:"Appointments",component:ns},{path:"/appointments/create",name:"Appointments",component:lt},{path:"/appointments/:id/edit",name:"Appointments",component:lt},{path:"/user",name:"User",component:Lo},{path:"/settings",name:"Setting",component:Tl},{path:"/profile",name:"Profile",component:Dn},{path:"/client",name:"Client",component:Gd},{path:"/tech-recommendation",name:"Tech Recomm",component:dr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:fm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Hh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Kp},{path:"/usermenu",name:"User Menu",component:Nv},{path:"/menu",name:"Menu",component:c1},{path:"/:catchAll(.*)",name:"404 Error Page",component:ut},{path:"/notifications",name:"Notifications",component:$f},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:_t},{path:"/asset-monitoring",name:"Asset Monitoring",component:_y},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:wk},{path:"/usersite",name:"User Site",component:Yk},{path:"/job-order-request-list",name:"Job Order Request",component:w0},{path:"/job-order-request-list/create",name:"Job Order Create",component:a3},{path:"/job-order-request-approved/:id/view",name:"Job-Order-Request-Approved",component:mt}];const rw={class:"navbar-nav"},uw=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),_w={class:"nav-item d-none d-sm-inline-block"},mw={class:"navbar-nav ml-auto"},pw=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),hw=xe('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),vw={class:"nav-link","data-toggle":"dropdown",href:"#"},bw=e("i",{class:"far fa-bell"},null,-1),fw={class:"badge badge-warning navbar-badge"},$w={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},gw={class:"dropdown-header"},yw=e("div",{class:"dropdown-divider"},null,-1),kw=e("i",{class:"fas fa-envelope mr-2"},null,-1),ww={class:"float-right text-muted text-sm"},xw={key:1,class:"text-center text-muted py-3"},Cw=e("div",{class:"dropdown-divider"},null,-1),Sw=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Dw=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),Vw={__name:"AppNavbar",setup(a){const f=He(),m=u([]),l=()=>{F.get("/api/notifications").then(r=>{m.value=r.data.notifications}).catch(r=>{console.error("Error fetching notifications",r)})};return _e(()=>{l()}),(r,n)=>{const c=be("router-link");return s(),o("nav",{class:V(["main-header navbar navbar-expand",_(f).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",rw,[uw,e("li",_w,[e("a",{onClick:n[0]||(n[0]=te((...v)=>_(f).changeTheme&&_(f).changeTheme(...v),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:V(["far",_(f).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",mw,[pw,hw,e("li",{class:"nav-item dropdown",onClick:l},[e("a",vw,[bw,e("span",fw,t(m.value.length),1)]),e("div",$w,[e("span",gw,t(m.value.length)+" Notifications",1),yw,m.value.length>0?(s(!0),o(H,{key:0},X(m.value,v=>(s(),o("a",{key:v.id,href:"#",class:"dropdown-item"},[kw,I(" "+t(v.data?v.data:"No message available")+" ",1),e("span",ww,t(_(ue)(v.created_at)),1)]))),128)):(s(),o("p",xw,"No new notifications")),Cw,p(c,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[I("See All Notifications")]),_:1})])]),Sw,Dw])],2)}}},Uw={class:"main-sidebar sidebar-dark-primary elevation-4"},Mw={href:"#",class:"brand-link"},Aw=["src"],Pw={class:"brand-text font-weight-light"},Tw={class:"sidebar"},Ew={class:"user-panel mt-3 pb-3 mb-3 d-flex"},qw={key:0,class:"image"},Fw=["src"],Lw={key:1,class:"image"},Iw=["src"],Rw=["src"],Nw={class:"info"},Yw={href:"#",class:"d-block"},Bw={class:"mt-2"},jw={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},Hw={key:0,class:"right fas fa-angle-left"},Ow={key:0,class:"nav nav-treeview"},zw={class:"nav-item"},Jw={class:"nav-link"},Gw=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),Qw=e("p",null,"Logout",-1),Ww=[Gw,Qw],Kw={__name:"SidebarLeft",setup(a){const f=Ze(),m=me(),l=He(),r=u({data:[]}),n=()=>{axios.get("/api/menu").then(d=>{r.value=d.data}).catch(d=>{console.log(d)})},c=d=>d===f.currentRoute.value.path,v=()=>{axios.post("/logout").then(d=>{m.user.name="",f.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),n()}),(d,M)=>{const b=be("router-link");return s(),o("aside",Uw,[e("a",Mw,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Aw),e("span",Pw,t(_(l).setting.app_name),1)]),e("div",Tw,[e("div",Ew,[_(m).user.avatar===""?(s(),o("div",qw,[e("img",{src:_(m).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Fw)])):_(m).user.avatar!==""?(s(),o("div",Lw,[_(m).user.gender==="Male"?(s(),o("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Iw)):_(m).user.gender==="Female"?(s(),o("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Rw)):A("",!0)])):A("",!0),e("div",Nw,[e("a",Yw,t(_(m).user.name),1)])]),e("nav",Bw,[e("ul",jw,[(s(!0),o(H,null,X(r.value,C=>(s(),o("li",{key:C.id,class:V({"nav-item":!0,"menu-is-opening":C.submenus&&C.submenus.length>0})},[p(b,{class:V({"nav-link":!0,active:c(C.menu_route)}),to:`${C.menu_route}`},{default:Z(()=>[e("i",{class:V("nav-icon "+C.menu_icon)},null,2),e("p",null,t(C.menu_title),1),C.submenus&&C.submenus.length>0?(s(),o("i",Hw)):A("",!0)]),_:2},1032,["class","to"]),C.submenus&&C.submenus.length>0?(s(),o("ul",Ow,[(s(!0),o(H,null,X(C.submenus,i=>(s(),o("li",{key:i.id,class:"nav-item"},[p(b,{class:V({"nav-link menu-open":!0,active:c(i.menu_route)}),to:i.menu_route},{default:Z(()=>[e("i",{class:V("nav-icon "+i.menu_icon)},null,2),e("p",null,t(i.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):A("",!0)],2))),128)),e("li",zw,[e("form",Jw,[e("a",{href:"#",onClick:te(v,["prevent"])},Ww)])])])])])])}}},Xw={},Zw={class:"control-sidebar control-sidebar-dark"},e8=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),t8=[e8];function s8(a,f){return s(),o("aside",Zw,t8)}var a8=ye(Xw,[["render",s8]]);const o8={class:"main-footer"},l8={class:"float-right d-none d-sm-block"},n8={href:"#"},d8={__name:"AppFooter",props:{settings:Object},setup(a){const f=me(),m=u(new Date().getFullYear());return(l,r)=>{var n;return s(),o("footer",o8,[e("div",l8,t(_(f).user.name),1),e("strong",null,[I("Copyright \xA9 "+t(m.value)+" ",1),e("a",n8,t((n=a.settings)==null?void 0:n.app_name),1),I(".")]),I(" All rights reserved. ")])}}};const i8=a=>(Se("data-v-36653638"),a=a(),De(),a),c8={class:"content-wrapper"},r8={class:"content-header"},u8={class:"container-fluid"},_8={class:"row mb-2"},m8={class:"col-sm-6"},p8={class:"m-0"},h8={class:"col-sm-6"},v8={class:"breadcrumb float-sm-right"},b8=i8(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),f8={class:"breadcrumb-item active"},$8={__name:"CustomMainLayout",setup(a){const f=me(),m=He(),l=Ce(()=>m.theme==="dark"?"dark-mode":"");return(r,n)=>{const c=be("router-view");return _(f).user.name!==""?(s(),o("div",{key:0,class:V(["wrapper",l.value])},[p(Vw),p(Kw),p(a8),e("div",c8,[e("section",r8,[e("div",u8,[e("div",_8,[e("div",m8,[e("h1",p8,t(r.$route.name),1)]),e("div",h8,[e("ol",v8,[b8,e("li",f8,t(r.$route.name),1)])])])])]),p(c)]),p(d8)],2)):(s(),o("div",{key:1,class:V(["login-page slibg",l.value])},[p(c)],2))}}};var g8=ye($8,[["__scopeId","data-v-36653638"]]);const y8={__name:"App",setup(a){me();const f=fe(),m=Ce(()=>f.name==="Tech-Approved"),l=Ce(()=>f.name==="Job-Order-Request-Approved"),r=Ce(()=>f.name==="404 Error Page");return(n,c)=>(s(),o("div",null,[!r.value&&!m.value&&!l.value?(s(),re(g8,{key:0})):m.value?(s(),re(_t,{key:1})):l.value?(s(),re(mt,{key:2})):(s(),re(ut,{key:3}))]))}};var k8=ye(y8,[["__scopeId","data-v-57c8cdad"]]);const w8=bt(),Be=gt(k8),pt=ft({routes:cw,history:$t()});pt.beforeEach(async(a,f)=>{const m=me();if(m.user.name===""&&a.name!=="admin.login"){const l=He();await Promise.all([m.getAuthUser(),l.getSetting()])}});Be.use(Pt);Be.use(w8);Be.use(pt);Be.use(At);Be.use(tt);Be.mount("#app");
