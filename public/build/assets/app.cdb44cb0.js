import{_ as ot,l as we}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as lt}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.6c11729d.js";import{d as Oe,c as nt}from"./pinia.177553b5.js";import{u as pe,a as Ne,c as dt,b as it}from"./vue-router.5b9d2a42.js";import{r as d,o as de,i as a,k as e,x as s,_ as M,u as i,e as t,I as ke,h as Z,j as E,F as N,q as G,d as De,a0 as ae,v as L,C as Ce,a2 as O,a3 as oe,a7 as ye,p as V,w as he,a8 as ge,a9 as ve,f as ne,a5 as Se,a6 as Me,B as ct,a1 as Ye,aa as rt}from"./@vue.4ae0f184.js";import{B as ut}from"./vue-chartjs.a660a76a.js";import{C as _t,p as mt,a as ht,b as pt,c as vt,d as bt,L as ft}from"./chart.js.562acd0f.js";import{S as je}from"./sweetalert2.ef56b979.js";import{t as Fe}from"./toastr.94171567.js";import{F as $e,a as W}from"./vee-validate.2167efee.js";import{f as ze}from"./flatpickr.181c7977.js";import{c as fe,a as Y}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ue}from"./moment.40bc58bf.js";import{a as Ve}from"./laravel-vue-pagination.441da446.js";import{C as xe}from"./vue-content-loader.1bd220f1.js";import"./dompurify.5fe4b1c1.js";import{u as $t}from"./@vueuse.38a26bf2.js";import{L as Ae}from"./vue3-datepicker.d98707a6.js";import{h as Be}from"./html2canvas.c4a43e03.js";import{h as Ge}from"./html2pdf.js.44b835e5.js";import{V as gt}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=ot;window.axios=T;window.$=window.jQuery=lt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ie=Oe("AuthUserStore",()=>{const o=d({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(r=>{o.value=r.data})}}}),yt={class:"content"},kt={class:"container-fluid"},xt={class:"card"},wt={class:"card-header"},Ct={class:"card-body"},St=e("div",{class:"row"},null,-1),Mt={__name:"Dashboard",setup(o){_t.register(mt,ht,pt,vt,bt,ft);const k=`${pe().name}`;ie(),d("all"),d(0);const r=d(new Date().getFullYear()),l=d({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),n=()=>{axios.get("/api/chart").then(_=>{_.data,l.value=_.data}).catch(_=>{console.error("Error fetching chart data:",_)})},m=d("today"),C=d(0),U=()=>{axios.get("/api/stats/users",{params:{date_range:m.value}}).then(_=>{C.value=_.data.totalUsersCount})};return de(()=>{n(),U(),document.title=k}),(_,F)=>(t(),a("div",yt,[e("div",kt,[e("div",xt,[e("div",wt," Yearly Progress - "+s(r.value),1),e("div",Ct,[M(i(ut),{data:l.value},null,8,["data"])])]),St])]))}},Ut={class:"content"},Dt={class:"container-fluid"},Vt={class:"row"},At={class:"col-lg-12"},Tt={class:"d-flex justify-content-between mb-2"},Et=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),L(" Add New Appointment")],-1),It={class:"btn-group"},Lt=e("span",{class:"mr-1"},"All",-1),Ft={class:"badge badge-pill badge-info"},Pt=["onClick"],Yt={class:"mr-1"},Bt={class:"card"},Nt={class:"card-body"},qt={class:"table table-bordered"},Rt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),jt=e("td",null,null,-1),Ht=e("i",{class:"fa fa-edit mr-2"},null,-1),Ot=["onClick"],zt=e("i",{class:"fa fa-trash text-danger"},null,-1),Gt=[zt],Qt={__name:"ListAppointments",setup(o){const k=d(),r=d([]),l=()=>{T.get("/api/appointment-status").then(F=>{r.value=F.data})},n=d([]),m=F=>{k.value=F;const f={};F&&(f.status=F),T.get("/api/appointments",{params:f}).then(w=>{n.value=w.data,console.log(w)})},C=ke(()=>r.value.map(F=>F.count).reduce((F,f)=>F+f,0)),U=F=>{const f=n.value.data.find(p=>p.id===F).status.name,w=r.value.find(p=>p.name===f);w.count--},_=F=>{je.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(f=>{f.isConfirmed&&T.delete(`/api/appointments/${F}`).then(w=>{U(F),n.value.data=n.value.data.filter(p=>p.id!==F),je.fire("Deleted!","Your file has been deleted.","success")})})};return de(()=>{m(),l()}),(F,f)=>{const w=De("router-link");return t(),a("div",Ut,[e("div",Dt,[e("div",Vt,[e("div",At,[e("div",Tt,[e("div",null,[M(w,{to:"/admin/appointments/create"},{default:Z(()=>[Et]),_:1})]),e("div",It,[e("button",{onClick:f[0]||(f[0]=p=>m()),type:"button",class:E(["btn",[typeof k.value=="undefined"?"btn-secondary":"btn-default"]])},[Lt,e("span",Ft,s(C.value),1)],2),(t(!0),a(N,null,G(r.value,p=>(t(),a("button",{onClick:y=>m(p.value),type:"button",class:E(["btn",[k.value===p.value?"btn-secondary":"btn-default"]])},[e("span",Yt,s(p.name),1),e("span",{class:E(["badge badge-pill",`badge-${p.color}`])},s(p.count),3)],10,Pt))),256))])]),e("div",Bt,[e("div",Nt,[e("table",qt,[Rt,e("tbody",null,[(t(!0),a(N,null,G(n.value.data,(p,y)=>(t(),a("tr",{key:p.id},[e("td",null,s(y+1),1),e("td",null,s(p.client.first_name)+" "+s(p.client.last_name),1),e("td",null,s(p.start_time),1),e("td",null,s(p.end_time),1),jt,e("td",null,[M(w,{to:`/admin/appointments/${p.id}/edit`},{default:Z(()=>[Ht]),_:2},1032,["to"]),e("a",{href:"#",onClick:ae(j=>_(p.id),["prevent"])},Gt,8,Ot)])]))),128))])])])])])])])])}}};function ce(){return Fe.options.positionClass="toast-top-right",Fe.options.closeButton=!0,Fe.options.progressBar=!0,Fe}const Wt={class:"content-header"},Kt={class:"container-fluid"},Xt={class:"row mb-2"},Jt={class:"col-sm-6"},Zt={class:"m-0"},es={key:0},ts={key:1},ss={class:"col-sm-6"},as={class:"breadcrumb float-sm-right"},os={class:"breadcrumb-item"},ls={class:"breadcrumb-item"},ns={class:"breadcrumb-item active"},ds={key:0},is={key:1},cs={class:"content"},rs={class:"container-fluid"},us={class:"row"},_s={class:"col-lg-12"},ms={class:"card"},hs={class:"card-body"},ps={class:"row"},vs={class:"col-md-6"},bs={class:"form-group"},fs=e("label",{for:"title"},"Title",-1),$s={class:"invalid-feedback"},gs={class:"col-md-6"},ys={class:"form-group"},ks=e("label",{for:"client"},"Client Name",-1),xs=["value"],ws={class:"invalid-feedback"},Cs={class:"row"},Ss={class:"col-md-6"},Ms={class:"form-group"},Us=e("label",{for:"start-time"},"Start Time",-1),Ds={class:"invalid-feedback"},Vs={class:"col-md-6"},As={class:"form-group"},Ts=e("label",{for:"end-time"},"End Time",-1),Es={class:"invalid-feedback"},Is={class:"form-group"},Ls=e("label",{for:"description"},"Description",-1),Fs={class:"invalid-feedback"},Ps=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),He={__name:"AppointmentForm",setup(o){const k=Ne(),r=pe(),l=ce(),n=Ce({title:"",client_id:"",start_time:"",end_time:"",description:""}),m=(p,y)=>{w.value?U(p,y):C(p,y)},C=(p,y)=>{T.post("/api/appointments/create",n).then(j=>{k.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(j=>{y.setErrors(j.response.data.errors)})},U=(p,y)=>{T.put(`/api/appointments/${r.params.id}/edit`,n).then(j=>{k.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(j=>{y.setErrors(j.response.data.errors)})},_=d(),F=()=>{T.get("/api/view-clients").then(p=>{_.value=p.data})},f=()=>{T.get(`/api/appointments/${r.params.id}/edit`).then(({data:p})=>{n.title=p.title,n.client_id=p.client_id,n.start_time=p.formatted_start_time,n.end_time=p.formatted_end_time,n.description=p.description})},w=d(!1);return de(()=>{r.name==="admin.appointments.edit"&&(w.value=!0,f()),ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),F()}),(p,y)=>{const j=De("router-link");return t(),a(N,null,[e("div",Wt,[e("div",Kt,[e("div",Xt,[e("div",Jt,[e("h1",Zt,[w.value?(t(),a("span",es,"Edit")):(t(),a("span",ts,"Create")),L(" Appointment")])]),e("div",ss,[e("ol",as,[e("li",os,[M(j,{to:"/admin/dashboard"},{default:Z(()=>[L("Home")]),_:1})]),e("li",ls,[M(j,{to:"/admin/appointments"},{default:Z(()=>[L("Appointments")]),_:1})]),e("li",ns,[w.value?(t(),a("span",ds,"Edit")):(t(),a("span",is,"Create"))])])])])])]),e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[e("div",ms,[e("div",hs,[M(i($e),{onSubmit:m},{default:Z(({errors:H})=>[e("div",ps,[e("div",vs,[e("div",bs,[fs,O(e("input",{"onUpdate:modelValue":y[0]||(y[0]=q=>n.title=q),type:"text",class:E(["form-control",{"is-invalid":H.title}]),id:"title",placeholder:"Enter Title"},null,2),[[oe,n.title]]),e("span",$s,s(H.title),1)])]),e("div",gs,[e("div",ys,[ks,O(e("select",{"onUpdate:modelValue":y[1]||(y[1]=q=>n.client_id=q),id:"client",class:E(["form-control",{"is-invalid":H.client_id}])},[(t(!0),a(N,null,G(_.value,q=>(t(),a("option",{value:q.id,key:q.id},s(q.first_name)+" "+s(q.last_name),9,xs))),128))],2),[[ye,n.client_id]]),e("span",ws,s(H.client_id),1)])])]),e("div",Cs,[e("div",Ss,[e("div",Ms,[Us,O(e("input",{"onUpdate:modelValue":y[2]||(y[2]=q=>n.start_time=q),type:"text",class:E(["form-control flatpickr",{"is-invalid":H.start_time}]),id:"start-time"},null,2),[[oe,n.start_time]]),e("span",Ds,s(H.start_time),1)])]),e("div",Vs,[e("div",As,[Ts,O(e("input",{"onUpdate:modelValue":y[3]||(y[3]=q=>n.end_time=q),type:"text",class:E(["form-control flatpickr",{"is-invalid":H.end_time}]),id:"end-time"},null,2),[[oe,n.end_time]]),e("span",Es,s(H.end_time),1)])])]),e("div",Is,[Ls,O(e("textarea",{"onUpdate:modelValue":y[4]||(y[4]=q=>n.description=q),class:E(["form-control",{"is-invalid":H.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[oe,n.description]]),e("span",Fs,s(H.description),1)]),Ps]),_:1})])])])])])])],64)}}},Ys=["checked"],Bs=["value","selected"],Ns=["value","selected"],qs=e("i",{class:"fa fa-edit"},null,-1),Rs=[qs],js=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Hs=[js],Os={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){const r=ce(),l=o,n=k,m=d([{name:"ADMIN",value:1},{name:"USER",value:2}]),C=d([]),U=()=>{T.get("/api/users/userlist").then(w=>{C.value=w.data}).catch(w=>{console.log(w)})},_=(w,p)=>{T.patch(`/api/users/${w.id}/change-role`,{role:p}).then(()=>{r.success("Role changed successfully!")})},F=(w,p)=>{T.patch(`/api/users/${w.id}/change-sitehead`,{sitehead_user_id:p}).then(()=>{r.success("Sitehead changed successfully!")})},f=()=>{n("toggleSelection",l.user)};return de(()=>{U()}),(w,p)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:f},null,40,Ys)):V("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:p[0]||(p[0]=y=>_(o.user,y.target.value))},[(t(!0),a(N,null,G(m.value,y=>(t(),a("option",{key:y.id,value:y.value,selected:o.user.role===y.name},s(y.name),9,Bs))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:p[1]||(p[1]=y=>F(o.user,y.target.value))},[(t(!0),a(N,null,G(C.value,y=>(t(),a("option",{key:y.id,value:y.id,selected:o.user.sitehead_user_id===y.id},s(y.first_name+" "+y.last_name),9,Ns))),128))],32)):V("",!0)]),e("td",null,[e("a",{href:"#",onClick:p[2]||(p[2]=ae(y=>w.$emit("editUser",o.user),["prevent"]))},Rs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:p[3]||(p[3]=ae(y=>w.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Hs)):V("",!0)])]))}},zs={class:"content"},Gs={class:"container-fluid"},Qs={class:"d-flex justify-content-between mb-2"},Ws={class:"d-flex"},Ks=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Xs={key:0},Js=e("i",{class:"fa fa-trash mr-1"},null,-1),Zs={class:"ml-2"},ea={class:"card"},ta={class:"card-body"},sa={class:"dispatch-table"},aa={class:"table-responsive"},oa={class:"table table-bordered table-hover table-sm"},la=e("th",{style:{width:"10px"}},"#",-1),na=e("th",null,"Name",-1),da=e("th",null,"Email",-1),ia=e("th",null,"Registered Date",-1),ca=e("th",null,"Role",-1),ra=e("th",null,"Head",-1),ua=e("th",null,"Action",-1),_a={key:0},ma={key:1},ha=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),pa=[ha],va=["index"],ba={class:"card"},fa={class:"card-body"},$a={class:"list-field"},ga=e("span",{class:"mb-1 dis"},"Name:",-1),ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Email:",-1),xa={class:"list-field"},wa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ca={class:"list-field"},Sa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ma=["onChange"],Ua=["value","selected"],Da=e("hr",null,null,-1),Va={class:"row"},Aa={key:0,class:"col"},Ta=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ia=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Fa=[La],Pa={key:1,class:"col"},Ya=["onClick"],Ba=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qa={class:"modal-dialog",role:"document"},Ra={class:"modal-content"},ja={class:"modal-header"},Ha={class:"modal-title",id:"staticBackdropLabel"},Oa={key:0},za={key:1},Ga=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Qa={class:"modal-body"},Wa={class:"form-group"},Ka=e("label",{for:"name"},"Username",-1),Xa={class:"invalid-feedback"},Ja={class:"d-flex justify-content-between"},Za={class:"d-flex"},eo={class:"form-group"},to=e("label",{for:"email"},"Email",-1),so={class:"invalid-feedback"},ao={class:"d-flex"},oo={class:"form-group"},lo=e("label",{for:"siteDropdown"},"Gender",-1),no=e("option",{value:"",disabled:""}," Select a gender ",-1),io=["value"],co={class:"d-flex justify-content-between"},ro={class:"d-flex"},uo={class:"form-group"},_o=e("label",{for:"first_name"},"Fist Name",-1),mo={class:"invalid-feedback"},ho={class:"d-flex"},po={class:"form-group"},vo=e("label",{for:"last_name"},"Last Name",-1),bo={class:"invalid-feedback"},fo={class:"form-group"},$o=e("label",{for:"position"},"Position",-1),go={class:"invalid-feedback"},yo={class:"form-group"},ko=e("label",{for:"password"},"Password",-1),xo={class:"invalid-feedback"},wo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Co={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},So={class:"modal-dialog",role:"document"},Mo={class:"modal-content"},Uo=ve('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Do={class:"modal-footer"},Vo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ao={__name:"UserList",setup(o){const k=`${pe().name}`,r=ie(),l=ce(),n=d({data:[]}),m=d(!1),C=d(),U=d(null);d([]),d(null);const _=d([{name:"Male",value:1},{name:"Female",value:2}]),F=(b=1)=>{T.get(`/api/users?page=${b}`,{params:{query:h.value}}).then(v=>{n.value=v.data,g.value=[],_e.value=!1})},f=fe({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().required().min(8),gender:Y().required()}),w=fe({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().when((b,v)=>b?v.required().min(8):v),gender:Y().required()}),p=d([]),y=()=>{T.get("/api/users/userlist").then(b=>{p.value=b.data}).catch(b=>{console.log(b)})},j=(b,v)=>{T.patch(`/api/users/${b.id}/change-sitehead`,{sitehead_user_id:v}).then(()=>{l.success("Sitehead changed successfully!")})},H=(b,{resetForm:v,setErrors:c})=>{T.post("/api/users",b).then(te=>{n.value.data.unshift(te.data),$("#userFormModal").modal("hide"),v(),l.success("User created successfully!")}).catch(te=>{te.response.data.errors&&(c(te.response.data.errors),l.warning(te.response.data.errors.name))})},q=()=>{m.value=!1,$("#userFormModal").modal("show")},se=b=>{m.value=!0,U.value.resetForm(),$("#userFormModal").modal("show"),C.value={id:b.id,name:b.name,email:b.email,sitehead_user_id:b.sitehead_user_id,first_name:b.first_name,last_name:b.last_name,gender:b.gender}},I=(b,{setErrors:v})=>{T.put("/api/users/"+C.value.id,b).then(c=>{const te=n.value.data.findIndex(A=>A.id===c.data.id);n.value.data[te]=c.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(c=>{v(c.response.data.errors),console.log(c)})},x=(b,v)=>{m.value?I(b,v):H(b,v)},h=d(null),g=d([]),P=b=>{const v=g.value.indexOf(b.id);v===-1?g.value.push(b.id):g.value.splice(v,1),console.log(g.value)},R=d(null),X=b=>{R.value=b,$("#deleteUserModal").modal("show")},Q=()=>{T.delete(`/api/users/${R.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),n.value.data=n.value.data.filter(b=>b.id!==R.value)})},ee=()=>{T.delete("/api/users",{data:{ids:g.value}}).then(b=>{n.value.data=n.value.data.filter(v=>!g.value.includes(v.id)),g.value=[],_e.value=!1,l.success(b.data.message)})},_e=d(!1),S=()=>{_e.value?g.value=n.value.data.map(b=>b.id):g.value=[],console.log(g.value)};return he(h,we.exports.debounce(()=>{F()},300)),de(()=>{F(),y(),document.title=k}),(b,v)=>(t(),a(N,null,[e("div",zs,[e("div",Gs,[e("div",Qs,[e("div",Ws,[e("button",{onClick:q,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Ks,L(" User ")]),g.value.length>0?(t(),a("div",Xs,[e("button",{onClick:ee,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Js,L(" Delete Selected ")]),e("span",Zs,"Selected "+s(g.value.length)+" users",1)])):V("",!0)]),e("div",null,[O(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=c=>h.value=c),class:"form-control",placeholder:"Search..."},null,512),[[oe,h.value]])])]),e("div",ea,[e("div",ta,[e("div",sa,[e("div",aa,[e("table",oa,[e("thead",null,[e("tr",null,[e("th",null,[O(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=c=>_e.value=c),onChange:S},null,544),[[ge,_e.value]])]),la,na,da,ia,ca,ra,ua])]),n.value.data.length>0?(t(),a("tbody",_a,[(t(!0),a(N,null,G(n.value.data,(c,te)=>(t(),ne(Os,{key:c.id,user:c,index:te,onEditUser:se,onConfirmUserDeletion:X,onToggleSelection:P,"select-all":_e.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ma,pa))])])]),(t(!0),a(N,null,G(n.value.data,(c,te)=>(t(),a("div",{class:"dispatch-list",key:c.id,index:te},[e("div",ba,[e("div",fa,[e("div",$a,[ga,e("span",null,s(c.first_name+" "+c.last_name),1)]),e("div",ya,[ka,e("span",null,s(c.email),1)]),e("div",xa,[wa,e("span",null,s(c.formatted_created_at),1)]),e("div",Ca,[Sa,e("span",null,[c.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:A=>j(c,A.target.value)},[(t(!0),a(N,null,G(p.value,A=>(t(),a("option",{key:A.id,value:A.id,selected:A.sitehead_user_id===A.id},s(A.first_name+" "+A.last_name),9,Ua))),128))],40,Ma)):V("",!0)])]),Da,e("div",Va,[i(r).user.role==="ADMIN"?(t(),a("div",Aa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:A=>se(c)},[Ea,L(" Edit ")],8,Ta),e("button",{class:"btn btnsm btn-danger btn-block",onClick:A=>X(c.id)},Fa,8,Ia)])):V("",!0),i(r).user.role==="USER"?(t(),a("div",Pa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:A=>se(c)},[Ba,L(" Edit ")],8,Ya)])):V("",!0)])])])],8,va))),128))])]),M(i(Ve),{data:n.value,onPaginationChangePage:F},null,8,["data"])])]),e("div",Na,[e("div",qa,[e("div",Ra,[e("div",ja,[e("h5",Ha,[m.value?(t(),a("span",Oa,"Edit User")):(t(),a("span",za,"Add New User"))]),Ga]),M(i($e),{ref_key:"form",ref:U,onSubmit:x,"validation-schema":m.value?i(w):i(f),"initial-values":C.value},{default:Z(({errors:c})=>[e("div",Qa,[e("div",Wa,[Ka,M(i(W),{name:"name",type:"text",class:E(["form-control",{"is-invalid":c.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Xa,s(c.name),1)]),e("div",Ja,[e("div",Za,[e("div",eo,[to,M(i(W),{name:"email",type:"email",class:E(["form-control",{"is-invalid":c.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",so,s(c.email),1)])]),e("div",ao,[e("div",oo,[lo,M(i(W),{id:"gender",name:"gender",as:"select",class:E(["form-control",{"is-invalid":c.gender}])},{default:Z(()=>[no,(t(!0),a(N,null,G(_.value,te=>(t(),a("option",{key:te.name,value:te.name},s(te.name),9,io))),128))]),_:2},1032,["class"])])])]),e("div",co,[e("div",ro,[e("div",uo,[_o,M(i(W),{name:"first_name",type:"text",class:E(["form-control",{"is-invalid":c.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",mo,s(c.first_name),1)])]),e("div",ho,[e("div",po,[vo,M(i(W),{name:"last_name",type:"text",class:E(["form-control",{"is-invalid":c.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",bo,s(c.last_name),1)])])]),e("div",fo,[$o,M(i(W),{name:"position",type:"text",class:E(["form-control",{"is-invalid":c.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",go,s(c.position),1)]),e("div",yo,[ko,M(i(W),{name:"password",type:"password",class:E(["form-control",{"is-invalid":c.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",xo,s(c.password),1)])]),wo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Co,[e("div",So,[e("div",Mo,[Uo,e("div",Do,[Vo,e("button",{onClick:ae(Q,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var be=(o,k)=>{const r=o.__vccOpts||o;for(const[l,n]of k)r[l]=n;return r};const Ue=o=>(Se("data-v-222bda60"),o=o(),Me(),o),To={class:"content"},Eo={class:"container-fluid"},Io={class:"row"},Lo={class:"col-md-6"},Fo={class:"card"},Po=ve('<ul class="nav nav-tabs" id="settingsTabs" data-v-222bda60><li class="nav-item" data-v-222bda60><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-222bda60>General Settings</a></li><li class="nav-item" data-v-222bda60><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-222bda60>Site Settings</a></li></ul>',1),Yo={class:"tab-content"},Bo={class:"tab-pane fade show active",id:"general"},No={class:"card-body"},qo={class:"form-group"},Ro=Ue(()=>e("label",{for:"appName"},"App Display Name",-1)),jo={key:0,class:"text-danger text-sm"},Ho={class:"form-group"},Oo=Ue(()=>e("label",{for:"dateFormat"},"Date Format",-1)),zo=ve('<option value="m/d/Y" data-v-222bda60> MM/DD/YYYY </option><option value="d/m/Y" data-v-222bda60> DD/MM/YYYY </option><option value="Y-m-d" data-v-222bda60> YYYY-MM-DD </option><option value="F j, Y" data-v-222bda60> Month DD, YYYY </option><option value="j F Y" data-v-222bda60> DD Month YYYY </option>',5),Go=[zo],Qo={key:0,class:"text-danger text-sm"},Wo={class:"form-group"},Ko=Ue(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Xo={key:0,class:"text-danger text-sm"},Jo=Ue(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),L("Save Changes ")])],-1)),Zo={class:"tab-pane fade",id:"site"},el={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},tl=Ue(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),sl=Ue(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),al={key:0,class:"list-group-item mt-2"},ol={class:"d-flex justify-content-between"},ll={class:"d-flex"},nl=["onClick"],dl={class:"d-flex"},il=["onClick"],cl={class:"m-2 list-unstyled"},rl={key:1},ul={key:0,class:"list-group-item mt-2"},_l={class:"d-flex justify-content-between"},ml={class:"d-flex"},hl=["onClick"],pl={class:"d-flex"},vl=["onClick"],bl={key:1,class:"mt-2 text-center"},fl=Ue(()=>e("span",null,"No Site",-1)),$l=[fl],gl={class:"input-group"},yl=Ue(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),kl={__name:"UpdateSetting",setup(o){const k=`${pe().name}`,r=d([]),l=ce(),n=d(!0),m=d([]),C=d(!1),U=d(),_=d({id:"",site_name:"",is_active:""}),F=()=>{C.value=!0,axios.get("/api/site").then(I=>{C.value=!1,m.value=I.data}).catch(I=>{console.log(I)})},f=ke(()=>Array.isArray(m.value)?m.value.filter(I=>I.is_active===0):[]),w=ke(()=>f.value.length),p=()=>{n.value=!n.value},y=()=>{var I,x;C.value=!0,axios.post("/api/site",{id:(I=_.value)==null?void 0:I.id,site_name:(x=_.value)==null?void 0:x.site_name,is_active:!0}).then(h=>{F(),_.value={id:null,site_name:"",is_active:!0},l.success(h.data.message),C.value=!1}).catch(h=>{h.response&&h.response.status===422&&(q.value=h.response.data.errors)})},j=I=>{_.value.is_active=I.is_active===1?0:1,axios.post("/api/site",{id:I.id,site_name:I.site_name,is_active:_.value.is_active}).then(x=>{axios.get("/api/site").then(h=>{m.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),l.error("Error fetching tasks. Please try again.")})}).catch(x=>{console.error("Error adding new task:",x),l.error("Error adding new task. Please try again.")})},H=()=>{axios.get("/api/settings").then(I=>{r.value=I.data})},q=d(),se=()=>{q.value="",axios.post("/api/settings",r.value).then(I=>{l.success("Settings updated successfully!")}).catch(I=>{I.response&&I.response.status===422&&(q.value=I.response.data.errors)})};return de(()=>{F(),H(),document.title=k}),(I,x)=>(t(),a("div",To,[e("div",Eo,[e("div",Io,[e("div",Lo,[e("div",Fo,[Po,e("div",Yo,[e("div",Bo,[e("form",{onSubmit:x[3]||(x[3]=ae(h=>se(),["prevent"]))},[e("div",No,[e("div",qo,[Ro,O(e("input",{"onUpdate:modelValue":x[0]||(x[0]=h=>r.value.app_name=h),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[oe,r.value.app_name]]),q.value&&q.value.app_name?(t(),a("span",jo,s(q.value.app_name[0]),1)):V("",!0)]),e("div",Ho,[Oo,O(e("select",{"onUpdate:modelValue":x[1]||(x[1]=h=>r.value.date_format=h),class:"form-control"},Go,512),[[ye,r.value.date_format]]),q.value&&q.value.date_format?(t(),a("span",Qo,s(q.value.date_format[0]),1)):V("",!0)]),e("div",Wo,[Ko,O(e("input",{"onUpdate:modelValue":x[2]||(x[2]=h=>r.value.pagination_limit=h),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[oe,r.value.pagination_limit]]),q.value&&q.value.pagination_limit?(t(),a("span",Xo,s(q.value.pagination_limit[0]),1)):V("",!0)])]),Jo],32)]),e("div",Zo,[m.value.length>0?(t(),a("div",el,[C.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[tl,sl]),_:1})):V("",!0),(t(!0),a(N,null,G(m.value,h=>(t(),a("ul",{class:"list-group",key:h.id},[h.is_active===1?(t(),a("li",al,[e("div",ol,[e("div",ll,[e("i",{onClick:g=>j(h),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":h.is_active===1,"fa fa-circle text-primary":h.is_active===0}),style:{"font-size":"15px"}},null,10,nl),e("span",{class:E({"font-italic text-red":h.is_active===0,"":h.is_active===1})},s(h.site_name),3)]),e("div",dl,[e("i",{class:"fa fa-pen text-success",onClick:g=>I.edit(h)},null,8,il)])])])):V("",!0)]))),128)),e("li",cl,[w.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:p},[e("i",{class:E(["fa",n.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Deactive List "+s(w.value),1)])):V("",!0)]),n.value?(t(),a("div",rl,[(t(!0),a(N,null,G(m.value,h=>(t(),a("ul",{class:"list-group",key:h.id},[h.is_active===0?(t(),a("li",ul,[e("div",_l,[e("div",ml,[e("i",{onClick:g=>j(h),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":h.is_active===1,"fa fa-circle text-primary":h.is_active===0}),style:{"font-size":"15px"}},null,10,hl),e("span",{class:E({"font-italic text-red":h.is_active===0,"":h.is_active===1})},[e("del",null,s(h.site_name),1)],2)]),e("div",pl,[h.is_active===1?(t(),a("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:g=>I.edit(h)},null,8,vl)):V("",!0)])])])):V("",!0)]))),128))])):V("",!0)])):(t(),a("div",bl,$l)),M(i($e),{ref:"form",onSubmit:y,"initial-values":U.value},{default:Z(()=>[M(i(W),{name:"id",modelValue:_.value.id,"onUpdate:modelValue":x[4]||(x[4]=h=>_.value.id=h),type:"text",hidden:""},null,8,["modelValue"]),e("div",gl,[M(i(W),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:_.value.site_name,"onUpdate:modelValue":x[5]||(x[5]=h=>_.value.site_name=h),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),yl])]),_:1},8,["initial-values"])])])])])])])]))}};var xl=be(kl,[["__scopeId","data-v-222bda60"]]);const wl={class:"content"},Cl={class:"container-fluid"},Sl={class:"row"},Ml={class:"col-md-3"},Ul={class:"card card-primary card-outline"},Dl={class:"card-body box-profile"},Vl={class:"text-center"},Al=["src"],Tl={class:"profile-username text-center"},El={class:"text-muted text-center"},Il={class:"col-md-9"},Ll={class:"card"},Fl=ve('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Pl={class:"card-body"},Yl={class:"tab-content"},Bl={class:"tab-pane active",id:"profile"},Nl={class:"form-group row"},ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Rl={class:"col-sm-10"},jl={key:0,class:"text-danger text-sm"},Hl={class:"form-group row"},Ol=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),zl={class:"col-sm-10"},Gl={key:0,class:"text-danger text-sm"},Ql={class:"form-group row"},Wl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Kl={class:"col-sm-10"},Xl={key:0,class:"text-danger text-sm"},Jl={class:"form-group row"},Zl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),en={class:"col-sm-10"},tn={key:0,class:"text-danger text-sm"},sn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),an={class:"tab-pane",id:"changePassword"},on={class:"form-group row"},ln=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),nn={class:"col-sm-9"},dn={key:0,class:"text-danger text-sm"},cn={class:"form-group row"},rn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),un={class:"col-sm-9"},_n={key:0,class:"text-danger text-sm"},mn={class:"form-group row"},hn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),pn={class:"col-sm-9"},vn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),bn={__name:"UpdateProfile",setup(o){const k=ie(),r=ce(),l=`${pe().name}`,n=d([]),m=()=>{axios.put("/api/profile",{name:k.user.name,first_name:k.user.first_name,last_name:k.user.last_name,email:k.user.email,role:k.user.role}).then(w=>{r.success("Profile updated successfully!")}).catch(w=>{w.response&&w.response.status===422&&(n.value=w.response.data.errors)})},C=Ce({currentPassword:"",password:"",passwordConfirmation:""}),U=()=>{n.value="",axios.post("/api/change-user-password",C).then(w=>{r.success(w.data.message);for(const p in C)C[p]=""}).catch(w=>{w.response&&w.response.status===422&&(n.value=w.response.data.errors)})},_=d(null),F=()=>{_.value.click()},f=w=>{const p=w.target.files[0];k.user.avatar=URL.createObjectURL(p);const y=new FormData;y.append("profile_picture",p),axios.post("/api/upload-profile-image",y).then(j=>{r.success("Image uploaded successfully!")})};return de(()=>{document.title=l}),(w,p)=>(t(),a("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Ml,[e("div",Ul,[e("div",Dl,[e("div",Vl,[e("input",{onChange:f,ref_key:"fileInput",ref:_,type:"file",class:"d-none"},null,544),e("img",{onClick:F,class:"profile-user-img img-circle",src:i(k).user.avatar,alt:"User profile picture"},null,8,Al)]),e("h3",Tl,s(i(k).user.name),1),e("p",El,s(i(k).user.role),1)])])]),e("div",Il,[e("div",Ll,[Fl,e("div",Pl,[e("div",Yl,[e("div",Bl,[e("form",{onSubmit:p[4]||(p[4]=ae(y=>m(),["prevent"])),class:"form-horizontal"},[e("div",Nl,[ql,e("div",Rl,[O(e("input",{"onUpdate:modelValue":p[0]||(p[0]=y=>i(k).user.name=y),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[oe,i(k).user.name]]),n.value&&n.value.name?(t(),a("span",jl,s(n.value.name[0]),1)):V("",!0)])]),e("div",Hl,[Ol,e("div",zl,[O(e("input",{"onUpdate:modelValue":p[1]||(p[1]=y=>i(k).user.first_name=y),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[oe,i(k).user.first_name]]),n.value&&n.value.first_name?(t(),a("span",Gl,s(n.value.first_name[0]),1)):V("",!0)])]),e("div",Ql,[Wl,e("div",Kl,[O(e("input",{"onUpdate:modelValue":p[2]||(p[2]=y=>i(k).user.last_name=y),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[oe,i(k).user.last_name]]),n.value&&n.value.last_name?(t(),a("span",Xl,s(n.value.last_name[0]),1)):V("",!0)])]),e("div",Jl,[Zl,e("div",en,[O(e("input",{"onUpdate:modelValue":p[3]||(p[3]=y=>i(k).user.email=y),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[oe,i(k).user.email]]),n.value&&n.value.email?(t(),a("span",tn,s(n.value.email[0]),1)):V("",!0)])]),sn],32)]),e("div",an,[e("form",{onSubmit:ae(U,["prevent"]),class:"form-horizontal"},[e("div",on,[ln,e("div",nn,[O(e("input",{"onUpdate:modelValue":p[5]||(p[5]=y=>C.currentPassword=y),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[oe,C.currentPassword]]),n.value&&n.value.current_password?(t(),a("span",dn,s(n.value.current_password[0]),1)):V("",!0)])]),e("div",cn,[rn,e("div",un,[O(e("input",{"onUpdate:modelValue":p[6]||(p[6]=y=>C.password=y),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[oe,C.password]]),n.value&&n.value.password?(t(),a("span",_n,s(n.value.password[0]),1)):V("",!0)])]),e("div",mn,[hn,e("div",pn,[O(e("input",{"onUpdate:modelValue":p[7]||(p[7]=y=>C.passwordConfirmation=y),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[oe,C.passwordConfirmation]])])]),vn],32)])])])])])])])]))}};const fn={class:"login-box"},$n={class:"card card-outline card-primary"},gn=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),yn={class:"card-body"},kn={key:0,class:"alert alert-danger",role:"alert"},xn={class:"input-group mb-3"},wn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),Cn={class:"input-group mb-3"},Sn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Mn={class:"row"},Un={class:"col-12 mb-2"},Dn=["disabled"],Vn={key:0,class:"spinner-border spinner-border-sm",role:"status"},An=e("span",{class:"sr-only"},"Loading...",-1),Tn=[An],En={key:1},In=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"#",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),Ln="Login",Fn={__name:"Login",setup(o){const k=ce();ie();const r=Ne(),l=Ce({email:"",password:""}),n=d(!1),m=d(""),C=()=>{n.value=!0,m.value="",T.post("/login",l).then(()=>{r.push("/admin/dashboard"),k.success("Login Success")}).catch(U=>{k.error(U.response.data.message)}).finally(()=>{n.value=!1})};return de(()=>{document.title=Ln}),(U,_)=>(t(),a("div",fn,[e("div",$n,[gn,e("div",yn,[m.value?(t(),a("div",kn,s(m.value),1)):V("",!0),e("form",{onSubmit:ae(C,["prevent"])},[e("div",xn,[wn,O(e("input",{"onUpdate:modelValue":_[0]||(_[0]=F=>l.email=F),type:"email",class:"form-control",placeholder:"Email"},null,512),[[oe,l.email]])]),e("div",Cn,[Sn,O(e("input",{"onUpdate:modelValue":_[1]||(_[1]=F=>l.password=F),type:"password",class:"form-control",placeholder:"Password"},null,512),[[oe,l.password]])]),e("div",Mn,[e("div",Un,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:n.value},[n.value?(t(),a("div",Vn,Tn)):(t(),a("span",En,"Sign In"))],8,Dn)])])],32),In])])]))}},Pn=["checked"],Yn=e("i",{class:"fa fa-edit"},null,-1),Bn=[Yn],Nn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),qn=[Nn],Rn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){ce();const r=o,l=k,n=()=>{l("toggleSelection",r.item)};return(m,C)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:n},null,40,Pn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:C[0]||(C[0]=ae(U=>m.$emit("editUser",o.item),["prevent"]))},Bn),e("a",{href:"#",onClick:C[1]||(C[1]=ae(U=>m.$emit("confirmUserDeletion",o.item.id),["prevent"]))},qn)])]))}},jn={class:"content"},Hn={class:"container-fluid"},On={class:"d-flex justify-content-between"},zn={class:"d-flex"},Gn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Qn={key:0},Wn=e("i",{class:"fa fa-trash mr-1"},null,-1),Kn={class:"ml-2"},Xn={class:"card"},Jn={class:"card-body"},Zn={class:"table table-bordered"},ed=e("th",{style:{width:"10px"}},"#",-1),td=e("th",null,"Name",-1),sd=e("th",null,"Email",-1),ad=e("th",null,"Registered Date",-1),od=e("th",null,"Options",-1),ld={key:0},nd={key:1},dd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),id=[dd],cd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},rd={class:"modal-dialog",role:"document"},ud={class:"modal-content"},_d={class:"modal-header"},md={class:"modal-title",id:"staticBackdropLabel"},hd={key:0},pd={key:1},vd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),bd={class:"modal-body"},fd={class:"form-group"},$d=e("label",{for:"fist_name"},"First Name",-1),gd={class:"invalid-feedback"},yd={class:"form-group"},kd=e("label",{for:"last_name"},"Last Name",-1),xd={class:"invalid-feedback"},wd={class:"form-group"},Cd=e("label",{for:"email"},"Email",-1),Sd={class:"invalid-feedback"},Md=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ud={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Dd={class:"modal-dialog",role:"document"},Vd={class:"modal-content"},Ad=ve('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Td={class:"modal-footer"},Ed=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Id={__name:"ClientList",setup(o){const k=ce(),r=d({data:[]}),l=d(!1),n=d(),m=d(null),C=(R=1)=>{T.get(`/api/clients?page=${R}`,{params:{query:j.value}}).then(X=>{r.value=X.data,H.value=[],g.value=!1})},U=fe({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),_=fe({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),F=(R,{resetForm:X,setErrors:Q})=>{T.post("/api/clients",R).then(ee=>{r.value.data.unshift(ee.data),$("#clientFormModal").modal("hide"),X(),k.success("User created successfully!")}).catch(ee=>{ee.response.data.errors&&Q(ee.response.data.errors)})},f=()=>{l.value=!1,$("#clientFormModal").modal("show")},w=R=>{l.value=!0,m.value.resetForm(),$("#clientFormModal").modal("show"),n.value={id:R.id,first_name:R.first_name,last_name:R.last_name,email:R.email}},p=(R,{setErrors:X})=>{T.put("/api/clients/"+n.value.id,R).then(Q=>{const ee=r.value.data.findIndex(_e=>_e.id===Q.data.id);r.value.data[ee]=Q.data,$("#clientFormModal").modal("hide"),k.success("Client updated successfully!")}).catch(Q=>{X(Q.response.data.errors),console.log(Q)})},y=(R,X)=>{l.value?p(R,X):F(R,X)},j=d(null),H=d([]),q=R=>{const X=H.value.indexOf(R.id);X===-1?H.value.push(R.id):H.value.splice(X,1),console.log(H.value)},se=d(null),I=R=>{se.value=R,$("#deleteClientModal").modal("show")},x=()=>{T.delete(`/api/clients/${se.value}`).then(()=>{$("#deleteClientModal").modal("hide"),k.success("Client deleted successfully!"),r.value.data=r.value.data.filter(R=>R.id!==se.value)})},h=()=>{T.delete("/api/clients",{data:{ids:H.value}}).then(R=>{r.value.data=r.value.data.filter(X=>!H.value.includes(X.id)),H.value=[],g.value=!1,k.success(R.data.message)})},g=d(!1),P=()=>{g.value?H.value=r.value.data.map(R=>R.id):H.value=[],console.log(H.value)};return he(j,we.exports.debounce(()=>{C()},300)),de(()=>{C()}),(R,X)=>(t(),a(N,null,[e("div",jn,[e("div",Hn,[e("div",On,[e("div",zn,[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-primary"},[Gn,L(" Add New Client ")]),H.value.length>0?(t(),a("div",Qn,[e("button",{onClick:h,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Wn,L(" Delete Selected ")]),e("span",Kn,"Selected "+s(H.value.length)+" clients",1)])):V("",!0)]),e("div",null,[O(e("input",{type:"text","onUpdate:modelValue":X[0]||(X[0]=Q=>j.value=Q),class:"form-control",placeholder:"Search..."},null,512),[[oe,j.value]])])]),e("div",Xn,[e("div",Jn,[e("table",Zn,[e("thead",null,[e("tr",null,[e("th",null,[O(e("input",{type:"checkbox","onUpdate:modelValue":X[1]||(X[1]=Q=>g.value=Q),onChange:P},null,544),[[ge,g.value]])]),ed,td,sd,ad,od])]),r.value.data.length>0?(t(),a("tbody",ld,[(t(!0),a(N,null,G(r.value.data,(Q,ee)=>(t(),ne(Rn,{key:Q.id,item:Q,index:ee,onEditUser:w,onConfirmUserDeletion:I,onToggleSelection:q,"select-all":g.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",nd,id))])])]),M(i(Ve),{data:r.value,onPaginationChangePage:C},null,8,["data"])])]),e("div",cd,[e("div",rd,[e("div",ud,[e("div",_d,[e("h5",md,[l.value?(t(),a("span",hd,"Edit Client")):(t(),a("span",pd,"Add New Client"))]),vd]),M(i($e),{ref_key:"form",ref:m,onSubmit:y,"validation-schema":l.value?i(_):i(U),"initial-values":n.value},{default:Z(({errors:Q})=>[e("div",bd,[e("div",fd,[$d,M(i(W),{name:"first_name",type:"text",class:E(["form-control",{"is-invalid":Q.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",gd,s(Q.first_name),1)]),e("div",yd,[kd,M(i(W),{name:"last_name",type:"text",class:E(["form-control",{"is-invalid":Q.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",xd,s(Q.last_name),1)]),e("div",wd,[Cd,M(i(W),{name:"email",type:"email",class:E(["form-control",{"is-invalid":Q.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Sd,s(Q.email),1)])]),Md]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ud,[e("div",Dd,[e("div",Vd,[Ad,e("div",Td,[Ed,e("button",{onClick:ae(x,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const qe=o=>(Se("data-v-36595330"),o=o(),Me(),o),Ld={style:{"text-align":"center"}},Fd={key:0},Pd=qe(()=>e("i",{class:"fa fa-edit"},null,-1)),Yd=[Pd],Bd=qe(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Nd=[Bd],qd={key:1,style:{"text-align":"center"}},Rd={key:0},jd=qe(()=>e("i",{class:"fa fa-edit"},null,-1)),Hd=[jd],Od={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:k}){ce();const r=ie();return(l,n)=>{const m=De("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",Ld,[o.item.statusid==2?(t(),ne(m,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:E(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):V("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:E(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):V("",!0)]),e("td",null,s(o.item.created_at),1),i(r).user.role==="ADMIN"?(t(),a("td",Fd,[e("a",{href:"#",onClick:n[0]||(n[0]=ae(C=>l.$emit("editUser",o.item),["prevent"]))},Yd),e("a",{href:"#",onClick:n[1]||(n[1]=ae(C=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Nd)])):V("",!0),i(r).user.role==="USER"?(t(),a("td",qd,[o.item.statusid!=2?(t(),a("div",Rd,[o.item.created_by==i(r).user.id?(t(),a("a",{key:0,href:"#",onClick:n[2]||(n[2]=ae(C=>l.$emit("editUser",o.item),["prevent"]))},Hd)):V("",!0)])):V("",!0)])):V("",!0)])}}};var zd=be(Od,[["__scopeId","data-v-36595330"]]);const Gd={class:"content"},Qd={class:"container-fluid"},Wd={class:"d-flex justify-content-between"},Kd={class:"d-flex"},Xd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Jd={key:0},Zd=e("i",{class:"fa fa-trash mr-1"},null,-1),ei={class:"ml-2"},ti={class:"card"},si={class:"card-body"},ai=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),oi=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),li=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ni=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),di={class:"dispatch-table"},ii={class:"table-responsive"},ci={class:"table table-bordered table-sm"},ri=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ui={key:0},_i={key:1},mi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),hi=[mi],pi=["item","index"],vi={class:"card"},bi={class:"card-body"},fi={class:"list-field"},$i=e("span",{class:"mb-1 dis"},"Tech #:",-1),gi={class:"list-field"},yi=e("span",{class:"mb-1 dis"},"User:",-1),ki={class:"list-field"},xi=e("span",{class:"mb-1 dis"},"Branch:",-1),wi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"Department:",-1),Si={class:"list-field"},Mi=e("span",{class:"mb-1 dis"},"Created by:",-1),Ui={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Status:",-1),Vi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ti=e("hr",null,null,-1),Ei={class:"row"},Ii={key:0,class:"col"},Li=["onClick"],Fi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Pi=["onClick"],Yi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Bi=[Yi],Ni={key:0,class:"btn btnsm btn-success btn-block"},qi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ri={key:1,class:"col"},ji={key:0},Hi=["onClick"],Oi=e("i",{class:"fa fa-pencil-square-o"},null,-1),zi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gi={class:"modal-dialog modal-lg",role:"document"},Qi={class:"modal-content"},Wi={class:"modal-header"},Ki={class:"modal-title",id:"staticBackdropLabel"},Xi={key:0},Ji={key:1},Zi=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),ec={class:"modal-body"},tc={class:"col-md-12"},sc={class:"row"},ac={class:"col-6"},oc={class:"form-group"},lc=e("label",{for:"branch"},"Branch",-1),nc=e("option",{value:"",disabled:""}," Select Branch ",-1),dc=["value"],ic={class:"invalid-feedback"},cc={class:"form-group"},rc=e("label",{for:"department"},"Department",-1),uc={class:"invalid-feedback"},_c={class:"form-group"},mc=e("label",{for:"warehouse"},"warehouse",-1),hc={class:"invalid-feedback"},pc={class:"form-group"},vc=e("label",{for:"user"},"User",-1),bc={class:"invalid-feedback"},fc={class:"col-6"},$c={class:"form-group"},gc=e("label",{for:"brand"},"Brand",-1),yc={class:"form-group"},kc=e("label",{for:"model"},"Model",-1),xc={class:"invalid-feedback"},wc={class:"form-group"},Cc=e("label",{for:"assettag"},"Asset tag",-1),Sc={class:"invalid-feedback"},Mc={class:"form-group"},Uc=e("label",{for:"serialnum"},"Serial number",-1),Dc={class:"invalid-feedback"},Vc={class:"col-12"},Ac={class:"form-group"},Tc=e("label",{for:"problem"},"Report Problem",-1),Ec={class:"invalid-feedback"},Ic={class:"form-group"},Lc=e("label",{for:"assconducted"},"Assessment conducted",-1),Fc={class:"invalid-feedback"},Pc={class:"form-group"},Yc=e("label",{for:"recommendation"},"Recommendation",-1),Bc={class:"invalid-feedback"},Nc={class:"modal-footer"},qc={key:0},Rc={key:0,class:"btn-group float-l ml-auto"},jc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Hc={class:"dropdown-menu",role:"menu"},Oc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),zc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Gc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qc={class:"modal-dialog",role:"document"},Wc={class:"modal-content"},Kc=ve('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Xc={class:"modal-footer"},Jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Zc={__name:"TechList",setup(o){const k=d(),r=d(),l=ce(),n=d({data:[]});d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const m=`${pe().name}`,C=()=>{T.get("/api/getsite").then(v=>{r.value=v.data.sites}).catch(v=>{console.log(v)})},U=d(!1),_=d(!1),F=d(),f=Ce({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),w=ie();d(null);const p=(v=1)=>{U.value=!0,T.get(`/api/tech-recommendations?page=${v}`,{params:{query:g.value}}).then(c=>{U.value=!1,n.value=c.data,P.value=[],b.value=!1})},y=fe({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),j=fe({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),H=(v,{resetForm:c,setErrors:te})=>{T.post("/api/tech-recommendations",v).then(A=>{n.value.data.unshift(A.data),$("#FormModal").modal("hide"),c(),l.success("Data created successfully!")}).catch(A=>{A.response.data.errors&&te(A.response.data.errors)})},q=()=>{_.value=!1,$("#FormModal").modal("show")},se=()=>{f.id="",f.recommnum="",f.branch="",f.department="",f.warehouse="",f.user="",f.problem="",f.brand="",f.model="",f.assettag="",f.serialnum="",f.assconducted="",f.recommendation="",f.ceated_by=""},I=v=>{k.value=v.id,_.value=!0,se(),f.id=v.id,f.branch=v.branch,f.department=v.department,f.warehouse=v.warehouse,f.user=v.user,f.problem=v.problem,f.brand=v.brand,f.model=v.model,f.assettag=v.assettag,f.serialnum=v.serialnum,f.assconducted=v.assconducted,f.recommendation=v.recommendation,f.ceated_by=v.ceated_by,f.recommnum=v.recommnum,$("#FormModal").modal("show")},x=(v,{setErrors:c})=>{T.put("/api/tech-recommendations/"+v.id,v).then(te=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(te=>{c(te.response.data.errors),console.log(te)})},h=(v,c)=>{_.value?x(f,c):H(v,c)},g=d(null),P=d([]),R=v=>{const c=P.value.indexOf(v.id);c===-1?P.value.push(v.id):P.value.splice(c,1),console.log(P.value)},X=d(null),Q=v=>{X.value=v,$("#deleteClientModal").modal("show")},ee=()=>{T.delete(`/api/tech-recommendations/${X.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),n.value.data=n.value.data.filter(v=>v.id!==X.value)})},_e=()=>{T.delete("/api/tech-recommendations",{data:{ids:P.value}}).then(v=>{n.value.data=n.value.data.filter(c=>!P.value.includes(c.id)),P.value=[],b.value=!1,l.success(v.data.message)})},S=v=>{T.post("/api/tech-getaction",{id:k.value,status:v}).then(c=>{$("#FormModal").modal("hide"),p()}).catch(c=>{console.log(c.message)})},b=d(!1);return he(g,we.exports.debounce(()=>{p()},300)),de(()=>{p(),C(),document.title=m}),(v,c)=>{const te=De("router-link");return t(),a(N,null,[e("div",Gd,[e("div",Qd,[e("div",Wd,[e("div",Kd,[e("button",{onClick:q,type:"button",class:"mb-2 btn btn-primary"},[Xd,L(" TechRecom ")]),P.value.length>0?(t(),a("div",Jd,[e("button",{onClick:_e,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zd,L(" Delete Selected ")]),e("span",ei,"Selected "+s(P.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[O(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=A=>g.value=A),class:"form-control",placeholder:"Search..."},null,512),[[oe,g.value]])])]),e("div",ti,[e("div",si,[U.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[ai,oi,li,ni]),_:1})):V("",!0),e("div",di,[e("div",ii,[e("table",ci,[ri,n.value.data.length>0?(t(),a("tbody",ui,[(t(!0),a(N,null,G(n.value.data,(A,z)=>(t(),ne(zd,{key:A.id,item:A,index:z,onEditUser:I,onShowItem:v.viewItem,onConfirmUserDeletion:Q,onToggleSelection:R,"select-all":b.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",_i,hi))])])]),(t(!0),a(N,null,G(n.value.data,(A,z)=>(t(),a("div",{class:"dispatch-list",key:A.id,item:A,index:z},[e("div",vi,[e("div",bi,[e("div",fi,[$i,e("span",null,[e("b",null,s(A.recommnum),1)])]),e("div",gi,[yi,e("span",null,s(A.user),1)]),e("div",ki,[xi,e("span",null,s(A.branch),1)]),e("div",wi,[Ci,e("span",null,s(A.department),1)]),e("div",Si,[Mi,e("span",null,s(A.created_user),1)]),e("div",Ui,[Di,A.statusid==2?(t(),ne(te,{key:0,to:`/admin/tech-approved/${A.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:E(["badge",`badge-${A.status.color}`])},s(A.status.name),3)]),_:2},1032,["to"])):V("",!0),A.statusid!=2?(t(),a("span",{key:1,class:E(["badge",`badge-${A.status.color}`])},s(A.status.name),3)):V("",!0)]),e("div",Vi,[Ai,e("span",null,s(A.created_at),1)]),Ti,e("div",Ei,[i(w).user.role==="ADMIN"?(t(),a("div",Ii,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>I(A)},[Fi,L(" Edit ")],8,Li),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>Q(A.id)},Bi,8,Pi),A.statusid==2?(t(),a("button",Ni,[qi,L(" Download ")])):V("",!0)])):V("",!0),i(w).user.role==="USER"?(t(),a("div",Ri,[A.statusid!=2?(t(),a("div",ji,[A.created_by==i(w).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>I(A)},[Oi,L(" Edit ")],8,Hi)):V("",!0)])):V("",!0)])):V("",!0)])])])],8,pi))),128))])]),M(i(Ve),{data:n.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",zi,[e("div",Gi,[e("div",Qi,[e("div",Wi,[e("h5",Ki,[_.value?(t(),a("span",Xi,"Edit Tech Recom.")):(t(),a("span",Ji,"Add New Tech Recom."))]),Zi]),M(i($e),{onSubmit:h,"validation-schema":_.value?i(j):i(y),"initial-values":F.value},{default:Z(({errors:A})=>[e("div",ec,[e("div",tc,[e("div",sc,[e("div",ac,[M(i(W),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(w).user.id,"onUpdate:modelValue":c[1]||(c[1]=z=>i(w).user.id=z)},null,8,["modelValue"]),M(i(W),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:f.recommnum,"onUpdate:modelValue":c[2]||(c[2]=z=>f.recommnum=z)},null,8,["modelValue"]),e("div",oc,[lc,M(i(W),{as:"select",name:"branch",class:E(["form-control",{"is-invalid":A.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:f.branch,"onUpdate:modelValue":c[3]||(c[3]=z=>f.branch=z)},{default:Z(()=>[nc,(t(!0),a(N,null,G(r.value,z=>(t(),a("option",{key:z.site_name,value:z.site_name},s(z.site_name),9,dc))),128))]),_:2},1032,["class","modelValue"]),e("span",ic,s(A.branch),1)]),e("div",cc,[rc,M(i(W),{name:"department",type:"text",class:E(["form-control",{"is-invalid":A.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:f.department,"onUpdate:modelValue":c[4]||(c[4]=z=>f.department=z)},null,8,["class","modelValue"]),e("span",uc,s(A.department),1)]),e("div",_c,[mc,M(i(W),{name:"warehouse",type:"text",class:E(["form-control",{"is-invalid":A.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:f.warehouse,"onUpdate:modelValue":c[5]||(c[5]=z=>f.warehouse=z)},null,8,["class","modelValue"]),e("span",hc,s(A.warehouse),1)]),e("div",pc,[vc,M(i(W),{name:"user",type:"text",class:E(["form-control",{"is-invalid":A.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:f.user,"onUpdate:modelValue":c[6]||(c[6]=z=>f.user=z)},null,8,["class","modelValue"]),e("span",bc,s(A.user),1)])]),e("div",fc,[e("div",$c,[gc,M(i(W),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:f.brand,"onUpdate:modelValue":c[7]||(c[7]=z=>f.brand=z)},null,8,["modelValue"])]),e("div",yc,[kc,M(i(W),{name:"model",type:"text",class:E(["form-control",{"is-invalid":A.model}]),id:"model",modelValue:f.model,"onUpdate:modelValue":c[8]||(c[8]=z=>f.model=z),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",xc,s(A.model),1)]),e("div",wc,[Cc,M(i(W),{name:"assettag",type:"text",class:E(["form-control",{"is-invalid":A.assettag}]),id:"assettag",modelValue:f.assettag,"onUpdate:modelValue":c[9]||(c[9]=z=>f.assettag=z),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Sc,s(A.assettag),1)]),e("div",Mc,[Uc,O(e("input",{name:"serialnum",type:"text",class:E(["form-control",{"is-invalid":A.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":c[10]||(c[10]=z=>f.serialnum=z)},null,2),[[oe,f.serialnum]]),e("span",Dc,s(A.serialnum),1)])]),e("div",Vc,[e("div",Ac,[Tc,M(i(W),{name:"problem",as:"textarea",class:E(["form-control",{"is-invalid":A.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:f.problem,"onUpdate:modelValue":c[11]||(c[11]=z=>f.problem=z)},null,8,["class","modelValue"]),e("span",Ec,s(A.problem),1)]),e("div",Ic,[Lc,M(i(W),{name:"assconducted",as:"textarea",class:E(["form-control",{"is-invalid":A.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:f.assconducted,"onUpdate:modelValue":c[12]||(c[12]=z=>f.assconducted=z)},null,8,["class","modelValue"]),e("span",Fc,s(A.assconducted),1)]),e("div",Pc,[Yc,M(i(W),{name:"recommendation",as:"textarea",class:E(["form-control",{"is-invalid":A.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:f.recommendation,"onUpdate:modelValue":c[13]||(c[13]=z=>f.recommendation=z)},null,8,["class","modelValue"]),e("span",Bc,s(A.recommendation),1)])])])])]),e("div",Nc,[_.value?(t(),a("div",qc,[i(w).user.role==="ADMIN"?(t(),a("div",Rc,[e("button",{type:"button",onClick:c[14]||(c[14]=z=>S(2)),class:"btn btn-info"}," Approved "),jc,e("div",Hc,[e("span",{onClick:c[15]||(c[15]=z=>S(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:c[16]||(c[16]=z=>S(3)),class:"dropdown-item"},"Disapproved")])])):V("",!0)])):V("",!0),Oc,zc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Gc,[e("div",Qc,[e("div",Wc,[Kc,e("div",Xc,[Jc,e("button",{onClick:ae(ee,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Te=Oe("SettingStore",()=>{const o=d({app_name:""}),k=$t("SettingStore:theme",d("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(n=>{o.value=n.data})},theme:k,changeTheme:()=>{k.value=k.value==="light"?"dark":"light"}}});const K=o=>(Se("data-v-1507a878"),o=o(),Me(),o),er={class:"content"},tr={class:"container-fluid"},sr={class:"card"},ar={class:"card-header"},or={class:"card-title"},lr={class:"card-body"},nr={class:"col-md-12"},dr={class:"d-flex justify-content-between"},ir=K(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),cr={class:"d-flex"},rr={class:"col-12",id:"accordion"},ur=K(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),_r=K(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),mr=K(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),hr=K(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),pr={key:1},vr={key:0},br={class:"card card-secondary"},fr={class:"card-body d-flex align-items-center justify-content-center"},$r={class:"image-container"},gr=["src"],yr=K(()=>e("div",{class:"overlay"},null,-1)),kr={key:1},xr={class:"card-header bg-white"},wr={class:"card-title"},Cr=["href"],Sr=["src"],Mr={class:"card-tools"},Ur=["onClick"],Dr=K(()=>e("i",{class:"fas fa-tasks"},null,-1)),Vr=[Dr],Ar=["disabled","onClick"],Tr=["onClick"],Er=K(()=>e("p",{class:"float-right"},null,-1)),Ir=["id"],Lr={class:"card-body"},Fr={class:"col-md-12"},Pr={class:"dispatch-table"},Yr={class:"row"},Br={class:"col-4"},Nr=K(()=>e("b",null,"Site:",-1)),qr=K(()=>e("b",null,"Planned Date:",-1)),Rr=K(()=>e("b",null,"Planned End Date:",-1)),jr={class:"col-4"},Hr=K(()=>e("b",null,"Start Date:",-1)),Or=K(()=>e("b",null,"Accomplished Date:",-1)),zr={class:"closestatus"},Gr=K(()=>e("b",{style:{color:"black"}},"Type:",-1)),Qr={class:"col-4"},Wr={class:"ongoing"},Kr=K(()=>e("b",{style:{color:"black"}},"Status:",-1)),Xr=K(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Jr=K(()=>e("b",null,"Remarks:",-1)),Zr={style:{margin:"0.5%"}},eu=["disabled","onClick"],tu=["onClick","disabled"],su={class:"dispatch-list"},au={class:"list-group list-group-flush"},ou={class:"list-group-item d-flex justify-content-between align-items-center"},lu={class:"badge badge-primary badge-pill"},nu={class:"list-group-item d-flex justify-content-between align-items-center"},du={class:"badge badge-primary badge-pill"},iu={class:"list-group-item d-flex justify-content-between align-items-center"},cu={class:"badge badge-primary badge-pill"},ru={class:"list-group-item d-flex justify-content-between align-items-center"},uu={class:"badge badge-primary badge-pill"},_u={class:"list-group-item d-flex justify-content-between align-items-center"},mu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},vu={class:"list-group-item d-flex justify-content-between align-items-center"},bu={class:"badge badge-primary badge-pill"},fu={class:"list-group-item d-flex justify-content-between align-items-center"},$u={class:"badge badge-primary badge-pill"},gu=K(()=>e("hr",null,null,-1)),yu={class:"row"},ku={class:"col"},xu=["onClick"],wu=K(()=>e("i",{class:"fas fa-pen"},null,-1)),Cu=["onClick"],Su=K(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),L(" Drop ")],-1)),Mu=[Su],Uu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Du={class:"modal-dialog modal-dialog-centered",role:"document"},Vu={class:"modal-content"},Au={class:"modal-header"},Tu={class:"modal-title",id:"staticBackdropLabel"},Eu={key:0},Iu={key:1},Lu={key:2},Fu=K(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Pu={class:"modal-body"},Yu={class:"col-md-12"},Bu={class:"row"},Nu={class:"col-12"},qu={class:"form-group"},Ru=K(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),ju=K(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Hu=["value"],Ou={key:0,class:"d-flex justify-content-between"},zu={class:"d-flex"},Gu={class:"form-group"},Qu=K(()=>e("label",{for:"end-time"},"Start Date",-1)),Wu={class:"form-group"},Ku=K(()=>e("label",{for:"end-time"},"Hour",-1)),Xu=["value"],Ju=K(()=>e("div",{class:"d-fex"},null,-1)),Zu={key:1,class:"d-flex justify-content-between"},e_={class:"d-flex"},t_={class:"form-group"},s_=K(()=>e("label",{for:"end-time"},"End Date",-1)),a_={class:"form-group"},o_=K(()=>e("label",{for:"end-time"},"Hour",-1)),l_=["value"],n_=K(()=>e("div",{class:"d-fex"},null,-1)),d_={class:"form-group"},i_=K(()=>e("label",{for:"site"},"Task",-1)),c_=K(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),r_=["value"],u_=K(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),__={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},m_={class:"modal-dialog modal-sm",role:"document"},h_={class:"modal-content"},p_={class:"modal-header"},v_={class:"modal-title",id:"staticBackdropLabel"},b_=K(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),f_={class:"modal-body"},$_=ve('<ul class="nav nav-tabs" id="myTabs" data-v-1507a878><li class="nav-item" data-v-1507a878><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-1507a878> Todo List</a></li><li class="nav-item" data-v-1507a878><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-1507a878> Todo</a></li></ul>',1),g_={class:"tab-content"},y_={class:"tab-pane fade show active",id:"todolist"},k_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},x_=K(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),w_=K(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),C_={key:0,class:"list-group-item mt-2"},S_={class:"d-flex justify-content-between"},M_={class:"d-flex"},U_=["onClick"],D_={class:"d-flex"},V_=["onClick"],A_={class:"m-2 list-unstyled"},T_={key:1},E_={key:0,class:"list-group-item mt-2"},I_={class:"d-flex justify-content-between"},L_={class:"d-flex"},F_=["onClick"],P_={class:"d-flex"},Y_=["onClick"],B_={key:1,class:"mt-2 text-center"},N_=K(()=>e("span",null,"No Todo",-1)),q_=[N_],R_={class:"tab-pane fade",id:"formTask"},j_={class:"col-md-12"},H_={class:"row"},O_={class:"col-12"},z_={class:"m-2",style:{display:"flex","align-items":"center"}},G_=K(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),L("\xA0Save ")])],-1)),Q_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},W_={class:"modal-dialog",role:"document"},K_={class:"modal-content"},X_=ve('<div class="modal-header" data-v-1507a878><h5 class="modal-title" id="staticBackdropLabel" data-v-1507a878><span data-v-1507a878>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-1507a878><span aria-hidden="true" data-v-1507a878>\xD7</span></button></div><div class="modal-body" data-v-1507a878><h5 data-v-1507a878>Are you sure you want to delete this record ?</h5></div>',2),J_={class:"modal-footer"},Z_=K(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),em={__name:"MyPrio",setup(o){const k=`${pe().name}`,r=d(!1),l=d(!1),n=ct("$swal");Te();const m=ce(),C=d({data:[]}),U=d([]);d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const _=d();d();const F=d(!0),f=d(!1);d(!1),d();const w=d(),p=d(),y=d(),j=ie();d(null),d(!1);const H=d([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"VSC",value:4},{name:"WORK FROM HOME",value:6}]),q=d(),se=d("1:00 AM"),I=d(),x=d("1:00 AM"),h=d(Array.from({length:24},(D,B)=>{const u=B%12+1,le=B<12?"AM":"PM";return`${u}:00 ${le}`})),g=d(Array.from({length:24},(D,B)=>{const u=B%12+1,le=B<12?"AM":"PM";return`${u}:00 ${le}`})),P=Ce({dailytask_id:"",site:"",user_id:j.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});he([q,se],()=>{const D=new Date(q.value),B=D.getFullYear(),u=String(D.getMonth()+1).padStart(2,"0"),le=String(D.getDate()).padStart(2,"0");P.plandate=`${B}-${u}-${le} ${se.value}`}),he([q,x],()=>{const D=new Date(q.value);D.getFullYear(),String(D.getMonth()+1).padStart(2,"0"),String(D.getDate()).padStart(2,"0")}),he([I,x],()=>{const D=new Date(I.value),B=D.getFullYear(),u=String(D.getMonth()+1).padStart(2,"0"),le=String(D.getDate()).padStart(2,"0");P.enddates=`${B}-${u}-${le} ${x.value}`});const R=d({id:"",dailytask_id:"",task_name:"",iscompleted:0}),X=()=>{T.get("/api/getsite").then(D=>{_.value=D.data.sites}).catch(D=>{console.log(D)})},Q=()=>{r.value=!0,T.get("/api/dailytask",{params:{query:Le.value}}).then(D=>{r.value=!1,C.value=D.data,st.value=[]})},ee=async D=>{(await n({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(r.value=!0,T.put(`/api/dailytask/drop/${D}`).then(u=>{m.success("Data drop successfully!"),r.value=!1,Q()}))},_e=()=>{$("#FormModalTask").modal("show")},S=D=>{_e(),R.value.dailytask_id=D.dailytask_id,p.value=D.taskdate,y.value=D.startdate,l.value=!0,T.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(B=>{U.value=B.data,_e(),l.value=!1}).catch(B=>{console.error("Error fetching tasks:",B)})},b=()=>{l.value=!0,T.post("/api/dailytask/addnewTask",{dailytask_id:R.value.dailytask_id,task_name:R.value.task_name,iscompleted:R.value.iscompleted}).then(D=>{m.success("Data created successfully!"),T.get(`/api/dailytask/${R.value.dailytask_id}/tasks`).then(B=>{U.value=B.data,l.value=!1}).catch(B=>{console.error("Error fetching tasks:",B),m.error("Error fetching tasks. Please try again.")}),R.value.task_name=""}).catch(D=>{console.error("Error adding new task:",D),m.error("Error adding new task. Please try again.")})},v=D=>{R.value.iscompleted=D.iscompleted===1?0:1,T.post("/api/dailytask/addnewTask",{id:D.id,dailytask_id:D.dailytask_id,task_name:D.task_name,iscompleted:R.value.iscompleted}).then(B=>{T.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(u=>{U.value=u.data}).catch(u=>{console.error("Error fetching tasks:",u),m.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),m.error("Error adding new task. Please try again.")})},c=ke(()=>Array.isArray(U.value)?U.value.filter(D=>D.iscompleted===1):[]),te=ke(()=>c.value.length),A=()=>{F.value=!F.value},z=D=>{T.delete(`/api/dailytask/deleteTask/${D.id}`).then(B=>{T.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(u=>{U.value=u.data,m.success("Todo successfull Deleted")}).catch(u=>{console.error("Error fetching tasks:",u),m.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),m.error("Error adding new task. Please try again.")})};fe({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()}),fe({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()});const Ie=(D,B)=>{T.post("/api/dailytask",P).then(u=>{console.log(u.data),Q(),$("#FormModal").modal("hide"),m.success("data created successfully!")}).catch(u=>{B.setErrors(u.response.data.errors)})},Je=(D,B)=>{T.put("/api/dailytask/"+P.dailytask_id,P).then(u=>{console.log(u.data),Q(),$("#FormModal").modal("hide"),m.success("data update successfully!")}).catch(u=>{B.setErrors(u.response.data.errors)})},Pe=D=>{D&&D.dailytask_id!==null&&D.dailytask_id!==void 0?(f.value=!0,w.value=" on "+ue(D.taskdate).format("MMMM D, YYYY"),P.site=D.site,P.dailytask_id=D.dailytask_id,P.plandate=D.plandate,P.planenddate=D.planenddate):f.value=!1,X(),$("#FormModal").modal("show")},Ze=(D,B)=>{f.value?Je(D,B):Ie(D,B)},et=async D=>{try{const B=await T.get(`/api/dailytask/${D.dailytask_id}/tasks`);if(U.value=B.data,!U.value||U.value.length===0){n.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await n.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const le=await T.put("/api/dailytask/onhandler/"+D.dailytask_id,D);m.success(le.data.message),Q()}}catch(B){console.error("Error fetching tasks:",B),m.error("An error occurred while updating the task.")}},tt=async D=>{if((await n({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ue(D.taskdate).format("YYYY-MM-DD")===ue().format("YYYY-MM-DD")?(D.remarks="HIT",D.status="On Schedule"):(D.remarks="MISS",D.status="Behind Schedule");const le=await T.put("/api/dailytask/onhandler/"+D.dailytask_id,D);m.success(le.data.message),Q()}catch(u){console.error(u),m.error("An error occurred while updating the task.")}},Le=d(null),st=d([]),Re=d(null),at=()=>{T.delete(`/api/tech-recommendations/${Re.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Client deleted successfully!"),C.value.data=C.value.data.filter(D=>D.id!==Re.value)})};return he(Le,we.exports.debounce(()=>{Q()},300)),de(()=>{ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),Q(),document.title=k}),(D,B)=>(t(),a(N,null,[e("div",er,[e("div",tr,[e("div",sr,[e("div",ar,[e("div",or,s(i(j).user.first_name+" "+i(j).user.last_name)+" - My Prio ",1)]),e("div",lr,[e("div",nr,[e("div",dr,[e("div",{class:"d-flex"},[e("button",{onClick:Pe,type:"button",class:"mb-2 btn btn-primary"},[ir,L(" Task ")])]),e("div",cr,[O(e("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=u=>Le.value=u),class:"form-control",placeholder:"Search..."},null,512),[[oe,Le.value]])])]),e("div",rr,[r.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[ur,_r,mr,hr]),_:1})):(t(),a("div",pr,[C.value.length===0?(t(),a("div",vr,[e("div",br,[e("div",fr,[e("div",$r,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,gr),yr])])])])):(t(),a("div",kr,[(t(!0),a(N,null,G(C.value,u=>(t(),a("div",{class:"card card-primary",key:u.id},[e("div",xr,[e("h4",wr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+u.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Sr),L(" \xA0"),e("b",null,s(i(ue)(u.taskdate).format("MMMM D, YYYY")),1)],8,Cr)]),e("div",Mr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:le=>S(u)},Vr,8,Ur),e("button",{disabled:u.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:le=>tt(u)}," End ",8,Ar),u.startdate?V("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:le=>et(u)}," Start ",8,Tr)),Er])]),e("div",{id:"collapse"+u.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Lr,[e("div",Fr,[e("div",Pr,[e("div",Yr,[e("div",Br,[e("h5",null,[Nr,L(" "+s(u.site_name),1)]),e("h5",null,[qr,L(" "+s(u.plandate),1)]),e("h5",null,[Rr,L(" "+s(u.planenddate),1)])]),e("div",jr,[e("h5",null,[Hr,L(" "+s(u.startdate!==null?i(ue)(u.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Or,L(" "+s(u.enddate!==null?i(ue)(u.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",zr,[Gr,L(" "+s(u.tasktype?u.tasktype.join(", "):""),1)])]),e("div",Qr,[e("h5",Wr,[Kr,L(" "+s(u.status),1)]),e("h5",null,[Xr,L(" "+s(u.attachment),1)]),e("h5",null,[Jr,L(" "+s(u.remarks),1)])])]),e("div",Zr,[e("button",{disabled:u.startdate!==null,onClick:le=>ee(u.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,eu),e("button",{onClick:le=>Pe(u),type:"button",disabled:u.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,tu)])]),e("div",su,[e("ul",au,[e("li",ou,[L(" Site: "),e("span",lu,s(u.site_name),1)]),e("li",nu,[L(" Planned Date: "),e("span",du,s(u.plandate),1)]),e("li",iu,[L(" Planned End Date: "),e("span",cu,s(u.planenddate),1)]),e("li",ru,[L(" Start Date: "),e("span",uu,s(u.startdate!==null?i(ue)(u.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",_u,[L(" Type: "),e("span",mu,s(u.tasktype?u.tasktype.join(", "):""),1)]),e("li",hu,[L(" Status: "),e("span",pu,s(u.status),1)]),e("li",vu,[L(" Attachment: "),e("span",bu,s(u.attachment),1)]),e("li",fu,[L(" Remarks: "),e("span",$u,s(u.remarks),1)])]),gu,e("div",yu,[e("div",ku,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:le=>Pe(u)},[wu,L(" Edit ")],8,xu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:le=>ee(u.dailytask_id)},Mu,8,Cu)])])])])])],8,Ir)]))),128))]))]))])])])])])]),e("div",Uu,[e("div",Du,[e("div",Vu,[e("div",Au,[e("h5",Tu,[f.value?(t(),a("span",Eu,"Edit My Task")):(t(),a("span",Iu,"Add My Task")),f.value?(t(),a("span",Lu,s(w.value),1)):V("",!0)]),Fu]),M(i($e),{onSubmit:Ze},{default:Z(()=>[e("div",Pu,[e("div",Yu,[e("div",Bu,[e("div",Nu,[M(i(W),{modelValue:P.user_id,"onUpdate:modelValue":B[1]||(B[1]=u=>P.user_id=u),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",qu,[Ru,O(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":B[2]||(B[2]=u=>P.site=u)},[ju,(t(!0),a(N,null,G(_.value,u=>(t(),a("option",{key:u.id,value:u.id},s(u.site_name),9,Hu))),128))],512),[[ye,P.site]])]),f.value==!1?(t(),a("div",Ou,[e("div",zu,[e("div",Gu,[Qu,M(i(Ae),{class:"form-control",modelValue:q.value,"onUpdate:modelValue":B[3]||(B[3]=u=>q.value=u)},null,8,["modelValue"])]),e("div",Wu,[Ku,O(e("select",{class:"form-control","onUpdate:modelValue":B[4]||(B[4]=u=>se.value=u),id:"plandate"},[(t(!0),a(N,null,G(h.value,u=>(t(),a("option",{key:u,value:u},s(u),9,Xu))),128))],512),[[ye,se.value]])])]),Ju])):V("",!0),f.value==!1?(t(),a("div",Zu,[e("div",e_,[e("div",t_,[s_,M(i(Ae),{class:"form-control",modelValue:I.value,"onUpdate:modelValue":B[5]||(B[5]=u=>I.value=u)},null,8,["modelValue"])]),e("div",a_,[o_,O(e("select",{class:"form-control","onUpdate:modelValue":B[6]||(B[6]=u=>x.value=u),id:"plandate"},[(t(!0),a(N,null,G(g.value,u=>(t(),a("option",{key:u,value:u},s(u),9,l_))),128))],512),[[ye,x.value]])])]),n_])):V("",!0),e("div",d_,[i_,M(i(W),{name:"tasktype"},{default:Z(()=>[O(e("select",{"onUpdate:modelValue":B[7]||(B[7]=u=>P.tasktype=u),class:"form-control",required:!0},[c_,(t(!0),a(N,null,G(H.value,u=>(t(),a("option",{key:u.value,value:u.value},s(u.name),9,r_))),128))],512),[[ye,P.tasktype]])]),_:1})])])])])]),u_]),_:1})])])]),e("div",__,[e("div",m_,[e("div",h_,[e("div",p_,[e("h5",v_," My Todo of "+s(i(ue)(p.value).format("MM/D/YYYY")),1),b_]),e("div",f_,[$_,e("div",g_,[e("div",y_,[U.value.length>0?(t(),a("div",k_,[l.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[x_,w_]),_:1})):V("",!0),(t(!0),a(N,null,G(U.value,u=>(t(),a("ul",{class:"list-group",key:u.id},[u.iscompleted!==1?(t(),a("li",C_,[e("div",S_,[e("div",M_,[y.value?(t(),a("i",{key:0,onClick:le=>v(u),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":u.iscompleted===1,"fa fa-circle text-primary":u.iscompleted!==1}),style:{"font-size":"15px"}},null,10,U_)):V("",!0),e("span",{class:E({"font-italic":u.iscompleted===1,"":u.iscompleted!==1})},s(u.task_name),3)]),e("div",D_,[e("i",{class:"fa fa-trash text-danger",onClick:le=>z(u)},null,8,V_)])])])):V("",!0)]))),128)),e("li",A_,[te.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:A},[e("i",{class:E(["fa",F.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Completed "+s(te.value),1)])):V("",!0)]),F.value?(t(),a("div",T_,[(t(!0),a(N,null,G(U.value,u=>(t(),a("ul",{class:"list-group",key:u.id},[u.iscompleted===1?(t(),a("li",E_,[e("div",I_,[e("div",L_,[e("i",{class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle":u.iscompleted===1,"fa fa-circle":u.iscompleted!==1}),style:{"font-size":"15px"},onClick:le=>v(u)},null,10,F_),e("span",{class:E({"font-italic":u.iscompleted===1,"":u.iscompleted!==1})},[e("del",null,s(u.task_name),1)],2)]),e("div",P_,[e("i",{class:"fa fa-trash text-danger",onClick:le=>z(u)},null,8,Y_)])])])):V("",!0)]))),128))])):V("",!0)])):(t(),a("div",B_,q_))]),e("div",R_,[M(i($e),{onSubmit:b},{default:Z(()=>[e("div",j_,[e("div",H_,[e("div",O_,[M(i(W),{modelValue:R.value.dailytask_id,"onUpdate:modelValue":B[8]||(B[8]=u=>R.value.dailytask_id=u),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",z_,[M(i(W),{modelValue:R.value.task_name,"onUpdate:modelValue":B[9]||(B[9]=u=>R.value.task_name=u),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),G_]),_:1})])])])])])]),e("div",Q_,[e("div",W_,[e("div",K_,[X_,e("div",J_,[Z_,e("button",{onClick:ae(at,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var tm=be(em,[["__scopeId","data-v-1507a878"]]);const sm={class:"text-center"},am={key:0},om={class:"text-center"},lm={key:0},nm={class:"text-center"},dm={key:0},im={key:0,class:"bg-success text-center"},cm={key:1,class:"bg-danger text-center"},rm={key:2,class:"text-center"},um={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return ce(),ie(),(k,r)=>(t(),a("tr",null,[e("td",null,s(i(ue)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",sm,[o.item.task_lists_count!==0?(t(),a("span",am,s(o.item.task_lists_count),1)):V("",!0)]),e("td",om,[o.item.completed_task_count!==0?(t(),a("span",lm,s(o.item.completed_task_count),1)):V("",!0)]),e("td",nm,[o.item.status!=="On Going"?(t(),a("span",dm,s(o.item.status),1)):V("",!0)]),o.item.remarks==="HIT"?(t(),a("td",im,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",cm,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",rm,s(o.item.startdate!=null?"On Going!":""),1)):V("",!0),e("td",{class:E({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const re=o=>(Se("data-v-42c6c522"),o=o(),Me(),o),_m={class:"content-header"},mm={class:"container-fluid"},hm={class:"col-12"},pm={class:"card",id:"captureVSCContainer"},vm={class:"card-header"},bm={class:"card-title"},fm={class:"card-tools"},$m={class:"card-body"},gm=re(()=>e("i",{class:"fa fa-camera"},null,-1)),ym=[gm],km=re(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),xm=re(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),wm=re(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Cm=re(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Sm={key:1,class:"row"},Mm={class:"inner"},Um={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Dm=["src"],Vm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Am={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Tm={style:{"text-align":"left"}},Em={key:0},Im=re(()=>e("span",{class:"text-light badge"},"Todos",-1)),Lm={class:"list-group list-group-flush"},Fm={style:{display:"flex","align-items":"left"}},Pm={class:"ml-1"},Ym={class:"ml-1"},Bm={key:1},Nm={class:"float-right"},qm={id:"captureHitRateContainer",class:"card"},Rm={class:"card-header"},jm={class:"card-title"},Hm={class:"card-body"},Om={class:"content"},zm={class:"container-fluid"},Gm=re(()=>e("i",{class:"fa fa-camera"},null,-1)),Qm=[Gm],Wm={class:"dispatch-table"},Km={class:"table-responsive"},Xm={class:"table table-bordered table-hover table-sm"},Jm=re(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Zm=["item"],eh={class:"list-field"},th=re(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),sh={class:"list-field"},ah=re(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),oh={key:0},lh={class:"list-field"},nh=re(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),dh={key:0},ih={class:"list-field"},ch=re(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),rh={class:"list-field"},uh=re(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),_h={class:"list-field"},mh=re(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),hh={class:"float-right"},ph={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vh={class:"modal-dialog modal-sm",role:"document"},bh={class:"modal-content"},fh=re(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My VSC Summary Report")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),$h={class:"modal-body"},gh={class:"fromtocenter"},yh=re(()=>e("label",{for:"fromDate"},"From:",-1)),kh=re(()=>e("label",{for:"toDate"},"To:",-1)),xh=re(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),wh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ch={class:"modal-dialog modal-sm",role:"document"},Sh={class:"modal-content"},Mh=re(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Uh={class:"modal-body"},Dh={class:"container"},Vh={class:"row"},Ah=["onClick"],Th=re(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Eh={__name:"MyVsc",setup(o){const k=`${pe().name}`,r=ie(),l=d(!1),n=d([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),C=d((()=>{const x={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",x)})()),U=()=>{const x=document.getElementById("captureVSCContainer");Be(x).then(h=>{const g=h.toDataURL(),P=document.createElement("a");P.href=g,P.download=`${r.user.first_name+" "+r.user.last_name} - ${k}.png`,P.click()})},_=()=>{const x=document.getElementById("captureHitRateContainer");Be(x).then(h=>{const g=h.toDataURL(),P=document.createElement("a");P.href=g,P.download=`${r.user.first_name+" "+r.user.last_name} - My HIT RATE.png`,P.click()})};d(null),d("today");const F=d({data:[]}),f=d({data:[]}),w=()=>{l.value=!0,axios.get("/api/myvsc").then(x=>{l.value=!1,F.value=x.data.dailyTasks,f.value=x.data.TaskList})},p=()=>{$("#FormModalfilterDate").modal("show")},y=d({start_date:"",end_date:""}),j=d(""),H=d("");he([j],()=>{const x=new Date(j.value),h=x.getFullYear(),g=String(x.getMonth()+1).padStart(2,"0"),P=String(x.getDate()).padStart(2,"0");y.value.start_date=`${h}-${g}-${P}`}),he([H],()=>{const x=new Date(H.value),h=x.getFullYear(),g=String(x.getMonth()+1).padStart(2,"0"),P=String(x.getDate()).padStart(2,"0");y.value.end_date=`${h}-${g}-${P}`});const q=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:y.value.start_date,end_date:y.value.end_date}}).then(x=>{l.value=!1,F.value=x.data.dailyTasks,f.value=x.data.TaskList}).catch(x=>{console.error(x)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},se=()=>{$("#FormModalPickerThemes").modal("show")},I=x=>{if(x){const h=r.user.id;axios.post("/api/changethemes",{userid:h,background:x.background,active_background:x.active_background,font_background:x.font_background}).then(g=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(P=>{l.value=!1,F.value=P.data.dailyTasks,f.value=P.data.TaskList})}).catch(g=>{console.error(g)})}else console.error("Invalid item:",x)};return de(()=>{w(),document.title=k}),(x,h)=>(t(),a(N,null,[e("div",_m,[e("div",mm,[e("div",hm,[e("div",pm,[e("div",vm,[e("div",bm,[e("h5",null,s(i(r).user.first_name+" "+i(r).user.last_name)+" - "+s(k),1)]),e("div",fm,[e("i",{onClick:h[0]||(h[0]=g=>se()),class:"fas fa-palette"})])]),e("div",$m,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:U,type:"button",class:"mb-2 btn btn-sm btn-success"},ym)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:p})])]),l.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[km,xm,wm,Cm]),_:1})):(t(),a("div",Sm,[(t(!0),a(N,null,G(F.value,g=>(t(),a("div",{class:"col-lg-3 col-6",key:g.id},[e("div",{class:"small-box",style:Ye("background-color: "+(i(ue)(g.taskdate).format("MMMM D, YYYY")===C.value?g.active_background==""?"#72461F":g.active_background:g.background==""?"#B98D65":g.background)+";")},[e("div",Mm,[e("div",Um,[L(s(i(ue)(g.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Dm)]),e("div",Vm,s(i(ue)(g.taskdate).format("MMMM D, YYYY")),1),e("div",Am,s(g.site_name),1),e("div",Tm,[g.task_lists&&g.task_lists.length>0?(t(),a("div",Em,[Im,e("ul",Lm,[(t(!0),a(N,null,G(g.task_lists,P=>(t(),a("li",{class:"list-group-item",key:P.id},[e("div",Fm,[e("div",Pm,[e("i",{class:E(P.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Ym,s(P.task_name),1)])]))),128))])])):(t(),a("span",Bm))])])],4)]))),128))])),e("div",Nm,s(C.value),1)])]),e("div",qm,[e("div",Rm,[e("div",jm,[e("h5",null,s(i(r).user.first_name+" "+i(r).user.last_name)+" - My HIT RATE ",1)])]),e("div",Hm,[e("div",Om,[e("div",zm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:_,type:"button",class:"mb-2 btn btn-sm btn-success"},Qm)])]),e("div",Wm,[e("div",Km,[e("table",Xm,[Jm,e("tbody",null,[(t(!0),a(N,null,G(f.value,g=>(t(),ne(um,{key:g.id,item:g},null,8,["item"]))),128))])])])]),(t(!0),a(N,null,G(f.value,g=>(t(),a("div",{class:"dispatch-list",key:g.id,item:g},[e("div",{class:E([{"callout callout-success":g.remarks==="HIT","callout callout-danger":g.remarks==="MISS",callout:g.remarks===null}])},[e("div",eh,[th,e("span",null,s(i(ue)(g.taskdate).format("MMMM D, YYYY")),1)]),e("div",sh,[ah,g.task_lists_count!==0?(t(),a("span",oh,s(g.task_lists_count),1)):V("",!0)]),e("div",lh,[nh,g.completed_task_count!==0?(t(),a("span",dh,s(g.completed_task_count),1)):V("",!0)]),e("div",ih,[ch,e("span",null,[e("b",null,s(g.status),1)])]),e("div",rh,[uh,e("span",{class:E(["badge",g.remarks==="HIT"?"bg-success":"bg-danger"])},s(g.remarks),3)]),e("div",_h,[mh,e("span",{class:E(["badge",{"bg-danger":g.percentage_completed>=0&&g.percentage_completed<=59},{"bg-orange":g.percentage_completed>60&&g.percentage_completed<=90},{"bg-success":g.percentage_completed===100}])},s(g.percentage_completed+"%"),3)])],2)],8,Zm))),128))])]),e("div",hh,s(C.value),1)])])])])]),e("div",ph,[e("div",vh,[e("div",bh,[fh,e("div",$h,[e("div",gh,[e("div",null,[yh,M(i(Ae),{modelValue:j.value,"onUpdate:modelValue":h[1]||(h[1]=g=>j.value=g)},null,8,["modelValue"])]),e("div",null,[kh,M(i(Ae),{modelValue:H.value,"onUpdate:modelValue":h[2]||(h[2]=g=>H.value=g)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[xh,e("button",{onClick:q,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",wh,[e("div",Ch,[e("div",Sh,[Mh,e("div",Uh,[e("div",Dh,[e("div",Vh,[(t(!0),a(N,null,G(n.value,g=>(t(),a("div",{class:"col-md-4",key:g.background},[e("div",{class:"box",onClick:P=>I(g)},[e("div",{class:"column",style:Ye({"background-color":g.background})},"\xA0",4),e("div",{class:"column",style:Ye({"background-color":g.active_background})},"\xA0",4)],8,Ah)]))),128))])])]),Th])])])],64))}};var Ih=be(Eh,[["__scopeId","data-v-42c6c522"]]);const Lh={class:"text-center"},Fh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return ce(),ie(),(k,r)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(i(ue)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Lh,[e("span",{class:E(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Ph=be(Fh,[["__scopeId","data-v-f22938e0"]]);const me=o=>(Se("data-v-1bd69382"),o=o(),Me(),o),Yh={class:"content"},Bh={class:"container-fluid"},Nh={class:"card",id:"capturePrioContainer"},qh={class:"card-header"},Rh={class:"card-title"},jh={class:"card-body"},Hh=me(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Oh=me(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),zh=me(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Gh=me(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Qh={key:1,class:"content"},Wh={class:"container-fluid"},Kh=me(()=>e("i",{class:"fa fa-camera"},null,-1)),Xh=[Kh],Jh={class:"dispatch-table"},Zh={class:"table-responsive"},ep={class:"table table-bordered table-sm table-striped table-hover"},tp=me(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),sp={key:0},ap={key:1},op=me(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),lp=[op],np=["item","index"],dp={class:"card"},ip={class:"card-body"},cp={class:"list-field"},rp=me(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),up={class:"list-field"},_p=me(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),mp={class:"list-field"},hp=me(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),pp={class:"list-field"},vp=me(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),bp={class:"list-field"},fp=me(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),$p={class:"list-field"},gp=me(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),yp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kp={class:"modal-dialog modal-sm",role:"document"},xp={class:"modal-content"},wp=me(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Cp={class:"modal-body"},Sp={class:"fromtocenter"},Mp=me(()=>e("label",{for:"fromDate"},"From:",-1)),Up=me(()=>e("label",{for:"toDate"},"To:",-1)),Dp=me(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Vp={__name:"MyClosePrioList",setup(o){const k=`${pe().name}`,r=d(!1);ce();const l=d({data:[]}),n=d(""),m=d(""),C=ie(),U=(w=1)=>{r.value=!0,T.get(`/api/mycloseprio?page=${w}`,{params:{query:f.value}}).then(p=>{r.value=!1,l.value=p.data})},_=()=>{const w=document.getElementById("capturePrioContainer");Be(w).then(p=>{const y=p.toDataURL(),j=document.createElement("a");j.href=y,j.download="MY CLOSED PRIO.png",j.click()})},F=()=>{r.value=!0,T.get("/api/filter-closeprio",{params:{start_date:n.value,end_date:m.value}}).then(w=>{r.value=!1,l.value=w.data.dailyTasks}).catch(w=>{console.error(w)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},f=d(null);return he(f,we.exports.debounce(()=>{U()},300)),de(()=>{U(),document.title=k}),(w,p)=>(t(),a(N,null,[e("div",Yh,[e("div",Bh,[e("div",Nh,[e("div",qh,[e("div",Rh,[e("h5",null,s(i(C).user.first_name+" "+i(C).user.last_name)+" - My Closed Prio ",1)])]),e("div",jh,[r.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Hh,Oh,zh,Gh]),_:1})):(t(),a("div",Qh,[e("div",Wh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:_,type:"button",class:"mb-2 btn btn-sm btn-success"},Xh)])]),e("div",null,[e("div",Jh,[e("div",Zh,[e("table",ep,[tp,l.value.data.length>0?(t(),a("tbody",sp,[(t(!0),a(N,null,G(l.value.data,(y,j)=>(t(),ne(Ph,{key:y.id,item:y,index:j},null,8,["item","index"]))),128))])):(t(),a("tbody",ap,lp))])])]),(t(!0),a(N,null,G(l.value.data,(y,j)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:y.id,item:y,index:j},[e("div",dp,[e("div",ip,[e("div",cp,[rp,e("span",null,s(y.sitename),1)]),e("div",up,[_p,e("span",null,s(i(ue)(y.taskdate).format("MMMM D, YYYY")),1)]),e("div",mp,[hp,e("span",null,s(y.startdate),1)]),e("div",pp,[vp,e("span",null,s(y.enddate),1)]),e("div",bp,[fp,e("span",null,s(y.tasktype.listtask),1)]),e("div",$p,[gp,e("span",{class:E(["badge",y.remarks==="HIT"?"bg-success":"bg-danger"])},s(y.remarks),3)])])])],8,np))),128))])])]))])]),M(i(Ve),{data:l.value,onPaginationChangePage:U},null,8,["data"])])]),e("div",yp,[e("div",kp,[e("div",xp,[wp,e("div",Cp,[e("div",Sp,[e("div",null,[Mp,M(i(Ae),{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=y=>n.value=y)},null,8,["modelValue"])]),e("div",null,[Up,M(i(Ae),{modelValue:m.value,"onUpdate:modelValue":p[1]||(p[1]=y=>m.value=y)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Dp,e("button",{onClick:F,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64))}};var Ap=be(Vp,[["__scopeId","data-v-1bd69382"]]);const Tp=["checked"],Ep={class:"text-center"},Ip=e("i",{class:"fa fa-edit"},null,-1),Lp=[Ip],Fp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){ce();const r=o,l=k,n=()=>{l("toggleSelection",r.user)};return(m,C)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:n},null,40,Tp)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",Ep,[e("a",{href:"#",onClick:C[0]||(C[0]=ae(U=>m.$emit("editUser",o.user),["prevent"]))},Lp)])]))}},Pp={class:"content"},Yp={class:"container-fluid"},Bp={class:"card"},Np={class:"card-header"},qp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Rp={class:"card-tools"},jp={class:"card-body"},Hp={class:"table-responsive"},Op={class:"table table-bordered table-hover table-sm"},zp=e("th",{style:{width:"10px"}},"#",-1),Gp=e("th",null,"Name",-1),Qp=e("th",null,"Email",-1),Wp=e("th",null,"Registered Date",-1),Kp=e("th",null,"Options",-1),Xp={key:0},Jp={key:1},Zp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ev=[Zp],tv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},sv={class:"modal-dialog modal-sm",role:"document"},av={class:"modal-content"},ov={class:"modal-header"},lv={class:"modal-title",id:"staticBackdropLabel"},nv={key:0},dv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),iv={class:"modal-body"},cv={class:"table table-sm"},rv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),uv={colspan:"5"},_v={class:"custom-control custom-checkbox"},mv=["value","id","checked"],hv=["for"],pv={key:0,class:"table table-sm"},vv={class:"text-danger"},bv={class:"custom-control custom-checkbox"},fv=["value","id"],$v=["for"],gv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),yv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kv={class:"modal-dialog",role:"document"},xv={class:"modal-content"},wv=ve('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Cv={class:"modal-footer"},Sv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Mv={__name:"UserMenuList",setup(o){const k=`${pe().name}`,r=ce(),l=d({data:[]}),n=d(!1),m=d(),C=d(null),U=d(null),_=d([]),F=(I=1)=>{T.get(`/api/users?page=${I}`,{params:{query:p.value}}).then(x=>{l.value=x.data,y.value=[],selectAll.value=!1})},f=I=>{T.get("/api/usermenu",{params:{user_id:I.id}}).then(x=>{se.value=x.data,console.log(x.data)}).catch(x=>{console.log(x)}),n.value=!0,C.value.resetForm(),$("#userFormModal").modal("show"),m.value={id:I.id,username:I.username,email:I.email,first_name:I.first_name,last_name:I.last_name},U.value=m.value.first_name+" "+m.value.last_name},w=()=>{const I={user_id:m.value.id,menu_id:_.value};console.log(I),T.post("/api/usermenu",I).then(x=>{r.success("User Menu Save successfully!")}).catch(x=>{setErrors(x.response.data.errors)})},p=d(null),y=d([]),j=I=>{const x=y.value.indexOf(I.id);x===-1?y.value.push(I.id):y.value.splice(x,1),console.log(y.value)},H=d(null),q=I=>{H.value=I,$("#deleteUserModal").modal("show")},se=d({data:[]});return he(p,we.exports.debounce(()=>{F()},300)),de(()=>{F(),document.title=k}),(I,x)=>(t(),a(N,null,[e("div",Pp,[e("div",Yp,[e("div",Bp,[e("div",Np,[qp,e("div",Rp,[O(e("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=h=>p.value=h),class:"form-control",placeholder:"Search..."},null,512),[[oe,p.value]])])]),e("div",jp,[e("div",Hp,[e("table",Op,[e("thead",null,[e("tr",null,[e("th",null,[O(e("input",{type:"checkbox","onUpdate:modelValue":x[1]||(x[1]=h=>I.selectAll=h),onChange:x[2]||(x[2]=(...h)=>I.selectAllUsers&&I.selectAllUsers(...h))},null,544),[[ge,I.selectAll]])]),zp,Gp,Qp,Wp,Kp])]),l.value.data.length>0?(t(),a("tbody",Xp,[(t(!0),a(N,null,G(l.value.data,(h,g)=>(t(),ne(Fp,{key:h.id,user:h,index:g,onEditUser:f,onConfirmUserDeletion:q,onToggleSelection:j,"select-all":I.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Jp,ev))])])])]),M(i(Ve),{data:l.value,onPaginationChangePage:F},null,8,["data"])])]),e("div",tv,[e("div",sv,[e("div",av,[e("div",ov,[e("h5",lv,[n.value?(t(),a("span",nv,"User Menu for "+s(U.value),1)):V("",!0)]),dv]),M(i($e),{ref_key:"form",ref:C,onSubmit:w,"initial-values":m.value},{default:Z(()=>[e("div",iv,[e("table",cv,[rv,(t(!0),a(N,null,G(se.value,h=>(t(),a("tr",{key:h.menu_id},[e("td",uv,[e("div",_v,[O(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":x[3]||(x[3]=g=>_.value=g),value:h.menu_id,id:"menu_id_"+h.menu_id,checked:h.hasAccess},null,8,mv),[[ge,_.value]]),e("label",{for:"menu_id_"+h.menu_id,class:"custom-control-label"},s(h.menu_title),9,hv)]),h.submenus&&h.submenus.length>0?(t(),a("table",pv,[(t(!0),a(N,null,G(h.submenus,g=>(t(),a("tr",{key:g.id},[e("td",vv,[e("div",bv,[O(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":x[4]||(x[4]=P=>_.value=P),value:g.menu_id,id:"menu_id_"+g.menu_id},null,8,fv),[[ge,_.value]]),e("label",{for:"menu_id_"+g.menu_id,class:"custom-control-label"},s(g.menu_title),9,$v)])])]))),128))])):V("",!0)])]))),128))])]),gv]),_:1},8,["initial-values"])])])]),e("div",yv,[e("div",kv,[e("div",xv,[wv,e("div",Cv,[Sv,e("button",{onClick:x[5]||(x[5]=ae((...h)=>I.deleteUser&&I.deleteUser(...h),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};const Qe=o=>(Se("data-v-8e5d6dd6"),o=o(),Me(),o),Uv=["checked"],Dv=["innerHTML"],Vv={style:{"text-align":"center"}},Av={class:"text-center"},Tv=Qe(()=>e("i",{class:"fa fa-edit"},null,-1)),Ev=[Tv],Iv=Qe(()=>e("i",{class:"fa fa-trash"},null,-1)),Lv=[Iv],Fv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:k}){ce(),ie();const r=o,l=k,n=()=>{l("toggleSelection",r.item)};return(m,C)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:n},null,40,Uv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Dv),e("td",null,s(o.item.sort_order),1),e("td",Vv,[e("i",{class:E({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",Av,[e("button",{class:"btn btn-sm bg-primary",onClick:C[0]||(C[0]=ae(U=>m.$emit("editMenu",o.item),["prevent"]))},Ev),L("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:C[1]||(C[1]=ae(U=>m.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Lv)])]))}};var Pv=be(Fv,[["__scopeId","data-v-8e5d6dd6"]]);const Yv={class:"content"},Bv={class:"container-fluid"},Nv={class:"d-flex justify-content-between"},qv={class:"d-flex"},Rv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),jv={key:0},Hv=e("i",{class:"fa fa-trash mr-1"},null,-1),Ov={class:"ml-2"},zv={class:"card"},Gv={class:"card-body"},Qv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Wv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Kv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Xv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Jv={class:"table-responsive"},Zv={class:"table table-bordered table-sm"},e1=e("th",{style:{width:"10px"}},"#",-1),t1=e("th",null,"Title",-1),s1=e("th",null,"Parent Menu",-1),a1=e("th",null,"Route",-1),o1=e("th",null,"Icon",-1),l1=e("th",null,"Sort",-1),n1=e("th",null,"Active",-1),d1=e("th",null,"Date",-1),i1=e("th",null,"Action",-1),c1={key:0},r1={key:1},u1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),_1=[u1],m1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},h1={class:"modal-dialog modal-sm",role:"document"},p1={class:"modal-content"},v1={class:"modal-header"},b1={class:"modal-title",id:"staticBackdropLabel"},f1={key:0},$1={key:1},g1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),y1={class:"modal-body"},k1={class:"col-md-12"},x1={class:"row"},w1={class:"col-12"},C1={class:"form-group"},S1=e("label",{for:"user"},"Menu Title",-1),M1={class:"invalid-feedback"},U1={class:"form-group"},D1=e("label",{for:"department"},"Parent Menu",-1),V1=e("option",{value:"0"},"None",-1),A1=["value"],T1={class:"form-group"},E1=e("label",{for:"warehouse"},"Icon",-1),I1={class:"invalid-feedback"},L1={class:"form-group"},F1=e("label",{for:"user"},"Route",-1),P1={class:"invalid-feedback"},Y1={class:"form-group"},B1=e("label",{for:"user"},"Sort",-1),N1={class:"invalid-feedback"},q1={class:"form-group"},R1=e("label",{for:"is_active"},"Active",-1),j1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),H1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},O1={class:"modal-dialog",role:"document"},z1={class:"modal-content"},G1=ve('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Q1={class:"modal-footer"},W1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),K1={__name:"MenuList",setup(o){const k=`${pe().name}`,r=ce(),l=d({data:[]}),n=d({data:[]}),m=d(!1),C=d(!1);d();const U=d(!0),_=Ce({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),F=ie();d(null);const f=d(),w=(S=1)=>{m.value=!0,T.get(`/api/menulist?page=${S}`,{params:{query:x.value}}).then(b=>{m.value=!1,l.value=b.data,h.value=[],ee.value=!1})},p=()=>{T.get("/api/GetParentId").then(S=>{n.value=S.data}).catch(S=>{console.error(S)})};fe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),fe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()});const y=S=>{_.is_active=S?1:0},j=({resetForm:S,setErrors:b})=>{T.post("/api/menulist",{menu_title:_.menu_title,parent_id:_.parent_id,menu_icon:_.menu_icon,menu_route:_.menu_route,sort_order:_.sort_order,is_active:_.is_active}).then(v=>{l.value.data.unshift(v.data),$("#FormModal").modal("hide"),S(),r.success("User created successfully!")}).catch(v=>{v.response.data.errors&&b(v.response.data.errors)})},H=()=>{C.value=!1,$("#FormModal").modal("show")},q=S=>{C.value=!0,_.menu_id=S.menu_id,_.menu_title=S.menu_title,_.parent_id=S.parent_id,_.menu_icon=S.menu_icon,_.menu_route=S.menu_route,_.sort_order=S.sort_order,_.is_active===1?U.value=!0:U.value=!1,_.is_active=S.is_active,$("#FormModal").modal("show"),f.value=S.parent_id},se=({setErrors:S})=>{T.post("/api/menulist",_).then(b=>{w(),$("#FormModal").modal("hide"),r.success("successfully Updated!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},I=(S,b)=>{C.value?se(S):j(S)},x=d(null),h=d([]),g=S=>{const b=h.value.indexOf(S.id);b===-1?h.value.push(S.id):h.value.splice(b,1),console.log(h.value)},P=d(null),R=S=>{P.value=S,$("#deleteClientModal").modal("show")},X=()=>{T.delete(`/api/menu/${P.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(S=>S.menu_id!==P.value)})},Q=()=>{T.delete("menulist",{data:{ids:h.value}}).then(S=>{l.value.data=l.value.data.filter(b=>!h.value.includes(b.id)),h.value=[],ee.value=!1,r.success(S.data.message)})},ee=d(!1),_e=()=>{ee.value?h.value=l.value.data.map(S=>S.id):h.value=[],console.log(h.value)};return he([U],S=>{_.is_active=S?1:0}),he(x,we.exports.debounce(()=>{w()},300)),de(()=>{w(),p(),document.title=k}),(S,b)=>(t(),a(N,null,[e("div",Yv,[e("div",Bv,[e("div",Nv,[e("div",qv,[e("button",{onClick:H,type:"button",class:"mb-2 btn btn-primary"},[Rv,L(" Menu ")]),h.value.length>0?(t(),a("div",jv,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Hv,L(" Delete Selected ")]),e("span",Ov,"Selected "+s(h.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[O(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=v=>x.value=v),class:"form-control",placeholder:"Search..."},null,512),[[oe,x.value]])])]),e("div",zv,[e("div",Gv,[m.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Qv,Wv,Kv,Xv]),_:1})):V("",!0),e("div",Jv,[e("table",Zv,[e("thead",null,[e("tr",null,[e("th",null,[O(e("input",{type:"checkbox","onUpdate:modelValue":b[1]||(b[1]=v=>ee.value=v),onChange:_e},null,544),[[ge,ee.value]])]),e1,t1,s1,a1,o1,l1,n1,d1,i1])]),l.value.data.length>0?(t(),a("tbody",c1,[(t(!0),a(N,null,G(l.value.data,(v,c)=>(t(),ne(Pv,{key:v.id,item:v,index:c,onEditMenu:q,onConfirmDeletion:R,onToggleSelection:g,"select-all":ee.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",r1,_1))])])])]),M(i(Ve),{data:l.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",m1,[e("div",h1,[e("div",p1,[e("div",v1,[e("h5",b1,[C.value?(t(),a("span",f1,"Edit Menu")):(t(),a("span",$1,"Add Menu"))]),g1]),M(i($e),{onSubmit:I},{default:Z(({errors:v})=>[e("div",y1,[e("div",k1,[e("div",x1,[e("div",w1,[M(i(W),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(F).user.id,"onUpdate:modelValue":b[2]||(b[2]=c=>i(F).user.id=c)},null,8,["modelValue"]),e("div",C1,[S1,M(i(W),{name:"menu_title",type:"text",class:E(["form-control",{"is-invalid":v.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:_.menu_title,"onUpdate:modelValue":b[3]||(b[3]=c=>_.menu_title=c)},null,8,["class","modelValue"]),e("span",M1,s(v.menu_title),1)]),e("div",U1,[D1,O(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":b[4]||(b[4]=c=>_.parent_id=c)},[V1,(t(!0),a(N,null,G(n.value,c=>(t(),a("option",{key:c.menu_id,value:c.menu_id},s(c.menu_title),9,A1))),128))],512),[[ye,_.parent_id]])]),e("div",T1,[E1,M(i(W),{name:"menu_icon",type:"text",class:E(["form-control",{"is-invalid":v.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:_.menu_icon,"onUpdate:modelValue":b[5]||(b[5]=c=>_.menu_icon=c)},null,8,["class","modelValue"]),e("span",I1,s(v.menu_icon),1)]),e("div",L1,[F1,M(i(W),{name:"menu_route",type:"text",class:E(["form-control",{"is-invalid":v.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:_.menu_route,"onUpdate:modelValue":b[6]||(b[6]=c=>_.menu_route=c)},null,8,["class","modelValue"]),e("span",P1,s(v.menu_route),1)]),e("div",Y1,[B1,M(i(W),{name:"sort_order",type:"text",class:E(["form-control",{"is-invalid":v.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:_.sort_order,"onUpdate:modelValue":b[7]||(b[7]=c=>_.sort_order=c)},null,8,["class","modelValue"]),e("span",N1,s(v.sort_order),1)]),e("div",q1,[R1,O(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":b[8]||(b[8]=c=>U.value=c),onChange:y},null,544),[[ge,U.value]])])])])])]),j1]),_:1})])])]),e("div",H1,[e("div",O1,[e("div",z1,[G1,e("div",Q1,[W1,e("button",{onClick:ae(X,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}},X1={class:"error-page"},J1=ve('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),Z1=[J1],eb="Page Not Found",We={__name:"404",setup(o){return de(()=>{document.title=eb}),(k,r)=>(t(),a("div",X1,Z1))}};const J=o=>(Se("data-v-18d1690e"),o=o(),Me(),o),tb={id:"exportPDF"},sb={class:"container"},ab=J(()=>e("br",null,null,-1)),ob={class:"header"},lb=["src"],nb=["src"],db={class:"header"},ib={class:"header-justify-space-between"},cb=J(()=>e("br",null,null,-1)),rb=J(()=>e("p",null,null,-1)),ub={key:0},_b=J(()=>e("strong",null,null,-1)),mb=J(()=>e("br",null,null,-1)),hb=J(()=>e("br",null,null,-1)),pb=J(()=>e("p",null,null,-1)),vb=J(()=>e("strong",null,"Unit details",-1)),bb={class:"content"},fb={class:"header-justify-space-between"},$b=J(()=>e("span",null,"Brand:",-1)),gb=J(()=>e("br",null,null,-1)),yb=J(()=>e("span",null,"Model:",-1)),kb=J(()=>e("br",null,null,-1)),xb=J(()=>e("div",null,null,-1)),wb=J(()=>e("span",null,"Serial #:",-1)),Cb=J(()=>e("br",null,null,-1)),Sb=J(()=>e("span",null,"Asset Tag:",-1)),Mb=J(()=>e("br",null,null,-1)),Ub=J(()=>e("div",null,null,-1)),Db=J(()=>e("strong",null,"Reported problem",-1)),Vb={class:"content"},Ab=J(()=>e("strong",null,"Assessment conducted",-1)),Tb={class:"content"},Eb=J(()=>e("strong",null,"Recommendation",-1)),Ib={class:"content"},Lb={class:"header-justify-space-between"},Fb=J(()=>e("strong",null,"Evaluated by:",-1)),Pb=J(()=>e("br",null,null,-1)),Yb={class:"botoom-line"},Bb=J(()=>e("br",null,null,-1)),Nb=J(()=>e("p",null,null,-1)),qb=J(()=>e("strong",null,"Noted by:",-1)),Rb=J(()=>e("br",null,null,-1)),jb={class:"botoom-line"},Hb=J(()=>e("br",null,null,-1)),Ob=J(()=>e("br",null,null,-1)),zb=J(()=>e("p",null,null,-1)),Gb={key:0},Qb={key:1},Wb={key:0,class:"fab-container"},Kb=J(()=>e("i",{class:"fas fa-download"},null,-1)),Xb=[Kb],Jb={__name:"TechRecommApprove",setup(o){const k=`${pe().params.id}`,r=()=>{const m=document.getElementById("exportPDF");Ge().from(m).save(`${k}.pdf`)},l=Ce({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),n=()=>{T.get(`/api/tech-recommendations/${pe().params.id}`).then(m=>{l.id=m.data.id,l.recommnum=m.data.recommnum,l.branch=m.data.branch,l.company=m.data.company,l.department=m.data.department,l.warehouse=m.data.warehouse,l.user=m.data.user,l.problem=m.data.problem,l.brand=m.data.brand,l.model=m.data.model,l.assettag=m.data.assettag,l.serialnum=m.data.serialnum,l.status=m.data.status,l.assconducted=m.data.assconducted,l.recommendation=m.data.recommendation,l.createdby=m.data.createdby.cfull_name,l.updatedby=m.data.updatedby.ufull_name,l.created_at=ue(m.data.created_at).format("MMMM D, YYYY"),l.updated_at=ue(m.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=m.data.createdby.cposition,l.updated_position=m.data.updatedby.uposition}).catch(m=>{actions.setErrors(m.response.data.errors)})};return de(()=>{n(),document.title=k}),(m,C)=>(t(),a(N,null,[e("div",tb,[e("div",sb,[ab,e("div",ob,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,lb),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,nb)]),e("div",db,[e("span",null,[L("Recommendation No: "),e("strong",null,s(l.recommnum),1)]),e("span",null,[L("Date Checked: "),e("strong",null,s(l.created_at),1)])]),e("div",ib,[e("div",null,[e("span",null,[L("Company: "),e("strong",null,s(l.company),1)]),cb,e("span",null,[L("Branch: "),e("strong",null,s(l.branch),1)])]),rb,e("div",null,[l.warehouse==""?(t(),a("span",ub,[L("Warehouse: "),_b,L(s(l.warehouse),1)])):V("",!0),mb,e("span",null,[L("User: "),e("strong",null,s(l.user),1)]),hb,e("span",null,[L("Department: "),e("strong",null,s(l.department),1)])]),pb]),vb,e("div",bb,[e("div",fb,[e("div",null,[$b,e("strong",null,s(l.brand),1),gb,yb,e("strong",null,s(l.model),1),kb]),xb,e("div",null,[wb,e("strong",null,s(l.serialnum),1),Cb,Sb,e("strong",null,s(l.assettag),1),Mb]),Ub])]),Db,e("div",Vb,[e("p",null,s(l.problem),1)]),Ab,e("div",Tb,[e("p",null,s(l.assconducted),1)]),Eb,e("div",Ib,[e("p",null,s(l.recommendation),1)]),e("div",Lb,[e("div",null,[Fb,Pb,e("span",Yb,s(l.createdby),1),Bb,e("span",null,s(l.created_position),1)]),Nb,e("div",null,[qb,Rb,e("span",jb,s(l.updatedby),1),Hb,e("span",null,s(l.updated_position),1),Ob]),zb]),l.status===2?(t(),a("span",Gb,"Approved date:("+s(l.updated_at)+")",1)):(t(),a("span",Qb,"Pending"))])]),l.status===2?(t(),a("div",Wb,[e("div",{class:"button iconbutton bg-success",onClick:C[0]||(C[0]=U=>r())},Xb)])):V("",!0)],64))}};var Ke=be(Jb,[["__scopeId","data-v-18d1690e"]]);const Zb={},ef={class:"card mx-auto",style:{"max-width":"600px"}},tf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),sf={class:"card-body"},af={class:"list-unstyled"};function of(o,k){return t(),a("div",ef,[tf,e("div",sf,[e("ul",af,[e("li",{class:"nav-item dropdown",onClick:k[0]||(k[0]=(...r)=>o.fetchNotifications&&o.fetchNotifications(...r))})])])])}var lf=be(Zb,[["render",of]]);const nf=["checked"],df={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:k}){ce(),ie();const r=o,l=k,n=()=>{l("toggleSelection",r.item)};return(m,C)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:n},null,40,nf)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.location),1),e("td",null,s(o.item.paccountable),1)]))}};var cf=be(df,[["__scopeId","data-v-c5620630"]]);const rf={class:"content"},uf={class:"container-fluid"},_f={class:"d-flex justify-content-between"},mf={class:"d-flex"},hf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),pf={key:0},vf=e("i",{class:"fa fa-trash mr-1"},null,-1),bf={class:"ml-2"},ff={class:"card"},$f={class:"card-body"},gf=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),yf=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),kf=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),xf=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),wf={class:"table-responsive"},Cf={class:"table table-bordered table-sm table-striped hover"},Sf=e("th",{style:{width:"10px"}},"#",-1),Mf=e("th",null,"Asset",-1),Uf=e("th",null,"Asset type",-1),Df=e("th",null,"Serial",-1),Vf=e("th",null,"Date Aquired",-1),Af=e("th",null,"Suppliear",-1),Tf=e("th",null,"Unit",-1),Ef=e("th",null,"Location",-1),If={key:0},Lf={key:1},Ff=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Pf=[Ff],Yf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Bf={class:"modal-dialog modal-sm",role:"document"},Nf={class:"modal-content"},qf={class:"modal-header"},Rf={class:"modal-title",id:"staticBackdropLabel"},jf={key:0},Hf={key:1},Of=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),zf={class:"modal-body"},Gf={class:"col-md-12"},Qf={class:"row"},Wf={class:"col-12"},Kf={class:"form-group"},Xf=e("label",{for:"user"},"Menu Title",-1),Jf={class:"invalid-feedback"},Zf={class:"form-group"},e$=e("label",{for:"department"},"Parent Menu",-1),t$=e("option",{value:"0"},"None",-1),s$=["value"],a$={class:"form-group"},o$=e("label",{for:"warehouse"},"Icon",-1),l$={class:"invalid-feedback"},n$={class:"form-group"},d$=e("label",{for:"user"},"Route",-1),i$={class:"invalid-feedback"},c$={class:"form-group"},r$=e("label",{for:"user"},"Sort",-1),u$={class:"invalid-feedback"},_$={class:"form-group"},m$=e("label",{for:"is_active"},"Active",-1),h$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),p$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},v$={class:"modal-dialog",role:"document"},b$={class:"modal-content"},f$=ve('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),$$={class:"modal-footer"},g$=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),y$={__name:"AssetmList",setup(o){const k=`${pe().name}`,r=ce(),l=d({data:[]}),n=d({data:[]}),m=d(!1),C=d(!1);d();const U=d(!0),_=Ce({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),F=ie();d(null);const f=d(),w=(S=1)=>{m.value=!0,T.get(`/web/asset-monitoring?page=${S}`,{params:{query:x.value}}).then(b=>{m.value=!1,l.value=b.data,h.value=[],ee.value=!1})},p=()=>{T.get("/api/GetParentId").then(S=>{n.value=S.data}).catch(S=>{console.error(S)})};fe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),fe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()});const y=S=>{_.is_active=S?1:0},j=({resetForm:S,setErrors:b})=>{T.post("/api/menulist",{menu_title:_.menu_title,parent_id:_.parent_id,menu_icon:_.menu_icon,menu_route:_.menu_route,sort_order:_.sort_order,is_active:_.is_active}).then(v=>{l.value.data.unshift(v.data),$("#FormModal").modal("hide"),S(),r.success("User created successfully!")}).catch(v=>{v.response.data.errors&&b(v.response.data.errors)})},H=()=>{C.value=!1,$("#FormModal").modal("show")},q=S=>{C.value=!0,_.menu_id=S.menu_id,_.menu_title=S.menu_title,_.parent_id=S.parent_id,_.menu_icon=S.menu_icon,_.menu_route=S.menu_route,_.sort_order=S.sort_order,_.is_active===1?U.value=!0:U.value=!1,_.is_active=S.is_active,$("#FormModal").modal("show"),f.value=S.parent_id},se=({setErrors:S})=>{T.post("/api/menulist",_).then(b=>{w(),$("#FormModal").modal("hide"),r.success("successfully Updated!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},I=(S,b)=>{C.value?se(S):j(S)},x=d(null),h=d([]),g=S=>{const b=h.value.indexOf(S.id);b===-1?h.value.push(S.id):h.value.splice(b,1),console.log(h.value)},P=d(null),R=S=>{P.value=S,$("#deleteClientModal").modal("show")},X=()=>{T.delete(`/api/menu/${P.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(S=>S.menu_id!==P.value)})},Q=()=>{T.delete("menulist",{data:{ids:h.value}}).then(S=>{l.value.data=l.value.data.filter(b=>!h.value.includes(b.id)),h.value=[],ee.value=!1,r.success(S.data.message)})},ee=d(!1),_e=()=>{ee.value?h.value=l.value.data.map(S=>S.id):h.value=[],console.log(h.value)};return he([U],S=>{_.is_active=S?1:0}),he(x,we.exports.debounce(()=>{w()},300)),de(()=>{w(),p(),document.title=k}),(S,b)=>(t(),a(N,null,[e("div",rf,[e("div",uf,[e("div",_f,[e("div",mf,[e("button",{onClick:H,type:"button",class:"mb-2 btn btn-primary"},[hf,L(" Menu ")]),h.value.length>0?(t(),a("div",pf,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[vf,L(" Delete Selected ")]),e("span",bf,"Selected "+s(h.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[O(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=v=>x.value=v),class:"form-control",placeholder:"Search..."},null,512),[[oe,x.value]])])]),e("div",ff,[e("div",$f,[m.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[gf,yf,kf,xf]),_:1})):V("",!0),e("div",wf,[e("table",Cf,[e("thead",null,[e("tr",null,[e("th",null,[O(e("input",{type:"checkbox","onUpdate:modelValue":b[1]||(b[1]=v=>ee.value=v),onChange:_e},null,544),[[ge,ee.value]])]),Sf,Mf,Uf,Df,Vf,Af,Tf,Ef])]),l.value.data.length>0?(t(),a("tbody",If,[(t(!0),a(N,null,G(l.value.data,(v,c)=>(t(),ne(cf,{key:v.id,item:v,index:c,onEditMenu:q,onConfirmDeletion:R,onToggleSelection:g,"select-all":ee.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Lf,Pf))])])])]),M(i(Ve),{data:l.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",Yf,[e("div",Bf,[e("div",Nf,[e("div",qf,[e("h5",Rf,[C.value?(t(),a("span",jf,"Edit Menu")):(t(),a("span",Hf,"Add Menu"))]),Of]),M(i($e),{onSubmit:I},{default:Z(({errors:v})=>[e("div",zf,[e("div",Gf,[e("div",Qf,[e("div",Wf,[M(i(W),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(F).user.id,"onUpdate:modelValue":b[2]||(b[2]=c=>i(F).user.id=c)},null,8,["modelValue"]),e("div",Kf,[Xf,M(i(W),{name:"menu_title",type:"text",class:E(["form-control",{"is-invalid":v.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:_.menu_title,"onUpdate:modelValue":b[3]||(b[3]=c=>_.menu_title=c)},null,8,["class","modelValue"]),e("span",Jf,s(v.menu_title),1)]),e("div",Zf,[e$,O(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":b[4]||(b[4]=c=>_.parent_id=c)},[t$,(t(!0),a(N,null,G(n.value,c=>(t(),a("option",{key:c.menu_id,value:c.menu_id},s(c.menu_title),9,s$))),128))],512),[[ye,_.parent_id]])]),e("div",a$,[o$,M(i(W),{name:"menu_icon",type:"text",class:E(["form-control",{"is-invalid":v.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:_.menu_icon,"onUpdate:modelValue":b[5]||(b[5]=c=>_.menu_icon=c)},null,8,["class","modelValue"]),e("span",l$,s(v.menu_icon),1)]),e("div",n$,[d$,M(i(W),{name:"menu_route",type:"text",class:E(["form-control",{"is-invalid":v.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:_.menu_route,"onUpdate:modelValue":b[6]||(b[6]=c=>_.menu_route=c)},null,8,["class","modelValue"]),e("span",i$,s(v.menu_route),1)]),e("div",c$,[r$,M(i(W),{name:"sort_order",type:"text",class:E(["form-control",{"is-invalid":v.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:_.sort_order,"onUpdate:modelValue":b[7]||(b[7]=c=>_.sort_order=c)},null,8,["class","modelValue"]),e("span",u$,s(v.sort_order),1)]),e("div",_$,[m$,O(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":b[8]||(b[8]=c=>U.value=c),onChange:y},null,544),[[ge,U.value]])])])])])]),h$]),_:1})])])]),e("div",p$,[e("div",v$,[e("div",b$,[f$,e("div",$$,[g$,e("button",{onClick:ae(X,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var k$=[{path:"/login",name:"admin.login",component:Fn},{path:"/admin/dashboard",name:"Dashboard",component:Mt},{path:"/admin/appointments",name:"Appointments",component:Qt},{path:"/admin/appointments/create",name:"Appointments",component:He},{path:"/admin/appointments/:id/edit",name:"Appointments",component:He},{path:"/admin/user",name:"User",component:Ao},{path:"/admin/settings",name:"Setting",component:xl},{path:"/admin/profile",name:"Profile",component:bn},{path:"/admin/client",name:"Client",component:Id},{path:"/admin/tech-recommendation",name:"Tech Recomm",component:Zc},{path:"/admin/weekly-task-schedule/myprio",name:"My Prio",component:tm},{path:"/admin/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Ap},{path:"/admin/weekly-task-schedule/myvsc",name:"My VSC",component:Ih},{path:"/admin/usermenu",name:"User Menu",component:Mv},{path:"/admin/menu",name:"Menu",component:K1},{path:"/:catchAll(.*)",name:"404 Error Page",component:We},{path:"/admin/notifications",name:"Notifications",component:lf},{path:"/admin/tech-approved/:id/view",name:"Tech-Approved",component:Ke},{path:"/asset-monitoring",name:"Asset Monitoring",component:y$}];const x$={class:"navbar-nav"},w$=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),C$={class:"nav-item d-none d-sm-inline-block"},S$={class:"navbar-nav ml-auto"},M$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),U$=ve('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),D$={class:"nav-link","data-toggle":"dropdown",href:"#"},V$=e("i",{class:"far fa-bell"},null,-1),A$={class:"badge badge-warning navbar-badge"},T$={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},E$={class:"dropdown-header"},I$=e("div",{class:"dropdown-divider"},null,-1),L$=e("i",{class:"fas fa-envelope mr-2"},null,-1),F$={class:"float-right text-muted text-sm"},P$={key:1,class:"text-center text-muted py-3"},Y$=e("div",{class:"dropdown-divider"},null,-1),B$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),N$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),q$={__name:"AppNavbar",setup(o){const k=Te(),r=d([]),l=()=>{T.get("/api/notifications").then(n=>{r.value=n.data.notifications}).catch(n=>{console.error("Error fetching notifications",n)})};return de(()=>{l()}),(n,m)=>{const C=De("router-link");return t(),a("nav",{class:E(["main-header navbar navbar-expand",i(k).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",x$,[w$,e("li",C$,[e("a",{onClick:m[0]||(m[0]=ae((...U)=>i(k).changeTheme&&i(k).changeTheme(...U),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:E(["far",i(k).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",S$,[M$,U$,e("li",{class:"nav-item dropdown",onClick:l},[e("a",D$,[V$,e("span",A$,s(r.value.length),1)]),e("div",T$,[e("span",E$,s(r.value.length)+" Notifications",1),I$,r.value.length>0?(t(!0),a(N,{key:0},G(r.value,U=>(t(),a("a",{key:U.id,href:"#",class:"dropdown-item"},[L$,L(" "+s(U.data?U.data:"No message available")+" ",1),e("span",F$,s(i(ue)(U.created_at)),1)]))),128)):(t(),a("p",P$,"No new notifications")),Y$,M(C,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[L("See All Notifications")]),_:1})])]),B$,N$])],2)}}},R$={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},j$={href:"#",class:"brand-link"},H$=["src"],O$={class:"brand-text font-weight-light"},z$={class:"sidebar"},G$={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Q$={key:0,class:"image"},W$=["src"],K$={key:1,class:"image"},X$=["src"],J$=["src"],Z$={class:"info"},eg={href:"#",class:"d-block"},tg={class:"mt-2"},sg={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},ag={key:0,class:"right fas fa-angle-left"},og={key:0,class:"nav nav-treeview"},lg={class:"nav-item"},ng={class:"nav-link"},dg=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),ig=e("p",null,"Logout",-1),cg=[dg,ig],rg={__name:"SidebarLeft",setup(o){const k=Ne(),r=ie(),l=Te(),n=d({data:[]}),m=()=>{axios.get("/api/menu").then(_=>{n.value=_.data}).catch(_=>{console.log(_)})},C=_=>_===k.currentRoute.value.path,U=()=>{axios.post("/logout").then(_=>{r.user.name="",k.push("/login")})};return de(()=>{$('[data-widget="treeview"]').Treeview("init"),m()}),(_,F)=>{const f=De("router-link");return t(),a("aside",R$,[e("a",j$,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,H$),e("span",O$,s(i(l).setting.app_name),1)]),e("div",z$,[e("div",G$,[i(r).user.avatar===""?(t(),a("div",Q$,[e("img",{src:i(r).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,W$)])):i(r).user.avatar!==""?(t(),a("div",K$,[i(r).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,X$)):i(r).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,J$)):V("",!0)])):V("",!0),e("div",Z$,[e("a",eg,s(i(r).user.name),1)])]),e("nav",tg,[e("ul",sg,[(t(!0),a(N,null,G(n.value,w=>(t(),a("li",{key:w.id,class:E({"nav-item":!0,"has-submenu":w.submenus&&w.submenus.length>0})},[M(f,{class:E({"nav-link":!0,active:C(w.menu_route)}),to:`${w.menu_route}`},{default:Z(()=>[e("i",{class:E("nav-icon "+w.menu_icon)},null,2),e("p",null,s(w.menu_title),1),w.submenus&&w.submenus.length>0?(t(),a("i",ag)):V("",!0)]),_:2},1032,["class","to"]),w.submenus&&w.submenus.length>0?(t(),a("ul",og,[(t(!0),a(N,null,G(w.submenus,p=>(t(),a("li",{key:p.id,class:"nav-item"},[M(f,{class:E({"nav-link":!0,active:C(p.menu_route)}),to:p.menu_route},{default:Z(()=>[e("i",{class:E("nav-icon "+p.menu_icon)},null,2),e("p",null,s(p.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):V("",!0)],2))),128)),e("li",lg,[e("form",ng,[e("a",{href:"#",onClick:ae(U,["prevent"])},cg)])])])])])])}}},ug={},_g={class:"control-sidebar control-sidebar-dark"},mg=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),hg=[mg];function pg(o,k){return t(),a("aside",_g,hg)}var vg=be(ug,[["render",pg]]);const bg={class:"main-footer"},fg={class:"float-right d-none d-sm-block"},$g={href:"#"},gg={__name:"AppFooter",props:{settings:Object},setup(o){const k=ie(),r=d(new Date().getFullYear());return(l,n)=>{var m;return t(),a("footer",bg,[e("div",fg,s(i(k).user.name),1),e("strong",null,[L("Copyright \xA9 "+s(r.value)+" ",1),e("a",$g,s((m=o.settings)==null?void 0:m.app_name),1),L(".")]),L(" All rights reserved. ")])}}};const yg=o=>(Se("data-v-36653638"),o=o(),Me(),o),kg={class:"content-wrapper"},xg={class:"content-header"},wg={class:"container-fluid"},Cg={class:"row mb-2"},Sg={class:"col-sm-6"},Mg={class:"m-0"},Ug={class:"col-sm-6"},Dg={class:"breadcrumb float-sm-right"},Vg=yg(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Ag={class:"breadcrumb-item active"},Tg={__name:"CustomMainLayout",setup(o){const k=ie(),r=Te(),l=ke(()=>r.theme==="dark"?"dark-mode":"");return(n,m)=>{const C=De("router-view");return i(k).user.name!==""?(t(),a("div",{key:0,class:E(["wrapper",l.value])},[M(q$),M(rg),M(vg),e("div",kg,[e("section",xg,[e("div",wg,[e("div",Cg,[e("div",Sg,[e("h1",Mg,s(n.$route.name),1)]),e("div",Ug,[e("ol",Dg,[Vg,e("li",Ag,s(n.$route.name),1)])])])])]),M(C)]),M(gg)],2)):(t(),a("div",{key:1,class:E(["login-page slibg",l.value])},[M(C)],2))}}};var Eg=be(Tg,[["__scopeId","data-v-36653638"]]);const Ig={__name:"App",setup(o){ie();const k=pe(),r=ke(()=>k.name==="Tech-Approved"),l=ke(()=>k.name==="404 Error Page");return(n,m)=>(t(),a("div",null,[!l.value&&!r.value?(t(),ne(Eg,{key:0})):r.value?(t(),ne(Ke,{key:1})):(t(),ne(We,{key:2}))]))}};var Lg=be(Ig,[["__scopeId","data-v-252b567e"]]);const Fg=nt(),Ee=rt(Lg),Xe=dt({routes:k$,history:it()});Xe.beforeEach(async(o,k)=>{const r=ie();if(r.user.name===""&&o.name!=="admin.login"){const l=Te();await Promise.all([r.getAuthUser(),l.getSetting()])}});Ee.use(Fg);Ee.use(Xe);Ee.use(gt);Ee.use(Ge);Ee.mount("#app");
