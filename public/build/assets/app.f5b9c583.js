import{_ as at,l as xe}from"./lodash.6f1dd969.js";import{a as A}from"./axios.82d3905a.js";import{a as ot}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.6c11729d.js";import{d as Oe,c as lt}from"./pinia.177553b5.js";import{u as Ve,a as Ne,c as nt,b as dt}from"./vue-router.5b9d2a42.js";import{r as d,o as ue,i as a,k as e,x as s,_ as C,u as i,e as t,I as ye,h as te,j as T,F as R,q as O,d as Ue,a0 as ae,v as L,C as we,a2 as H,a3 as le,a7 as ge,p as V,w as he,a8 as $e,a9 as pe,f as de,a5 as Ce,a6 as Se,B as it,a1 as Ye,aa as ct}from"./@vue.4ae0f184.js";import{B as rt}from"./vue-chartjs.a660a76a.js";import{C as ut,p as _t,a as mt,b as ht,c as pt,d as vt,L as bt}from"./chart.js.562acd0f.js";import{S as je}from"./sweetalert2.ef56b979.js";import{t as Fe}from"./toastr.94171567.js";import{F as fe,a as Q}from"./vee-validate.2167efee.js";import{f as ze}from"./flatpickr.181c7977.js";import{c as be,a as Y}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as _e}from"./moment.40bc58bf.js";import{a as De}from"./laravel-vue-pagination.441da446.js";import{C as ke}from"./vue-content-loader.1bd220f1.js";import"./dompurify.5fe4b1c1.js";import{u as ft}from"./@vueuse.38a26bf2.js";import{L as Ae}from"./vue3-datepicker.d98707a6.js";import{h as Be}from"./html2canvas.c4a43e03.js";import{h as Ge}from"./html2pdf.js.44b835e5.js";import{V as $t}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=at;window.axios=A;window.$=window.jQuery=ot;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ie=Oe("AuthUserStore",()=>{const o=d({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await A.get("/api/profile").then(n=>{o.value=n.data})}}}),gt={class:"content"},yt={class:"container-fluid"},kt={class:"card"},xt={class:"card-header"},wt={class:"card-body"},Ct=e("div",{class:"row"},null,-1),St={__name:"Dashboard",setup(o){ut.register(_t,mt,ht,pt,vt,bt);const r=`${Ve().name}`;ie(),d("all"),d(0);const n=d(new Date().getFullYear()),l=d({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),c=()=>{axios.get("/api/chart").then(E=>{E.data,l.value=E.data}).catch(E=>{console.error("Error fetching chart data:",E)})},b=d("today"),x=d(0),v=()=>{axios.get("/api/stats/users",{params:{date_range:b.value}}).then(E=>{x.value=E.data.totalUsersCount})};return ue(()=>{c(),v(),document.title=r}),(E,F)=>(t(),a("div",gt,[e("div",yt,[e("div",kt,[e("div",xt," Yearly Progress - "+s(n.value),1),e("div",wt,[C(i(rt),{data:l.value},null,8,["data"])])]),Ct])]))}},Mt={class:"content"},Ut={class:"container-fluid"},Dt={class:"row"},Vt={class:"col-lg-12"},At={class:"d-flex justify-content-between mb-2"},Et=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),L(" Add New Appointment")],-1),Tt={class:"btn-group"},It=e("span",{class:"mr-1"},"All",-1),Lt={class:"badge badge-pill badge-info"},Ft=["onClick"],Pt={class:"mr-1"},Yt={class:"card"},Bt={class:"card-body"},Nt={class:"table table-bordered"},qt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Rt=e("td",null,null,-1),jt=e("i",{class:"fa fa-edit mr-2"},null,-1),Ht=["onClick"],Ot=e("i",{class:"fa fa-trash text-danger"},null,-1),zt=[Ot],Gt={__name:"ListAppointments",setup(o){const r=d(),n=d([]),l=()=>{A.get("/api/appointment-status").then(F=>{n.value=F.data})},c=d([]),b=F=>{r.value=F;const m={};F&&(m.status=F),A.get("/api/appointments",{params:m}).then(y=>{c.value=y.data,console.log(y)})},x=ye(()=>n.value.map(F=>F.count).reduce((F,m)=>F+m,0)),v=F=>{const m=c.value.data.find(h=>h.id===F).status.name,y=n.value.find(h=>h.name===m);y.count--},E=F=>{je.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(m=>{m.isConfirmed&&A.delete(`/api/appointments/${F}`).then(y=>{v(F),c.value.data=c.value.data.filter(h=>h.id!==F),je.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{b(),l()}),(F,m)=>{const y=Ue("router-link");return t(),a("div",Mt,[e("div",Ut,[e("div",Dt,[e("div",Vt,[e("div",At,[e("div",null,[C(y,{to:"/admin/appointments/create"},{default:te(()=>[Et]),_:1})]),e("div",Tt,[e("button",{onClick:m[0]||(m[0]=h=>b()),type:"button",class:T(["btn",[typeof r.value=="undefined"?"btn-secondary":"btn-default"]])},[It,e("span",Lt,s(x.value),1)],2),(t(!0),a(R,null,O(n.value,h=>(t(),a("button",{onClick:M=>b(h.value),type:"button",class:T(["btn",[r.value===h.value?"btn-secondary":"btn-default"]])},[e("span",Pt,s(h.name),1),e("span",{class:T(["badge badge-pill",`badge-${h.color}`])},s(h.count),3)],10,Ft))),256))])]),e("div",Yt,[e("div",Bt,[e("table",Nt,[qt,e("tbody",null,[(t(!0),a(R,null,O(c.value.data,(h,M)=>(t(),a("tr",{key:h.id},[e("td",null,s(M+1),1),e("td",null,s(h.client.first_name)+" "+s(h.client.last_name),1),e("td",null,s(h.start_time),1),e("td",null,s(h.end_time),1),Rt,e("td",null,[C(y,{to:`/admin/appointments/${h.id}/edit`},{default:te(()=>[jt]),_:2},1032,["to"]),e("a",{href:"#",onClick:ae(J=>E(h.id),["prevent"])},zt,8,Ht)])]))),128))])])])])])])])])}}};function ce(){return Fe.options.positionClass="toast-top-right",Fe.options.closeButton=!0,Fe.options.progressBar=!0,Fe}const Qt={class:"content-header"},Wt={class:"container-fluid"},Kt={class:"row mb-2"},Xt={class:"col-sm-6"},Jt={class:"m-0"},Zt={key:0},es={key:1},ts={class:"col-sm-6"},ss={class:"breadcrumb float-sm-right"},as={class:"breadcrumb-item"},os={class:"breadcrumb-item"},ls={class:"breadcrumb-item active"},ns={key:0},ds={key:1},is={class:"content"},cs={class:"container-fluid"},rs={class:"row"},us={class:"col-lg-12"},_s={class:"card"},ms={class:"card-body"},hs={class:"row"},ps={class:"col-md-6"},vs={class:"form-group"},bs=e("label",{for:"title"},"Title",-1),fs={class:"invalid-feedback"},$s={class:"col-md-6"},gs={class:"form-group"},ys=e("label",{for:"client"},"Client Name",-1),ks=["value"],xs={class:"invalid-feedback"},ws={class:"row"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ms=e("label",{for:"start-time"},"Start Time",-1),Us={class:"invalid-feedback"},Ds={class:"col-md-6"},Vs={class:"form-group"},As=e("label",{for:"end-time"},"End Time",-1),Es={class:"invalid-feedback"},Ts={class:"form-group"},Is=e("label",{for:"description"},"Description",-1),Ls={class:"invalid-feedback"},Fs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),He={__name:"AppointmentForm",setup(o){const r=Ne(),n=Ve(),l=ce(),c=we({title:"",client_id:"",start_time:"",end_time:"",description:""}),b=(h,M)=>{y.value?v(h,M):x(h,M)},x=(h,M)=>{A.post("/api/appointments/create",c).then(J=>{r.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(J=>{M.setErrors(J.response.data.errors)})},v=(h,M)=>{A.put(`/api/appointments/${n.params.id}/edit`,c).then(J=>{r.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(J=>{M.setErrors(J.response.data.errors)})},E=d(),F=()=>{A.get("/api/view-clients").then(h=>{E.value=h.data})},m=()=>{A.get(`/api/appointments/${n.params.id}/edit`).then(({data:h})=>{c.title=h.title,c.client_id=h.client_id,c.start_time=h.formatted_start_time,c.end_time=h.formatted_end_time,c.description=h.description})},y=d(!1);return ue(()=>{n.name==="admin.appointments.edit"&&(y.value=!0,m()),ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),F()}),(h,M)=>{const J=Ue("router-link");return t(),a(R,null,[e("div",Qt,[e("div",Wt,[e("div",Kt,[e("div",Xt,[e("h1",Jt,[y.value?(t(),a("span",Zt,"Edit")):(t(),a("span",es,"Create")),L(" Appointment")])]),e("div",ts,[e("ol",ss,[e("li",as,[C(J,{to:"/admin/dashboard"},{default:te(()=>[L("Home")]),_:1})]),e("li",os,[C(J,{to:"/admin/appointments"},{default:te(()=>[L("Appointments")]),_:1})]),e("li",ls,[y.value?(t(),a("span",ns,"Edit")):(t(),a("span",ds,"Create"))])])])])])]),e("div",is,[e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[e("div",ms,[C(i(fe),{onSubmit:b},{default:te(({errors:N})=>[e("div",hs,[e("div",ps,[e("div",vs,[bs,H(e("input",{"onUpdate:modelValue":M[0]||(M[0]=z=>c.title=z),type:"text",class:T(["form-control",{"is-invalid":N.title}]),id:"title",placeholder:"Enter Title"},null,2),[[le,c.title]]),e("span",fs,s(N.title),1)])]),e("div",$s,[e("div",gs,[ys,H(e("select",{"onUpdate:modelValue":M[1]||(M[1]=z=>c.client_id=z),id:"client",class:T(["form-control",{"is-invalid":N.client_id}])},[(t(!0),a(R,null,O(E.value,z=>(t(),a("option",{value:z.id,key:z.id},s(z.first_name)+" "+s(z.last_name),9,ks))),128))],2),[[ge,c.client_id]]),e("span",xs,s(N.client_id),1)])])]),e("div",ws,[e("div",Cs,[e("div",Ss,[Ms,H(e("input",{"onUpdate:modelValue":M[2]||(M[2]=z=>c.start_time=z),type:"text",class:T(["form-control flatpickr",{"is-invalid":N.start_time}]),id:"start-time"},null,2),[[le,c.start_time]]),e("span",Us,s(N.start_time),1)])]),e("div",Ds,[e("div",Vs,[As,H(e("input",{"onUpdate:modelValue":M[3]||(M[3]=z=>c.end_time=z),type:"text",class:T(["form-control flatpickr",{"is-invalid":N.end_time}]),id:"end-time"},null,2),[[le,c.end_time]]),e("span",Es,s(N.end_time),1)])])]),e("div",Ts,[Is,H(e("textarea",{"onUpdate:modelValue":M[4]||(M[4]=z=>c.description=z),class:T(["form-control",{"is-invalid":N.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[le,c.description]]),e("span",Ls,s(N.description),1)]),Fs]),_:1})])])])])])])],64)}}},Ps=["checked"],Ys=["value","selected"],Bs=["value","selected"],Ns=e("i",{class:"fa fa-edit"},null,-1),qs=[Ns],Rs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),js=[Rs],Hs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:r}){const n=ce(),l=o,c=r,b=d([{name:"ADMIN",value:1},{name:"USER",value:2}]),x=d([]),v=()=>{A.get("/api/users/userlist").then(y=>{x.value=y.data}).catch(y=>{console.log(y)})},E=(y,h)=>{A.patch(`/api/users/${y.id}/change-role`,{role:h}).then(()=>{n.success("Role changed successfully!")})},F=(y,h)=>{A.patch(`/api/users/${y.id}/change-sitehead`,{sitehead_user_id:h}).then(()=>{n.success("Sitehead changed successfully!")})},m=()=>{c("toggleSelection",l.user)};return ue(()=>{v()}),(y,h)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:m},null,40,Ps)):V("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:h[0]||(h[0]=M=>E(o.user,M.target.value))},[(t(!0),a(R,null,O(b.value,M=>(t(),a("option",{key:M.id,value:M.value,selected:o.user.role===M.name},s(M.name),9,Ys))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:h[1]||(h[1]=M=>F(o.user,M.target.value))},[(t(!0),a(R,null,O(x.value,M=>(t(),a("option",{key:M.id,value:M.id,selected:o.user.sitehead_user_id===M.id},s(M.first_name+" "+M.last_name),9,Bs))),128))],32)):V("",!0)]),e("td",null,[e("a",{href:"#",onClick:h[2]||(h[2]=ae(M=>y.$emit("editUser",o.user),["prevent"]))},qs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:h[3]||(h[3]=ae(M=>y.$emit("confirmUserDeletion",o.user.id),["prevent"]))},js)):V("",!0)])]))}},Os={class:"content"},zs={class:"container-fluid"},Gs={class:"d-flex justify-content-between mb-2"},Qs={class:"d-flex"},Ws=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Ks={key:0},Xs=e("i",{class:"fa fa-trash mr-1"},null,-1),Js={class:"ml-2"},Zs={class:"card"},ea={class:"card-body"},ta={class:"dispatch-table"},sa={class:"table-responsive"},aa={class:"table table-bordered table-hover table-sm"},oa=e("th",{style:{width:"10px"}},"#",-1),la=e("th",null,"Name",-1),na=e("th",null,"Email",-1),da=e("th",null,"Registered Date",-1),ia=e("th",null,"Role",-1),ca=e("th",null,"Head",-1),ra=e("th",null,"Action",-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[ma],pa=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Ma=["value","selected"],Ua=e("hr",null,null,-1),Da={class:"row"},Va={key:0,class:"col"},Aa=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],Ia=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),La=[Ia],Fa={key:1,class:"col"},Pa=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ba={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Na={class:"modal-dialog",role:"document"},qa={class:"modal-content"},Ra={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Ha={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},ho={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Mo=pe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Do=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vo={__name:"UserList",setup(o){const r=ie(),n=ce(),l=d({data:[]}),c=d(!1),b=d(),x=d(null);d([]),d(null);const v=d([{name:"Male",value:1},{name:"Female",value:2}]),E=(f=1)=>{A.get(`/api/users?page=${f}`,{params:{query:p.value}}).then(S=>{l.value=S.data,k.value=[],se.value=!1})},F=be({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().required().min(8),gender:Y().required()}),m=be({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().when((f,S)=>f?S.required().min(8):S),gender:Y().required()}),y=d([]),h=()=>{A.get("/api/users/userlist").then(f=>{y.value=f.data}).catch(f=>{console.log(f)})},M=(f,S)=>{A.patch(`/api/users/${f.id}/change-sitehead`,{sitehead_user_id:S}).then(()=>{n.success("Sitehead changed successfully!")})},J=(f,{resetForm:S,setErrors:u})=>{A.post("/api/users",f).then(U=>{l.value.data.unshift(U.data),$("#userFormModal").modal("hide"),S(),n.success("User created successfully!")}).catch(U=>{U.response.data.errors&&(u(U.response.data.errors),n.warning(U.response.data.errors.name))})},N=()=>{c.value=!1,$("#userFormModal").modal("show")},z=f=>{c.value=!0,x.value.resetForm(),$("#userFormModal").modal("show"),b.value={id:f.id,name:f.name,email:f.email,sitehead_user_id:f.sitehead_user_id,first_name:f.first_name,last_name:f.last_name,gender:f.gender}},I=(f,{setErrors:S})=>{A.put("/api/users/"+b.value.id,f).then(u=>{const U=l.value.data.findIndex(oe=>oe.id===u.data.id);l.value.data[U]=u.data,$("#userFormModal").modal("hide"),n.success("User updated successfully!")}).catch(u=>{S(u.response.data.errors),console.log(u)})},g=(f,S)=>{c.value?I(f,S):J(f,S)},p=d(null),k=d([]),P=f=>{const S=k.value.indexOf(f.id);S===-1?k.value.push(f.id):k.value.splice(S,1),console.log(k.value)},Z=d(null),K=f=>{Z.value=f,$("#deleteUserModal").modal("show")},X=()=>{A.delete(`/api/users/${Z.value}`).then(()=>{$("#deleteUserModal").modal("hide"),n.success("User deleted successfully!"),l.value.data=l.value.data.filter(f=>f.id!==Z.value)})},j=()=>{A.delete("/api/users",{data:{ids:k.value}}).then(f=>{l.value.data=l.value.data.filter(S=>!k.value.includes(S.id)),k.value=[],se.value=!1,n.success(f.data.message)})},se=d(!1),w=()=>{se.value?k.value=l.value.data.map(f=>f.id):k.value=[],console.log(k.value)};return he(p,xe.exports.debounce(()=>{E()},300)),ue(()=>{E(),h()}),(f,S)=>(t(),a(R,null,[e("div",Os,[e("div",zs,[e("div",Gs,[e("div",Qs,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Ws,L(" User ")]),k.value.length>0?(t(),a("div",Ks,[e("button",{onClick:j,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xs,L(" Delete Selected ")]),e("span",Js,"Selected "+s(k.value.length)+" users",1)])):V("",!0)]),e("div",null,[H(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=u=>p.value=u),class:"form-control",placeholder:"Search..."},null,512),[[le,p.value]])])]),e("div",Zs,[e("div",ea,[e("div",ta,[e("div",sa,[e("table",aa,[e("thead",null,[e("tr",null,[e("th",null,[H(e("input",{type:"checkbox","onUpdate:modelValue":S[1]||(S[1]=u=>se.value=u),onChange:w},null,544),[[$e,se.value]])]),oa,la,na,da,ia,ca,ra])]),l.value.data.length>0?(t(),a("tbody",ua,[(t(!0),a(R,null,O(l.value.data,(u,U)=>(t(),de(Hs,{key:u.id,user:u,index:U,onEditUser:z,onConfirmUserDeletion:K,onToggleSelection:P,"select-all":se.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",_a,ha))])])]),(t(!0),a(R,null,O(l.value.data,(u,U)=>(t(),a("div",{class:"dispatch-list",key:u.id,index:U},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,s(u.first_name+" "+u.last_name),1)]),e("div",ga,[ya,e("span",null,s(u.email),1)]),e("div",ka,[xa,e("span",null,s(u.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[u.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:oe=>M(u,oe.target.value)},[(t(!0),a(R,null,O(y.value,oe=>(t(),a("option",{key:oe.id,value:oe.id,selected:oe.sitehead_user_id===oe.id},s(oe.first_name+" "+oe.last_name),9,Ma))),128))],40,Sa)):V("",!0)])]),Ua,e("div",Da,[i(r).user.role==="ADMIN"?(t(),a("div",Va,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>z(u)},[Ea,L(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:oe=>K(u.id)},La,8,Ta)])):V("",!0),i(r).user.role==="USER"?(t(),a("div",Fa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>z(u)},[Ya,L(" Edit ")],8,Pa)])):V("",!0)])])])],8,pa))),128))])]),C(i(De),{data:l.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",Ba,[e("div",Na,[e("div",qa,[e("div",Ra,[e("h5",ja,[c.value?(t(),a("span",Ha,"Edit User")):(t(),a("span",Oa,"Add New User"))]),za]),C(i(fe),{ref_key:"form",ref:x,onSubmit:g,"validation-schema":c.value?i(m):i(F),"initial-values":b.value},{default:te(({errors:u})=>[e("div",Ga,[e("div",Qa,[Wa,C(i(Q),{name:"name",type:"text",class:T(["form-control",{"is-invalid":u.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,s(u.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,C(i(Q),{name:"email",type:"email",class:T(["form-control",{"is-invalid":u.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,s(u.email),1)])]),e("div",so,[e("div",ao,[oo,C(i(Q),{id:"gender",name:"gender",as:"select",class:T(["form-control",{"is-invalid":u.gender}])},{default:te(()=>[lo,(t(!0),a(R,null,O(v.value,U=>(t(),a("option",{key:U.name,value:U.name},s(U.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,C(i(Q),{name:"first_name",type:"text",class:T(["form-control",{"is-invalid":u.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,s(u.first_name),1)])]),e("div",mo,[e("div",ho,[po,C(i(Q),{name:"last_name",type:"text",class:T(["form-control",{"is-invalid":u.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,s(u.last_name),1)])])]),e("div",bo,[fo,C(i(Q),{name:"position",type:"text",class:T(["form-control",{"is-invalid":u.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,s(u.position),1)]),e("div",go,[yo,C(i(Q),{name:"password",type:"password",class:T(["form-control",{"is-invalid":u.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,s(u.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Mo,e("div",Uo,[Do,e("button",{onClick:ae(X,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var ve=(o,r)=>{const n=o.__vccOpts||o;for(const[l,c]of r)n[l]=c;return n};const Me=o=>(Ce("data-v-340371f4"),o=o(),Se(),o),Ao={class:"content"},Eo={class:"container-fluid"},To={class:"row"},Io={class:"col-md-6"},Lo={class:"card"},Fo=pe('<ul class="nav nav-tabs" id="settingsTabs" data-v-340371f4><li class="nav-item" data-v-340371f4><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-340371f4>General Settings</a></li><li class="nav-item" data-v-340371f4><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-340371f4>Site Settings</a></li></ul>',1),Po={class:"tab-content"},Yo={class:"tab-pane fade show active",id:"general"},Bo={class:"card-body"},No={class:"form-group"},qo=Me(()=>e("label",{for:"appName"},"App Display Name",-1)),Ro={key:0,class:"text-danger text-sm"},jo={class:"form-group"},Ho=Me(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Oo=pe('<option value="m/d/Y" data-v-340371f4> MM/DD/YYYY </option><option value="d/m/Y" data-v-340371f4> DD/MM/YYYY </option><option value="Y-m-d" data-v-340371f4> YYYY-MM-DD </option><option value="F j, Y" data-v-340371f4> Month DD, YYYY </option><option value="j F Y" data-v-340371f4> DD Month YYYY </option>',5),zo=[Oo],Go={key:0,class:"text-danger text-sm"},Qo={class:"form-group"},Wo=Me(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Ko={key:0,class:"text-danger text-sm"},Xo=Me(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),L("Save Changes ")])],-1)),Jo={class:"tab-pane fade",id:"site"},Zo={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},el=Me(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),tl=Me(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),sl={key:0,class:"list-group-item mt-2"},al={class:"d-flex justify-content-between"},ol={class:"d-flex"},ll=["onClick"],nl={class:"d-flex"},dl=["onClick"],il={class:"m-2 list-unstyled"},cl={key:1},rl={key:0,class:"list-group-item mt-2"},ul={class:"d-flex justify-content-between"},_l={class:"d-flex"},ml=["onClick"],hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=Me(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=Me(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const r=d([]),n=ce(),l=d(!0),c=d([]),b=d(!1),x=d(),v=d({id:"",site_name:"",is_active:""}),E=()=>{b.value=!0,axios.get("/api/site").then(I=>{b.value=!1,c.value=I.data}).catch(I=>{console.log(I)})},F=ye(()=>Array.isArray(c.value)?c.value.filter(I=>I.is_active===0):[]),m=ye(()=>F.value.length),y=()=>{l.value=!l.value},h=()=>{var I,g;b.value=!0,axios.post("/api/site",{id:(I=v.value)==null?void 0:I.id,site_name:(g=v.value)==null?void 0:g.site_name,is_active:!0}).then(p=>{E(),v.value={id:null,site_name:"",is_active:!0},n.success(p.data.message),b.value=!1}).catch(p=>{p.response&&p.response.status===422&&(N.value=p.response.data.errors)})},M=I=>{v.value.is_active=I.is_active===1?0:1,axios.post("/api/site",{id:I.id,site_name:I.site_name,is_active:v.value.is_active}).then(g=>{axios.get("/api/site").then(p=>{c.value=p.data}).catch(p=>{console.error("Error fetching tasks:",p),n.error("Error fetching tasks. Please try again.")})}).catch(g=>{console.error("Error adding new task:",g),n.error("Error adding new task. Please try again.")})},J=()=>{axios.get("/api/settings").then(I=>{r.value=I.data})},N=d(),z=()=>{N.value="",axios.post("/api/settings",r.value).then(I=>{n.success("Settings updated successfully!")}).catch(I=>{I.response&&I.response.status===422&&(N.value=I.response.data.errors)})};return ue(()=>{E(),J()}),(I,g)=>(t(),a("div",Ao,[e("div",Eo,[e("div",To,[e("div",Io,[e("div",Lo,[Fo,e("div",Po,[e("div",Yo,[e("form",{onSubmit:g[3]||(g[3]=ae(p=>z(),["prevent"]))},[e("div",Bo,[e("div",No,[qo,H(e("input",{"onUpdate:modelValue":g[0]||(g[0]=p=>r.value.app_name=p),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[le,r.value.app_name]]),N.value&&N.value.app_name?(t(),a("span",Ro,s(N.value.app_name[0]),1)):V("",!0)]),e("div",jo,[Ho,H(e("select",{"onUpdate:modelValue":g[1]||(g[1]=p=>r.value.date_format=p),class:"form-control"},zo,512),[[ge,r.value.date_format]]),N.value&&N.value.date_format?(t(),a("span",Go,s(N.value.date_format[0]),1)):V("",!0)]),e("div",Qo,[Wo,H(e("input",{"onUpdate:modelValue":g[2]||(g[2]=p=>r.value.pagination_limit=p),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[le,r.value.pagination_limit]]),N.value&&N.value.pagination_limit?(t(),a("span",Ko,s(N.value.pagination_limit[0]),1)):V("",!0)])]),Xo],32)]),e("div",Jo,[c.value.length>0?(t(),a("div",Zo,[b.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[el,tl]),_:1})):V("",!0),(t(!0),a(R,null,O(c.value,p=>(t(),a("ul",{class:"list-group",key:p.id},[p.is_active===1?(t(),a("li",sl,[e("div",al,[e("div",ol,[e("i",{onClick:k=>M(p),class:T({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":p.is_active===1,"fa fa-circle text-primary":p.is_active===0}),style:{"font-size":"15px"}},null,10,ll),e("span",{class:T({"font-italic text-red":p.is_active===0,"":p.is_active===1})},s(p.site_name),3)]),e("div",nl,[e("i",{class:"fa fa-pen text-success",onClick:k=>I.edit(p)},null,8,dl)])])])):V("",!0)]))),128)),e("li",il,[m.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:y},[e("i",{class:T(["fa",l.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Deactive List "+s(m.value),1)])):V("",!0)]),l.value?(t(),a("div",cl,[(t(!0),a(R,null,O(c.value,p=>(t(),a("ul",{class:"list-group",key:p.id},[p.is_active===0?(t(),a("li",rl,[e("div",ul,[e("div",_l,[e("i",{onClick:k=>M(p),class:T({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":p.is_active===1,"fa fa-circle text-primary":p.is_active===0}),style:{"font-size":"15px"}},null,10,ml),e("span",{class:T({"font-italic text-red":p.is_active===0,"":p.is_active===1})},[e("del",null,s(p.site_name),1)],2)]),e("div",hl,[p.is_active===1?(t(),a("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:k=>I.edit(p)},null,8,pl)):V("",!0)])])])):V("",!0)]))),128))])):V("",!0)])):(t(),a("div",vl,fl)),C(i(fe),{ref:"form",onSubmit:h,"initial-values":x.value},{default:te(()=>[C(i(Q),{name:"id",modelValue:v.value.id,"onUpdate:modelValue":g[4]||(g[4]=p=>v.value.id=p),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[C(i(Q),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:v.value.site_name,"onUpdate:modelValue":g[5]||(g[5]=p=>v.value.site_name=p),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=ve(yl,[["__scopeId","data-v-340371f4"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Ml={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Dl={class:"text-center"},Vl=["src"],Al={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Il={class:"card"},Ll=pe('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Fl={class:"card-body"},Pl={class:"tab-content"},Yl={class:"tab-pane active",id:"profile"},Bl={class:"form-group row"},Nl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),ql={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},jl={class:"form-group row"},Hl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const r=ie(),n=ce(),l=d([]),c=()=>{axios.put("/api/profile",{name:r.user.name,first_name:r.user.first_name,last_name:r.user.last_name,email:r.user.email,role:r.user.role}).then(m=>{n.success("Profile updated successfully!")}).catch(m=>{m.response&&m.response.status===422&&(l.value=m.response.data.errors)})},b=we({currentPassword:"",password:"",passwordConfirmation:""}),x=()=>{l.value="",axios.post("/api/change-user-password",b).then(m=>{n.success(m.data.message);for(const y in b)b[y]=""}).catch(m=>{m.response&&m.response.status===422&&(l.value=m.response.data.errors)})},v=d(null),E=()=>{v.value.click()},F=m=>{const y=m.target.files[0];r.user.avatar=URL.createObjectURL(y);const h=new FormData;h.append("profile_picture",y),axios.post("/api/upload-profile-image",h).then(M=>{n.success("Image uploaded successfully!")})};return(m,y)=>(t(),a("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Ml,[e("div",Ul,[e("div",Dl,[e("input",{onChange:F,ref_key:"fileInput",ref:v,type:"file",class:"d-none"},null,544),e("img",{onClick:E,class:"profile-user-img img-circle",src:i(r).user.avatar,alt:"User profile picture"},null,8,Vl)]),e("h3",Al,s(i(r).user.name),1),e("p",El,s(i(r).user.role),1)])])]),e("div",Tl,[e("div",Il,[Ll,e("div",Fl,[e("div",Pl,[e("div",Yl,[e("form",{onSubmit:y[4]||(y[4]=ae(h=>c(),["prevent"])),class:"form-horizontal"},[e("div",Bl,[Nl,e("div",ql,[H(e("input",{"onUpdate:modelValue":y[0]||(y[0]=h=>i(r).user.name=h),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[le,i(r).user.name]]),l.value&&l.value.name?(t(),a("span",Rl,s(l.value.name[0]),1)):V("",!0)])]),e("div",jl,[Hl,e("div",Ol,[H(e("input",{"onUpdate:modelValue":y[1]||(y[1]=h=>i(r).user.first_name=h),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[le,i(r).user.first_name]]),l.value&&l.value.first_name?(t(),a("span",zl,s(l.value.first_name[0]),1)):V("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[H(e("input",{"onUpdate:modelValue":y[2]||(y[2]=h=>i(r).user.last_name=h),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[le,i(r).user.last_name]]),l.value&&l.value.last_name?(t(),a("span",Kl,s(l.value.last_name[0]),1)):V("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[H(e("input",{"onUpdate:modelValue":y[3]||(y[3]=h=>i(r).user.email=h),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[le,i(r).user.email]]),l.value&&l.value.email?(t(),a("span",en,s(l.value.email[0]),1)):V("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:ae(x,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[H(e("input",{"onUpdate:modelValue":y[5]||(y[5]=h=>b.currentPassword=h),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[le,b.currentPassword]]),l.value&&l.value.current_password?(t(),a("span",nn,s(l.value.current_password[0]),1)):V("",!0)])]),e("div",dn,[cn,e("div",rn,[H(e("input",{"onUpdate:modelValue":y[6]||(y[6]=h=>b.password=h),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[le,b.password]]),l.value&&l.value.password?(t(),a("span",un,s(l.value.password[0]),1)):V("",!0)])]),e("div",_n,[mn,e("div",hn,[H(e("input",{"onUpdate:modelValue":y[7]||(y[7]=h=>b.passwordConfirmation=h),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[le,b.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),wn={class:"input-group mb-3"},Cn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Sn={class:"row"},Mn={class:"col-12 mb-2"},Un=["disabled"],Dn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Vn=e("span",{class:"sr-only"},"Loading...",-1),An=[Vn],En={key:1},Tn=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"#",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),In="Login",Ln={__name:"Login",setup(o){const r=ce();ie();const n=Ne(),l=we({email:"",password:""}),c=d(!1),b=d(""),x=()=>{c.value=!0,b.value="",A.post("/login",l).then(()=>{n.push("/admin/dashboard"),r.success("Login Success")}).catch(v=>{r.error(v.response.data.message)}).finally(()=>{c.value=!1})};return ue(()=>{document.title=In}),(v,E)=>(t(),a("div",bn,[e("div",fn,[$n,e("div",gn,[b.value?(t(),a("div",yn,s(b.value),1)):V("",!0),e("form",{onSubmit:ae(x,["prevent"])},[e("div",kn,[xn,H(e("input",{"onUpdate:modelValue":E[0]||(E[0]=F=>l.email=F),type:"email",class:"form-control",placeholder:"Email"},null,512),[[le,l.email]])]),e("div",wn,[Cn,H(e("input",{"onUpdate:modelValue":E[1]||(E[1]=F=>l.password=F),type:"password",class:"form-control",placeholder:"Password"},null,512),[[le,l.password]])]),e("div",Sn,[e("div",Mn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:c.value},[c.value?(t(),a("div",Dn,An)):(t(),a("span",En,"Sign In"))],8,Un)])])],32),Tn])])]))}},Fn=["checked"],Pn=e("i",{class:"fa fa-edit"},null,-1),Yn=[Pn],Bn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Nn=[Bn],qn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:r}){ce();const n=o,l=r,c=()=>{l("toggleSelection",n.item)};return(b,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Fn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:x[0]||(x[0]=ae(v=>b.$emit("editUser",o.item),["prevent"]))},Yn),e("a",{href:"#",onClick:x[1]||(x[1]=ae(v=>b.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Nn)])]))}},Rn={class:"content"},jn={class:"container-fluid"},Hn={class:"d-flex justify-content-between"},On={class:"d-flex"},zn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Gn={key:0},Qn=e("i",{class:"fa fa-trash mr-1"},null,-1),Wn={class:"ml-2"},Kn={class:"card"},Xn={class:"card-body"},Jn={class:"table table-bordered"},Zn=e("th",{style:{width:"10px"}},"#",-1),ed=e("th",null,"Name",-1),td=e("th",null,"Email",-1),sd=e("th",null,"Registered Date",-1),ad=e("th",null,"Options",-1),od={key:0},ld={key:1},nd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),dd=[nd],id={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cd={class:"modal-dialog",role:"document"},rd={class:"modal-content"},ud={class:"modal-header"},_d={class:"modal-title",id:"staticBackdropLabel"},md={key:0},hd={key:1},pd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),vd={class:"modal-body"},bd={class:"form-group"},fd=e("label",{for:"fist_name"},"First Name",-1),$d={class:"invalid-feedback"},gd={class:"form-group"},yd=e("label",{for:"last_name"},"Last Name",-1),kd={class:"invalid-feedback"},xd={class:"form-group"},wd=e("label",{for:"email"},"Email",-1),Cd={class:"invalid-feedback"},Sd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Md={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ud={class:"modal-dialog",role:"document"},Dd={class:"modal-content"},Vd=pe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ad={class:"modal-footer"},Ed=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Td={__name:"ClientList",setup(o){const r=ce(),n=d({data:[]}),l=d(!1),c=d(),b=d(null),x=(K=1)=>{A.get(`/api/clients?page=${K}`,{params:{query:J.value}}).then(X=>{n.value=X.data,N.value=[],P.value=!1})},v=be({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),E=be({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),F=(K,{resetForm:X,setErrors:j})=>{A.post("/api/clients",K).then(se=>{n.value.data.unshift(se.data),$("#clientFormModal").modal("hide"),X(),r.success("User created successfully!")}).catch(se=>{se.response.data.errors&&j(se.response.data.errors)})},m=()=>{l.value=!1,$("#clientFormModal").modal("show")},y=K=>{l.value=!0,b.value.resetForm(),$("#clientFormModal").modal("show"),c.value={id:K.id,first_name:K.first_name,last_name:K.last_name,email:K.email}},h=(K,{setErrors:X})=>{A.put("/api/clients/"+c.value.id,K).then(j=>{const se=n.value.data.findIndex(w=>w.id===j.data.id);n.value.data[se]=j.data,$("#clientFormModal").modal("hide"),r.success("Client updated successfully!")}).catch(j=>{X(j.response.data.errors),console.log(j)})},M=(K,X)=>{l.value?h(K,X):F(K,X)},J=d(null),N=d([]),z=K=>{const X=N.value.indexOf(K.id);X===-1?N.value.push(K.id):N.value.splice(X,1),console.log(N.value)},I=d(null),g=K=>{I.value=K,$("#deleteClientModal").modal("show")},p=()=>{A.delete(`/api/clients/${I.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Client deleted successfully!"),n.value.data=n.value.data.filter(K=>K.id!==I.value)})},k=()=>{A.delete("/api/clients",{data:{ids:N.value}}).then(K=>{n.value.data=n.value.data.filter(X=>!N.value.includes(X.id)),N.value=[],P.value=!1,r.success(K.data.message)})},P=d(!1),Z=()=>{P.value?N.value=n.value.data.map(K=>K.id):N.value=[],console.log(N.value)};return he(J,xe.exports.debounce(()=>{x()},300)),ue(()=>{x()}),(K,X)=>(t(),a(R,null,[e("div",Rn,[e("div",jn,[e("div",Hn,[e("div",On,[e("button",{onClick:m,type:"button",class:"mb-2 btn btn-primary"},[zn,L(" Add New Client ")]),N.value.length>0?(t(),a("div",Gn,[e("button",{onClick:k,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Qn,L(" Delete Selected ")]),e("span",Wn,"Selected "+s(N.value.length)+" clients",1)])):V("",!0)]),e("div",null,[H(e("input",{type:"text","onUpdate:modelValue":X[0]||(X[0]=j=>J.value=j),class:"form-control",placeholder:"Search..."},null,512),[[le,J.value]])])]),e("div",Kn,[e("div",Xn,[e("table",Jn,[e("thead",null,[e("tr",null,[e("th",null,[H(e("input",{type:"checkbox","onUpdate:modelValue":X[1]||(X[1]=j=>P.value=j),onChange:Z},null,544),[[$e,P.value]])]),Zn,ed,td,sd,ad])]),n.value.data.length>0?(t(),a("tbody",od,[(t(!0),a(R,null,O(n.value.data,(j,se)=>(t(),de(qn,{key:j.id,item:j,index:se,onEditUser:y,onConfirmUserDeletion:g,onToggleSelection:z,"select-all":P.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",ld,dd))])])]),C(i(De),{data:n.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",id,[e("div",cd,[e("div",rd,[e("div",ud,[e("h5",_d,[l.value?(t(),a("span",md,"Edit Client")):(t(),a("span",hd,"Add New Client"))]),pd]),C(i(fe),{ref_key:"form",ref:b,onSubmit:M,"validation-schema":l.value?i(E):i(v),"initial-values":c.value},{default:te(({errors:j})=>[e("div",vd,[e("div",bd,[fd,C(i(Q),{name:"first_name",type:"text",class:T(["form-control",{"is-invalid":j.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",$d,s(j.first_name),1)]),e("div",gd,[yd,C(i(Q),{name:"last_name",type:"text",class:T(["form-control",{"is-invalid":j.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",kd,s(j.last_name),1)]),e("div",xd,[wd,C(i(Q),{name:"email",type:"email",class:T(["form-control",{"is-invalid":j.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Cd,s(j.email),1)])]),Sd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Md,[e("div",Ud,[e("div",Dd,[Vd,e("div",Ad,[Ed,e("button",{onClick:ae(p,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const qe=o=>(Ce("data-v-36595330"),o=o(),Se(),o),Id={style:{"text-align":"center"}},Ld={key:0},Fd=qe(()=>e("i",{class:"fa fa-edit"},null,-1)),Pd=[Fd],Yd=qe(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Bd=[Yd],Nd={key:1,style:{"text-align":"center"}},qd={key:0},Rd=qe(()=>e("i",{class:"fa fa-edit"},null,-1)),jd=[Rd],Hd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:r}){ce();const n=ie();return(l,c)=>{const b=Ue("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",Id,[o.item.statusid==2?(t(),de(b,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:te(()=>[e("span",{class:T(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):V("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:T(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):V("",!0)]),e("td",null,s(o.item.created_at),1),i(n).user.role==="ADMIN"?(t(),a("td",Ld,[e("a",{href:"#",onClick:c[0]||(c[0]=ae(x=>l.$emit("editUser",o.item),["prevent"]))},Pd),e("a",{href:"#",onClick:c[1]||(c[1]=ae(x=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Bd)])):V("",!0),i(n).user.role==="USER"?(t(),a("td",Nd,[o.item.statusid!=2?(t(),a("div",qd,[o.item.created_by==i(n).user.id?(t(),a("a",{key:0,href:"#",onClick:c[2]||(c[2]=ae(x=>l.$emit("editUser",o.item),["prevent"]))},jd)):V("",!0)])):V("",!0)])):V("",!0)])}}};var Od=ve(Hd,[["__scopeId","data-v-36595330"]]);const zd={class:"content"},Gd={class:"container-fluid"},Qd={class:"d-flex justify-content-between"},Wd={class:"d-flex"},Kd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Xd={key:0},Jd=e("i",{class:"fa fa-trash mr-1"},null,-1),Zd={class:"ml-2"},ei={class:"card"},ti={class:"card-body"},si=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ai=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),oi=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),li=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ni={class:"dispatch-table"},di={class:"table-responsive"},ii={class:"table table-bordered table-sm"},ci=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ri={key:0},ui={key:1},_i=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),mi=[_i],hi=["item","index"],pi={class:"card"},vi={class:"card-body"},bi={class:"list-field"},fi=e("span",{class:"mb-1 dis"},"Tech #:",-1),$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"User:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Branch:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Department:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Created by:",-1),Mi={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Status:",-1),Di={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Ei={class:"row"},Ti={key:0,class:"col"},Ii=["onClick"],Li=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fi=["onClick"],Pi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Yi=[Pi],Bi={key:0,class:"btn btnsm btn-success btn-block"},Ni=e("i",{class:"fa fa-pencil-square-o"},null,-1),qi={key:1,class:"col"},Ri={key:0},ji=["onClick"],Hi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zi={class:"modal-dialog modal-lg",role:"document"},Gi={class:"modal-content"},Qi={class:"modal-header"},Wi={class:"modal-title",id:"staticBackdropLabel"},Ki={key:0},Xi={key:1},Ji=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zi={class:"modal-body"},ec={class:"col-md-12"},tc={class:"row"},sc={class:"col-6"},ac={class:"form-group"},oc=e("label",{for:"branch"},"Branch",-1),lc=e("option",{value:"",disabled:""}," Select Branch ",-1),nc=["value"],dc={class:"invalid-feedback"},ic={class:"form-group"},cc=e("label",{for:"department"},"Department",-1),rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"warehouse"},"warehouse",-1),mc={class:"invalid-feedback"},hc={class:"form-group"},pc=e("label",{for:"user"},"User",-1),vc={class:"invalid-feedback"},bc={class:"col-6"},fc={class:"form-group"},$c=e("label",{for:"brand"},"Brand",-1),gc={class:"form-group"},yc=e("label",{for:"model"},"Model",-1),kc={class:"invalid-feedback"},xc={class:"form-group"},wc=e("label",{for:"assettag"},"Asset tag",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Mc=e("label",{for:"serialnum"},"Serial number",-1),Uc={class:"invalid-feedback"},Dc={class:"col-12"},Vc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Ec={class:"invalid-feedback"},Tc={class:"form-group"},Ic=e("label",{for:"assconducted"},"Assessment conducted",-1),Lc={class:"invalid-feedback"},Fc={class:"form-group"},Pc=e("label",{for:"recommendation"},"Recommendation",-1),Yc={class:"invalid-feedback"},Bc={class:"modal-footer"},Nc={key:0},qc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),jc={class:"dropdown-menu",role:"menu"},Hc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Oc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),zc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gc={class:"modal-dialog",role:"document"},Qc={class:"modal-content"},Wc=pe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Kc={class:"modal-footer"},Xc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Jc={__name:"TechList",setup(o){const r=d(),n=d(),l=ce(),c=d({data:[]});d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const b=`${Ve().name}`,x=()=>{A.get("/api/getsite").then(u=>{n.value=u.data.sites}).catch(u=>{console.log(u)})},v=d(!1),E=d(!1),F=d(),m=we({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),y=ie();d(null);const h=(u=1)=>{v.value=!0,A.get(`/api/tech-recommendations?page=${u}`,{params:{query:P.value}}).then(U=>{v.value=!1,c.value=U.data,Z.value=[],S.value=!1})},M=be({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),J=be({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),N=(u,{resetForm:U,setErrors:oe})=>{A.post("/api/tech-recommendations",u).then(q=>{c.value.data.unshift(q.data),$("#FormModal").modal("hide"),U(),l.success("Data created successfully!")}).catch(q=>{q.response.data.errors&&oe(q.response.data.errors)})},z=()=>{E.value=!1,$("#FormModal").modal("show")},I=()=>{m.id="",m.recommnum="",m.branch="",m.department="",m.warehouse="",m.user="",m.problem="",m.brand="",m.model="",m.assettag="",m.serialnum="",m.assconducted="",m.recommendation="",m.ceated_by=""},g=u=>{r.value=u.id,E.value=!0,I(),m.id=u.id,m.branch=u.branch,m.department=u.department,m.warehouse=u.warehouse,m.user=u.user,m.problem=u.problem,m.brand=u.brand,m.model=u.model,m.assettag=u.assettag,m.serialnum=u.serialnum,m.assconducted=u.assconducted,m.recommendation=u.recommendation,m.ceated_by=u.ceated_by,m.recommnum=u.recommnum,$("#FormModal").modal("show")},p=(u,{setErrors:U})=>{A.put("/api/tech-recommendations/"+u.id,u).then(oe=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(oe=>{U(oe.response.data.errors),console.log(oe)})},k=(u,U)=>{E.value?p(m,U):N(u,U)},P=d(null),Z=d([]),K=u=>{const U=Z.value.indexOf(u.id);U===-1?Z.value.push(u.id):Z.value.splice(U,1),console.log(Z.value)},X=d(null),j=u=>{X.value=u,$("#deleteClientModal").modal("show")},se=()=>{A.delete(`/api/tech-recommendations/${X.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),c.value.data=c.value.data.filter(u=>u.id!==X.value)})},w=()=>{A.delete("/api/tech-recommendations",{data:{ids:Z.value}}).then(u=>{c.value.data=c.value.data.filter(U=>!Z.value.includes(U.id)),Z.value=[],S.value=!1,l.success(u.data.message)})},f=u=>{A.post("/api/tech-getaction",{id:r.value,status:u}).then(U=>{$("#FormModal").modal("hide"),h()}).catch(U=>{console.log(U.message)})},S=d(!1);return he(P,xe.exports.debounce(()=>{h()},300)),ue(()=>{h(),x(),document.title=b}),(u,U)=>{const oe=Ue("router-link");return t(),a(R,null,[e("div",zd,[e("div",Gd,[e("div",Qd,[e("div",Wd,[e("button",{onClick:z,type:"button",class:"mb-2 btn btn-primary"},[Kd,L(" TechRecom ")]),Z.value.length>0?(t(),a("div",Xd,[e("button",{onClick:w,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Jd,L(" Delete Selected ")]),e("span",Zd,"Selected "+s(Z.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[H(e("input",{type:"text","onUpdate:modelValue":U[0]||(U[0]=q=>P.value=q),class:"form-control",placeholder:"Search..."},null,512),[[le,P.value]])])]),e("div",ei,[e("div",ti,[v.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[si,ai,oi,li]),_:1})):V("",!0),e("div",ni,[e("div",di,[e("table",ii,[ci,c.value.data.length>0?(t(),a("tbody",ri,[(t(!0),a(R,null,O(c.value.data,(q,G)=>(t(),de(Od,{key:q.id,item:q,index:G,onEditUser:g,onShowItem:u.viewItem,onConfirmUserDeletion:j,onToggleSelection:K,"select-all":S.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ui,mi))])])]),(t(!0),a(R,null,O(c.value.data,(q,G)=>(t(),a("div",{class:"dispatch-list",key:q.id,item:q,index:G},[e("div",pi,[e("div",vi,[e("div",bi,[fi,e("span",null,[e("b",null,s(q.recommnum),1)])]),e("div",$i,[gi,e("span",null,s(q.user),1)]),e("div",yi,[ki,e("span",null,s(q.branch),1)]),e("div",xi,[wi,e("span",null,s(q.department),1)]),e("div",Ci,[Si,e("span",null,s(q.created_user),1)]),e("div",Mi,[Ui,q.statusid==2?(t(),de(oe,{key:0,to:`/admin/tech-approved/${q.recommnum}/view`,target:"_blank"},{default:te(()=>[e("span",{class:T(["badge",`badge-${q.status.color}`])},s(q.status.name),3)]),_:2},1032,["to"])):V("",!0),q.statusid!=2?(t(),a("span",{key:1,class:T(["badge",`badge-${q.status.color}`])},s(q.status.name),3)):V("",!0)]),e("div",Di,[Vi,e("span",null,s(q.created_at),1)]),Ai,e("div",Ei,[i(y).user.role==="ADMIN"?(t(),a("div",Ti,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>g(q)},[Li,L(" Edit ")],8,Ii),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>j(q.id)},Yi,8,Fi),q.statusid==2?(t(),a("button",Bi,[Ni,L(" Download ")])):V("",!0)])):V("",!0),i(y).user.role==="USER"?(t(),a("div",qi,[q.statusid!=2?(t(),a("div",Ri,[q.created_by==i(y).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>g(q)},[Hi,L(" Edit ")],8,ji)):V("",!0)])):V("",!0)])):V("",!0)])])])],8,hi))),128))])]),C(i(De),{data:c.value,onPaginationChangePage:h},null,8,["data"])])]),e("div",Oi,[e("div",zi,[e("div",Gi,[e("div",Qi,[e("h5",Wi,[E.value?(t(),a("span",Ki,"Edit Tech Recom.")):(t(),a("span",Xi,"Add New Tech Recom."))]),Ji]),C(i(fe),{onSubmit:k,"validation-schema":E.value?i(J):i(M),"initial-values":F.value},{default:te(({errors:q})=>[e("div",Zi,[e("div",ec,[e("div",tc,[e("div",sc,[C(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(y).user.id,"onUpdate:modelValue":U[1]||(U[1]=G=>i(y).user.id=G)},null,8,["modelValue"]),C(i(Q),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:m.recommnum,"onUpdate:modelValue":U[2]||(U[2]=G=>m.recommnum=G)},null,8,["modelValue"]),e("div",ac,[oc,C(i(Q),{as:"select",name:"branch",class:T(["form-control",{"is-invalid":q.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:m.branch,"onUpdate:modelValue":U[3]||(U[3]=G=>m.branch=G)},{default:te(()=>[lc,(t(!0),a(R,null,O(n.value,G=>(t(),a("option",{key:G.site_name,value:G.site_name},s(G.site_name),9,nc))),128))]),_:2},1032,["class","modelValue"]),e("span",dc,s(q.branch),1)]),e("div",ic,[cc,C(i(Q),{name:"department",type:"text",class:T(["form-control",{"is-invalid":q.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:m.department,"onUpdate:modelValue":U[4]||(U[4]=G=>m.department=G)},null,8,["class","modelValue"]),e("span",rc,s(q.department),1)]),e("div",uc,[_c,C(i(Q),{name:"warehouse",type:"text",class:T(["form-control",{"is-invalid":q.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:m.warehouse,"onUpdate:modelValue":U[5]||(U[5]=G=>m.warehouse=G)},null,8,["class","modelValue"]),e("span",mc,s(q.warehouse),1)]),e("div",hc,[pc,C(i(Q),{name:"user",type:"text",class:T(["form-control",{"is-invalid":q.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:m.user,"onUpdate:modelValue":U[6]||(U[6]=G=>m.user=G)},null,8,["class","modelValue"]),e("span",vc,s(q.user),1)])]),e("div",bc,[e("div",fc,[$c,C(i(Q),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:m.brand,"onUpdate:modelValue":U[7]||(U[7]=G=>m.brand=G)},null,8,["modelValue"])]),e("div",gc,[yc,C(i(Q),{name:"model",type:"text",class:T(["form-control",{"is-invalid":q.model}]),id:"model",modelValue:m.model,"onUpdate:modelValue":U[8]||(U[8]=G=>m.model=G),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",kc,s(q.model),1)]),e("div",xc,[wc,C(i(Q),{name:"assettag",type:"text",class:T(["form-control",{"is-invalid":q.assettag}]),id:"assettag",modelValue:m.assettag,"onUpdate:modelValue":U[9]||(U[9]=G=>m.assettag=G),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Cc,s(q.assettag),1)]),e("div",Sc,[Mc,H(e("input",{name:"serialnum",type:"text",class:T(["form-control",{"is-invalid":q.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":U[10]||(U[10]=G=>m.serialnum=G)},null,2),[[le,m.serialnum]]),e("span",Uc,s(q.serialnum),1)])]),e("div",Dc,[e("div",Vc,[Ac,C(i(Q),{name:"problem",as:"textarea",class:T(["form-control",{"is-invalid":q.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:m.problem,"onUpdate:modelValue":U[11]||(U[11]=G=>m.problem=G)},null,8,["class","modelValue"]),e("span",Ec,s(q.problem),1)]),e("div",Tc,[Ic,C(i(Q),{name:"assconducted",as:"textarea",class:T(["form-control",{"is-invalid":q.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:m.assconducted,"onUpdate:modelValue":U[12]||(U[12]=G=>m.assconducted=G)},null,8,["class","modelValue"]),e("span",Lc,s(q.assconducted),1)]),e("div",Fc,[Pc,C(i(Q),{name:"recommendation",as:"textarea",class:T(["form-control",{"is-invalid":q.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:m.recommendation,"onUpdate:modelValue":U[13]||(U[13]=G=>m.recommendation=G)},null,8,["class","modelValue"]),e("span",Yc,s(q.recommendation),1)])])])])]),e("div",Bc,[E.value?(t(),a("div",Nc,[i(y).user.role==="ADMIN"?(t(),a("div",qc,[e("button",{type:"button",onClick:U[14]||(U[14]=G=>f(2)),class:"btn btn-info"}," Approved "),Rc,e("div",jc,[e("span",{onClick:U[15]||(U[15]=G=>f(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:U[16]||(U[16]=G=>f(3)),class:"dropdown-item"},"Disapproved")])])):V("",!0)])):V("",!0),Hc,Oc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",zc,[e("div",Gc,[e("div",Qc,[Wc,e("div",Kc,[Xc,e("button",{onClick:ae(se,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Ee=Oe("SettingStore",()=>{const o=d({app_name:""}),r=ft("SettingStore:theme",d("light"));return{setting:o,getSetting:async()=>{await A.get("/api/settings").then(c=>{o.value=c.data})},theme:r,changeTheme:()=>{r.value=r.value==="light"?"dark":"light"}}});const W=o=>(Ce("data-v-21bb19fc"),o=o(),Se(),o),Zc={class:"content"},er={class:"container-fluid"},tr={class:"card"},sr={class:"card-header"},ar={class:"card-title"},or={class:"card-body"},lr={class:"col-md-12"},nr={class:"d-flex justify-content-between"},dr=W(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ir={class:"d-flex"},cr={class:"col-12",id:"accordion"},rr=W(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ur=W(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),_r=W(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),mr=W(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),hr={key:1},pr={key:0},vr={class:"card card-secondary"},br={class:"card-body d-flex align-items-center justify-content-center"},fr={class:"image-container"},$r=["src"],gr=W(()=>e("div",{class:"overlay"},null,-1)),yr={key:1},kr={class:"card-header bg-white"},xr={class:"card-title"},wr=["href"],Cr=["src"],Sr={class:"card-tools"},Mr=["onClick"],Ur=W(()=>e("i",{class:"fas fa-tasks"},null,-1)),Dr=[Ur],Vr=["disabled","onClick"],Ar=["onClick"],Er=W(()=>e("p",{class:"float-right"},null,-1)),Tr=["id"],Ir={class:"card-body"},Lr={class:"col-md-12"},Fr={class:"dispatch-table"},Pr={class:"row"},Yr={class:"col-4"},Br=W(()=>e("b",null,"Site:",-1)),Nr=W(()=>e("b",null,"Planned Date:",-1)),qr=W(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},jr=W(()=>e("b",null,"Start Date:",-1)),Hr=W(()=>e("b",null,"Accomplished Date:",-1)),Or={class:"closestatus"},zr=W(()=>e("b",{style:{color:"black"}},"Type:",-1)),Gr={class:"col-4"},Qr={class:"ongoing"},Wr=W(()=>e("b",{style:{color:"black"}},"Status:",-1)),Kr=W(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Xr=W(()=>e("b",null,"Remarks:",-1)),Jr={style:{margin:"0.5%"}},Zr=["disabled","onClick"],eu=["onClick","disabled"],tu={class:"dispatch-list"},su={class:"list-group list-group-flush"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u=W(()=>e("hr",null,null,-1)),gu={class:"row"},yu={class:"col"},ku=["onClick"],xu=W(()=>e("i",{class:"fas fa-pen"},null,-1)),wu=["onClick"],Cu=W(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),L(" Drop ")],-1)),Su=[Cu],Mu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uu={class:"modal-dialog modal-dialog-centered",role:"document"},Du={class:"modal-content"},Vu={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Eu={key:0},Tu={key:1},Iu={key:2},Lu=W(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Fu={class:"modal-body"},Pu={class:"col-md-12"},Yu={class:"row"},Bu={class:"col-12"},Nu={class:"form-group"},qu=W(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=W(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),ju=["value"],Hu={key:0,class:"d-flex justify-content-between"},Ou={class:"d-flex"},zu={class:"form-group"},Gu=W(()=>e("label",{for:"end-time"},"Start Date",-1)),Qu={class:"form-group"},Wu=W(()=>e("label",{for:"end-time"},"Hour",-1)),Ku=["value"],Xu=W(()=>e("div",{class:"d-fex"},null,-1)),Ju={key:1,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=W(()=>e("label",{for:"end-time"},"End Date",-1)),s_={class:"form-group"},a_=W(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=W(()=>e("div",{class:"d-fex"},null,-1)),n_={class:"form-group"},d_=W(()=>e("label",{for:"site"},"Task",-1)),i_=W(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),c_=["value"],r_=W(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),u_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},__={class:"modal-dialog modal-sm",role:"document"},m_={class:"modal-content"},h_={class:"modal-header"},p_={class:"modal-title",id:"staticBackdropLabel"},v_=W(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),b_={class:"modal-body"},f_=pe('<ul class="nav nav-tabs" id="myTabs" data-v-21bb19fc><li class="nav-item" data-v-21bb19fc><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-21bb19fc> Todo List</a></li><li class="nav-item" data-v-21bb19fc><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-21bb19fc> Todo</a></li></ul>',1),$_={class:"tab-content"},g_={class:"tab-pane fade show active",id:"todolist"},y_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},k_=W(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_=W(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),w_={key:0,class:"list-group-item mt-2"},C_={class:"d-flex justify-content-between"},S_={class:"d-flex"},M_=["onClick"],U_={class:"d-flex"},D_=["onClick"],V_={class:"m-2 list-unstyled"},A_={key:1},E_={key:0,class:"list-group-item mt-2"},T_={class:"d-flex justify-content-between"},I_={class:"d-flex"},L_=["onClick"],F_={class:"d-flex"},P_=["onClick"],Y_={key:1,class:"mt-2 text-center"},B_=W(()=>e("span",null,"No Todo",-1)),N_=[B_],q_={class:"tab-pane fade",id:"formTask"},R_={class:"col-md-12"},j_={class:"row"},H_={class:"col-12"},O_={class:"m-2",style:{display:"flex","align-items":"center"}},z_=W(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),L("\xA0Save ")])],-1)),G_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Q_={class:"modal-dialog",role:"document"},W_={class:"modal-content"},K_=pe('<div class="modal-header" data-v-21bb19fc><h5 class="modal-title" id="staticBackdropLabel" data-v-21bb19fc><span data-v-21bb19fc>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-21bb19fc><span aria-hidden="true" data-v-21bb19fc>\xD7</span></button></div><div class="modal-body" data-v-21bb19fc><h5 data-v-21bb19fc>Are you sure you want to delete this record ?</h5></div>',2),X_={class:"modal-footer"},J_=W(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Z_={__name:"MyPrio",setup(o){const r=d(!1),n=d(!1),l=it("$swal");Ee();const c=ce(),b=d({data:[]}),x=d([]);d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const v=d();d();const E=d(!0),F=d(!1);d(!1),d();const m=d(),y=d(),h=d(),M=ie();d(null),d(!1);const J=d([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"VSC",value:4},{name:"WORK FROM HOME",value:6}]),N=d(),z=d("1:00 AM"),I=d(),g=d("1:00 AM"),p=d(Array.from({length:24},(D,B)=>{const _=B%12+1,ne=B<12?"AM":"PM";return`${_}:00 ${ne}`})),k=d(Array.from({length:24},(D,B)=>{const _=B%12+1,ne=B<12?"AM":"PM";return`${_}:00 ${ne}`})),P=we({dailytask_id:"",site:"",user_id:M.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});he([N,z],()=>{const D=new Date(N.value),B=D.getFullYear(),_=String(D.getMonth()+1).padStart(2,"0"),ne=String(D.getDate()).padStart(2,"0");P.plandate=`${B}-${_}-${ne} ${z.value}`}),he([N,g],()=>{const D=new Date(N.value);D.getFullYear(),String(D.getMonth()+1).padStart(2,"0"),String(D.getDate()).padStart(2,"0")}),he([I,g],()=>{const D=new Date(I.value),B=D.getFullYear(),_=String(D.getMonth()+1).padStart(2,"0"),ne=String(D.getDate()).padStart(2,"0");P.enddates=`${B}-${_}-${ne} ${g.value}`});const Z=d({id:"",dailytask_id:"",task_name:"",iscompleted:0}),K=()=>{A.get("/api/getsite").then(D=>{v.value=D.data.sites}).catch(D=>{console.log(D)})},X=()=>{r.value=!0,A.get("/api/dailytask",{params:{query:Le.value}}).then(D=>{r.value=!1,b.value=D.data,tt.value=[]})},j=async D=>{(await l({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(r.value=!0,A.put(`/api/dailytask/drop/${D}`).then(_=>{c.success("Data drop successfully!"),r.value=!1,X()}))},se=()=>{$("#FormModalTask").modal("show")},w=D=>{se(),Z.value.dailytask_id=D.dailytask_id,y.value=D.taskdate,h.value=D.startdate,n.value=!0,A.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(B=>{x.value=B.data,se(),n.value=!1}).catch(B=>{console.error("Error fetching tasks:",B)})},f=()=>{n.value=!0,A.post("/api/dailytask/addnewTask",{dailytask_id:Z.value.dailytask_id,task_name:Z.value.task_name,iscompleted:Z.value.iscompleted}).then(D=>{c.success("Data created successfully!"),A.get(`/api/dailytask/${Z.value.dailytask_id}/tasks`).then(B=>{x.value=B.data,n.value=!1}).catch(B=>{console.error("Error fetching tasks:",B),c.error("Error fetching tasks. Please try again.")}),Z.value.task_name=""}).catch(D=>{console.error("Error adding new task:",D),c.error("Error adding new task. Please try again.")})},S=D=>{Z.value.iscompleted=D.iscompleted===1?0:1,A.post("/api/dailytask/addnewTask",{id:D.id,dailytask_id:D.dailytask_id,task_name:D.task_name,iscompleted:Z.value.iscompleted}).then(B=>{A.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(_=>{x.value=_.data}).catch(_=>{console.error("Error fetching tasks:",_),c.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),c.error("Error adding new task. Please try again.")})},u=ye(()=>Array.isArray(x.value)?x.value.filter(D=>D.iscompleted===1):[]),U=ye(()=>u.value.length),oe=()=>{E.value=!E.value},q=D=>{A.delete(`/api/dailytask/deleteTask/${D.id}`).then(B=>{A.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(_=>{x.value=_.data,c.success("Todo successfull Deleted")}).catch(_=>{console.error("Error fetching tasks:",_),c.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),c.error("Error adding new task. Please try again.")})};be({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()}),be({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()});const G=(D,B)=>{A.post("/api/dailytask",P).then(_=>{console.log(_.data),X(),$("#FormModal").modal("hide"),c.success("data created successfully!")}).catch(_=>{B.setErrors(_.response.data.errors)})},Ie=(D,B)=>{A.put("/api/dailytask/"+P.dailytask_id,P).then(_=>{console.log(_.data),X(),$("#FormModal").modal("hide"),c.success("data update successfully!")}).catch(_=>{B.setErrors(_.response.data.errors)})},Pe=D=>{D&&D.dailytask_id!==null&&D.dailytask_id!==void 0?(F.value=!0,m.value=" on "+_e(D.taskdate).format("MMMM D, YYYY"),P.site=D.site,P.dailytask_id=D.dailytask_id,P.plandate=D.plandate,P.planenddate=D.planenddate):F.value=!1,K(),$("#FormModal").modal("show")},Je=(D,B)=>{F.value?Ie(D,B):G(D,B)},Ze=async D=>{try{const B=await A.get(`/api/dailytask/${D.dailytask_id}/tasks`);if(x.value=B.data,!x.value||x.value.length===0){l.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await l.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ne=await A.put("/api/dailytask/onhandler/"+D.dailytask_id,D);c.success(ne.data.message),X()}}catch(B){console.error("Error fetching tasks:",B),c.error("An error occurred while updating the task.")}},et=async D=>{if((await l({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{_e(D.taskdate).format("YYYY-MM-DD")===_e().format("YYYY-MM-DD")?(D.remarks="HIT",D.status="On Schedule"):(D.remarks="MISS",D.status="Behind Schedule");const ne=await A.put("/api/dailytask/onhandler/"+D.dailytask_id,D);c.success(ne.data.message),X()}catch(_){console.error(_),c.error("An error occurred while updating the task.")}},Le=d(null),tt=d([]),Re=d(null),st=()=>{A.delete(`/api/tech-recommendations/${Re.value}`).then(()=>{$("#deleteClientModal").modal("hide"),c.success("Client deleted successfully!"),b.value.data=b.value.data.filter(D=>D.id!==Re.value)})};return he(Le,xe.exports.debounce(()=>{X()},300)),ue(()=>{ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),X()}),(D,B)=>(t(),a(R,null,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,[e("div",ar,s(i(M).user.first_name+" "+i(M).user.last_name)+" - My Prio ",1)]),e("div",or,[e("div",lr,[e("div",nr,[e("div",{class:"d-flex"},[e("button",{onClick:Pe,type:"button",class:"mb-2 btn btn-primary"},[dr,L(" Task ")])]),e("div",ir,[H(e("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=_=>Le.value=_),class:"form-control",placeholder:"Search..."},null,512),[[le,Le.value]])])]),e("div",cr,[r.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[rr,ur,_r,mr]),_:1})):(t(),a("div",hr,[b.value.length===0?(t(),a("div",pr,[e("div",vr,[e("div",br,[e("div",fr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,$r),gr])])])])):(t(),a("div",yr,[(t(!0),a(R,null,O(b.value,_=>(t(),a("div",{class:"card card-primary",key:_.id},[e("div",kr,[e("h4",xr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+_.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Cr),L(" \xA0"),e("b",null,s(i(_e)(_.taskdate).format("MMMM D, YYYY")),1)],8,wr)]),e("div",Sr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ne=>w(_)},Dr,8,Mr),e("button",{disabled:_.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ne=>et(_)}," End ",8,Vr),_.startdate?V("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ne=>Ze(_)}," Start ",8,Ar)),Er])]),e("div",{id:"collapse"+_.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Ir,[e("div",Lr,[e("div",Fr,[e("div",Pr,[e("div",Yr,[e("h5",null,[Br,L(" "+s(_.site_name),1)]),e("h5",null,[Nr,L(" "+s(_.plandate),1)]),e("h5",null,[qr,L(" "+s(_.planenddate),1)])]),e("div",Rr,[e("h5",null,[jr,L(" "+s(_.startdate!==null?i(_e)(_.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Hr,L(" "+s(_.enddate!==null?i(_e)(_.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Or,[zr,L(" "+s(_.tasktype?_.tasktype.join(", "):""),1)])]),e("div",Gr,[e("h5",Qr,[Wr,L(" "+s(_.status),1)]),e("h5",null,[Kr,L(" "+s(_.attachment),1)]),e("h5",null,[Xr,L(" "+s(_.remarks),1)])])]),e("div",Jr,[e("button",{disabled:_.startdate!==null,onClick:ne=>j(_.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Zr),e("button",{onClick:ne=>Pe(_),type:"button",disabled:_.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,eu)])]),e("div",tu,[e("ul",su,[e("li",au,[L(" Site: "),e("span",ou,s(_.site_name),1)]),e("li",lu,[L(" Planned Date: "),e("span",nu,s(_.plandate),1)]),e("li",du,[L(" Planned End Date: "),e("span",iu,s(_.planenddate),1)]),e("li",cu,[L(" Start Date: "),e("span",ru,s(_.startdate!==null?i(_e)(_.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",uu,[L(" Type: "),e("span",_u,s(_.tasktype?_.tasktype.join(", "):""),1)]),e("li",mu,[L(" Status: "),e("span",hu,s(_.status),1)]),e("li",pu,[L(" Attachment: "),e("span",vu,s(_.attachment),1)]),e("li",bu,[L(" Remarks: "),e("span",fu,s(_.remarks),1)])]),$u,e("div",gu,[e("div",yu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ne=>Pe(_)},[xu,L(" Edit ")],8,ku),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ne=>j(_.dailytask_id)},Su,8,wu)])])])])])],8,Tr)]))),128))]))]))])])])])])]),e("div",Mu,[e("div",Uu,[e("div",Du,[e("div",Vu,[e("h5",Au,[F.value?(t(),a("span",Eu,"Edit My Task")):(t(),a("span",Tu,"Add My Task")),F.value?(t(),a("span",Iu,s(m.value),1)):V("",!0)]),Lu]),C(i(fe),{onSubmit:Je},{default:te(()=>[e("div",Fu,[e("div",Pu,[e("div",Yu,[e("div",Bu,[C(i(Q),{modelValue:P.user_id,"onUpdate:modelValue":B[1]||(B[1]=_=>P.user_id=_),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Nu,[qu,H(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":B[2]||(B[2]=_=>P.site=_)},[Ru,(t(!0),a(R,null,O(v.value,_=>(t(),a("option",{key:_.id,value:_.id},s(_.site_name),9,ju))),128))],512),[[ge,P.site]])]),F.value==!1?(t(),a("div",Hu,[e("div",Ou,[e("div",zu,[Gu,C(i(Ae),{class:"form-control",modelValue:N.value,"onUpdate:modelValue":B[3]||(B[3]=_=>N.value=_)},null,8,["modelValue"])]),e("div",Qu,[Wu,H(e("select",{class:"form-control","onUpdate:modelValue":B[4]||(B[4]=_=>z.value=_),id:"plandate"},[(t(!0),a(R,null,O(p.value,_=>(t(),a("option",{key:_,value:_},s(_),9,Ku))),128))],512),[[ge,z.value]])])]),Xu])):V("",!0),F.value==!1?(t(),a("div",Ju,[e("div",Zu,[e("div",e_,[t_,C(i(Ae),{class:"form-control",modelValue:I.value,"onUpdate:modelValue":B[5]||(B[5]=_=>I.value=_)},null,8,["modelValue"])]),e("div",s_,[a_,H(e("select",{class:"form-control","onUpdate:modelValue":B[6]||(B[6]=_=>g.value=_),id:"plandate"},[(t(!0),a(R,null,O(k.value,_=>(t(),a("option",{key:_,value:_},s(_),9,o_))),128))],512),[[ge,g.value]])])]),l_])):V("",!0),e("div",n_,[d_,C(i(Q),{name:"tasktype"},{default:te(()=>[H(e("select",{"onUpdate:modelValue":B[7]||(B[7]=_=>P.tasktype=_),class:"form-control",required:!0},[i_,(t(!0),a(R,null,O(J.value,_=>(t(),a("option",{key:_.value,value:_.value},s(_.name),9,c_))),128))],512),[[ge,P.tasktype]])]),_:1})])])])])]),r_]),_:1})])])]),e("div",u_,[e("div",__,[e("div",m_,[e("div",h_,[e("h5",p_," My Todo of "+s(i(_e)(y.value).format("MM/D/YYYY")),1),v_]),e("div",b_,[f_,e("div",$_,[e("div",g_,[x.value.length>0?(t(),a("div",y_,[n.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[k_,x_]),_:1})):V("",!0),(t(!0),a(R,null,O(x.value,_=>(t(),a("ul",{class:"list-group",key:_.id},[_.iscompleted!==1?(t(),a("li",w_,[e("div",C_,[e("div",S_,[h.value?(t(),a("i",{key:0,onClick:ne=>S(_),class:T({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":_.iscompleted===1,"fa fa-circle text-primary":_.iscompleted!==1}),style:{"font-size":"15px"}},null,10,M_)):V("",!0),e("span",{class:T({"font-italic":_.iscompleted===1,"":_.iscompleted!==1})},s(_.task_name),3)]),e("div",U_,[e("i",{class:"fa fa-trash text-danger",onClick:ne=>q(_)},null,8,D_)])])])):V("",!0)]))),128)),e("li",V_,[U.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:oe},[e("i",{class:T(["fa",E.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Completed "+s(U.value),1)])):V("",!0)]),E.value?(t(),a("div",A_,[(t(!0),a(R,null,O(x.value,_=>(t(),a("ul",{class:"list-group",key:_.id},[_.iscompleted===1?(t(),a("li",E_,[e("div",T_,[e("div",I_,[e("i",{class:T({"cursor-pointer mr-2":!0,"fa fa-check-circle":_.iscompleted===1,"fa fa-circle":_.iscompleted!==1}),style:{"font-size":"15px"},onClick:ne=>S(_)},null,10,L_),e("span",{class:T({"font-italic":_.iscompleted===1,"":_.iscompleted!==1})},[e("del",null,s(_.task_name),1)],2)]),e("div",F_,[e("i",{class:"fa fa-trash text-danger",onClick:ne=>q(_)},null,8,P_)])])])):V("",!0)]))),128))])):V("",!0)])):(t(),a("div",Y_,N_))]),e("div",q_,[C(i(fe),{onSubmit:f},{default:te(()=>[e("div",R_,[e("div",j_,[e("div",H_,[C(i(Q),{modelValue:Z.value.dailytask_id,"onUpdate:modelValue":B[8]||(B[8]=_=>Z.value.dailytask_id=_),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",O_,[C(i(Q),{modelValue:Z.value.task_name,"onUpdate:modelValue":B[9]||(B[9]=_=>Z.value.task_name=_),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),z_]),_:1})])])])])])]),e("div",G_,[e("div",Q_,[e("div",W_,[K_,e("div",X_,[J_,e("button",{onClick:ae(st,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var em=ve(Z_,[["__scopeId","data-v-21bb19fc"]]);const tm={class:"text-center"},sm={key:0},am={class:"text-center"},om={key:0},lm={class:"text-center"},nm={key:0},dm={key:0,class:"bg-success text-center"},im={key:1,class:"bg-danger text-center"},cm={key:2,class:"text-center"},rm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return ce(),ie(),(r,n)=>(t(),a("tr",null,[e("td",null,s(i(_e)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",tm,[o.item.task_lists_count!==0?(t(),a("span",sm,s(o.item.task_lists_count),1)):V("",!0)]),e("td",am,[o.item.completed_task_count!==0?(t(),a("span",om,s(o.item.completed_task_count),1)):V("",!0)]),e("td",lm,[o.item.status!=="On Going"?(t(),a("span",nm,s(o.item.status),1)):V("",!0)]),o.item.remarks==="HIT"?(t(),a("td",dm,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",im,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",cm,s(o.item.startdate!=null?"On Going!":""),1)):V("",!0),e("td",{class:T({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const re=o=>(Ce("data-v-6e644549"),o=o(),Se(),o),um={class:"content-header"},_m={class:"container-fluid"},mm={class:"col-12"},hm={class:"card",id:"captureVSCContainer"},pm={class:"card-header"},vm={class:"card-title"},bm={class:"card-tools"},fm={class:"card-body"},$m=re(()=>e("i",{class:"fa fa-camera"},null,-1)),gm=[$m],ym=re(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),km=re(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),xm=re(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),wm=re(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Cm={key:1,class:"row"},Sm={class:"inner"},Mm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Um=["src"],Dm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Vm={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Am={style:{"text-align":"left"}},Em={key:0},Tm=re(()=>e("span",{class:"text-light badge"},"Todos",-1)),Im={class:"list-group list-group-flush"},Lm={style:{display:"flex","align-items":"left"}},Fm={class:"ml-1"},Pm={class:"ml-1"},Ym={key:1},Bm={class:"float-right"},Nm={id:"captureHitRateContainer",class:"card"},qm={class:"card-header"},Rm={class:"card-title"},jm={class:"card-body"},Hm={class:"content"},Om={class:"container-fluid"},zm=re(()=>e("i",{class:"fa fa-camera"},null,-1)),Gm=[zm],Qm={class:"dispatch-table"},Wm={class:"table-responsive"},Km={class:"table table-bordered table-hover table-sm"},Xm=re(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Jm=["item"],Zm={class:"list-field"},eh=re(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),th={class:"list-field"},sh=re(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),ah={key:0},oh={class:"list-field"},lh=re(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),nh={key:0},dh={class:"list-field"},ih=re(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),ch={class:"list-field"},rh=re(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),uh={class:"list-field"},_h=re(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),mh={class:"float-right"},hh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ph={class:"modal-dialog modal-sm",role:"document"},vh={class:"modal-content"},bh=re(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My VSC Summary Report")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),fh={class:"modal-body"},$h={class:"fromtocenter"},gh=re(()=>e("label",{for:"fromDate"},"From:",-1)),yh=re(()=>e("label",{for:"toDate"},"To:",-1)),kh=re(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),xh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wh={class:"modal-dialog modal-sm",role:"document"},Ch={class:"modal-content"},Sh=re(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Mh={class:"modal-body"},Uh={class:"container"},Dh={class:"row"},Vh=["onClick"],Ah=re(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Eh={__name:"MyVsc",setup(o){const r=ie(),n=d(!1),l=d([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),b=d((()=>{const g={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",g)})()),x=()=>{const g=document.getElementById("captureVSCContainer");Be(g).then(p=>{const k=p.toDataURL(),P=document.createElement("a");P.href=k,P.download="My VSC.png",P.click()})},v=()=>{const g=document.getElementById("captureHitRateContainer");Be(g).then(p=>{const k=p.toDataURL(),P=document.createElement("a");P.href=k,P.download="My HITRATE.png",P.click()})};d(null),d("today");const E=d({data:[]}),F=d({data:[]}),m=()=>{n.value=!0,axios.get("/api/myvsc").then(g=>{n.value=!1,E.value=g.data.dailyTasks,F.value=g.data.TaskList})},y=()=>{$("#FormModalfilterDate").modal("show")},h=d({start_date:"",end_date:""}),M=d(""),J=d("");he([M],()=>{const g=new Date(M.value),p=g.getFullYear(),k=String(g.getMonth()+1).padStart(2,"0"),P=String(g.getDate()).padStart(2,"0");h.value.start_date=`${p}-${k}-${P}`}),he([J],()=>{const g=new Date(J.value),p=g.getFullYear(),k=String(g.getMonth()+1).padStart(2,"0"),P=String(g.getDate()).padStart(2,"0");h.value.end_date=`${p}-${k}-${P}`});const N=()=>{n.value=!0,axios.get("/api/filter-vsc",{params:{start_date:h.value.start_date,end_date:h.value.end_date}}).then(g=>{n.value=!1,E.value=g.data.dailyTasks,F.value=g.data.TaskList}).catch(g=>{console.error(g)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},z=()=>{$("#FormModalPickerThemes").modal("show")},I=g=>{if(g){const p=r.user.id;axios.post("/api/changethemes",{userid:p,background:g.background,active_background:g.active_background,font_background:g.font_background}).then(k=>{$("#FormModalPickerThemes").modal("hide"),n.value=!0,axios.get("/api/myvsc").then(P=>{n.value=!1,E.value=P.data.dailyTasks,F.value=P.data.TaskList})}).catch(k=>{console.error(k)})}else console.error("Invalid item:",g)};return ue(()=>{m()}),(g,p)=>(t(),a(R,null,[e("div",um,[e("div",_m,[e("div",mm,[e("div",hm,[e("div",pm,[e("div",vm,[e("h5",null,s(i(r).user.first_name+" "+i(r).user.last_name)+" - My VSC ",1)]),e("div",bm,[e("i",{onClick:p[0]||(p[0]=k=>z()),class:"fas fa-palette"})])]),e("div",fm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:x,type:"button",class:"mb-2 btn btn-sm btn-success"},gm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:y})])]),n.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[ym,km,xm,wm]),_:1})):(t(),a("div",Cm,[(t(!0),a(R,null,O(E.value,k=>(t(),a("div",{class:"col-lg-3 col-6",key:k.id},[e("div",{class:"small-box",style:Ye("background-color: "+(i(_e)(k.taskdate).format("MMMM D, YYYY")===b.value?k.active_background==""?"#72461F":k.active_background:k.background==""?"#B98D65":k.background)+";")},[e("div",Sm,[e("div",Mm,[L(s(i(_e)(k.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Um)]),e("div",Dm,s(i(_e)(k.taskdate).format("MMMM D, YYYY")),1),e("div",Vm,s(k.site_name),1),e("div",Am,[k.task_lists&&k.task_lists.length>0?(t(),a("div",Em,[Tm,e("ul",Im,[(t(!0),a(R,null,O(k.task_lists,P=>(t(),a("li",{class:"list-group-item",key:P.id},[e("div",Lm,[e("div",Fm,[e("i",{class:T(P.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Pm,s(P.task_name),1)])]))),128))])])):(t(),a("span",Ym))])])],4)]))),128))])),e("div",Bm,s(b.value),1)])]),e("div",Nm,[e("div",qm,[e("div",Rm,[e("h5",null,s(i(r).user.first_name+" "+i(r).user.last_name)+" - My HIT RATE ",1)])]),e("div",jm,[e("div",Hm,[e("div",Om,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-sm btn-success"},Gm)])]),e("div",Qm,[e("div",Wm,[e("table",Km,[Xm,e("tbody",null,[(t(!0),a(R,null,O(F.value,k=>(t(),de(rm,{key:k.id,item:k},null,8,["item"]))),128))])])])]),(t(!0),a(R,null,O(F.value,k=>(t(),a("div",{class:"dispatch-list",key:k.id,item:k},[e("div",{class:T([{"callout callout-success":k.remarks==="HIT","callout callout-danger":k.remarks==="MISS",callout:k.remarks===null}])},[e("div",Zm,[eh,e("span",null,s(i(_e)(k.taskdate).format("MMMM D, YYYY")),1)]),e("div",th,[sh,k.task_lists_count!==0?(t(),a("span",ah,s(k.task_lists_count),1)):V("",!0)]),e("div",oh,[lh,k.completed_task_count!==0?(t(),a("span",nh,s(k.completed_task_count),1)):V("",!0)]),e("div",dh,[ih,e("span",null,[e("b",null,s(k.status),1)])]),e("div",ch,[rh,e("span",{class:T(["badge",k.remarks==="HIT"?"bg-success":"bg-danger"])},s(k.remarks),3)]),e("div",uh,[_h,e("span",{class:T(["badge",{"bg-danger":k.percentage_completed>=0&&k.percentage_completed<=59},{"bg-orange":k.percentage_completed>60&&k.percentage_completed<=90},{"bg-success":k.percentage_completed===100}])},s(k.percentage_completed+"%"),3)])],2)],8,Jm))),128))])]),e("div",mh,s(b.value),1)])])])])]),e("div",hh,[e("div",ph,[e("div",vh,[bh,e("div",fh,[e("div",$h,[e("div",null,[gh,C(i(Ae),{modelValue:M.value,"onUpdate:modelValue":p[1]||(p[1]=k=>M.value=k)},null,8,["modelValue"])]),e("div",null,[yh,C(i(Ae),{modelValue:J.value,"onUpdate:modelValue":p[2]||(p[2]=k=>J.value=k)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[kh,e("button",{onClick:N,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",xh,[e("div",wh,[e("div",Ch,[Sh,e("div",Mh,[e("div",Uh,[e("div",Dh,[(t(!0),a(R,null,O(l.value,k=>(t(),a("div",{class:"col-md-4",key:k.background},[e("div",{class:"box",onClick:P=>I(k)},[e("div",{class:"column",style:Ye({"background-color":k.background})},"\xA0",4),e("div",{class:"column",style:Ye({"background-color":k.active_background})},"\xA0",4)],8,Vh)]))),128))])])]),Ah])])])],64))}};var Th=ve(Eh,[["__scopeId","data-v-6e644549"]]);const Ih={class:"text-center"},Lh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return ce(),ie(),(r,n)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(i(_e)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Ih,[e("span",{class:T(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Fh=ve(Lh,[["__scopeId","data-v-f22938e0"]]);const me=o=>(Ce("data-v-368dbe6c"),o=o(),Se(),o),Ph={class:"content"},Yh={class:"container-fluid"},Bh={class:"card",id:"capturePrioContainer"},Nh={class:"card-header"},qh={class:"card-title"},Rh={class:"card-body"},jh=me(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Hh=me(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Oh=me(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),zh=me(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Gh={key:1,class:"content"},Qh={class:"container-fluid"},Wh=me(()=>e("i",{class:"fa fa-camera"},null,-1)),Kh=[Wh],Xh={class:"dispatch-table"},Jh={class:"table-responsive"},Zh={class:"table table-bordered table-sm table-striped table-hover"},ep=me(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),tp={key:0},sp={key:1},ap=me(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),op=[ap],lp=["item","index"],np={class:"card"},dp={class:"card-body"},ip={class:"list-field"},cp=me(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),rp={class:"list-field"},up=me(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),_p={class:"list-field"},mp=me(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),hp={class:"list-field"},pp=me(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),vp={class:"list-field"},bp=me(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),fp={class:"list-field"},$p=me(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),gp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},yp={class:"modal-dialog modal-sm",role:"document"},kp={class:"modal-content"},xp=me(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),wp={class:"modal-body"},Cp={class:"fromtocenter"},Sp=me(()=>e("label",{for:"fromDate"},"From:",-1)),Mp=me(()=>e("label",{for:"toDate"},"To:",-1)),Up=me(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Dp={__name:"MyClosePrioList",setup(o){const r=d(!1);ce();const n=d({data:[]}),l=d(""),c=d(""),b=ie(),x=(m=1)=>{r.value=!0,A.get(`/api/mycloseprio?page=${m}`,{params:{query:F.value}}).then(y=>{r.value=!1,n.value=y.data})},v=()=>{const m=document.getElementById("capturePrioContainer");Be(m).then(y=>{const h=y.toDataURL(),M=document.createElement("a");M.href=h,M.download="MY CLOSED PRIO.png",M.click()})},E=()=>{r.value=!0,A.get("/api/filter-closeprio",{params:{start_date:l.value,end_date:c.value}}).then(m=>{r.value=!1,n.value=m.data.dailyTasks}).catch(m=>{console.error(m)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},F=d(null);return he(F,xe.exports.debounce(()=>{x()},300)),ue(()=>{x()}),(m,y)=>(t(),a(R,null,[e("div",Ph,[e("div",Yh,[e("div",Bh,[e("div",Nh,[e("div",qh,[e("h5",null,s(i(b).user.first_name+" "+i(b).user.last_name)+" - My Closed Prio ",1)])]),e("div",Rh,[r.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[jh,Hh,Oh,zh]),_:1})):(t(),a("div",Gh,[e("div",Qh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-sm btn-success"},Kh)])]),e("div",null,[e("div",Xh,[e("div",Jh,[e("table",Zh,[ep,n.value.data.length>0?(t(),a("tbody",tp,[(t(!0),a(R,null,O(n.value.data,(h,M)=>(t(),de(Fh,{key:h.id,item:h,index:M},null,8,["item","index"]))),128))])):(t(),a("tbody",sp,op))])])]),(t(!0),a(R,null,O(n.value.data,(h,M)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:h.id,item:h,index:M},[e("div",np,[e("div",dp,[e("div",ip,[cp,e("span",null,s(h.sitename),1)]),e("div",rp,[up,e("span",null,s(i(_e)(h.taskdate).format("MMMM D, YYYY")),1)]),e("div",_p,[mp,e("span",null,s(h.startdate),1)]),e("div",hp,[pp,e("span",null,s(h.enddate),1)]),e("div",vp,[bp,e("span",null,s(h.tasktype.listtask),1)]),e("div",fp,[$p,e("span",{class:T(["badge",h.remarks==="HIT"?"bg-success":"bg-danger"])},s(h.remarks),3)])])])],8,lp))),128))])])]))])]),C(i(De),{data:n.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",gp,[e("div",yp,[e("div",kp,[xp,e("div",wp,[e("div",Cp,[e("div",null,[Sp,C(i(Ae),{modelValue:l.value,"onUpdate:modelValue":y[0]||(y[0]=h=>l.value=h)},null,8,["modelValue"])]),e("div",null,[Mp,C(i(Ae),{modelValue:c.value,"onUpdate:modelValue":y[1]||(y[1]=h=>c.value=h)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Up,e("button",{onClick:E,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64))}};var Vp=ve(Dp,[["__scopeId","data-v-368dbe6c"]]);const Ap=["checked"],Ep={class:"text-center"},Tp=e("i",{class:"fa fa-edit"},null,-1),Ip=[Tp],Lp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:r}){ce();const n=o,l=r,c=()=>{l("toggleSelection",n.user)};return(b,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Ap)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",Ep,[e("a",{href:"#",onClick:x[0]||(x[0]=ae(v=>b.$emit("editUser",o.user),["prevent"]))},Ip)])]))}},Fp={class:"content"},Pp={class:"container-fluid"},Yp={class:"card"},Bp={class:"card-header"},Np=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),qp={class:"card-tools"},Rp={class:"card-body"},jp={class:"table-responsive"},Hp={class:"table table-bordered table-hover table-sm"},Op=e("th",{style:{width:"10px"}},"#",-1),zp=e("th",null,"Name",-1),Gp=e("th",null,"Email",-1),Qp=e("th",null,"Registered Date",-1),Wp=e("th",null,"Options",-1),Kp={key:0},Xp={key:1},Jp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Zp=[Jp],ev={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},tv={class:"modal-dialog modal-sm",role:"document"},sv={class:"modal-content"},av={class:"modal-header"},ov={class:"modal-title",id:"staticBackdropLabel"},lv={key:0},nv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),dv={class:"modal-body"},iv={class:"table table-sm"},cv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),rv={colspan:"5"},uv={class:"custom-control custom-checkbox"},_v=["value","id","checked"],mv=["for"],hv={key:0,class:"table table-sm"},pv={class:"text-danger"},vv={class:"custom-control custom-checkbox"},bv=["value","id"],fv=["for"],$v=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),gv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},yv={class:"modal-dialog",role:"document"},kv={class:"modal-content"},xv=pe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),wv={class:"modal-footer"},Cv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Sv={__name:"UserMenuList",setup(o){const r=ce(),n=d({data:[]}),l=d(!1),c=d(),b=d(null),x=d(null),v=d([]),E=(I=1)=>{A.get(`/api/users?page=${I}`,{params:{query:y.value}}).then(g=>{n.value=g.data,h.value=[],selectAll.value=!1})},F=I=>{A.get("/api/usermenu",{params:{user_id:I.id}}).then(g=>{z.value=g.data,console.log(g.data)}).catch(g=>{console.log(g)}),l.value=!0,b.value.resetForm(),$("#userFormModal").modal("show"),c.value={id:I.id,username:I.username,email:I.email,first_name:I.first_name,last_name:I.last_name},x.value=c.value.first_name+" "+c.value.last_name},m=()=>{const I={user_id:c.value.id,menu_id:v.value};console.log(I),A.post("/api/usermenu",I).then(g=>{r.success("User Menu Save successfully!")}).catch(g=>{setErrors(g.response.data.errors)})},y=d(null),h=d([]),M=I=>{const g=h.value.indexOf(I.id);g===-1?h.value.push(I.id):h.value.splice(g,1),console.log(h.value)},J=d(null),N=I=>{J.value=I,$("#deleteUserModal").modal("show")},z=d({data:[]});return he(y,xe.exports.debounce(()=>{E()},300)),ue(()=>{E()}),(I,g)=>(t(),a(R,null,[e("div",Fp,[e("div",Pp,[e("div",Yp,[e("div",Bp,[Np,e("div",qp,[H(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=p=>y.value=p),class:"form-control",placeholder:"Search..."},null,512),[[le,y.value]])])]),e("div",Rp,[e("div",jp,[e("table",Hp,[e("thead",null,[e("tr",null,[e("th",null,[H(e("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=p=>I.selectAll=p),onChange:g[2]||(g[2]=(...p)=>I.selectAllUsers&&I.selectAllUsers(...p))},null,544),[[$e,I.selectAll]])]),Op,zp,Gp,Qp,Wp])]),n.value.data.length>0?(t(),a("tbody",Kp,[(t(!0),a(R,null,O(n.value.data,(p,k)=>(t(),de(Lp,{key:p.id,user:p,index:k,onEditUser:F,onConfirmUserDeletion:N,onToggleSelection:M,"select-all":I.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Xp,Zp))])])])]),C(i(De),{data:n.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",ev,[e("div",tv,[e("div",sv,[e("div",av,[e("h5",ov,[l.value?(t(),a("span",lv,"User Menu for "+s(x.value),1)):V("",!0)]),nv]),C(i(fe),{ref_key:"form",ref:b,onSubmit:m,"initial-values":c.value},{default:te(()=>[e("div",dv,[e("table",iv,[cv,(t(!0),a(R,null,O(z.value,p=>(t(),a("tr",{key:p.menu_id},[e("td",rv,[e("div",uv,[H(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":g[3]||(g[3]=k=>v.value=k),value:p.menu_id,id:"menu_id_"+p.menu_id,checked:p.hasAccess},null,8,_v),[[$e,v.value]]),e("label",{for:"menu_id_"+p.menu_id,class:"custom-control-label"},s(p.menu_title),9,mv)]),p.submenus&&p.submenus.length>0?(t(),a("table",hv,[(t(!0),a(R,null,O(p.submenus,k=>(t(),a("tr",{key:k.id},[e("td",pv,[e("div",vv,[H(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":g[4]||(g[4]=P=>v.value=P),value:k.menu_id,id:"menu_id_"+k.menu_id},null,8,bv),[[$e,v.value]]),e("label",{for:"menu_id_"+k.menu_id,class:"custom-control-label"},s(k.menu_title),9,fv)])])]))),128))])):V("",!0)])]))),128))])]),$v]),_:1},8,["initial-values"])])])]),e("div",gv,[e("div",yv,[e("div",kv,[xv,e("div",wv,[Cv,e("button",{onClick:g[5]||(g[5]=ae((...p)=>I.deleteUser&&I.deleteUser(...p),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};const Qe=o=>(Ce("data-v-8e5d6dd6"),o=o(),Se(),o),Mv=["checked"],Uv=["innerHTML"],Dv={style:{"text-align":"center"}},Vv={class:"text-center"},Av=Qe(()=>e("i",{class:"fa fa-edit"},null,-1)),Ev=[Av],Tv=Qe(()=>e("i",{class:"fa fa-trash"},null,-1)),Iv=[Tv],Lv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:r}){ce(),ie();const n=o,l=r,c=()=>{l("toggleSelection",n.item)};return(b,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Mv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Uv),e("td",null,s(o.item.sort_order),1),e("td",Dv,[e("i",{class:T({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",Vv,[e("button",{class:"btn btn-sm bg-primary",onClick:x[0]||(x[0]=ae(v=>b.$emit("editMenu",o.item),["prevent"]))},Ev),L("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:x[1]||(x[1]=ae(v=>b.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Iv)])]))}};var Fv=ve(Lv,[["__scopeId","data-v-8e5d6dd6"]]);const Pv={class:"content"},Yv={class:"container-fluid"},Bv={class:"d-flex justify-content-between"},Nv={class:"d-flex"},qv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Rv={key:0},jv=e("i",{class:"fa fa-trash mr-1"},null,-1),Hv={class:"ml-2"},Ov={class:"card"},zv={class:"card-body"},Gv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Qv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Wv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Kv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Xv={class:"table-responsive"},Jv={class:"table table-bordered table-sm"},Zv=e("th",{style:{width:"10px"}},"#",-1),e1=e("th",null,"Title",-1),t1=e("th",null,"Parent Menu",-1),s1=e("th",null,"Route",-1),a1=e("th",null,"Icon",-1),o1=e("th",null,"Sort",-1),l1=e("th",null,"Active",-1),n1=e("th",null,"Date",-1),d1=e("th",null,"Action",-1),i1={key:0},c1={key:1},r1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),u1=[r1],_1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},m1={class:"modal-dialog modal-sm",role:"document"},h1={class:"modal-content"},p1={class:"modal-header"},v1={class:"modal-title",id:"staticBackdropLabel"},b1={key:0},f1={key:1},$1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),g1={class:"modal-body"},y1={class:"col-md-12"},k1={class:"row"},x1={class:"col-12"},w1={class:"form-group"},C1=e("label",{for:"user"},"Menu Title",-1),S1={class:"invalid-feedback"},M1={class:"form-group"},U1=e("label",{for:"department"},"Parent Menu",-1),D1=e("option",{value:"0"},"None",-1),V1=["value"],A1={class:"form-group"},E1=e("label",{for:"warehouse"},"Icon",-1),T1={class:"invalid-feedback"},I1={class:"form-group"},L1=e("label",{for:"user"},"Route",-1),F1={class:"invalid-feedback"},P1={class:"form-group"},Y1=e("label",{for:"user"},"Sort",-1),B1={class:"invalid-feedback"},N1={class:"form-group"},q1=e("label",{for:"is_active"},"Active",-1),R1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),j1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},H1={class:"modal-dialog",role:"document"},O1={class:"modal-content"},z1=pe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),G1={class:"modal-footer"},Q1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),W1={__name:"MenuList",setup(o){const r=ce(),n=d({data:[]}),l=d({data:[]}),c=d(!1),b=d(!1);d();const x=d(!0),v=we({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),E=ie();d(null);const F=d(),m=(w=1)=>{c.value=!0,A.get(`/api/menulist?page=${w}`,{params:{query:g.value}}).then(f=>{c.value=!1,n.value=f.data,p.value=[],j.value=!1})},y=()=>{A.get("/api/GetParentId").then(w=>{l.value=w.data}).catch(w=>{console.error(w)})};be({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),be({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()});const h=w=>{v.is_active=w?1:0},M=({resetForm:w,setErrors:f})=>{A.post("/api/menulist",{menu_title:v.menu_title,parent_id:v.parent_id,menu_icon:v.menu_icon,menu_route:v.menu_route,sort_order:v.sort_order,is_active:v.is_active}).then(S=>{n.value.data.unshift(S.data),$("#FormModal").modal("hide"),w(),r.success("User created successfully!")}).catch(S=>{S.response.data.errors&&f(S.response.data.errors)})},J=()=>{b.value=!1,$("#FormModal").modal("show")},N=w=>{b.value=!0,v.menu_id=w.menu_id,v.menu_title=w.menu_title,v.parent_id=w.parent_id,v.menu_icon=w.menu_icon,v.menu_route=w.menu_route,v.sort_order=w.sort_order,v.is_active===1?x.value=!0:x.value=!1,v.is_active=w.is_active,$("#FormModal").modal("show"),F.value=w.parent_id},z=({setErrors:w})=>{A.post("/api/menulist",v).then(f=>{m(),$("#FormModal").modal("hide"),r.success("successfully Updated!")}).catch(f=>{w(f.response.data.errors),console.log(f)})},I=(w,f)=>{b.value?z(w):M(w)},g=d(null),p=d([]),k=w=>{const f=p.value.indexOf(w.id);f===-1?p.value.push(w.id):p.value.splice(f,1),console.log(p.value)},P=d(null),Z=w=>{P.value=w,$("#deleteClientModal").modal("show")},K=()=>{A.delete(`/api/menu/${P.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Menu deleted successfully!"),n.value.data=n.value.data.filter(w=>w.menu_id!==P.value)})},X=()=>{A.delete("menulist",{data:{ids:p.value}}).then(w=>{n.value.data=n.value.data.filter(f=>!p.value.includes(f.id)),p.value=[],j.value=!1,r.success(w.data.message)})},j=d(!1),se=()=>{j.value?p.value=n.value.data.map(w=>w.id):p.value=[],console.log(p.value)};return he([x],w=>{v.is_active=w?1:0}),he(g,xe.exports.debounce(()=>{m()},300)),ue(()=>{m(),y()}),(w,f)=>(t(),a(R,null,[e("div",Pv,[e("div",Yv,[e("div",Bv,[e("div",Nv,[e("button",{onClick:J,type:"button",class:"mb-2 btn btn-primary"},[qv,L(" Menu ")]),p.value.length>0?(t(),a("div",Rv,[e("button",{onClick:X,type:"button",class:"ml-2 mb-2 btn btn-danger"},[jv,L(" Delete Selected ")]),e("span",Hv,"Selected "+s(p.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[H(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=S=>g.value=S),class:"form-control",placeholder:"Search..."},null,512),[[le,g.value]])])]),e("div",Ov,[e("div",zv,[c.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[Gv,Qv,Wv,Kv]),_:1})):V("",!0),e("div",Xv,[e("table",Jv,[e("thead",null,[e("tr",null,[e("th",null,[H(e("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=S=>j.value=S),onChange:se},null,544),[[$e,j.value]])]),Zv,e1,t1,s1,a1,o1,l1,n1,d1])]),n.value.data.length>0?(t(),a("tbody",i1,[(t(!0),a(R,null,O(n.value.data,(S,u)=>(t(),de(Fv,{key:S.id,item:S,index:u,onEditMenu:N,onConfirmDeletion:Z,onToggleSelection:k,"select-all":j.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",c1,u1))])])])]),C(i(De),{data:n.value,onPaginationChangePage:m},null,8,["data"])])]),e("div",_1,[e("div",m1,[e("div",h1,[e("div",p1,[e("h5",v1,[b.value?(t(),a("span",b1,"Edit Menu")):(t(),a("span",f1,"Add Menu"))]),$1]),C(i(fe),{onSubmit:I},{default:te(({errors:S})=>[e("div",g1,[e("div",y1,[e("div",k1,[e("div",x1,[C(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(E).user.id,"onUpdate:modelValue":f[2]||(f[2]=u=>i(E).user.id=u)},null,8,["modelValue"]),e("div",w1,[C1,C(i(Q),{name:"menu_title",type:"text",class:T(["form-control",{"is-invalid":S.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:v.menu_title,"onUpdate:modelValue":f[3]||(f[3]=u=>v.menu_title=u)},null,8,["class","modelValue"]),e("span",S1,s(S.menu_title),1)]),e("div",M1,[U1,H(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":f[4]||(f[4]=u=>v.parent_id=u)},[D1,(t(!0),a(R,null,O(l.value,u=>(t(),a("option",{key:u.menu_id,value:u.menu_id},s(u.menu_title),9,V1))),128))],512),[[ge,v.parent_id]])]),e("div",A1,[E1,C(i(Q),{name:"menu_icon",type:"text",class:T(["form-control",{"is-invalid":S.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:v.menu_icon,"onUpdate:modelValue":f[5]||(f[5]=u=>v.menu_icon=u)},null,8,["class","modelValue"]),e("span",T1,s(S.menu_icon),1)]),e("div",I1,[L1,C(i(Q),{name:"menu_route",type:"text",class:T(["form-control",{"is-invalid":S.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:v.menu_route,"onUpdate:modelValue":f[6]||(f[6]=u=>v.menu_route=u)},null,8,["class","modelValue"]),e("span",F1,s(S.menu_route),1)]),e("div",P1,[Y1,C(i(Q),{name:"sort_order",type:"text",class:T(["form-control",{"is-invalid":S.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:v.sort_order,"onUpdate:modelValue":f[7]||(f[7]=u=>v.sort_order=u)},null,8,["class","modelValue"]),e("span",B1,s(S.sort_order),1)]),e("div",N1,[q1,H(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":f[8]||(f[8]=u=>x.value=u),onChange:h},null,544),[[$e,x.value]])])])])])]),R1]),_:1})])])]),e("div",j1,[e("div",H1,[e("div",O1,[z1,e("div",G1,[Q1,e("button",{onClick:ae(K,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}},K1={class:"error-page"},X1=pe('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),J1=[X1],Z1="Page Not Found",We={__name:"404",setup(o){return ue(()=>{document.title=Z1}),(r,n)=>(t(),a("div",K1,J1))}};const ee=o=>(Ce("data-v-18d1690e"),o=o(),Se(),o),eb={id:"exportPDF"},tb={class:"container"},sb=ee(()=>e("br",null,null,-1)),ab={class:"header"},ob=["src"],lb=["src"],nb={class:"header"},db={class:"header-justify-space-between"},ib=ee(()=>e("br",null,null,-1)),cb=ee(()=>e("p",null,null,-1)),rb={key:0},ub=ee(()=>e("strong",null,null,-1)),_b=ee(()=>e("br",null,null,-1)),mb=ee(()=>e("br",null,null,-1)),hb=ee(()=>e("p",null,null,-1)),pb=ee(()=>e("strong",null,"Unit details",-1)),vb={class:"content"},bb={class:"header-justify-space-between"},fb=ee(()=>e("span",null,"Brand:",-1)),$b=ee(()=>e("br",null,null,-1)),gb=ee(()=>e("span",null,"Model:",-1)),yb=ee(()=>e("br",null,null,-1)),kb=ee(()=>e("div",null,null,-1)),xb=ee(()=>e("span",null,"Serial #:",-1)),wb=ee(()=>e("br",null,null,-1)),Cb=ee(()=>e("span",null,"Asset Tag:",-1)),Sb=ee(()=>e("br",null,null,-1)),Mb=ee(()=>e("div",null,null,-1)),Ub=ee(()=>e("strong",null,"Reported problem",-1)),Db={class:"content"},Vb=ee(()=>e("strong",null,"Assessment conducted",-1)),Ab={class:"content"},Eb=ee(()=>e("strong",null,"Recommendation",-1)),Tb={class:"content"},Ib={class:"header-justify-space-between"},Lb=ee(()=>e("strong",null,"Evaluated by:",-1)),Fb=ee(()=>e("br",null,null,-1)),Pb={class:"botoom-line"},Yb=ee(()=>e("br",null,null,-1)),Bb=ee(()=>e("p",null,null,-1)),Nb=ee(()=>e("strong",null,"Noted by:",-1)),qb=ee(()=>e("br",null,null,-1)),Rb={class:"botoom-line"},jb=ee(()=>e("br",null,null,-1)),Hb=ee(()=>e("br",null,null,-1)),Ob=ee(()=>e("p",null,null,-1)),zb={key:0},Gb={key:1},Qb={key:0,class:"fab-container"},Wb=ee(()=>e("i",{class:"fas fa-download"},null,-1)),Kb=[Wb],Xb={__name:"TechRecommApprove",setup(o){const r=`${Ve().params.id}`,n=()=>{const b=document.getElementById("exportPDF");Ge().from(b).save(`${r}.pdf`)},l=we({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),c=()=>{A.get(`/api/tech-recommendations/${Ve().params.id}`).then(b=>{l.id=b.data.id,l.recommnum=b.data.recommnum,l.branch=b.data.branch,l.company=b.data.company,l.department=b.data.department,l.warehouse=b.data.warehouse,l.user=b.data.user,l.problem=b.data.problem,l.brand=b.data.brand,l.model=b.data.model,l.assettag=b.data.assettag,l.serialnum=b.data.serialnum,l.status=b.data.status,l.assconducted=b.data.assconducted,l.recommendation=b.data.recommendation,l.createdby=b.data.createdby.cfull_name,l.updatedby=b.data.updatedby.ufull_name,l.created_at=_e(b.data.created_at).format("MMMM D, YYYY"),l.updated_at=_e(b.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=b.data.createdby.cposition,l.updated_position=b.data.updatedby.uposition}).catch(b=>{actions.setErrors(b.response.data.errors)})};return ue(()=>{c(),document.title=r}),(b,x)=>(t(),a(R,null,[e("div",eb,[e("div",tb,[sb,e("div",ab,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,ob),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,lb)]),e("div",nb,[e("span",null,[L("Recommendation No: "),e("strong",null,s(l.recommnum),1)]),e("span",null,[L("Date Checked: "),e("strong",null,s(l.created_at),1)])]),e("div",db,[e("div",null,[e("span",null,[L("Company: "),e("strong",null,s(l.company),1)]),ib,e("span",null,[L("Branch: "),e("strong",null,s(l.branch),1)])]),cb,e("div",null,[l.warehouse==""?(t(),a("span",rb,[L("Warehouse: "),ub,L(s(l.warehouse),1)])):V("",!0),_b,e("span",null,[L("User: "),e("strong",null,s(l.user),1)]),mb,e("span",null,[L("Department: "),e("strong",null,s(l.department),1)])]),hb]),pb,e("div",vb,[e("div",bb,[e("div",null,[fb,e("strong",null,s(l.brand),1),$b,gb,e("strong",null,s(l.model),1),yb]),kb,e("div",null,[xb,e("strong",null,s(l.serialnum),1),wb,Cb,e("strong",null,s(l.assettag),1),Sb]),Mb])]),Ub,e("div",Db,[e("p",null,s(l.problem),1)]),Vb,e("div",Ab,[e("p",null,s(l.assconducted),1)]),Eb,e("div",Tb,[e("p",null,s(l.recommendation),1)]),e("div",Ib,[e("div",null,[Lb,Fb,e("span",Pb,s(l.createdby),1),Yb,e("span",null,s(l.created_position),1)]),Bb,e("div",null,[Nb,qb,e("span",Rb,s(l.updatedby),1),jb,e("span",null,s(l.updated_position),1),Hb]),Ob]),l.status===2?(t(),a("span",zb,"Approved date:("+s(l.updated_at)+")",1)):(t(),a("span",Gb,"Pending"))])]),l.status===2?(t(),a("div",Qb,[e("div",{class:"button iconbutton bg-success",onClick:x[0]||(x[0]=v=>n())},Kb)])):V("",!0)],64))}};var Ke=ve(Xb,[["__scopeId","data-v-18d1690e"]]);const Jb={},Zb={class:"card mx-auto",style:{"max-width":"600px"}},ef=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),tf={class:"card-body"},sf={class:"list-unstyled"};function af(o,r){return t(),a("div",Zb,[ef,e("div",tf,[e("ul",sf,[e("li",{class:"nav-item dropdown",onClick:r[0]||(r[0]=(...n)=>o.fetchNotifications&&o.fetchNotifications(...n))})])])])}var of=ve(Jb,[["render",af]]);const lf=["checked"],nf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:r}){ce(),ie();const n=o,l=r,c=()=>{l("toggleSelection",n.item)};return(b,x)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,lf)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.location),1),e("td",null,s(o.item.paccountable),1)]))}};var df=ve(nf,[["__scopeId","data-v-c5620630"]]);const cf={class:"content"},rf={class:"container-fluid"},uf={class:"d-flex justify-content-between"},_f={class:"d-flex"},mf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),hf={key:0},pf=e("i",{class:"fa fa-trash mr-1"},null,-1),vf={class:"ml-2"},bf={class:"card"},ff={class:"card-body"},$f=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),gf=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),yf=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),kf=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),xf={class:"table-responsive"},wf={class:"table table-bordered table-sm table-striped hover"},Cf=e("th",{style:{width:"10px"}},"#",-1),Sf=e("th",null,"Asset",-1),Mf=e("th",null,"Asset type",-1),Uf=e("th",null,"Serial",-1),Df=e("th",null,"Date Aquired",-1),Vf=e("th",null,"Suppliear",-1),Af=e("th",null,"Unit",-1),Ef=e("th",null,"Location",-1),Tf={key:0},If={key:1},Lf=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Ff=[Lf],Pf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yf={class:"modal-dialog modal-sm",role:"document"},Bf={class:"modal-content"},Nf={class:"modal-header"},qf={class:"modal-title",id:"staticBackdropLabel"},Rf={key:0},jf={key:1},Hf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Of={class:"modal-body"},zf={class:"col-md-12"},Gf={class:"row"},Qf={class:"col-12"},Wf={class:"form-group"},Kf=e("label",{for:"user"},"Menu Title",-1),Xf={class:"invalid-feedback"},Jf={class:"form-group"},Zf=e("label",{for:"department"},"Parent Menu",-1),e$=e("option",{value:"0"},"None",-1),t$=["value"],s$={class:"form-group"},a$=e("label",{for:"warehouse"},"Icon",-1),o$={class:"invalid-feedback"},l$={class:"form-group"},n$=e("label",{for:"user"},"Route",-1),d$={class:"invalid-feedback"},i$={class:"form-group"},c$=e("label",{for:"user"},"Sort",-1),r$={class:"invalid-feedback"},u$={class:"form-group"},_$=e("label",{for:"is_active"},"Active",-1),m$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),h$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},p$={class:"modal-dialog",role:"document"},v$={class:"modal-content"},b$=pe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),f$={class:"modal-footer"},$$=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),g$={__name:"AssetmList",setup(o){const r=ce(),n=d({data:[]}),l=d({data:[]}),c=d(!1),b=d(!1);d();const x=d(!0),v=we({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),E=ie();d(null);const F=d(),m=(w=1)=>{c.value=!0,A.get(`/web/asset-monitoring?page=${w}`,{params:{query:g.value}}).then(f=>{c.value=!1,n.value=f.data,p.value=[],j.value=!1})},y=()=>{A.get("/api/GetParentId").then(w=>{l.value=w.data}).catch(w=>{console.error(w)})};be({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),be({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()});const h=w=>{v.is_active=w?1:0},M=({resetForm:w,setErrors:f})=>{A.post("/api/menulist",{menu_title:v.menu_title,parent_id:v.parent_id,menu_icon:v.menu_icon,menu_route:v.menu_route,sort_order:v.sort_order,is_active:v.is_active}).then(S=>{n.value.data.unshift(S.data),$("#FormModal").modal("hide"),w(),r.success("User created successfully!")}).catch(S=>{S.response.data.errors&&f(S.response.data.errors)})},J=()=>{b.value=!1,$("#FormModal").modal("show")},N=w=>{b.value=!0,v.menu_id=w.menu_id,v.menu_title=w.menu_title,v.parent_id=w.parent_id,v.menu_icon=w.menu_icon,v.menu_route=w.menu_route,v.sort_order=w.sort_order,v.is_active===1?x.value=!0:x.value=!1,v.is_active=w.is_active,$("#FormModal").modal("show"),F.value=w.parent_id},z=({setErrors:w})=>{A.post("/api/menulist",v).then(f=>{m(),$("#FormModal").modal("hide"),r.success("successfully Updated!")}).catch(f=>{w(f.response.data.errors),console.log(f)})},I=(w,f)=>{b.value?z(w):M(w)},g=d(null),p=d([]),k=w=>{const f=p.value.indexOf(w.id);f===-1?p.value.push(w.id):p.value.splice(f,1),console.log(p.value)},P=d(null),Z=w=>{P.value=w,$("#deleteClientModal").modal("show")},K=()=>{A.delete(`/api/menu/${P.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Menu deleted successfully!"),n.value.data=n.value.data.filter(w=>w.menu_id!==P.value)})},X=()=>{A.delete("menulist",{data:{ids:p.value}}).then(w=>{n.value.data=n.value.data.filter(f=>!p.value.includes(f.id)),p.value=[],j.value=!1,r.success(w.data.message)})},j=d(!1),se=()=>{j.value?p.value=n.value.data.map(w=>w.id):p.value=[],console.log(p.value)};return he([x],w=>{v.is_active=w?1:0}),he(g,xe.exports.debounce(()=>{m()},300)),ue(()=>{m(),y()}),(w,f)=>(t(),a(R,null,[e("div",cf,[e("div",rf,[e("div",uf,[e("div",_f,[e("button",{onClick:J,type:"button",class:"mb-2 btn btn-primary"},[mf,L(" Menu ")]),p.value.length>0?(t(),a("div",hf,[e("button",{onClick:X,type:"button",class:"ml-2 mb-2 btn btn-danger"},[pf,L(" Delete Selected ")]),e("span",vf,"Selected "+s(p.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[H(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=S=>g.value=S),class:"form-control",placeholder:"Search..."},null,512),[[le,g.value]])])]),e("div",bf,[e("div",ff,[c.value?(t(),de(i(ke),{key:0,viewBox:"0 0 250 110"},{default:te(()=>[$f,gf,yf,kf]),_:1})):V("",!0),e("div",xf,[e("table",wf,[e("thead",null,[e("tr",null,[e("th",null,[H(e("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=S=>j.value=S),onChange:se},null,544),[[$e,j.value]])]),Cf,Sf,Mf,Uf,Df,Vf,Af,Ef])]),n.value.data.length>0?(t(),a("tbody",Tf,[(t(!0),a(R,null,O(n.value.data,(S,u)=>(t(),de(df,{key:S.id,item:S,index:u,onEditMenu:N,onConfirmDeletion:Z,onToggleSelection:k,"select-all":j.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",If,Ff))])])])]),C(i(De),{data:n.value,onPaginationChangePage:m},null,8,["data"])])]),e("div",Pf,[e("div",Yf,[e("div",Bf,[e("div",Nf,[e("h5",qf,[b.value?(t(),a("span",Rf,"Edit Menu")):(t(),a("span",jf,"Add Menu"))]),Hf]),C(i(fe),{onSubmit:I},{default:te(({errors:S})=>[e("div",Of,[e("div",zf,[e("div",Gf,[e("div",Qf,[C(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(E).user.id,"onUpdate:modelValue":f[2]||(f[2]=u=>i(E).user.id=u)},null,8,["modelValue"]),e("div",Wf,[Kf,C(i(Q),{name:"menu_title",type:"text",class:T(["form-control",{"is-invalid":S.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:v.menu_title,"onUpdate:modelValue":f[3]||(f[3]=u=>v.menu_title=u)},null,8,["class","modelValue"]),e("span",Xf,s(S.menu_title),1)]),e("div",Jf,[Zf,H(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":f[4]||(f[4]=u=>v.parent_id=u)},[e$,(t(!0),a(R,null,O(l.value,u=>(t(),a("option",{key:u.menu_id,value:u.menu_id},s(u.menu_title),9,t$))),128))],512),[[ge,v.parent_id]])]),e("div",s$,[a$,C(i(Q),{name:"menu_icon",type:"text",class:T(["form-control",{"is-invalid":S.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:v.menu_icon,"onUpdate:modelValue":f[5]||(f[5]=u=>v.menu_icon=u)},null,8,["class","modelValue"]),e("span",o$,s(S.menu_icon),1)]),e("div",l$,[n$,C(i(Q),{name:"menu_route",type:"text",class:T(["form-control",{"is-invalid":S.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:v.menu_route,"onUpdate:modelValue":f[6]||(f[6]=u=>v.menu_route=u)},null,8,["class","modelValue"]),e("span",d$,s(S.menu_route),1)]),e("div",i$,[c$,C(i(Q),{name:"sort_order",type:"text",class:T(["form-control",{"is-invalid":S.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:v.sort_order,"onUpdate:modelValue":f[7]||(f[7]=u=>v.sort_order=u)},null,8,["class","modelValue"]),e("span",r$,s(S.sort_order),1)]),e("div",u$,[_$,H(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":f[8]||(f[8]=u=>x.value=u),onChange:h},null,544),[[$e,x.value]])])])])])]),m$]),_:1})])])]),e("div",h$,[e("div",p$,[e("div",v$,[b$,e("div",f$,[$$,e("button",{onClick:ae(K,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var y$=[{path:"/login",name:"admin.login",component:Ln},{path:"/admin/dashboard",name:"Dashboard",component:St},{path:"/admin/appointments",name:"Appointments",component:Gt},{path:"/admin/appointments/create",name:"Appointments",component:He},{path:"/admin/appointments/:id/edit",name:"Appointments",component:He},{path:"/admin/user",name:"User",component:Vo},{path:"/admin/settings",name:"Setting",component:kl},{path:"/admin/profile",name:"Profile",component:vn},{path:"/admin/client",name:"Client",component:Td},{path:"/admin/tech-recommendation",name:"Tech Recomm",component:Jc},{path:"/admin/weekly-task-schedule/myprio",name:"My Prio",component:em},{path:"/admin/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Vp},{path:"/admin/weekly-task-schedule/myvsc",name:"My VSC",component:Th},{path:"/admin/usermenu",name:"User Menu",component:Sv},{path:"/admin/menu",name:"Menu",component:W1},{path:"/:catchAll(.*)",name:"404 Error Page",component:We},{path:"/admin/notifications",name:"Notifications",component:of},{path:"/admin/tech-approved/:id/view",name:"Tech-Approved",component:Ke},{path:"/asset-monitoring",name:"Asset Monitoring",component:g$}];const k$={class:"navbar-nav"},x$=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),w$={class:"nav-item d-none d-sm-inline-block"},C$={class:"navbar-nav ml-auto"},S$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),M$=pe('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),U$={class:"nav-link","data-toggle":"dropdown",href:"#"},D$=e("i",{class:"far fa-bell"},null,-1),V$={class:"badge badge-warning navbar-badge"},A$={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},E$={class:"dropdown-header"},T$=e("div",{class:"dropdown-divider"},null,-1),I$=e("i",{class:"fas fa-envelope mr-2"},null,-1),L$={class:"float-right text-muted text-sm"},F$={key:1,class:"text-center text-muted py-3"},P$=e("div",{class:"dropdown-divider"},null,-1),Y$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),B$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),N$={__name:"AppNavbar",setup(o){const r=Ee(),n=d([]),l=()=>{A.get("/api/notifications").then(c=>{n.value=c.data.notifications}).catch(c=>{console.error("Error fetching notifications",c)})};return ue(()=>{l()}),(c,b)=>{const x=Ue("router-link");return t(),a("nav",{class:T(["main-header navbar navbar-expand",i(r).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",k$,[x$,e("li",w$,[e("a",{onClick:b[0]||(b[0]=ae((...v)=>i(r).changeTheme&&i(r).changeTheme(...v),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:T(["far",i(r).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",C$,[S$,M$,e("li",{class:"nav-item dropdown",onClick:l},[e("a",U$,[D$,e("span",V$,s(n.value.length),1)]),e("div",A$,[e("span",E$,s(n.value.length)+" Notifications",1),T$,n.value.length>0?(t(!0),a(R,{key:0},O(n.value,v=>(t(),a("a",{key:v.id,href:"#",class:"dropdown-item"},[I$,L(" "+s(v.data?v.data:"No message available")+" ",1),e("span",L$,s(i(_e)(v.created_at)),1)]))),128)):(t(),a("p",F$,"No new notifications")),P$,C(x,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:te(()=>[L("See All Notifications")]),_:1})])]),Y$,B$])],2)}}},q$={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},R$={href:"#",class:"brand-link"},j$=["src"],H$={class:"brand-text font-weight-light"},O$={class:"sidebar"},z$={class:"user-panel mt-3 pb-3 mb-3 d-flex"},G$={key:0,class:"image"},Q$=["src"],W$={key:1,class:"image"},K$=["src"],X$=["src"],J$={class:"info"},Z$={href:"#",class:"d-block"},eg={class:"mt-2"},tg={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},sg={key:0,class:"right fas fa-angle-left"},ag={key:0,class:"nav nav-treeview"},og={class:"nav-item"},lg={class:"nav-link"},ng=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),dg=e("p",null,"Logout",-1),ig=[ng,dg],cg={__name:"SidebarLeft",setup(o){const r=Ne(),n=ie(),l=Ee(),c=d({data:[]}),b=()=>{axios.get("/api/menu").then(E=>{c.value=E.data}).catch(E=>{console.log(E)})},x=E=>E===r.currentRoute.value.path,v=()=>{axios.post("/logout").then(E=>{n.user.name="",r.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),b()}),(E,F)=>{const m=Ue("router-link");return t(),a("aside",q$,[e("a",R$,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,j$),e("span",H$,s(i(l).setting.app_name),1)]),e("div",O$,[e("div",z$,[i(n).user.avatar===""?(t(),a("div",G$,[e("img",{src:i(n).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Q$)])):i(n).user.avatar!==""?(t(),a("div",W$,[i(n).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,K$)):i(n).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,X$)):V("",!0)])):V("",!0),e("div",J$,[e("a",Z$,s(i(n).user.name),1)])]),e("nav",eg,[e("ul",tg,[(t(!0),a(R,null,O(c.value,y=>(t(),a("li",{key:y.id,class:T({"nav-item":!0,"has-submenu":y.submenus&&y.submenus.length>0})},[C(m,{class:T({"nav-link":!0,active:x(y.menu_route)}),to:`${y.menu_route}`},{default:te(()=>[e("i",{class:T("nav-icon "+y.menu_icon)},null,2),e("p",null,s(y.menu_title),1),y.submenus&&y.submenus.length>0?(t(),a("i",sg)):V("",!0)]),_:2},1032,["class","to"]),y.submenus&&y.submenus.length>0?(t(),a("ul",ag,[(t(!0),a(R,null,O(y.submenus,h=>(t(),a("li",{key:h.id,class:"nav-item"},[C(m,{class:T({"nav-link":!0,active:x(h.menu_route)}),to:h.menu_route},{default:te(()=>[e("i",{class:T("nav-icon "+h.menu_icon)},null,2),e("p",null,s(h.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):V("",!0)],2))),128)),e("li",og,[e("form",lg,[e("a",{href:"#",onClick:ae(v,["prevent"])},ig)])])])])])])}}},rg={},ug={class:"control-sidebar control-sidebar-dark"},_g=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),mg=[_g];function hg(o,r){return t(),a("aside",ug,mg)}var pg=ve(rg,[["render",hg]]);const vg={class:"main-footer"},bg={class:"float-right d-none d-sm-block"},fg={href:"#"},$g={__name:"AppFooter",props:{settings:Object},setup(o){const r=ie(),n=d(new Date().getFullYear());return(l,c)=>{var b;return t(),a("footer",vg,[e("div",bg,s(i(r).user.name),1),e("strong",null,[L("Copyright \xA9 "+s(n.value)+" ",1),e("a",fg,s((b=o.settings)==null?void 0:b.app_name),1),L(".")]),L(" All rights reserved. ")])}}};const gg=o=>(Ce("data-v-36653638"),o=o(),Se(),o),yg={class:"content-wrapper"},kg={class:"content-header"},xg={class:"container-fluid"},wg={class:"row mb-2"},Cg={class:"col-sm-6"},Sg={class:"m-0"},Mg={class:"col-sm-6"},Ug={class:"breadcrumb float-sm-right"},Dg=gg(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Vg={class:"breadcrumb-item active"},Ag={__name:"CustomMainLayout",setup(o){const r=ie(),n=Ee(),l=ye(()=>n.theme==="dark"?"dark-mode":"");return(c,b)=>{const x=Ue("router-view");return i(r).user.name!==""?(t(),a("div",{key:0,class:T(["wrapper",l.value])},[C(N$),C(cg),C(pg),e("div",yg,[e("section",kg,[e("div",xg,[e("div",wg,[e("div",Cg,[e("h1",Sg,s(c.$route.name),1)]),e("div",Mg,[e("ol",Ug,[Dg,e("li",Vg,s(c.$route.name),1)])])])])]),C(x)]),C($g)],2)):(t(),a("div",{key:1,class:T(["login-page slibg",l.value])},[C(x)],2))}}};var Eg=ve(Ag,[["__scopeId","data-v-36653638"]]);const Tg={__name:"App",setup(o){ie();const r=Ve(),n=ye(()=>r.name==="Tech-Approved"),l=ye(()=>r.name==="404 Error Page");return(c,b)=>(t(),a("div",null,[!l.value&&!n.value?(t(),de(Eg,{key:0})):n.value?(t(),de(Ke,{key:1})):(t(),de(We,{key:2}))]))}};var Ig=ve(Tg,[["__scopeId","data-v-252b567e"]]);const Lg=lt(),Te=ct(Ig),Xe=nt({routes:y$,history:dt()});Xe.beforeEach(async(o,r)=>{const n=ie();if(n.user.name===""&&o.name!=="admin.login"){const l=Ee();await Promise.all([n.getAuthUser(),l.getSetting()])}});Te.use(Lg);Te.use(Xe);Te.use($t);Te.use(Ge);Te.mount("#app");
