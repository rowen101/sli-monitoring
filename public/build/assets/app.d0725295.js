import{_ as it,l as Le}from"./lodash.6f1dd969.js";import{a as A}from"./axios.82d3905a.js";import{a as ct}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as Je,c as rt}from"./pinia.210ccde5.js";import{u as fe,a as Qe,c as ut,b as _t}from"./vue-router.abad5649.js";import{r as c,o as _e,i as a,k as e,x as s,_ as k,u,e as t,I as De,h as Z,j as U,F as R,q as K,d as ge,a0 as se,v as V,C as Ae,a2 as ee,a3 as ue,aa as Fe,p as L,w as be,ab as we,f as ce,a5 as Me,a6 as Ve,ac as Ze,ad as Ee,B as et,a1 as Ge,ae as mt}from"./@vue.04713aa0.js";import{B as pt}from"./vue-chartjs.50c6886f.js";import{C as ht,p as vt,a as bt,b as ft,c as $t,d as gt,L as yt}from"./chart.js.562acd0f.js";import{S as Ke}from"./sweetalert2.ef56b979.js";import{t as je}from"./toastr.94171567.js";import{F as Ue,a as N}from"./vee-validate.1443789f.js";import{f as tt}from"./flatpickr.181c7977.js";import{c as xe,a as q}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ve}from"./moment.40bc58bf.js";import{a as qe}from"./laravel-vue-pagination.475a8c82.js";import{C as kt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Ie}from"./vue3-datepicker.b3fccff5.js";import{h as Oe}from"./html2canvas.c4a43e03.js";import{h as st}from"./html2pdf.js.44b835e5.js";import{V as wt}from"./vue-sweetalert2.891f877f.js";import{d as Ct}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=it;window.axios=A;window.$=window.jQuery=ct;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=Je("AuthUserStore",()=>{const o=c({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await A.get("/api/profile").then(m=>{o.value=m.data})}}}),St={class:"content"},Dt={class:"container-fluid"},Ut={class:"card"},Mt={class:"card-header"},Vt={class:"card-body"},At=e("div",{class:"row"},null,-1),Et={__name:"Dashboard",setup(o){ht.register(vt,bt,ft,$t,gt,yt);const g=`${fe().name}`;me(),c("all"),c(0);const m=c(new Date().getFullYear()),d=c({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),r=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},_=c("today"),p=c(0),S=()=>{axios.get("/api/stats/users",{params:{date_range:_.value}}).then(l=>{p.value=l.data.totalUsersCount})};return _e(()=>{r(),S(),document.title=g}),(l,E)=>(t(),a("div",St,[e("div",Dt,[e("div",Ut,[e("div",Mt," Yearly Progress - "+s(m.value),1),e("div",Vt,[k(u(pt),{data:d.value},null,8,["data"])])]),At])]))}},Tt={class:"content"},Lt={class:"container-fluid"},Pt={class:"row"},Ft={class:"col-lg-12"},It={class:"d-flex justify-content-between mb-2"},qt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),V(" Add New Appointment")],-1),Yt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Nt={class:"badge badge-pill badge-info"},Rt=["onClick"],Ht={class:"mr-1"},jt={class:"card"},Ot={class:"card-body"},zt={class:"table table-bordered"},Gt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Wt=e("i",{class:"fa fa-edit mr-2"},null,-1),Kt=["onClick"],Xt=e("i",{class:"fa fa-trash text-danger"},null,-1),Jt=[Xt],Zt={__name:"ListAppointments",setup(o){const g=c(),m=c([]),d=()=>{A.get("/api/appointment-status").then(E=>{m.value=E.data})},r=c([]),_=E=>{g.value=E;const b={};E&&(b.status=E),A.get("/api/appointments",{params:b}).then(x=>{r.value=x.data,console.log(x)})},p=De(()=>m.value.map(E=>E.count).reduce((E,b)=>E+b,0)),S=E=>{const b=r.value.data.find(n=>n.id===E).status.name,x=m.value.find(n=>n.name===b);x.count--},l=E=>{Ke.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&A.delete(`/api/appointments/${E}`).then(x=>{S(E),r.value.data=r.value.data.filter(n=>n.id!==E),Ke.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{_(),d()}),(E,b)=>{const x=ge("router-link");return t(),a("div",Tt,[e("div",Lt,[e("div",Pt,[e("div",Ft,[e("div",It,[e("div",null,[k(x,{to:"/admin/appointments/create"},{default:Z(()=>[qt]),_:1})]),e("div",Yt,[e("button",{onClick:b[0]||(b[0]=n=>_()),type:"button",class:U(["btn",[typeof g.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Nt,s(p.value),1)],2),(t(!0),a(R,null,K(m.value,n=>(t(),a("button",{key:n.id,onClick:w=>_(n.value),type:"button",class:U(["btn",[g.value===n.value?"btn-secondary":"btn-default"]])},[e("span",Ht,s(n.name),1),e("span",{class:U(["badge badge-pill",`badge-${n.color}`])},s(n.count),3)],10,Rt))),128))])]),e("div",jt,[e("div",Ot,[e("table",zt,[Gt,e("tbody",null,[(t(!0),a(R,null,K(r.value.data,(n,w)=>(t(),a("tr",{key:n.id},[e("td",null,s(w+1),1),e("td",null,s(n.client.first_name)+" "+s(n.client.last_name),1),e("td",null,s(n.start_time),1),e("td",null,s(n.end_time),1),Qt,e("td",null,[k(x,{to:`/admin/appointments/${n.id}/edit`},{default:Z(()=>[Wt]),_:2},1032,["to"]),e("a",{href:"#",onClick:se(I=>l(n.id),["prevent"])},Jt,8,Kt)])]))),128))])])])])])])])])}}};function pe(){return je.options.positionClass="toast-top-right",je.options.closeButton=!0,je.options.progressBar=!0,je}const es={class:"content-header"},ts={class:"container-fluid"},ss={class:"row mb-2"},as={class:"col-sm-6"},os={class:"m-0"},ls={key:0},ns={key:1},ds={class:"col-sm-6"},is={class:"breadcrumb float-sm-right"},cs={class:"breadcrumb-item"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item active"},_s={key:0},ms={key:1},ps={class:"content"},hs={class:"container-fluid"},vs={class:"row"},bs={class:"col-lg-12"},fs={class:"card"},$s={class:"card-body"},gs={class:"row"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),ws={class:"invalid-feedback"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ds=e("label",{for:"client"},"Client Name",-1),Us=["value"],Ms={class:"invalid-feedback"},Vs={class:"row"},As={class:"col-md-6"},Es={class:"form-group"},Ts=e("label",{for:"start-time"},"Start Time",-1),Ls={class:"invalid-feedback"},Ps={class:"col-md-6"},Fs={class:"form-group"},Is=e("label",{for:"end-time"},"End Time",-1),qs={class:"invalid-feedback"},Ys={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Ns={class:"invalid-feedback"},Rs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Xe={__name:"AppointmentForm",setup(o){const g=Qe(),m=fe(),d=pe(),r=Ae({title:"",client_id:"",start_time:"",end_time:"",description:""}),_=(n,w)=>{x.value?S(n,w):p(n,w)},p=(n,w)=>{A.post("/api/appointments/create",r).then(I=>{g.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(I=>{w.setErrors(I.response.data.errors)})},S=(n,w)=>{A.put(`/api/appointments/${m.params.id}/edit`,r).then(I=>{g.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(I=>{w.setErrors(I.response.data.errors)})},l=c(),E=()=>{A.get("/api/view-clients").then(n=>{l.value=n.data})},b=()=>{A.get(`/api/appointments/${m.params.id}/edit`).then(({data:n})=>{r.title=n.title,r.client_id=n.client_id,r.start_time=n.formatted_start_time,r.end_time=n.formatted_end_time,r.description=n.description})},x=c(!1);return _e(()=>{m.name==="admin.appointments.edit"&&(x.value=!0,b()),tt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),E()}),(n,w)=>{const I=ge("router-link");return t(),a(R,null,[e("div",es,[e("div",ts,[e("div",ss,[e("div",as,[e("h1",os,[x.value?(t(),a("span",ls,"Edit")):(t(),a("span",ns,"Create")),V(" Appointment")])]),e("div",ds,[e("ol",is,[e("li",cs,[k(I,{to:"/admin/dashboard"},{default:Z(()=>[V("Home")]),_:1})]),e("li",rs,[k(I,{to:"/admin/appointments"},{default:Z(()=>[V("Appointments")]),_:1})]),e("li",us,[x.value?(t(),a("span",_s,"Edit")):(t(),a("span",ms,"Create"))])])])])])]),e("div",ps,[e("div",hs,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[k(u(Ue),{onSubmit:_},{default:Z(({errors:G})=>[e("div",gs,[e("div",ys,[e("div",ks,[xs,ee(e("input",{"onUpdate:modelValue":w[0]||(w[0]=te=>r.title=te),type:"text",class:U(["form-control",{"is-invalid":G.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ue,r.title]]),e("span",ws,s(G.title),1)])]),e("div",Cs,[e("div",Ss,[Ds,ee(e("select",{"onUpdate:modelValue":w[1]||(w[1]=te=>r.client_id=te),id:"client",class:U(["form-control",{"is-invalid":G.client_id}])},[(t(!0),a(R,null,K(l.value,te=>(t(),a("option",{value:te.id,key:te.id},s(te.first_name)+" "+s(te.last_name),9,Us))),128))],2),[[Fe,r.client_id]]),e("span",Ms,s(G.client_id),1)])])]),e("div",Vs,[e("div",As,[e("div",Es,[Ts,ee(e("input",{"onUpdate:modelValue":w[2]||(w[2]=te=>r.start_time=te),type:"text",class:U(["form-control flatpickr",{"is-invalid":G.start_time}]),id:"start-time"},null,2),[[ue,r.start_time]]),e("span",Ls,s(G.start_time),1)])]),e("div",Ps,[e("div",Fs,[Is,ee(e("input",{"onUpdate:modelValue":w[3]||(w[3]=te=>r.end_time=te),type:"text",class:U(["form-control flatpickr",{"is-invalid":G.end_time}]),id:"end-time"},null,2),[[ue,r.end_time]]),e("span",qs,s(G.end_time),1)])])]),e("div",Ys,[Bs,ee(e("textarea",{"onUpdate:modelValue":w[4]||(w[4]=te=>r.description=te),class:U(["form-control",{"is-invalid":G.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ue,r.description]]),e("span",Ns,s(G.description),1)]),Rs]),_:1})])])])])])])],64)}}},Hs=["checked"],js=["value","selected"],Os=["value","selected"],zs=e("i",{class:"fa fa-edit"},null,-1),Gs=[zs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ws=[Qs],Ks={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){const m=pe(),d=o,r=g,_=c([{name:"ADMIN",value:1},{name:"USER",value:2}]),p=c([]),S=()=>{A.get("/api/users/userlist").then(x=>{p.value=x.data}).catch(x=>{console.log(x)})},l=(x,n)=>{A.patch(`/api/users/${x.id}/change-role`,{role:n}).then(()=>{m.success("Role changed successfully!")})},E=(x,n)=>{A.patch(`/api/users/${x.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{m.success("Sitehead changed successfully!")})},b=()=>{r("toggleSelection",d.user)};return _e(()=>{S()}),(x,n)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:b},null,40,Hs)):L("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=w=>l(o.user,w.target.value))},[(t(!0),a(R,null,K(_.value,w=>(t(),a("option",{key:w.id,value:w.value,selected:o.user.role===w.name},s(w.name),9,js))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=w=>E(o.user,w.target.value))},[(t(!0),a(R,null,K(p.value,w=>(t(),a("option",{key:w.id,value:w.id,selected:o.user.sitehead_user_id===w.id},s(w.first_name+" "+w.last_name),9,Os))),128))],32)):L("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=se(w=>x.$emit("editUser",o.user),["prevent"]))},Gs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=se(w=>x.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ws)):L("",!0)])]))}},Xs={class:"content"},Js={class:"container-fluid"},Zs={class:"d-flex justify-content-between mb-2"},ea={class:"d-flex"},ta=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sa={key:0},aa=e("i",{class:"fa fa-trash mr-1"},null,-1),oa={class:"ml-2"},la={class:"card"},na={class:"card-body"},da={class:"dispatch-table"},ia={class:"table-responsive"},ca={class:"table table-bordered table-hover table-sm"},ra=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),pa=[ma],ha=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Da=["value","selected"],Ua=e("hr",null,null,-1),Ma={class:"row"},Va={key:0,class:"col"},Aa=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),Pa=[La],Fa={key:1,class:"col"},Ia=["onClick"],qa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ya={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Na={class:"modal-content"},Ra={class:"modal-header"},Ha={class:"modal-title",id:"staticBackdropLabel"},ja={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},po={class:"form-group"},ho=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Do=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vo={__name:"UserList",setup(o){const g=`${fe().name}`,m=me(),d=pe(),r=c({data:[]}),_=c(!1),p=c(),S=c(null);c([]),c(null);const l=c([{name:"Male",value:1},{name:"Female",value:2}]),E=(T=1)=>{A.get(`/api/users?page=${T}`,{params:{query:Y.value}}).then(C=>{r.value=C.data,i.value=[],H.value=!1})},b=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().required().min(8),gender:q().required()}),x=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().when((T,C)=>T?C.required().min(8):C),gender:q().required()}),n=c([]),w=()=>{A.get("/api/users/userlist").then(T=>{n.value=T.data}).catch(T=>{console.log(T)})},I=(T,C)=>{A.patch(`/api/users/${T.id}/change-sitehead`,{sitehead_user_id:C}).then(()=>{d.success("Sitehead changed successfully!")})},G=(T,{resetForm:C,setErrors:h})=>{A.post("/api/users",T).then(f=>{r.value.data.unshift(f.data),$("#userFormModal").modal("hide"),C(),d.success("User created successfully!")}).catch(f=>{f.response.data.errors&&(h(f.response.data.errors),d.warning(f.response.data.errors.name))})},te=()=>{_.value=!1,$("#userFormModal").modal("show")},X=T=>{_.value=!0,S.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:T.id,name:T.name,email:T.email,sitehead_user_id:T.sitehead_user_id,first_name:T.first_name,last_name:T.last_name,gender:T.gender}},j=(T,{setErrors:C})=>{A.put("/api/users/"+p.value.id,T).then(h=>{const f=r.value.data.findIndex(ne=>ne.id===h.data.id);r.value.data[f]=h.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(h=>{C(h.response.data.errors),console.log(h)})},y=(T,C)=>{_.value?j(T,C):G(T,C)},Y=c(null),i=c([]),P=T=>{const C=i.value.indexOf(T.id);C===-1?i.value.push(T.id):i.value.splice(C,1),console.log(i.value)},O=c(null),oe=T=>{O.value=T,$("#deleteUserModal").modal("show")},W=()=>{A.delete(`/api/users/${O.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),r.value.data=r.value.data.filter(T=>T.id!==O.value)})},he=()=>{A.delete("/api/users",{data:{ids:i.value}}).then(T=>{r.value.data=r.value.data.filter(C=>!i.value.includes(C.id)),i.value=[],H.value=!1,d.success(T.data.message)})},H=c(!1);return be(Y,Le.exports.debounce(()=>{E()},300)),_e(()=>{E(),w(),document.title=g}),(T,C)=>{const h=ge("font");return t(),a(R,null,[e("div",Xs,[e("div",Js,[e("div",Zs,[e("div",ea,[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ta,V(" User ")]),i.value.length>0?(t(),a("div",sa,[e("button",{onClick:he,type:"button",class:"ml-2 mb-2 btn btn-danger"},[aa,V(" Delete Selected ")]),e("span",oa,"Selected "+s(i.value.length)+" users",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=f=>Y.value=f),class:"form-control",placeholder:"Search..."},null,512),[[ue,Y.value]])])]),e("div",la,[e("div",na,[e("div",da,[e("div",ia,[k(h,{size:"2"},{default:Z(()=>[e("table",ca,[ra,r.value.data.length>0?(t(),a("tbody",ua,[(t(!0),a(R,null,K(r.value.data,(f,ne)=>(t(),ce(Ks,{key:f.id,user:f,index:ne,onEditUser:X,onConfirmUserDeletion:oe,onToggleSelection:P,"select-all":H.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",_a,pa))])]),_:1})])]),(t(!0),a(R,null,K(r.value.data,(f,ne)=>(t(),a("div",{class:"dispatch-list",key:f.id,index:ne},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,s(f.first_name+" "+f.last_name),1)]),e("div",ga,[ya,e("span",null,s(f.email),1)]),e("div",ka,[xa,e("span",null,s(f.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[f.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:ie=>I(f,ie.target.value)},[(t(!0),a(R,null,K(n.value,ie=>(t(),a("option",{key:ie.id,value:ie.id,selected:ie.sitehead_user_id===ie.id},s(ie.first_name+" "+ie.last_name),9,Da))),128))],40,Sa)):L("",!0)])]),Ua,e("div",Ma,[u(m).user.role==="ADMIN"?(t(),a("div",Va,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>X(f)},[Ea,V(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ie=>oe(f.id)},Pa,8,Ta)])):L("",!0),u(m).user.role==="USER"?(t(),a("div",Fa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>X(f)},[qa,V(" Edit ")],8,Ia)])):L("",!0)])])])],8,ha))),128))])]),k(u(qe),{data:r.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",Ya,[e("div",Ba,[e("div",Na,[e("div",Ra,[e("h5",Ha,[_.value?(t(),a("span",ja,"Edit User")):(t(),a("span",Oa,"Add New User"))]),za]),k(u(Ue),{ref_key:"form",ref:S,onSubmit:y,"validation-schema":_.value?u(x):u(b),"initial-values":p.value},{default:Z(({errors:f})=>[e("div",Ga,[e("div",Qa,[Wa,k(u(N),{name:"name",type:"text",class:U(["form-control",{"is-invalid":f.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,s(f.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,k(u(N),{name:"email",type:"email",class:U(["form-control",{"is-invalid":f.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,s(f.email),1)])]),e("div",so,[e("div",ao,[oo,k(u(N),{id:"gender",name:"gender",as:"select",class:U(["form-control",{"is-invalid":f.gender}])},{default:Z(()=>[lo,(t(!0),a(R,null,K(l.value,ne=>(t(),a("option",{key:ne.name,value:ne.name},s(ne.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,k(u(N),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":f.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,s(f.first_name),1)])]),e("div",mo,[e("div",po,[ho,k(u(N),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":f.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,s(f.last_name),1)])])]),e("div",bo,[fo,k(u(N),{name:"position",type:"text",class:U(["form-control",{"is-invalid":f.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,s(f.position),1)]),e("div",go,[yo,k(u(N),{name:"password",type:"password",class:U(["form-control",{"is-invalid":f.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,s(f.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Do,e("div",Uo,[Mo,e("button",{onClick:se(W,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Ao=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Eo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Lo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Te={__name:"ContentLoader",setup(o){return(g,m)=>g.isloading?(t(),ce(u(kt),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Ao,Eo,To,Lo]),_:1})):L("",!0)}};var ye=(o,g)=>{const m=o.__vccOpts||o;for(const[d,r]of g)m[d]=r;return m};const Ye=o=>(Me("data-v-3a144c01"),o=o(),Ve(),o),Po={class:"content"},Fo={class:"container-fluid"},Io={class:"row"},qo={class:"col-md-6"},Yo={class:"card"},Bo=we('<ul class="nav nav-tabs" id="settingsTabs" data-v-3a144c01><li class="nav-item" data-v-3a144c01><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-3a144c01>General Settings</a></li><li class="nav-item" data-v-3a144c01><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-3a144c01>Site Settings</a></li></ul>',1),No={class:"tab-content"},Ro={class:"tab-pane fade show active",id:"general-tab"},Ho={class:"card-body"},jo={class:"form-group"},Oo=Ye(()=>e("label",{for:"appName"},"App Display Name",-1)),zo={key:0,class:"text-danger text-sm"},Go={class:"form-group"},Qo=Ye(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Wo=we('<option value="m/d/Y" data-v-3a144c01> MM/DD/YYYY </option><option value="d/m/Y" data-v-3a144c01> DD/MM/YYYY </option><option value="Y-m-d" data-v-3a144c01> YYYY-MM-DD </option><option value="F j, Y" data-v-3a144c01> Month DD, YYYY </option><option value="j F Y" data-v-3a144c01> DD Month YYYY </option>',5),Ko=[Wo],Xo={key:0,class:"text-danger text-sm"},Jo={class:"form-group"},Zo=Ye(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),el={key:0,class:"text-danger text-sm"},tl=Ye(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),V("Save Changes ")])],-1)),sl={class:"tab-pane fade",id:"site"},al={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ol={key:0,class:"list-group-item mt-2"},ll={class:"d-flex justify-content-between"},nl={class:"d-flex"},dl=["onClick"],il={class:"d-flex"},cl=["onClick"],rl={class:"m-2 list-unstyled"},ul={key:1},_l={key:0,class:"list-group-item mt-2"},ml={class:"d-flex justify-content-between"},pl={class:"d-flex"},hl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=Ye(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=Ye(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const g=`${fe().name}`,m=c([]),d=pe(),r=c(!0),_=c([]),p=c(!1),S=c(),l=c({id:"",site_name:"",is_active:""}),E=()=>{p.value=!0,axios.get("/api/site").then(y=>{p.value=!1,_.value=y.data}).catch(y=>{console.log(y)})},b=De(()=>Array.isArray(_.value)?_.value.filter(y=>y.is_active===0):[]),x=De(()=>b.value.length),n=()=>{r.value=!r.value},w=()=>{var y,Y;p.value=!0,axios.post("/api/site",{id:(y=l.value)==null?void 0:y.id,site_name:(Y=l.value)==null?void 0:Y.site_name,is_active:!0}).then(i=>{E(),l.value={id:null,site_name:"",is_active:!0},d.success(i.data.message),p.value=!1}).catch(i=>{i.response&&i.response.status===422&&(X.value=i.response.data.errors)})},I=y=>{l.value.is_active=y.is_active===1?0:1,axios.post("/api/site",{id:y.id,site_name:y.site_name,is_active:l.value.is_active}).then(Y=>{axios.get("/api/site").then(i=>{_.value=i.data}).catch(i=>{console.error("Error fetching tasks:",i),d.error("Error fetching tasks. Please try again.")})}).catch(Y=>{console.error("Error adding new task:",Y),d.error("Error adding new task. Please try again.")})},G=y=>{l.value.id=y.id,l.value.site_name=y.site_name},te=()=>{axios.get("/api/settings").then(y=>{m.value=y.data})},X=c(),j=()=>{X.value="",axios.post("/api/settings",m.value).then(y=>{d.success("Settings updated successfully!")}).catch(y=>{y.response&&y.response.status===422&&(X.value=y.response.data.errors)})};return _e(()=>{E(),te(),document.title=g}),(y,Y)=>(t(),a("div",Po,[e("div",Fo,[e("div",Io,[e("div",qo,[e("div",Yo,[Bo,e("div",No,[e("div",Ro,[e("form",{onSubmit:Y[3]||(Y[3]=se(i=>j(),["prevent"]))},[e("div",Ho,[e("div",jo,[Oo,ee(e("input",{"onUpdate:modelValue":Y[0]||(Y[0]=i=>m.value.app_name=i),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ue,m.value.app_name]]),X.value&&X.value.app_name?(t(),a("span",zo,s(X.value.app_name[0]),1)):L("",!0)]),e("div",Go,[Qo,ee(e("select",{"onUpdate:modelValue":Y[1]||(Y[1]=i=>m.value.date_format=i),class:"form-control"},Ko,512),[[Fe,m.value.date_format]]),X.value&&X.value.date_format?(t(),a("span",Xo,s(X.value.date_format[0]),1)):L("",!0)]),e("div",Jo,[Zo,ee(e("input",{"onUpdate:modelValue":Y[2]||(Y[2]=i=>m.value.pagination_limit=i),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ue,m.value.pagination_limit]]),X.value&&X.value.pagination_limit?(t(),a("span",el,s(X.value.pagination_limit[0]),1)):L("",!0)])]),tl],32)]),e("div",sl,[_.value.length>0?(t(),a("div",al,[p.value?(t(),ce(Te,{key:0})):L("",!0),(t(!0),a(R,null,K(_.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===1?(t(),a("li",ol,[e("div",ll,[e("div",nl,[e("i",{onClick:P=>I(i),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,dl),e("span",{class:U({"font-italic text-red":i.is_active===0,"":i.is_active===1})},s(i.site_name),3)]),e("div",il,[e("i",{class:"fa fa-pen text-success",onClick:P=>G(i)},null,8,cl)])])])):L("",!0)]))),128)),e("li",rl,[x.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:n},[e("i",{class:U(["fa",r.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Deactive List "+s(x.value),1)])):L("",!0)]),r.value?(t(),a("div",ul,[(t(!0),a(R,null,K(_.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===0?(t(),a("li",_l,[e("div",ml,[e("div",pl,[e("i",{onClick:P=>I(i),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,hl),e("span",{class:U({"font-italic text-red":i.is_active===0,"":i.is_active===1})},[e("del",null,s(i.site_name),1)],2)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",vl,fl)),k(u(Ue),{ref:"form",onSubmit:w,"initial-values":S.value},{default:Z(()=>[k(u(N),{name:"id",modelValue:l.value.id,"onUpdate:modelValue":Y[4]||(Y[4]=i=>l.value.id=i),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[k(u(N),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:l.value.site_name,"onUpdate:modelValue":Y[5]||(Y[5]=i=>l.value.site_name=i),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=ye(yl,[["__scopeId","data-v-3a144c01"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Dl={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Ml={class:"text-center"},Vl=["src"],Al={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Ll={class:"card"},Pl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Fl={class:"card-body"},Il={class:"tab-content"},ql={class:"tab-pane active",id:"profile"},Yl={class:"form-group row"},Bl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Nl={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},Hl={class:"form-group row"},jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),pn={class:"col-sm-9"},hn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const g=me(),m=pe(),d=`${fe().name}`,r=c([]),_=()=>{axios.put("/api/profile",{name:g.user.name,first_name:g.user.first_name,last_name:g.user.last_name,email:g.user.email,role:g.user.role}).then(x=>{m.success("Profile updated successfully!")}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},p=Ae({currentPassword:"",password:"",passwordConfirmation:""}),S=()=>{r.value="",axios.post("/api/change-user-password",p).then(x=>{m.success(x.data.message);for(const n in p)p[n]=""}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},l=c(null),E=()=>{l.value.click()},b=x=>{const n=x.target.files[0];g.user.avatar=URL.createObjectURL(n);const w=new FormData;w.append("profile_picture",n),axios.post("/api/upload-profile-image",w).then(I=>{m.success("Image uploaded successfully!")})};return _e(()=>{document.title=d}),(x,n)=>(t(),a("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Dl,[e("div",Ul,[e("div",Ml,[e("input",{onChange:b,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:E,class:"profile-user-img img-circle",src:u(g).user.avatar,alt:"User profile picture"},null,8,Vl)]),e("h3",Al,s(u(g).user.name),1),e("p",El,s(u(g).user.role),1)])])]),e("div",Tl,[e("div",Ll,[Pl,e("div",Fl,[e("div",Il,[e("div",ql,[e("form",{onSubmit:n[4]||(n[4]=se(w=>_(),["prevent"])),class:"form-horizontal"},[e("div",Yl,[Bl,e("div",Nl,[ee(e("input",{"onUpdate:modelValue":n[0]||(n[0]=w=>u(g).user.name=w),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ue,u(g).user.name]]),r.value&&r.value.name?(t(),a("span",Rl,s(r.value.name[0]),1)):L("",!0)])]),e("div",Hl,[jl,e("div",Ol,[ee(e("input",{"onUpdate:modelValue":n[1]||(n[1]=w=>u(g).user.first_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ue,u(g).user.first_name]]),r.value&&r.value.first_name?(t(),a("span",zl,s(r.value.first_name[0]),1)):L("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[ee(e("input",{"onUpdate:modelValue":n[2]||(n[2]=w=>u(g).user.last_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ue,u(g).user.last_name]]),r.value&&r.value.last_name?(t(),a("span",Kl,s(r.value.last_name[0]),1)):L("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[ee(e("input",{"onUpdate:modelValue":n[3]||(n[3]=w=>u(g).user.email=w),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ue,u(g).user.email]]),r.value&&r.value.email?(t(),a("span",en,s(r.value.email[0]),1)):L("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:se(S,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[ee(e("input",{"onUpdate:modelValue":n[5]||(n[5]=w=>p.currentPassword=w),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ue,p.currentPassword]]),r.value&&r.value.current_password?(t(),a("span",nn,s(r.value.current_password[0]),1)):L("",!0)])]),e("div",dn,[cn,e("div",rn,[ee(e("input",{"onUpdate:modelValue":n[6]||(n[6]=w=>p.password=w),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ue,p.password]]),r.value&&r.value.password?(t(),a("span",un,s(r.value.password[0]),1)):L("",!0)])]),e("div",_n,[mn,e("div",pn,[ee(e("input",{"onUpdate:modelValue":n[7]||(n[7]=w=>p.passwordConfirmation=w),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ue,p.passwordConfirmation]])])]),hn],32)])])])])])])])]))}};const Be=o=>(Me("data-v-1e686d1e"),o=o(),Ve(),o),bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=Be(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),wn={class:"input-group mb-3"},Cn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Sn=["type"],Dn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Un=Be(()=>e("div",{class:"input-group mb-3"},null,-1)),Mn={class:"row"},Vn={class:"col-12 mb-2"},An=["disabled"],En={key:0,class:"spinner-border spinner-border-sm",role:"status"},Tn=Be(()=>e("span",{class:"sr-only"},"Loading...",-1)),Ln=[Tn],Pn={key:1},Fn=Be(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),In="Login",qn={__name:"Login",setup(o){const g=c(!1),m=pe();me();const d=Qe(),r=Ae({email:"",password:""}),_=c(!1),p=c(""),S=()=>{_.value=!0,p.value="",A.post("/login",r).then(()=>{d.push("/dashboard"),m.success("Login Success")}).catch(l=>{m.error(l.response.data.message)}).finally(()=>{_.value=!1})};return _e(()=>{document.title=In}),(l,E)=>(t(),a("div",bn,[e("div",fn,[$n,e("div",gn,[p.value?(t(),a("div",yn,s(p.value),1)):L("",!0),e("form",{onSubmit:se(S,["prevent"])},[e("div",kn,[xn,ee(e("input",{"onUpdate:modelValue":E[0]||(E[0]=b=>r.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ue,r.email]])]),e("div",wn,[Cn,ee(e("input",{"onUpdate:modelValue":E[1]||(E[1]=b=>r.password=b),class:"form-control",placeholder:"Password",type:g.value?"text":"password",onClick:E[2]||(E[2]=(...b)=>l.handleKeyClick&&l.handleKeyClick(...b))},null,8,Sn),[[Ze,r.password]])]),e("label",Dn,[ee(e("input",{type:"checkbox","onUpdate:modelValue":E[3]||(E[3]=b=>g.value=b)},null,512),[[Ee,g.value]]),V(" Show Password ")]),Un,e("div",Mn,[e("div",Vn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:_.value},[_.value?(t(),a("div",En,Ln)):(t(),a("span",Pn,"Sign In"))],8,An)])])],32),Fn])])]))}};var Yn=ye(qn,[["__scopeId","data-v-1e686d1e"]]);const Bn=["checked"],Nn=e("i",{class:"fa fa-edit"},null,-1),Rn=[Nn],Hn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),jn=[Hn],On={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){pe();const m=o,d=g,r=()=>{d("toggleSelection",m.item)};return(_,p)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Bn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:p[0]||(p[0]=se(S=>_.$emit("editUser",o.item),["prevent"]))},Rn),e("a",{href:"#",onClick:p[1]||(p[1]=se(S=>_.$emit("confirmUserDeletion",o.item.id),["prevent"]))},jn)])]))}},zn={class:"content"},Gn={class:"container-fluid"},Qn={class:"d-flex justify-content-between"},Wn={class:"d-flex"},Kn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Xn={key:0},Jn=e("i",{class:"fa fa-trash mr-1"},null,-1),Zn={class:"ml-2"},ed={class:"card"},td={class:"card-body"},sd={class:"table table-bordered"},ad=e("th",{style:{width:"10px"}},"#",-1),od=e("th",null,"Name",-1),ld=e("th",null,"Email",-1),nd=e("th",null,"Registered Date",-1),dd=e("th",null,"Options",-1),id={key:0},cd={key:1},rd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),ud=[rd],_d={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},md={class:"modal-dialog",role:"document"},pd={class:"modal-content"},hd={class:"modal-header"},vd={class:"modal-title",id:"staticBackdropLabel"},bd={key:0},fd={key:1},$d=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),gd={class:"modal-body"},yd={class:"form-group"},kd=e("label",{for:"fist_name"},"First Name",-1),xd={class:"invalid-feedback"},wd={class:"form-group"},Cd=e("label",{for:"last_name"},"Last Name",-1),Sd={class:"invalid-feedback"},Dd={class:"form-group"},Ud=e("label",{for:"email"},"Email",-1),Md={class:"invalid-feedback"},Vd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ad={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ed={class:"modal-dialog",role:"document"},Td={class:"modal-content"},Ld=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Pd={class:"modal-footer"},Fd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Id={__name:"ClientList",setup(o){const g=pe(),m=c({data:[]}),d=c(!1),r=c(),_=c(null),p=(O=1)=>{A.get(`/api/clients?page=${O}`,{params:{query:I.value}}).then(oe=>{m.value=oe.data,G.value=[],i.value=!1})},S=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),l=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),E=(O,{resetForm:oe,setErrors:W})=>{A.post("/api/clients",O).then(he=>{m.value.data.unshift(he.data),$("#clientFormModal").modal("hide"),oe(),g.success("User created successfully!")}).catch(he=>{he.response.data.errors&&W(he.response.data.errors)})},b=()=>{d.value=!1,$("#clientFormModal").modal("show")},x=O=>{d.value=!0,_.value.resetForm(),$("#clientFormModal").modal("show"),r.value={id:O.id,first_name:O.first_name,last_name:O.last_name,email:O.email}},n=(O,{setErrors:oe})=>{A.put("/api/clients/"+r.value.id,O).then(W=>{const he=m.value.data.findIndex(H=>H.id===W.data.id);m.value.data[he]=W.data,$("#clientFormModal").modal("hide"),g.success("Client updated successfully!")}).catch(W=>{oe(W.response.data.errors),console.log(W)})},w=(O,oe)=>{d.value?n(O,oe):E(O,oe)},I=c(null),G=c([]),te=O=>{const oe=G.value.indexOf(O.id);oe===-1?G.value.push(O.id):G.value.splice(oe,1),console.log(G.value)},X=c(null),j=O=>{X.value=O,$("#deleteClientModal").modal("show")},y=()=>{A.delete(`/api/clients/${X.value}`).then(()=>{$("#deleteClientModal").modal("hide"),g.success("Client deleted successfully!"),m.value.data=m.value.data.filter(O=>O.id!==X.value)})},Y=()=>{A.delete("/api/clients",{data:{ids:G.value}}).then(O=>{m.value.data=m.value.data.filter(oe=>!G.value.includes(oe.id)),G.value=[],i.value=!1,g.success(O.data.message)})},i=c(!1),P=()=>{i.value?G.value=m.value.data.map(O=>O.id):G.value=[],console.log(G.value)};return be(I,Le.exports.debounce(()=>{p()},300)),_e(()=>{p()}),(O,oe)=>(t(),a(R,null,[e("div",zn,[e("div",Gn,[e("div",Qn,[e("div",Wn,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[Kn,V(" Add New Client ")]),G.value.length>0?(t(),a("div",Xn,[e("button",{onClick:Y,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Jn,V(" Delete Selected ")]),e("span",Zn,"Selected "+s(G.value.length)+" clients",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":oe[0]||(oe[0]=W=>I.value=W),class:"form-control",placeholder:"Search..."},null,512),[[ue,I.value]])])]),e("div",ed,[e("div",td,[e("table",sd,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":oe[1]||(oe[1]=W=>i.value=W),onChange:P},null,544),[[Ee,i.value]])]),ad,od,ld,nd,dd])]),m.value.data.length>0?(t(),a("tbody",id,[(t(!0),a(R,null,K(m.value.data,(W,he)=>(t(),ce(On,{key:W.id,item:W,index:he,onEditUser:x,onConfirmUserDeletion:j,onToggleSelection:te,"select-all":i.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",cd,ud))])])]),k(u(qe),{data:m.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",_d,[e("div",md,[e("div",pd,[e("div",hd,[e("h5",vd,[d.value?(t(),a("span",bd,"Edit Client")):(t(),a("span",fd,"Add New Client"))]),$d]),k(u(Ue),{ref_key:"form",ref:_,onSubmit:w,"validation-schema":d.value?u(l):u(S),"initial-values":r.value},{default:Z(({errors:W})=>[e("div",gd,[e("div",yd,[kd,k(u(N),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":W.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",xd,s(W.first_name),1)]),e("div",wd,[Cd,k(u(N),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":W.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Sd,s(W.last_name),1)]),e("div",Dd,[Ud,k(u(N),{name:"email",type:"email",class:U(["form-control",{"is-invalid":W.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Md,s(W.email),1)])]),Vd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ad,[e("div",Ed,[e("div",Td,[Ld,e("div",Pd,[Fd,e("button",{onClick:se(y,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const We=o=>(Me("data-v-36595330"),o=o(),Ve(),o),qd={style:{"text-align":"center"}},Yd={key:0},Bd=We(()=>e("i",{class:"fa fa-edit"},null,-1)),Nd=[Bd],Rd=We(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Hd=[Rd],jd={key:1,style:{"text-align":"center"}},Od={key:0},zd=We(()=>e("i",{class:"fa fa-edit"},null,-1)),Gd=[zd],Qd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:g}){pe();const m=me();return(d,r)=>{const _=ge("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",qd,[o.item.statusid==2?(t(),ce(_,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:U(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):L("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:U(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):L("",!0)]),e("td",null,s(o.item.created_at),1),u(m).user.role==="ADMIN"?(t(),a("td",Yd,[e("a",{href:"#",onClick:r[0]||(r[0]=se(p=>d.$emit("editUser",o.item),["prevent"]))},Nd),e("a",{href:"#",onClick:r[1]||(r[1]=se(p=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Hd)])):L("",!0),u(m).user.role==="USER"?(t(),a("td",jd,[o.item.statusid!=2?(t(),a("div",Od,[o.item.created_by==u(m).user.id?(t(),a("a",{key:0,href:"#",onClick:r[2]||(r[2]=se(p=>d.$emit("editUser",o.item),["prevent"]))},Gd)):L("",!0)])):L("",!0)])):L("",!0)])}}};var Wd=ye(Qd,[["__scopeId","data-v-36595330"]]);const Kd={class:"content"},Xd={class:"container-fluid"},Jd={class:"d-flex justify-content-between"},Zd={class:"d-flex"},ei=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ti={key:0},si=e("i",{class:"fa fa-trash mr-1"},null,-1),ai={class:"ml-2"},oi={class:"card"},li={class:"card-body"},ni={class:"dispatch-table"},di={class:"table-responsive"},ii={class:"table table-bordered table-sm"},ci=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ri={key:0},ui={key:1},_i=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),mi=[_i],pi=["item","index"],hi={class:"card"},vi={class:"card-body"},bi={class:"list-field"},fi=e("span",{class:"mb-1 dis"},"Tech #:",-1),$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"User:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Branch:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Department:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Created by:",-1),Di={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Status:",-1),Mi={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Ei={class:"row"},Ti={key:0,class:"col"},Li=["onClick"],Pi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fi=["onClick"],Ii=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),qi=[Ii],Yi={key:0,class:"btn btnsm btn-success btn-block"},Bi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni={key:1,class:"col"},Ri={key:0},Hi=["onClick"],ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zi={class:"modal-dialog modal-lg",role:"document"},Gi={class:"modal-content"},Qi={class:"modal-header"},Wi={class:"modal-title",id:"staticBackdropLabel"},Ki={key:0},Xi={key:1},Ji=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zi={class:"modal-body"},ec={class:"col-md-12"},tc={class:"row"},sc={class:"col-6"},ac={class:"form-group"},oc=e("label",{for:"branch"},"Branch",-1),lc=e("option",{value:"",disabled:""}," Select Branch ",-1),nc=["value"],dc={class:"invalid-feedback"},ic={class:"form-group"},cc=e("label",{for:"department"},"Department",-1),rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"warehouse"},"warehouse",-1),mc={class:"invalid-feedback"},pc={class:"form-group"},hc=e("label",{for:"user"},"User",-1),vc={class:"invalid-feedback"},bc={class:"col-6"},fc={class:"form-group"},$c=e("label",{for:"brand"},"Brand",-1),gc={class:"form-group"},yc=e("label",{for:"model"},"Model",-1),kc={class:"invalid-feedback"},xc={class:"form-group"},wc=e("label",{for:"assettag"},"Asset tag",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"serialnum"},"Serial number",-1),Uc={class:"invalid-feedback"},Mc={class:"col-12"},Vc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Ec={class:"invalid-feedback"},Tc={class:"form-group"},Lc=e("label",{for:"assconducted"},"Assessment conducted",-1),Pc={class:"invalid-feedback"},Fc={class:"form-group"},Ic=e("label",{for:"recommendation"},"Recommendation",-1),qc={class:"invalid-feedback"},Yc={class:"modal-footer"},Bc={key:0},Nc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Hc={class:"dropdown-menu",role:"menu"},jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Oc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),zc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gc={class:"modal-dialog",role:"document"},Qc={class:"modal-content"},Wc=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Kc={class:"modal-footer"},Xc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Jc={__name:"TechList",setup(o){const g=c(),m=c(),d=pe(),r=c({data:[]});c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const _=`${fe().name}`,p=()=>{A.get("/api/getsite").then(h=>{m.value=h.data.sites}).catch(h=>{console.log(h)})},S=c(!1),l=c(!1),E=c(),b=Ae({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),x=me();c(null);const n=(h=1)=>{S.value=!0,A.get(`/api/tech-recommendations?page=${h}`,{params:{query:i.value}}).then(f=>{S.value=!1,r.value=f.data,P.value=[],C.value=!1})},w=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),I=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),G=(h,{resetForm:f,setErrors:ne})=>{A.post("/api/tech-recommendations",h).then(ie=>{r.value.data.unshift(ie.data),$("#FormModal").modal("hide"),f(),d.success("Data created successfully!")}).catch(ie=>{ie.response.data.errors&&ne(ie.response.data.errors)})},te=()=>{l.value=!1,$("#FormModal").modal("show")},X=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},j=h=>{g.value=h.id,l.value=!0,X(),b.id=h.id,b.branch=h.branch,b.department=h.department,b.warehouse=h.warehouse,b.user=h.user,b.problem=h.problem,b.brand=h.brand,b.model=h.model,b.assettag=h.assettag,b.serialnum=h.serialnum,b.assconducted=h.assconducted,b.recommendation=h.recommendation,b.ceated_by=h.ceated_by,b.recommnum=h.recommnum,$("#FormModal").modal("show")},y=(h,{setErrors:f})=>{A.put("/api/tech-recommendations/"+h.id,h).then(ne=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(ne=>{f(ne.response.data.errors),console.log(ne)})},Y=(h,f)=>{l.value?y(b,f):G(h,f)},i=c(null),P=c([]),O=h=>{const f=P.value.indexOf(h.id);f===-1?P.value.push(h.id):P.value.splice(f,1),console.log(P.value)},oe=c(null),W=h=>{oe.value=h,$("#deleteClientModal").modal("show")},he=()=>{A.delete(`/api/tech-recommendations/${oe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),r.value.data=r.value.data.filter(h=>h.id!==oe.value)})},H=()=>{A.delete("/api/tech-recommendations",{data:{ids:P.value}}).then(h=>{r.value.data=r.value.data.filter(f=>!P.value.includes(f.id)),P.value=[],C.value=!1,d.success(h.data.message)})},T=h=>{A.post("/api/tech-getaction",{id:g.value,status:h}).then(f=>{$("#FormModal").modal("hide"),n()}).catch(f=>{console.log(f.message)})},C=c(!1);return be(i,Le.exports.debounce(()=>{n()},300)),_e(()=>{n(),p(),document.title=_}),(h,f)=>{const ne=ge("font"),ie=ge("router-link");return t(),a(R,null,[e("div",Kd,[e("div",Xd,[e("div",Jd,[e("div",Zd,[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary"},[ei,V(" TechRecom ")]),P.value.length>0?(t(),a("div",ti,[e("button",{onClick:H,type:"button",class:"ml-2 mb-2 btn btn-danger"},[si,V(" Delete Selected ")]),e("span",ai,"Selected "+s(P.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=D=>i.value=D),class:"form-control",placeholder:"Search..."},null,512),[[ue,i.value]])])]),e("div",oi,[e("div",li,[S.value?(t(),ce(Te,{key:0})):L("",!0),e("div",ni,[e("div",di,[k(ne,{size:"2"},{default:Z(()=>[e("table",ii,[ci,r.value.data.length>0?(t(),a("tbody",ri,[(t(!0),a(R,null,K(r.value.data,(D,M)=>(t(),ce(Wd,{key:D.id,item:D,index:M,onEditUser:j,onShowItem:h.viewItem,onConfirmUserDeletion:W,onToggleSelection:O,"select-all":C.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ui,mi))])]),_:1})])]),(t(!0),a(R,null,K(r.value.data,(D,M)=>(t(),a("div",{class:"dispatch-list",key:D.id,item:D,index:M},[e("div",hi,[e("div",vi,[e("div",bi,[fi,e("span",null,[e("b",null,s(D.recommnum),1)])]),e("div",$i,[gi,e("span",null,s(D.user),1)]),e("div",yi,[ki,e("span",null,s(D.branch),1)]),e("div",xi,[wi,e("span",null,s(D.department),1)]),e("div",Ci,[Si,e("span",null,s(D.created_user),1)]),e("div",Di,[Ui,D.statusid==2?(t(),ce(ie,{key:0,to:`/admin/tech-approved/${D.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:U(["badge",`badge-${D.status.color}`])},s(D.status.name),3)]),_:2},1032,["to"])):L("",!0),D.statusid!=2?(t(),a("span",{key:1,class:U(["badge",`badge-${D.status.color}`])},s(D.status.name),3)):L("",!0)]),e("div",Mi,[Vi,e("span",null,s(D.created_at),1)]),Ai,e("div",Ei,[u(x).user.role==="ADMIN"?(t(),a("div",Ti,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Pe=>j(D)},[Pi,V(" Edit ")],8,Li),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Pe=>W(D.id)},qi,8,Fi),D.statusid==2?(t(),a("button",Yi,[Bi,V(" Download ")])):L("",!0)])):L("",!0),u(x).user.role==="USER"?(t(),a("div",Ni,[D.statusid!=2?(t(),a("div",Ri,[D.created_by==u(x).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Pe=>j(D)},[ji,V(" Edit ")],8,Hi)):L("",!0)])):L("",!0)])):L("",!0)])])])],8,pi))),128))])]),k(u(qe),{data:r.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Oi,[e("div",zi,[e("div",Gi,[e("div",Qi,[e("h5",Wi,[l.value?(t(),a("span",Ki,"Edit Tech Recom.")):(t(),a("span",Xi,"Add New Tech Recom."))]),Ji]),k(u(Ue),{onSubmit:Y,"validation-schema":l.value?u(I):u(w),"initial-values":E.value},{default:Z(({errors:D})=>[e("div",Zi,[e("div",ec,[e("div",tc,[e("div",sc,[k(u(N),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(x).user.id,"onUpdate:modelValue":f[1]||(f[1]=M=>u(x).user.id=M)},null,8,["modelValue"]),k(u(N),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":f[2]||(f[2]=M=>b.recommnum=M)},null,8,["modelValue"]),e("div",ac,[oc,k(u(N),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":D.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":f[3]||(f[3]=M=>b.branch=M)},{default:Z(()=>[lc,(t(!0),a(R,null,K(m.value,M=>(t(),a("option",{key:M.site_name,value:M.site_name},s(M.site_name),9,nc))),128))]),_:2},1032,["class","modelValue"]),e("span",dc,s(D.branch),1)]),e("div",ic,[cc,k(u(N),{name:"department",type:"text",class:U(["form-control",{"is-invalid":D.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":f[4]||(f[4]=M=>b.department=M)},null,8,["class","modelValue"]),e("span",rc,s(D.department),1)]),e("div",uc,[_c,k(u(N),{name:"warehouse",type:"text",class:U(["form-control",{"is-invalid":D.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":f[5]||(f[5]=M=>b.warehouse=M)},null,8,["class","modelValue"]),e("span",mc,s(D.warehouse),1)]),e("div",pc,[hc,k(u(N),{name:"user",type:"text",class:U(["form-control",{"is-invalid":D.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":f[6]||(f[6]=M=>b.user=M)},null,8,["class","modelValue"]),e("span",vc,s(D.user),1)])]),e("div",bc,[e("div",fc,[$c,k(u(N),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":f[7]||(f[7]=M=>b.brand=M)},null,8,["modelValue"])]),e("div",gc,[yc,k(u(N),{name:"model",type:"text",class:U(["form-control",{"is-invalid":D.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":f[8]||(f[8]=M=>b.model=M),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",kc,s(D.model),1)]),e("div",xc,[wc,k(u(N),{name:"assettag",type:"text",class:U(["form-control",{"is-invalid":D.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":f[9]||(f[9]=M=>b.assettag=M),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Cc,s(D.assettag),1)]),e("div",Sc,[Dc,ee(e("input",{name:"serialnum",type:"text",class:U(["form-control",{"is-invalid":D.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":f[10]||(f[10]=M=>b.serialnum=M)},null,2),[[ue,b.serialnum]]),e("span",Uc,s(D.serialnum),1)])]),e("div",Mc,[e("div",Vc,[Ac,k(u(N),{name:"problem",as:"textarea",class:U(["form-control",{"is-invalid":D.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":f[11]||(f[11]=M=>b.problem=M)},null,8,["class","modelValue"]),e("span",Ec,s(D.problem),1)]),e("div",Tc,[Lc,k(u(N),{name:"assconducted",as:"textarea",class:U(["form-control",{"is-invalid":D.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":f[12]||(f[12]=M=>b.assconducted=M)},null,8,["class","modelValue"]),e("span",Pc,s(D.assconducted),1)]),e("div",Fc,[Ic,k(u(N),{name:"recommendation",as:"textarea",class:U(["form-control",{"is-invalid":D.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":f[13]||(f[13]=M=>b.recommendation=M)},null,8,["class","modelValue"]),e("span",qc,s(D.recommendation),1)])])])])]),e("div",Yc,[l.value?(t(),a("div",Bc,[u(x).user.role==="ADMIN"?(t(),a("div",Nc,[e("button",{type:"button",onClick:f[14]||(f[14]=M=>T(2)),class:"btn btn-info"}," Approved "),Rc,e("div",Hc,[e("span",{onClick:f[15]||(f[15]=M=>T(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:f[16]||(f[16]=M=>T(3)),class:"dropdown-item"},"Disapproved")])])):L("",!0)])):L("",!0),jc,Oc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",zc,[e("div",Gc,[e("div",Qc,[Wc,e("div",Kc,[Xc,e("button",{onClick:se(he,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const He=Je("SettingStore",()=>{const o=c({app_name:""}),g=xt("SettingStore:theme",c("light"));return{setting:o,getSetting:async()=>{await A.get("/api/settings").then(r=>{o.value=r.data})},theme:g,changeTheme:()=>{g.value=g.value==="light"?"dark":"light"}}});const ae=o=>(Me("data-v-5aff9990"),o=o(),Ve(),o),Zc={class:"content"},er={class:"container-fluid"},tr={class:"card"},sr={class:"card-header"},ar={class:"card-title"},or={class:"card-body"},lr={class:"col-md-12"},nr={class:"d-flex justify-content-between"},dr=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ir={class:"d-flex"},cr={class:"col-12",id:"accordion"},rr={key:1},ur={key:0},_r={class:"card card-secondary"},mr={class:"card-body d-flex align-items-center justify-content-center"},pr={class:"image-container"},hr=["src"],vr=ae(()=>e("div",{class:"overlay"},null,-1)),br={key:1},fr={class:"card-header bg-white"},$r={class:"card-title"},gr=["href"],yr=["src"],kr={class:"card-tools"},xr=["onClick"],wr=ae(()=>e("i",{class:"fas fa-tasks"},null,-1)),Cr=[wr],Sr=["disabled","onClick"],Dr=["onClick"],Ur=ae(()=>e("p",{class:"float-right"},null,-1)),Mr=["id"],Vr={class:"card-body"},Ar={class:"col-md-12"},Er={class:"dispatch-table"},Tr={class:"row"},Lr={class:"col-4"},Pr=ae(()=>e("b",null,"Site:",-1)),Fr=ae(()=>e("b",null,"Planned Date:",-1)),Ir=ae(()=>e("b",null,"Planned End Date:",-1)),qr={class:"col-4"},Yr=ae(()=>e("b",null,"Start Date:",-1)),Br=ae(()=>e("b",null,"Accomplished Date:",-1)),Nr={class:"closestatus"},Rr=ae(()=>e("b",{style:{color:"black"}},"Type:",-1)),Hr={class:"col-4"},jr={class:"ongoing"},Or=ae(()=>e("b",{style:{color:"black"}},"Status:",-1)),zr=ae(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Gr=ae(()=>e("b",null,"Remarks:",-1)),Qr={style:{margin:"0.5%"}},Wr=["disabled","onClick"],Kr=["onClick","disabled"],Xr={class:"dispatch-list"},Jr={class:"list-group list-group-flush"},Zr={class:"list-group-item d-flex justify-content-between align-items-center"},eu={class:"badge badge-primary badge-pill"},tu={class:"list-group-item d-flex justify-content-between align-items-center"},su={class:"badge badge-primary badge-pill"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu=ae(()=>e("hr",null,null,-1)),vu={class:"row"},bu={class:"col"},fu=["onClick"],$u=ae(()=>e("i",{class:"fas fa-pen"},null,-1)),gu=["onClick"],yu=ae(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),V(" Drop ")],-1)),ku=[yu],xu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wu={class:"modal-dialog modal-dialog-centered",role:"document"},Cu={class:"modal-content"},Su={class:"modal-header"},Du={class:"modal-title",id:"staticBackdropLabel"},Uu={key:0},Mu={key:1},Vu={key:2},Au=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Eu={class:"modal-body"},Tu={class:"col-md-12"},Lu={class:"row"},Pu={class:"col-12"},Fu={class:"form-group"},Iu=ae(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),qu=ae(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Yu=["value"],Bu={key:0,class:"d-flex justify-content-between"},Nu={class:"d-flex"},Ru={class:"form-group"},Hu=ae(()=>e("label",{for:"end-time"},"Start Date",-1)),ju={class:"form-group"},Ou=ae(()=>e("label",{for:"end-time"},"Hour",-1)),zu=["value"],Gu=ae(()=>e("div",{class:"d-fex"},null,-1)),Qu={key:1,class:"d-flex justify-content-between"},Wu={class:"d-flex"},Ku={class:"form-group"},Xu=ae(()=>e("label",{for:"end-time"},"End Date",-1)),Ju={class:"form-group"},Zu=ae(()=>e("label",{for:"end-time"},"Hour",-1)),e_=["value"],t_=ae(()=>e("div",{class:"d-fex"},null,-1)),s_={class:"form-group"},a_=ae(()=>e("label",{for:"site"},"Task",-1)),o_=ae(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),l_=["value"],n_=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),d_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},i_={class:"modal-dialog modal-sm",role:"document"},c_={class:"modal-content"},r_={class:"modal-header"},u_={class:"modal-title",id:"staticBackdropLabel"},__=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),m_={class:"modal-body"},p_=we('<ul class="nav nav-tabs" id="myTabs" data-v-5aff9990><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-5aff9990> Todo List</a></li><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-5aff9990> Todo</a></li></ul>',1),h_={class:"tab-content"},v_={class:"tab-pane fade show active",id:"todolist"},b_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},f_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),$_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),g_={key:0,class:"list-group-item mt-2"},y_={class:"d-flex justify-content-between"},k_={class:"d-flex"},x_=["onClick"],w_={class:"d-flex"},C_=["onClick"],S_={class:"m-2 list-unstyled"},D_={key:1},U_={key:0,class:"list-group-item mt-2"},M_={class:"d-flex justify-content-between"},V_={class:"d-flex"},A_=["onClick"],E_={class:"d-flex"},T_=["onClick"],L_={key:1,class:"mt-2 text-center"},P_=ae(()=>e("span",null,"No Todo",-1)),F_=[P_],I_={class:"tab-pane fade",id:"formTask"},q_={class:"col-md-12"},Y_={class:"row"},B_={class:"col-12"},N_={class:"m-2",style:{display:"flex","align-items":"center"}},R_=ae(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),V("\xA0Save ")])],-1)),H_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j_={class:"modal-dialog",role:"document"},O_={class:"modal-content"},z_=we('<div class="modal-header" data-v-5aff9990><h5 class="modal-title" id="staticBackdropLabel" data-v-5aff9990><span data-v-5aff9990>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-5aff9990><span aria-hidden="true" data-v-5aff9990>\xD7</span></button></div><div class="modal-body" data-v-5aff9990><h5 data-v-5aff9990>Are you sure you want to delete this record ?</h5></div>',2),G_={class:"modal-footer"},Q_=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),W_={__name:"MyPrio",setup(o){const g=`${fe().name}`,m=c(!1),d=c(!1),r=et("$swal");He();const _=pe(),p=c({data:[]}),S=c([]);c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const l=c();c();const E=c(!0),b=c(!1);c(!1),c();const x=c(),n=c(),w=c(),I=me();c(null),c(!1);const G=c([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),te=c(),X=c("1:00 AM"),j=c(),y=c("1:00 AM"),Y=c(Array.from({length:24},(F,B)=>{const v=B%12+1,re=B<12?"AM":"PM";return`${v}:00 ${re}`})),i=c(Array.from({length:24},(F,B)=>{const v=B%12+1,re=B<12?"AM":"PM";return`${v}:00 ${re}`})),P=Ae({dailytask_id:"",site:"",user_id:I.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});be([te,X],()=>{const F=new Date(te.value),B=F.getFullYear(),v=String(F.getMonth()+1).padStart(2,"0"),re=String(F.getDate()).padStart(2,"0");P.plandate=`${B}-${v}-${re} ${X.value}`}),be([te,y],()=>{const F=new Date(te.value);F.getFullYear(),String(F.getMonth()+1).padStart(2,"0"),String(F.getDate()).padStart(2,"0")}),be([j,y],()=>{const F=new Date(j.value),B=F.getFullYear(),v=String(F.getMonth()+1).padStart(2,"0"),re=String(F.getDate()).padStart(2,"0");P.enddates=`${B}-${v}-${re} ${y.value}`});const O=c({id:"",dailytask_id:"",task_name:"",iscompleted:0}),oe=()=>{A.get("/web/getsite").then(F=>{l.value=F.data.sites}).catch(F=>{console.log(F)})},W=()=>{m.value=!0,A.get("/api/dailytask",{params:{query:Q.value}}).then(F=>{m.value=!1,p.value=F.data,Ce.value=[]})},he=async F=>{(await r({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(m.value=!0,A.put(`/api/dailytask/drop/${F}`).then(v=>{_.success("Data drop successfully!"),m.value=!1,W()}))},H=()=>{$("#FormModalTask").modal("show")},T=F=>{H(),O.value.dailytask_id=F.dailytask_id,n.value=F.taskdate,w.value=F.startdate,d.value=!0,A.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(B=>{S.value=B.data,H(),d.value=!1}).catch(B=>{console.error("Error fetching tasks:",B)})},C=()=>{d.value=!0,A.post("/api/dailytask/addnewTask",{dailytask_id:O.value.dailytask_id,task_name:O.value.task_name,iscompleted:O.value.iscompleted}).then(F=>{_.success("Data created successfully!"),A.get(`/api/dailytask/${O.value.dailytask_id}/tasks`).then(B=>{S.value=B.data,d.value=!1}).catch(B=>{console.error("Error fetching tasks:",B),_.error("Error fetching tasks. Please try again.")}),O.value.task_name=""}).catch(F=>{console.error("Error adding new task:",F),_.error("Error adding new task. Please try again.")})},h=F=>{O.value.iscompleted=F.iscompleted===1?0:1,A.post("/api/dailytask/addnewTask",{id:F.id,dailytask_id:F.dailytask_id,task_name:F.task_name,iscompleted:O.value.iscompleted}).then(B=>{A.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(v=>{S.value=v.data}).catch(v=>{console.error("Error fetching tasks:",v),_.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),_.error("Error adding new task. Please try again.")})},f=De(()=>Array.isArray(S.value)?S.value.filter(F=>F.iscompleted===1):[]),ne=De(()=>f.value.length),ie=()=>{E.value=!E.value},D=F=>{A.delete(`/api/dailytask/deleteTask/${F.id}`).then(B=>{A.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(v=>{S.value=v.data,_.success("Todo successfull Deleted")}).catch(v=>{console.error("Error fetching tasks:",v),_.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),_.error("Error adding new task. Please try again.")})};xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()}),xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()});const M=(F,B)=>{A.post("/api/dailytask",P).then(v=>{console.log(v.data),W(),$("#FormModal").modal("hide"),_.success("data created successfully!")}).catch(v=>{B.setErrors(v.response.data.errors)})},Pe=(F,B)=>{A.put("/api/dailytask/"+P.dailytask_id,P).then(v=>{console.log(v.data),W(),$("#FormModal").modal("hide"),_.success("data update successfully!")}).catch(v=>{B.setErrors(v.response.data.errors)})},Re=F=>{F&&F.dailytask_id!==null&&F.dailytask_id!==void 0?(b.value=!0,x.value=" on "+ve(F.taskdate).format("MMMM D, YYYY"),P.site=F.site,P.dailytask_id=F.dailytask_id,P.plandate=F.plandate,P.planenddate=F.planenddate):b.value=!1,oe(),$("#FormModal").modal("show")},z=(F,B)=>{b.value?Pe(F,B):M(F,B)},J=async F=>{try{const B=await A.get(`/api/dailytask/${F.dailytask_id}/tasks`);if(S.value=B.data,!S.value||S.value.length===0){r.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await r.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const re=await A.put("/api/dailytask/onhandler/"+F.dailytask_id,F);_.success(re.data.message),W()}}catch(B){console.error("Error fetching tasks:",B),_.error("An error occurred while updating the task.")}},$e=async F=>{if((await r({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ve(F.taskdate).format("YYYY-MM-DD")===ve().format("YYYY-MM-DD")?(F.remarks="HIT",F.status="On Schedule"):(F.remarks="MISS",F.status="Behind Schedule");const re=await A.put("/api/dailytask/onhandler/"+F.dailytask_id,F);_.success(re.data.message),W()}catch(v){console.error(v),_.error("An error occurred while updating the task.")}},Q=c(null),Ce=c([]),ze=c(null),dt=()=>{A.delete(`/api/tech-recommendations/${ze.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Client deleted successfully!"),p.value.data=p.value.data.filter(F=>F.id!==ze.value)})};return be(Q,Le.exports.debounce(()=>{W()},300)),_e(()=>{tt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),W(),document.title=g}),(F,B)=>(t(),a(R,null,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,[e("div",ar,s(u(I).user.first_name+" "+u(I).user.last_name)+" - My Prio ",1)]),e("div",or,[e("div",lr,[e("div",nr,[e("div",{class:"d-flex"},[e("button",{onClick:Re,type:"button",class:"mb-2 btn btn-primary"},[dr,V(" Task ")])]),e("div",ir,[ee(e("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=v=>Q.value=v),class:"form-control",placeholder:"Search..."},null,512),[[ue,Q.value]])])]),e("div",cr,[m.value?(t(),ce(Te,{key:0})):(t(),a("div",rr,[p.value.length===0?(t(),a("div",ur,[e("div",_r,[e("div",mr,[e("div",pr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,hr),vr])])])])):(t(),a("div",br,[(t(!0),a(R,null,K(p.value,v=>(t(),a("div",{class:"card card-primary",key:v.id},[e("div",fr,[e("h4",$r,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+v.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,yr),V(" \xA0"),e("b",null,s(u(ve)(v.taskdate).format("MMMM D, YYYY")),1)],8,gr)]),e("div",kr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:re=>T(v)},Cr,8,xr),e("button",{disabled:v.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:re=>$e(v)}," End ",8,Sr),v.startdate?L("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:re=>J(v)}," Start ",8,Dr)),Ur])]),e("div",{id:"collapse"+v.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Vr,[e("div",Ar,[e("div",Er,[e("div",Tr,[e("div",Lr,[e("h5",null,[Pr,V(" "+s(v.site_name),1)]),e("h5",null,[Fr,V(" "+s(v.plandate),1)]),e("h5",null,[Ir,V(" "+s(v.planenddate),1)])]),e("div",qr,[e("h5",null,[Yr,V(" "+s(v.startdate!==null?u(ve)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Br,V(" "+s(v.enddate!==null?u(ve)(v.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Nr,[Rr,V(" "+s(v.tasktype?v.tasktype.join(", "):""),1)])]),e("div",Hr,[e("h5",jr,[Or,V(" "+s(v.status),1)]),e("h5",null,[zr,V(" "+s(v.attachment),1)]),e("h5",null,[Gr,V(" "+s(v.remarks),1)])])]),e("div",Qr,[e("button",{disabled:v.startdate!==null,onClick:re=>he(v.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Wr),e("button",{onClick:re=>Re(v),type:"button",disabled:v.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,Kr)])]),e("div",Xr,[e("ul",Jr,[e("li",Zr,[V(" Site: "),e("span",eu,s(v.site_name),1)]),e("li",tu,[V(" Planned Date: "),e("span",su,s(v.plandate),1)]),e("li",au,[V(" Planned End Date: "),e("span",ou,s(v.planenddate),1)]),e("li",lu,[V(" Start Date: "),e("span",nu,s(v.startdate!==null?u(ve)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",du,[V(" Type: "),e("span",iu,s(v.tasktype?v.tasktype.join(", "):""),1)]),e("li",cu,[V(" Status: "),e("span",ru,s(v.status),1)]),e("li",uu,[V(" Attachment: "),e("span",_u,s(v.attachment),1)]),e("li",mu,[V(" Remarks: "),e("span",pu,s(v.remarks),1)])]),hu,e("div",vu,[e("div",bu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:re=>Re(v)},[$u,V(" Edit ")],8,fu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:re=>he(v.dailytask_id)},ku,8,gu)])])])])])],8,Mr)]))),128))]))]))])])])])])]),e("div",xu,[e("div",wu,[e("div",Cu,[e("div",Su,[e("h5",Du,[b.value?(t(),a("span",Uu,"Edit My Task")):(t(),a("span",Mu,"Add My Task")),b.value?(t(),a("span",Vu,s(x.value),1)):L("",!0)]),Au]),k(u(Ue),{onSubmit:z},{default:Z(()=>[e("div",Eu,[e("div",Tu,[e("div",Lu,[e("div",Pu,[k(u(N),{modelValue:P.user_id,"onUpdate:modelValue":B[1]||(B[1]=v=>P.user_id=v),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Fu,[Iu,ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":B[2]||(B[2]=v=>P.site=v)},[qu,(t(!0),a(R,null,K(l.value,v=>(t(),a("option",{key:v.id,value:v.id},s(v.site_name),9,Yu))),128))],512),[[Fe,P.site]])]),b.value==!1?(t(),a("div",Bu,[e("div",Nu,[e("div",Ru,[Hu,k(u(Ie),{class:"form-control",modelValue:te.value,"onUpdate:modelValue":B[3]||(B[3]=v=>te.value=v)},null,8,["modelValue"])]),e("div",ju,[Ou,ee(e("select",{class:"form-control","onUpdate:modelValue":B[4]||(B[4]=v=>X.value=v),id:"plandate"},[(t(!0),a(R,null,K(Y.value,v=>(t(),a("option",{key:v,value:v},s(v),9,zu))),128))],512),[[Fe,X.value]])])]),Gu])):L("",!0),b.value==!1?(t(),a("div",Qu,[e("div",Wu,[e("div",Ku,[Xu,k(u(Ie),{class:"form-control",modelValue:j.value,"onUpdate:modelValue":B[5]||(B[5]=v=>j.value=v)},null,8,["modelValue"])]),e("div",Ju,[Zu,ee(e("select",{class:"form-control","onUpdate:modelValue":B[6]||(B[6]=v=>y.value=v),id:"plandate"},[(t(!0),a(R,null,K(i.value,v=>(t(),a("option",{key:v,value:v},s(v),9,e_))),128))],512),[[Fe,y.value]])])]),t_])):L("",!0),e("div",s_,[a_,k(u(N),{name:"tasktype"},{default:Z(()=>[ee(e("select",{"onUpdate:modelValue":B[7]||(B[7]=v=>P.tasktype=v),class:"form-control",required:!0},[o_,(t(!0),a(R,null,K(G.value,v=>(t(),a("option",{key:v.value,value:v.value},s(v.name),9,l_))),128))],512),[[Fe,P.tasktype]])]),_:1})])])])])]),n_]),_:1})])])]),e("div",d_,[e("div",i_,[e("div",c_,[e("div",r_,[e("h5",u_," My Todo of "+s(u(ve)(n.value).format("MM/D/YYYY")),1),__]),e("div",m_,[p_,e("div",h_,[e("div",v_,[S.value.length>0?(t(),a("div",b_,[d.value?(t(),ce(Te,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[f_,$_]),_:1})):L("",!0),(t(!0),a(R,null,K(S.value,v=>(t(),a("ul",{class:"list-group",key:v.id},[v.iscompleted!==1?(t(),a("li",g_,[e("div",y_,[e("div",k_,[w.value?(t(),a("i",{key:0,onClick:re=>h(v),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.iscompleted===1,"fa fa-circle text-primary":v.iscompleted!==1}),style:{"font-size":"15px"}},null,10,x_)):L("",!0),e("span",{class:U({"font-italic":v.iscompleted===1,"":v.iscompleted!==1})},s(v.task_name),3)]),e("div",w_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>D(v)},null,8,C_)])])])):L("",!0)]))),128)),e("li",S_,[ne.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:ie},[e("i",{class:U(["fa",E.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Completed "+s(ne.value),1)])):L("",!0)]),E.value?(t(),a("div",D_,[(t(!0),a(R,null,K(S.value,v=>(t(),a("ul",{class:"list-group",key:v.id},[v.iscompleted===1?(t(),a("li",U_,[e("div",M_,[e("div",V_,[e("i",{class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle":v.iscompleted===1,"fa fa-circle":v.iscompleted!==1}),style:{"font-size":"15px"},onClick:re=>h(v)},null,10,A_),e("span",{class:U({"font-italic":v.iscompleted===1,"":v.iscompleted!==1})},[e("del",null,s(v.task_name),1)],2)]),e("div",E_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>D(v)},null,8,T_)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",L_,F_))]),e("div",I_,[k(u(Ue),{onSubmit:C},{default:Z(()=>[e("div",q_,[e("div",Y_,[e("div",B_,[k(u(N),{modelValue:O.value.dailytask_id,"onUpdate:modelValue":B[8]||(B[8]=v=>O.value.dailytask_id=v),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",N_,[k(u(N),{modelValue:O.value.task_name,"onUpdate:modelValue":B[9]||(B[9]=v=>O.value.task_name=v),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),R_]),_:1})])])])])])]),e("div",H_,[e("div",j_,[e("div",O_,[z_,e("div",G_,[Q_,e("button",{onClick:se(dt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var K_=ye(W_,[["__scopeId","data-v-5aff9990"]]);const X_={class:"text-center"},J_={key:0},Z_={class:"text-center"},em={key:0},tm={class:"text-center"},sm={key:0},am={key:0,class:"bg-success text-center"},om={key:1,class:"bg-danger text-center"},lm={key:2,class:"text-center"},nm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return pe(),me(),(g,m)=>(t(),a("tr",null,[e("td",null,s(u(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",X_,[o.item.task_lists_count!==0?(t(),a("span",J_,s(o.item.task_lists_count),1)):L("",!0)]),e("td",Z_,[o.item.completed_task_count!==0?(t(),a("span",em,s(o.item.completed_task_count),1)):L("",!0)]),e("td",tm,[o.item.status!=="On Going"?(t(),a("span",sm,s(o.item.status),1)):L("",!0)]),o.item.remarks==="HIT"?(t(),a("td",am,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",om,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",lm,s(o.item.startdate!=null?"On Going!":""),1)):L("",!0),e("td",{class:U({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const ke=o=>(Me("data-v-04a9a400"),o=o(),Ve(),o),dm={class:"content-header"},im={class:"container-fluid"},cm={class:"col-12"},rm={class:"card",id:"captureVSCContainer"},um={class:"card-header"},_m={class:"card-title"},mm={class:"card-tools"},pm={class:"card-body"},hm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),vm=[hm],bm={key:1,class:"row"},fm={class:"inner"},$m={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},gm=["src"],ym={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},km={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},xm={style:{"text-align":"left"}},wm={key:0},Cm=ke(()=>e("span",{class:"text-light badge"},"Todos",-1)),Sm={class:"list-group list-group-flush"},Dm={style:{display:"flex","align-items":"left"}},Um={class:"ml-1"},Mm={class:"ml-1"},Vm={key:1},Am={class:"float-right"},Em={id:"captureHitRateContainer",class:"card"},Tm={class:"card-header"},Lm={class:"card-title"},Pm={class:"card-body"},Fm={class:"content"},Im={class:"container-fluid"},qm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),Ym=[qm],Bm={class:"dispatch-table"},Nm={class:"table-responsive"},Rm={class:"table table-bordered table-hover table-sm"},Hm=ke(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),jm=["item"],Om={class:"list-field"},zm=ke(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Gm={class:"list-field"},Qm=ke(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Wm={key:0},Km={class:"list-field"},Xm=ke(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Jm={key:0},Zm={class:"list-field"},ep=ke(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),tp={class:"list-field"},sp=ke(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),ap={class:"list-field"},op=ke(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),lp={class:"float-right"},np={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dp={class:"modal-dialog modal-sm",role:"document"},ip={class:"modal-content"},cp=ke(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),rp={class:"modal-body"},up={class:"fromtocenter"},_p=ke(()=>e("label",{for:"fromDate"},"From:",-1)),mp=ke(()=>e("label",{for:"toDate"},"To:",-1)),pp=ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),hp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vp={class:"modal-dialog modal-sm",role:"document"},bp={class:"modal-content"},fp=ke(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),$p={class:"modal-body"},gp={class:"container"},yp={class:"row"},kp=["onClick"],xp=ke(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),wp={__name:"MyVsc",setup(o){const g=`${fe().name}`,m=me(),d=c(!1),r=c([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),p=c((()=>{const y={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",y)})()),S=()=>{const y=document.getElementById("captureVSCContainer");Oe(y).then(Y=>{const i=Y.toDataURL(),P=document.createElement("a");P.href=i,P.download=`${m.user.first_name+" "+m.user.last_name} - ${g}.png`,P.click()})},l=()=>{const y=document.getElementById("captureHitRateContainer");Oe(y).then(Y=>{const i=Y.toDataURL(),P=document.createElement("a");P.href=i,P.download=`${m.user.first_name+" "+m.user.last_name} - My HIT RATE.png`,P.click()})};c(null),c("today");const E=c({data:[]}),b=c({data:[]}),x=()=>{d.value=!0,axios.get("/api/myvsc").then(y=>{d.value=!1,E.value=y.data.dailyTasks,b.value=y.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},w=c({start_date:"",end_date:""}),I=c(""),G=c("");be([I],()=>{const y=new Date(I.value),Y=y.getFullYear(),i=String(y.getMonth()+1).padStart(2,"0"),P=String(y.getDate()).padStart(2,"0");w.value.start_date=`${Y}-${i}-${P}`}),be([G],()=>{const y=new Date(G.value),Y=y.getFullYear(),i=String(y.getMonth()+1).padStart(2,"0"),P=String(y.getDate()).padStart(2,"0");w.value.end_date=`${Y}-${i}-${P}`});const te=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:w.value.start_date,end_date:w.value.end_date}}).then(y=>{d.value=!1,E.value=y.data.dailyTasks,b.value=y.data.TaskList}).catch(y=>{console.error(y)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},X=()=>{$("#FormModalPickerThemes").modal("show")},j=y=>{if(y){const Y=m.user.id;axios.post("/api/changethemes",{userid:Y,background:y.background,active_background:y.active_background,font_background:y.font_background}).then(i=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(P=>{d.value=!1,E.value=P.data.dailyTasks,b.value=P.data.TaskList})}).catch(i=>{console.error(i)})}else console.error("Invalid item:",y)};return _e(()=>{x(),document.title=g}),(y,Y)=>(t(),a(R,null,[e("div",dm,[e("div",im,[e("div",cm,[e("div",rm,[e("div",um,[e("div",_m,[e("h5",null,s(u(m).user.first_name+" "+u(m).user.last_name)+" - "+s(g),1)]),e("div",mm,[e("i",{onClick:Y[0]||(Y[0]=i=>X()),class:"fas fa-palette"})])]),e("div",pm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:S,type:"button",class:"mb-2 btn btn-sm btn-success"},vm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(t(),ce(Te,{key:0})):(t(),a("div",bm,[(t(!0),a(R,null,K(E.value,i=>(t(),a("div",{class:"col-lg-3 col-6",key:i.id},[e("div",{class:"small-box",style:Ge("background-color: "+(u(ve)(i.taskdate).format("MMMM D, YYYY")===p.value?i.active_background==""?"#72461F":i.active_background:i.background==""?"#B98D65":i.background)+";")},[e("div",fm,[e("div",$m,[V(s(u(ve)(i.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,gm)]),e("div",ym,s(u(ve)(i.taskdate).format("MMMM D, YYYY")),1),e("div",km,s(i.site_name),1),e("div",xm,[i.task_lists&&i.task_lists.length>0?(t(),a("div",wm,[Cm,e("ul",Sm,[(t(!0),a(R,null,K(i.task_lists,P=>(t(),a("li",{class:"list-group-item",key:P.id},[e("div",Dm,[e("div",Um,[e("i",{class:U(P.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Mm,s(P.task_name),1)])]))),128))])])):(t(),a("span",Vm))])])],4)]))),128))])),e("div",Am,s(p.value),1)])]),e("div",Em,[e("div",Tm,[e("div",Lm,[e("h5",null,s(u(m).user.first_name+" "+u(m).user.last_name)+" - My HIT RATE ",1)])]),e("div",Pm,[e("div",Fm,[e("div",Im,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},Ym)])]),e("div",Bm,[e("div",Nm,[e("table",Rm,[Hm,e("tbody",null,[(t(!0),a(R,null,K(b.value,i=>(t(),ce(nm,{key:i.id,item:i},null,8,["item"]))),128))])])])]),(t(!0),a(R,null,K(b.value,i=>(t(),a("div",{class:"dispatch-list",key:i.id,item:i},[e("div",{class:U([{"callout callout-success":i.remarks==="HIT","callout callout-danger":i.remarks==="MISS",callout:i.remarks===null}])},[e("div",Om,[zm,e("span",null,s(u(ve)(i.taskdate).format("MMMM D, YYYY")),1)]),e("div",Gm,[Qm,i.task_lists_count!==0?(t(),a("span",Wm,s(i.task_lists_count),1)):L("",!0)]),e("div",Km,[Xm,i.completed_task_count!==0?(t(),a("span",Jm,s(i.completed_task_count),1)):L("",!0)]),e("div",Zm,[ep,e("span",null,[e("b",null,s(i.status),1)])]),e("div",tp,[sp,e("span",{class:U(["badge",i.remarks==="HIT"?"bg-success":"bg-danger"])},s(i.remarks),3)]),e("div",ap,[op,e("span",{class:U(["badge",{"bg-danger":i.percentage_completed>=0&&i.percentage_completed<=59},{"bg-orange":i.percentage_completed>60&&i.percentage_completed<=90},{"bg-success":i.percentage_completed===100}])},s(i.percentage_completed+"%"),3)])],2)],8,jm))),128))])]),e("div",lp,s(p.value),1)])])])])]),e("div",np,[e("div",dp,[e("div",ip,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(g)+" Summary Report")]),cp]),e("div",rp,[e("div",up,[e("div",null,[_p,k(u(Ie),{modelValue:I.value,"onUpdate:modelValue":Y[1]||(Y[1]=i=>I.value=i)},null,8,["modelValue"])]),e("div",null,[mp,k(u(Ie),{modelValue:G.value,"onUpdate:modelValue":Y[2]||(Y[2]=i=>G.value=i)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[pp,e("button",{onClick:te,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",hp,[e("div",vp,[e("div",bp,[fp,e("div",$p,[e("div",gp,[e("div",yp,[(t(!0),a(R,null,K(r.value,i=>(t(),a("div",{class:"col-md-4",key:i.background},[e("div",{class:"box",onClick:P=>j(i)},[e("div",{class:"column",style:Ge({"background-color":i.background})},"\xA0",4),e("div",{class:"column",style:Ge({"background-color":i.active_background})},"\xA0",4)],8,kp)]))),128))])])]),xp])])])],64))}};var Cp=ye(wp,[["__scopeId","data-v-04a9a400"]]);const Sp={class:"text-center"},Dp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return pe(),me(),(g,m)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(u(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Sp,[e("span",{class:U(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Up=ye(Dp,[["__scopeId","data-v-f22938e0"]]);const Se=o=>(Me("data-v-029f6d88"),o=o(),Ve(),o),Mp={class:"content"},Vp={class:"container-fluid"},Ap={class:"card",id:"capturePrioContainer"},Ep={class:"card-header"},Tp={class:"card-title"},Lp={class:"card-body"},Pp={key:1,class:"content"},Fp={class:"container-fluid"},Ip=Se(()=>e("i",{class:"fa fa-camera"},null,-1)),qp=[Ip],Yp={class:"dispatch-table"},Bp={class:"table-responsive"},Np={class:"table table-bordered table-sm table-striped table-hover"},Rp=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Hp={key:0},jp={key:1},Op=Se(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),zp=[Op],Gp=["item","index"],Qp={class:"card"},Wp={class:"card-body"},Kp={class:"list-field"},Xp=Se(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Jp={class:"list-field"},Zp=Se(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),eh={class:"list-field"},th=Se(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),sh={class:"list-field"},ah=Se(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),oh={class:"list-field"},lh=Se(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),nh={class:"list-field"},dh=Se(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),ih={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ch={class:"modal-dialog modal-sm",role:"document"},rh={class:"modal-content"},uh=Se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),_h={class:"modal-body"},mh={class:"fromtocenter"},ph=Se(()=>e("label",{for:"fromDate"},"From:",-1)),hh=Se(()=>e("label",{for:"toDate"},"To:",-1)),vh=Se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),bh={__name:"MyClosePrioList",setup(o){const g=`${fe().name}`,m=c(!1);pe();const d=c({data:[]}),r=c(""),_=c(""),p=me(),S=(x=1)=>{m.value=!0,A.get(`/api/mycloseprio?page=${x}`,{params:{query:b.value}}).then(n=>{m.value=!1,d.value=n.data})},l=()=>{const x=document.getElementById("capturePrioContainer");Oe(x).then(n=>{const w=n.toDataURL(),I=document.createElement("a");I.href=w,I.download="MY CLOSED PRIO.png",I.click()})},E=()=>{m.value=!0,A.get("/api/filter-closeprio",{params:{start_date:r.value,end_date:_.value}}).then(x=>{m.value=!1,d.value=x.data.dailyTasks}).catch(x=>{console.error(x)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=c(null);return be(b,Le.exports.debounce(()=>{S()},300)),_e(()=>{S(),document.title=g}),(x,n)=>{const w=ge("font");return t(),a(R,null,[e("div",Mp,[e("div",Vp,[e("div",Ap,[e("div",Ep,[e("div",Tp,[e("h5",null,s(u(p).user.first_name+" "+u(p).user.last_name)+" - My Closed Prio ",1)])]),e("div",Lp,[m.value?(t(),ce(Te,{key:0})):(t(),a("div",Pp,[e("div",Fp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},qp)])]),e("div",null,[e("div",Yp,[e("div",Bp,[k(w,{size:"2"},{default:Z(()=>[e("table",Np,[Rp,d.value.data.length>0?(t(),a("tbody",Hp,[(t(!0),a(R,null,K(d.value.data,(I,G)=>(t(),ce(Up,{key:I.id,item:I,index:G},null,8,["item","index"]))),128))])):(t(),a("tbody",jp,zp))])]),_:1})])]),(t(!0),a(R,null,K(d.value.data,(I,G)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:I.id,item:I,index:G},[e("div",Qp,[e("div",Wp,[e("div",Kp,[Xp,e("span",null,s(I.sitename),1)]),e("div",Jp,[Zp,e("span",null,s(u(ve)(I.taskdate).format("MMMM D, YYYY")),1)]),e("div",eh,[th,e("span",null,s(I.startdate),1)]),e("div",sh,[ah,e("span",null,s(I.enddate),1)]),e("div",oh,[lh,e("span",null,s(I.tasktype.listtask),1)]),e("div",nh,[dh,e("span",{class:U(["badge",I.remarks==="HIT"?"bg-success":"bg-danger"])},s(I.remarks),3)])])])],8,Gp))),128))])])]))])]),k(u(qe),{data:d.value,onPaginationChangePage:S},null,8,["data"])])]),e("div",ih,[e("div",ch,[e("div",rh,[uh,e("div",_h,[e("div",mh,[e("div",null,[ph,k(u(Ie),{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=I=>r.value=I)},null,8,["modelValue"])]),e("div",null,[hh,k(u(Ie),{modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=I=>_.value=I)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[vh,e("button",{onClick:E,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var fh=ye(bh,[["__scopeId","data-v-029f6d88"]]);const $h=["checked"],gh={class:"text-center"},yh=e("i",{class:"fa fa-edit"},null,-1),kh=[yh],xh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){pe();const m=o,d=g,r=()=>{d("toggleSelection",m.user)};return(_,p)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,$h)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",gh,[e("a",{href:"#",onClick:p[0]||(p[0]=se(S=>_.$emit("editUser",o.user),["prevent"]))},kh)])]))}},wh={class:"content"},Ch={class:"container-fluid"},Sh={class:"card"},Dh={class:"card-header"},Uh=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Mh={class:"card-tools"},Vh={class:"card-body"},Ah={class:"table-responsive"},Eh={class:"table table-bordered table-hover table-sm"},Th=e("th",{style:{width:"10px"}},"#",-1),Lh=e("th",null,"Name",-1),Ph=e("th",null,"Email",-1),Fh=e("th",null,"Registered Date",-1),Ih=e("th",null,"Options",-1),qh={key:0},Yh={key:1},Bh=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Nh=[Bh],Rh={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hh={class:"modal-dialog modal-sm",role:"document"},jh={class:"modal-content"},Oh={class:"modal-header"},zh={class:"modal-title",id:"staticBackdropLabel"},Gh={key:0},Qh=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wh={class:"modal-body"},Kh={class:"table table-sm"},Xh=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Jh={colspan:"5"},Zh={class:"custom-control custom-checkbox"},ev=["value","id","checked"],tv=["for"],sv={key:0,class:"table table-sm"},av={class:"text-danger"},ov={class:"custom-control custom-checkbox"},lv=["value","id"],nv=["for"],dv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),iv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cv={class:"modal-dialog",role:"document"},rv={class:"modal-content"},uv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),_v={class:"modal-footer"},mv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),pv={__name:"UserMenuList",setup(o){const g=`${fe().name}`,m=pe(),d=c({data:[]}),r=c(!1),_=c(),p=c(null),S=c(null),l=c([]),E=(j=1)=>{A.get(`/api/users?page=${j}`,{params:{query:n.value}}).then(y=>{d.value=y.data,w.value=[],selectAll.value=!1})},b=j=>{A.get("/api/usermenu",{params:{user_id:j.id}}).then(y=>{X.value=y.data,console.log(y.data)}).catch(y=>{console.log(y)}),r.value=!0,p.value.resetForm(),$("#userFormModal").modal("show"),_.value={id:j.id,username:j.username,email:j.email,first_name:j.first_name,last_name:j.last_name},S.value=_.value.first_name+" "+_.value.last_name},x=()=>{const j={user_id:_.value.id,menu_id:l.value};console.log(j),A.post("/api/usermenu",j).then(y=>{m.success("User Menu Save successfully!")}).catch(y=>{setErrors(y.response.data.errors)})},n=c(null),w=c([]),I=j=>{const y=w.value.indexOf(j.id);y===-1?w.value.push(j.id):w.value.splice(y,1),console.log(w.value)},G=c(null),te=j=>{G.value=j,$("#deleteUserModal").modal("show")},X=c({data:[]});return be(n,Le.exports.debounce(()=>{E()},300)),_e(()=>{E(),document.title=g}),(j,y)=>{const Y=ge("font");return t(),a(R,null,[e("div",wh,[e("div",Ch,[e("div",Sh,[e("div",Dh,[Uh,e("div",Mh,[ee(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=i=>n.value=i),class:"form-control",placeholder:"Search..."},null,512),[[ue,n.value]])])]),e("div",Vh,[e("div",Ah,[k(Y,{size:"2"},{default:Z(()=>[e("table",Eh,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=i=>j.selectAll=i),onChange:y[2]||(y[2]=(...i)=>j.selectAllUsers&&j.selectAllUsers(...i))},null,544),[[Ee,j.selectAll]])]),Th,Lh,Ph,Fh,Ih])]),d.value.data.length>0?(t(),a("tbody",qh,[(t(!0),a(R,null,K(d.value.data,(i,P)=>(t(),ce(xh,{key:i.id,user:i,index:P,onEditUser:b,onConfirmUserDeletion:te,onToggleSelection:I,"select-all":j.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Yh,Nh))])]),_:1})])])]),k(u(qe),{data:d.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",Rh,[e("div",Hh,[e("div",jh,[e("div",Oh,[e("h5",zh,[r.value?(t(),a("span",Gh,"User Menu for "+s(S.value),1)):L("",!0)]),Qh]),k(u(Ue),{ref_key:"form",ref:p,onSubmit:x,"initial-values":_.value},{default:Z(()=>[e("div",Wh,[e("table",Kh,[Xh,(t(!0),a(R,null,K(X.value,i=>(t(),a("tr",{key:i.menu_id},[e("td",Jh,[e("div",Zh,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=P=>l.value=P),value:i.menu_id,id:"menu_id_"+i.menu_id,checked:i.hasAccess},null,8,ev),[[Ee,l.value]]),e("label",{for:"menu_id_"+i.menu_id,class:"custom-control-label"},s(i.menu_title),9,tv)]),i.submenus&&i.submenus.length>0?(t(),a("table",sv,[(t(!0),a(R,null,K(i.submenus,P=>(t(),a("tr",{key:P.id},[e("td",av,[e("div",ov,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[4]||(y[4]=O=>l.value=O),value:P.menu_id,id:"menu_id_"+P.menu_id},null,8,lv),[[Ee,l.value]]),e("label",{for:"menu_id_"+P.menu_id,class:"custom-control-label"},s(P.menu_title),9,nv)])])]))),128))])):L("",!0)])]))),128))])]),dv]),_:1},8,["initial-values"])])])]),e("div",iv,[e("div",cv,[e("div",rv,[uv,e("div",_v,[mv,e("button",{onClick:y[5]||(y[5]=se((...i)=>j.deleteUser&&j.deleteUser(...i),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const at=o=>(Me("data-v-8e5d6dd6"),o=o(),Ve(),o),hv=["checked"],vv=["innerHTML"],bv={style:{"text-align":"center"}},fv={class:"text-center"},$v=at(()=>e("i",{class:"fa fa-edit"},null,-1)),gv=[$v],yv=at(()=>e("i",{class:"fa fa-trash"},null,-1)),kv=[yv],xv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:g}){pe(),me();const m=o,d=g,r=()=>{d("toggleSelection",m.item)};return(_,p)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,hv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,vv),e("td",null,s(o.item.sort_order),1),e("td",bv,[e("i",{class:U({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",fv,[e("button",{class:"btn btn-sm bg-primary",onClick:p[0]||(p[0]=se(S=>_.$emit("editMenu",o.item),["prevent"]))},gv),V("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:p[1]||(p[1]=se(S=>_.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},kv)])]))}};var wv=ye(xv,[["__scopeId","data-v-8e5d6dd6"]]);const Cv=["type","name","value"],Sv=e("span",{class:"check"},null,-1),Dv={class:"pl-2"},Uv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:g}){const m=o,d=g,r=De({get:()=>m.modelValue,set:p=>{d("update:modelValue",p)}}),_=De(()=>m.type==="radio"?"radio":"checkbox");return(p,S)=>(t(),a("label",{class:U([o.type,"mr-6 mb-3 last:mr-0"])},[ee(e("input",{"onUpdate:modelValue":S[0]||(S[0]=l=>r.value=l),type:_.value,name:o.name,value:o.inputValue},null,8,Cv),[[Ze,r.value]]),Sv,e("span",Dv,s(o.label),1)],2))}},Mv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:g}){const m=o,d=g,r=De({get:()=>m.modelValue,set:_=>{d("update:modelValue",_)}});return(_,p)=>(t(),a("div",{class:U(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(t(!0),a(R,null,K(o.options,(S,l)=>(t(),ce(Uv,{key:l,modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=E=>r.value=E),type:o.type,name:o.name,"input-value":l,label:S,class:U(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Vv={class:"content"},Av={class:"container-fluid"},Ev={class:"d-flex justify-content-between"},Tv={class:"d-flex"},Lv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Pv={key:0},Fv=e("i",{class:"fa fa-trash mr-1"},null,-1),Iv={class:"ml-2"},qv={class:"card"},Yv={class:"card-body"},Bv={class:"table-responsive"},Nv={class:"table table-bordered table-sm"},Rv=e("th",{style:{width:"10px"}},"#",-1),Hv=e("th",null,"Title",-1),jv=e("th",null,"Parent Menu",-1),Ov=e("th",null,"Route",-1),zv=e("th",null,"Icon",-1),Gv=e("th",null,"Sort",-1),Qv=e("th",null,"Active",-1),Wv=e("th",null,"Date",-1),Kv=e("th",null,"Action",-1),Xv={key:0},Jv={key:1},Zv=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),e1=[Zv],t1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},s1={class:"modal-dialog modal-sm",role:"document"},a1={class:"modal-content"},o1={class:"modal-header"},l1={class:"modal-title",id:"staticBackdropLabel"},n1={key:0},d1={key:1},i1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),c1={class:"modal-body"},r1={class:"col-md-12"},u1={class:"row"},_1={class:"col-12"},m1={class:"form-group"},p1=e("label",{for:"user"},"Menu Title",-1),h1={class:"invalid-feedback"},v1={class:"form-group"},b1=e("label",{for:"department"},"Parent Menu",-1),f1=e("option",{value:"0"},"None",-1),$1=["value"],g1={class:"form-group"},y1=e("label",{for:"warehouse"},"Icon",-1),k1={class:"invalid-feedback"},x1={class:"form-group"},w1=e("label",{for:"user"},"Route",-1),C1={class:"invalid-feedback"},S1={class:"form-group"},D1=e("label",{for:"user"},"Sort",-1),U1={class:"invalid-feedback"},M1={class:"form-group"},V1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),A1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},E1={class:"modal-dialog",role:"document"},T1={class:"modal-content"},L1=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),P1={class:"modal-footer"},F1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),I1={__name:"MenuList",setup(o){const g=`${fe().name}`,m=pe(),d=c({data:[]}),r=c({data:[]}),_=c(!1),p=c(!1);c();const S=c(!0),l=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),E=me();c(null);const b=c(),x=(H=1)=>{_.value=!0,A.get(`/api/menulist?page=${H}`,{params:{query:j.value}}).then(T=>{_.value=!1,d.value=T.data,y.value=[],W.value=!1})},n=()=>{A.get("/api/GetParentId").then(H=>{r.value=H.data}).catch(H=>{console.error(H)})};xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()});const w=({resetForm:H,setErrors:T})=>{A.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(C=>{d.value.data.unshift(C.data),$("#FormModal").modal("hide"),H(),m.success("User created successfully!")}).catch(C=>{C.response.data.errors&&T(C.response.data.errors)})},I=()=>{p.value=!1,$("#FormModal").modal("show")},G=H=>{p.value=!0,l.menu_id=H.menu_id,l.menu_title=H.menu_title,l.parent_id=H.parent_id,l.menu_icon=H.menu_icon,l.menu_route=H.menu_route,l.sort_order=H.sort_order,l.is_active===1?S.value=!0:S.value=!1,l.is_active=H.is_active,$("#FormModal").modal("show"),b.value=H.parent_id},te=({setErrors:H})=>{A.post("/api/menulist",l).then(T=>{x(),$("#FormModal").modal("hide"),m.success("successfully Updated!")}).catch(T=>{H(T.response.data.errors),console.log(T)})},X=(H,T)=>{p.value?te(H):w(H)},j=c(null),y=c([]),Y=H=>{const T=y.value.indexOf(H.id);T===-1?y.value.push(H.id):y.value.splice(T,1),console.log(y.value)},i=c(null),P=H=>{i.value=H,$("#deleteClientModal").modal("show")},O=()=>{A.delete(`/api/menu/${i.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(H=>H.menu_id!==i.value)})},oe=()=>{A.delete("menulist",{data:{ids:y.value}}).then(H=>{d.value.data=d.value.data.filter(T=>!y.value.includes(T.id)),y.value=[],W.value=!1,m.success(H.data.message)})},W=c(!1),he=()=>{W.value?y.value=d.value.data.map(H=>H.id):y.value=[],console.log(y.value)};return be([S],H=>{l.is_active=H?1:0}),be(j,Le.exports.debounce(()=>{x()},300)),_e(()=>{x(),n(),document.title=g}),(H,T)=>{const C=ge("font");return t(),a(R,null,[e("div",Vv,[e("div",Av,[e("div",Ev,[e("div",Tv,[e("button",{onClick:I,type:"button",class:"mb-2 btn btn-primary"},[Lv,V(" Menu ")]),y.value.length>0?(t(),a("div",Pv,[e("button",{onClick:oe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Fv,V(" Delete Selected ")]),e("span",Iv,"Selected "+s(y.value.length)+" Menu",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=h=>j.value=h),class:"form-control",placeholder:"Search..."},null,512),[[ue,j.value]])])]),e("div",qv,[e("div",Yv,[_.value?(t(),ce(Te,{key:0})):L("",!0),e("div",Bv,[k(C,{size:"2"},{default:Z(()=>[e("table",Nv,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":T[1]||(T[1]=h=>W.value=h),onChange:he},null,544),[[Ee,W.value]])]),Rv,Hv,jv,Ov,zv,Gv,Qv,Wv,Kv])]),d.value.data.length>0?(t(),a("tbody",Xv,[(t(!0),a(R,null,K(d.value.data,(h,f)=>(t(),ce(wv,{key:h.id,item:h,index:f,onEditMenu:G,onConfirmDeletion:P,onToggleSelection:Y,"select-all":W.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Jv,e1))])]),_:1})])])]),k(u(qe),{data:d.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",t1,[e("div",s1,[e("div",a1,[e("div",o1,[e("h5",l1,[p.value?(t(),a("span",n1,"Edit Menu")):(t(),a("span",d1,"Add Menu"))]),i1]),k(u(Ue),{onSubmit:X},{default:Z(({errors:h})=>[e("div",c1,[e("div",r1,[e("div",u1,[e("div",_1,[k(u(N),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(E).user.id,"onUpdate:modelValue":T[2]||(T[2]=f=>u(E).user.id=f)},null,8,["modelValue"]),e("div",m1,[p1,k(u(N),{name:"menu_title",type:"text",class:U(["form-control",{"is-invalid":h.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":T[3]||(T[3]=f=>l.menu_title=f)},null,8,["class","modelValue"]),e("span",h1,s(h.menu_title),1)]),e("div",v1,[b1,ee(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":T[4]||(T[4]=f=>l.parent_id=f)},[f1,(t(!0),a(R,null,K(r.value,f=>(t(),a("option",{key:f.menu_id,value:f.menu_id},s(f.menu_title),9,$1))),128))],512),[[Fe,l.parent_id]])]),e("div",g1,[y1,k(u(N),{name:"menu_icon",type:"text",class:U(["form-control",{"is-invalid":h.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":T[5]||(T[5]=f=>l.menu_icon=f)},null,8,["class","modelValue"]),e("span",k1,s(h.menu_icon),1)]),e("div",x1,[w1,k(u(N),{name:"menu_route",type:"text",class:U(["form-control",{"is-invalid":h.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":T[6]||(T[6]=f=>l.menu_route=f)},null,8,["class","modelValue"]),e("span",C1,s(h.menu_route),1)]),e("div",S1,[D1,k(u(N),{name:"sort_order",type:"text",class:U(["form-control",{"is-invalid":h.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":T[7]||(T[7]=f=>l.sort_order=f)},null,8,["class","modelValue"]),e("span",U1,s(h.sort_order),1)]),e("div",M1,[k(Mv,{modelValue:l.is_active,"onUpdate:modelValue":T[8]||(T[8]=f=>l.is_active=f),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),V1]),_:1})])])]),e("div",A1,[e("div",E1,[e("div",T1,[L1,e("div",P1,[F1,e("button",{onClick:se(O,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},q1={class:"error-page"},Y1=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),B1=[Y1],N1="Page Not Found",ot={__name:"404",setup(o){return _e(()=>{document.title=N1}),(g,m)=>(t(),a("div",q1,B1))}};const le=o=>(Me("data-v-18d1690e"),o=o(),Ve(),o),R1={id:"exportPDF"},H1={class:"container"},j1=le(()=>e("br",null,null,-1)),O1={class:"header"},z1=["src"],G1=["src"],Q1={class:"header"},W1={class:"header-justify-space-between"},K1=le(()=>e("br",null,null,-1)),X1=le(()=>e("p",null,null,-1)),J1={key:0},Z1=le(()=>e("strong",null,null,-1)),eb=le(()=>e("br",null,null,-1)),tb=le(()=>e("br",null,null,-1)),sb=le(()=>e("p",null,null,-1)),ab=le(()=>e("strong",null,"Unit details",-1)),ob={class:"content"},lb={class:"header-justify-space-between"},nb=le(()=>e("span",null,"Brand:",-1)),db=le(()=>e("br",null,null,-1)),ib=le(()=>e("span",null,"Model:",-1)),cb=le(()=>e("br",null,null,-1)),rb=le(()=>e("div",null,null,-1)),ub=le(()=>e("span",null,"Serial #:",-1)),_b=le(()=>e("br",null,null,-1)),mb=le(()=>e("span",null,"Asset Tag:",-1)),pb=le(()=>e("br",null,null,-1)),hb=le(()=>e("div",null,null,-1)),vb=le(()=>e("strong",null,"Reported problem",-1)),bb={class:"content"},fb=le(()=>e("strong",null,"Assessment conducted",-1)),$b={class:"content"},gb=le(()=>e("strong",null,"Recommendation",-1)),yb={class:"content"},kb={class:"header-justify-space-between"},xb=le(()=>e("strong",null,"Evaluated by:",-1)),wb=le(()=>e("br",null,null,-1)),Cb={class:"botoom-line"},Sb=le(()=>e("br",null,null,-1)),Db=le(()=>e("p",null,null,-1)),Ub=le(()=>e("strong",null,"Noted by:",-1)),Mb=le(()=>e("br",null,null,-1)),Vb={class:"botoom-line"},Ab=le(()=>e("br",null,null,-1)),Eb=le(()=>e("br",null,null,-1)),Tb=le(()=>e("p",null,null,-1)),Lb={key:0},Pb={key:1},Fb={key:0,class:"fab-container"},Ib=le(()=>e("i",{class:"fas fa-download"},null,-1)),qb=[Ib],Yb={__name:"TechRecommApprove",setup(o){const g=`${fe().params.id}`,m=()=>{const _=document.getElementById("exportPDF");st().from(_).save(`${g}.pdf`)},d=Ae({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),r=()=>{A.get(`/api/tech-recommendations/${fe().params.id}`).then(_=>{d.id=_.data.id,d.recommnum=_.data.recommnum,d.branch=_.data.branch,d.company=_.data.company,d.department=_.data.department,d.warehouse=_.data.warehouse,d.user=_.data.user,d.problem=_.data.problem,d.brand=_.data.brand,d.model=_.data.model,d.assettag=_.data.assettag,d.serialnum=_.data.serialnum,d.status=_.data.status,d.assconducted=_.data.assconducted,d.recommendation=_.data.recommendation,d.createdby=_.data.createdby.cfull_name,d.updatedby=_.data.updatedby.ufull_name,d.created_at=ve(_.data.created_at).format("MMMM D, YYYY"),d.updated_at=ve(_.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=_.data.createdby.cposition,d.updated_position=_.data.updatedby.uposition}).catch(_=>{actions.setErrors(_.response.data.errors)})};return _e(()=>{r(),document.title=g}),(_,p)=>(t(),a(R,null,[e("div",R1,[e("div",H1,[j1,e("div",O1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,z1),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,G1)]),e("div",Q1,[e("span",null,[V("Recommendation No: "),e("strong",null,s(d.recommnum),1)]),e("span",null,[V("Date Checked: "),e("strong",null,s(d.created_at),1)])]),e("div",W1,[e("div",null,[e("span",null,[V("Company: "),e("strong",null,s(d.company),1)]),K1,e("span",null,[V("Branch: "),e("strong",null,s(d.branch),1)])]),X1,e("div",null,[d.warehouse==""?(t(),a("span",J1,[V("Warehouse: "),Z1,V(s(d.warehouse),1)])):L("",!0),eb,e("span",null,[V("User: "),e("strong",null,s(d.user),1)]),tb,e("span",null,[V("Department: "),e("strong",null,s(d.department),1)])]),sb]),ab,e("div",ob,[e("div",lb,[e("div",null,[nb,e("strong",null,s(d.brand),1),db,ib,e("strong",null,s(d.model),1),cb]),rb,e("div",null,[ub,e("strong",null,s(d.serialnum),1),_b,mb,e("strong",null,s(d.assettag),1),pb]),hb])]),vb,e("div",bb,[e("p",null,s(d.problem),1)]),fb,e("div",$b,[e("p",null,s(d.assconducted),1)]),gb,e("div",yb,[e("p",null,s(d.recommendation),1)]),e("div",kb,[e("div",null,[xb,wb,e("span",Cb,s(d.createdby),1),Sb,e("span",null,s(d.created_position),1)]),Db,e("div",null,[Ub,Mb,e("span",Vb,s(d.updatedby),1),Ab,e("span",null,s(d.updated_position),1),Eb]),Tb]),d.status===2?(t(),a("span",Lb,"Approved date:("+s(d.updated_at)+")",1)):(t(),a("span",Pb,"Pending"))])]),d.status===2?(t(),a("div",Fb,[e("div",{class:"button iconbutton bg-success",onClick:p[0]||(p[0]=S=>m())},qb)])):L("",!0)],64))}};var lt=ye(Yb,[["__scopeId","data-v-18d1690e"]]);const Bb={},Nb={class:"card mx-auto",style:{"max-width":"600px"}},Rb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),Hb={class:"card-body"},jb={class:"list-unstyled"};function Ob(o,g){return t(),a("div",Nb,[Rb,e("div",Hb,[e("ul",jb,[e("li",{class:"nav-item dropdown",onClick:g[0]||(g[0]=(...m)=>o.fetchNotifications&&o.fetchNotifications(...m))})])])])}var zb=ye(Bb,[["render",Ob]]);const Gb=["checked"],Qb={class:"text-center"},Wb={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:g}){pe(),me();const m=o,d=g,r=()=>{d("toggleSelection",m.item)};return(_,p)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Gb)]),e("td",null,s(o.index+1),1),e("td",{onClick:p[0]||(p[0]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.site_name),1),e("td",{onClick:p[1]||(p[1]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.asset_name),1),e("td",{onClick:p[2]||(p[2]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.asset_type),1),e("td",{onClick:p[3]||(p[3]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.serial),1),e("td",{onClick:p[4]||(p[4]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.date_acquired),1),e("td",{onClick:p[5]||(p[5]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.man_supplier),1),e("td",{onClick:p[6]||(p[6]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.unit),1),e("td",{onClick:p[7]||(p[7]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s("\u20B1"+o.item.purchasecost),1),e("td",{onClick:p[8]||(p[8]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s("\u20B1"+o.item.depreciationcostbyyear),1),e("td",{onClick:p[9]||(p[9]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.created_by),1),e("td",{onClick:p[10]||(p[10]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.created_at),1),e("td",{onClick:p[11]||(p[11]=se(S=>_.$emit("viewData",o.item),["prevent"]))},s(o.item.updated_by),1),e("td",Qb,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:p[12]||(p[12]=se(S=>_.$emit("editData",o.item),["prevent"]))}),V(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:p[13]||(p[13]=se(S=>_.$emit("confirmDeletion",o.item.id),["prevent"]))})])])]))}};var Kb=ye(Wb,[["__scopeId","data-v-769d0a2c"]]);const Xb={class:"content"},Jb={class:"container-fluid"},Zb={class:"d-flex justify-content-between"},ef={class:"d-flex"},tf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sf={key:0},af=e("i",{class:"fa fa-trash mr-1"},null,-1),of={class:"ml-2"},lf={class:"card"},nf={class:"card-body"},df={class:"table-responsive"},cf={class:"table table-bordered table-sm table-striped hover"},rf=e("th",{style:{width:"10px"}},"#",-1),uf=e("th",null,"Site",-1),_f=e("th",null,"Asset",-1),mf=e("th",null,"Asset type",-1),pf=e("th",null,"Serial",-1),hf=e("th",null,"Date Aquired",-1),vf=e("th",null,"Supplier",-1),bf=e("th",null,"Unit",-1),ff=e("th",null,"Purchase Cost",-1),$f=e("th",null,"Depreciation Cost",-1),gf=e("th",null,"Createdby",-1),yf=e("th",null,"CreatedAt",-1),kf=e("th",null,"Updatedby",-1),xf=e("th",null,"Action",-1),wf={key:0},Cf={key:1},Sf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Df=[Sf],Uf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mf={class:"modal-dialog modal-lg",role:"document"},Vf={class:"modal-content"},Af={class:"modal-header"},Ef={class:"modal-title",id:"staticBackdropLabel"},Tf={key:0},Lf={key:1},Pf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ff={class:"modal-body"},If={class:"col-md-12"},qf={class:"row"},Yf={class:"col-6"},Bf={class:"form-group"},Nf=e("label",{for:"branch"},"Site",-1),Rf=e("option",{value:"",disabled:""}," Select Site ",-1),Hf=["value"],jf={class:"invalid-feedback"},Of={class:"form-group"},zf=e("label",{for:"department"},"Asset Name",-1),Gf={class:"invalid-feedback"},Qf={class:"form-group"},Wf=e("label",{for:"asset_type"},"Asset Type",-1),Kf={class:"invalid-feedback"},Xf={class:"form-group"},Jf=e("label",{for:"serial"},"Serial #:",-1),Zf={class:"invalid-feedback"},e$={class:"col-6"},t$={class:"form-group"},s$=e("label",{for:"date_acquired"},"Date Acquired",-1),a$={class:"invalid-feedback"},o$={class:"form-group"},l$=e("label",{for:"man_supplier"},"Brand",-1),n$={class:"invalid-feedback"},d$={class:"form-group"},i$=e("label",{for:"unit"},"Unit",-1),c$={class:"invalid-feedback"},r$={class:"row"},u$={class:"col-6"},_$={class:"form-group"},m$=e("label",{for:"paccountable"},"Person Accountable",-1),p$={class:"invalid-feedback"},h$={class:"col-6"},v$={class:"form-group"},b$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),f$={class:"invalid-feedback"},$$={class:"row"},g$={class:"col-6"},y$={class:"form-group"},k$=e("label",{for:"cucodition"},"Current Condition",-1),x$=e("option",{value:"",disabled:""}," Select Condition ",-1),w$=e("option",{value:"Fair"}," FAIR ",-1),C$=e("option",{value:"Good"}," GOOD ",-1),S$=e("option",{value:"Damange"}," DAMANGE ",-1),D$={class:"invalid-feedback"},U$={class:"form-group"},M$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),V$={class:"col-6"},A$={class:"form-group"},E$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),T$={class:"form-group"},L$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),P$={class:"row"},F$={class:"col-6"},I$={class:"form-group"},q$=e("label",{for:"operationhours"},"Operating Hours",-1),Y$={class:"col-6"},B$={class:"form-group"},N$=e("label",{for:"notes"},"Notes",-1),R$={class:"invalid-feedback"},H$={class:"row"},j$={class:"col-6"},O$={class:"form-group"},z$=e("label",{for:"purchasecost"},"Purchase Cost",-1),G$={class:"input-group mb-3"},Q$=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),W$={class:"form-group"},K$=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),X$={class:"input-group mb-3"},J$=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),Z$={class:"col-6"},eg={class:"form-group"},tg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),sg={class:"invalid-feedback"},ag=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),og={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},lg={class:"modal-dialog",role:"document"},ng={class:"modal-content"},dg=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),ig={class:"modal-footer"},cg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),rg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ug={class:"modal-dialog",role:"document"},_g={class:"modal-content"},mg=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),pg={class:"modal-body"},hg={class:"d-flex justify-content-between"},vg={class:"mb-3"},bg={class:"row"},fg={class:"col-md-12"},$g=e("br",null,null,-1),gg=e("br",null,null,-1),yg=e("br",null,null,-1),kg=e("br",null,null,-1),xg=e("br",null,null,-1),wg={class:"col-md-12"},Cg=e("br",null,null,-1),Sg=e("br",null,null,-1),Dg=e("br",null,null,-1),Ug=e("br",null,null,-1),Mg=e("br",null,null,-1),Vg=e("br",null,null,-1),Ag=e("br",null,null,-1),Eg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Tg={__name:"AssetmList",setup(o){me();const g=`${fe().name}`,m=pe(),d=c({data:[]});c({data:[]});const r=c(!1),_=c(!1),p=c(),S=c(!0),l=Ae({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",is_active:""});c(null),c();const E=c(),b=(C=1)=>{r.value=!0,A.get(`/web/asset-monitoring?page=${C}`,{params:{query:Y.value}}).then(h=>{r.value=!1,d.value=h.data,i.value=[],H.value=!1})},x=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),n=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),w=()=>{A.post("/web/asset-monitoring",l).then(C=>{$("#FormModal").modal("hide"),b(),m.success(C.data.message)}).catch(C=>{m.error(C.data.message)})},I=()=>{_.value=!1,$("#FormModal").modal("show")},G=C=>{l.site_name=C.site_name,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.purchasecost=C.purchasecost,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,$("#ViewRecodeModal").modal("show")},te=C=>{_.value=!0,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.purchasecost=C.purchasecost,l.depreciationcost=C.depreciationcost,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,$("#FormModal").modal("show")},X=({setErrors:C})=>{A.post("/web/asset-monitoring",l).then(h=>{b(),$("#FormModal").modal("hide"),m.success("Data successfully Updated!")}).catch(h=>{C(h.response.data.errors),console.log(h)})},j=(C,h)=>{_.value?X(C):w()},y=()=>{A.get("/web/getsite").then(C=>{E.value=C.data.sites}).catch(C=>{console.log(C)})},Y=c(null),i=c([]),P=C=>{const h=i.value.indexOf(C.id);h===-1?i.value.push(C.id):i.value.splice(h,1),console.log(i.value)},O=c(null),oe=C=>{O.value=C,$("#deleteClientModal").modal("show")},W=()=>{A.delete(`/web/asset-monitoring/${O.value}`).then(C=>{$("#deleteClientModal").modal("hide"),m.success(C.data.message),b()})},he=()=>{A.delete("/web/bulkDeleteAsset",{data:{ids:i.value}}).then(C=>{d.value.data=d.value.data.filter(h=>!i.value.includes(h.id)),i.value=[],H.value=!1,m.success(C.data.message)})},H=c(!1),T=()=>{H.value?i.value=d.value.data.map(C=>C.id):i.value=[],console.log(i.value)};return be([S],C=>{l.is_active=C?1:0}),be(Y,Le.exports.debounce(()=>{b()},300)),_e(()=>{b(),y(),document.title=g}),(C,h)=>{const f=ge("font"),ne=ge("tab-content"),ie=ge("form-wizard");return t(),a(R,null,[e("div",Xb,[e("div",Jb,[e("div",Zb,[e("div",ef,[e("button",{onClick:I,type:"button",class:"mb-2 btn btn-primary"},[tf,V(" Asset ")]),i.value.length>0?(t(),a("div",sf,[e("button",{onClick:he,type:"button",class:"ml-2 mb-2 btn btn-danger"},[af,V(" Delete Selected ")]),e("span",of,"Selected "+s(i.value.length)+" Record",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=D=>Y.value=D),class:"form-control",placeholder:"Search..."},null,512),[[ue,Y.value]])])]),e("div",lf,[e("div",nf,[r.value?(t(),ce(Te,{key:0})):L("",!0),e("div",df,[k(f,{size:"2"},{default:Z(()=>[e("table",cf,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=D=>H.value=D),onChange:T},null,544),[[Ee,H.value]])]),rf,uf,_f,mf,pf,hf,vf,bf,ff,$f,gf,yf,kf,xf])]),d.value.data.length>0?(t(),a("tbody",wf,[(t(!0),a(R,null,K(d.value.data,(D,M)=>(t(),ce(Kb,{key:D.id,item:D,index:M,onViewData:G,onEditData:te,onConfirmDeletion:oe,onToggleSelection:P,"select-all":H.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Cf,Df))])]),_:1})])])]),k(u(qe),{data:d.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",Uf,[e("div",Mf,[e("div",Vf,[e("div",Af,[e("h5",Ef,[_.value?(t(),a("span",Tf,"Edit Asset")):(t(),a("span",Lf,"Add Asset"))]),Pf]),k(u(Ue),{onSubmit:j,"validation-schema":_.value?u(n):u(x),"initial-values":p.value},{default:Z(({errors:D})=>[e("div",Ff,[e("div",If,[k(ie,{onOnComplete:w,color:"#094899","step-size":"xs"},{default:Z(()=>[k(ne,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",qf,[e("div",Yf,[e("div",Bf,[Nf,k(u(N),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":D.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":h[2]||(h[2]=M=>l.site_id=M)},{default:Z(()=>[Rf,(t(!0),a(R,null,K(E.value,M=>(t(),a("option",{key:M.id,value:M.id},s(M.site_name),9,Hf))),128))]),_:2},1032,["class","modelValue"]),e("span",jf,s(D.branch),1)]),e("div",Of,[zf,k(u(N),{name:"asset_name",type:"text",class:U(["form-control",{"is-invalid":D.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":h[3]||(h[3]=M=>l.asset_name=M)},null,8,["class","modelValue"]),e("span",Gf,s(D.asset_name),1)]),e("div",Qf,[Wf,k(u(N),{name:"asset_type",type:"text",class:U(["form-control",{"is-invalid":D.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":h[4]||(h[4]=M=>l.asset_type=M)},null,8,["class","modelValue"]),e("span",Kf,s(D.asset_type),1)]),e("div",Xf,[Jf,k(u(N),{name:"serial",type:"text",class:U(["form-control",{"is-invalid":D.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":h[5]||(h[5]=M=>l.serial=M)},null,8,["class","modelValue"]),e("span",Zf,s(D.serial),1)])]),e("div",e$,[e("div",t$,[s$,k(u(N),{name:"date_acquired",type:"date",class:U(["form-control",{"is-invalid":D.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":h[6]||(h[6]=M=>l.date_acquired=M)},null,8,["class","modelValue"]),e("span",a$,s(D.date_acquired),1)]),e("div",o$,[l$,k(u(N),{name:"man_supplier",type:"text",class:U(["form-control",{"is-invalid":D.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":h[7]||(h[7]=M=>l.man_supplier=M)},null,8,["class","modelValue"]),e("span",n$,s(D.man_supplier),1)]),e("div",d$,[i$,k(u(N),{name:"unit",type:"number",class:U(["form-control",{"is-invalid":D.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":h[8]||(h[8]=M=>l.unit=M)},null,8,["class","modelValue"]),e("span",c$,s(D.unit),1)])])])]),_:2},1024),k(ne,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",r$,[e("div",u$,[e("div",_$,[m$,k(u(N),{name:"paccountable",type:"text",class:U(["form-control",{"is-invalid":D.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":h[9]||(h[9]=M=>l.paccountable=M)},null,8,["class","modelValue"]),e("span",p$,s(D.paccountable),1)])]),e("div",h$,[e("div",v$,[b$,k(u(N),{name:"locationchangetranfer",type:"text",class:U(["form-control",{"is-invalid":D.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":h[10]||(h[10]=M=>l.locationchangetranfer=M)},null,8,["class","modelValue"]),e("span",f$,s(D.locationchangetranfer),1)])])])]),_:2},1024),k(ne,{title:"Asset Condition"},{default:Z(()=>[e("div",$$,[e("div",g$,[e("div",y$,[k$,k(u(N),{as:"select",name:"cucodition",class:U(["form-control",{"is-invalid":D.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":h[11]||(h[11]=M=>l.cucodition=M)},{default:Z(()=>[x$,w$,C$,S$]),_:2},1032,["class","modelValue"]),e("span",D$,s(D.cucodition),1)]),e("div",U$,[M$,k(u(N),{name:"maintenancenotes",as:"textarea",class:U(["form-control",{"is-invalid":D.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":h[12]||(h[12]=M=>l.maintenancenotes=M)},null,8,["class","modelValue"])])]),e("div",V$,[e("div",A$,[E$,k(u(N),{name:"lastmaintenance",type:"date",class:U(["form-control",{"is-invalid":D.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":h[13]||(h[13]=M=>l.lastmaintenance=M)},null,8,["class","modelValue"])]),e("div",T$,[L$,k(u(N),{name:"nextmaintenance",type:"date",class:U(["form-control",{"is-invalid":D.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":h[14]||(h[14]=M=>l.nextmaintenance=M)},null,8,["class","modelValue"])])])])]),_:2},1024),k(ne,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",P$,[e("div",F$,[e("div",I$,[q$,k(u(N),{name:"operationhours",type:"number",class:U(["form-control",{"is-invalid":D.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":h[15]||(h[15]=M=>l.operationhours=M)},null,8,["class","modelValue"])])]),e("div",Y$,[e("div",B$,[N$,k(u(N),{name:"notes",as:"textarea",class:U(["form-control",{"is-invalid":D.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":h[16]||(h[16]=M=>l.notes=M)},null,8,["class","modelValue"]),e("span",R$,s(D.notes),1)])])])]),_:2},1024),k(ne,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",H$,[e("div",j$,[e("div",O$,[z$,e("div",G$,[Q$,k(u(N),{name:"purchasecost",type:"text",class:U(["form-control",{"is-invalid":D.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":h[17]||(h[17]=M=>l.purchasecost=M)},null,8,["class","modelValue"])])]),e("div",W$,[K$,e("div",X$,[J$,k(u(N),{name:"depreciationcost",type:"text",class:U(["form-control",{"is-invalid":D.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":h[18]||(h[18]=M=>l.depreciationcost=M)},null,8,["class","modelValue"])])])]),e("div",Z$,[e("div",eg,[tg,k(u(N),{name:"insurancewarrantyinfo",as:"textarea",class:U(["form-control",{"is-invalid":D.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":h[19]||(h[19]=M=>l.insurancewarrantyinfo=M)},null,8,["class","modelValue"]),e("span",sg,s(D.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),ag]),_:1},8,["validation-schema","initial-values"])])])]),e("div",og,[e("div",lg,[e("div",ng,[dg,e("div",ig,[cg,e("button",{onClick:se(W,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",rg,[e("div",ug,[e("div",_g,[mg,e("div",pg,[e("div",hg,[e("div",vg,[e("div",bg,[e("div",fg,[e("p",null,[V(" Site: "+s(l.site_name),1),$g,V(" Asset Name: "+s(l.asset_name),1),gg,V(" Asset Type: "+s(l.asset_type),1),yg,V(" Serial: "+s(l.serial),1),kg,V(" Date Acquired: "+s(l.date_acquired),1),xg])]),e("div",wg,[e("p",null,[V(" Brand: "+s(l.man_supplier),1),Cg,V(" Unit: "+s(l.unit),1),Sg,V(" Person Accountability: "+s(l.paccountable),1),Dg,V(" Location Transfer: "+s(l.locationchangetranfer),1),Ug,V(" Condition: "+s(l.cucodition),1),Mg,V(" Purchase cost: "+s(l.purchasecost),1),Vg,V(" Maintenance Note: "+s(l.maintenancenotes),1),Ag])])])])])]),Eg])])])],64)}}};const de=o=>(Me("data-v-276af6e0"),o=o(),Ve(),o),Lg={class:"content"},Pg={class:"container-fluid"},Fg={class:"d-flex justify-content-between"},Ig={class:"d-flex"},qg=de(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Yg={key:0},Bg=de(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),Ng={class:"ml-2"},Rg={class:"d-flex"},Hg={class:"form-group"},jg=de(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Og=["value"],zg={id:"captureDiv"},Gg={class:"card"},Qg={class:"card-header"},Wg={class:"card-title"},Kg={class:"card-tools"},Xg={id:"cost"},Jg={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Zg=de(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),ey={class:"card-body"},ty=de(()=>e("i",{class:"fa fa-camera"},null,-1)),sy=[ty],ay={key:1,class:"table-responsive"},oy={class:"table table-bordered table-sm table-striped table-hover"},ly=de(()=>e("th",null,null,-1)),ny=de(()=>e("th",null,"Date",-1)),dy=de(()=>e("th",null,"Allocated Pallet Space",-1)),iy=de(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),cy=de(()=>e("th",null,"Space Utilization %",-1)),ry=de(()=>e("th",null,"Excess",-1)),uy={key:0},_y={key:1},my=de(()=>e("th",null,"Remarks",-1)),py=de(()=>e("th",null,"Action",-1)),hy={key:0},vy=["item","index"],by=["checked"],fy={key:0},$y={key:1},gy=["onClick"],yy=de(()=>e("i",{class:"fa fa-edit"},null,-1)),ky=[yy],xy={key:0},wy=de(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),Cy={colspan:"3"},Sy={key:1},Dy=de(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),Uy=[Dy],My={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vy={class:"modal-dialog modal-sm",role:"document"},Ay={class:"modal-content"},Ey={class:"modal-header"},Ty={class:"modal-title",id:"staticBackdropLabel"},Ly={key:0},Py={key:1},Fy=de(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Iy={class:"modal-body"},qy={class:"col-md-12"},Yy={class:"row"},By={class:"col-12"},Ny={class:"form-group"},Ry=de(()=>e("label",{for:"date"},"Date",-1)),Hy={class:"invalid-feedback"},jy={class:"form-group"},Oy=de(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),zy={class:"invalid-feedback"},Gy={class:"form-group"},Qy=de(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),Wy={class:"invalid-feedback"},Ky={class:"form-group"},Xy=de(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),Jy={class:"invalid-feedback"},Zy=de(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),e2={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},t2={class:"modal-dialog",role:"document"},s2={class:"modal-content"},a2=we('<div class="modal-header" data-v-276af6e0><h5 class="modal-title" id="staticBackdropLabel" data-v-276af6e0><span data-v-276af6e0>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-276af6e0><span aria-hidden="true" data-v-276af6e0>\xD7</span></button></div><div class="modal-body" data-v-276af6e0><h5 data-v-276af6e0>Are you sure you want to delete this record ?</h5></div>',2),o2={class:"modal-footer"},l2=de(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),n2={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},d2={class:"modal-dialog modal-sm",role:"document"},i2={class:"modal-content"},c2=de(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),r2={class:"modal-body"},u2={class:"fromtocenter"},_2=de(()=>e("label",{for:"fromDate"},"From:",-1)),m2=de(()=>e("label",{for:"toDate"},"To:",-1)),p2={class:"modal-footer"},h2=de(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),v2={__name:"PalletList",setup(o){const g=et("$swal"),m=`${fe().name}`,d=pe(),r=c({data:[]}),_=c(),p=c(!1),S=c(!1),l=me(),E=c(!0),b=c(!0),x=c(),n=Ae({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});c(null);const w=c(),I=()=>{p.value=!0,A.get("/web/pallet",{params:{site_id:n.site_id,query:C.value}}).then(z=>{p.value=!1,r.value=z.data.data,w.value=z.data.sum,h.value=[],Pe.value=!1})},G=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),te=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),X=c(""),j=c(""),y=c({start_date:"",end_date:""});be([X],()=>{const z=new Date(X.value),J=z.getFullYear(),$e=String(z.getMonth()+1).padStart(2,"0"),Q=String(z.getDate()).padStart(2,"0");y.value.start_date=`${J}-${$e}-${Q}`}),be([j],()=>{const z=new Date(j.value),J=z.getFullYear(),$e=String(z.getMonth()+1).padStart(2,"0"),Q=String(z.getDate()).padStart(2,"0");y.value.end_date=`${J}-${$e}-${Q}`});const Y=()=>{p.value=!0,A.get("/web/filter-pallet",{params:{start_date:y.value.start_date,end_date:y.value.end_date,site_id:n.site_id}}).then(z=>{p.value=!1,r.value=z.data.data,w.value=z.data.sum}).catch(z=>{console.error(z)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},i=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},P=({resetForm:z,setErrors:J})=>{A.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then($e=>{I(),$("#FormModal").modal("hide"),i(),d.success("Data created successfully!")}).catch(function($e){$e.response?d.error($e.response.data.message):$e.request?d.error($e.request):d.error("Error",$e.message)})},O=()=>{A.get("/web/getsite").then(z=>{_.value=z.data.sites}).catch(z=>{console.log(z)})},oe=()=>{I(n.site_id);const z=_.value.find(J=>J.id===n.site_id);x.value=z?z.site_name:""},W=()=>{if(!n.site_id||n.site_id.length===0){g.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}S.value=!1,$("#FormModal").modal("show")},he=z=>{S.value=!0,n.id=z.id,n.user_id=z.user_id,n.site_id=z.site_id,n.date=z.date,n.allocatedpalletspace=z.allocatedpalletspace,n.spaceuteltotal=z.spaceuteltotal,n.caseperpallet=z.caseperpallet,$("#FormModal").modal("show")},H=({setErrors:z})=>{A.post("/web/pallet",n).then(J=>{i(),I(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(J=>{z(J.response.data.errors),console.log(J)})},T=(z,J)=>{S.value?H(z):P(z)},C=c(null),h=c([]),f=z=>{const J=h.value.indexOf(z.id);J===-1?h.value.push(z.id):h.value.splice(J,1),console.log(h.value)},ne=c(null),ie=()=>{A.delete(`/web/pallet/${ne.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),r.value.data=r.value.data.filter(z=>z.id!==ne.value)})},D=()=>{A.delete("/web/bulkDeletePallet",{data:{ids:h.value}}).then(z=>{I(),h.value=[],Pe.value=!1,d.success(z.data.message)})},M=()=>{if(!n.site_id||n.site_id.length===0){g.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},Pe=c(!1),Re=()=>{$("#cost").hide(),$("#capturecamerafilter").hide();const z=document.getElementById("captureDiv");Oe(z).then(J=>{const $e=J.toDataURL(),Q=document.createElement("a");Q.href=$e,Q.download=`${x.value} - ${m}.png`,Q.click()}),$("#cost").show(),$("#capturecamerafilter").show()};return be([b],z=>{n.is_active=z?1:0}),be(C,Le.exports.debounce(()=>{I()},300)),_e(()=>{O(),document.title=m}),(z,J)=>{const $e=ge("font");return t(),a(R,null,[e("div",Lg,[e("div",Pg,[e("div",Fg,[e("div",Ig,[e("button",{onClick:W,type:"button",class:"mb-2 btn btn-primary"},[qg,V(" Pallet ")]),h.value.length>0?(t(),a("div",Yg,[e("button",{onClick:D,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Bg,V(" Delete Selected ")]),e("span",Ng,"Selected "+s(h.value.length)+" Pallet",1)])):L("",!0)]),e("div",Rg,[e("div",Hg,[ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":J[0]||(J[0]=Q=>n.site_id=Q),onChange:J[1]||(J[1]=Q=>oe())},[jg,(t(!0),a(R,null,K(_.value,Q=>(t(),a("option",{key:Q.id,value:Q.id},s(Q.site_name),9,Og))),128))],544),[[Fe,n.site_id]])])])]),e("div",zg,[e("div",Gg,[e("div",Qg,[e("div",Wg,s(x.value||"Select a Site"),1),e("div",Kg,[e("div",Xg,[e("div",Jg,[ee(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":J[2]||(J[2]=Q=>E.value=Q)},null,512),[[Ee,E.value]]),Zg])])])]),e("div",ey,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:Re,type:"button",class:"mb-2 btn btn-sm btn-success"},sy)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:M})])])]),p.value?(t(),ce(Te,{key:0})):(t(),a("div",ay,[k($e,{size:"2"},{default:Z(()=>[e("table",oy,[e("thead",null,[e("tr",null,[ly,ny,dy,iy,cy,ry,E.value?(t(),a("th",uy,"Cost per Pallet")):L("",!0),E.value?(t(),a("th",_y,"Cost")):L("",!0),my,py])]),r.value.length>0?(t(),a("tbody",hy,[(t(!0),a(R,null,K(r.value,(Q,Ce)=>(t(),a("tr",{key:Q.id,item:Q,index:Ce},[e("td",null,[e("input",{type:"checkbox",checked:Pe.value,onChange:f},null,40,by)]),e("td",null,s(u(ve)(Q.date).format("MMMM DD, YY")),1),e("td",null,s(Q.allocatedpalletspace),1),e("td",null,s(Q.spaceuteltotal),1),e("td",null,s(Q.spacetotalutelpercent),1),e("td",null,s(Q.excess),1),E.value?(t(),a("td",fy,s(Q.caseperpallet),1)):L("",!0),E.value?(t(),a("td",$y,s(Q.cost),1)):L("",!0),e("td",null," EXCESS "+s(Q.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:ze=>he(Q)},ky,8,gy)])],8,vy))),128)),E.value?(t(),a("tr",xy,[wy,e("td",Cy,[e("b",null,s(w.value),1)])])):L("",!0)])):(t(),a("tbody",Sy,Uy))])]),_:1})]))])])])])]),e("div",My,[e("div",Vy,[e("div",Ay,[e("div",Ey,[e("h5",Ty,[S.value?(t(),a("span",Ly,"Edit Pallet")):(t(),a("span",Py,"Add Pallet"))]),Fy]),k(u(Ue),{onSubmit:T,"validation-schema":S.value?u(te):u(G)},{default:Z(({errors:Q})=>[e("div",Iy,[e("div",qy,[e("div",Yy,[e("div",By,[k(u(N),{modelValue:n.user_id,"onUpdate:modelValue":J[3]||(J[3]=Ce=>n.user_id=Ce),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Ny,[Ry,k(u(N),{name:"date",type:"date",class:U(["form-control",{"is-invalid":Q.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":J[4]||(J[4]=Ce=>n.date=Ce)},null,8,["class","modelValue"]),e("span",Hy,s(Q.date),1)]),e("div",jy,[Oy,k(u(N),{name:"allocatedpalletspace",type:"text",class:U(["form-control",{"is-invalid":Q.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":J[5]||(J[5]=Ce=>n.allocatedpalletspace=Ce)},null,8,["class","modelValue"]),e("span",zy,s(Q.allocatedpalletspace),1)]),e("div",Gy,[Qy,k(u(N),{name:"spaceuteltotal",type:"text",class:U(["form-control",{"is-invalid":Q.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":J[6]||(J[6]=Ce=>n.spaceuteltotal=Ce),required:""},null,8,["class","modelValue"]),e("span",Wy,s(Q.spaceuteltotal),1)]),e("div",Ky,[Xy,k(u(N),{name:"caseperpallet",type:"text",class:U(["form-control",{"is-invalid":Q.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":J[7]||(J[7]=Ce=>n.caseperpallet=Ce)},null,8,["class","modelValue"]),e("span",Jy,s(Q.caseperpallet),1)])])])])]),Zy]),_:1},8,["validation-schema"])])])]),e("div",e2,[e("div",t2,[e("div",s2,[a2,e("div",o2,[l2,e("button",{onClick:se(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",n2,[e("div",d2,[e("div",i2,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(m)+" Report")]),c2]),e("div",r2,[e("div",u2,[e("div",null,[_2,k(u(Ie),{modelValue:X.value,"onUpdate:modelValue":J[8]||(J[8]=Q=>X.value=Q)},null,8,["modelValue"])]),e("div",null,[m2,k(u(Ie),{modelValue:j.value,"onUpdate:modelValue":J[9]||(J[9]=Q=>j.value=Q)},null,8,["modelValue"])])])]),e("div",p2,[h2,e("button",{onClick:J[10]||(J[10]=Q=>Y()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var b2=ye(v2,[["__scopeId","data-v-276af6e0"]]);const f2=o=>(Me("data-v-298b68f9"),o=o(),Ve(),o),$2={class:"content"},g2={class:"container-fluid"},y2={class:"row"},k2={class:"col-md-6"},x2={class:"card"},w2={class:"card-title"},C2={class:"form-group m-3"},S2=f2(()=>e("option",{value:"",disabled:""}," Select User ",-1)),D2=["value"],U2={class:"card-body"},M2={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},V2={class:"custom-control custom-checkbox"},A2=["value","id","checked"],E2=["for"],T2={class:"card-footer"},L2={__name:"UserSite",setup(o){me();const g=`${fe().name}`,m=pe();c(!0);const d=Ae({user_id:""});c(null),c();const r=c(),_=c(),p=c([]),S=()=>{A.get("/api/users/userlist").then(x=>{_.value=x.data}).catch(x=>{console.log(x)})},l=x=>{x!==null?A.get(`/web/usersite/${x}`).then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):A.get("/web/getsitewithoutuser").then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},E=()=>{const x={user_id:d.user_id,site_id:p.value};console.log(x),A.post("/web/onSaveupdate",x).then(n=>{m.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},b=x=>{l(x)};return _e(()=>{S(),l(),document.title=g}),(x,n)=>(t(),a("div",$2,[e("div",g2,[e("div",y2,[e("div",k2,[e("div",x2,[e("div",w2,[e("div",C2,[k(u(N),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=w=>d.user_id=w),onChange:n[1]||(n[1]=w=>b(d.user_id))},{default:Z(()=>[S2,(t(!0),a(R,null,K(_.value,w=>(t(),a("option",{key:w.id,value:w.id},s(w.name),9,D2))),128))]),_:1},8,["modelValue"])])]),e("div",U2,[e("ul",M2,[(t(!0),a(R,null,K(r.value,w=>(t(),a("li",{key:w.id,class:"list-group-item"},[e("div",V2,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=I=>p.value=I),value:w.id,id:"site_id_"+w.id,checked:w.hasAccess},null,8,A2),[[Ee,p.value]]),e("label",{for:"site_id_"+w.id,class:"custom-control-label"},s(w.site_name),9,E2)])]))),128))]),e("div",T2,[e("button",{type:"button",onClick:n[3]||(n[3]=w=>E()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var P2=ye(L2,[["__scopeId","data-v-298b68f9"]]),F2=[{path:"/login",name:"admin.login",component:Yn},{path:"/dashboard",name:"Dashboard",component:Et},{path:"/appointments",name:"Appointments",component:Zt},{path:"/appointments/create",name:"Appointments",component:Xe},{path:"/appointments/:id/edit",name:"Appointments",component:Xe},{path:"/user",name:"User",component:Vo},{path:"/settings",name:"Setting",component:kl},{path:"/profile",name:"Profile",component:vn},{path:"/client",name:"Client",component:Id},{path:"/tech-recommendation",name:"Tech Recomm",component:Jc},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:K_},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:fh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Cp},{path:"/usermenu",name:"User Menu",component:pv},{path:"/menu",name:"Menu",component:I1},{path:"/:catchAll(.*)",name:"404 Error Page",component:ot},{path:"/notifications",name:"Notifications",component:zb},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:lt},{path:"/asset-monitoring",name:"Asset Monitoring",component:Tg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:b2},{path:"/usersite",name:"User Site",component:P2}];const I2={class:"navbar-nav"},q2=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),Y2={class:"nav-item d-none d-sm-inline-block"},B2={class:"navbar-nav ml-auto"},N2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),R2=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),H2={class:"nav-link","data-toggle":"dropdown",href:"#"},j2=e("i",{class:"far fa-bell"},null,-1),O2={class:"badge badge-warning navbar-badge"},z2={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},G2={class:"dropdown-header"},Q2=e("div",{class:"dropdown-divider"},null,-1),W2=e("i",{class:"fas fa-envelope mr-2"},null,-1),K2={class:"float-right text-muted text-sm"},X2={key:1,class:"text-center text-muted py-3"},J2=e("div",{class:"dropdown-divider"},null,-1),Z2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),ek=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),tk={__name:"AppNavbar",setup(o){const g=He(),m=c([]),d=()=>{A.get("/api/notifications").then(r=>{m.value=r.data.notifications}).catch(r=>{console.error("Error fetching notifications",r)})};return _e(()=>{d()}),(r,_)=>{const p=ge("router-link");return t(),a("nav",{class:U(["main-header navbar navbar-expand",u(g).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",I2,[q2,e("li",Y2,[e("a",{onClick:_[0]||(_[0]=se((...S)=>u(g).changeTheme&&u(g).changeTheme(...S),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:U(["far",u(g).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",B2,[N2,R2,e("li",{class:"nav-item dropdown",onClick:d},[e("a",H2,[j2,e("span",O2,s(m.value.length),1)]),e("div",z2,[e("span",G2,s(m.value.length)+" Notifications",1),Q2,m.value.length>0?(t(!0),a(R,{key:0},K(m.value,S=>(t(),a("a",{key:S.id,href:"#",class:"dropdown-item"},[W2,V(" "+s(S.data?S.data:"No message available")+" ",1),e("span",K2,s(u(ve)(S.created_at)),1)]))),128)):(t(),a("p",X2,"No new notifications")),J2,k(p,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[V("See All Notifications")]),_:1})])]),Z2,ek])],2)}}},sk={class:"main-sidebar sidebar-dark-primary elevation-4"},ak={href:"#",class:"brand-link"},ok=["src"],lk={class:"brand-text font-weight-light"},nk={class:"sidebar"},dk={class:"user-panel mt-3 pb-3 mb-3 d-flex"},ik={key:0,class:"image"},ck=["src"],rk={key:1,class:"image"},uk=["src"],_k=["src"],mk={class:"info"},pk={href:"#",class:"d-block"},hk={class:"mt-2"},vk={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},bk={key:0,class:"right fas fa-angle-left"},fk={key:0,class:"nav nav-treeview"},$k={class:"nav-item"},gk={class:"nav-link"},yk=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),kk=e("p",null,"Logout",-1),xk=[yk,kk],wk={__name:"SidebarLeft",setup(o){const g=Qe(),m=me(),d=He(),r=c({data:[]}),_=()=>{axios.get("/api/menu").then(l=>{r.value=l.data}).catch(l=>{console.log(l)})},p=l=>l===g.currentRoute.value.path,S=()=>{axios.post("/logout").then(l=>{m.user.name="",g.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),_()}),(l,E)=>{const b=ge("router-link");return t(),a("aside",sk,[e("a",ak,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,ok),e("span",lk,s(u(d).setting.app_name),1)]),e("div",nk,[e("div",dk,[u(m).user.avatar===""?(t(),a("div",ik,[e("img",{src:u(m).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,ck)])):u(m).user.avatar!==""?(t(),a("div",rk,[u(m).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,uk)):u(m).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,_k)):L("",!0)])):L("",!0),e("div",mk,[e("a",pk,s(u(m).user.name),1)])]),e("nav",hk,[e("ul",vk,[(t(!0),a(R,null,K(r.value,x=>(t(),a("li",{key:x.id,class:U({"nav-item":!0,"menu-is-opening":x.submenus&&x.submenus.length>0})},[k(b,{class:U({"nav-link":!0,active:p(x.menu_route)}),to:`${x.menu_route}`},{default:Z(()=>[e("i",{class:U("nav-icon "+x.menu_icon)},null,2),e("p",null,s(x.menu_title),1),x.submenus&&x.submenus.length>0?(t(),a("i",bk)):L("",!0)]),_:2},1032,["class","to"]),x.submenus&&x.submenus.length>0?(t(),a("ul",fk,[(t(!0),a(R,null,K(x.submenus,n=>(t(),a("li",{key:n.id,class:"nav-item"},[k(b,{class:U({"nav-link menu-open":!0,active:p(n.menu_route)}),to:n.menu_route},{default:Z(()=>[e("i",{class:U("nav-icon "+n.menu_icon)},null,2),e("p",null,s(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):L("",!0)],2))),128)),e("li",$k,[e("form",gk,[e("a",{href:"#",onClick:se(S,["prevent"])},xk)])])])])])])}}},Ck={},Sk={class:"control-sidebar control-sidebar-dark"},Dk=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),Uk=[Dk];function Mk(o,g){return t(),a("aside",Sk,Uk)}var Vk=ye(Ck,[["render",Mk]]);const Ak={class:"main-footer"},Ek={class:"float-right d-none d-sm-block"},Tk={href:"#"},Lk={__name:"AppFooter",props:{settings:Object},setup(o){const g=me(),m=c(new Date().getFullYear());return(d,r)=>{var _;return t(),a("footer",Ak,[e("div",Ek,s(u(g).user.name),1),e("strong",null,[V("Copyright \xA9 "+s(m.value)+" ",1),e("a",Tk,s((_=o.settings)==null?void 0:_.app_name),1),V(".")]),V(" All rights reserved. ")])}}};const Pk=o=>(Me("data-v-36653638"),o=o(),Ve(),o),Fk={class:"content-wrapper"},Ik={class:"content-header"},qk={class:"container-fluid"},Yk={class:"row mb-2"},Bk={class:"col-sm-6"},Nk={class:"m-0"},Rk={class:"col-sm-6"},Hk={class:"breadcrumb float-sm-right"},jk=Pk(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Ok={class:"breadcrumb-item active"},zk={__name:"CustomMainLayout",setup(o){const g=me(),m=He(),d=De(()=>m.theme==="dark"?"dark-mode":"");return(r,_)=>{const p=ge("router-view");return u(g).user.name!==""?(t(),a("div",{key:0,class:U(["wrapper",d.value])},[k(tk),k(wk),k(Vk),e("div",Fk,[e("section",Ik,[e("div",qk,[e("div",Yk,[e("div",Bk,[e("h1",Nk,s(r.$route.name),1)]),e("div",Rk,[e("ol",Hk,[jk,e("li",Ok,s(r.$route.name),1)])])])])]),k(p)]),k(Lk)],2)):(t(),a("div",{key:1,class:U(["login-page slibg",d.value])},[k(p)],2))}}};var Gk=ye(zk,[["__scopeId","data-v-36653638"]]);const Qk={__name:"App",setup(o){me();const g=fe(),m=De(()=>g.name==="Tech-Approved"),d=De(()=>g.name==="404 Error Page");return(r,_)=>(t(),a("div",null,[!d.value&&!m.value?(t(),ce(Gk,{key:0})):m.value?(t(),ce(lt,{key:1})):(t(),ce(ot,{key:2}))]))}};var Wk=ye(Qk,[["__scopeId","data-v-252b567e"]]);const Kk=rt(),Ne=mt(Wk),nt=ut({routes:F2,history:_t()});nt.beforeEach(async(o,g)=>{const m=me();if(m.user.name===""&&o.name!=="admin.login"){const d=He();await Promise.all([m.getAuthUser(),d.getSetting()])}});Ne.use(Ct);Ne.use(Kk);Ne.use(nt);Ne.use(wt);Ne.use(st);Ne.mount("#app");
