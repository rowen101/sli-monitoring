import{_ as it,l as Le}from"./lodash.6f1dd969.js";import{a as A}from"./axios.82d3905a.js";import{a as ct}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as Je,c as rt}from"./pinia.210ccde5.js";import{u as fe,a as Qe,c as ut,b as _t}from"./vue-router.abad5649.js";import{r as c,o as _e,i as a,k as e,x as s,_ as k,u,e as t,I as De,h as Z,j as D,F as R,q as K,d as ge,a0 as ne,v as V,C as Ae,a2 as ee,a3 as ue,aa as Pe,p as L,w as be,ab as we,f as ce,a5 as Me,a6 as Ve,ac as Ze,ad as Ee,B as et,a1 as Ge,ae as mt}from"./@vue.04713aa0.js";import{B as ht}from"./vue-chartjs.50c6886f.js";import{C as pt,p as vt,a as bt,b as ft,c as $t,d as gt,L as yt}from"./chart.js.562acd0f.js";import{S as Ke}from"./sweetalert2.ef56b979.js";import{t as je}from"./toastr.94171567.js";import{F as Ue,a as N}from"./vee-validate.1443789f.js";import{f as tt}from"./flatpickr.181c7977.js";import{c as xe,a as q}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ve}from"./moment.40bc58bf.js";import{a as qe}from"./laravel-vue-pagination.475a8c82.js";import{C as kt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Ie}from"./vue3-datepicker.b3fccff5.js";import{h as Oe}from"./html2canvas.c4a43e03.js";import{h as st}from"./html2pdf.js.44b835e5.js";import{V as wt}from"./vue-sweetalert2.891f877f.js";import{d as Ct}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=it;window.axios=A;window.$=window.jQuery=ct;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=Je("AuthUserStore",()=>{const o=c({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await A.get("/api/profile").then(_=>{o.value=_.data})}}}),St={class:"content"},Dt={class:"container-fluid"},Ut={class:"card"},Mt={class:"card-header"},Vt={class:"card-body"},At=e("div",{class:"row"},null,-1),Et={__name:"Dashboard",setup(o){pt.register(vt,bt,ft,$t,gt,yt);const f=`${fe().name}`;me(),c("all"),c(0);const _=c(new Date().getFullYear()),d=c({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),r=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},m=c("today"),g=c(0),M=()=>{axios.get("/api/stats/users",{params:{date_range:m.value}}).then(l=>{g.value=l.data.totalUsersCount})};return _e(()=>{r(),M(),document.title=f}),(l,E)=>(t(),a("div",St,[e("div",Dt,[e("div",Ut,[e("div",Mt," Yearly Progress - "+s(_.value),1),e("div",Vt,[k(u(ht),{data:d.value},null,8,["data"])])]),At])]))}},Tt={class:"content"},Lt={class:"container-fluid"},Ft={class:"row"},Pt={class:"col-lg-12"},It={class:"d-flex justify-content-between mb-2"},qt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),V(" Add New Appointment")],-1),Yt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Nt={class:"badge badge-pill badge-info"},Rt=["onClick"],Ht={class:"mr-1"},jt={class:"card"},Ot={class:"card-body"},zt={class:"table table-bordered"},Gt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Wt=e("i",{class:"fa fa-edit mr-2"},null,-1),Kt=["onClick"],Xt=e("i",{class:"fa fa-trash text-danger"},null,-1),Jt=[Xt],Zt={__name:"ListAppointments",setup(o){const f=c(),_=c([]),d=()=>{A.get("/api/appointment-status").then(E=>{_.value=E.data})},r=c([]),m=E=>{f.value=E;const v={};E&&(v.status=E),A.get("/api/appointments",{params:v}).then(x=>{r.value=x.data,console.log(x)})},g=De(()=>_.value.map(E=>E.count).reduce((E,v)=>E+v,0)),M=E=>{const v=r.value.data.find(n=>n.id===E).status.name,x=_.value.find(n=>n.name===v);x.count--},l=E=>{Ke.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&A.delete(`/api/appointments/${E}`).then(x=>{M(E),r.value.data=r.value.data.filter(n=>n.id!==E),Ke.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{m(),d()}),(E,v)=>{const x=ge("router-link");return t(),a("div",Tt,[e("div",Lt,[e("div",Ft,[e("div",Pt,[e("div",It,[e("div",null,[k(x,{to:"/admin/appointments/create"},{default:Z(()=>[qt]),_:1})]),e("div",Yt,[e("button",{onClick:v[0]||(v[0]=n=>m()),type:"button",class:D(["btn",[typeof f.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Nt,s(g.value),1)],2),(t(!0),a(R,null,K(_.value,n=>(t(),a("button",{key:n.id,onClick:w=>m(n.value),type:"button",class:D(["btn",[f.value===n.value?"btn-secondary":"btn-default"]])},[e("span",Ht,s(n.name),1),e("span",{class:D(["badge badge-pill",`badge-${n.color}`])},s(n.count),3)],10,Rt))),128))])]),e("div",jt,[e("div",Ot,[e("table",zt,[Gt,e("tbody",null,[(t(!0),a(R,null,K(r.value.data,(n,w)=>(t(),a("tr",{key:n.id},[e("td",null,s(w+1),1),e("td",null,s(n.client.first_name)+" "+s(n.client.last_name),1),e("td",null,s(n.start_time),1),e("td",null,s(n.end_time),1),Qt,e("td",null,[k(x,{to:`/admin/appointments/${n.id}/edit`},{default:Z(()=>[Wt]),_:2},1032,["to"]),e("a",{href:"#",onClick:ne(I=>l(n.id),["prevent"])},Jt,8,Kt)])]))),128))])])])])])])])])}}};function he(){return je.options.positionClass="toast-top-right",je.options.closeButton=!0,je.options.progressBar=!0,je}const es={class:"content-header"},ts={class:"container-fluid"},ss={class:"row mb-2"},as={class:"col-sm-6"},os={class:"m-0"},ls={key:0},ns={key:1},ds={class:"col-sm-6"},is={class:"breadcrumb float-sm-right"},cs={class:"breadcrumb-item"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item active"},_s={key:0},ms={key:1},hs={class:"content"},ps={class:"container-fluid"},vs={class:"row"},bs={class:"col-lg-12"},fs={class:"card"},$s={class:"card-body"},gs={class:"row"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),ws={class:"invalid-feedback"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ds=e("label",{for:"client"},"Client Name",-1),Us=["value"],Ms={class:"invalid-feedback"},Vs={class:"row"},As={class:"col-md-6"},Es={class:"form-group"},Ts=e("label",{for:"start-time"},"Start Time",-1),Ls={class:"invalid-feedback"},Fs={class:"col-md-6"},Ps={class:"form-group"},Is=e("label",{for:"end-time"},"End Time",-1),qs={class:"invalid-feedback"},Ys={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Ns={class:"invalid-feedback"},Rs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Xe={__name:"AppointmentForm",setup(o){const f=Qe(),_=fe(),d=he(),r=Ae({title:"",client_id:"",start_time:"",end_time:"",description:""}),m=(n,w)=>{x.value?M(n,w):g(n,w)},g=(n,w)=>{A.post("/api/appointments/create",r).then(I=>{f.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(I=>{w.setErrors(I.response.data.errors)})},M=(n,w)=>{A.put(`/api/appointments/${_.params.id}/edit`,r).then(I=>{f.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(I=>{w.setErrors(I.response.data.errors)})},l=c(),E=()=>{A.get("/api/view-clients").then(n=>{l.value=n.data})},v=()=>{A.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{r.title=n.title,r.client_id=n.client_id,r.start_time=n.formatted_start_time,r.end_time=n.formatted_end_time,r.description=n.description})},x=c(!1);return _e(()=>{_.name==="admin.appointments.edit"&&(x.value=!0,v()),tt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),E()}),(n,w)=>{const I=ge("router-link");return t(),a(R,null,[e("div",es,[e("div",ts,[e("div",ss,[e("div",as,[e("h1",os,[x.value?(t(),a("span",ls,"Edit")):(t(),a("span",ns,"Create")),V(" Appointment")])]),e("div",ds,[e("ol",is,[e("li",cs,[k(I,{to:"/admin/dashboard"},{default:Z(()=>[V("Home")]),_:1})]),e("li",rs,[k(I,{to:"/admin/appointments"},{default:Z(()=>[V("Appointments")]),_:1})]),e("li",us,[x.value?(t(),a("span",_s,"Edit")):(t(),a("span",ms,"Create"))])])])])])]),e("div",hs,[e("div",ps,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[k(u(Ue),{onSubmit:m},{default:Z(({errors:G})=>[e("div",gs,[e("div",ys,[e("div",ks,[xs,ee(e("input",{"onUpdate:modelValue":w[0]||(w[0]=te=>r.title=te),type:"text",class:D(["form-control",{"is-invalid":G.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ue,r.title]]),e("span",ws,s(G.title),1)])]),e("div",Cs,[e("div",Ss,[Ds,ee(e("select",{"onUpdate:modelValue":w[1]||(w[1]=te=>r.client_id=te),id:"client",class:D(["form-control",{"is-invalid":G.client_id}])},[(t(!0),a(R,null,K(l.value,te=>(t(),a("option",{value:te.id,key:te.id},s(te.first_name)+" "+s(te.last_name),9,Us))),128))],2),[[Pe,r.client_id]]),e("span",Ms,s(G.client_id),1)])])]),e("div",Vs,[e("div",As,[e("div",Es,[Ts,ee(e("input",{"onUpdate:modelValue":w[2]||(w[2]=te=>r.start_time=te),type:"text",class:D(["form-control flatpickr",{"is-invalid":G.start_time}]),id:"start-time"},null,2),[[ue,r.start_time]]),e("span",Ls,s(G.start_time),1)])]),e("div",Fs,[e("div",Ps,[Is,ee(e("input",{"onUpdate:modelValue":w[3]||(w[3]=te=>r.end_time=te),type:"text",class:D(["form-control flatpickr",{"is-invalid":G.end_time}]),id:"end-time"},null,2),[[ue,r.end_time]]),e("span",qs,s(G.end_time),1)])])]),e("div",Ys,[Bs,ee(e("textarea",{"onUpdate:modelValue":w[4]||(w[4]=te=>r.description=te),class:D(["form-control",{"is-invalid":G.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ue,r.description]]),e("span",Ns,s(G.description),1)]),Rs]),_:1})])])])])])])],64)}}},Hs=["checked"],js=["value","selected"],Os=["value","selected"],zs=e("i",{class:"fa fa-edit"},null,-1),Gs=[zs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ws=[Qs],Ks={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:f}){const _=he(),d=o,r=f,m=c([{name:"ADMIN",value:1},{name:"USER",value:2}]),g=c([]),M=()=>{A.get("/api/users/userlist").then(x=>{g.value=x.data}).catch(x=>{console.log(x)})},l=(x,n)=>{A.patch(`/api/users/${x.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},E=(x,n)=>{A.patch(`/api/users/${x.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},v=()=>{r("toggleSelection",d.user)};return _e(()=>{M()}),(x,n)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:v},null,40,Hs)):L("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=w=>l(o.user,w.target.value))},[(t(!0),a(R,null,K(m.value,w=>(t(),a("option",{key:w.id,value:w.value,selected:o.user.role===w.name},s(w.name),9,js))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=w=>E(o.user,w.target.value))},[(t(!0),a(R,null,K(g.value,w=>(t(),a("option",{key:w.id,value:w.id,selected:o.user.sitehead_user_id===w.id},s(w.first_name+" "+w.last_name),9,Os))),128))],32)):L("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=ne(w=>x.$emit("editUser",o.user),["prevent"]))},Gs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=ne(w=>x.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ws)):L("",!0)])]))}},Xs={class:"content"},Js={class:"container-fluid"},Zs={class:"d-flex justify-content-between mb-2"},ea={class:"d-flex"},ta=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sa={key:0},aa=e("i",{class:"fa fa-trash mr-1"},null,-1),oa={class:"ml-2"},la={class:"card"},na={class:"card-body"},da={class:"dispatch-table"},ia={class:"table-responsive"},ca={class:"table table-bordered table-hover table-sm"},ra=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[ma],pa=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Da=["value","selected"],Ua=e("hr",null,null,-1),Ma={class:"row"},Va={key:0,class:"col"},Aa=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),Fa=[La],Pa={key:1,class:"col"},Ia=["onClick"],qa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ya={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Na={class:"modal-content"},Ra={class:"modal-header"},Ha={class:"modal-title",id:"staticBackdropLabel"},ja={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},ho={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Do=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vo={__name:"UserList",setup(o){const f=`${fe().name}`,_=me(),d=he(),r=c({data:[]}),m=c(!1),g=c(),M=c(null);c([]),c(null);const l=c([{name:"Male",value:1},{name:"Female",value:2}]),E=(T=1)=>{A.get(`/api/users?page=${T}`,{params:{query:Y.value}}).then(C=>{r.value=C.data,i.value=[],H.value=!1})},v=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().required().min(8),gender:q().required()}),x=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().when((T,C)=>T?C.required().min(8):C),gender:q().required()}),n=c([]),w=()=>{A.get("/api/users/userlist").then(T=>{n.value=T.data}).catch(T=>{console.log(T)})},I=(T,C)=>{A.patch(`/api/users/${T.id}/change-sitehead`,{sitehead_user_id:C}).then(()=>{d.success("Sitehead changed successfully!")})},G=(T,{resetForm:C,setErrors:h})=>{A.post("/api/users",T).then(b=>{r.value.data.unshift(b.data),$("#userFormModal").modal("hide"),C(),d.success("User created successfully!")}).catch(b=>{b.response.data.errors&&(h(b.response.data.errors),d.warning(b.response.data.errors.name))})},te=()=>{m.value=!1,$("#userFormModal").modal("show")},X=T=>{m.value=!0,M.value.resetForm(),$("#userFormModal").modal("show"),g.value={id:T.id,name:T.name,email:T.email,sitehead_user_id:T.sitehead_user_id,first_name:T.first_name,last_name:T.last_name,gender:T.gender}},j=(T,{setErrors:C})=>{A.put("/api/users/"+g.value.id,T).then(h=>{const b=r.value.data.findIndex(le=>le.id===h.data.id);r.value.data[b]=h.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(h=>{C(h.response.data.errors),console.log(h)})},y=(T,C)=>{m.value?j(T,C):G(T,C)},Y=c(null),i=c([]),F=T=>{const C=i.value.indexOf(T.id);C===-1?i.value.push(T.id):i.value.splice(C,1),console.log(i.value)},O=c(null),ae=T=>{O.value=T,$("#deleteUserModal").modal("show")},W=()=>{A.delete(`/api/users/${O.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),r.value.data=r.value.data.filter(T=>T.id!==O.value)})},pe=()=>{A.delete("/api/users",{data:{ids:i.value}}).then(T=>{r.value.data=r.value.data.filter(C=>!i.value.includes(C.id)),i.value=[],H.value=!1,d.success(T.data.message)})},H=c(!1);return be(Y,Le.exports.debounce(()=>{E()},300)),_e(()=>{E(),w(),document.title=f}),(T,C)=>{const h=ge("font");return t(),a(R,null,[e("div",Xs,[e("div",Js,[e("div",Zs,[e("div",ea,[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ta,V(" User ")]),i.value.length>0?(t(),a("div",sa,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[aa,V(" Delete Selected ")]),e("span",oa,"Selected "+s(i.value.length)+" users",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=b=>Y.value=b),class:"form-control",placeholder:"Search..."},null,512),[[ue,Y.value]])])]),e("div",la,[e("div",na,[e("div",da,[e("div",ia,[k(h,{size:"2"},{default:Z(()=>[e("table",ca,[ra,r.value.data.length>0?(t(),a("tbody",ua,[(t(!0),a(R,null,K(r.value.data,(b,le)=>(t(),ce(Ks,{key:b.id,user:b,index:le,onEditUser:X,onConfirmUserDeletion:ae,onToggleSelection:F,"select-all":H.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",_a,ha))])]),_:1})])]),(t(!0),a(R,null,K(r.value.data,(b,le)=>(t(),a("div",{class:"dispatch-list",key:b.id,index:le},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,s(b.first_name+" "+b.last_name),1)]),e("div",ga,[ya,e("span",null,s(b.email),1)]),e("div",ka,[xa,e("span",null,s(b.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[b.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:ie=>I(b,ie.target.value)},[(t(!0),a(R,null,K(n.value,ie=>(t(),a("option",{key:ie.id,value:ie.id,selected:ie.sitehead_user_id===ie.id},s(ie.first_name+" "+ie.last_name),9,Da))),128))],40,Sa)):L("",!0)])]),Ua,e("div",Ma,[u(_).user.role==="ADMIN"?(t(),a("div",Va,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>X(b)},[Ea,V(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ie=>ae(b.id)},Fa,8,Ta)])):L("",!0),u(_).user.role==="USER"?(t(),a("div",Pa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>X(b)},[qa,V(" Edit ")],8,Ia)])):L("",!0)])])])],8,pa))),128))])]),k(u(qe),{data:r.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",Ya,[e("div",Ba,[e("div",Na,[e("div",Ra,[e("h5",Ha,[m.value?(t(),a("span",ja,"Edit User")):(t(),a("span",Oa,"Add New User"))]),za]),k(u(Ue),{ref_key:"form",ref:M,onSubmit:y,"validation-schema":m.value?u(x):u(v),"initial-values":g.value},{default:Z(({errors:b})=>[e("div",Ga,[e("div",Qa,[Wa,k(u(N),{name:"name",type:"text",class:D(["form-control",{"is-invalid":b.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,s(b.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,k(u(N),{name:"email",type:"email",class:D(["form-control",{"is-invalid":b.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,s(b.email),1)])]),e("div",so,[e("div",ao,[oo,k(u(N),{id:"gender",name:"gender",as:"select",class:D(["form-control",{"is-invalid":b.gender}])},{default:Z(()=>[lo,(t(!0),a(R,null,K(l.value,le=>(t(),a("option",{key:le.name,value:le.name},s(le.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,k(u(N),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":b.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,s(b.first_name),1)])]),e("div",mo,[e("div",ho,[po,k(u(N),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":b.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,s(b.last_name),1)])])]),e("div",bo,[fo,k(u(N),{name:"position",type:"text",class:D(["form-control",{"is-invalid":b.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,s(b.position),1)]),e("div",go,[yo,k(u(N),{name:"password",type:"password",class:D(["form-control",{"is-invalid":b.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,s(b.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Do,e("div",Uo,[Mo,e("button",{onClick:ne(W,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Ao=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Eo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Lo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Te={__name:"ContentLoader",setup(o){return(f,_)=>f.isloading?(t(),ce(u(kt),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Ao,Eo,To,Lo]),_:1})):L("",!0)}};var ye=(o,f)=>{const _=o.__vccOpts||o;for(const[d,r]of f)_[d]=r;return _};const Ye=o=>(Me("data-v-3a144c01"),o=o(),Ve(),o),Fo={class:"content"},Po={class:"container-fluid"},Io={class:"row"},qo={class:"col-md-6"},Yo={class:"card"},Bo=we('<ul class="nav nav-tabs" id="settingsTabs" data-v-3a144c01><li class="nav-item" data-v-3a144c01><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-3a144c01>General Settings</a></li><li class="nav-item" data-v-3a144c01><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-3a144c01>Site Settings</a></li></ul>',1),No={class:"tab-content"},Ro={class:"tab-pane fade show active",id:"general-tab"},Ho={class:"card-body"},jo={class:"form-group"},Oo=Ye(()=>e("label",{for:"appName"},"App Display Name",-1)),zo={key:0,class:"text-danger text-sm"},Go={class:"form-group"},Qo=Ye(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Wo=we('<option value="m/d/Y" data-v-3a144c01> MM/DD/YYYY </option><option value="d/m/Y" data-v-3a144c01> DD/MM/YYYY </option><option value="Y-m-d" data-v-3a144c01> YYYY-MM-DD </option><option value="F j, Y" data-v-3a144c01> Month DD, YYYY </option><option value="j F Y" data-v-3a144c01> DD Month YYYY </option>',5),Ko=[Wo],Xo={key:0,class:"text-danger text-sm"},Jo={class:"form-group"},Zo=Ye(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),el={key:0,class:"text-danger text-sm"},tl=Ye(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),V("Save Changes ")])],-1)),sl={class:"tab-pane fade",id:"site"},al={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ol={key:0,class:"list-group-item mt-2"},ll={class:"d-flex justify-content-between"},nl={class:"d-flex"},dl=["onClick"],il={class:"d-flex"},cl=["onClick"],rl={class:"m-2 list-unstyled"},ul={key:1},_l={key:0,class:"list-group-item mt-2"},ml={class:"d-flex justify-content-between"},hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=Ye(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=Ye(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const f=`${fe().name}`,_=c([]),d=he(),r=c(!0),m=c([]),g=c(!1),M=c(),l=c({id:"",site_name:"",is_active:""}),E=()=>{g.value=!0,axios.get("/api/site").then(y=>{g.value=!1,m.value=y.data}).catch(y=>{console.log(y)})},v=De(()=>Array.isArray(m.value)?m.value.filter(y=>y.is_active===0):[]),x=De(()=>v.value.length),n=()=>{r.value=!r.value},w=()=>{var y,Y;g.value=!0,axios.post("/api/site",{id:(y=l.value)==null?void 0:y.id,site_name:(Y=l.value)==null?void 0:Y.site_name,is_active:!0}).then(i=>{E(),l.value={id:null,site_name:"",is_active:!0},d.success(i.data.message),g.value=!1}).catch(i=>{i.response&&i.response.status===422&&(X.value=i.response.data.errors)})},I=y=>{l.value.is_active=y.is_active===1?0:1,axios.post("/api/site",{id:y.id,site_name:y.site_name,is_active:l.value.is_active}).then(Y=>{axios.get("/api/site").then(i=>{m.value=i.data}).catch(i=>{console.error("Error fetching tasks:",i),d.error("Error fetching tasks. Please try again.")})}).catch(Y=>{console.error("Error adding new task:",Y),d.error("Error adding new task. Please try again.")})},G=y=>{l.value.id=y.id,l.value.site_name=y.site_name},te=()=>{axios.get("/api/settings").then(y=>{_.value=y.data})},X=c(),j=()=>{X.value="",axios.post("/api/settings",_.value).then(y=>{d.success("Settings updated successfully!")}).catch(y=>{y.response&&y.response.status===422&&(X.value=y.response.data.errors)})};return _e(()=>{E(),te(),document.title=f}),(y,Y)=>(t(),a("div",Fo,[e("div",Po,[e("div",Io,[e("div",qo,[e("div",Yo,[Bo,e("div",No,[e("div",Ro,[e("form",{onSubmit:Y[3]||(Y[3]=ne(i=>j(),["prevent"]))},[e("div",Ho,[e("div",jo,[Oo,ee(e("input",{"onUpdate:modelValue":Y[0]||(Y[0]=i=>_.value.app_name=i),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ue,_.value.app_name]]),X.value&&X.value.app_name?(t(),a("span",zo,s(X.value.app_name[0]),1)):L("",!0)]),e("div",Go,[Qo,ee(e("select",{"onUpdate:modelValue":Y[1]||(Y[1]=i=>_.value.date_format=i),class:"form-control"},Ko,512),[[Pe,_.value.date_format]]),X.value&&X.value.date_format?(t(),a("span",Xo,s(X.value.date_format[0]),1)):L("",!0)]),e("div",Jo,[Zo,ee(e("input",{"onUpdate:modelValue":Y[2]||(Y[2]=i=>_.value.pagination_limit=i),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ue,_.value.pagination_limit]]),X.value&&X.value.pagination_limit?(t(),a("span",el,s(X.value.pagination_limit[0]),1)):L("",!0)])]),tl],32)]),e("div",sl,[m.value.length>0?(t(),a("div",al,[g.value?(t(),ce(Te,{key:0})):L("",!0),(t(!0),a(R,null,K(m.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===1?(t(),a("li",ol,[e("div",ll,[e("div",nl,[e("i",{onClick:F=>I(i),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,dl),e("span",{class:D({"font-italic text-red":i.is_active===0,"":i.is_active===1})},s(i.site_name),3)]),e("div",il,[e("i",{class:"fa fa-pen text-success",onClick:F=>G(i)},null,8,cl)])])])):L("",!0)]))),128)),e("li",rl,[x.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:n},[e("i",{class:D(["fa",r.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Deactive List "+s(x.value),1)])):L("",!0)]),r.value?(t(),a("div",ul,[(t(!0),a(R,null,K(m.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===0?(t(),a("li",_l,[e("div",ml,[e("div",hl,[e("i",{onClick:F=>I(i),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,pl),e("span",{class:D({"font-italic text-red":i.is_active===0,"":i.is_active===1})},[e("del",null,s(i.site_name),1)],2)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",vl,fl)),k(u(Ue),{ref:"form",onSubmit:w,"initial-values":M.value},{default:Z(()=>[k(u(N),{name:"id",modelValue:l.value.id,"onUpdate:modelValue":Y[4]||(Y[4]=i=>l.value.id=i),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[k(u(N),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:l.value.site_name,"onUpdate:modelValue":Y[5]||(Y[5]=i=>l.value.site_name=i),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=ye(yl,[["__scopeId","data-v-3a144c01"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Dl={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Ml={class:"text-center"},Vl=["src"],Al={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Ll={class:"card"},Fl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Pl={class:"card-body"},Il={class:"tab-content"},ql={class:"tab-pane active",id:"profile"},Yl={class:"form-group row"},Bl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Nl={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},Hl={class:"form-group row"},jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const f=me(),_=he(),d=`${fe().name}`,r=c([]),m=()=>{axios.put("/api/profile",{name:f.user.name,first_name:f.user.first_name,last_name:f.user.last_name,email:f.user.email,role:f.user.role}).then(x=>{_.success("Profile updated successfully!")}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},g=Ae({currentPassword:"",password:"",passwordConfirmation:""}),M=()=>{r.value="",axios.post("/api/change-user-password",g).then(x=>{_.success(x.data.message);for(const n in g)g[n]=""}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},l=c(null),E=()=>{l.value.click()},v=x=>{const n=x.target.files[0];f.user.avatar=URL.createObjectURL(n);const w=new FormData;w.append("profile_picture",n),axios.post("/api/upload-profile-image",w).then(I=>{_.success("Image uploaded successfully!")})};return _e(()=>{document.title=d}),(x,n)=>(t(),a("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Dl,[e("div",Ul,[e("div",Ml,[e("input",{onChange:v,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:E,class:"profile-user-img img-circle",src:u(f).user.avatar,alt:"User profile picture"},null,8,Vl)]),e("h3",Al,s(u(f).user.name),1),e("p",El,s(u(f).user.role),1)])])]),e("div",Tl,[e("div",Ll,[Fl,e("div",Pl,[e("div",Il,[e("div",ql,[e("form",{onSubmit:n[4]||(n[4]=ne(w=>m(),["prevent"])),class:"form-horizontal"},[e("div",Yl,[Bl,e("div",Nl,[ee(e("input",{"onUpdate:modelValue":n[0]||(n[0]=w=>u(f).user.name=w),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ue,u(f).user.name]]),r.value&&r.value.name?(t(),a("span",Rl,s(r.value.name[0]),1)):L("",!0)])]),e("div",Hl,[jl,e("div",Ol,[ee(e("input",{"onUpdate:modelValue":n[1]||(n[1]=w=>u(f).user.first_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ue,u(f).user.first_name]]),r.value&&r.value.first_name?(t(),a("span",zl,s(r.value.first_name[0]),1)):L("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[ee(e("input",{"onUpdate:modelValue":n[2]||(n[2]=w=>u(f).user.last_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ue,u(f).user.last_name]]),r.value&&r.value.last_name?(t(),a("span",Kl,s(r.value.last_name[0]),1)):L("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[ee(e("input",{"onUpdate:modelValue":n[3]||(n[3]=w=>u(f).user.email=w),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ue,u(f).user.email]]),r.value&&r.value.email?(t(),a("span",en,s(r.value.email[0]),1)):L("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:ne(M,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[ee(e("input",{"onUpdate:modelValue":n[5]||(n[5]=w=>g.currentPassword=w),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ue,g.currentPassword]]),r.value&&r.value.current_password?(t(),a("span",nn,s(r.value.current_password[0]),1)):L("",!0)])]),e("div",dn,[cn,e("div",rn,[ee(e("input",{"onUpdate:modelValue":n[6]||(n[6]=w=>g.password=w),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ue,g.password]]),r.value&&r.value.password?(t(),a("span",un,s(r.value.password[0]),1)):L("",!0)])]),e("div",_n,[mn,e("div",hn,[ee(e("input",{"onUpdate:modelValue":n[7]||(n[7]=w=>g.passwordConfirmation=w),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ue,g.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const Be=o=>(Me("data-v-1e686d1e"),o=o(),Ve(),o),bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=Be(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),wn={class:"input-group mb-3"},Cn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Sn=["type"],Dn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Un=Be(()=>e("div",{class:"input-group mb-3"},null,-1)),Mn={class:"row"},Vn={class:"col-12 mb-2"},An=["disabled"],En={key:0,class:"spinner-border spinner-border-sm",role:"status"},Tn=Be(()=>e("span",{class:"sr-only"},"Loading...",-1)),Ln=[Tn],Fn={key:1},Pn=Be(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),In="Login",qn={__name:"Login",setup(o){const f=c(!1),_=he();me();const d=Qe(),r=Ae({email:"",password:""}),m=c(!1),g=c(""),M=()=>{m.value=!0,g.value="",A.post("/login",r).then(()=>{d.push("/dashboard"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{m.value=!1})};return _e(()=>{document.title=In}),(l,E)=>(t(),a("div",bn,[e("div",fn,[$n,e("div",gn,[g.value?(t(),a("div",yn,s(g.value),1)):L("",!0),e("form",{onSubmit:ne(M,["prevent"])},[e("div",kn,[xn,ee(e("input",{"onUpdate:modelValue":E[0]||(E[0]=v=>r.email=v),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ue,r.email]])]),e("div",wn,[Cn,ee(e("input",{"onUpdate:modelValue":E[1]||(E[1]=v=>r.password=v),class:"form-control",placeholder:"Password",type:f.value?"text":"password",onClick:E[2]||(E[2]=(...v)=>l.handleKeyClick&&l.handleKeyClick(...v))},null,8,Sn),[[Ze,r.password]])]),e("label",Dn,[ee(e("input",{type:"checkbox","onUpdate:modelValue":E[3]||(E[3]=v=>f.value=v)},null,512),[[Ee,f.value]]),V(" Show Password ")]),Un,e("div",Mn,[e("div",Vn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:m.value},[m.value?(t(),a("div",En,Ln)):(t(),a("span",Fn,"Sign In"))],8,An)])])],32),Pn])])]))}};var Yn=ye(qn,[["__scopeId","data-v-1e686d1e"]]);const Bn=["checked"],Nn=e("i",{class:"fa fa-edit"},null,-1),Rn=[Nn],Hn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),jn=[Hn],On={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:f}){he();const _=o,d=f,r=()=>{d("toggleSelection",_.item)};return(m,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Bn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:g[0]||(g[0]=ne(M=>m.$emit("editUser",o.item),["prevent"]))},Rn),e("a",{href:"#",onClick:g[1]||(g[1]=ne(M=>m.$emit("confirmUserDeletion",o.item.id),["prevent"]))},jn)])]))}},zn={class:"content"},Gn={class:"container-fluid"},Qn={class:"d-flex justify-content-between"},Wn={class:"d-flex"},Kn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Xn={key:0},Jn=e("i",{class:"fa fa-trash mr-1"},null,-1),Zn={class:"ml-2"},ed={class:"card"},td={class:"card-body"},sd={class:"table table-bordered"},ad=e("th",{style:{width:"10px"}},"#",-1),od=e("th",null,"Name",-1),ld=e("th",null,"Email",-1),nd=e("th",null,"Registered Date",-1),dd=e("th",null,"Options",-1),id={key:0},cd={key:1},rd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),ud=[rd],_d={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},md={class:"modal-dialog",role:"document"},hd={class:"modal-content"},pd={class:"modal-header"},vd={class:"modal-title",id:"staticBackdropLabel"},bd={key:0},fd={key:1},$d=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),gd={class:"modal-body"},yd={class:"form-group"},kd=e("label",{for:"fist_name"},"First Name",-1),xd={class:"invalid-feedback"},wd={class:"form-group"},Cd=e("label",{for:"last_name"},"Last Name",-1),Sd={class:"invalid-feedback"},Dd={class:"form-group"},Ud=e("label",{for:"email"},"Email",-1),Md={class:"invalid-feedback"},Vd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ad={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ed={class:"modal-dialog",role:"document"},Td={class:"modal-content"},Ld=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Fd={class:"modal-footer"},Pd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Id={__name:"ClientList",setup(o){const f=he(),_=c({data:[]}),d=c(!1),r=c(),m=c(null),g=(O=1)=>{A.get(`/api/clients?page=${O}`,{params:{query:I.value}}).then(ae=>{_.value=ae.data,G.value=[],i.value=!1})},M=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),l=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),E=(O,{resetForm:ae,setErrors:W})=>{A.post("/api/clients",O).then(pe=>{_.value.data.unshift(pe.data),$("#clientFormModal").modal("hide"),ae(),f.success("User created successfully!")}).catch(pe=>{pe.response.data.errors&&W(pe.response.data.errors)})},v=()=>{d.value=!1,$("#clientFormModal").modal("show")},x=O=>{d.value=!0,m.value.resetForm(),$("#clientFormModal").modal("show"),r.value={id:O.id,first_name:O.first_name,last_name:O.last_name,email:O.email}},n=(O,{setErrors:ae})=>{A.put("/api/clients/"+r.value.id,O).then(W=>{const pe=_.value.data.findIndex(H=>H.id===W.data.id);_.value.data[pe]=W.data,$("#clientFormModal").modal("hide"),f.success("Client updated successfully!")}).catch(W=>{ae(W.response.data.errors),console.log(W)})},w=(O,ae)=>{d.value?n(O,ae):E(O,ae)},I=c(null),G=c([]),te=O=>{const ae=G.value.indexOf(O.id);ae===-1?G.value.push(O.id):G.value.splice(ae,1),console.log(G.value)},X=c(null),j=O=>{X.value=O,$("#deleteClientModal").modal("show")},y=()=>{A.delete(`/api/clients/${X.value}`).then(()=>{$("#deleteClientModal").modal("hide"),f.success("Client deleted successfully!"),_.value.data=_.value.data.filter(O=>O.id!==X.value)})},Y=()=>{A.delete("/api/clients",{data:{ids:G.value}}).then(O=>{_.value.data=_.value.data.filter(ae=>!G.value.includes(ae.id)),G.value=[],i.value=!1,f.success(O.data.message)})},i=c(!1),F=()=>{i.value?G.value=_.value.data.map(O=>O.id):G.value=[],console.log(G.value)};return be(I,Le.exports.debounce(()=>{g()},300)),_e(()=>{g()}),(O,ae)=>(t(),a(R,null,[e("div",zn,[e("div",Gn,[e("div",Qn,[e("div",Wn,[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-primary"},[Kn,V(" Add New Client ")]),G.value.length>0?(t(),a("div",Xn,[e("button",{onClick:Y,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Jn,V(" Delete Selected ")]),e("span",Zn,"Selected "+s(G.value.length)+" clients",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":ae[0]||(ae[0]=W=>I.value=W),class:"form-control",placeholder:"Search..."},null,512),[[ue,I.value]])])]),e("div",ed,[e("div",td,[e("table",sd,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":ae[1]||(ae[1]=W=>i.value=W),onChange:F},null,544),[[Ee,i.value]])]),ad,od,ld,nd,dd])]),_.value.data.length>0?(t(),a("tbody",id,[(t(!0),a(R,null,K(_.value.data,(W,pe)=>(t(),ce(On,{key:W.id,item:W,index:pe,onEditUser:x,onConfirmUserDeletion:j,onToggleSelection:te,"select-all":i.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",cd,ud))])])]),k(u(qe),{data:_.value,onPaginationChangePage:g},null,8,["data"])])]),e("div",_d,[e("div",md,[e("div",hd,[e("div",pd,[e("h5",vd,[d.value?(t(),a("span",bd,"Edit Client")):(t(),a("span",fd,"Add New Client"))]),$d]),k(u(Ue),{ref_key:"form",ref:m,onSubmit:w,"validation-schema":d.value?u(l):u(M),"initial-values":r.value},{default:Z(({errors:W})=>[e("div",gd,[e("div",yd,[kd,k(u(N),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":W.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",xd,s(W.first_name),1)]),e("div",wd,[Cd,k(u(N),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":W.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Sd,s(W.last_name),1)]),e("div",Dd,[Ud,k(u(N),{name:"email",type:"email",class:D(["form-control",{"is-invalid":W.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Md,s(W.email),1)])]),Vd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ad,[e("div",Ed,[e("div",Td,[Ld,e("div",Fd,[Pd,e("button",{onClick:ne(y,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const We=o=>(Me("data-v-36595330"),o=o(),Ve(),o),qd={style:{"text-align":"center"}},Yd={key:0},Bd=We(()=>e("i",{class:"fa fa-edit"},null,-1)),Nd=[Bd],Rd=We(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Hd=[Rd],jd={key:1,style:{"text-align":"center"}},Od={key:0},zd=We(()=>e("i",{class:"fa fa-edit"},null,-1)),Gd=[zd],Qd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:f}){he();const _=me();return(d,r)=>{const m=ge("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",qd,[o.item.statusid==2?(t(),ce(m,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:D(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):L("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:D(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):L("",!0)]),e("td",null,s(o.item.created_at),1),u(_).user.role==="ADMIN"?(t(),a("td",Yd,[e("a",{href:"#",onClick:r[0]||(r[0]=ne(g=>d.$emit("editUser",o.item),["prevent"]))},Nd),e("a",{href:"#",onClick:r[1]||(r[1]=ne(g=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Hd)])):L("",!0),u(_).user.role==="USER"?(t(),a("td",jd,[o.item.statusid!=2?(t(),a("div",Od,[o.item.created_by==u(_).user.id?(t(),a("a",{key:0,href:"#",onClick:r[2]||(r[2]=ne(g=>d.$emit("editUser",o.item),["prevent"]))},Gd)):L("",!0)])):L("",!0)])):L("",!0)])}}};var Wd=ye(Qd,[["__scopeId","data-v-36595330"]]);const Kd={class:"content"},Xd={class:"container-fluid"},Jd={class:"d-flex justify-content-between"},Zd={class:"d-flex"},ei=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ti={key:0},si=e("i",{class:"fa fa-trash mr-1"},null,-1),ai={class:"ml-2"},oi={class:"card"},li={class:"card-body"},ni={class:"dispatch-table"},di={class:"table-responsive"},ii={class:"table table-bordered table-sm"},ci=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ri={key:0},ui={key:1},_i=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),mi=[_i],hi=["item","index"],pi={class:"card"},vi={class:"card-body"},bi={class:"list-field"},fi=e("span",{class:"mb-1 dis"},"Tech #:",-1),$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"User:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Branch:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Department:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Created by:",-1),Di={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Status:",-1),Mi={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Ei={class:"row"},Ti={key:0,class:"col"},Li=["onClick"],Fi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Pi=["onClick"],Ii=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),qi=[Ii],Yi={key:0,class:"btn btnsm btn-success btn-block"},Bi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni={key:1,class:"col"},Ri={key:0},Hi=["onClick"],ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zi={class:"modal-dialog modal-lg",role:"document"},Gi={class:"modal-content"},Qi={class:"modal-header"},Wi={class:"modal-title",id:"staticBackdropLabel"},Ki={key:0},Xi={key:1},Ji=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zi={class:"modal-body"},ec={class:"col-md-12"},tc={class:"row"},sc={class:"col-6"},ac={class:"form-group"},oc=e("label",{for:"branch"},"Branch",-1),lc=e("option",{value:"",disabled:""}," Select Branch ",-1),nc=["value"],dc={class:"invalid-feedback"},ic={class:"form-group"},cc=e("label",{for:"department"},"Department",-1),rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"warehouse"},"warehouse",-1),mc={class:"invalid-feedback"},hc={class:"form-group"},pc=e("label",{for:"user"},"User",-1),vc={class:"invalid-feedback"},bc={class:"col-6"},fc={class:"form-group"},$c=e("label",{for:"brand"},"Brand",-1),gc={class:"form-group"},yc=e("label",{for:"model"},"Model",-1),kc={class:"invalid-feedback"},xc={class:"form-group"},wc=e("label",{for:"assettag"},"Asset tag",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"serialnum"},"Serial number",-1),Uc={class:"invalid-feedback"},Mc={class:"col-12"},Vc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Ec={class:"invalid-feedback"},Tc={class:"form-group"},Lc=e("label",{for:"assconducted"},"Assessment conducted",-1),Fc={class:"invalid-feedback"},Pc={class:"form-group"},Ic=e("label",{for:"recommendation"},"Recommendation",-1),qc={class:"invalid-feedback"},Yc={class:"modal-footer"},Bc={key:0},Nc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Hc={class:"dropdown-menu",role:"menu"},jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Oc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),zc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gc={class:"modal-dialog",role:"document"},Qc={class:"modal-content"},Wc=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Kc={class:"modal-footer"},Xc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Jc={__name:"TechList",setup(o){const f=c(),_=c(),d=he(),r=c({data:[]});c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const m=`${fe().name}`,g=()=>{A.get("/api/getsite").then(h=>{_.value=h.data.sites}).catch(h=>{console.log(h)})},M=c(!1),l=c(!1),E=c(),v=Ae({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),x=me();c(null);const n=(h=1)=>{M.value=!0,A.get(`/api/tech-recommendations?page=${h}`,{params:{query:i.value}}).then(b=>{M.value=!1,r.value=b.data,F.value=[],C.value=!1})},w=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),I=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),G=(h,{resetForm:b,setErrors:le})=>{A.post("/api/tech-recommendations",h).then(ie=>{r.value.data.unshift(ie.data),$("#FormModal").modal("hide"),b(),d.success("Data created successfully!")}).catch(ie=>{ie.response.data.errors&&le(ie.response.data.errors)})},te=()=>{l.value=!1,$("#FormModal").modal("show")},X=()=>{v.id="",v.recommnum="",v.branch="",v.department="",v.warehouse="",v.user="",v.problem="",v.brand="",v.model="",v.assettag="",v.serialnum="",v.assconducted="",v.recommendation="",v.ceated_by=""},j=h=>{f.value=h.id,l.value=!0,X(),v.id=h.id,v.branch=h.branch,v.department=h.department,v.warehouse=h.warehouse,v.user=h.user,v.problem=h.problem,v.brand=h.brand,v.model=h.model,v.assettag=h.assettag,v.serialnum=h.serialnum,v.assconducted=h.assconducted,v.recommendation=h.recommendation,v.ceated_by=h.ceated_by,v.recommnum=h.recommnum,$("#FormModal").modal("show")},y=(h,{setErrors:b})=>{A.put("/api/tech-recommendations/"+h.id,h).then(le=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(le=>{b(le.response.data.errors),console.log(le)})},Y=(h,b)=>{l.value?y(v,b):G(h,b)},i=c(null),F=c([]),O=h=>{const b=F.value.indexOf(h.id);b===-1?F.value.push(h.id):F.value.splice(b,1),console.log(F.value)},ae=c(null),W=h=>{ae.value=h,$("#deleteClientModal").modal("show")},pe=()=>{A.delete(`/api/tech-recommendations/${ae.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),r.value.data=r.value.data.filter(h=>h.id!==ae.value)})},H=()=>{A.delete("/api/tech-recommendations",{data:{ids:F.value}}).then(h=>{r.value.data=r.value.data.filter(b=>!F.value.includes(b.id)),F.value=[],C.value=!1,d.success(h.data.message)})},T=h=>{A.post("/api/tech-getaction",{id:f.value,status:h}).then(b=>{$("#FormModal").modal("hide"),n()}).catch(b=>{console.log(b.message)})},C=c(!1);return be(i,Le.exports.debounce(()=>{n()},300)),_e(()=>{n(),g(),document.title=m}),(h,b)=>{const le=ge("font"),ie=ge("router-link");return t(),a(R,null,[e("div",Kd,[e("div",Xd,[e("div",Jd,[e("div",Zd,[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary"},[ei,V(" TechRecom ")]),F.value.length>0?(t(),a("div",ti,[e("button",{onClick:H,type:"button",class:"ml-2 mb-2 btn btn-danger"},[si,V(" Delete Selected ")]),e("span",ai,"Selected "+s(F.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=S=>i.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ue,i.value]])])]),e("div",oi,[e("div",li,[M.value?(t(),ce(Te,{key:0})):L("",!0),e("div",ni,[e("div",di,[k(le,{size:"2"},{default:Z(()=>[e("table",ii,[ci,r.value.data.length>0?(t(),a("tbody",ri,[(t(!0),a(R,null,K(r.value.data,(S,U)=>(t(),ce(Wd,{key:S.id,item:S,index:U,onEditUser:j,onShowItem:h.viewItem,onConfirmUserDeletion:W,onToggleSelection:O,"select-all":C.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ui,mi))])]),_:1})])]),(t(!0),a(R,null,K(r.value.data,(S,U)=>(t(),a("div",{class:"dispatch-list",key:S.id,item:S,index:U},[e("div",pi,[e("div",vi,[e("div",bi,[fi,e("span",null,[e("b",null,s(S.recommnum),1)])]),e("div",$i,[gi,e("span",null,s(S.user),1)]),e("div",yi,[ki,e("span",null,s(S.branch),1)]),e("div",xi,[wi,e("span",null,s(S.department),1)]),e("div",Ci,[Si,e("span",null,s(S.created_user),1)]),e("div",Di,[Ui,S.statusid==2?(t(),ce(ie,{key:0,to:`/admin/tech-approved/${S.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:D(["badge",`badge-${S.status.color}`])},s(S.status.name),3)]),_:2},1032,["to"])):L("",!0),S.statusid!=2?(t(),a("span",{key:1,class:D(["badge",`badge-${S.status.color}`])},s(S.status.name),3)):L("",!0)]),e("div",Mi,[Vi,e("span",null,s(S.created_at),1)]),Ai,e("div",Ei,[u(x).user.role==="ADMIN"?(t(),a("div",Ti,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Fe=>j(S)},[Fi,V(" Edit ")],8,Li),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Fe=>W(S.id)},qi,8,Pi),S.statusid==2?(t(),a("button",Yi,[Bi,V(" Download ")])):L("",!0)])):L("",!0),u(x).user.role==="USER"?(t(),a("div",Ni,[S.statusid!=2?(t(),a("div",Ri,[S.created_by==u(x).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Fe=>j(S)},[ji,V(" Edit ")],8,Hi)):L("",!0)])):L("",!0)])):L("",!0)])])])],8,hi))),128))])]),k(u(qe),{data:r.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Oi,[e("div",zi,[e("div",Gi,[e("div",Qi,[e("h5",Wi,[l.value?(t(),a("span",Ki,"Edit Tech Recom.")):(t(),a("span",Xi,"Add New Tech Recom."))]),Ji]),k(u(Ue),{onSubmit:Y,"validation-schema":l.value?u(I):u(w),"initial-values":E.value},{default:Z(({errors:S})=>[e("div",Zi,[e("div",ec,[e("div",tc,[e("div",sc,[k(u(N),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(x).user.id,"onUpdate:modelValue":b[1]||(b[1]=U=>u(x).user.id=U)},null,8,["modelValue"]),k(u(N),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:v.recommnum,"onUpdate:modelValue":b[2]||(b[2]=U=>v.recommnum=U)},null,8,["modelValue"]),e("div",ac,[oc,k(u(N),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":S.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:v.branch,"onUpdate:modelValue":b[3]||(b[3]=U=>v.branch=U)},{default:Z(()=>[lc,(t(!0),a(R,null,K(_.value,U=>(t(),a("option",{key:U.site_name,value:U.site_name},s(U.site_name),9,nc))),128))]),_:2},1032,["class","modelValue"]),e("span",dc,s(S.branch),1)]),e("div",ic,[cc,k(u(N),{name:"department",type:"text",class:D(["form-control",{"is-invalid":S.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:v.department,"onUpdate:modelValue":b[4]||(b[4]=U=>v.department=U)},null,8,["class","modelValue"]),e("span",rc,s(S.department),1)]),e("div",uc,[_c,k(u(N),{name:"warehouse",type:"text",class:D(["form-control",{"is-invalid":S.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:v.warehouse,"onUpdate:modelValue":b[5]||(b[5]=U=>v.warehouse=U)},null,8,["class","modelValue"]),e("span",mc,s(S.warehouse),1)]),e("div",hc,[pc,k(u(N),{name:"user",type:"text",class:D(["form-control",{"is-invalid":S.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:v.user,"onUpdate:modelValue":b[6]||(b[6]=U=>v.user=U)},null,8,["class","modelValue"]),e("span",vc,s(S.user),1)])]),e("div",bc,[e("div",fc,[$c,k(u(N),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:v.brand,"onUpdate:modelValue":b[7]||(b[7]=U=>v.brand=U)},null,8,["modelValue"])]),e("div",gc,[yc,k(u(N),{name:"model",type:"text",class:D(["form-control",{"is-invalid":S.model}]),id:"model",modelValue:v.model,"onUpdate:modelValue":b[8]||(b[8]=U=>v.model=U),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",kc,s(S.model),1)]),e("div",xc,[wc,k(u(N),{name:"assettag",type:"text",class:D(["form-control",{"is-invalid":S.assettag}]),id:"assettag",modelValue:v.assettag,"onUpdate:modelValue":b[9]||(b[9]=U=>v.assettag=U),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Cc,s(S.assettag),1)]),e("div",Sc,[Dc,ee(e("input",{name:"serialnum",type:"text",class:D(["form-control",{"is-invalid":S.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":b[10]||(b[10]=U=>v.serialnum=U)},null,2),[[ue,v.serialnum]]),e("span",Uc,s(S.serialnum),1)])]),e("div",Mc,[e("div",Vc,[Ac,k(u(N),{name:"problem",as:"textarea",class:D(["form-control",{"is-invalid":S.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:v.problem,"onUpdate:modelValue":b[11]||(b[11]=U=>v.problem=U)},null,8,["class","modelValue"]),e("span",Ec,s(S.problem),1)]),e("div",Tc,[Lc,k(u(N),{name:"assconducted",as:"textarea",class:D(["form-control",{"is-invalid":S.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:v.assconducted,"onUpdate:modelValue":b[12]||(b[12]=U=>v.assconducted=U)},null,8,["class","modelValue"]),e("span",Fc,s(S.assconducted),1)]),e("div",Pc,[Ic,k(u(N),{name:"recommendation",as:"textarea",class:D(["form-control",{"is-invalid":S.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:v.recommendation,"onUpdate:modelValue":b[13]||(b[13]=U=>v.recommendation=U)},null,8,["class","modelValue"]),e("span",qc,s(S.recommendation),1)])])])])]),e("div",Yc,[l.value?(t(),a("div",Bc,[u(x).user.role==="ADMIN"?(t(),a("div",Nc,[e("button",{type:"button",onClick:b[14]||(b[14]=U=>T(2)),class:"btn btn-info"}," Approved "),Rc,e("div",Hc,[e("span",{onClick:b[15]||(b[15]=U=>T(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:b[16]||(b[16]=U=>T(3)),class:"dropdown-item"},"Disapproved")])])):L("",!0)])):L("",!0),jc,Oc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",zc,[e("div",Gc,[e("div",Qc,[Wc,e("div",Kc,[Xc,e("button",{onClick:ne(pe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const He=Je("SettingStore",()=>{const o=c({app_name:""}),f=xt("SettingStore:theme",c("light"));return{setting:o,getSetting:async()=>{await A.get("/api/settings").then(r=>{o.value=r.data})},theme:f,changeTheme:()=>{f.value=f.value==="light"?"dark":"light"}}});const se=o=>(Me("data-v-5aff9990"),o=o(),Ve(),o),Zc={class:"content"},er={class:"container-fluid"},tr={class:"card"},sr={class:"card-header"},ar={class:"card-title"},or={class:"card-body"},lr={class:"col-md-12"},nr={class:"d-flex justify-content-between"},dr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ir={class:"d-flex"},cr={class:"col-12",id:"accordion"},rr={key:1},ur={key:0},_r={class:"card card-secondary"},mr={class:"card-body d-flex align-items-center justify-content-center"},hr={class:"image-container"},pr=["src"],vr=se(()=>e("div",{class:"overlay"},null,-1)),br={key:1},fr={class:"card-header bg-white"},$r={class:"card-title"},gr=["href"],yr=["src"],kr={class:"card-tools"},xr=["onClick"],wr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Cr=[wr],Sr=["disabled","onClick"],Dr=["onClick"],Ur=se(()=>e("p",{class:"float-right"},null,-1)),Mr=["id"],Vr={class:"card-body"},Ar={class:"col-md-12"},Er={class:"dispatch-table"},Tr={class:"row"},Lr={class:"col-4"},Fr=se(()=>e("b",null,"Site:",-1)),Pr=se(()=>e("b",null,"Planned Date:",-1)),Ir=se(()=>e("b",null,"Planned End Date:",-1)),qr={class:"col-4"},Yr=se(()=>e("b",null,"Start Date:",-1)),Br=se(()=>e("b",null,"Accomplished Date:",-1)),Nr={class:"closestatus"},Rr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Hr={class:"col-4"},jr={class:"ongoing"},Or=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),zr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Gr=se(()=>e("b",null,"Remarks:",-1)),Qr={style:{margin:"0.5%"}},Wr=["disabled","onClick"],Kr=["onClick","disabled"],Xr={class:"dispatch-list"},Jr={class:"list-group list-group-flush"},Zr={class:"list-group-item d-flex justify-content-between align-items-center"},eu={class:"badge badge-primary badge-pill"},tu={class:"list-group-item d-flex justify-content-between align-items-center"},su={class:"badge badge-primary badge-pill"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu=se(()=>e("hr",null,null,-1)),vu={class:"row"},bu={class:"col"},fu=["onClick"],$u=se(()=>e("i",{class:"fas fa-pen"},null,-1)),gu=["onClick"],yu=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),V(" Drop ")],-1)),ku=[yu],xu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wu={class:"modal-dialog modal-dialog-centered",role:"document"},Cu={class:"modal-content"},Su={class:"modal-header"},Du={class:"modal-title",id:"staticBackdropLabel"},Uu={key:0},Mu={key:1},Vu={key:2},Au=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Eu={class:"modal-body"},Tu={class:"col-md-12"},Lu={class:"row"},Fu={class:"col-12"},Pu={class:"form-group"},Iu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),qu=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Yu=["value"],Bu={key:0,class:"d-flex justify-content-between"},Nu={class:"d-flex"},Ru={class:"form-group"},Hu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),ju={class:"form-group"},Ou=se(()=>e("label",{for:"end-time"},"Hour",-1)),zu=["value"],Gu=se(()=>e("div",{class:"d-fex"},null,-1)),Qu={key:1,class:"d-flex justify-content-between"},Wu={class:"d-flex"},Ku={class:"form-group"},Xu=se(()=>e("label",{for:"end-time"},"End Date",-1)),Ju={class:"form-group"},Zu=se(()=>e("label",{for:"end-time"},"Hour",-1)),e_=["value"],t_=se(()=>e("div",{class:"d-fex"},null,-1)),s_={class:"form-group"},a_=se(()=>e("label",{for:"site"},"Task",-1)),o_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),l_=["value"],n_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),d_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},i_={class:"modal-dialog modal-sm",role:"document"},c_={class:"modal-content"},r_={class:"modal-header"},u_={class:"modal-title",id:"staticBackdropLabel"},__=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),m_={class:"modal-body"},h_=we('<ul class="nav nav-tabs" id="myTabs" data-v-5aff9990><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-5aff9990> Todo List</a></li><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-5aff9990> Todo</a></li></ul>',1),p_={class:"tab-content"},v_={class:"tab-pane fade show active",id:"todolist"},b_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},f_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),$_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),g_={key:0,class:"list-group-item mt-2"},y_={class:"d-flex justify-content-between"},k_={class:"d-flex"},x_=["onClick"],w_={class:"d-flex"},C_=["onClick"],S_={class:"m-2 list-unstyled"},D_={key:1},U_={key:0,class:"list-group-item mt-2"},M_={class:"d-flex justify-content-between"},V_={class:"d-flex"},A_=["onClick"],E_={class:"d-flex"},T_=["onClick"],L_={key:1,class:"mt-2 text-center"},F_=se(()=>e("span",null,"No Todo",-1)),P_=[F_],I_={class:"tab-pane fade",id:"formTask"},q_={class:"col-md-12"},Y_={class:"row"},B_={class:"col-12"},N_={class:"m-2",style:{display:"flex","align-items":"center"}},R_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),V("\xA0Save ")])],-1)),H_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j_={class:"modal-dialog",role:"document"},O_={class:"modal-content"},z_=we('<div class="modal-header" data-v-5aff9990><h5 class="modal-title" id="staticBackdropLabel" data-v-5aff9990><span data-v-5aff9990>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-5aff9990><span aria-hidden="true" data-v-5aff9990>\xD7</span></button></div><div class="modal-body" data-v-5aff9990><h5 data-v-5aff9990>Are you sure you want to delete this record ?</h5></div>',2),G_={class:"modal-footer"},Q_=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),W_={__name:"MyPrio",setup(o){const f=`${fe().name}`,_=c(!1),d=c(!1),r=et("$swal");He();const m=he(),g=c({data:[]}),M=c([]);c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const l=c();c();const E=c(!0),v=c(!1);c(!1),c();const x=c(),n=c(),w=c(),I=me();c(null),c(!1);const G=c([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),te=c(),X=c("1:00 AM"),j=c(),y=c("1:00 AM"),Y=c(Array.from({length:24},(P,B)=>{const p=B%12+1,re=B<12?"AM":"PM";return`${p}:00 ${re}`})),i=c(Array.from({length:24},(P,B)=>{const p=B%12+1,re=B<12?"AM":"PM";return`${p}:00 ${re}`})),F=Ae({dailytask_id:"",site:"",user_id:I.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});be([te,X],()=>{const P=new Date(te.value),B=P.getFullYear(),p=String(P.getMonth()+1).padStart(2,"0"),re=String(P.getDate()).padStart(2,"0");F.plandate=`${B}-${p}-${re} ${X.value}`}),be([te,y],()=>{const P=new Date(te.value);P.getFullYear(),String(P.getMonth()+1).padStart(2,"0"),String(P.getDate()).padStart(2,"0")}),be([j,y],()=>{const P=new Date(j.value),B=P.getFullYear(),p=String(P.getMonth()+1).padStart(2,"0"),re=String(P.getDate()).padStart(2,"0");F.enddates=`${B}-${p}-${re} ${y.value}`});const O=c({id:"",dailytask_id:"",task_name:"",iscompleted:0}),ae=()=>{A.get("/web/getsite").then(P=>{l.value=P.data.sites}).catch(P=>{console.log(P)})},W=()=>{_.value=!0,A.get("/api/dailytask",{params:{query:Q.value}}).then(P=>{_.value=!1,g.value=P.data,Ce.value=[]})},pe=async P=>{(await r({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,A.put(`/api/dailytask/drop/${P}`).then(p=>{m.success("Data drop successfully!"),_.value=!1,W()}))},H=()=>{$("#FormModalTask").modal("show")},T=P=>{H(),O.value.dailytask_id=P.dailytask_id,n.value=P.taskdate,w.value=P.startdate,d.value=!0,A.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(B=>{M.value=B.data,H(),d.value=!1}).catch(B=>{console.error("Error fetching tasks:",B)})},C=()=>{d.value=!0,A.post("/api/dailytask/addnewTask",{dailytask_id:O.value.dailytask_id,task_name:O.value.task_name,iscompleted:O.value.iscompleted}).then(P=>{m.success("Data created successfully!"),A.get(`/api/dailytask/${O.value.dailytask_id}/tasks`).then(B=>{M.value=B.data,d.value=!1}).catch(B=>{console.error("Error fetching tasks:",B),m.error("Error fetching tasks. Please try again.")}),O.value.task_name=""}).catch(P=>{console.error("Error adding new task:",P),m.error("Error adding new task. Please try again.")})},h=P=>{O.value.iscompleted=P.iscompleted===1?0:1,A.post("/api/dailytask/addnewTask",{id:P.id,dailytask_id:P.dailytask_id,task_name:P.task_name,iscompleted:O.value.iscompleted}).then(B=>{A.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(p=>{M.value=p.data}).catch(p=>{console.error("Error fetching tasks:",p),m.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),m.error("Error adding new task. Please try again.")})},b=De(()=>Array.isArray(M.value)?M.value.filter(P=>P.iscompleted===1):[]),le=De(()=>b.value.length),ie=()=>{E.value=!E.value},S=P=>{A.delete(`/api/dailytask/deleteTask/${P.id}`).then(B=>{A.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(p=>{M.value=p.data,m.success("Todo successfull Deleted")}).catch(p=>{console.error("Error fetching tasks:",p),m.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),m.error("Error adding new task. Please try again.")})};xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()}),xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()});const U=(P,B)=>{A.post("/api/dailytask",F).then(p=>{console.log(p.data),W(),$("#FormModal").modal("hide"),m.success("data created successfully!")}).catch(p=>{B.setErrors(p.response.data.errors)})},Fe=(P,B)=>{A.put("/api/dailytask/"+F.dailytask_id,F).then(p=>{console.log(p.data),W(),$("#FormModal").modal("hide"),m.success("data update successfully!")}).catch(p=>{B.setErrors(p.response.data.errors)})},Re=P=>{P&&P.dailytask_id!==null&&P.dailytask_id!==void 0?(v.value=!0,x.value=" on "+ve(P.taskdate).format("MMMM D, YYYY"),F.site=P.site,F.dailytask_id=P.dailytask_id,F.plandate=P.plandate,F.planenddate=P.planenddate):v.value=!1,ae(),$("#FormModal").modal("show")},z=(P,B)=>{v.value?Fe(P,B):U(P,B)},J=async P=>{try{const B=await A.get(`/api/dailytask/${P.dailytask_id}/tasks`);if(M.value=B.data,!M.value||M.value.length===0){r.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await r.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const re=await A.put("/api/dailytask/onhandler/"+P.dailytask_id,P);m.success(re.data.message),W()}}catch(B){console.error("Error fetching tasks:",B),m.error("An error occurred while updating the task.")}},$e=async P=>{if((await r({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ve(P.taskdate).format("YYYY-MM-DD")===ve().format("YYYY-MM-DD")?(P.remarks="HIT",P.status="On Schedule"):(P.remarks="MISS",P.status="Behind Schedule");const re=await A.put("/api/dailytask/onhandler/"+P.dailytask_id,P);m.success(re.data.message),W()}catch(p){console.error(p),m.error("An error occurred while updating the task.")}},Q=c(null),Ce=c([]),ze=c(null),dt=()=>{A.delete(`/api/tech-recommendations/${ze.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Client deleted successfully!"),g.value.data=g.value.data.filter(P=>P.id!==ze.value)})};return be(Q,Le.exports.debounce(()=>{W()},300)),_e(()=>{tt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),W(),document.title=f}),(P,B)=>(t(),a(R,null,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,[e("div",ar,s(u(I).user.first_name+" "+u(I).user.last_name)+" - My Prio ",1)]),e("div",or,[e("div",lr,[e("div",nr,[e("div",{class:"d-flex"},[e("button",{onClick:Re,type:"button",class:"mb-2 btn btn-primary"},[dr,V(" Task ")])]),e("div",ir,[ee(e("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=p=>Q.value=p),class:"form-control",placeholder:"Search..."},null,512),[[ue,Q.value]])])]),e("div",cr,[_.value?(t(),ce(Te,{key:0})):(t(),a("div",rr,[g.value.length===0?(t(),a("div",ur,[e("div",_r,[e("div",mr,[e("div",hr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,pr),vr])])])])):(t(),a("div",br,[(t(!0),a(R,null,K(g.value,p=>(t(),a("div",{class:"card card-primary",key:p.id},[e("div",fr,[e("h4",$r,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+p.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,yr),V(" \xA0"),e("b",null,s(u(ve)(p.taskdate).format("MMMM D, YYYY")),1)],8,gr)]),e("div",kr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:re=>T(p)},Cr,8,xr),e("button",{disabled:p.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:re=>$e(p)}," End ",8,Sr),p.startdate?L("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:re=>J(p)}," Start ",8,Dr)),Ur])]),e("div",{id:"collapse"+p.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Vr,[e("div",Ar,[e("div",Er,[e("div",Tr,[e("div",Lr,[e("h5",null,[Fr,V(" "+s(p.site_name),1)]),e("h5",null,[Pr,V(" "+s(p.plandate),1)]),e("h5",null,[Ir,V(" "+s(p.planenddate),1)])]),e("div",qr,[e("h5",null,[Yr,V(" "+s(p.startdate!==null?u(ve)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Br,V(" "+s(p.enddate!==null?u(ve)(p.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Nr,[Rr,V(" "+s(p.tasktype?p.tasktype.join(", "):""),1)])]),e("div",Hr,[e("h5",jr,[Or,V(" "+s(p.status),1)]),e("h5",null,[zr,V(" "+s(p.attachment),1)]),e("h5",null,[Gr,V(" "+s(p.remarks),1)])])]),e("div",Qr,[e("button",{disabled:p.startdate!==null,onClick:re=>pe(p.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Wr),e("button",{onClick:re=>Re(p),type:"button",disabled:p.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,Kr)])]),e("div",Xr,[e("ul",Jr,[e("li",Zr,[V(" Site: "),e("span",eu,s(p.site_name),1)]),e("li",tu,[V(" Planned Date: "),e("span",su,s(p.plandate),1)]),e("li",au,[V(" Planned End Date: "),e("span",ou,s(p.planenddate),1)]),e("li",lu,[V(" Start Date: "),e("span",nu,s(p.startdate!==null?u(ve)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",du,[V(" Type: "),e("span",iu,s(p.tasktype?p.tasktype.join(", "):""),1)]),e("li",cu,[V(" Status: "),e("span",ru,s(p.status),1)]),e("li",uu,[V(" Attachment: "),e("span",_u,s(p.attachment),1)]),e("li",mu,[V(" Remarks: "),e("span",hu,s(p.remarks),1)])]),pu,e("div",vu,[e("div",bu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:re=>Re(p)},[$u,V(" Edit ")],8,fu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:re=>pe(p.dailytask_id)},ku,8,gu)])])])])])],8,Mr)]))),128))]))]))])])])])])]),e("div",xu,[e("div",wu,[e("div",Cu,[e("div",Su,[e("h5",Du,[v.value?(t(),a("span",Uu,"Edit My Task")):(t(),a("span",Mu,"Add My Task")),v.value?(t(),a("span",Vu,s(x.value),1)):L("",!0)]),Au]),k(u(Ue),{onSubmit:z},{default:Z(()=>[e("div",Eu,[e("div",Tu,[e("div",Lu,[e("div",Fu,[k(u(N),{modelValue:F.user_id,"onUpdate:modelValue":B[1]||(B[1]=p=>F.user_id=p),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Pu,[Iu,ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":B[2]||(B[2]=p=>F.site=p)},[qu,(t(!0),a(R,null,K(l.value,p=>(t(),a("option",{key:p.id,value:p.id},s(p.site_name),9,Yu))),128))],512),[[Pe,F.site]])]),v.value==!1?(t(),a("div",Bu,[e("div",Nu,[e("div",Ru,[Hu,k(u(Ie),{class:"form-control",modelValue:te.value,"onUpdate:modelValue":B[3]||(B[3]=p=>te.value=p)},null,8,["modelValue"])]),e("div",ju,[Ou,ee(e("select",{class:"form-control","onUpdate:modelValue":B[4]||(B[4]=p=>X.value=p),id:"plandate"},[(t(!0),a(R,null,K(Y.value,p=>(t(),a("option",{key:p,value:p},s(p),9,zu))),128))],512),[[Pe,X.value]])])]),Gu])):L("",!0),v.value==!1?(t(),a("div",Qu,[e("div",Wu,[e("div",Ku,[Xu,k(u(Ie),{class:"form-control",modelValue:j.value,"onUpdate:modelValue":B[5]||(B[5]=p=>j.value=p)},null,8,["modelValue"])]),e("div",Ju,[Zu,ee(e("select",{class:"form-control","onUpdate:modelValue":B[6]||(B[6]=p=>y.value=p),id:"plandate"},[(t(!0),a(R,null,K(i.value,p=>(t(),a("option",{key:p,value:p},s(p),9,e_))),128))],512),[[Pe,y.value]])])]),t_])):L("",!0),e("div",s_,[a_,k(u(N),{name:"tasktype"},{default:Z(()=>[ee(e("select",{"onUpdate:modelValue":B[7]||(B[7]=p=>F.tasktype=p),class:"form-control",required:!0},[o_,(t(!0),a(R,null,K(G.value,p=>(t(),a("option",{key:p.value,value:p.value},s(p.name),9,l_))),128))],512),[[Pe,F.tasktype]])]),_:1})])])])])]),n_]),_:1})])])]),e("div",d_,[e("div",i_,[e("div",c_,[e("div",r_,[e("h5",u_," My Todo of "+s(u(ve)(n.value).format("MM/D/YYYY")),1),__]),e("div",m_,[h_,e("div",p_,[e("div",v_,[M.value.length>0?(t(),a("div",b_,[d.value?(t(),ce(Te,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[f_,$_]),_:1})):L("",!0),(t(!0),a(R,null,K(M.value,p=>(t(),a("ul",{class:"list-group",key:p.id},[p.iscompleted!==1?(t(),a("li",g_,[e("div",y_,[e("div",k_,[w.value?(t(),a("i",{key:0,onClick:re=>h(p),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1}),style:{"font-size":"15px"}},null,10,x_)):L("",!0),e("span",{class:D({"font-italic":p.iscompleted===1,"":p.iscompleted!==1})},s(p.task_name),3)]),e("div",w_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>S(p)},null,8,C_)])])])):L("",!0)]))),128)),e("li",S_,[le.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:ie},[e("i",{class:D(["fa",E.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Completed "+s(le.value),1)])):L("",!0)]),E.value?(t(),a("div",D_,[(t(!0),a(R,null,K(M.value,p=>(t(),a("ul",{class:"list-group",key:p.id},[p.iscompleted===1?(t(),a("li",U_,[e("div",M_,[e("div",V_,[e("i",{class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle":p.iscompleted===1,"fa fa-circle":p.iscompleted!==1}),style:{"font-size":"15px"},onClick:re=>h(p)},null,10,A_),e("span",{class:D({"font-italic":p.iscompleted===1,"":p.iscompleted!==1})},[e("del",null,s(p.task_name),1)],2)]),e("div",E_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>S(p)},null,8,T_)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",L_,P_))]),e("div",I_,[k(u(Ue),{onSubmit:C},{default:Z(()=>[e("div",q_,[e("div",Y_,[e("div",B_,[k(u(N),{modelValue:O.value.dailytask_id,"onUpdate:modelValue":B[8]||(B[8]=p=>O.value.dailytask_id=p),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",N_,[k(u(N),{modelValue:O.value.task_name,"onUpdate:modelValue":B[9]||(B[9]=p=>O.value.task_name=p),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),R_]),_:1})])])])])])]),e("div",H_,[e("div",j_,[e("div",O_,[z_,e("div",G_,[Q_,e("button",{onClick:ne(dt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var K_=ye(W_,[["__scopeId","data-v-5aff9990"]]);const X_={class:"text-center"},J_={key:0},Z_={class:"text-center"},em={key:0},tm={class:"text-center"},sm={key:0},am={key:0,class:"bg-success text-center"},om={key:1,class:"bg-danger text-center"},lm={key:2,class:"text-center"},nm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return he(),me(),(f,_)=>(t(),a("tr",null,[e("td",null,s(u(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",X_,[o.item.task_lists_count!==0?(t(),a("span",J_,s(o.item.task_lists_count),1)):L("",!0)]),e("td",Z_,[o.item.completed_task_count!==0?(t(),a("span",em,s(o.item.completed_task_count),1)):L("",!0)]),e("td",tm,[o.item.status!=="On Going"?(t(),a("span",sm,s(o.item.status),1)):L("",!0)]),o.item.remarks==="HIT"?(t(),a("td",am,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",om,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",lm,s(o.item.startdate!=null?"On Going!":""),1)):L("",!0),e("td",{class:D({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const ke=o=>(Me("data-v-04a9a400"),o=o(),Ve(),o),dm={class:"content-header"},im={class:"container-fluid"},cm={class:"col-12"},rm={class:"card",id:"captureVSCContainer"},um={class:"card-header"},_m={class:"card-title"},mm={class:"card-tools"},hm={class:"card-body"},pm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),vm=[pm],bm={key:1,class:"row"},fm={class:"inner"},$m={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},gm=["src"],ym={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},km={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},xm={style:{"text-align":"left"}},wm={key:0},Cm=ke(()=>e("span",{class:"text-light badge"},"Todos",-1)),Sm={class:"list-group list-group-flush"},Dm={style:{display:"flex","align-items":"left"}},Um={class:"ml-1"},Mm={class:"ml-1"},Vm={key:1},Am={class:"float-right"},Em={id:"captureHitRateContainer",class:"card"},Tm={class:"card-header"},Lm={class:"card-title"},Fm={class:"card-body"},Pm={class:"content"},Im={class:"container-fluid"},qm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),Ym=[qm],Bm={class:"dispatch-table"},Nm={class:"table-responsive"},Rm={class:"table table-bordered table-hover table-sm"},Hm=ke(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),jm=["item"],Om={class:"list-field"},zm=ke(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Gm={class:"list-field"},Qm=ke(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Wm={key:0},Km={class:"list-field"},Xm=ke(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Jm={key:0},Zm={class:"list-field"},eh=ke(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),th={class:"list-field"},sh=ke(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),ah={class:"list-field"},oh=ke(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),lh={class:"float-right"},nh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dh={class:"modal-dialog modal-sm",role:"document"},ih={class:"modal-content"},ch=ke(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),rh={class:"modal-body"},uh={class:"fromtocenter"},_h=ke(()=>e("label",{for:"fromDate"},"From:",-1)),mh=ke(()=>e("label",{for:"toDate"},"To:",-1)),hh=ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ph={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vh={class:"modal-dialog modal-sm",role:"document"},bh={class:"modal-content"},fh=ke(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),$h={class:"modal-body"},gh={class:"container"},yh={class:"row"},kh=["onClick"],xh=ke(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),wh={__name:"MyVsc",setup(o){const f=`${fe().name}`,_=me(),d=c(!1),r=c([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),g=c((()=>{const y={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",y)})()),M=()=>{const y=document.getElementById("captureVSCContainer");Oe(y).then(Y=>{const i=Y.toDataURL(),F=document.createElement("a");F.href=i,F.download=`${_.user.first_name+" "+_.user.last_name} - ${f}.png`,F.click()})},l=()=>{const y=document.getElementById("captureHitRateContainer");Oe(y).then(Y=>{const i=Y.toDataURL(),F=document.createElement("a");F.href=i,F.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,F.click()})};c(null),c("today");const E=c({data:[]}),v=c({data:[]}),x=()=>{d.value=!0,axios.get("/api/myvsc").then(y=>{d.value=!1,E.value=y.data.dailyTasks,v.value=y.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},w=c({start_date:"",end_date:""}),I=c(""),G=c("");be([I],()=>{const y=new Date(I.value),Y=y.getFullYear(),i=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");w.value.start_date=`${Y}-${i}-${F}`}),be([G],()=>{const y=new Date(G.value),Y=y.getFullYear(),i=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");w.value.end_date=`${Y}-${i}-${F}`});const te=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:w.value.start_date,end_date:w.value.end_date}}).then(y=>{d.value=!1,E.value=y.data.dailyTasks,v.value=y.data.TaskList}).catch(y=>{console.error(y)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},X=()=>{$("#FormModalPickerThemes").modal("show")},j=y=>{if(y){const Y=_.user.id;axios.post("/api/changethemes",{userid:Y,background:y.background,active_background:y.active_background,font_background:y.font_background}).then(i=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(F=>{d.value=!1,E.value=F.data.dailyTasks,v.value=F.data.TaskList})}).catch(i=>{console.error(i)})}else console.error("Invalid item:",y)};return _e(()=>{x(),document.title=f}),(y,Y)=>(t(),a(R,null,[e("div",dm,[e("div",im,[e("div",cm,[e("div",rm,[e("div",um,[e("div",_m,[e("h5",null,s(u(_).user.first_name+" "+u(_).user.last_name)+" - "+s(f),1)]),e("div",mm,[e("i",{onClick:Y[0]||(Y[0]=i=>X()),class:"fas fa-palette"})])]),e("div",hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:M,type:"button",class:"mb-2 btn btn-sm btn-success"},vm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(t(),ce(Te,{key:0})):(t(),a("div",bm,[(t(!0),a(R,null,K(E.value,i=>(t(),a("div",{class:"col-lg-3 col-6",key:i.id},[e("div",{class:"small-box",style:Ge("background-color: "+(u(ve)(i.taskdate).format("MMMM D, YYYY")===g.value?i.active_background==""?"#72461F":i.active_background:i.background==""?"#B98D65":i.background)+";")},[e("div",fm,[e("div",$m,[V(s(u(ve)(i.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,gm)]),e("div",ym,s(u(ve)(i.taskdate).format("MMMM D, YYYY")),1),e("div",km,s(i.site_name),1),e("div",xm,[i.task_lists&&i.task_lists.length>0?(t(),a("div",wm,[Cm,e("ul",Sm,[(t(!0),a(R,null,K(i.task_lists,F=>(t(),a("li",{class:"list-group-item",key:F.id},[e("div",Dm,[e("div",Um,[e("i",{class:D(F.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Mm,s(F.task_name),1)])]))),128))])])):(t(),a("span",Vm))])])],4)]))),128))])),e("div",Am,s(g.value),1)])]),e("div",Em,[e("div",Tm,[e("div",Lm,[e("h5",null,s(u(_).user.first_name+" "+u(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Fm,[e("div",Pm,[e("div",Im,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},Ym)])]),e("div",Bm,[e("div",Nm,[e("table",Rm,[Hm,e("tbody",null,[(t(!0),a(R,null,K(v.value,i=>(t(),ce(nm,{key:i.id,item:i},null,8,["item"]))),128))])])])]),(t(!0),a(R,null,K(v.value,i=>(t(),a("div",{class:"dispatch-list",key:i.id,item:i},[e("div",{class:D([{"callout callout-success":i.remarks==="HIT","callout callout-danger":i.remarks==="MISS",callout:i.remarks===null}])},[e("div",Om,[zm,e("span",null,s(u(ve)(i.taskdate).format("MMMM D, YYYY")),1)]),e("div",Gm,[Qm,i.task_lists_count!==0?(t(),a("span",Wm,s(i.task_lists_count),1)):L("",!0)]),e("div",Km,[Xm,i.completed_task_count!==0?(t(),a("span",Jm,s(i.completed_task_count),1)):L("",!0)]),e("div",Zm,[eh,e("span",null,[e("b",null,s(i.status),1)])]),e("div",th,[sh,e("span",{class:D(["badge",i.remarks==="HIT"?"bg-success":"bg-danger"])},s(i.remarks),3)]),e("div",ah,[oh,e("span",{class:D(["badge",{"bg-danger":i.percentage_completed>=0&&i.percentage_completed<=59},{"bg-orange":i.percentage_completed>60&&i.percentage_completed<=90},{"bg-success":i.percentage_completed===100}])},s(i.percentage_completed+"%"),3)])],2)],8,jm))),128))])]),e("div",lh,s(g.value),1)])])])])]),e("div",nh,[e("div",dh,[e("div",ih,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(f)+" Summary Report")]),ch]),e("div",rh,[e("div",uh,[e("div",null,[_h,k(u(Ie),{modelValue:I.value,"onUpdate:modelValue":Y[1]||(Y[1]=i=>I.value=i)},null,8,["modelValue"])]),e("div",null,[mh,k(u(Ie),{modelValue:G.value,"onUpdate:modelValue":Y[2]||(Y[2]=i=>G.value=i)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[hh,e("button",{onClick:te,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",ph,[e("div",vh,[e("div",bh,[fh,e("div",$h,[e("div",gh,[e("div",yh,[(t(!0),a(R,null,K(r.value,i=>(t(),a("div",{class:"col-md-4",key:i.background},[e("div",{class:"box",onClick:F=>j(i)},[e("div",{class:"column",style:Ge({"background-color":i.background})},"\xA0",4),e("div",{class:"column",style:Ge({"background-color":i.active_background})},"\xA0",4)],8,kh)]))),128))])])]),xh])])])],64))}};var Ch=ye(wh,[["__scopeId","data-v-04a9a400"]]);const Sh={class:"text-center"},Dh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return he(),me(),(f,_)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(u(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Sh,[e("span",{class:D(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Uh=ye(Dh,[["__scopeId","data-v-f22938e0"]]);const Se=o=>(Me("data-v-029f6d88"),o=o(),Ve(),o),Mh={class:"content"},Vh={class:"container-fluid"},Ah={class:"card",id:"capturePrioContainer"},Eh={class:"card-header"},Th={class:"card-title"},Lh={class:"card-body"},Fh={key:1,class:"content"},Ph={class:"container-fluid"},Ih=Se(()=>e("i",{class:"fa fa-camera"},null,-1)),qh=[Ih],Yh={class:"dispatch-table"},Bh={class:"table-responsive"},Nh={class:"table table-bordered table-sm table-striped table-hover"},Rh=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Hh={key:0},jh={key:1},Oh=Se(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),zh=[Oh],Gh=["item","index"],Qh={class:"card"},Wh={class:"card-body"},Kh={class:"list-field"},Xh=Se(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Jh={class:"list-field"},Zh=Se(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),ep={class:"list-field"},tp=Se(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),sp={class:"list-field"},ap=Se(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),op={class:"list-field"},lp=Se(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),np={class:"list-field"},dp=Se(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),ip={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cp={class:"modal-dialog modal-sm",role:"document"},rp={class:"modal-content"},up=Se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),_p={class:"modal-body"},mp={class:"fromtocenter"},hp=Se(()=>e("label",{for:"fromDate"},"From:",-1)),pp=Se(()=>e("label",{for:"toDate"},"To:",-1)),vp=Se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),bp={__name:"MyClosePrioList",setup(o){const f=`${fe().name}`,_=c(!1);he();const d=c({data:[]}),r=c(""),m=c(""),g=me(),M=(x=1)=>{_.value=!0,A.get(`/api/mycloseprio?page=${x}`,{params:{query:v.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const x=document.getElementById("capturePrioContainer");Oe(x).then(n=>{const w=n.toDataURL(),I=document.createElement("a");I.href=w,I.download="MY CLOSED PRIO.png",I.click()})},E=()=>{_.value=!0,A.get("/api/filter-closeprio",{params:{start_date:r.value,end_date:m.value}}).then(x=>{_.value=!1,d.value=x.data.dailyTasks}).catch(x=>{console.error(x)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},v=c(null);return be(v,Le.exports.debounce(()=>{M()},300)),_e(()=>{M(),document.title=f}),(x,n)=>{const w=ge("font");return t(),a(R,null,[e("div",Mh,[e("div",Vh,[e("div",Ah,[e("div",Eh,[e("div",Th,[e("h5",null,s(u(g).user.first_name+" "+u(g).user.last_name)+" - My Closed Prio ",1)])]),e("div",Lh,[_.value?(t(),ce(Te,{key:0})):(t(),a("div",Fh,[e("div",Ph,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},qh)])]),e("div",null,[e("div",Yh,[e("div",Bh,[k(w,{size:"2"},{default:Z(()=>[e("table",Nh,[Rh,d.value.data.length>0?(t(),a("tbody",Hh,[(t(!0),a(R,null,K(d.value.data,(I,G)=>(t(),ce(Uh,{key:I.id,item:I,index:G},null,8,["item","index"]))),128))])):(t(),a("tbody",jh,zh))])]),_:1})])]),(t(!0),a(R,null,K(d.value.data,(I,G)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:I.id,item:I,index:G},[e("div",Qh,[e("div",Wh,[e("div",Kh,[Xh,e("span",null,s(I.sitename),1)]),e("div",Jh,[Zh,e("span",null,s(u(ve)(I.taskdate).format("MMMM D, YYYY")),1)]),e("div",ep,[tp,e("span",null,s(I.startdate),1)]),e("div",sp,[ap,e("span",null,s(I.enddate),1)]),e("div",op,[lp,e("span",null,s(I.tasktype.listtask),1)]),e("div",np,[dp,e("span",{class:D(["badge",I.remarks==="HIT"?"bg-success":"bg-danger"])},s(I.remarks),3)])])])],8,Gh))),128))])])]))])]),k(u(qe),{data:d.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",ip,[e("div",cp,[e("div",rp,[up,e("div",_p,[e("div",mp,[e("div",null,[hp,k(u(Ie),{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=I=>r.value=I)},null,8,["modelValue"])]),e("div",null,[pp,k(u(Ie),{modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=I=>m.value=I)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[vp,e("button",{onClick:E,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var fp=ye(bp,[["__scopeId","data-v-029f6d88"]]);const $p=["checked"],gp={class:"text-center"},yp=e("i",{class:"fa fa-edit"},null,-1),kp=[yp],xp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:f}){he();const _=o,d=f,r=()=>{d("toggleSelection",_.user)};return(m,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,$p)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",gp,[e("a",{href:"#",onClick:g[0]||(g[0]=ne(M=>m.$emit("editUser",o.user),["prevent"]))},kp)])]))}},wp={class:"content"},Cp={class:"container-fluid"},Sp={class:"card"},Dp={class:"card-header"},Up=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Mp={class:"card-tools"},Vp={class:"card-body"},Ap={class:"table-responsive"},Ep={class:"table table-bordered table-hover table-sm"},Tp=e("th",{style:{width:"10px"}},"#",-1),Lp=e("th",null,"Name",-1),Fp=e("th",null,"Email",-1),Pp=e("th",null,"Registered Date",-1),Ip=e("th",null,"Options",-1),qp={key:0},Yp={key:1},Bp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Np=[Bp],Rp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hp={class:"modal-dialog modal-sm",role:"document"},jp={class:"modal-content"},Op={class:"modal-header"},zp={class:"modal-title",id:"staticBackdropLabel"},Gp={key:0},Qp=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wp={class:"modal-body"},Kp={class:"table table-sm"},Xp=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Jp={colspan:"5"},Zp={class:"custom-control custom-checkbox"},ev=["value","id","checked"],tv=["for"],sv={key:0,class:"table table-sm"},av={class:"text-danger"},ov={class:"custom-control custom-checkbox"},lv=["value","id"],nv=["for"],dv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),iv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cv={class:"modal-dialog",role:"document"},rv={class:"modal-content"},uv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),_v={class:"modal-footer"},mv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),hv={__name:"UserMenuList",setup(o){const f=`${fe().name}`,_=he(),d=c({data:[]}),r=c(!1),m=c(),g=c(null),M=c(null),l=c([]),E=(j=1)=>{A.get(`/api/users?page=${j}`,{params:{query:n.value}}).then(y=>{d.value=y.data,w.value=[],selectAll.value=!1})},v=j=>{A.get("/api/usermenu",{params:{user_id:j.id}}).then(y=>{X.value=y.data,console.log(y.data)}).catch(y=>{console.log(y)}),r.value=!0,g.value.resetForm(),$("#userFormModal").modal("show"),m.value={id:j.id,username:j.username,email:j.email,first_name:j.first_name,last_name:j.last_name},M.value=m.value.first_name+" "+m.value.last_name},x=()=>{const j={user_id:m.value.id,menu_id:l.value};console.log(j),A.post("/api/usermenu",j).then(y=>{_.success("User Menu Save successfully!")}).catch(y=>{setErrors(y.response.data.errors)})},n=c(null),w=c([]),I=j=>{const y=w.value.indexOf(j.id);y===-1?w.value.push(j.id):w.value.splice(y,1),console.log(w.value)},G=c(null),te=j=>{G.value=j,$("#deleteUserModal").modal("show")},X=c({data:[]});return be(n,Le.exports.debounce(()=>{E()},300)),_e(()=>{E(),document.title=f}),(j,y)=>{const Y=ge("font");return t(),a(R,null,[e("div",wp,[e("div",Cp,[e("div",Sp,[e("div",Dp,[Up,e("div",Mp,[ee(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=i=>n.value=i),class:"form-control",placeholder:"Search..."},null,512),[[ue,n.value]])])]),e("div",Vp,[e("div",Ap,[k(Y,{size:"2"},{default:Z(()=>[e("table",Ep,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=i=>j.selectAll=i),onChange:y[2]||(y[2]=(...i)=>j.selectAllUsers&&j.selectAllUsers(...i))},null,544),[[Ee,j.selectAll]])]),Tp,Lp,Fp,Pp,Ip])]),d.value.data.length>0?(t(),a("tbody",qp,[(t(!0),a(R,null,K(d.value.data,(i,F)=>(t(),ce(xp,{key:i.id,user:i,index:F,onEditUser:v,onConfirmUserDeletion:te,onToggleSelection:I,"select-all":j.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Yp,Np))])]),_:1})])])]),k(u(qe),{data:d.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",Rp,[e("div",Hp,[e("div",jp,[e("div",Op,[e("h5",zp,[r.value?(t(),a("span",Gp,"User Menu for "+s(M.value),1)):L("",!0)]),Qp]),k(u(Ue),{ref_key:"form",ref:g,onSubmit:x,"initial-values":m.value},{default:Z(()=>[e("div",Wp,[e("table",Kp,[Xp,(t(!0),a(R,null,K(X.value,i=>(t(),a("tr",{key:i.menu_id},[e("td",Jp,[e("div",Zp,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=F=>l.value=F),value:i.menu_id,id:"menu_id_"+i.menu_id,checked:i.hasAccess},null,8,ev),[[Ee,l.value]]),e("label",{for:"menu_id_"+i.menu_id,class:"custom-control-label"},s(i.menu_title),9,tv)]),i.submenus&&i.submenus.length>0?(t(),a("table",sv,[(t(!0),a(R,null,K(i.submenus,F=>(t(),a("tr",{key:F.id},[e("td",av,[e("div",ov,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[4]||(y[4]=O=>l.value=O),value:F.menu_id,id:"menu_id_"+F.menu_id},null,8,lv),[[Ee,l.value]]),e("label",{for:"menu_id_"+F.menu_id,class:"custom-control-label"},s(F.menu_title),9,nv)])])]))),128))])):L("",!0)])]))),128))])]),dv]),_:1},8,["initial-values"])])])]),e("div",iv,[e("div",cv,[e("div",rv,[uv,e("div",_v,[mv,e("button",{onClick:y[5]||(y[5]=ne((...i)=>j.deleteUser&&j.deleteUser(...i),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const at=o=>(Me("data-v-8e5d6dd6"),o=o(),Ve(),o),pv=["checked"],vv=["innerHTML"],bv={style:{"text-align":"center"}},fv={class:"text-center"},$v=at(()=>e("i",{class:"fa fa-edit"},null,-1)),gv=[$v],yv=at(()=>e("i",{class:"fa fa-trash"},null,-1)),kv=[yv],xv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:f}){he(),me();const _=o,d=f,r=()=>{d("toggleSelection",_.item)};return(m,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,pv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,vv),e("td",null,s(o.item.sort_order),1),e("td",bv,[e("i",{class:D({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",fv,[e("button",{class:"btn btn-sm bg-primary",onClick:g[0]||(g[0]=ne(M=>m.$emit("editMenu",o.item),["prevent"]))},gv),V("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:g[1]||(g[1]=ne(M=>m.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},kv)])]))}};var wv=ye(xv,[["__scopeId","data-v-8e5d6dd6"]]);const Cv=["type","name","value"],Sv=e("span",{class:"check"},null,-1),Dv={class:"pl-2"},Uv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:f}){const _=o,d=f,r=De({get:()=>_.modelValue,set:g=>{d("update:modelValue",g)}}),m=De(()=>_.type==="radio"?"radio":"checkbox");return(g,M)=>(t(),a("label",{class:D([o.type,"mr-6 mb-3 last:mr-0"])},[ee(e("input",{"onUpdate:modelValue":M[0]||(M[0]=l=>r.value=l),type:m.value,name:o.name,value:o.inputValue},null,8,Cv),[[Ze,r.value]]),Sv,e("span",Dv,s(o.label),1)],2))}},Mv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:f}){const _=o,d=f,r=De({get:()=>_.modelValue,set:m=>{d("update:modelValue",m)}});return(m,g)=>(t(),a("div",{class:D(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(t(!0),a(R,null,K(o.options,(M,l)=>(t(),ce(Uv,{key:l,modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=E=>r.value=E),type:o.type,name:o.name,"input-value":l,label:M,class:D(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Vv={class:"content"},Av={class:"container-fluid"},Ev={class:"d-flex justify-content-between"},Tv={class:"d-flex"},Lv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Fv={key:0},Pv=e("i",{class:"fa fa-trash mr-1"},null,-1),Iv={class:"ml-2"},qv={class:"card"},Yv={class:"card-body"},Bv={class:"table-responsive"},Nv={class:"table table-bordered table-sm"},Rv=e("th",{style:{width:"10px"}},"#",-1),Hv=e("th",null,"Title",-1),jv=e("th",null,"Parent Menu",-1),Ov=e("th",null,"Route",-1),zv=e("th",null,"Icon",-1),Gv=e("th",null,"Sort",-1),Qv=e("th",null,"Active",-1),Wv=e("th",null,"Date",-1),Kv=e("th",null,"Action",-1),Xv={key:0},Jv={key:1},Zv=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),e1=[Zv],t1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},s1={class:"modal-dialog modal-sm",role:"document"},a1={class:"modal-content"},o1={class:"modal-header"},l1={class:"modal-title",id:"staticBackdropLabel"},n1={key:0},d1={key:1},i1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),c1={class:"modal-body"},r1={class:"col-md-12"},u1={class:"row"},_1={class:"col-12"},m1={class:"form-group"},h1=e("label",{for:"user"},"Menu Title",-1),p1={class:"invalid-feedback"},v1={class:"form-group"},b1=e("label",{for:"department"},"Parent Menu",-1),f1=e("option",{value:"0"},"None",-1),$1=["value"],g1={class:"form-group"},y1=e("label",{for:"warehouse"},"Icon",-1),k1={class:"invalid-feedback"},x1={class:"form-group"},w1=e("label",{for:"user"},"Route",-1),C1={class:"invalid-feedback"},S1={class:"form-group"},D1=e("label",{for:"user"},"Sort",-1),U1={class:"invalid-feedback"},M1={class:"form-group"},V1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),A1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},E1={class:"modal-dialog",role:"document"},T1={class:"modal-content"},L1=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),F1={class:"modal-footer"},P1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),I1={__name:"MenuList",setup(o){const f=`${fe().name}`,_=he(),d=c({data:[]}),r=c({data:[]}),m=c(!1),g=c(!1);c();const M=c(!0),l=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),E=me();c(null);const v=c(),x=(H=1)=>{m.value=!0,A.get(`/api/menulist?page=${H}`,{params:{query:j.value}}).then(T=>{m.value=!1,d.value=T.data,y.value=[],W.value=!1})},n=()=>{A.get("/api/GetParentId").then(H=>{r.value=H.data}).catch(H=>{console.error(H)})};xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()});const w=({resetForm:H,setErrors:T})=>{A.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(C=>{d.value.data.unshift(C.data),$("#FormModal").modal("hide"),H(),_.success("User created successfully!")}).catch(C=>{C.response.data.errors&&T(C.response.data.errors)})},I=()=>{g.value=!1,$("#FormModal").modal("show")},G=H=>{g.value=!0,l.menu_id=H.menu_id,l.menu_title=H.menu_title,l.parent_id=H.parent_id,l.menu_icon=H.menu_icon,l.menu_route=H.menu_route,l.sort_order=H.sort_order,l.is_active===1?M.value=!0:M.value=!1,l.is_active=H.is_active,$("#FormModal").modal("show"),v.value=H.parent_id},te=({setErrors:H})=>{A.post("/api/menulist",l).then(T=>{x(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(T=>{H(T.response.data.errors),console.log(T)})},X=(H,T)=>{g.value?te(H):w(H)},j=c(null),y=c([]),Y=H=>{const T=y.value.indexOf(H.id);T===-1?y.value.push(H.id):y.value.splice(T,1),console.log(y.value)},i=c(null),F=H=>{i.value=H,$("#deleteClientModal").modal("show")},O=()=>{A.delete(`/api/menu/${i.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(H=>H.menu_id!==i.value)})},ae=()=>{A.delete("menulist",{data:{ids:y.value}}).then(H=>{d.value.data=d.value.data.filter(T=>!y.value.includes(T.id)),y.value=[],W.value=!1,_.success(H.data.message)})},W=c(!1),pe=()=>{W.value?y.value=d.value.data.map(H=>H.id):y.value=[],console.log(y.value)};return be([M],H=>{l.is_active=H?1:0}),be(j,Le.exports.debounce(()=>{x()},300)),_e(()=>{x(),n(),document.title=f}),(H,T)=>{const C=ge("font");return t(),a(R,null,[e("div",Vv,[e("div",Av,[e("div",Ev,[e("div",Tv,[e("button",{onClick:I,type:"button",class:"mb-2 btn btn-primary"},[Lv,V(" Menu ")]),y.value.length>0?(t(),a("div",Fv,[e("button",{onClick:ae,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Pv,V(" Delete Selected ")]),e("span",Iv,"Selected "+s(y.value.length)+" Menu",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=h=>j.value=h),class:"form-control",placeholder:"Search..."},null,512),[[ue,j.value]])])]),e("div",qv,[e("div",Yv,[m.value?(t(),ce(Te,{key:0})):L("",!0),e("div",Bv,[k(C,{size:"2"},{default:Z(()=>[e("table",Nv,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":T[1]||(T[1]=h=>W.value=h),onChange:pe},null,544),[[Ee,W.value]])]),Rv,Hv,jv,Ov,zv,Gv,Qv,Wv,Kv])]),d.value.data.length>0?(t(),a("tbody",Xv,[(t(!0),a(R,null,K(d.value.data,(h,b)=>(t(),ce(wv,{key:h.id,item:h,index:b,onEditMenu:G,onConfirmDeletion:F,onToggleSelection:Y,"select-all":W.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Jv,e1))])]),_:1})])])]),k(u(qe),{data:d.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",t1,[e("div",s1,[e("div",a1,[e("div",o1,[e("h5",l1,[g.value?(t(),a("span",n1,"Edit Menu")):(t(),a("span",d1,"Add Menu"))]),i1]),k(u(Ue),{onSubmit:X},{default:Z(({errors:h})=>[e("div",c1,[e("div",r1,[e("div",u1,[e("div",_1,[k(u(N),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(E).user.id,"onUpdate:modelValue":T[2]||(T[2]=b=>u(E).user.id=b)},null,8,["modelValue"]),e("div",m1,[h1,k(u(N),{name:"menu_title",type:"text",class:D(["form-control",{"is-invalid":h.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":T[3]||(T[3]=b=>l.menu_title=b)},null,8,["class","modelValue"]),e("span",p1,s(h.menu_title),1)]),e("div",v1,[b1,ee(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":T[4]||(T[4]=b=>l.parent_id=b)},[f1,(t(!0),a(R,null,K(r.value,b=>(t(),a("option",{key:b.menu_id,value:b.menu_id},s(b.menu_title),9,$1))),128))],512),[[Pe,l.parent_id]])]),e("div",g1,[y1,k(u(N),{name:"menu_icon",type:"text",class:D(["form-control",{"is-invalid":h.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":T[5]||(T[5]=b=>l.menu_icon=b)},null,8,["class","modelValue"]),e("span",k1,s(h.menu_icon),1)]),e("div",x1,[w1,k(u(N),{name:"menu_route",type:"text",class:D(["form-control",{"is-invalid":h.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":T[6]||(T[6]=b=>l.menu_route=b)},null,8,["class","modelValue"]),e("span",C1,s(h.menu_route),1)]),e("div",S1,[D1,k(u(N),{name:"sort_order",type:"text",class:D(["form-control",{"is-invalid":h.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":T[7]||(T[7]=b=>l.sort_order=b)},null,8,["class","modelValue"]),e("span",U1,s(h.sort_order),1)]),e("div",M1,[k(Mv,{modelValue:l.is_active,"onUpdate:modelValue":T[8]||(T[8]=b=>l.is_active=b),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),V1]),_:1})])])]),e("div",A1,[e("div",E1,[e("div",T1,[L1,e("div",F1,[P1,e("button",{onClick:ne(O,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},q1={class:"error-page"},Y1=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),B1=[Y1],N1="Page Not Found",ot={__name:"404",setup(o){return _e(()=>{document.title=N1}),(f,_)=>(t(),a("div",q1,B1))}};const oe=o=>(Me("data-v-18d1690e"),o=o(),Ve(),o),R1={id:"exportPDF"},H1={class:"container"},j1=oe(()=>e("br",null,null,-1)),O1={class:"header"},z1=["src"],G1=["src"],Q1={class:"header"},W1={class:"header-justify-space-between"},K1=oe(()=>e("br",null,null,-1)),X1=oe(()=>e("p",null,null,-1)),J1={key:0},Z1=oe(()=>e("strong",null,null,-1)),eb=oe(()=>e("br",null,null,-1)),tb=oe(()=>e("br",null,null,-1)),sb=oe(()=>e("p",null,null,-1)),ab=oe(()=>e("strong",null,"Unit details",-1)),ob={class:"content"},lb={class:"header-justify-space-between"},nb=oe(()=>e("span",null,"Brand:",-1)),db=oe(()=>e("br",null,null,-1)),ib=oe(()=>e("span",null,"Model:",-1)),cb=oe(()=>e("br",null,null,-1)),rb=oe(()=>e("div",null,null,-1)),ub=oe(()=>e("span",null,"Serial #:",-1)),_b=oe(()=>e("br",null,null,-1)),mb=oe(()=>e("span",null,"Asset Tag:",-1)),hb=oe(()=>e("br",null,null,-1)),pb=oe(()=>e("div",null,null,-1)),vb=oe(()=>e("strong",null,"Reported problem",-1)),bb={class:"content"},fb=oe(()=>e("strong",null,"Assessment conducted",-1)),$b={class:"content"},gb=oe(()=>e("strong",null,"Recommendation",-1)),yb={class:"content"},kb={class:"header-justify-space-between"},xb=oe(()=>e("strong",null,"Evaluated by:",-1)),wb=oe(()=>e("br",null,null,-1)),Cb={class:"botoom-line"},Sb=oe(()=>e("br",null,null,-1)),Db=oe(()=>e("p",null,null,-1)),Ub=oe(()=>e("strong",null,"Noted by:",-1)),Mb=oe(()=>e("br",null,null,-1)),Vb={class:"botoom-line"},Ab=oe(()=>e("br",null,null,-1)),Eb=oe(()=>e("br",null,null,-1)),Tb=oe(()=>e("p",null,null,-1)),Lb={key:0},Fb={key:1},Pb={key:0,class:"fab-container"},Ib=oe(()=>e("i",{class:"fas fa-download"},null,-1)),qb=[Ib],Yb={__name:"TechRecommApprove",setup(o){const f=`${fe().params.id}`,_=()=>{const m=document.getElementById("exportPDF");st().from(m).save(`${f}.pdf`)},d=Ae({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),r=()=>{A.get(`/api/tech-recommendations/${fe().params.id}`).then(m=>{d.id=m.data.id,d.recommnum=m.data.recommnum,d.branch=m.data.branch,d.company=m.data.company,d.department=m.data.department,d.warehouse=m.data.warehouse,d.user=m.data.user,d.problem=m.data.problem,d.brand=m.data.brand,d.model=m.data.model,d.assettag=m.data.assettag,d.serialnum=m.data.serialnum,d.status=m.data.status,d.assconducted=m.data.assconducted,d.recommendation=m.data.recommendation,d.createdby=m.data.createdby.cfull_name,d.updatedby=m.data.updatedby.ufull_name,d.created_at=ve(m.data.created_at).format("MMMM D, YYYY"),d.updated_at=ve(m.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=m.data.createdby.cposition,d.updated_position=m.data.updatedby.uposition}).catch(m=>{actions.setErrors(m.response.data.errors)})};return _e(()=>{r(),document.title=f}),(m,g)=>(t(),a(R,null,[e("div",R1,[e("div",H1,[j1,e("div",O1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,z1),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,G1)]),e("div",Q1,[e("span",null,[V("Recommendation No: "),e("strong",null,s(d.recommnum),1)]),e("span",null,[V("Date Checked: "),e("strong",null,s(d.created_at),1)])]),e("div",W1,[e("div",null,[e("span",null,[V("Company: "),e("strong",null,s(d.company),1)]),K1,e("span",null,[V("Branch: "),e("strong",null,s(d.branch),1)])]),X1,e("div",null,[d.warehouse==""?(t(),a("span",J1,[V("Warehouse: "),Z1,V(s(d.warehouse),1)])):L("",!0),eb,e("span",null,[V("User: "),e("strong",null,s(d.user),1)]),tb,e("span",null,[V("Department: "),e("strong",null,s(d.department),1)])]),sb]),ab,e("div",ob,[e("div",lb,[e("div",null,[nb,e("strong",null,s(d.brand),1),db,ib,e("strong",null,s(d.model),1),cb]),rb,e("div",null,[ub,e("strong",null,s(d.serialnum),1),_b,mb,e("strong",null,s(d.assettag),1),hb]),pb])]),vb,e("div",bb,[e("p",null,s(d.problem),1)]),fb,e("div",$b,[e("p",null,s(d.assconducted),1)]),gb,e("div",yb,[e("p",null,s(d.recommendation),1)]),e("div",kb,[e("div",null,[xb,wb,e("span",Cb,s(d.createdby),1),Sb,e("span",null,s(d.created_position),1)]),Db,e("div",null,[Ub,Mb,e("span",Vb,s(d.updatedby),1),Ab,e("span",null,s(d.updated_position),1),Eb]),Tb]),d.status===2?(t(),a("span",Lb,"Approved date:("+s(d.updated_at)+")",1)):(t(),a("span",Fb,"Pending"))])]),d.status===2?(t(),a("div",Pb,[e("div",{class:"button iconbutton bg-success",onClick:g[0]||(g[0]=M=>_())},qb)])):L("",!0)],64))}};var lt=ye(Yb,[["__scopeId","data-v-18d1690e"]]);const Bb={},Nb={class:"card mx-auto",style:{"max-width":"600px"}},Rb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),Hb={class:"card-body"},jb={class:"list-unstyled"};function Ob(o,f){return t(),a("div",Nb,[Rb,e("div",Hb,[e("ul",jb,[e("li",{class:"nav-item dropdown",onClick:f[0]||(f[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var zb=ye(Bb,[["render",Ob]]);const Gb=["checked"],Qb={class:"text-center"},Wb={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:f}){he(),me();const _=o,d=f,r=()=>{d("toggleSelection",_.item)};return(m,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Gb)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.site_name),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.created_by),1),e("td",null,s(o.item.created_at),1),e("td",null,s(o.item.updated_by),1),e("td",Qb,[e("i",{class:"fa fa-eye text-success",onClick:g[0]||(g[0]=ne(M=>m.$emit("viewData",o.item),["prevent"]))}),V(" \xA0 "),e("i",{class:"fa fa-edit text-primary",onClick:g[1]||(g[1]=ne(M=>m.$emit("editData",o.item),["prevent"]))}),V(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:g[2]||(g[2]=ne(M=>m.$emit("confirmDeletion",o.item.id),["prevent"]))})])]))}};var Kb=ye(Wb,[["__scopeId","data-v-39060f42"]]);const Xb={class:"content"},Jb={class:"container-fluid"},Zb={class:"d-flex justify-content-between"},ef={class:"d-flex"},tf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sf={key:0},af=e("i",{class:"fa fa-trash mr-1"},null,-1),of={class:"ml-2"},lf={class:"card"},nf={class:"card-body"},df={class:"table-responsive"},cf={class:"table table-bordered table-sm table-striped hover"},rf=e("th",{style:{width:"10px"}},"#",-1),uf=e("th",null,"Site",-1),_f=e("th",null,"Asset",-1),mf=e("th",null,"Asset type",-1),hf=e("th",null,"Serial",-1),pf=e("th",null,"Date Aquired",-1),vf=e("th",null,"Supplier",-1),bf=e("th",null,"Unit",-1),ff=e("th",null,"Createdby",-1),$f=e("th",null,"CreatedAt",-1),gf=e("th",null,"Updatedby",-1),yf=e("th",null,"Action",-1),kf={key:0},xf={key:1},wf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Cf=[wf],Sf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Df={class:"modal-dialog modal-lg",role:"document"},Uf={class:"modal-content"},Mf={class:"modal-header"},Vf={class:"modal-title",id:"staticBackdropLabel"},Af={key:0},Ef={key:1},Tf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Lf={class:"modal-body"},Ff={class:"col-md-12"},Pf={class:"row"},If={class:"col-6"},qf={class:"form-group"},Yf=e("label",{for:"branch"},"Site",-1),Bf=e("option",{value:"",disabled:""}," Select Site ",-1),Nf=["value"],Rf={class:"invalid-feedback"},Hf={class:"form-group"},jf=e("label",{for:"department"},"Asset Name",-1),Of={class:"invalid-feedback"},zf={class:"form-group"},Gf=e("label",{for:"asset_type"},"Asset Type",-1),Qf={class:"invalid-feedback"},Wf={class:"form-group"},Kf=e("label",{for:"serial"},"Serial #:",-1),Xf={class:"invalid-feedback"},Jf={class:"col-6"},Zf={class:"form-group"},e$=e("label",{for:"date_acquired"},"Date Acquired",-1),t$={class:"invalid-feedback"},s$={class:"form-group"},a$=e("label",{for:"man_supplier"},"Brand",-1),o$={class:"invalid-feedback"},l$={class:"form-group"},n$=e("label",{for:"unit"},"Unit",-1),d$={class:"invalid-feedback"},i$={class:"row"},c$={class:"col-6"},r$={class:"form-group"},u$=e("label",{for:"location"},"location",-1),_$={class:"invalid-feedback"},m$={class:"form-group"},h$=e("label",{for:"paccountable"},"Person Accountable",-1),p$={class:"invalid-feedback"},v$={class:"col-6"},b$={class:"form-group"},f$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),$$={class:"invalid-feedback"},g$={class:"row"},y$={class:"col-6"},k$={class:"form-group"},x$=e("label",{for:"cucodition"},"Current Condition",-1),w$=e("option",{value:"",disabled:""}," Select Condition ",-1),C$=e("option",{value:"Fair"}," FAIR ",-1),S$=e("option",{value:"Good"}," GOOD ",-1),D$=e("option",{value:"Damange"}," DAMANGE ",-1),U$={class:"invalid-feedback"},M$={class:"form-group"},V$=e("label",{for:"mentenancenotes"},"Maintenance Notes",-1),A$={class:"col-6"},E$={class:"form-group"},T$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),L$={class:"form-group"},F$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),P$={class:"row"},I$={class:"col-6"},q$={class:"form-group"},Y$=e("label",{for:"operationhours"},"Operating Hours",-1),B$={class:"col-6"},N$={class:"form-group"},R$=e("label",{for:"notes"},"Notes",-1),H$={class:"invalid-feedback"},j$={class:"row"},O$={class:"col-6"},z$={class:"form-group"},G$=e("label",{for:"purchasecost"},"Purchase Cost",-1),Q$={class:"col-6"},W$={class:"form-group"},K$=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),X$={class:"invalid-feedback"},J$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Z$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},eg={class:"modal-dialog",role:"document"},tg={class:"modal-content"},sg=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),ag={class:"modal-footer"},og=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),lg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ng={class:"modal-dialog",role:"document"},dg={class:"modal-content"},ig=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),cg={class:"modal-body"},rg={class:"d-flex justify-content-between"},ug={class:"mb-3"},_g={class:"row"},mg={class:"col-md-12"},hg=e("br",null,null,-1),pg=e("br",null,null,-1),vg=e("br",null,null,-1),bg=e("br",null,null,-1),fg=e("br",null,null,-1),$g={class:"col-md-12"},gg=e("br",null,null,-1),yg=e("br",null,null,-1),kg=e("br",null,null,-1),xg=e("br",null,null,-1),wg=e("br",null,null,-1),Cg=e("br",null,null,-1),Sg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Dg={__name:"AssetmList",setup(o){me();const f=`${fe().name}`,_=he(),d=c({data:[]});c({data:[]});const r=c(!1),m=c(!1),g=c(),M=c(!0),l=Ae({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:""});c(null),c();const E=c(),v=(C=1)=>{r.value=!0,A.get(`/web/asset-monitoring?page=${C}`,{params:{query:Y.value}}).then(h=>{r.value=!1,d.value=h.data,i.value=[],H.value=!1})},x=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),n=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),w=()=>{A.post("/web/asset-monitoring",l).then(C=>{$("#FormModal").modal("hide"),v(),_.success(C.data.message)}).catch(C=>{_.error(C.data.message)})},I=()=>{m.value=!1,$("#FormModal").modal("show")},G=C=>{l.site_name=C.site_name,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,$("#ViewRecodeModal").modal("show")},te=C=>{m.value=!0,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,$("#FormModal").modal("show")},X=({setErrors:C})=>{A.post("/web/asset-monitoring",l).then(h=>{v(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(h=>{C(h.response.data.errors),console.log(h)})},j=(C,h)=>{m.value?X(C):w()},y=()=>{A.get("/web/getsite").then(C=>{E.value=C.data.sites}).catch(C=>{console.log(C)})},Y=c(null),i=c([]),F=C=>{const h=i.value.indexOf(C.id);h===-1?i.value.push(C.id):i.value.splice(h,1),console.log(i.value)},O=c(null),ae=C=>{O.value=C,$("#deleteClientModal").modal("show")},W=()=>{A.delete(`/web/asset-monitoring/${O.value}`).then(C=>{$("#deleteClientModal").modal("hide"),_.success(C.data.message),v()})},pe=()=>{A.delete("/web/bulkDeleteAsset",{data:{ids:i.value}}).then(C=>{d.value.data=d.value.data.filter(h=>!i.value.includes(h.id)),i.value=[],H.value=!1,_.success(C.data.message)})},H=c(!1),T=()=>{H.value?i.value=d.value.data.map(C=>C.id):i.value=[],console.log(i.value)};return be([M],C=>{l.is_active=C?1:0}),be(Y,Le.exports.debounce(()=>{v()},300)),_e(()=>{v(),y(),document.title=f}),(C,h)=>{const b=ge("font"),le=ge("tab-content"),ie=ge("form-wizard");return t(),a(R,null,[e("div",Xb,[e("div",Jb,[e("div",Zb,[e("div",ef,[e("button",{onClick:I,type:"button",class:"mb-2 btn btn-primary"},[tf,V(" Asset ")]),i.value.length>0?(t(),a("div",sf,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[af,V(" Delete Selected ")]),e("span",of,"Selected "+s(i.value.length)+" Record",1)])):L("",!0)]),e("div",null,[ee(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=S=>Y.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ue,Y.value]])])]),e("div",lf,[e("div",nf,[r.value?(t(),ce(Te,{key:0})):L("",!0),e("div",df,[k(b,{size:"2"},{default:Z(()=>[e("table",cf,[e("thead",null,[e("tr",null,[e("th",null,[ee(e("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=S=>H.value=S),onChange:T},null,544),[[Ee,H.value]])]),rf,uf,_f,mf,hf,pf,vf,bf,ff,$f,gf,yf])]),d.value.data.length>0?(t(),a("tbody",kf,[(t(!0),a(R,null,K(d.value.data,(S,U)=>(t(),ce(Kb,{key:S.id,item:S,index:U,onViewData:G,onEditData:te,onConfirmDeletion:ae,onToggleSelection:F,"select-all":H.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",xf,Cf))])]),_:1})])])]),k(u(qe),{data:d.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",Sf,[e("div",Df,[e("div",Uf,[e("div",Mf,[e("h5",Vf,[m.value?(t(),a("span",Af,"Edit Asset")):(t(),a("span",Ef,"Add Asset"))]),Tf]),k(u(Ue),{onSubmit:j,"validation-schema":m.value?u(n):u(x),"initial-values":g.value},{default:Z(({errors:S})=>[e("div",Lf,[e("div",Ff,[k(ie,{onOnComplete:w,color:"#094899","step-size":"xs"},{default:Z(()=>[k(le,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",Pf,[e("div",If,[e("div",qf,[Yf,k(u(N),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":S.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":h[2]||(h[2]=U=>l.site_id=U)},{default:Z(()=>[Bf,(t(!0),a(R,null,K(E.value,U=>(t(),a("option",{key:U.id,value:U.id},s(U.site_name),9,Nf))),128))]),_:2},1032,["class","modelValue"]),e("span",Rf,s(S.branch),1)]),e("div",Hf,[jf,k(u(N),{name:"asset_name",type:"text",class:D(["form-control",{"is-invalid":S.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":h[3]||(h[3]=U=>l.asset_name=U)},null,8,["class","modelValue"]),e("span",Of,s(S.asset_name),1)]),e("div",zf,[Gf,k(u(N),{name:"asset_type",type:"text",class:D(["form-control",{"is-invalid":S.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":h[4]||(h[4]=U=>l.asset_type=U)},null,8,["class","modelValue"]),e("span",Qf,s(S.asset_type),1)]),e("div",Wf,[Kf,k(u(N),{name:"serial",type:"text",class:D(["form-control",{"is-invalid":S.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":h[5]||(h[5]=U=>l.serial=U)},null,8,["class","modelValue"]),e("span",Xf,s(S.serial),1)])]),e("div",Jf,[e("div",Zf,[e$,k(u(N),{name:"date_acquired",type:"date",class:D(["form-control",{"is-invalid":S.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":h[6]||(h[6]=U=>l.date_acquired=U)},null,8,["class","modelValue"]),e("span",t$,s(S.date_acquired),1)]),e("div",s$,[a$,k(u(N),{name:"man_supplier",type:"text",class:D(["form-control",{"is-invalid":S.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":h[7]||(h[7]=U=>l.man_supplier=U)},null,8,["class","modelValue"]),e("span",o$,s(S.man_supplier),1)]),e("div",l$,[n$,k(u(N),{name:"unit",type:"number",class:D(["form-control",{"is-invalid":S.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":h[8]||(h[8]=U=>l.unit=U)},null,8,["class","modelValue"]),e("span",d$,s(S.unit),1)])])])]),_:2},1024),k(le,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",i$,[e("div",c$,[e("div",r$,[u$,k(u(N),{name:"location",type:"text",class:D(["form-control",{"is-invalid":S.location}]),id:"location","aria-describedby":"nameHelp",placeholder:"Enter location",modelValue:l.location,"onUpdate:modelValue":h[9]||(h[9]=U=>l.location=U)},null,8,["class","modelValue"]),e("span",_$,s(S.location),1)]),e("div",m$,[h$,k(u(N),{name:"paccountable",type:"text",class:D(["form-control",{"is-invalid":S.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":h[10]||(h[10]=U=>l.paccountable=U)},null,8,["class","modelValue"]),e("span",p$,s(S.paccountable),1)])]),e("div",v$,[e("div",b$,[f$,k(u(N),{name:"locationchangetranfer",type:"text",class:D(["form-control",{"is-invalid":S.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":h[11]||(h[11]=U=>l.locationchangetranfer=U)},null,8,["class","modelValue"]),e("span",$$,s(S.locationchangetranfer),1)])])])]),_:2},1024),k(le,{title:"Asset Condition"},{default:Z(()=>[e("div",g$,[e("div",y$,[e("div",k$,[x$,k(u(N),{as:"select",name:"cucodition",class:D(["form-control",{"is-invalid":S.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":h[12]||(h[12]=U=>l.cucodition=U)},{default:Z(()=>[w$,C$,S$,D$]),_:2},1032,["class","modelValue"]),e("span",U$,s(S.cucodition),1)]),e("div",M$,[V$,k(u(N),{name:"mentenancenotes",as:"textarea",class:D(["form-control",{"is-invalid":S.mentenancenotes}]),id:"mentenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.mentenancenotes,"onUpdate:modelValue":h[13]||(h[13]=U=>l.mentenancenotes=U)},null,8,["class","modelValue"])])]),e("div",A$,[e("div",E$,[T$,k(u(N),{name:"lastmaintenance",type:"date",class:D(["form-control",{"is-invalid":S.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":h[14]||(h[14]=U=>l.lastmaintenance=U)},null,8,["class","modelValue"])]),e("div",L$,[F$,k(u(N),{name:"nextmaintenance",type:"date",class:D(["form-control",{"is-invalid":S.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":h[15]||(h[15]=U=>l.nextmaintenance=U)},null,8,["class","modelValue"])])])])]),_:2},1024),k(le,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",P$,[e("div",I$,[e("div",q$,[Y$,k(u(N),{name:"operationhours",type:"number",class:D(["form-control",{"is-invalid":S.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":h[16]||(h[16]=U=>l.operationhours=U)},null,8,["class","modelValue"])])]),e("div",B$,[e("div",N$,[R$,k(u(N),{name:"notes",as:"textarea",class:D(["form-control",{"is-invalid":S.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":h[17]||(h[17]=U=>l.notes=U)},null,8,["class","modelValue"]),e("span",H$,s(S.notes),1)])])])]),_:2},1024),k(le,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",j$,[e("div",O$,[e("div",z$,[G$,k(u(N),{name:"purchasecost",type:"number",class:D(["form-control",{"is-invalid":S.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":h[18]||(h[18]=U=>l.purchasecost=U)},null,8,["class","modelValue"])])]),e("div",Q$,[e("div",W$,[K$,k(u(N),{name:"insurancewarrantyinfo",as:"textarea",class:D(["form-control",{"is-invalid":S.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":h[19]||(h[19]=U=>l.insurancewarrantyinfo=U)},null,8,["class","modelValue"]),e("span",X$,s(S.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),J$]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Z$,[e("div",eg,[e("div",tg,[sg,e("div",ag,[og,e("button",{onClick:ne(W,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",lg,[e("div",ng,[e("div",dg,[ig,e("div",cg,[e("div",rg,[e("div",ug,[e("div",_g,[e("div",mg,[e("p",null,[V(" Site: "+s(l.site_name),1),hg,V(" Asset Name: "+s(l.asset_name),1),pg,V(" Asset Type: "+s(l.asset_type),1),vg,V(" Serial: "+s(l.serial),1),bg,V(" Date Acquired: "+s(l.date_acquired),1),fg])]),e("div",$g,[e("p",null,[V(" Brand: "+s(l.man_supplier),1),gg,V(" Unit: "+s(l.unit),1),yg,V(" Person Accountability: "+s(l.paccountable),1),kg,V(" Location Transfer: "+s(l.locationchangetranfer),1),xg,V(" Condition: "+s(l.condition),1),wg,V(" Maintenance Note: "+s(l.maintenancenotes),1),Cg])])])])])]),Sg])])])],64)}}};const de=o=>(Me("data-v-276af6e0"),o=o(),Ve(),o),Ug={class:"content"},Mg={class:"container-fluid"},Vg={class:"d-flex justify-content-between"},Ag={class:"d-flex"},Eg=de(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Tg={key:0},Lg=de(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),Fg={class:"ml-2"},Pg={class:"d-flex"},Ig={class:"form-group"},qg=de(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Yg=["value"],Bg={id:"captureDiv"},Ng={class:"card"},Rg={class:"card-header"},Hg={class:"card-title"},jg={class:"card-tools"},Og={id:"cost"},zg={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Gg=de(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Qg={class:"card-body"},Wg=de(()=>e("i",{class:"fa fa-camera"},null,-1)),Kg=[Wg],Xg={key:1,class:"table-responsive"},Jg={class:"table table-bordered table-sm table-striped table-hover"},Zg=de(()=>e("th",null,null,-1)),ey=de(()=>e("th",null,"Date",-1)),ty=de(()=>e("th",null,"Allocated Pallet Space",-1)),sy=de(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),ay=de(()=>e("th",null,"Space Utilization %",-1)),oy=de(()=>e("th",null,"Excess",-1)),ly={key:0},ny={key:1},dy=de(()=>e("th",null,"Remarks",-1)),iy=de(()=>e("th",null,"Action",-1)),cy={key:0},ry=["item","index"],uy=["checked"],_y={key:0},my={key:1},hy=["onClick"],py=de(()=>e("i",{class:"fa fa-edit"},null,-1)),vy=[py],by={key:0},fy=de(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),$y={colspan:"3"},gy={key:1},yy=de(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),ky=[yy],xy={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wy={class:"modal-dialog modal-sm",role:"document"},Cy={class:"modal-content"},Sy={class:"modal-header"},Dy={class:"modal-title",id:"staticBackdropLabel"},Uy={key:0},My={key:1},Vy=de(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Ay={class:"modal-body"},Ey={class:"col-md-12"},Ty={class:"row"},Ly={class:"col-12"},Fy={class:"form-group"},Py=de(()=>e("label",{for:"date"},"Date",-1)),Iy={class:"invalid-feedback"},qy={class:"form-group"},Yy=de(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),By={class:"invalid-feedback"},Ny={class:"form-group"},Ry=de(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),Hy={class:"invalid-feedback"},jy={class:"form-group"},Oy=de(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),zy={class:"invalid-feedback"},Gy=de(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),Qy={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Wy={class:"modal-dialog",role:"document"},Ky={class:"modal-content"},Xy=we('<div class="modal-header" data-v-276af6e0><h5 class="modal-title" id="staticBackdropLabel" data-v-276af6e0><span data-v-276af6e0>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-276af6e0><span aria-hidden="true" data-v-276af6e0>\xD7</span></button></div><div class="modal-body" data-v-276af6e0><h5 data-v-276af6e0>Are you sure you want to delete this record ?</h5></div>',2),Jy={class:"modal-footer"},Zy=de(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),e2={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},t2={class:"modal-dialog modal-sm",role:"document"},s2={class:"modal-content"},a2=de(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),o2={class:"modal-body"},l2={class:"fromtocenter"},n2=de(()=>e("label",{for:"fromDate"},"From:",-1)),d2=de(()=>e("label",{for:"toDate"},"To:",-1)),i2={class:"modal-footer"},c2=de(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),r2={__name:"PalletList",setup(o){const f=et("$swal"),_=`${fe().name}`,d=he(),r=c({data:[]}),m=c(),g=c(!1),M=c(!1),l=me(),E=c(!0),v=c(!0),x=c(),n=Ae({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});c(null);const w=c(),I=()=>{g.value=!0,A.get("/web/pallet",{params:{site_id:n.site_id,query:C.value}}).then(z=>{g.value=!1,r.value=z.data.data,w.value=z.data.sum,h.value=[],Fe.value=!1})},G=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),te=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),X=c(""),j=c(""),y=c({start_date:"",end_date:""});be([X],()=>{const z=new Date(X.value),J=z.getFullYear(),$e=String(z.getMonth()+1).padStart(2,"0"),Q=String(z.getDate()).padStart(2,"0");y.value.start_date=`${J}-${$e}-${Q}`}),be([j],()=>{const z=new Date(j.value),J=z.getFullYear(),$e=String(z.getMonth()+1).padStart(2,"0"),Q=String(z.getDate()).padStart(2,"0");y.value.end_date=`${J}-${$e}-${Q}`});const Y=()=>{g.value=!0,A.get("/web/filter-pallet",{params:{start_date:y.value.start_date,end_date:y.value.end_date,site_id:n.site_id}}).then(z=>{g.value=!1,r.value=z.data.data,w.value=z.data.sum}).catch(z=>{console.error(z)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},i=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},F=({resetForm:z,setErrors:J})=>{A.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then($e=>{I(),$("#FormModal").modal("hide"),i(),d.success("Data created successfully!")}).catch(function($e){$e.response?d.error($e.response.data.message):$e.request?d.error($e.request):d.error("Error",$e.message)})},O=()=>{A.get("/web/getsite").then(z=>{m.value=z.data.sites}).catch(z=>{console.log(z)})},ae=()=>{I(n.site_id);const z=m.value.find(J=>J.id===n.site_id);x.value=z?z.site_name:""},W=()=>{if(!n.site_id||n.site_id.length===0){f.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}M.value=!1,$("#FormModal").modal("show")},pe=z=>{M.value=!0,n.id=z.id,n.user_id=z.user_id,n.site_id=z.site_id,n.date=z.date,n.allocatedpalletspace=z.allocatedpalletspace,n.spaceuteltotal=z.spaceuteltotal,n.caseperpallet=z.caseperpallet,$("#FormModal").modal("show")},H=({setErrors:z})=>{A.post("/web/pallet",n).then(J=>{i(),I(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(J=>{z(J.response.data.errors),console.log(J)})},T=(z,J)=>{M.value?H(z):F(z)},C=c(null),h=c([]),b=z=>{const J=h.value.indexOf(z.id);J===-1?h.value.push(z.id):h.value.splice(J,1),console.log(h.value)},le=c(null),ie=()=>{A.delete(`/web/pallet/${le.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),r.value.data=r.value.data.filter(z=>z.id!==le.value)})},S=()=>{A.delete("/web/bulkDeletePallet",{data:{ids:h.value}}).then(z=>{I(),h.value=[],Fe.value=!1,d.success(z.data.message)})},U=()=>{if(!n.site_id||n.site_id.length===0){f.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},Fe=c(!1),Re=()=>{$("#cost").hide(),$("#capturecamerafilter").hide();const z=document.getElementById("captureDiv");Oe(z).then(J=>{const $e=J.toDataURL(),Q=document.createElement("a");Q.href=$e,Q.download=`${x.value} - ${_}.png`,Q.click()}),$("#cost").show(),$("#capturecamerafilter").show()};return be([v],z=>{n.is_active=z?1:0}),be(C,Le.exports.debounce(()=>{I()},300)),_e(()=>{O(),document.title=_}),(z,J)=>{const $e=ge("font");return t(),a(R,null,[e("div",Ug,[e("div",Mg,[e("div",Vg,[e("div",Ag,[e("button",{onClick:W,type:"button",class:"mb-2 btn btn-primary"},[Eg,V(" Pallet ")]),h.value.length>0?(t(),a("div",Tg,[e("button",{onClick:S,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Lg,V(" Delete Selected ")]),e("span",Fg,"Selected "+s(h.value.length)+" Pallet",1)])):L("",!0)]),e("div",Pg,[e("div",Ig,[ee(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":J[0]||(J[0]=Q=>n.site_id=Q),onChange:J[1]||(J[1]=Q=>ae())},[qg,(t(!0),a(R,null,K(m.value,Q=>(t(),a("option",{key:Q.id,value:Q.id},s(Q.site_name),9,Yg))),128))],544),[[Pe,n.site_id]])])])]),e("div",Bg,[e("div",Ng,[e("div",Rg,[e("div",Hg,s(x.value||"Select a Site"),1),e("div",jg,[e("div",Og,[e("div",zg,[ee(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":J[2]||(J[2]=Q=>E.value=Q)},null,512),[[Ee,E.value]]),Gg])])])]),e("div",Qg,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:Re,type:"button",class:"mb-2 btn btn-sm btn-success"},Kg)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:U})])])]),g.value?(t(),ce(Te,{key:0})):(t(),a("div",Xg,[k($e,{size:"2"},{default:Z(()=>[e("table",Jg,[e("thead",null,[e("tr",null,[Zg,ey,ty,sy,ay,oy,E.value?(t(),a("th",ly,"Cost per Pallet")):L("",!0),E.value?(t(),a("th",ny,"Cost")):L("",!0),dy,iy])]),r.value.length>0?(t(),a("tbody",cy,[(t(!0),a(R,null,K(r.value,(Q,Ce)=>(t(),a("tr",{key:Q.id,item:Q,index:Ce},[e("td",null,[e("input",{type:"checkbox",checked:Fe.value,onChange:b},null,40,uy)]),e("td",null,s(u(ve)(Q.date).format("MMMM DD, YY")),1),e("td",null,s(Q.allocatedpalletspace),1),e("td",null,s(Q.spaceuteltotal),1),e("td",null,s(Q.spacetotalutelpercent),1),e("td",null,s(Q.excess),1),E.value?(t(),a("td",_y,s(Q.caseperpallet),1)):L("",!0),E.value?(t(),a("td",my,s(Q.cost),1)):L("",!0),e("td",null," EXCESS "+s(Q.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:ze=>pe(Q)},vy,8,hy)])],8,ry))),128)),E.value?(t(),a("tr",by,[fy,e("td",$y,[e("b",null,s(w.value),1)])])):L("",!0)])):(t(),a("tbody",gy,ky))])]),_:1})]))])])])])]),e("div",xy,[e("div",wy,[e("div",Cy,[e("div",Sy,[e("h5",Dy,[M.value?(t(),a("span",Uy,"Edit Pallet")):(t(),a("span",My,"Add Pallet"))]),Vy]),k(u(Ue),{onSubmit:T,"validation-schema":M.value?u(te):u(G)},{default:Z(({errors:Q})=>[e("div",Ay,[e("div",Ey,[e("div",Ty,[e("div",Ly,[k(u(N),{modelValue:n.user_id,"onUpdate:modelValue":J[3]||(J[3]=Ce=>n.user_id=Ce),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Fy,[Py,k(u(N),{name:"date",type:"date",class:D(["form-control",{"is-invalid":Q.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":J[4]||(J[4]=Ce=>n.date=Ce)},null,8,["class","modelValue"]),e("span",Iy,s(Q.date),1)]),e("div",qy,[Yy,k(u(N),{name:"allocatedpalletspace",type:"text",class:D(["form-control",{"is-invalid":Q.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":J[5]||(J[5]=Ce=>n.allocatedpalletspace=Ce)},null,8,["class","modelValue"]),e("span",By,s(Q.allocatedpalletspace),1)]),e("div",Ny,[Ry,k(u(N),{name:"spaceuteltotal",type:"text",class:D(["form-control",{"is-invalid":Q.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":J[6]||(J[6]=Ce=>n.spaceuteltotal=Ce),required:""},null,8,["class","modelValue"]),e("span",Hy,s(Q.spaceuteltotal),1)]),e("div",jy,[Oy,k(u(N),{name:"caseperpallet",type:"text",class:D(["form-control",{"is-invalid":Q.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":J[7]||(J[7]=Ce=>n.caseperpallet=Ce)},null,8,["class","modelValue"]),e("span",zy,s(Q.caseperpallet),1)])])])])]),Gy]),_:1},8,["validation-schema"])])])]),e("div",Qy,[e("div",Wy,[e("div",Ky,[Xy,e("div",Jy,[Zy,e("button",{onClick:ne(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",e2,[e("div",t2,[e("div",s2,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(_)+" Report")]),a2]),e("div",o2,[e("div",l2,[e("div",null,[n2,k(u(Ie),{modelValue:X.value,"onUpdate:modelValue":J[8]||(J[8]=Q=>X.value=Q)},null,8,["modelValue"])]),e("div",null,[d2,k(u(Ie),{modelValue:j.value,"onUpdate:modelValue":J[9]||(J[9]=Q=>j.value=Q)},null,8,["modelValue"])])])]),e("div",i2,[c2,e("button",{onClick:J[10]||(J[10]=Q=>Y()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var u2=ye(r2,[["__scopeId","data-v-276af6e0"]]);const _2=o=>(Me("data-v-298b68f9"),o=o(),Ve(),o),m2={class:"content"},h2={class:"container-fluid"},p2={class:"row"},v2={class:"col-md-6"},b2={class:"card"},f2={class:"card-title"},$2={class:"form-group m-3"},g2=_2(()=>e("option",{value:"",disabled:""}," Select User ",-1)),y2=["value"],k2={class:"card-body"},x2={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},w2={class:"custom-control custom-checkbox"},C2=["value","id","checked"],S2=["for"],D2={class:"card-footer"},U2={__name:"UserSite",setup(o){me();const f=`${fe().name}`,_=he();c(!0);const d=Ae({user_id:""});c(null),c();const r=c(),m=c(),g=c([]),M=()=>{A.get("/api/users/userlist").then(x=>{m.value=x.data}).catch(x=>{console.log(x)})},l=x=>{x!==null?A.get(`/web/usersite/${x}`).then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):A.get("/web/getsitewithoutuser").then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},E=()=>{const x={user_id:d.user_id,site_id:g.value};console.log(x),A.post("/web/onSaveupdate",x).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},v=x=>{l(x)};return _e(()=>{M(),l(),document.title=f}),(x,n)=>(t(),a("div",m2,[e("div",h2,[e("div",p2,[e("div",v2,[e("div",b2,[e("div",f2,[e("div",$2,[k(u(N),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=w=>d.user_id=w),onChange:n[1]||(n[1]=w=>v(d.user_id))},{default:Z(()=>[g2,(t(!0),a(R,null,K(m.value,w=>(t(),a("option",{key:w.id,value:w.id},s(w.name),9,y2))),128))]),_:1},8,["modelValue"])])]),e("div",k2,[e("ul",x2,[(t(!0),a(R,null,K(r.value,w=>(t(),a("li",{key:w.id,class:"list-group-item"},[e("div",w2,[ee(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=I=>g.value=I),value:w.id,id:"site_id_"+w.id,checked:w.hasAccess},null,8,C2),[[Ee,g.value]]),e("label",{for:"site_id_"+w.id,class:"custom-control-label"},s(w.site_name),9,S2)])]))),128))]),e("div",D2,[e("button",{type:"button",onClick:n[3]||(n[3]=w=>E()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var M2=ye(U2,[["__scopeId","data-v-298b68f9"]]),V2=[{path:"/login",name:"admin.login",component:Yn},{path:"/dashboard",name:"Dashboard",component:Et},{path:"/appointments",name:"Appointments",component:Zt},{path:"/appointments/create",name:"Appointments",component:Xe},{path:"/appointments/:id/edit",name:"Appointments",component:Xe},{path:"/user",name:"User",component:Vo},{path:"/settings",name:"Setting",component:kl},{path:"/profile",name:"Profile",component:vn},{path:"/client",name:"Client",component:Id},{path:"/tech-recommendation",name:"Tech Recomm",component:Jc},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:K_},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:fp},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Ch},{path:"/usermenu",name:"User Menu",component:hv},{path:"/menu",name:"Menu",component:I1},{path:"/:catchAll(.*)",name:"404 Error Page",component:ot},{path:"/notifications",name:"Notifications",component:zb},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:lt},{path:"/asset-monitoring",name:"Asset Monitoring",component:Dg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:u2},{path:"/usersite",name:"User Site",component:M2}];const A2={class:"navbar-nav"},E2=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),T2={class:"nav-item d-none d-sm-inline-block"},L2={class:"navbar-nav ml-auto"},F2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),P2=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),I2={class:"nav-link","data-toggle":"dropdown",href:"#"},q2=e("i",{class:"far fa-bell"},null,-1),Y2={class:"badge badge-warning navbar-badge"},B2={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},N2={class:"dropdown-header"},R2=e("div",{class:"dropdown-divider"},null,-1),H2=e("i",{class:"fas fa-envelope mr-2"},null,-1),j2={class:"float-right text-muted text-sm"},O2={key:1,class:"text-center text-muted py-3"},z2=e("div",{class:"dropdown-divider"},null,-1),G2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Q2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),W2={__name:"AppNavbar",setup(o){const f=He(),_=c([]),d=()=>{A.get("/api/notifications").then(r=>{_.value=r.data.notifications}).catch(r=>{console.error("Error fetching notifications",r)})};return _e(()=>{d()}),(r,m)=>{const g=ge("router-link");return t(),a("nav",{class:D(["main-header navbar navbar-expand",u(f).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",A2,[E2,e("li",T2,[e("a",{onClick:m[0]||(m[0]=ne((...M)=>u(f).changeTheme&&u(f).changeTheme(...M),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:D(["far",u(f).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",L2,[F2,P2,e("li",{class:"nav-item dropdown",onClick:d},[e("a",I2,[q2,e("span",Y2,s(_.value.length),1)]),e("div",B2,[e("span",N2,s(_.value.length)+" Notifications",1),R2,_.value.length>0?(t(!0),a(R,{key:0},K(_.value,M=>(t(),a("a",{key:M.id,href:"#",class:"dropdown-item"},[H2,V(" "+s(M.data?M.data:"No message available")+" ",1),e("span",j2,s(u(ve)(M.created_at)),1)]))),128)):(t(),a("p",O2,"No new notifications")),z2,k(g,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[V("See All Notifications")]),_:1})])]),G2,Q2])],2)}}},K2={class:"main-sidebar sidebar-dark-primary elevation-4"},X2={href:"#",class:"brand-link"},J2=["src"],Z2={class:"brand-text font-weight-light"},ek={class:"sidebar"},tk={class:"user-panel mt-3 pb-3 mb-3 d-flex"},sk={key:0,class:"image"},ak=["src"],ok={key:1,class:"image"},lk=["src"],nk=["src"],dk={class:"info"},ik={href:"#",class:"d-block"},ck={class:"mt-2"},rk={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},uk={key:0,class:"right fas fa-angle-left"},_k={key:0,class:"nav nav-treeview"},mk={class:"nav-item"},hk={class:"nav-link"},pk=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),vk=e("p",null,"Logout",-1),bk=[pk,vk],fk={__name:"SidebarLeft",setup(o){const f=Qe(),_=me(),d=He(),r=c({data:[]}),m=()=>{axios.get("/api/menu").then(l=>{r.value=l.data}).catch(l=>{console.log(l)})},g=l=>l===f.currentRoute.value.path,M=()=>{axios.post("/logout").then(l=>{_.user.name="",f.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),m()}),(l,E)=>{const v=ge("router-link");return t(),a("aside",K2,[e("a",X2,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,J2),e("span",Z2,s(u(d).setting.app_name),1)]),e("div",ek,[e("div",tk,[u(_).user.avatar===""?(t(),a("div",sk,[e("img",{src:u(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,ak)])):u(_).user.avatar!==""?(t(),a("div",ok,[u(_).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,lk)):u(_).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,nk)):L("",!0)])):L("",!0),e("div",dk,[e("a",ik,s(u(_).user.name),1)])]),e("nav",ck,[e("ul",rk,[(t(!0),a(R,null,K(r.value,x=>(t(),a("li",{key:x.id,class:D({"nav-item":!0,"menu-is-opening":x.submenus&&x.submenus.length>0})},[k(v,{class:D({"nav-link":!0,active:g(x.menu_route)}),to:`${x.menu_route}`},{default:Z(()=>[e("i",{class:D("nav-icon "+x.menu_icon)},null,2),e("p",null,s(x.menu_title),1),x.submenus&&x.submenus.length>0?(t(),a("i",uk)):L("",!0)]),_:2},1032,["class","to"]),x.submenus&&x.submenus.length>0?(t(),a("ul",_k,[(t(!0),a(R,null,K(x.submenus,n=>(t(),a("li",{key:n.id,class:"nav-item"},[k(v,{class:D({"nav-link menu-open":!0,active:g(n.menu_route)}),to:n.menu_route},{default:Z(()=>[e("i",{class:D("nav-icon "+n.menu_icon)},null,2),e("p",null,s(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):L("",!0)],2))),128)),e("li",mk,[e("form",hk,[e("a",{href:"#",onClick:ne(M,["prevent"])},bk)])])])])])])}}},$k={},gk={class:"control-sidebar control-sidebar-dark"},yk=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),kk=[yk];function xk(o,f){return t(),a("aside",gk,kk)}var wk=ye($k,[["render",xk]]);const Ck={class:"main-footer"},Sk={class:"float-right d-none d-sm-block"},Dk={href:"#"},Uk={__name:"AppFooter",props:{settings:Object},setup(o){const f=me(),_=c(new Date().getFullYear());return(d,r)=>{var m;return t(),a("footer",Ck,[e("div",Sk,s(u(f).user.name),1),e("strong",null,[V("Copyright \xA9 "+s(_.value)+" ",1),e("a",Dk,s((m=o.settings)==null?void 0:m.app_name),1),V(".")]),V(" All rights reserved. ")])}}};const Mk=o=>(Me("data-v-36653638"),o=o(),Ve(),o),Vk={class:"content-wrapper"},Ak={class:"content-header"},Ek={class:"container-fluid"},Tk={class:"row mb-2"},Lk={class:"col-sm-6"},Fk={class:"m-0"},Pk={class:"col-sm-6"},Ik={class:"breadcrumb float-sm-right"},qk=Mk(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Yk={class:"breadcrumb-item active"},Bk={__name:"CustomMainLayout",setup(o){const f=me(),_=He(),d=De(()=>_.theme==="dark"?"dark-mode":"");return(r,m)=>{const g=ge("router-view");return u(f).user.name!==""?(t(),a("div",{key:0,class:D(["wrapper",d.value])},[k(W2),k(fk),k(wk),e("div",Vk,[e("section",Ak,[e("div",Ek,[e("div",Tk,[e("div",Lk,[e("h1",Fk,s(r.$route.name),1)]),e("div",Pk,[e("ol",Ik,[qk,e("li",Yk,s(r.$route.name),1)])])])])]),k(g)]),k(Uk)],2)):(t(),a("div",{key:1,class:D(["login-page slibg",d.value])},[k(g)],2))}}};var Nk=ye(Bk,[["__scopeId","data-v-36653638"]]);const Rk={__name:"App",setup(o){me();const f=fe(),_=De(()=>f.name==="Tech-Approved"),d=De(()=>f.name==="404 Error Page");return(r,m)=>(t(),a("div",null,[!d.value&&!_.value?(t(),ce(Nk,{key:0})):_.value?(t(),ce(lt,{key:1})):(t(),ce(ot,{key:2}))]))}};var Hk=ye(Rk,[["__scopeId","data-v-252b567e"]]);const jk=rt(),Ne=mt(Hk),nt=ut({routes:V2,history:_t()});nt.beforeEach(async(o,f)=>{const _=me();if(_.user.name===""&&o.name!=="admin.login"){const d=He();await Promise.all([_.getAuthUser(),d.getSetting()])}});Ne.use(Ct);Ne.use(jk);Ne.use(nt);Ne.use(wt);Ne.use(st);Ne.mount("#app");
