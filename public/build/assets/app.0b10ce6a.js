import{_ as St,l as Ae}from"./lodash.d4ecb7e7.js";import{a as T}from"./axios.82d3905a.js";import{a as Dt}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as bt,c as Mt}from"./pinia.210ccde5.js";import{u as he,a as Be,c as Vt,b as Ut}from"./vue-router.980fb8a0.js";import{r,o as ve,i as o,k as e,x as t,_ as b,u,e as a,I as Me,h as W,j as A,F as B,q as K,d as ye,a0 as ae,v as q,C as Ve,a2 as Z,a3 as re,aa as Ye,p as P,w as fe,ab as De,f as ue,B as He,a5 as ke,a6 as we,ac as rt,ad as Le,a1 as dt,ae as At}from"./@vue.04713aa0.js";import{B as Pt}from"./vue-chartjs.50c6886f.js";import{C as It,p as qt,a as Tt,b as Et,c as Rt,d as Lt,L as Ft}from"./chart.js.562acd0f.js";import{S as pt}from"./sweetalert2.c578665c.js";import{t as st}from"./toastr.c863df60.js";import{F as Ie,a as J}from"./vee-validate.1443789f.js";import{f as ft}from"./flatpickr.181c7977.js";import{c as xe,a as j}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as ie}from"./moment.40bc58bf.js";import{a as Re}from"./laravel-vue-pagination.475a8c82.js";import{C as Nt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as Yt}from"./@vueuse.5a8c8091.js";import{L as Oe}from"./vue3-datepicker.da50a26b.js";import at from"./html2canvas.4d0ab5af.js";import{h as Ke}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{j as Bt}from"./qrcode-vue3.899eeefc.js";import{V as jt}from"./vue-sweetalert2.891f877f.js";import{d as Ot}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=St;window.axios=T;window.$=window.jQuery=Dt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=bt("AuthUserStore",()=>{const s=r({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:"",sitehead_user_id:""});return{user:s,getAuthUser:async()=>{await T.get("/api/profile").then(h=>{s.value=h.data})}}}),Ht={class:"content"},zt={class:"container-fluid"},Jt={class:"card"},Qt={class:"card-header"},Gt={class:"card-body"},Wt=e("div",{class:"row"},null,-1),Kt={__name:"Dashboard",setup(s){It.register(qt,Tt,Et,Rt,Lt,Ft);const y=`${he().name}`;me(),r("all"),r(0);const h=r(new Date().getFullYear()),l=r({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),n=()=>{axios.get("/api/chart").then(p=>{p.data,l.value=p.data}).catch(p=>{console.error("Error fetching chart data:",p)})},d=r("today"),c=r(0),v=()=>{axios.get("/api/stats/users",{params:{date_range:d.value}}).then(p=>{c.value=p.data.totalUsersCount})};return ve(()=>{n(),v(),document.title=y}),(p,_)=>(a(),o("div",Ht,[e("div",zt,[e("div",Jt,[e("div",Qt," Yearly Progress - "+t(h.value),1),e("div",Gt,[b(u(Pt),{data:l.value},null,8,["data"])])]),Wt])]))}},Xt={class:"content"},Zt={class:"container-fluid"},es={class:"row"},ts={class:"col-lg-12"},ss={class:"d-flex justify-content-between mb-2"},as=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),q(" Add New Appointment")],-1),os={class:"btn-group"},ls=e("span",{class:"mr-1"},"All",-1),ns={class:"badge badge-pill badge-info"},ds=["onClick"],is={class:"mr-1"},cs={class:"card"},rs={class:"card-body"},us={class:"table table-bordered"},_s=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),ms=e("td",null,null,-1),ps=e("i",{class:"fa fa-edit mr-2"},null,-1),hs=["onClick"],vs=e("i",{class:"fa fa-trash text-danger"},null,-1),bs=[vs],fs={__name:"ListAppointments",setup(s){const y=r(),h=r([]),l=()=>{T.get("/api/appointment-status").then(_=>{h.value=_.data})},n=r([]),d=_=>{y.value=_;const i={};_&&(i.status=_),T.get("/api/appointments",{params:i}).then(V=>{n.value=V.data,console.log(V)})},c=Me(()=>h.value.map(_=>_.count).reduce((_,i)=>_+i,0)),v=_=>{const i=n.value.data.find(m=>m.id===_).status.name,V=h.value.find(m=>m.name===i);V.count--},p=_=>{pt.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(i=>{i.isConfirmed&&T.delete(`/api/appointments/${_}`).then(V=>{v(_),n.value.data=n.value.data.filter(m=>m.id!==_),pt.fire("Deleted!","Your file has been deleted.","success")})})};return ve(()=>{d(),l()}),(_,i)=>{const V=ye("router-link");return a(),o("div",Xt,[e("div",Zt,[e("div",es,[e("div",ts,[e("div",ss,[e("div",null,[b(V,{to:"/admin/appointments/create"},{default:W(()=>[as]),_:1})]),e("div",os,[e("button",{onClick:i[0]||(i[0]=m=>d()),type:"button",class:A(["btn",[typeof y.value=="undefined"?"btn-secondary":"btn-default"]])},[ls,e("span",ns,t(c.value),1)],2),(a(!0),o(B,null,K(h.value,m=>(a(),o("button",{key:m.id,onClick:M=>d(m.value),type:"button",class:A(["btn",[y.value===m.value?"btn-secondary":"btn-default"]])},[e("span",is,t(m.name),1),e("span",{class:A(["badge badge-pill",`badge-${m.color}`])},t(m.count),3)],10,ds))),128))])]),e("div",cs,[e("div",rs,[e("table",us,[_s,e("tbody",null,[(a(!0),o(B,null,K(n.value.data,(m,M)=>(a(),o("tr",{key:m.id},[e("td",null,t(M+1),1),e("td",null,t(m.client.first_name)+" "+t(m.client.last_name),1),e("td",null,t(m.start_time),1),e("td",null,t(m.end_time),1),ms,e("td",null,[b(V,{to:`/admin/appointments/${m.id}/edit`},{default:W(()=>[ps]),_:2},1032,["to"]),e("a",{href:"#",onClick:ae(O=>p(m.id),["prevent"])},bs,8,hs)])]))),128))])])])])])])])])}}};function pe(){return st.options.positionClass="toast-top-right",st.options.closeButton=!0,st.options.progressBar=!0,st}const $s={class:"content-header"},ys={class:"container-fluid"},gs={class:"row mb-2"},ks={class:"col-sm-6"},ws={class:"m-0"},xs={key:0},Cs={key:1},Ss={class:"col-sm-6"},Ds={class:"breadcrumb float-sm-right"},Ms={class:"breadcrumb-item"},Vs={class:"breadcrumb-item"},Us={class:"breadcrumb-item active"},As={key:0},Ps={key:1},Is={class:"content"},qs={class:"container-fluid"},Ts={class:"row"},Es={class:"col-lg-12"},Rs={class:"card"},Ls={class:"card-body"},Fs={class:"row"},Ns={class:"col-md-6"},Ys={class:"form-group"},Bs=e("label",{for:"title"},"Title",-1),js={class:"invalid-feedback"},Os={class:"col-md-6"},Hs={class:"form-group"},zs=e("label",{for:"client"},"Client Name",-1),Js=["value"],Qs={class:"invalid-feedback"},Gs={class:"row"},Ws={class:"col-md-6"},Ks={class:"form-group"},Xs=e("label",{for:"start-time"},"Start Time",-1),Zs={class:"invalid-feedback"},ea={class:"col-md-6"},ta={class:"form-group"},sa=e("label",{for:"end-time"},"End Time",-1),aa={class:"invalid-feedback"},oa={class:"form-group"},la=e("label",{for:"description"},"Description",-1),na={class:"invalid-feedback"},da=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),ht={__name:"AppointmentForm",setup(s){const y=Be(),h=he(),l=pe(),n=Ve({title:"",client_id:"",start_time:"",end_time:"",description:""}),d=(m,M)=>{V.value?v(m,M):c(m,M)},c=(m,M)=>{T.post("/api/appointments/create",n).then(O=>{y.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(O=>{M.setErrors(O.response.data.errors)})},v=(m,M)=>{T.put(`/api/appointments/${h.params.id}/edit`,n).then(O=>{y.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(O=>{M.setErrors(O.response.data.errors)})},p=r(),_=()=>{T.get("/api/view-clients").then(m=>{p.value=m.data})},i=()=>{T.get(`/api/appointments/${h.params.id}/edit`).then(({data:m})=>{n.title=m.title,n.client_id=m.client_id,n.start_time=m.formatted_start_time,n.end_time=m.formatted_end_time,n.description=m.description})},V=r(!1);return ve(()=>{h.name==="admin.appointments.edit"&&(V.value=!0,i()),ft(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),_()}),(m,M)=>{const O=ye("router-link");return a(),o(B,null,[e("div",$s,[e("div",ys,[e("div",gs,[e("div",ks,[e("h1",ws,[V.value?(a(),o("span",xs,"Edit")):(a(),o("span",Cs,"Create")),q(" Appointment")])]),e("div",Ss,[e("ol",Ds,[e("li",Ms,[b(O,{to:"/admin/dashboard"},{default:W(()=>[q("Home")]),_:1})]),e("li",Vs,[b(O,{to:"/admin/appointments"},{default:W(()=>[q("Appointments")]),_:1})]),e("li",Us,[V.value?(a(),o("span",As,"Edit")):(a(),o("span",Ps,"Create"))])])])])])]),e("div",Is,[e("div",qs,[e("div",Ts,[e("div",Es,[e("div",Rs,[e("div",Ls,[b(u(Ie),{onSubmit:d},{default:W(({errors:z})=>[e("div",Fs,[e("div",Ns,[e("div",Ys,[Bs,Z(e("input",{"onUpdate:modelValue":M[0]||(M[0]=F=>n.title=F),type:"text",class:A(["form-control",{"is-invalid":z.title}]),id:"title",placeholder:"Enter Title"},null,2),[[re,n.title]]),e("span",js,t(z.title),1)])]),e("div",Os,[e("div",Hs,[zs,Z(e("select",{"onUpdate:modelValue":M[1]||(M[1]=F=>n.client_id=F),id:"client",class:A(["form-control",{"is-invalid":z.client_id}])},[(a(!0),o(B,null,K(p.value,F=>(a(),o("option",{value:F.id,key:F.id},t(F.first_name)+" "+t(F.last_name),9,Js))),128))],2),[[Ye,n.client_id]]),e("span",Qs,t(z.client_id),1)])])]),e("div",Gs,[e("div",Ws,[e("div",Ks,[Xs,Z(e("input",{"onUpdate:modelValue":M[2]||(M[2]=F=>n.start_time=F),type:"text",class:A(["form-control flatpickr",{"is-invalid":z.start_time}]),id:"start-time"},null,2),[[re,n.start_time]]),e("span",Zs,t(z.start_time),1)])]),e("div",ea,[e("div",ta,[sa,Z(e("input",{"onUpdate:modelValue":M[3]||(M[3]=F=>n.end_time=F),type:"text",class:A(["form-control flatpickr",{"is-invalid":z.end_time}]),id:"end-time"},null,2),[[re,n.end_time]]),e("span",aa,t(z.end_time),1)])])]),e("div",oa,[la,Z(e("textarea",{"onUpdate:modelValue":M[4]||(M[4]=F=>n.description=F),class:A(["form-control",{"is-invalid":z.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[re,n.description]]),e("span",na,t(z.description),1)]),da]),_:1})])])])])])])],64)}}},ia=["checked"],ca=["value","selected"],ra=["value","selected"],ua=e("i",{class:"fa fa-edit"},null,-1),_a=[ua],ma=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),pa=[ma],ha={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:y}){const h=pe(),l=s,n=y,d=r([{name:"ADMIN",value:1},{name:"USER",value:2}]),c=r([]),v=()=>{T.get("/api/users/userlist").then(V=>{c.value=V.data}).catch(V=>{console.log(V)})},p=(V,m)=>{T.patch(`/api/users/${V.id}/change-role`,{role:m}).then(()=>{h.success("Role changed successfully!")})},_=(V,m)=>{T.patch(`/api/users/${V.id}/change-sitehead`,{sitehead_user_id:m}).then(()=>{h.success("Sitehead changed successfully!")})},i=()=>{n("toggleSelection",l.user)};return ve(()=>{v()}),(V,m)=>(a(),o("tr",null,[e("td",null,[s.user.name!="admin"?(a(),o("input",{key:0,type:"checkbox",checked:s.selectAll,onChange:i},null,40,ia)):P("",!0)]),e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:m[0]||(m[0]=M=>p(s.user,M.target.value))},[(a(!0),o(B,null,K(d.value,M=>(a(),o("option",{key:M.id,value:M.value,selected:s.user.role===M.name},t(M.name),9,ca))),128))],32)]),e("td",null,[s.user.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:m[1]||(m[1]=M=>_(s.user,M.target.value))},[(a(!0),o(B,null,K(c.value,M=>(a(),o("option",{key:M.id,value:M.id,selected:s.user.sitehead_user_id===M.id},t(M.first_name+" "+M.last_name),9,ra))),128))],32)):P("",!0)]),e("td",null,[e("a",{href:"#",onClick:m[2]||(m[2]=ae(M=>V.$emit("editUser",s.user),["prevent"]))},_a),s.user.id!=1?(a(),o("a",{key:0,href:"#",onClick:m[3]||(m[3]=ae(M=>V.$emit("confirmUserDeletion",s.user.id),["prevent"]))},pa)):P("",!0)])]))}},va={class:"content"},ba={class:"container-fluid"},fa={class:"d-flex justify-content-between mb-2"},$a={class:"d-flex"},ya=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ga={key:0},ka=e("i",{class:"fa fa-trash mr-1"},null,-1),wa={class:"ml-2"},xa={class:"card"},Ca={class:"card-body"},Sa={class:"dispatch-table"},Da={class:"table-responsive"},Ma={class:"table table-bordered table-hover table-sm"},Va=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Department Head"),e("th",null,"Action")])],-1),Ua={key:0},Aa={key:1},Pa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Ia=[Pa],qa=["index"],Ta={class:"card"},Ea={class:"card-body"},Ra={class:"list-field"},La=e("span",{class:"mb-1 dis"},"Name:",-1),Fa={class:"list-field"},Na=e("span",{class:"mb-1 dis"},"Email:",-1),Ya={class:"list-field"},Ba=e("span",{class:"mb-1 dis"},"Registered Date:",-1),ja={class:"list-field"},Oa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ha=["onChange"],za=["value","selected"],Ja=e("hr",null,null,-1),Qa={class:"row"},Ga={key:0,class:"col"},Wa=["onClick"],Ka=e("i",{class:"fa fa-pencil-square-o"},null,-1),Xa=["onClick"],Za=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),eo=[Za],to={key:1,class:"col"},so=["onClick"],ao=e("i",{class:"fa fa-pencil-square-o"},null,-1),oo={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},lo={class:"modal-dialog",role:"document"},no={class:"modal-content"},io={class:"modal-header"},co={class:"modal-title",id:"staticBackdropLabel"},ro={key:0},uo={key:1},_o=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),mo={class:"modal-body"},po={class:"form-group"},ho=e("label",{for:"name"},"Username",-1),vo={class:"invalid-feedback"},bo={class:"d-flex justify-content-between"},fo={class:"d-flex"},$o={class:"form-group"},yo=e("label",{for:"email"},"Email",-1),go={class:"invalid-feedback"},ko={class:"d-flex"},wo={class:"form-group"},xo=e("label",{for:"siteDropdown"},"Gender",-1),Co=e("option",{value:"",disabled:""}," Select a gender ",-1),So=["value"],Do={class:"d-flex justify-content-between"},Mo={class:"d-flex"},Vo={class:"form-group"},Uo=e("label",{for:"first_name"},"Fist Name",-1),Ao={class:"invalid-feedback"},Po={class:"d-flex"},Io={class:"form-group"},qo=e("label",{for:"last_name"},"Last Name",-1),To={class:"invalid-feedback"},Eo={class:"form-group"},Ro=e("label",{for:"position"},"Position",-1),Lo={class:"invalid-feedback"},Fo={class:"form-group"},No=e("label",{for:"password"},"Password",-1),Yo={class:"invalid-feedback"},Bo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),jo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Oo={class:"modal-dialog",role:"document"},Ho={class:"modal-content"},zo=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Jo={class:"modal-footer"},Qo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Go={__name:"UserList",setup(s){const y=`${he().name}`,h=me(),l=pe(),n=r({data:[]}),d=r(!1),c=r(),v=Ve({id:"",name:"",email:"",sitehead_user_id:"",first_name:"",last_name:"",gender:"",position:""});r([]),r(null);const p=r([{name:"Male",value:1},{name:"Female",value:2}]),_=(C=1)=>{T.get(`/api/users?page=${C}`,{params:{query:Y.value}}).then(H=>{n.value=H.data,S.value=[],se.value=!1})},i=xe({name:j().required(),last_name:j().required(),first_name:j().required(),email:j().email().required(),password:j().required().min(8),gender:j().required()}),V=xe({name:j().required(),last_name:j().required(),first_name:j().required(),email:j().email().required(),password:j().when((C,H)=>C?H.required().min(8):H),gender:j().required()}),m=r([]),M=()=>{T.get("/api/users/userlist").then(C=>{m.value=C.data}).catch(C=>{console.log(C)})},O=(C,H)=>{T.patch(`/api/users/${C.id}/change-sitehead`,{sitehead_user_id:H}).then(()=>{l.success("Sitehead changed successfully!")})},z=(C,{resetForm:H,setErrors:D})=>{T.post("/api/users",C).then(f=>{n.value.data.unshift(f.data),$("#userFormModal").modal("hide"),H(),l.success("User created successfully!")}).catch(f=>{f.response.data.errors&&(D(f.response.data.errors),l.warning(f.response.data.errors.name))})},F=()=>{d.value=!1,$("#userFormModal").modal("show")},Q=C=>{d.value=!0,v.id=C.id,v.name=C.name,v.email=C.email,v.first_name=C.first_name,v.last_name=C.last_name,v.gender=C.gender,v.position=C.position,$("#userFormModal").modal("show")},U=(C,{setErrors:H})=>{T.put("/api/users/"+c.value.id,C).then(D=>{const f=n.value.data.findIndex(le=>le.id===D.data.id);n.value.data[f]=D.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(D=>{H(D.response.data.errors),console.log(D)})},E=(C,H)=>{d.value?U(C,H):z(C,H)},Y=r(null),S=r([]),g=C=>{const H=S.value.indexOf(C.id);H===-1?S.value.push(C.id):S.value.splice(H,1),console.log(S.value)},N=r(null),I=C=>{N.value=C,$("#deleteUserModal").modal("show")},G=()=>{T.delete(`/api/users/${N.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),n.value.data=n.value.data.filter(C=>C.id!==N.value)})},ce=()=>{T.delete("/api/users",{data:{ids:S.value}}).then(C=>{n.value.data=n.value.data.filter(H=>!S.value.includes(H.id)),S.value=[],se.value=!1,l.success(C.data.message)})},se=r(!1);return fe(Y,Ae.exports.debounce(()=>{_()},300)),ve(()=>{_(),M(),document.title=`SLI-DTS - ${y}`}),(C,H)=>{const D=ye("font");return a(),o(B,null,[e("div",va,[e("div",ba,[e("div",fa,[e("div",$a,[e("button",{onClick:F,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ya,q(" User ")]),S.value.length>0?(a(),o("div",ga,[e("button",{onClick:ce,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ka,q(" Delete Selected ")]),e("span",wa,"Selected "+t(S.value.length)+" users",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=f=>Y.value=f),class:"form-control",placeholder:"Search..."},null,512),[[re,Y.value]])])]),e("div",xa,[e("div",Ca,[e("div",Sa,[e("div",Da,[b(D,{size:"2"},{default:W(()=>[e("table",Ma,[Va,n.value.data.length>0?(a(),o("tbody",Ua,[(a(!0),o(B,null,K(n.value.data,(f,le)=>(a(),ue(ha,{key:f.id,user:f,index:le,onEditUser:Q,onConfirmUserDeletion:I,onToggleSelection:g,"select-all":se.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",Aa,Ia))])]),_:1})])]),(a(!0),o(B,null,K(n.value.data,(f,le)=>(a(),o("div",{class:"dispatch-list",key:f.id,index:le},[e("div",Ta,[e("div",Ea,[e("div",Ra,[La,e("span",null,t(f.first_name+" "+f.last_name),1)]),e("div",Fa,[Na,e("span",null,t(f.email),1)]),e("div",Ya,[Ba,e("span",null,t(f.formatted_created_at),1)]),e("div",ja,[Oa,e("span",null,[f.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:oe=>O(f,oe.target.value)},[(a(!0),o(B,null,K(m.value,oe=>(a(),o("option",{key:oe.id,value:oe.id,selected:oe.sitehead_user_id===oe.id},t(oe.first_name+" "+oe.last_name),9,za))),128))],40,Ha)):P("",!0)])]),Ja,e("div",Qa,[u(h).user.role==="ADMIN"?(a(),o("div",Ga,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>Q(f)},[Ka,q(" Edit ")],8,Wa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:oe=>I(f.id)},eo,8,Xa)])):P("",!0),u(h).user.role==="USER"?(a(),o("div",to,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>Q(f)},[ao,q(" Edit ")],8,so)])):P("",!0)])])])],8,qa))),128))])]),b(u(Re),{data:n.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",oo,[e("div",lo,[e("div",no,[e("div",io,[e("h5",co,[d.value?(a(),o("span",ro,"Edit User")):(a(),o("span",uo,"Add New User"))]),_o]),b(u(Ie),{ref:"form",onSubmit:E,"validation-schema":d.value?u(V):u(i),"initial-values":c.value},{default:W(({errors:f})=>[e("div",mo,[e("div",po,[ho,b(u(J),{name:"name",type:"text",class:A(["form-control",{"is-invalid":f.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username",modelValue:v.name,"onUpdate:modelValue":H[1]||(H[1]=le=>v.name=le)},null,8,["class","modelValue"]),e("span",vo,t(f.name),1)]),e("div",bo,[e("div",fo,[e("div",$o,[yo,b(u(J),{name:"email",type:"email",class:A(["form-control",{"is-invalid":f.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email",modelValue:v.email,"onUpdate:modelValue":H[2]||(H[2]=le=>v.email=le)},null,8,["class","modelValue"]),e("span",go,t(f.email),1)])]),e("div",ko,[e("div",wo,[xo,b(u(J),{id:"gender",name:"gender",as:"select",class:A(["form-control",{"is-invalid":f.gender}])},{default:W(()=>[Co,(a(!0),o(B,null,K(p.value,le=>(a(),o("option",{key:le.name,value:le.name},t(le.name),9,So))),128))]),_:2},1032,["class"])])])]),e("div",Do,[e("div",Mo,[e("div",Vo,[Uo,b(u(J),{name:"first_name",type:"text",class:A(["form-control",{"is-invalid":f.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name",modelValue:v.first_name,"onUpdate:modelValue":H[3]||(H[3]=le=>v.first_name=le)},null,8,["class","modelValue"]),e("span",Ao,t(f.first_name),1)])]),e("div",Po,[e("div",Io,[qo,b(u(J),{name:"last_name",type:"text",class:A(["form-control",{"is-invalid":f.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name",modelValue:v.last_name,"onUpdate:modelValue":H[4]||(H[4]=le=>v.last_name=le)},null,8,["class","modelValue"]),e("span",To,t(f.last_name),1)])])]),e("div",Eo,[Ro,b(u(J),{name:"position",type:"text",class:A(["form-control",{"is-invalid":f.position}]),id:"position",modelValue:v.position,"onUpdate:modelValue":H[5]||(H[5]=le=>v.position=le),placeholder:"Enter position"},null,8,["class","modelValue"]),e("span",Lo,t(f.position),1)]),e("div",Fo,[No,b(u(J),{name:"password",type:"password",class:A(["form-control",{"is-invalid":f.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Yo,t(f.password),1)])]),Bo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",jo,[e("div",Oo,[e("div",Ho,[zo,e("div",Jo,[Qo,e("button",{onClick:ae(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Wo=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ko=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Xo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Zo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Te={__name:"ContentLoader",setup(s){return(y,h)=>y.isloading?(a(),ue(u(Nt),{key:0,viewBox:"0 0 250 110"},{default:W(()=>[Wo,Ko,Xo,Zo]),_:1})):P("",!0)}};var $e=(s,y)=>{const h=s.__vccOpts||s;for(const[l,n]of y)h[l]=n;return h};const ze=s=>(ke("data-v-965b4d94"),s=s(),we(),s),el={class:"content"},tl={class:"container-fluid"},sl={class:"row"},al={class:"col-md-6"},ol={class:"card"},ll=De('<ul class="nav nav-tabs" data-v-965b4d94><li class="nav-item" data-v-965b4d94><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-965b4d94>General Settings</a></li><li class="nav-item" data-v-965b4d94><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-965b4d94>Site Settings</a></li></ul>',1),nl={class:"tab-content"},dl={class:"tab-pane fade show active",id:"general-tab"},il={class:"card-body"},cl={class:"form-group"},rl=ze(()=>e("label",{for:"appName"},"App Display Name",-1)),ul={key:0,class:"text-danger text-sm"},_l={class:"form-group"},ml=ze(()=>e("label",{for:"dateFormat"},"Date Format",-1)),pl=De('<option value="m/d/Y" data-v-965b4d94> MM/DD/YYYY </option><option value="d/m/Y" data-v-965b4d94> DD/MM/YYYY </option><option value="Y-m-d" data-v-965b4d94> YYYY-MM-DD </option><option value="F j, Y" data-v-965b4d94> Month DD, YYYY </option><option value="j F Y" data-v-965b4d94> DD Month YYYY </option>',5),hl=[pl],vl={key:0,class:"text-danger text-sm"},bl={class:"form-group"},fl=ze(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),$l={key:0,class:"text-danger text-sm"},yl=ze(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),q("Save Changes ")])],-1)),gl={class:"tab-pane fade",id:"site"},kl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},wl={key:0,class:"list-group-item p-0"},xl={class:"d-flex justify-content-center"},Cl=["onClick"],Sl={class:"ml-auto my-1 mr-1"},Dl=["onClick"],Ml=ze(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),Vl=[Ml],Ul={class:"m-2 list-unstyled"},Al={key:1},Pl={key:0,class:"list-group-item p-0"},Il={class:"d-flex justify-content-center"},ql=["onClick"],Tl={class:"ml-auto my-1 mr-1"},El=["onClick"],Rl=ze(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),Ll=[Rl],Fl={key:1,class:"mt-2 text-center"},Nl=ze(()=>e("span",null,"No Site",-1)),Yl=[Nl],Bl={class:"input-group"},jl=ze(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Ol={__name:"UpdateSetting",setup(s){const y=`${he().name}`,h=r([]),l=pe(),n=r(!0),d=r([]),c=r(!1),v=r(),p=He("$swal"),_=r({id:"",site_name:"",is_active:""}),i=()=>{c.value=!0,axios.get("/api/site").then(Y=>{c.value=!1,d.value=Y.data}).catch(Y=>{console.log(Y)})},V=Me(()=>Array.isArray(d.value)?d.value.filter(Y=>Y.is_active===0):[]),m=Me(()=>V.value.length),M=()=>{n.value=!n.value},O=()=>{var Y,S;c.value=!0,axios.post("/api/site",{id:(Y=_.value)==null?void 0:Y.id,site_name:(S=_.value)==null?void 0:S.site_name,is_active:!0}).then(g=>{i(),_.value={id:null,site_name:"",is_active:!0},l.success(g.data.message),c.value=!1}).catch(g=>{g.response&&g.response.status===422&&(U.value=g.response.data.errors)})},z=Y=>{_.value.is_active=Y.is_active===1?0:1,axios.post("/api/site",{id:Y.id,site_name:Y.site_name,is_active:_.value.is_active}).then(S=>{axios.get("/api/site").then(g=>{d.value=g.data}).catch(g=>{console.error("Error fetching tasks:",g),l.error("Error fetching tasks. Please try again.")})}).catch(S=>{console.error("Error adding new task:",S),l.error("Error adding new task. Please try again.")})},F=Y=>{if(Y.is_active===null||Y.is_active===0){p.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}_.value.id=Y.id,_.value.site_name=Y.site_name},Q=()=>{axios.get("/api/settings").then(Y=>{h.value=Y.data})},U=r(),E=()=>{U.value="",axios.post("/api/settings",h.value).then(Y=>{l.success("Settings updated successfully!")}).catch(Y=>{Y.response&&Y.response.status===422&&(U.value=Y.response.data.errors)})};return ve(()=>{i(),Q(),document.title=`SLI-DTS - ${y}`}),(Y,S)=>(a(),o("div",el,[e("div",tl,[e("div",sl,[e("div",al,[e("div",ol,[ll,e("div",nl,[e("div",dl,[e("form",{onSubmit:S[3]||(S[3]=ae(g=>E(),["prevent"]))},[e("div",il,[e("div",cl,[rl,Z(e("input",{"onUpdate:modelValue":S[0]||(S[0]=g=>h.value.app_name=g),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[re,h.value.app_name]]),U.value&&U.value.app_name?(a(),o("span",ul,t(U.value.app_name[0]),1)):P("",!0)]),e("div",_l,[ml,Z(e("select",{"onUpdate:modelValue":S[1]||(S[1]=g=>h.value.date_format=g),class:"form-control"},hl,512),[[Ye,h.value.date_format]]),U.value&&U.value.date_format?(a(),o("span",vl,t(U.value.date_format[0]),1)):P("",!0)]),e("div",bl,[fl,Z(e("input",{"onUpdate:modelValue":S[2]||(S[2]=g=>h.value.pagination_limit=g),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[re,h.value.pagination_limit]]),U.value&&U.value.pagination_limit?(a(),o("span",$l,t(U.value.pagination_limit[0]),1)):P("",!0)])]),yl],32)]),e("div",gl,[d.value.length>0?(a(),o("div",kl,[c.value?(a(),ue(Te,{key:0})):P("",!0),(a(!0),o(B,null,K(d.value,g=>(a(),o("ul",{class:"list-group",key:g.id},[g.is_active===1?(a(),o("li",wl,[e("div",xl,[e("div",null,[e("span",{class:A({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:N=>z(g),class:A({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,Cl),q(" "+t(g.site_name),1)],2)]),e("div",Sl,[e("button",{onClick:N=>F(g),class:"btn btn-outline"},Vl,8,Dl)])])])):P("",!0)]))),128)),e("li",Ul,[m.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-danger",onClick:M},[e("i",{class:A(["fa",n.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Deactive List "+t(m.value),1)])):P("",!0)]),n.value?(a(),o("div",Al,[(a(!0),o(B,null,K(d.value,g=>(a(),o("ul",{class:"list-group",key:g.id},[g.is_active===0?(a(),o("li",Pl,[e("div",Il,[e("div",null,[e("span",{class:A({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:N=>z(g),class:A({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,ql),e("del",null,t(g.site_name),1)],2)]),e("div",Tl,[e("button",{onClick:N=>F(g),class:"btn btn-outline"},Ll,8,El)])])])):P("",!0)]))),128))])):P("",!0)])):(a(),o("div",Fl,Yl)),b(u(Ie),{ref:"form",onSubmit:O,"initial-values":v.value},{default:W(()=>[b(u(J),{name:"id",modelValue:_.value.id,"onUpdate:modelValue":S[4]||(S[4]=g=>_.value.id=g),type:"text",hidden:""},null,8,["modelValue"]),e("div",Bl,[b(u(J),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:_.value.site_name,"onUpdate:modelValue":S[5]||(S[5]=g=>_.value.site_name=g),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),jl])]),_:1},8,["initial-values"])])])])])])])]))}};var Hl=$e(Ol,[["__scopeId","data-v-965b4d94"]]);const zl={class:"content"},Jl={class:"container-fluid"},Ql={class:"row"},Gl={class:"col-md-3"},Wl={class:"card card-primary card-outline"},Kl={class:"card-body box-profile"},Xl={class:"text-center"},Zl=["src"],en={class:"profile-username text-center"},tn={class:"text-muted text-center"},sn={class:"col-md-9"},an={class:"card"},on=De('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),ln={class:"card-body"},nn={class:"tab-content"},dn={class:"tab-pane active",id:"profile"},cn={class:"form-group row"},rn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),un={class:"col-sm-10"},_n={key:0,class:"text-danger text-sm"},mn={class:"form-group row"},pn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),hn={class:"col-sm-10"},vn={key:0,class:"text-danger text-sm"},bn={class:"form-group row"},fn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),$n={class:"col-sm-10"},yn={key:0,class:"text-danger text-sm"},gn={class:"form-group row"},kn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),wn={class:"col-sm-10"},xn={key:0,class:"text-danger text-sm"},Cn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),Sn={class:"tab-pane",id:"changePassword"},Dn={class:"form-group row"},Mn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),Vn={class:"col-sm-9"},Un={key:0,class:"text-danger text-sm"},An={class:"form-group row"},Pn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),In={class:"col-sm-9"},qn={key:0,class:"text-danger text-sm"},Tn={class:"form-group row"},En=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),Rn={class:"col-sm-9"},Ln=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),Fn={__name:"UpdateProfile",setup(s){const y=me(),h=pe(),l=`${he().name}`,n=r([]),d=()=>{axios.put("/api/profile",{name:y.user.name,first_name:y.user.first_name,last_name:y.user.last_name,email:y.user.email,role:y.user.role}).then(V=>{h.success("Profile updated successfully!")}).catch(V=>{V.response&&V.response.status===422&&(n.value=V.response.data.errors)})},c=Ve({currentPassword:"",password:"",passwordConfirmation:""}),v=()=>{n.value="",axios.post("/api/change-user-password",c).then(V=>{h.success(V.data.message);for(const m in c)c[m]=""}).catch(V=>{V.response&&V.response.status===422&&(n.value=V.response.data.errors)})},p=r(null),_=()=>{p.value.click()},i=V=>{const m=V.target.files[0];y.user.avatar=URL.createObjectURL(m);const M=new FormData;M.append("profile_picture",m),axios.post("/api/upload-profile-image",M).then(O=>{h.success("Image uploaded successfully!")})};return ve(()=>{document.title=`SLI-DTS - ${l}`}),(V,m)=>(a(),o("div",zl,[e("div",Jl,[e("div",Ql,[e("div",Gl,[e("div",Wl,[e("div",Kl,[e("div",Xl,[e("input",{onChange:i,ref_key:"fileInput",ref:p,type:"file",class:"d-none"},null,544),e("img",{onClick:_,class:"profile-user-img img-circle",src:u(y).user.avatar,alt:"User profile picture"},null,8,Zl)]),e("h3",en,t(u(y).user.name),1),e("p",tn,t(u(y).user.role),1)])])]),e("div",sn,[e("div",an,[on,e("div",ln,[e("div",nn,[e("div",dn,[e("form",{onSubmit:m[4]||(m[4]=ae(M=>d(),["prevent"])),class:"form-horizontal"},[e("div",cn,[rn,e("div",un,[Z(e("input",{"onUpdate:modelValue":m[0]||(m[0]=M=>u(y).user.name=M),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[re,u(y).user.name]]),n.value&&n.value.name?(a(),o("span",_n,t(n.value.name[0]),1)):P("",!0)])]),e("div",mn,[pn,e("div",hn,[Z(e("input",{"onUpdate:modelValue":m[1]||(m[1]=M=>u(y).user.first_name=M),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[re,u(y).user.first_name]]),n.value&&n.value.first_name?(a(),o("span",vn,t(n.value.first_name[0]),1)):P("",!0)])]),e("div",bn,[fn,e("div",$n,[Z(e("input",{"onUpdate:modelValue":m[2]||(m[2]=M=>u(y).user.last_name=M),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[re,u(y).user.last_name]]),n.value&&n.value.last_name?(a(),o("span",yn,t(n.value.last_name[0]),1)):P("",!0)])]),e("div",gn,[kn,e("div",wn,[Z(e("input",{"onUpdate:modelValue":m[3]||(m[3]=M=>u(y).user.email=M),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[re,u(y).user.email]]),n.value&&n.value.email?(a(),o("span",xn,t(n.value.email[0]),1)):P("",!0)])]),Cn],32)]),e("div",Sn,[e("form",{onSubmit:ae(v,["prevent"]),class:"form-horizontal"},[e("div",Dn,[Mn,e("div",Vn,[Z(e("input",{"onUpdate:modelValue":m[5]||(m[5]=M=>c.currentPassword=M),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[re,c.currentPassword]]),n.value&&n.value.current_password?(a(),o("span",Un,t(n.value.current_password[0]),1)):P("",!0)])]),e("div",An,[Pn,e("div",In,[Z(e("input",{"onUpdate:modelValue":m[6]||(m[6]=M=>c.password=M),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[re,c.password]]),n.value&&n.value.password?(a(),o("span",qn,t(n.value.password[0]),1)):P("",!0)])]),e("div",Tn,[En,e("div",Rn,[Z(e("input",{"onUpdate:modelValue":m[7]||(m[7]=M=>c.passwordConfirmation=M),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[re,c.passwordConfirmation]])])]),Ln],32)])])])])])])])]))}};const Qe=s=>(ke("data-v-809e38f2"),s=s(),we(),s),Nn={class:"login-box"},Yn={class:"card card-outline card-primary"},Bn=Qe(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),jn={class:"card-body"},On={key:0,class:"alert alert-danger",role:"alert"},Hn={class:"input-group mb-3"},zn=Qe(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Jn={class:"input-group mb-3"},Qn=Qe(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Gn=["type"],Wn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Kn=Qe(()=>e("div",{class:"input-group mb-3"},null,-1)),Xn={class:"row"},Zn={class:"col-12 mb-2"},ed=["disabled"],td={key:0,class:"spinner-border spinner-border-sm",role:"status"},sd=Qe(()=>e("span",{class:"sr-only"},"Loading...",-1)),ad=[sd],od={key:1},ld=Qe(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),nd="Login",dd={__name:"Login",setup(s){const y=r(!1),h=pe();me();const l=Be(),n=Ve({email:"",password:""}),d=r(!1),c=r(""),v=()=>{d.value=!0,c.value="",T.post("/login",n).then(()=>{l.push("/"),h.success("Login Success")}).catch(p=>{h.error(p.response.data.message)}).finally(()=>{d.value=!1})};return ve(()=>{document.title=nd}),(p,_)=>(a(),o("div",Nn,[e("div",Yn,[Bn,e("div",jn,[c.value?(a(),o("div",On,t(c.value),1)):P("",!0),e("form",{onSubmit:ae(v,["prevent"])},[e("div",Hn,[zn,Z(e("input",{"onUpdate:modelValue":_[0]||(_[0]=i=>n.email=i),type:"email",class:"form-control",placeholder:"Email"},null,512),[[re,n.email]])]),e("div",Jn,[Qn,Z(e("input",{"onUpdate:modelValue":_[1]||(_[1]=i=>n.password=i),class:"form-control",placeholder:"Password",type:y.value?"text":"password",onClick:_[2]||(_[2]=(...i)=>p.handleKeyClick&&p.handleKeyClick(...i))},null,8,Gn),[[rt,n.password]])]),e("label",Wn,[Z(e("input",{type:"checkbox","onUpdate:modelValue":_[3]||(_[3]=i=>y.value=i)},null,512),[[Le,y.value]]),q(" Show Password ")]),Kn,e("div",Xn,[e("div",Zn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(a(),o("div",td,ad)):(a(),o("span",od,"Sign In"))],8,ed)])])],32),ld])])]))}};var id=$e(dd,[["__scopeId","data-v-809e38f2"]]);const cd=["checked"],rd=e("i",{class:"fa fa-edit"},null,-1),ud=[rd],_d=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),md=[_d],pd={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:y}){pe();const h=s,l=y,n=()=>{l("toggleSelection",h.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:n},null,40,cd)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.first_name)+" "+t(s.item.last_name),1),e("td",null,t(s.item.email),1),e("td",null,t(s.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:c[0]||(c[0]=ae(v=>d.$emit("editUser",s.item),["prevent"]))},ud),e("a",{href:"#",onClick:c[1]||(c[1]=ae(v=>d.$emit("confirmUserDeletion",s.item.id),["prevent"]))},md)])]))}},hd={class:"content"},vd={class:"container-fluid"},bd={class:"d-flex justify-content-between"},fd={class:"d-flex"},$d=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),yd={key:0},gd=e("i",{class:"fa fa-trash mr-1"},null,-1),kd={class:"ml-2"},wd={class:"card"},xd={class:"card-body"},Cd={class:"table table-bordered"},Sd=e("th",{style:{width:"10px"}},"#",-1),Dd=e("th",null,"Name",-1),Md=e("th",null,"Email",-1),Vd=e("th",null,"Registered Date",-1),Ud=e("th",null,"Options",-1),Ad={key:0},Pd={key:1},Id=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),qd=[Id],Td={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ed={class:"modal-dialog",role:"document"},Rd={class:"modal-content"},Ld={class:"modal-header"},Fd={class:"modal-title",id:"staticBackdropLabel"},Nd={key:0},Yd={key:1},Bd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),jd={class:"modal-body"},Od={class:"form-group"},Hd=e("label",{for:"fist_name"},"First Name",-1),zd={class:"invalid-feedback"},Jd={class:"form-group"},Qd=e("label",{for:"last_name"},"Last Name",-1),Gd={class:"invalid-feedback"},Wd={class:"form-group"},Kd=e("label",{for:"email"},"Email",-1),Xd={class:"invalid-feedback"},Zd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),ei={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ti={class:"modal-dialog",role:"document"},si={class:"modal-content"},ai=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),oi={class:"modal-footer"},li=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),ni={__name:"ClientList",setup(s){const y=pe(),h=r({data:[]}),l=r(!1),n=r(),d=r(null),c=(N=1)=>{T.get(`/api/clients?page=${N}`,{params:{query:O.value}}).then(I=>{h.value=I.data,z.value=[],S.value=!1})},v=xe({first_name:j().required(),last_name:j().required(),email:j().email().required()}),p=xe({first_name:j().required(),last_name:j().required(),email:j().email().required()}),_=(N,{resetForm:I,setErrors:G})=>{T.post("/api/clients",N).then(ce=>{h.value.data.unshift(ce.data),$("#clientFormModal").modal("hide"),I(),y.success("User created successfully!")}).catch(ce=>{ce.response.data.errors&&G(ce.response.data.errors)})},i=()=>{l.value=!1,$("#clientFormModal").modal("show")},V=N=>{l.value=!0,d.value.resetForm(),$("#clientFormModal").modal("show"),n.value={id:N.id,first_name:N.first_name,last_name:N.last_name,email:N.email}},m=(N,{setErrors:I})=>{T.put("/api/clients/"+n.value.id,N).then(G=>{const ce=h.value.data.findIndex(se=>se.id===G.data.id);h.value.data[ce]=G.data,$("#clientFormModal").modal("hide"),y.success("Client updated successfully!")}).catch(G=>{I(G.response.data.errors),console.log(G)})},M=(N,I)=>{l.value?m(N,I):_(N,I)},O=r(null),z=r([]),F=N=>{const I=z.value.indexOf(N.id);I===-1?z.value.push(N.id):z.value.splice(I,1),console.log(z.value)},Q=r(null),U=N=>{Q.value=N,$("#deleteClientModal").modal("show")},E=()=>{T.delete(`/api/clients/${Q.value}`).then(()=>{$("#deleteClientModal").modal("hide"),y.success("Client deleted successfully!"),h.value.data=h.value.data.filter(N=>N.id!==Q.value)})},Y=()=>{T.delete("/api/clients",{data:{ids:z.value}}).then(N=>{h.value.data=h.value.data.filter(I=>!z.value.includes(I.id)),z.value=[],S.value=!1,y.success(N.data.message)})},S=r(!1),g=()=>{S.value?z.value=h.value.data.map(N=>N.id):z.value=[],console.log(z.value)};return fe(O,Ae.exports.debounce(()=>{c()},300)),ve(()=>{c()}),(N,I)=>(a(),o(B,null,[e("div",hd,[e("div",vd,[e("div",bd,[e("div",fd,[e("button",{onClick:i,type:"button",class:"mb-2 btn btn-primary"},[$d,q(" Add New Client ")]),z.value.length>0?(a(),o("div",yd,[e("button",{onClick:Y,type:"button",class:"ml-2 mb-2 btn btn-danger"},[gd,q(" Delete Selected ")]),e("span",kd,"Selected "+t(z.value.length)+" clients",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=G=>O.value=G),class:"form-control",placeholder:"Search..."},null,512),[[re,O.value]])])]),e("div",wd,[e("div",xd,[e("table",Cd,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=G=>S.value=G),onChange:g},null,544),[[Le,S.value]])]),Sd,Dd,Md,Vd,Ud])]),h.value.data.length>0?(a(),o("tbody",Ad,[(a(!0),o(B,null,K(h.value.data,(G,ce)=>(a(),ue(pd,{key:G.id,item:G,index:ce,onEditUser:V,onConfirmUserDeletion:U,onToggleSelection:F,"select-all":S.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Pd,qd))])])]),b(u(Re),{data:h.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",Td,[e("div",Ed,[e("div",Rd,[e("div",Ld,[e("h5",Fd,[l.value?(a(),o("span",Nd,"Edit Client")):(a(),o("span",Yd,"Add New Client"))]),Bd]),b(u(Ie),{ref_key:"form",ref:d,onSubmit:M,"validation-schema":l.value?u(p):u(v),"initial-values":n.value},{default:W(({errors:G})=>[e("div",jd,[e("div",Od,[Hd,b(u(J),{name:"first_name",type:"text",class:A(["form-control",{"is-invalid":G.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",zd,t(G.first_name),1)]),e("div",Jd,[Qd,b(u(J),{name:"last_name",type:"text",class:A(["form-control",{"is-invalid":G.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Gd,t(G.last_name),1)]),e("div",Wd,[Kd,b(u(J),{name:"email",type:"email",class:A(["form-control",{"is-invalid":G.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Xd,t(G.email),1)])]),Zd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",ei,[e("div",ti,[e("div",si,[ai,e("div",oi,[li,e("button",{onClick:ae(E,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const ut=s=>(ke("data-v-6b52e506"),s=s(),we(),s),di={style:{"text-align":"center"}},ii={key:0},ci=ut(()=>e("i",{class:"fa fa-edit"},null,-1)),ri=[ci],ui=ut(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),_i=[ui],mi={key:1,style:{"text-align":"center"}},pi={key:0},hi=ut(()=>e("i",{class:"fa fa-edit"},null,-1)),vi=[hi],bi={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(s,{emit:y}){pe();const h=me();return(l,n)=>{const d=ye("router-link");return a(),o("tr",null,[e("td",null,t(s.item.recommnum),1),e("td",null,t(s.item.user),1),e("td",null,t(s.item.branch),1),e("td",null,t(s.item.department),1),e("td",null,t(s.item.created_user),1),e("td",di,[s.item.statusid==2?(a(),ue(d,{key:0,to:`/tech-approved/${s.item.recommnum}/view`,target:"_blank"},{default:W(()=>[e("span",{class:A(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3)]),_:1},8,["to"])):(a(),o("span",{key:1,class:A(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3))]),e("td",null,t(s.item.created_at),1),u(h).user.role==="ADMIN"?(a(),o("td",ii,[e("a",{href:"#",onClick:n[0]||(n[0]=ae(c=>l.$emit("editUser",s.item),["prevent"]))},ri),e("a",{href:"#",onClick:n[1]||(n[1]=ae(c=>l.$emit("confirmUserDeletion",s.item.id),["prevent"]))},_i)])):P("",!0),u(h).user.role==="USER"?(a(),o("td",mi,[s.item.statusid!=2?(a(),o("div",pi,[s.item.created_by==u(h).user.id?(a(),o("a",{key:0,href:"#",onClick:n[2]||(n[2]=ae(c=>l.$emit("editUser",s.item),["prevent"]))},vi)):P("",!0)])):P("",!0)])):P("",!0)])}}};var fi=$e(bi,[["__scopeId","data-v-6b52e506"]]);const $i={class:"content"},yi={class:"container-fluid"},gi={class:"d-flex justify-content-between"},ki={class:"d-flex"},wi=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),xi={key:0},Ci=e("i",{class:"fa fa-trash mr-1"},null,-1),Si={class:"ml-2"},Di={class:"card"},Mi={class:"card-body"},Vi={class:"dispatch-table"},Ui={class:"table-responsive"},Ai={class:"table table-bordered table-sm"},Pi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),Ii={key:0},qi={key:1},Ti=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Ei=[Ti],Ri=["item","index"],Li={class:"card"},Fi={class:"card-body"},Ni={class:"list-field"},Yi=e("span",{class:"mb-1 dis"},"Tech #:",-1),Bi={class:"list-field"},ji=e("span",{class:"mb-1 dis"},"User:",-1),Oi={class:"list-field"},Hi=e("span",{class:"mb-1 dis"},"Branch:",-1),zi={class:"list-field"},Ji=e("span",{class:"mb-1 dis"},"Department:",-1),Qi={class:"list-field"},Gi=e("span",{class:"mb-1 dis"},"Created by:",-1),Wi={class:"list-field"},Ki=e("span",{class:"mb-1 dis"},"Status:",-1),Xi={class:"list-field"},Zi=e("span",{class:"mb-1 dis"},"Created Date:",-1),ec=e("hr",null,null,-1),tc={class:"row"},sc={key:0,class:"col"},ac=["onClick"],oc=e("i",{class:"fa fa-pencil-square-o"},null,-1),lc=["onClick"],nc=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),dc=[nc],ic={key:1,class:"col"},cc={key:0},rc=["onClick"],uc=e("i",{class:"fa fa-pencil-square-o"},null,-1),_c={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mc={class:"modal-dialog modal-lg",role:"document"},pc={class:"modal-content"},hc={class:"modal-header"},vc={class:"modal-title",id:"staticBackdropLabel"},bc={key:0},fc={key:1},$c=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),yc={class:"modal-body"},gc={class:"col-md-12"},kc={class:"row"},wc={class:"col-6"},xc={class:"form-group"},Cc=e("label",{for:"branch"},"Branch",-1),Sc=e("option",{value:"",disabled:""}," Select Branch ",-1),Dc=["value"],Mc={class:"invalid-feedback"},Vc={class:"form-group"},Uc=e("label",{for:"department"},"Department",-1),Ac={class:"invalid-feedback"},Pc={class:"form-group"},Ic=e("label",{for:"warehouse"},"warehouse",-1),qc={class:"invalid-feedback"},Tc={class:"form-group"},Ec=e("label",{for:"user"},"User",-1),Rc={class:"invalid-feedback"},Lc={class:"col-6"},Fc={class:"form-group"},Nc=e("label",{for:"brand"},"Brand",-1),Yc={class:"form-group"},Bc=e("label",{for:"model"},"Model",-1),jc={class:"invalid-feedback"},Oc={class:"form-group"},Hc=e("label",{for:"assettag"},"Asset tag",-1),zc={class:"invalid-feedback"},Jc={class:"form-group"},Qc=e("label",{for:"serialnum"},"Serial number",-1),Gc={class:"invalid-feedback"},Wc={class:"col-12"},Kc={class:"form-group"},Xc=e("label",{for:"problem"},"Report Problem",-1),Zc={class:"invalid-feedback"},er={class:"form-group"},tr=e("label",{for:"assconducted"},"Assessment conducted",-1),sr={class:"invalid-feedback"},ar={class:"form-group"},or=e("label",{for:"recommendation"},"Recommendation",-1),lr={class:"invalid-feedback"},nr={class:"modal-footer"},dr={key:0},ir={key:0,class:"btn-group float-l ml-auto"},cr=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),rr={class:"dropdown-menu",role:"menu"},ur=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),_r=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),mr={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pr={class:"modal-dialog",role:"document"},hr={class:"modal-content"},vr=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),br={class:"modal-footer"},fr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),$r={__name:"TechList",setup(s){const y=r(),h=r(),l=pe(),n=r({data:[]});r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const d=`${he().name}`,c=()=>{T.get("/web/getsite").then(D=>{h.value=D.data.sites}).catch(D=>{console.log(D)})},v=r(!1),p=r(!1),_=r(),i=Ve({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),V=me();r(null);const m=(D=1)=>{v.value=!0,T.get(`/api/tech-recommendations?page=${D}`,{params:{query:S.value}}).then(f=>{v.value=!1,n.value=f.data,g.value=[],H.value=!1})},M=xe({branch:j().required(),department:j().required(),user:j().required(),problem:j().required(),assconducted:j().required(),brand:j().required()}),O=xe({branch:j().required(),department:j().required(),user:j().required(),problem:j().required(),assconducted:j().required(),brand:j().required()}),z=(D,{resetForm:f,setErrors:le})=>{T.post("/api/tech-recommendations",D).then(oe=>{n.value.data.unshift(oe.data),$("#FormModal").modal("hide"),f(),l.success("Data created successfully!")}).catch(oe=>{oe.response.data.errors&&le(oe.response.data.errors)})},F=()=>{p.value=!1,$("#FormModal").modal("show")},Q=()=>{i.id="",i.recommnum="",i.branch="",i.department="",i.warehouse="",i.user="",i.problem="",i.brand="",i.model="",i.assettag="",i.serialnum="",i.assconducted="",i.recommendation="",i.ceated_by=""},U=D=>{y.value=D.id,p.value=!0,Q(),i.id=D.id,i.branch=D.branch,i.department=D.department,i.warehouse=D.warehouse,i.user=D.user,i.problem=D.problem,i.brand=D.brand,i.model=D.model,i.assettag=D.assettag,i.serialnum=D.serialnum,i.assconducted=D.assconducted,i.recommendation=D.recommendation,i.ceated_by=D.ceated_by,i.recommnum=D.recommnum,$("#FormModal").modal("show")},E=(D,{setErrors:f})=>{T.put("/api/tech-recommendations/"+D.id,D).then(le=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(le=>{f(le.response.data.errors),console.log(le)})},Y=(D,f)=>{p.value?E(i,f):z(D,f)},S=r(null),g=r([]),N=D=>{const f=g.value.indexOf(D.id);f===-1?g.value.push(D.id):g.value.splice(f,1),console.log(g.value)},I=r(null),G=D=>{I.value=D,$("#deleteClientModal").modal("show")},ce=()=>{T.delete(`/api/tech-recommendations/${I.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),n.value.data=n.value.data.filter(D=>D.id!==I.value)})},se=()=>{T.delete("/api/tech-recommendations",{data:{ids:g.value}}).then(D=>{n.value.data=n.value.data.filter(f=>!g.value.includes(f.id)),g.value=[],H.value=!1,l.success(D.data.message)})},C=D=>{T.post("/api/tech-getaction",{id:y.value,status:D}).then(f=>{$("#FormModal").modal("hide"),m()}).catch(f=>{console.log(f.message)})},H=r(!1);return fe(S,Ae.exports.debounce(()=>{m()},300)),ve(()=>{m(),c(),document.title=`SLI-DTS - ${d}`}),(D,f)=>{const le=ye("font"),oe=ye("router-link");return a(),o(B,null,[e("div",$i,[e("div",yi,[e("div",gi,[e("div",ki,[e("button",{onClick:F,type:"button",class:"mb-2 btn btn-primary"},[wi,q(" TechRecom ")]),g.value.length>0?(a(),o("div",xi,[e("button",{onClick:se,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Ci,q(" Delete Selected ")]),e("span",Si,"Selected "+t(g.value.length)+" techrecomm",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=k=>S.value=k),class:"form-control",placeholder:"Search..."},null,512),[[re,S.value]])])]),e("div",Di,[e("div",Mi,[v.value?(a(),ue(Te,{key:0})):P("",!0),e("div",Vi,[e("div",Ui,[b(le,{size:"2"},{default:W(()=>[e("table",Ai,[Pi,n.value.data.length>0?(a(),o("tbody",Ii,[(a(!0),o(B,null,K(n.value.data,(k,R)=>(a(),ue(fi,{key:k.id,item:k,index:R,onEditUser:U,onShowItem:D.viewItem,onConfirmUserDeletion:G,onToggleSelection:N,"select-all":H.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",qi,Ei))])]),_:1})])]),(a(!0),o(B,null,K(n.value.data,(k,R)=>(a(),o("div",{class:"dispatch-list",key:k.id,item:k,index:R},[e("div",Li,[e("div",Fi,[e("div",Ni,[Yi,e("span",null,[e("b",null,t(k.recommnum),1)])]),e("div",Bi,[ji,e("span",null,t(k.user),1)]),e("div",Oi,[Hi,e("span",null,t(k.branch),1)]),e("div",zi,[Ji,e("span",null,t(k.department),1)]),e("div",Qi,[Gi,e("span",null,t(k.created_user),1)]),e("div",Wi,[Ki,k.statusid==2?(a(),ue(oe,{key:0,to:`/tech-approved/${k.recommnum}/view`,target:"_blank"},{default:W(()=>[e("span",{class:A(["badge",`badge-${k.status.color}`])},t(k.status.name),3)]),_:2},1032,["to"])):P("",!0),k.statusid!=2?(a(),o("span",{key:1,class:A(["badge",`badge-${k.status.color}`])},t(k.status.name),3)):P("",!0)]),e("div",Xi,[Zi,e("span",null,t(k.created_at),1)]),ec,e("div",tc,[u(V).user.role==="ADMIN"?(a(),o("div",sc,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:je=>U(k)},[oc,q(" Edit ")],8,ac),e("button",{class:"btn btnsm btn-danger btn-block",onClick:je=>G(k.id)},dc,8,lc)])):P("",!0),u(V).user.role==="USER"?(a(),o("div",ic,[k.statusid!=2?(a(),o("div",cc,[k.created_by==u(V).user.id?(a(),o("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:je=>U(k)},[uc,q(" Edit ")],8,rc)):P("",!0)])):P("",!0)])):P("",!0)])])])],8,Ri))),128))])]),b(u(Re),{data:n.value,onPaginationChangePage:m},null,8,["data"])])]),e("div",_c,[e("div",mc,[e("div",pc,[e("div",hc,[e("h5",vc,[p.value?(a(),o("span",bc,"Edit Tech Recom.")):(a(),o("span",fc,"Add New Tech Recom."))]),$c]),b(u(Ie),{onSubmit:Y,"validation-schema":p.value?u(O):u(M),"initial-values":_.value},{default:W(({errors:k})=>[e("div",yc,[e("div",gc,[e("div",kc,[e("div",wc,[b(u(J),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(V).user.id,"onUpdate:modelValue":f[1]||(f[1]=R=>u(V).user.id=R)},null,8,["modelValue"]),b(u(J),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:i.recommnum,"onUpdate:modelValue":f[2]||(f[2]=R=>i.recommnum=R)},null,8,["modelValue"]),e("div",xc,[Cc,b(u(J),{as:"select",name:"branch",class:A(["form-control",{"is-invalid":k.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:i.branch,"onUpdate:modelValue":f[3]||(f[3]=R=>i.branch=R)},{default:W(()=>[Sc,(a(!0),o(B,null,K(h.value,R=>(a(),o("option",{key:R.name,value:R.name},t(R.name),9,Dc))),128))]),_:2},1032,["class","modelValue"]),e("span",Mc,t(k.branch),1)]),e("div",Vc,[Uc,b(u(J),{name:"department",type:"text",class:A(["form-control",{"is-invalid":k.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:i.department,"onUpdate:modelValue":f[4]||(f[4]=R=>i.department=R)},null,8,["class","modelValue"]),e("span",Ac,t(k.department),1)]),e("div",Pc,[Ic,b(u(J),{name:"warehouse",type:"text",class:A(["form-control",{"is-invalid":k.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:i.warehouse,"onUpdate:modelValue":f[5]||(f[5]=R=>i.warehouse=R)},null,8,["class","modelValue"]),e("span",qc,t(k.warehouse),1)]),e("div",Tc,[Ec,b(u(J),{name:"user",type:"text",class:A(["form-control",{"is-invalid":k.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:i.user,"onUpdate:modelValue":f[6]||(f[6]=R=>i.user=R)},null,8,["class","modelValue"]),e("span",Rc,t(k.user),1)])]),e("div",Lc,[e("div",Fc,[Nc,b(u(J),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:i.brand,"onUpdate:modelValue":f[7]||(f[7]=R=>i.brand=R)},null,8,["modelValue"])]),e("div",Yc,[Bc,b(u(J),{name:"model",type:"text",class:A(["form-control",{"is-invalid":k.model}]),id:"model",modelValue:i.model,"onUpdate:modelValue":f[8]||(f[8]=R=>i.model=R),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",jc,t(k.model),1)]),e("div",Oc,[Hc,b(u(J),{name:"assettag",type:"text",class:A(["form-control",{"is-invalid":k.assettag}]),id:"assettag",modelValue:i.assettag,"onUpdate:modelValue":f[9]||(f[9]=R=>i.assettag=R),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",zc,t(k.assettag),1)]),e("div",Jc,[Qc,Z(e("input",{name:"serialnum",type:"text",class:A(["form-control",{"is-invalid":k.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":f[10]||(f[10]=R=>i.serialnum=R)},null,2),[[re,i.serialnum]]),e("span",Gc,t(k.serialnum),1)])]),e("div",Wc,[e("div",Kc,[Xc,b(u(J),{name:"problem",as:"textarea",class:A(["form-control",{"is-invalid":k.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:i.problem,"onUpdate:modelValue":f[11]||(f[11]=R=>i.problem=R)},null,8,["class","modelValue"]),e("span",Zc,t(k.problem),1)]),e("div",er,[tr,b(u(J),{name:"assconducted",as:"textarea",class:A(["form-control",{"is-invalid":k.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:i.assconducted,"onUpdate:modelValue":f[12]||(f[12]=R=>i.assconducted=R)},null,8,["class","modelValue"]),e("span",sr,t(k.assconducted),1)]),e("div",ar,[or,b(u(J),{name:"recommendation",as:"textarea",class:A(["form-control",{"is-invalid":k.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:i.recommendation,"onUpdate:modelValue":f[13]||(f[13]=R=>i.recommendation=R)},null,8,["class","modelValue"]),e("span",lr,t(k.recommendation),1)])])])])]),e("div",nr,[p.value?(a(),o("div",dr,[u(V).user.role==="ADMIN"?(a(),o("div",ir,[e("button",{type:"button",onClick:f[14]||(f[14]=R=>C(2)),class:"btn btn-info"}," Approved "),cr,e("div",rr,[e("span",{onClick:f[15]||(f[15]=R=>C(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:f[16]||(f[16]=R=>C(3)),class:"dropdown-item"},"Disapproved")])])):P("",!0)])):P("",!0),ur,_r])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",mr,[e("div",pr,[e("div",hr,[vr,e("div",br,[fr,e("button",{onClick:ae(ce,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Xe=bt("SettingStore",()=>{const s=r({app_name:""}),y=Yt("SettingStore:theme",r("light"));return{setting:s,getSetting:async()=>{await T.get("/api/settings").then(n=>{s.value=n.data})},theme:y,changeTheme:()=>{y.value=y.value==="light"?"dark":"light"}}});const de=s=>(ke("data-v-a215d374"),s=s(),we(),s),yr={class:"content"},gr={class:"container-fluid"},kr={class:"card"},wr={class:"card-header"},xr={class:"card-title"},Cr={class:"card-body"},Sr={class:"col-md-12"},Dr={class:"d-flex justify-content-between"},Mr=de(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Vr={class:"d-flex"},Ur={class:"col-12",id:"accordion"},Ar={key:1},Pr={key:0},Ir={class:"card card-secondary"},qr={class:"card-body d-flex align-items-center justify-content-center"},Tr={class:"image-container"},Er=["src"],Rr=de(()=>e("div",{class:"overlay"},null,-1)),Lr={key:1},Fr={class:"card-header bg-white"},Nr={class:"card-title"},Yr=["href"],Br=["src"],jr={class:"card-tools"},Or=["onClick"],Hr=de(()=>e("i",{class:"fas fa-tasks"},null,-1)),zr=[Hr],Jr=["disabled","onClick"],Qr=["onClick"],Gr=["onClick"],Wr=de(()=>e("p",{class:"float-right"},null,-1)),Kr=["id"],Xr={class:"card-body"},Zr={class:"col-md-12"},eu={class:"dispatch-table"},tu={class:"row"},su={class:"col-4"},au=de(()=>e("b",null,"Site:",-1)),ou=de(()=>e("b",null,"Planned Date:",-1)),lu=de(()=>e("b",null,"Planned End Date:",-1)),nu={class:"col-4"},du=de(()=>e("b",null,"Start Date:",-1)),iu=de(()=>e("b",null,"Accomplished Date:",-1)),cu={class:"closestatus"},ru=de(()=>e("b",{style:{color:"black"}},"Type:",-1)),uu={class:"col-4"},_u={class:"ongoing"},mu=de(()=>e("b",{style:{color:"black"}},"Status:",-1)),pu=de(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),hu=de(()=>e("b",null,"Remarks:",-1)),vu={style:{margin:"0.5%"}},bu=["disabled","onClick"],fu=["onClick","disabled"],$u={class:"dispatch-list"},yu={class:"list-group list-group-flush"},gu={class:"list-group-item d-flex justify-content-between align-items-center"},ku={class:"badge badge-primary badge-pill"},wu={class:"list-group-item d-flex justify-content-between align-items-center"},xu={class:"badge badge-primary badge-pill"},Cu={class:"list-group-item d-flex justify-content-between align-items-center"},Su={class:"badge badge-primary badge-pill"},Du={class:"list-group-item d-flex justify-content-between align-items-center"},Mu={class:"badge badge-primary badge-pill"},Vu={class:"list-group-item d-flex justify-content-between align-items-center"},Uu={class:"badge badge-primary badge-pill"},Au={class:"list-group-item d-flex justify-content-between align-items-center"},Pu={class:"badge badge-primary badge-pill"},Iu={class:"list-group-item d-flex justify-content-between align-items-center"},qu={class:"badge badge-primary badge-pill"},Tu={class:"list-group-item d-flex justify-content-between align-items-center"},Eu={class:"badge badge-primary badge-pill"},Ru=de(()=>e("hr",null,null,-1)),Lu={class:"row"},Fu={class:"col"},Nu=["onClick"],Yu=de(()=>e("i",{class:"fas fa-pen"},null,-1)),Bu=["onClick"],ju=de(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),q(" Drop ")],-1)),Ou=[ju],Hu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zu={class:"modal-dialog modal-dialog-centered",role:"document"},Ju={class:"modal-content"},Qu={class:"modal-header"},Gu={class:"modal-title",id:"staticBackdropLabel"},Wu={key:0},Ku={key:1},Xu={key:2},Zu=de(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),e_={class:"modal-body"},t_={class:"col-md-12"},s_={class:"row"},a_={class:"col-12"},o_={class:"form-group"},l_=de(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),n_=de(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),d_=["value"],i_={key:0,class:"d-flex justify-content-between"},c_={class:"d-flex"},r_={class:"form-group"},u_=de(()=>e("label",{for:"end-time"},"Start Date",-1)),__={class:"form-group"},m_=de(()=>e("label",{for:"end-time"},"Hour",-1)),p_=["value"],h_=de(()=>e("div",{class:"d-fex"},null,-1)),v_={key:1,class:"d-flex justify-content-between"},b_={class:"d-flex"},f_={class:"form-group"},$_=de(()=>e("label",{for:"end-time"},"End Date",-1)),y_={class:"form-group"},g_=de(()=>e("label",{for:"end-time"},"Hour",-1)),k_=["value"],w_=de(()=>e("div",{class:"d-fex"},null,-1)),x_={class:"form-group"},C_=de(()=>e("label",{for:"site"},"Type",-1)),S_=de(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),D_=["value"],M_=de(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),V_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},U_={class:"modal-dialog modal-sm",role:"document"},A_={class:"modal-content"},P_={class:"modal-header"},I_={class:"modal-title",id:"staticBackdropLabel"},q_=de(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),T_={class:"modal-body"},E_=De('<ul class="nav nav-tabs" id="myTabs" data-v-a215d374><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-a215d374> Todo List</a></li><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-a215d374> Todo</a></li></ul>',1),R_={class:"tab-content"},L_={class:"tab-pane fade show active",id:"todolist"},F_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},N_=de(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),Y_=de(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),B_={key:0,class:"list-group-item p-0"},j_={class:"d-flex justify-content-center"},O_=["onClick"],H_={class:"ml-auto my-1 mr-1"},z_=["onClick"],J_=de(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),Q_=[J_],G_={class:"mt-2 mb-2 list-unstyled"},W_={key:1},K_={key:0,class:"list-group-item p-0"},X_={class:"d-flex justify-content-center"},Z_=["onClick"],em={class:"ml-auto my-1 mr-1"},tm=["onClick"],sm=de(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),am=[sm],om={key:1,class:"mt-2 text-center"},lm=de(()=>e("span",null,"No Todo",-1)),nm=[lm],dm={class:"tab-pane fade",id:"formTask"},im={class:"col-md-12"},cm={class:"row"},rm={class:"col-12"},um={class:"m-2",style:{display:"flex","align-items":"center"}},_m=de(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),q("\xA0Save ")])],-1)),mm={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pm={class:"modal-dialog",role:"document"},hm={class:"modal-content"},vm=de(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),bm={class:"modal-body"},fm={class:"col-md-12"},$m={class:"row"},ym={class:"col-12"},gm={class:"modal-footer"},km=de(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),wm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xm={class:"modal-dialog",role:"document"},Cm={class:"modal-content"},Sm=De('<div class="modal-header" data-v-a215d374><h5 class="modal-title" id="staticBackdropLabel" data-v-a215d374><span data-v-a215d374>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-a215d374><span aria-hidden="true" data-v-a215d374>\xD7</span></button></div><div class="modal-body" data-v-a215d374><h5 data-v-a215d374>Are you sure you want to delete this record ?</h5></div>',2),Dm={class:"modal-footer"},Mm=de(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Vm={__name:"MyPrio",setup(s){const y=`${he().name}`,h=r(!1),l=r(!1),n=He("$swal");Xe();const d=pe(),c=r({data:[]}),v=r([]);r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),r();const p=r();r();const _=r(!0),i=r(!1);r(!1),r();const V=r(),m=r(),M=r(),O=me();r(null),r(!1);const z=r([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),F=r(),Q=r("1:00 AM"),U=r(),E=r("1:00 AM"),Y=r(Array.from({length:24},(x,L)=>{const w=L%12+1,ge=L<12?"AM":"PM";return`${w}:00 ${ge}`})),S=r(Array.from({length:24},(x,L)=>{const w=L%12+1,ge=L<12?"AM":"PM";return`${w}:00 ${ge}`})),g=Ve({dailytask_id:"",site:"",user_id:O.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),N=r("");fe([F,Q],()=>{const x=new Date(F.value),L=x.getFullYear(),w=String(x.getMonth()+1).padStart(2,"0"),ge=String(x.getDate()).padStart(2,"0");g.plandate=`${L}-${w}-${ge} ${Q.value}`}),fe([F,E],()=>{const x=new Date(F.value);x.getFullYear(),String(x.getMonth()+1).padStart(2,"0"),String(x.getDate()).padStart(2,"0")}),fe([U,E],()=>{const x=new Date(U.value),L=x.getFullYear(),w=String(x.getMonth()+1).padStart(2,"0"),ge=String(x.getDate()).padStart(2,"0");g.enddates=`${L}-${w}-${ge} ${E.value}`});const I=r({id:"",dailytask_id:"",task_name:"",iscompleted:0}),G=()=>{T.get("/web/getsite").then(x=>{p.value=x.data.sites}).catch(x=>{console.log(x)})},ce=()=>{h.value=!0,T.get("/web/dailytask",{params:{query:ee.value}}).then(x=>{h.value=!1,c.value=x.data,Ue.value=[]})},se=async x=>{(await n({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(h.value=!0,T.put(`/web/dailytask/drop/${x}`).then(w=>{d.success("Data drop successfully!"),h.value=!1,ce()}))},C=()=>{$("#FormModalTask").modal("show")},H=x=>{C(),I.value.dailytask_id=x.dailytask_id,m.value=x.taskdate,M.value=x.startdate,l.value=!0,T.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(L=>{v.value=L.data,C(),l.value=!1}).catch(L=>{console.error("Error fetching tasks:",L)})},D=()=>{l.value=!0,T.post("/web/dailytask/addnewTask",{dailytask_id:I.value.dailytask_id,task_name:I.value.task_name,iscompleted:I.value.iscompleted}).then(x=>{d.success("Data created successfully!"),T.get(`/web/dailytask/${I.value.dailytask_id}/tasks`).then(L=>{v.value=L.data,l.value=!1}).catch(L=>{console.error("Error fetching tasks:",L),d.error("Error fetching tasks. Please try again.")}),I.value.task_name=""}).catch(x=>{console.error("Error adding new task:",x),d.error("Error adding new task. Please try again.")})},f=x=>{I.value.iscompleted=x.iscompleted===1?0:1,T.post("/web/dailytask/addnewTask",{id:x.id,dailytask_id:x.dailytask_id,task_name:x.task_name,iscompleted:I.value.iscompleted}).then(L=>{T.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(w=>{v.value=w.data}).catch(w=>{console.error("Error fetching tasks:",w),d.error("Error fetching tasks. Please try again.")})}).catch(L=>{console.error("Error adding new task:",L),d.error("Error adding new task. Please try again.")})},le=Me(()=>Array.isArray(v.value)?v.value.filter(x=>x.iscompleted===1):[]),oe=Me(()=>le.value.length),k=()=>{_.value=!_.value},R=x=>{T.delete(`/web/dailytask/deleteTask/${x.id}`).then(L=>{T.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(w=>{v.value=w.data,d.success("Todo successfull Deleted")}).catch(w=>{console.error("Error fetching tasks:",w),d.error("Error fetching tasks. Please try again.")})}).catch(L=>{console.error("Error adding new task:",L),d.error("Error adding new task. Please try again.")})};xe({site:j().required(),tasktype:j().required(),plandate:j().required(),planenddate:j().required()}),xe({site:j().required(),tasktype:j().required(),plandate:j().required(),planenddate:j().required()});const je=(x,L)=>{T.post("/web/dailytask",g).then(w=>{ce(),$("#FormModal").modal("hide"),d.success("data created successfully!")}).catch(w=>{L.setErrors(w.response.data.errors)})},Fe=(x,L)=>{T.put("/web/dailytask/"+g.dailytask_id,g).then(w=>{console.log(w.data),ce(),$("#FormModal").modal("hide"),d.success("data update successfully!")}).catch(w=>{L.setErrors(w.response.data.errors)})},Je=x=>{x&&x.dailytask_id!==null&&x.dailytask_id!==void 0?(i.value=!0,V.value=" on "+ie(x.taskdate).format("MMMM D, YYYY"),g.site=x.site_name,g.dailytask_id=x.dailytask_id,g.plandate=x.plandate,g.planenddate=x.planenddate,g.tasktype=x.tasktype,console.log(x.site_name),console.log(x.tasktype)):i.value=!1,G(),$("#FormModal").modal("show")},ne=(x,L)=>{i.value?Fe(x,L):je(x,L)},te=async x=>{if((await n.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const w=await T.put("/web/dailytask/onTashHoliday/"+x.dailytask_id,x);d.success(w.data.message),ce()}},lt=async x=>{try{const L=await T.get(`/web/dailytask/${x.dailytask_id}/tasks`);if(v.value=L.data,!v.value||v.value.length===0){n.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await n.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ge=await T.put("/web/dailytask/onhandler/"+x.dailytask_id,x);d.success(ge.data.message),ce()}}catch(L){console.error("Error fetching tasks:",L),d.error("An error occurred while updating the task.")}},nt=x=>{$("#onRemarksModal").modal("show"),N.value=x},X=()=>{g.remarks===null||g.remarks==""?d.error("Remarks is required"):(ie(N.value.taskdate).format("YYYY-MM-DD")===ie().format("YYYY-MM-DD")?g.status="HIT":g.status="MISS",T.put("/web/dailytask/onhandler/"+N.value.dailytask_id,{startdate:N.value.startdate,remarks:g.remarks,status:g.status}).then(L=>{console.log(L.data),ce(),$("#onRemarksModal").modal("hide"),d.success(L.data.message)}))},ee=r(null),Ue=r([]);return r(null),fe(ee,Ae.exports.debounce(()=>{ce()},300)),ve(()=>{ft(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ce(),document.title=`SLI-DTS - ${y}`}),(x,L)=>(a(),o(B,null,[e("div",yr,[e("div",gr,[e("div",kr,[e("div",wr,[e("div",xr,t(u(O).user.first_name+" "+u(O).user.last_name)+" - My Prio ",1)]),e("div",Cr,[e("div",Sr,[e("div",Dr,[e("div",{class:"d-flex"},[e("button",{onClick:Je,type:"button",class:"mb-2 btn btn-primary"},[Mr,q(" Task ")])]),e("div",Vr,[Z(e("input",{type:"text","onUpdate:modelValue":L[0]||(L[0]=w=>ee.value=w),class:"form-control",placeholder:"Search..."},null,512),[[re,ee.value]])])]),e("div",Ur,[h.value?(a(),ue(Te,{key:0})):(a(),o("div",Ar,[c.value.length===0?(a(),o("div",Pr,[e("div",Ir,[e("div",qr,[e("div",Tr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,Er),Rr])])])])):(a(),o("div",Lr,[(a(!0),o(B,null,K(c.value,w=>(a(),o("div",{class:"card card-primary",key:w.id},[e("div",Fr,[e("h4",Nr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+w.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Br),q(" \xA0"),e("b",null,t(u(ie)(w.taskdate).format("MMMM D, YYYY")+" - "+w.site_name),1)],8,Yr)]),e("div",jr,[w.tasktypeid&&w.tasktypeid!==6?(a(),o("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ge=>H(w)},zr,8,Or)):P("",!0),!w.enddate&&w.tasktypeid!==6?(a(),o("button",{key:1,disabled:w.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ge=>nt(w)}," End ",8,Jr)):P("",!0),w.tasktypeid&&w.tasktypeid===6?(a(),o("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ge=>te(w)}," Complete ",8,Qr)):P("",!0),!w.startdate&&w.tasktypeid!==6?(a(),o("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ge=>lt(w)}," Start ",8,Gr)):P("",!0),Wr])]),e("div",{id:"collapse"+w.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Xr,[e("div",Zr,[e("div",eu,[e("div",tu,[e("div",su,[e("h5",null,[au,q(" "+t(w.site_name),1)]),e("h5",null,[ou,q(" "+t(w.plandate),1)]),e("h5",null,[lu,q(" "+t(w.planenddate),1)])]),e("div",nu,[e("h5",null,[du,q(" "+t(w.startdate!==null?u(ie)(w.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[iu,q(" "+t(w.enddate!==null?u(ie)(w.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",cu,[ru,q(" "+t(w.tasktype?w.tasktype.join(", "):""),1)])]),e("div",uu,[e("h5",_u,[mu,q(" "+t(w.status),1)]),e("h5",null,[pu,q(" "+t(w.attachment),1)]),e("h5",null,[hu,q(" "+t(w.remarks),1)])])]),e("div",vu,[e("button",{disabled:w.startdate!==null,onClick:ge=>se(w.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,bu),e("button",{onClick:ge=>Je(w),type:"button",disabled:w.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,fu)])]),e("div",$u,[e("ul",yu,[e("li",gu,[q(" Site: "),e("span",ku,t(w.site_name),1)]),e("li",wu,[q(" Planned Date: "),e("span",xu,t(w.plandate),1)]),e("li",Cu,[q(" Planned End Date: "),e("span",Su,t(w.planenddate),1)]),e("li",Du,[q(" Start Date: "),e("span",Mu,t(w.startdate!==null?u(ie)(w.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",Vu,[q(" Type: "),e("span",Uu,t(w.tasktype?w.tasktype.join(", "):""),1)]),e("li",Au,[q(" Status: "),e("span",Pu,t(w.status),1)]),e("li",Iu,[q(" Attachment: "),e("span",qu,t(w.attachment),1)]),e("li",Tu,[q(" Remarks: "),e("span",Eu,t(w.remarks),1)])]),Ru,e("div",Lu,[e("div",Fu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ge=>Je(w)},[Yu,q(" Edit ")],8,Nu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ge=>se(w.dailytask_id)},Ou,8,Bu)])])])])])],8,Kr)]))),128))]))]))])])])])])]),e("div",Hu,[e("div",zu,[e("div",Ju,[e("div",Qu,[e("h5",Gu,[i.value?(a(),o("span",Wu,"Edit My Task")):(a(),o("span",Ku,"Add My Task")),i.value?(a(),o("span",Xu,t(V.value),1)):P("",!0)]),Zu]),b(u(Ie),{onSubmit:ne},{default:W(()=>[e("div",e_,[e("div",t_,[e("div",s_,[e("div",a_,[b(u(J),{modelValue:g.user_id,"onUpdate:modelValue":L[1]||(L[1]=w=>g.user_id=w),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",o_,[l_,Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":L[2]||(L[2]=w=>g.site=w)},[n_,(a(!0),o(B,null,K(p.value,w=>(a(),o("option",{key:w.id,value:w.id},t(w.name),9,d_))),128))],512),[[Ye,g.site]])]),i.value==!1?(a(),o("div",i_,[e("div",c_,[e("div",r_,[u_,b(u(Oe),{class:"form-control",modelValue:F.value,"onUpdate:modelValue":L[3]||(L[3]=w=>F.value=w)},null,8,["modelValue"])]),e("div",__,[m_,Z(e("select",{class:"form-control","onUpdate:modelValue":L[4]||(L[4]=w=>Q.value=w),id:"plandate"},[(a(!0),o(B,null,K(Y.value,w=>(a(),o("option",{key:w,value:w},t(w),9,p_))),128))],512),[[Ye,Q.value]])])]),h_])):P("",!0),i.value==!1?(a(),o("div",v_,[e("div",b_,[e("div",f_,[$_,b(u(Oe),{class:"form-control",modelValue:U.value,"onUpdate:modelValue":L[5]||(L[5]=w=>U.value=w)},null,8,["modelValue"])]),e("div",y_,[g_,Z(e("select",{class:"form-control","onUpdate:modelValue":L[6]||(L[6]=w=>E.value=w),id:"plandate"},[(a(!0),o(B,null,K(S.value,w=>(a(),o("option",{key:w,value:w},t(w),9,k_))),128))],512),[[Ye,E.value]])])]),w_])):P("",!0),e("div",x_,[C_,b(u(J),{name:"tasktype"},{default:W(()=>[Z(e("select",{"onUpdate:modelValue":L[7]||(L[7]=w=>g.tasktype=w),class:"form-control",required:!0},[S_,(a(!0),o(B,null,K(z.value,w=>(a(),o("option",{key:w.value,value:w.value},t(w.name),9,D_))),128))],512),[[Ye,g.tasktype]])]),_:1})])])])])]),M_]),_:1})])])]),e("div",V_,[e("div",U_,[e("div",A_,[e("div",P_,[e("h5",I_," My Todo of "+t(u(ie)(m.value).format("MM/D/YYYY")),1),q_]),e("div",T_,[E_,e("div",R_,[e("div",L_,[v.value.length>0?(a(),o("div",F_,[l.value?(a(),ue(Te,{key:0,viewBox:"0 0 250 110"},{default:W(()=>[N_,Y_]),_:1})):P("",!0),(a(!0),o(B,null,K(v.value,w=>(a(),o("ul",{class:"list-group",key:w.id},[w.iscompleted!==1?(a(),o("li",B_,[e("div",j_,[e("div",null,[e("span",{class:A({"font-italic btn":w.iscompleted===1,btn:w.iscompleted!==1})},[M.value?(a(),o("i",{key:0,onClick:ge=>f(w),class:A({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":w.iscompleted===1,"fa fa-circle text-primary":w.iscompleted!==1})},null,10,O_)):P("",!0),q(" "+t(w.task_name),1)],2)]),e("div",H_,[e("button",{onClick:ge=>R(w),class:"btn btn-outline"},Q_,8,z_)])])])):P("",!0)]))),128)),e("li",G_,[oe.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-secondary",onClick:k},[e("i",{class:A(["fa",_.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Completed "+t(oe.value),1)])):P("",!0)]),_.value?(a(),o("div",W_,[(a(!0),o(B,null,K(v.value,w=>(a(),o("ul",{class:"list-group",key:w.id},[w.iscompleted===1?(a(),o("li",K_,[e("div",X_,[e("div",null,[e("span",{class:A({"font-italic btn":w.iscompleted===1,btn:w.iscompleted!==1})},[M.value?(a(),o("i",{key:0,onClick:ge=>f(w),class:A({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":w.iscompleted===1,"fa fa-circle text-primary":w.iscompleted!==1})},null,10,Z_)):P("",!0),q(" "+t(w.task_name),1)],2)]),e("div",em,[e("button",{onClick:ge=>R(w),class:"btn btn-outline"},am,8,tm)])])])):P("",!0)]))),128))])):P("",!0)])):(a(),o("div",om,nm))]),e("div",dm,[b(u(Ie),{onSubmit:D},{default:W(()=>[e("div",im,[e("div",cm,[e("div",rm,[b(u(J),{modelValue:I.value.dailytask_id,"onUpdate:modelValue":L[8]||(L[8]=w=>I.value.dailytask_id=w),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",um,[b(u(J),{modelValue:I.value.task_name,"onUpdate:modelValue":L[9]||(L[9]=w=>I.value.task_name=w),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),_m]),_:1})])])])])])]),e("div",mm,[e("div",pm,[e("div",hm,[vm,e("div",bm,[e("div",fm,[e("div",$m,[e("div",ym,[b(u(J),{modelValue:g.remarks,"onUpdate:modelValue":L[10]||(L[10]=w=>g.remarks=w),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",gm,[e("button",{onClick:L[11]||(L[11]=ae(w=>X(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),km])])])]),e("div",wm,[e("div",xm,[e("div",Cm,[Sm,e("div",Dm,[e("button",{onClick:L[12]||(L[12]=ae((...w)=>x.deleteUser&&x.deleteUser(...w),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),Mm])])])])],64))}};var Um=$e(Vm,[["__scopeId","data-v-a215d374"]]);const Am={class:"text-center"},Pm={key:0},Im={class:"text-center"},qm={key:0},Tm={class:"text-center"},Em={key:0,class:"bg-success text-center"},Rm={key:1,class:"bg-danger text-center"},Lm={key:2,class:"text-center"},Fm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(s){return pe(),me(),(y,h)=>(a(),o("tr",null,[e("td",null,t(u(ie)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",Am,[s.item.task_lists_count!==0?(a(),o("span",Pm,t(s.item.task_lists_count),1)):P("",!0)]),e("td",Im,[s.item.completed_task_count!==0?(a(),o("span",qm,t(s.item.completed_task_count),1)):P("",!0)]),e("td",Tm,[e("span",null,t(s.item.remarks),1)]),s.item.status==="HIT"?(a(),o("td",Em,t(s.item.status),1)):s.item.status==="MISS"?(a(),o("td",Rm,t(s.item.status),1)):s.item.status===null||s.item.status===""?(a(),o("td",Lm,t(s.item.status===null||s.item.status===""?"On Going!":""),1)):P("",!0),e("td",{class:A({"bg-danger":s.item.percentage_completed>=0&&s.item.percentage_completed<=59,"bg-orange":s.item.percentage_completed>60&&s.item.percentage_completed<=90,"bg-success":s.item.percentage_completed===100,"text-center":!0})},t(s.item.percentage_completed+"%"),3)]))}};const Ce=s=>(ke("data-v-80c89624"),s=s(),we(),s),Nm={class:"content-header"},Ym={class:"container-fluid"},Bm={class:"col-12"},jm={class:"card",id:"captureVSCContainer"},Om={class:"card-header"},Hm={class:"card-title"},zm={class:"card-tools"},Jm={class:"card-body"},Qm=Ce(()=>e("i",{class:"fa fa-camera"},null,-1)),Gm=[Qm],Wm={key:1,class:"row"},Km={class:"inner"},Xm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Zm=["src"],ep={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},tp={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},sp={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},ap={style:{"text-align":"left"}},op={key:0},lp=Ce(()=>e("span",{class:"text-light badge"},"Todos",-1)),np={class:"list-group-item"},dp={style:{display:"flex","align-items":"left"}},ip={class:"ml-1"},cp={class:"ml-1"},rp={class:"float-right"},up={id:"captureHitRateContainer",class:"card"},_p={class:"card-header"},mp={class:"card-title"},pp={class:"card-body"},hp={class:"content"},vp={class:"container-fluid"},bp=Ce(()=>e("i",{class:"fa fa-camera"},null,-1)),fp=[bp],$p={class:"dispatch-table"},yp={class:"table-responsive"},gp={class:"table table-bordered table-hover table-sm"},kp=Ce(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),wp=Ce(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),xp={class:"text-center"},Cp={class:"text-center"},Sp=Ce(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),Dp=Ce(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),Mp=["item"],Vp={class:"list-field"},Up=Ce(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Ap={class:"list-field"},Pp=Ce(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Ip={key:0},qp={class:"list-field"},Tp=Ce(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Ep={key:0},Rp={class:"list-field"},Lp=Ce(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),Fp={class:"list-field"},Np=Ce(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),Yp={class:"list-field"},Bp=Ce(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),jp={class:"float-right"},Op={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hp={class:"modal-dialog modal-sm",role:"document"},zp={class:"modal-content"},Jp=Ce(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Qp={class:"modal-body"},Gp={class:"fromtocenter"},Wp=Ce(()=>e("label",{for:"fromDate"},"From:",-1)),Kp=Ce(()=>e("label",{for:"toDate"},"To:",-1)),Xp=Ce(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Zp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},eh={class:"modal-dialog modal-sm",role:"document"},th={class:"modal-content"},sh=Ce(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),ah={class:"modal-body"},oh={class:"container"},lh={class:"row"},nh=["onClick"],dh=Ce(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),ih={__name:"MyVsc",setup(s){const y=`${he().name}`,h=me(),l=r(!1),n=r(0),d=r(0),c=r(0),v=r([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),_=r((()=>{const g={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",g)})()),i=()=>{const g=document.getElementById("captureVSCContainer");at(g).then(N=>{const I=N.toDataURL(),G=document.createElement("a");G.href=I,G.download=`${h.user.first_name+" "+h.user.last_name} - ${y}.png`,G.click()})},V=()=>{const g=document.getElementById("captureHitRateContainer");at(g).then(N=>{const I=N.toDataURL(),G=document.createElement("a");G.href=I,G.download=`${h.user.first_name+" "+h.user.last_name} - My HIT RATE.png`,G.click()})};r(null),r("today");const m=r({data:[]}),M=r({data:[]}),O=()=>{l.value=!0,axios.get("/api/myvsc").then(g=>{l.value=!1,m.value=g.data.dailyTasks,M.value=g.data.TaskList,n.value=g.data.totaltasklist,d.value=g.data.totalcomplettask,c.value=g.data.totalpercentcomplete})},z=()=>{$("#FormModalfilterDate").modal("show")},F=r({start_date:"",end_date:""}),Q=r(""),U=r("");fe([Q],()=>{const g=new Date(Q.value),N=g.getFullYear(),I=String(g.getMonth()+1).padStart(2,"0"),G=String(g.getDate()).padStart(2,"0");F.value.start_date=`${N}-${I}-${G}`}),fe([U],()=>{const g=new Date(U.value),N=g.getFullYear(),I=String(g.getMonth()+1).padStart(2,"0"),G=String(g.getDate()).padStart(2,"0");F.value.end_date=`${N}-${I}-${G}`});const E=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:F.value.start_date,end_date:F.value.end_date}}).then(g=>{l.value=!1,m.value=g.data.dailyTasks,M.value=g.data.TaskList}).catch(g=>{console.error(g)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},Y=()=>{$("#FormModalPickerThemes").modal("show")},S=g=>{if(g){const N=h.user.id;axios.post("/api/changethemes",{userid:N,background:g.background,active_background:g.active_background,font_background:g.font_background}).then(I=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(G=>{l.value=!1,m.value=G.data.dailyTasks,M.value=G.data.TaskList})}).catch(I=>{console.error(I)})}else console.error("Invalid item:",g)};return ve(()=>{O(),document.title=`ESSWMS - ${y}`}),(g,N)=>(a(),o(B,null,[e("div",Nm,[e("div",Ym,[e("div",Bm,[e("div",jm,[e("div",Om,[e("div",Hm,[e("h5",null,t(u(h).user.first_name+" "+u(h).user.last_name)+" - "+t(y),1)]),e("div",zm,[e("i",{onClick:N[0]||(N[0]=I=>Y()),class:"fas fa-palette"})])]),e("div",Jm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:i,type:"button",class:"mb-2 btn btn-sm btn-success"},Gm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:z})])]),l.value?(a(),ue(Te,{key:0})):(a(),o("div",Wm,[(a(!0),o(B,null,K(m.value,I=>(a(),o("div",{class:"col-lg-3 col-6",key:I.id},[e("div",{class:"small-box",style:dt("background-color: "+(u(ie)(I.taskdate).format("MMMM D, YYYY")===_.value?I.active_background==""?"#72461F":I.active_background:I.background==""?"#B98D65":I.background)+";")},[e("div",Km,[e("div",Xm,[q(t(u(ie)(I.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Zm)]),e("div",ep,t(u(ie)(I.taskdate).format("MMMM D, YYYY")),1),I.tasktype!==6?(a(),o("div",tp,t(I.site_name),1)):P("",!0),I.tasktype===6?(a(),o("div",sp," Holiday ")):P("",!0),e("div",ap,[I.task_lists&&I.task_lists.length>0?(a(),o("div",op,[lp,(a(!0),o(B,null,K(I.task_lists,G=>(a(),o("ul",{class:"list-group list-group-flush",key:G.id},[e("li",np,[e("div",dp,[e("div",ip,[e("i",{class:A(G.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",cp,t(G.task_name),1)])])]))),128))])):P("",!0)])])],4)]))),128))])),e("div",rp,t(_.value),1)])]),e("div",up,[e("div",_p,[e("div",mp,[e("h5",null,t(u(h).user.first_name+" "+u(h).user.last_name)+" - My HIT RATE ",1)])]),e("div",pp,[e("div",hp,[e("div",vp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:V,type:"button",class:"mb-2 btn btn-sm btn-success"},fp)])]),e("div",$p,[e("div",yp,[e("table",gp,[kp,e("tbody",null,[(a(!0),o(B,null,K(M.value,I=>(a(),ue(Fm,{key:I.id,item:I},null,8,["item"]))),128)),e("tr",null,[wp,e("td",xp,[e("strong",null,t(n.value),1)]),e("td",Cp,[e("strong",null,t(d.value),1)]),Sp,Dp,e("td",{class:A({"bg-danger":c.value>=0&&c.value<=59,"bg-orange":c.value>60&&c.value<=90,"bg-success":c.value===100,"text-center":!0})},[e("strong",null,t(c.value.toFixed(2)+"%"),1)],2)])])])])]),(a(!0),o(B,null,K(M.value,I=>(a(),o("div",{class:"dispatch-list",key:I.id,item:I},[e("div",{class:A([{"callout callout-success":I.remarks==="HIT","callout callout-danger":I.remarks==="MISS",callout:I.remarks===null}])},[e("div",Vp,[Up,e("span",null,t(u(ie)(I.taskdate).format("MMMM D, YYYY")),1)]),e("div",Ap,[Pp,I.task_lists_count!==0?(a(),o("span",Ip,t(I.task_lists_count),1)):P("",!0)]),e("div",qp,[Tp,I.completed_task_count!==0?(a(),o("span",Ep,t(I.completed_task_count),1)):P("",!0)]),e("div",Rp,[Lp,e("span",null,t(I.remarks),1)]),e("div",Fp,[Np,e("span",{class:A(["badge",I.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(I.status),1)],2)]),e("div",Yp,[Bp,e("span",{class:A(["badge",{"bg-danger":I.percentage_completed>=0&&I.percentage_completed<=59},{"bg-orange":I.percentage_completed>60&&I.percentage_completed<=90},{"bg-success":I.percentage_completed===100}])},t(I.percentage_completed+"%"),3)])],2)],8,Mp))),128))])]),e("div",jp,t(_.value),1)])])])])]),e("div",Op,[e("div",Hp,[e("div",zp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(y)+" Summary Report")]),Jp]),e("div",Qp,[e("div",Gp,[e("div",null,[Wp,b(u(Oe),{modelValue:Q.value,"onUpdate:modelValue":N[1]||(N[1]=I=>Q.value=I)},null,8,["modelValue"])]),e("div",null,[Kp,b(u(Oe),{modelValue:U.value,"onUpdate:modelValue":N[2]||(N[2]=I=>U.value=I)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Xp,e("button",{onClick:E,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Zp,[e("div",eh,[e("div",th,[sh,e("div",ah,[e("div",oh,[e("div",lh,[(a(!0),o(B,null,K(v.value,I=>(a(),o("div",{class:"col-md-4",key:I.background},[e("div",{class:"box",onClick:G=>S(I)},[e("div",{class:"column",style:dt({"background-color":I.background})}," \xA0 ",4),e("div",{class:"column",style:dt({"background-color":I.active_background})}," \xA0 ",4)],8,nh)]))),128))])])]),dh])])])],64))}};var ch=$e(ih,[["__scopeId","data-v-80c89624"]]);const rh={class:"text-center"},uh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(s){return pe(),me(),(y,h)=>(a(),o("tr",null,[e("td",null,t(s.item.sitename),1),e("td",null,t(u(ie)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(s.item.startdate),1),e("td",null,t(s.item.enddate),1),e("td",null,t(s.item.tasktype.listtask),1),e("td",rh,[e("span",{class:A(["badge",s.item.status==="HIT"?"bg-success":"bg-danger"])},t(s.item.status),3)]),e("td",null,t(s.item.remarks),1)]))}};var _h=$e(uh,[["__scopeId","data-v-b058f1b2"]]);const Ee=s=>(ke("data-v-00887440"),s=s(),we(),s),mh={class:"content"},ph={class:"container-fluid"},hh={class:"card",id:"capturePrioContainer"},vh={class:"card-header"},bh={class:"card-title"},fh={class:"card-body"},$h={key:1,class:"content"},yh={class:"container-fluid"},gh=Ee(()=>e("i",{class:"fa fa-camera"},null,-1)),kh=[gh],wh={class:"dispatch-table"},xh={class:"table-responsive"},Ch={class:"table table-bordered table-sm table-striped table-hover"},Sh=Ee(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Dh={key:0},Mh={key:1},Vh=Ee(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),Uh=[Vh],Ah=["item","index"],Ph={class:"card"},Ih={class:"card-body"},qh={class:"list-field"},Th=Ee(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Eh={class:"list-field"},Rh=Ee(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),Lh={class:"list-field"},Fh=Ee(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),Nh={class:"list-field"},Yh=Ee(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),Bh={class:"list-field"},jh=Ee(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),Oh={class:"list-field"},Hh=Ee(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),zh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Jh={class:"modal-dialog modal-sm",role:"document"},Qh={class:"modal-content"},Gh=Ee(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Wh={class:"modal-body"},Kh={class:"fromtocenter"},Xh=Ee(()=>e("label",{for:"fromDate"},"From:",-1)),Zh=Ee(()=>e("label",{for:"toDate"},"To:",-1)),ev=Ee(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),tv={__name:"MyClosePrioList",setup(s){const y=`${he().name}`,h=r(!1);pe();const l=r({data:[]}),n=r(""),d=r(""),c=me(),v=(V=1)=>{h.value=!0,T.get(`/api/mycloseprio?page=${V}`,{params:{query:i.value}}).then(m=>{h.value=!1,l.value=m.data})},p=()=>{const V=document.getElementById("capturePrioContainer");at(V).then(m=>{const M=m.toDataURL(),O=document.createElement("a");O.href=M,O.download="MY CLOSED PRIO.png",O.click()})},_=()=>{h.value=!0,T.get("/api/filter-closeprio",{params:{start_date:n.value,end_date:d.value}}).then(V=>{h.value=!1,l.value=V.data.dailyTasks}).catch(V=>{console.error(V)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},i=r(null);return fe(i,Ae.exports.debounce(()=>{v()},300)),ve(()=>{v(),document.title=`SLI-DTS - ${y}`}),(V,m)=>{const M=ye("font");return a(),o(B,null,[e("div",mh,[e("div",ph,[e("div",hh,[e("div",vh,[e("div",bh,[e("h5",null,t(u(c).user.first_name+" "+u(c).user.last_name)+" - My Closed Prio ",1)])]),e("div",fh,[h.value?(a(),ue(Te,{key:0})):(a(),o("div",$h,[e("div",yh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:p,type:"button",class:"mb-2 btn btn-sm btn-success"},kh)])]),e("div",null,[e("div",wh,[e("div",xh,[b(M,{size:"2"},{default:W(()=>[e("table",Ch,[Sh,l.value.data.length>0?(a(),o("tbody",Dh,[(a(!0),o(B,null,K(l.value.data,(O,z)=>(a(),ue(_h,{key:O.id,item:O,index:z},null,8,["item","index"]))),128))])):(a(),o("tbody",Mh,Uh))])]),_:1})])]),(a(!0),o(B,null,K(l.value.data,(O,z)=>(a(),o("div",{class:"dispatch-list first-letter:shadow",key:O.id,item:O,index:z},[e("div",Ph,[e("div",Ih,[e("div",qh,[Th,e("span",null,t(O.sitename),1)]),e("div",Eh,[Rh,e("span",null,t(u(ie)(O.taskdate).format("MMMM D, YYYY")),1)]),e("div",Lh,[Fh,e("span",null,t(O.startdate),1)]),e("div",Nh,[Yh,e("span",null,t(O.enddate),1)]),e("div",Bh,[jh,e("span",null,t(O.tasktype.listtask),1)]),e("div",Oh,[Hh,e("span",{class:A(["badge",O.remarks==="HIT"?"bg-success":"bg-danger"])},t(O.remarks),3)])])])],8,Ah))),128))])])]))])]),b(u(Re),{data:l.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",zh,[e("div",Jh,[e("div",Qh,[Gh,e("div",Wh,[e("div",Kh,[e("div",null,[Xh,b(u(Oe),{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=O=>n.value=O)},null,8,["modelValue"])]),e("div",null,[Zh,b(u(Oe),{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=O=>d.value=O)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[ev,e("button",{onClick:_,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var sv=$e(tv,[["__scopeId","data-v-00887440"]]);const av={class:"text-center"},ov=e("i",{class:"fa fa-edit"},null,-1),lv=[ov],nv={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:y}){return pe(),(h,l)=>(a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",av,[e("a",{href:"#",onClick:l[0]||(l[0]=ae(n=>h.$emit("editUser",s.user),["prevent"]))},lv)])]))}},dv={class:"content"},iv={class:"container-fluid"},cv={class:"card"},rv={class:"card-header"},uv=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),_v={class:"card-tools"},mv={class:"card-body"},pv={class:"table-responsive"},hv={class:"table table-bordered table-hover table-sm"},vv=e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Action")])],-1),bv={key:0},fv={key:1},$v=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),yv=[$v],gv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kv={class:"modal-dialog modal-sm",role:"document"},wv={class:"modal-content"},xv={class:"modal-header"},Cv={class:"modal-title",id:"staticBackdropLabel"},Sv={key:0},Dv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Mv={class:"modal-body"},Vv={class:"table table-sm"},Uv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Av={colspan:"5"},Pv={class:"custom-control custom-checkbox"},Iv=["value","id"],qv=["for"],Tv={key:0,class:"table table-sm"},Ev={class:"text-danger"},Rv={class:"custom-control custom-checkbox"},Lv=["value","id"],Fv=["for"],Nv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Yv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Bv={class:"modal-dialog",role:"document"},jv={class:"modal-content"},Ov=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Hv={class:"modal-footer"},zv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Jv={__name:"UserMenuList",setup(s){const y=`${he().name}`,h=pe(),l=r({data:[]}),n=r(!1),d=r(),c=r(null),v=r(null),p=r(),_=r([]),i=(U=1)=>{T.get(`/api/users?page=${U}`,{params:{query:M.value}}).then(E=>{l.value=E.data,O.value=[],selectAll.value=!1})},V=U=>{T.get(`/web/usermenu/${U.id}`).then(E=>{p.value=E.data,_.value=[],p.value.forEach(Y=>{Y.hasAccess===1&&_.value.push(Y.menu_id),Y.submenus.forEach(S=>{S.hasAccess===1&&_.value.push(S.menu_id)})})}).catch(E=>{console.log(E)}),n.value=!0,c.value.resetForm(),$("#userFormModal").modal("show"),d.value={id:U.id,username:U.username,email:U.email,first_name:U.first_name,last_name:U.last_name},v.value=d.value.first_name+" "+d.value.last_name},m=()=>{const U={user_id:d.value.id,menu_id:_.value};console.log(U),T.post("/web/usermenu",U).then(E=>{h.success("User Menu Save successfully!")}).catch(E=>{setErrors(E.response.data.errors)})},M=r(null),O=r([]),z=U=>{const E=O.value.indexOf(U.id);E===-1?O.value.push(U.id):O.value.splice(E,1),console.log(O.value)},F=r(null),Q=U=>{F.value=U,$("#deleteUserModal").modal("show")};return fe(M,Ae.exports.debounce(()=>{i()},300)),ve(()=>{i(),document.title=`SLI-DTS - ${y}`}),(U,E)=>{const Y=ye("font");return a(),o(B,null,[e("div",dv,[e("div",iv,[e("div",cv,[e("div",rv,[uv,e("div",_v,[Z(e("input",{type:"text","onUpdate:modelValue":E[0]||(E[0]=S=>M.value=S),class:"form-control",placeholder:"Search..."},null,512),[[re,M.value]])])]),e("div",mv,[e("div",pv,[b(Y,{size:"2"},{default:W(()=>[e("table",hv,[vv,l.value.data.length>0?(a(),o("tbody",bv,[(a(!0),o(B,null,K(l.value.data,(S,g)=>(a(),ue(nv,{key:S.id,user:S,index:g,onEditUser:V,onConfirmUserDeletion:Q,onToggleSelection:z,"select-all":U.selectAll},null,8,["user","index","select-all"]))),128))])):(a(),o("tbody",fv,yv))])]),_:1})])])]),b(u(Re),{data:l.value,onPaginationChangePage:i},null,8,["data"])])]),e("div",gv,[e("div",kv,[e("div",wv,[e("div",xv,[e("h5",Cv,[n.value?(a(),o("span",Sv,"User Menu for "+t(v.value),1)):P("",!0)]),Dv]),b(u(Ie),{ref_key:"form",ref:c,onSubmit:m,"initial-values":d.value},{default:W(()=>[e("div",Mv,[e("table",Vv,[Uv,(a(!0),o(B,null,K(p.value,S=>(a(),o("tr",{key:S.menu_id},[e("td",Av,[e("div",Pv,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":E[1]||(E[1]=g=>_.value=g),value:S.menu_id,id:"menu_id_"+S.menu_id},null,8,Iv),[[Le,_.value]]),e("label",{for:"menu_id_"+S.menu_id,class:"custom-control-label"},t(S.menu_title),9,qv)]),S.submenus&&S.submenus.length>0?(a(),o("table",Tv,[(a(!0),o(B,null,K(S.submenus,g=>(a(),o("tr",{key:g.id},[e("td",Ev,[e("div",Rv,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":E[2]||(E[2]=N=>_.value=N),value:g.menu_id,id:"menu_id_"+g.menu_id},null,8,Lv),[[Le,_.value]]),e("label",{for:"menu_id_"+g.menu_id,class:"custom-control-label"},t(g.menu_title),9,Fv)])])]))),128))])):P("",!0)])]))),128))])]),Nv]),_:1},8,["initial-values"])])])]),e("div",Yv,[e("div",Bv,[e("div",jv,[Ov,e("div",Hv,[zv,e("button",{onClick:E[3]||(E[3]=ae((...S)=>U.deleteUser&&U.deleteUser(...S),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const $t=s=>(ke("data-v-a1892af4"),s=s(),we(),s),Qv=["checked"],Gv=["innerHTML"],Wv={style:{"text-align":"center"}},Kv={class:"text-center"},Xv=$t(()=>e("i",{class:"fa fa-edit"},null,-1)),Zv=[Xv],eb=$t(()=>e("i",{class:"fa fa-trash"},null,-1)),tb=[eb],sb={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(s,{emit:y}){pe(),me();const h=s,l=y,n=()=>{l("toggleSelection",h.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:n},null,40,Qv)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.menu_title),1),e("td",null,t(s.item.parent_title),1),e("td",null,t(s.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${s.item.menu_icon}'></i>`},null,8,Gv),e("td",null,t(s.item.sort_order),1),e("td",Wv,[e("i",{class:A(s.item.is_active===!0?"fas fa-check":"far fa-circle")},null,2)]),e("td",null,t(s.item.created_at),1),e("td",Kv,[e("button",{class:"btn btn-sm bg-primary",onClick:c[0]||(c[0]=ae(v=>d.$emit("editMenu",s.item),["prevent"]))},Zv),q("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:c[1]||(c[1]=ae(v=>d.$emit("confirmDeletion",s.item.menu_id),["prevent"]))},tb)])]))}};var ab=$e(sb,[["__scopeId","data-v-a1892af4"]]);const ob=["type","name","value"],lb=e("span",{class:"check"},null,-1),nb={class:"pl-2"},db={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(s,{emit:y}){const h=s,l=y,n=Me({get:()=>h.modelValue,set:c=>{l("update:modelValue",c)}}),d=Me(()=>h.type==="radio"?"radio":"checkbox");return(c,v)=>(a(),o("label",{class:A([s.type,"mr-6 mb-3 last:mr-0"])},[Z(e("input",{"onUpdate:modelValue":v[0]||(v[0]=p=>n.value=p),type:d.value,name:s.name,value:s.inputValue},null,8,ob),[[rt,n.value]]),lb,e("span",nb,t(s.label),1)],2))}},_t={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(s,{emit:y}){const h=s,l=y,n=Me({get:()=>h.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",{class:A(["flex justify-start flex-wrap -mb-3",{"flex-col":s.isColumn}])},[(a(!0),o(B,null,K(s.options,(v,p)=>(a(),ue(db,{key:p,modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=_=>n.value=_),type:s.type,name:s.name,"input-value":p,label:v,class:A(s.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},ib={class:"content"},cb={class:"container-fluid"},rb={class:"d-flex justify-content-between"},ub={class:"d-flex"},_b=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),mb={key:0},pb=e("i",{class:"fa fa-trash mr-1"},null,-1),hb={class:"ml-2"},vb={class:"card"},bb={class:"card-body"},fb={class:"table-responsive"},$b={class:"table table-bordered table-sm"},yb=e("th",{style:{width:"10px"}},"#",-1),gb=e("th",null,"Title",-1),kb=e("th",null,"Parent Menu",-1),wb=e("th",null,"Route",-1),xb=e("th",null,"Icon",-1),Cb=e("th",null,"Sort",-1),Sb=e("th",null,"Active",-1),Db=e("th",null,"Date",-1),Mb=e("th",null,"Action",-1),Vb={key:0},Ub={key:1},Ab=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Pb=[Ab],Ib={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qb={class:"modal-dialog modal-sm",role:"document"},Tb={class:"modal-content"},Eb={class:"modal-header"},Rb={class:"modal-title",id:"staticBackdropLabel"},Lb={key:0},Fb={key:1},Nb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Yb={class:"modal-body"},Bb={class:"col-md-12"},jb={class:"row"},Ob={class:"col-12"},Hb={class:"form-group"},zb=e("label",{for:"user"},"Menu Title",-1),Jb={class:"invalid-feedback"},Qb={class:"form-group"},Gb=e("label",{for:"department"},"Parent Menu",-1),Wb=e("option",{value:"0"},"None",-1),Kb=["value"],Xb={class:"form-group"},Zb=e("label",{for:"warehouse"},"Icon",-1),e1={class:"invalid-feedback"},t1={class:"form-group"},s1=e("label",{for:"user"},"Route",-1),a1={class:"invalid-feedback"},o1={class:"form-group"},l1=e("label",{for:"user"},"Sort",-1),n1={class:"invalid-feedback"},d1={class:"form-group"},i1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),c1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r1={class:"modal-dialog",role:"document"},u1={class:"modal-content"},_1=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),m1={class:"modal-footer"},p1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),h1={__name:"MenuList",setup(s){const y=`${he().name}`,h=pe(),l=r({data:[]}),n=r({data:[]}),d=r(!1),c=r(!1);r();const v=r(!0),p=Ve({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),_=me();r(null);const i=r(),V=(se=1)=>{d.value=!0,T.get(`/web/menulist?page=${se}`,{params:{query:U.value}}).then(C=>{d.value=!1,l.value=C.data,E.value=[],G.value=!1})},m=()=>{T.get("/web/GetParentId").then(se=>{n.value=se.data}).catch(se=>{console.error(se)})};xe({menu_title:j().required(),parent_id:j().required(),sort_order:j().required(),menu_icon:j().required(),menu_route:j().required()}),xe({menu_title:j().required(),parent_id:j().required(),sort_order:j().required(),menu_icon:j().required(),menu_route:j().required()});const M=({resetForm:se,setErrors:C})=>{T.post("/web/menulist",{menu_title:p.menu_title,parent_id:p.parent_id,menu_icon:p.menu_icon,menu_route:p.menu_route,sort_order:p.sort_order,is_active:p.is_active}).then(H=>{l.value.data.unshift(H.data),$("#FormModal").modal("hide"),se(),h.success("User created successfully!")}).catch(H=>{H.response.data.errors&&C(H.response.data.errors)})},O=()=>{c.value=!1,$("#FormModal").modal("show")},z=se=>{c.value=!0,p.menu_id=se.menu_id,p.menu_title=se.menu_title,p.parent_id=se.parent_id,p.menu_icon=se.menu_icon,p.menu_route=se.menu_route,p.sort_order=se.sort_order,p.is_active===1?v.value=!0:v.value=!1,p.is_active=se.is_active,$("#FormModal").modal("show"),i.value=se.parent_id},F=({setErrors:se})=>{T.post("/web/menulist",p).then(C=>{V(),$("#FormModal").modal("hide"),h.success("successfully Updated!")}).catch(C=>{se(C.response.data.errors),console.log(C)})},Q=(se,C)=>{c.value?F(se):M(se)},U=r(null),E=r([]),Y=se=>{const C=E.value.indexOf(se.id);C===-1?E.value.push(se.id):E.value.splice(C,1),console.log(E.value)},S=r(null),g=se=>{S.value=se,$("#deleteClientModal").modal("show")},N=()=>{T.delete(`/web/menu/${S.value}`).then(()=>{$("#deleteClientModal").modal("hide"),h.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(se=>se.menu_id!==S.value)})},I=()=>{T.delete("menulist",{data:{ids:E.value}}).then(se=>{l.value.data=l.value.data.filter(C=>!E.value.includes(C.id)),E.value=[],G.value=!1,h.success(se.data.message)})},G=r(!1),ce=()=>{G.value?E.value=l.value.data.map(se=>se.id):E.value=[],console.log(E.value)};return fe([v],se=>{p.is_active=se?1:0}),fe(U,Ae.exports.debounce(()=>{V()},300)),ve(()=>{V(),m(),document.title=`SLI-DTS - ${y}`}),(se,C)=>{const H=ye("font");return a(),o(B,null,[e("div",ib,[e("div",cb,[e("div",rb,[e("div",ub,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary"},[_b,q(" Menu ")]),E.value.length>0?(a(),o("div",mb,[e("button",{onClick:I,type:"button",class:"ml-2 mb-2 btn btn-danger"},[pb,q(" Delete Selected ")]),e("span",hb,"Selected "+t(E.value.length)+" Menu",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=D=>U.value=D),class:"form-control",placeholder:"Search..."},null,512),[[re,U.value]])])]),e("div",vb,[e("div",bb,[d.value?(a(),ue(Te,{key:0})):P("",!0),e("div",fb,[b(H,{size:"2"},{default:W(()=>[e("table",$b,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":C[1]||(C[1]=D=>G.value=D),onChange:ce},null,544),[[Le,G.value]])]),yb,gb,kb,wb,xb,Cb,Sb,Db,Mb])]),l.value.data.length>0?(a(),o("tbody",Vb,[(a(!0),o(B,null,K(l.value.data,(D,f)=>(a(),ue(ab,{key:D.id,item:D,index:f,onEditMenu:z,onConfirmDeletion:g,onToggleSelection:Y,"select-all":G.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Ub,Pb))])]),_:1})])])]),b(u(Re),{data:l.value,onPaginationChangePage:V},null,8,["data"])])]),e("div",Ib,[e("div",qb,[e("div",Tb,[e("div",Eb,[e("h5",Rb,[c.value?(a(),o("span",Lb,"Edit Menu")):(a(),o("span",Fb,"Add Menu"))]),Nb]),b(u(Ie),{onSubmit:Q},{default:W(({errors:D})=>[e("div",Yb,[e("div",Bb,[e("div",jb,[e("div",Ob,[b(u(J),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(_).user.id,"onUpdate:modelValue":C[2]||(C[2]=f=>u(_).user.id=f)},null,8,["modelValue"]),e("div",Hb,[zb,b(u(J),{name:"menu_title",type:"text",class:A(["form-control",{"is-invalid":D.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:p.menu_title,"onUpdate:modelValue":C[3]||(C[3]=f=>p.menu_title=f)},null,8,["class","modelValue"]),e("span",Jb,t(D.menu_title),1)]),e("div",Qb,[Gb,Z(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":C[4]||(C[4]=f=>p.parent_id=f)},[Wb,(a(!0),o(B,null,K(n.value,f=>(a(),o("option",{key:f.menu_id,value:f.menu_id},t(f.menu_title),9,Kb))),128))],512),[[Ye,p.parent_id]])]),e("div",Xb,[Zb,b(u(J),{name:"menu_icon",type:"text",class:A(["form-control",{"is-invalid":D.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:p.menu_icon,"onUpdate:modelValue":C[5]||(C[5]=f=>p.menu_icon=f)},null,8,["class","modelValue"]),e("span",e1,t(D.menu_icon),1)]),e("div",t1,[s1,b(u(J),{name:"menu_route",type:"text",class:A(["form-control",{"is-invalid":D.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:p.menu_route,"onUpdate:modelValue":C[6]||(C[6]=f=>p.menu_route=f)},null,8,["class","modelValue"]),e("span",a1,t(D.menu_route),1)]),e("div",o1,[l1,b(u(J),{name:"sort_order",type:"text",class:A(["form-control",{"is-invalid":D.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:p.sort_order,"onUpdate:modelValue":C[7]||(C[7]=f=>p.sort_order=f)},null,8,["class","modelValue"]),e("span",n1,t(D.sort_order),1)]),e("div",d1,[b(_t,{modelValue:p.is_active,"onUpdate:modelValue":C[8]||(C[8]=f=>p.is_active=f),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),i1]),_:1})])])]),e("div",c1,[e("div",r1,[e("div",u1,[_1,e("div",m1,[p1,e("button",{onClick:ae(N,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}},v1={class:"error-page"},b1=De('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),f1=[b1],$1="Page Not Found",yt={__name:"404",setup(s){return ve(()=>{document.title=$1}),(y,h)=>(a(),o("div",v1,f1))}};const be=s=>(ke("data-v-5c8db172"),s=s(),we(),s),y1={id:"exportPDF"},g1={class:"container"},k1=be(()=>e("br",null,null,-1)),w1={class:"header"},x1=["src"],C1=["src"],S1={class:"header"},D1={class:"header-justify-space-between"},M1=be(()=>e("br",null,null,-1)),V1=be(()=>e("p",null,null,-1)),U1={key:0},A1=be(()=>e("strong",null,null,-1)),P1=be(()=>e("br",null,null,-1)),I1=be(()=>e("br",null,null,-1)),q1=be(()=>e("p",null,null,-1)),T1=be(()=>e("strong",null,"Unit details",-1)),E1={class:"content"},R1={class:"header-justify-space-between"},L1=be(()=>e("span",null,"Brand:",-1)),F1=be(()=>e("br",null,null,-1)),N1=be(()=>e("span",null,"Model:",-1)),Y1=be(()=>e("br",null,null,-1)),B1=be(()=>e("div",null,null,-1)),j1=be(()=>e("span",null,"Serial #:",-1)),O1=be(()=>e("br",null,null,-1)),H1=be(()=>e("span",null,"Asset Tag:",-1)),z1=be(()=>e("br",null,null,-1)),J1=be(()=>e("div",null,null,-1)),Q1=be(()=>e("strong",null,"Reported problem",-1)),G1={class:"content"},W1=be(()=>e("strong",null,"Assessment conducted",-1)),K1={class:"content"},X1=be(()=>e("strong",null,"Recommendation",-1)),Z1={class:"content"},ef={class:"header-justify-space-between"},tf=be(()=>e("strong",null,"Evaluated by:",-1)),sf=be(()=>e("br",null,null,-1)),af={class:"botoom-line"},of=be(()=>e("br",null,null,-1)),lf=be(()=>e("p",null,null,-1)),nf=be(()=>e("strong",null,"Noted by:",-1)),df=be(()=>e("br",null,null,-1)),cf={class:"botoom-line"},rf=be(()=>e("br",null,null,-1)),uf=be(()=>e("br",null,null,-1)),_f=be(()=>e("p",null,null,-1)),mf={key:0},pf={key:1},hf={key:0,class:"fab-container"},vf=be(()=>e("i",{class:"fas fa-download"},null,-1)),bf=[vf],ff={__name:"TechRecommApproved",setup(s){const y=`${he().params.id}`,h=()=>{const d=document.getElementById("exportPDF");Ke().from(d).save(`${y}.pdf`)},l=Ve({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),n=()=>{T.get(`/api/tech-recommendations/${he().params.id}`).then(d=>{l.id=d.data.id,l.recommnum=d.data.recommnum,l.branch=d.data.branch,l.company=d.data.company,l.department=d.data.department,l.warehouse=d.data.warehouse,l.user=d.data.user,l.problem=d.data.problem,l.brand=d.data.brand,l.model=d.data.model,l.assettag=d.data.assettag,l.serialnum=d.data.serialnum,l.status=d.data.status,l.assconducted=d.data.assconducted,l.recommendation=d.data.recommendation,l.createdby=d.data.createdby.cfull_name,l.updatedby=d.data.updatedby.ufull_name,l.created_at=ie(d.data.created_at).format("MMMM D, YYYY"),l.updated_at=ie(d.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=d.data.createdby.cposition,l.updated_position=d.data.updatedby.uposition}).catch(d=>{actions.setErrors(d.response.data.errors)})};return ve(()=>{n(),document.title=y}),(d,c)=>(a(),o(B,null,[e("div",y1,[e("div",g1,[k1,e("div",w1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,x1),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,C1)]),e("div",S1,[e("span",null,[q("Recommendation No: "),e("strong",null,t(l.recommnum),1)]),e("span",null,[q("Date Checked: "),e("strong",null,t(l.created_at),1)])]),e("div",D1,[e("div",null,[e("span",null,[q("Company: "),e("strong",null,t(l.company),1)]),M1,e("span",null,[q("Branch: "),e("strong",null,t(l.branch),1)])]),V1,e("div",null,[l.warehouse==""?(a(),o("span",U1,[q("Warehouse: "),A1,q(t(l.warehouse),1)])):P("",!0),P1,e("span",null,[q("User: "),e("strong",null,t(l.user),1)]),I1,e("span",null,[q("Department: "),e("strong",null,t(l.department),1)])]),q1]),T1,e("div",E1,[e("div",R1,[e("div",null,[L1,e("strong",null,t(l.brand),1),F1,N1,e("strong",null,t(l.model),1),Y1]),B1,e("div",null,[j1,e("strong",null,t(l.serialnum),1),O1,H1,e("strong",null,t(l.assettag),1),z1]),J1])]),Q1,e("div",G1,[e("p",null,t(l.problem),1)]),W1,e("div",K1,[e("p",null,t(l.assconducted),1)]),X1,e("div",Z1,[e("p",null,t(l.recommendation),1)]),e("div",ef,[e("div",null,[tf,sf,e("span",af,t(l.createdby),1),of,e("span",null,t(l.created_position),1)]),lf,e("div",null,[nf,df,e("span",cf,t(l.updatedby),1),rf,e("span",null,t(l.updated_position),1),uf]),_f]),l.status===2?(a(),o("span",mf,"Approved date:("+t(l.updated_at)+")",1)):(a(),o("span",pf,"Pending"))])]),l.status===2?(a(),o("div",hf,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=v=>h())},bf)])):P("",!0)],64))}};var gt=$e(ff,[["__scopeId","data-v-5c8db172"]]);const $f={},yf={class:"card mx-auto",style:{"max-width":"600px"}},gf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),kf={class:"card-body"},wf={class:"list-unstyled"};function xf(s,y){return a(),o("div",yf,[gf,e("div",kf,[e("ul",wf,[e("li",{class:"nav-item dropdown",onClick:y[0]||(y[0]=(...h)=>s.fetchNotifications&&s.fetchNotifications(...h))})])])])}var Cf=$e($f,[["render",xf]]);const Sf=["checked"],Df={class:"text-center"},Mf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(s,{emit:y}){pe(),me();const h=s,l=y,n=()=>{l("toggleSelection",h.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:n},null,40,Sf)]),e("td",null,t(s.index+1),1),e("td",{onClick:c[0]||(c[0]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.site_name),1),e("td",{onClick:c[1]||(c[1]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_name),1),e("td",{onClick:c[2]||(c[2]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_type),1),e("td",{onClick:c[3]||(c[3]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.serial),1),e("td",{onClick:c[4]||(c[4]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.date_acquired),1),e("td",{onClick:c[5]||(c[5]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.man_supplier),1),e("td",{onClick:c[6]||(c[6]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.unit),1),e("td",{onClick:c[7]||(c[7]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[8]||(c[8]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[9]||(c[9]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.created_by),1),e("td",{onClick:c[10]||(c[10]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.created_at),1),e("td",{onClick:c[11]||(c[11]=ae(v=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.updated_by),1),e("td",Df,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:c[12]||(c[12]=ae(v=>d.$emit("editData",s.item),["prevent"]))}),q(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:c[13]||(c[13]=ae(v=>d.$emit("confirmDeletion",s.item.id),["prevent"]))})])])]))}};var Vf=$e(Mf,[["__scopeId","data-v-78d9436c"]]);const Uf={class:"content"},Af={class:"container-fluid"},Pf={class:"d-flex justify-content-between"},If={class:"d-flex"},qf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Tf={key:0},Ef=e("i",{class:"fa fa-print mr-1"},null,-1),Rf={class:"ml-2"},Lf={class:"card"},Ff={class:"card-body"},Nf={class:"table-responsive"},Yf={class:"table table-bordered table-sm table-striped hover"},Bf=e("th",{style:{width:"10px"}},"#",-1),jf=e("th",null,"Site",-1),Of=e("th",null,"Asset",-1),Hf=e("th",null,"Asset type",-1),zf=e("th",null,"Serial",-1),Jf=e("th",null,"Date Aquired",-1),Qf=e("th",null,"Supplier",-1),Gf=e("th",null,"Unit",-1),Wf=e("th",null,"Purchase Cost",-1),Kf=e("th",null,"Unit Value",-1),Xf=e("th",null,"Createdby",-1),Zf=e("th",null,"CreatedAt",-1),e$=e("th",null,"Updatedby",-1),t$=e("th",null,"Action",-1),s$={key:0},a$={key:1},o$=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),l$=[o$],n$={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},d$={class:"modal-dialog modal-lg",role:"document"},i$={class:"modal-content"},c$={class:"modal-header"},r$={class:"modal-title",id:"staticBackdropLabel"},u$={key:0},_$={key:1},m$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),p$={class:"modal-body"},h$={class:"col-md-12"},v$={class:"row"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"branch"},"Site",-1),y$=e("option",{value:"",disabled:""}," Select Site ",-1),g$=["value"],k$={class:"invalid-feedback"},w$={class:"form-group"},x$=e("label",{for:"asset_type"},"Category",-1),C$=e("option",{value:"",disabled:""}," Select Category ",-1),S$=["value"],D$={class:"invalid-feedback"},M$={class:"form-group"},V$=e("label",{for:"serial"},"Serial #:",-1),U$={class:"invalid-feedback"},A$={class:"col-6"},P$={class:"form-group"},I$=e("label",{for:"date_acquired"},"Date Acquired",-1),q$={class:"invalid-feedback"},T$={class:"form-group"},E$=e("label",{for:"man_supplier"},"Brand",-1),R$=e("option",{value:"",disabled:""}," Select Brand ",-1),L$=["value"],F$={class:"invalid-feedback"},N$={class:"form-group"},Y$=e("label",{for:"unit"},"Unit",-1),B$={class:"invalid-feedback"},j$={class:"row"},O$={class:"col-6"},H$={class:"form-group"},z$=e("label",{for:"paccountable"},"Person Accountable",-1),J$={class:"invalid-feedback"},Q$={class:"col-6"},G$={class:"form-group"},W$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),K$={class:"invalid-feedback"},X$={class:"row"},Z$={class:"col-6"},ey={class:"form-group"},ty=e("label",{for:"cucodition"},"Current Condition",-1),sy=e("option",{value:"",disabled:""}," Select Condition ",-1),ay=e("option",{value:"Fair"}," FAIR ",-1),oy=e("option",{value:"Good"}," GOOD ",-1),ly=e("option",{value:"Damange"}," DAMANGE ",-1),ny={class:"invalid-feedback"},dy={class:"form-group"},iy=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),cy={class:"col-6"},ry={class:"form-group"},uy=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),_y={class:"form-group"},my=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),py={class:"row"},hy={class:"col-6"},vy={class:"form-group"},by=e("label",{for:"operationhours"},"Operating Hours",-1),fy={class:"col-6"},$y={class:"form-group"},yy=e("label",{for:"notes"},"Notes",-1),gy={class:"invalid-feedback"},ky={class:"row"},wy={class:"col-6"},xy={class:"form-group"},Cy=e("label",{for:"purchasecost"},"Purchase Cost",-1),Sy={class:"input-group mb-3"},Dy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),My={class:"form-group"},Vy=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),Uy={class:"input-group mb-3"},Ay=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),Py={class:"col-6"},Iy={class:"form-group"},qy=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),Ty={class:"invalid-feedback"},Ey=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Ry={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ly={class:"modal-dialog",role:"document"},Fy={class:"modal-content"},Ny=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Yy={class:"modal-footer"},By=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),jy={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Oy={class:"modal-dialog",role:"document"},Hy={class:"modal-content"},zy=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Jy={class:"modal-body"},Qy={class:"table table-striped table-sm table-hover"},Gy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Wy=e("td",null,"Site",-1),Ky=e("td",null,"Assit Name",-1),Xy=e("td",null,"Assit Type",-1),Zy=e("td",null,"Serial No.",-1),eg=e("td",null,"Date Acquired",-1),tg=e("td",null,"Brand",-1),sg=e("td",null,"Unit",-1),ag=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),og=e("td",null,"Personal Accountable",-1),lg=e("td",null,"Transfer Location",-1),ng=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),dg=e("td",null,"Current Condition",-1),ig=e("td",null,"Maintenance Note",-1),cg=e("td",null,"Last Maintenance",-1),rg=e("td",null,"Next Maintenance",-1),ug=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),_g=e("td",null,"Operation Hours",-1),mg=e("td",null,"Notes",-1),pg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),hg=e("td",null,"Purchase Cost",-1),vg=e("td",null,"Unit Value",-1),bg=e("td",null,"Warranty information",-1),fg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),$g={__name:"AssetmList",setup(s){he(),Be(),me();const y=`${he().name}`,h=pe(),l=r({data:[]}),n=r({data:[]});r({data:[]});const d=r(!1),c=r(!1),v=r(),p=r(),_=r(!0),i=Ve({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});r(null),r();const V=r(),m=(k=1)=>{d.value=!0,T.get(`/web/asset-monitoring?page=${k}`,{params:{query:g.value}}).then(R=>{d.value=!1,l.value=R.data,N.value=[],H.value=!1})},M=xe({menu_title:j().required(),parent_id:j().required(),sort_order:j().required(),menu_icon:j().required(),menu_route:j().required()}),O=xe({menu_title:j().required(),parent_id:j().required(),sort_order:j().required(),menu_icon:j().required(),menu_route:j().required()}),z=()=>{T.post("/web/asset-monitoring",i).then(k=>{$("#FormModal").modal("hide"),m(),h.success(k.data.message)}).catch(k=>{h.error(k.data.message)})},F=()=>{c.value=!1,$("#FormModal").modal("show")},Q=k=>{i.site_name=k.site_name,i.id=k.id,i.site_id=k.site_id,i.asset_name=k.asset_name,i.asset_type=k.asset_type,i.serial=k.serial,i.date_acquired=k.date_acquired,i.man_supplier=k.man_supplier,i.unit=k.unit,i.location=k.location,i.paccountable=k.paccountable,i.locationchangetranfer=k.locationchangetranfer,i.cucodition=k.cucodition,i.purchasecost=k.purchasecost,i.maintenancenotes=k.maintenancenotes,i.ceated_by=k.ceated_by,i.updated_by=k.updated_by,i.Depreciationcostbyyear=k.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},U=k=>{c.value=!0,i.id=k.id,i.site_id=k.site_id,i.asset_name=k.asset_name,i.asset_type=k.asset_type,i.serial=k.serial,i.date_acquired=k.date_acquired,i.man_supplier=k.man_supplier,i.unit=k.unit,i.location=k.location,i.paccountable=k.paccountable,i.locationchangetranfer=k.locationchangetranfer,i.cucodition=k.cucodition,i.purchasecost=k.purchasecost,i.depreciationcost=k.depreciationcost,i.maintenancenotes=k.maintenancenotes,i.ceated_by=k.ceated_by,i.updated_by=k.updated_by,$("#FormModal").modal("show")},E=({setErrors:k})=>{T.post("/web/asset-monitoring",i).then(R=>{m(),$("#FormModal").modal("hide"),h.success("Data successfully Updated!")}).catch(R=>{k(R.response.data.errors),console.log(R)})},Y=(k,R)=>{c.value?E(k):z()},S=()=>{T.get("/web/getsite").then(k=>{V.value=k.data.sites}).catch(k=>{console.log(k)})},g=r(null),N=r([]),I=k=>{const R=N.value.indexOf(k.id);R===-1?N.value.push(k.id):N.value.splice(R,1),console.log(N.value)},G=r(null),ce=k=>{G.value=k,$("#deleteClientModal").modal("show")},se=()=>{T.delete(`/web/asset-monitoring/${G.value}`).then(k=>{$("#deleteClientModal").modal("hide"),h.success(k.data.message),m()})},C=()=>{const k=N.value.join(",");sessionStorage.setItem("selectedItems",k);const R="/asset-monitoring/bulkPrint/print";window.open(R,"_blank")},H=r(!1),D=()=>{H.value?N.value=l.value.data.map(k=>k.id):N.value=[],console.log(N.value)},f=()=>{T.get("/web/asset-getcategory").then(k=>{p.value=k.data}).catch(k=>{console.log(k)})},le=k=>{T.get(`/web/asset-getitem/${k}`).then(R=>{n.value=R.data}).catch(R=>{console.error(R)})},oe=()=>{const k=i.asset_type;k?le(k):console.error("No category ID selected.")};return fe([_],k=>{i.is_active=k?1:0}),fe(g,Ae.exports.debounce(()=>{m()},300)),ve(()=>{m(),S(),f(),document.title=`ESSWMS - ${y}`}),(k,R)=>{const je=ye("font"),Fe=ye("tab-content"),Je=ye("form-wizard");return a(),o(B,null,[e("div",Uf,[e("div",Af,[e("div",Pf,[e("div",If,[e("button",{onClick:F,type:"button",class:"mb-2 btn btn-primary"},[qf,q(" Asset ")]),N.value.length>0?(a(),o("div",Tf,[e("button",{onClick:C,type:"button",class:"ml-2 mb-2 btn btn-primary"},[Ef,q(" Print Selected ")]),e("span",Rf,"Selected "+t(N.value.length)+" Record",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":R[0]||(R[0]=ne=>g.value=ne),class:"form-control",placeholder:"Search..."},null,512),[[re,g.value]])])]),e("div",Lf,[e("div",Ff,[d.value?(a(),ue(Te,{key:0})):P("",!0),e("div",Nf,[b(je,{size:"2"},{default:W(()=>[e("table",Yf,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":R[1]||(R[1]=ne=>H.value=ne),onChange:D},null,544),[[Le,H.value]])]),Bf,jf,Of,Hf,zf,Jf,Qf,Gf,Wf,Kf,Xf,Zf,e$,t$])]),l.value.data.length>0?(a(),o("tbody",s$,[(a(!0),o(B,null,K(l.value.data,(ne,te)=>(a(),ue(Vf,{key:ne.id,item:ne,index:te,onViewData:Q,onEditData:U,onConfirmDeletion:ce,onToggleSelection:I,"select-all":H.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",a$,l$))])]),_:1})])])]),b(u(Re),{data:l.value,onPaginationChangePage:m},null,8,["data"])])]),e("div",n$,[e("div",d$,[e("div",i$,[e("div",c$,[e("h5",r$,[c.value?(a(),o("span",u$,"Edit Asset")):(a(),o("span",_$,"Add Asset"))]),m$]),b(u(Ie),{onSubmit:Y,"validation-schema":c.value?u(O):u(M),"initial-values":v.value},{default:W(({errors:ne})=>[e("div",p$,[e("div",h$,[b(Je,{onOnComplete:z,color:"#094899","step-size":"xs"},{default:W(()=>[b(Fe,{title:"Asset Information",icon:"fas fa-book"},{default:W(()=>[e("div",v$,[e("div",b$,[e("div",f$,[$$,b(u(J),{as:"select",name:"branch",class:A(["form-control",{"is-invalid":ne.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:i.site_id,"onUpdate:modelValue":R[2]||(R[2]=te=>i.site_id=te)},{default:W(()=>[y$,(a(!0),o(B,null,K(V.value,te=>(a(),o("option",{key:te.id,value:te.id},t(te.name),9,g$))),128))]),_:2},1032,["class","modelValue"]),e("span",k$,t(ne.branch),1)]),e("div",w$,[x$,b(u(J),{as:"select",name:"asset_type",class:A(["form-control",{"is-invalid":ne.asset_type}]),id:"asset_type","aria-describedby":"branchHelp",modelValue:i.asset_type,"onUpdate:modelValue":R[3]||(R[3]=te=>i.asset_type=te),onChange:R[4]||(R[4]=te=>oe())},{default:W(()=>[C$,(a(!0),o(B,null,K(p.value,te=>(a(),o("option",{key:te.id,value:te.name},t(te.name),9,S$))),128))]),_:2},1032,["class","modelValue"]),e("span",D$,t(ne.category_id),1)]),e("div",M$,[V$,b(u(J),{name:"serial",type:"text",class:A(["form-control",{"is-invalid":ne.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:i.serial,"onUpdate:modelValue":R[5]||(R[5]=te=>i.serial=te)},null,8,["class","modelValue"]),e("span",U$,t(ne.serial),1)])]),e("div",A$,[e("div",P$,[I$,b(u(J),{name:"date_acquired",type:"date",class:A(["form-control",{"is-invalid":ne.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:i.date_acquired,"onUpdate:modelValue":R[6]||(R[6]=te=>i.date_acquired=te)},null,8,["class","modelValue"]),e("span",q$,t(ne.date_acquired),1)]),e("div",T$,[E$,b(u(J),{as:"select",name:"man_supplier",class:A(["form-control",{"is-invalid":ne.man_supplier}]),id:"man_supplier","aria-describedby":"branchHelp",modelValue:i.man_supplier,"onUpdate:modelValue":R[7]||(R[7]=te=>i.man_supplier=te)},{default:W(()=>[R$,(a(!0),o(B,null,K(n.value,te=>(a(),o("option",{key:te.id,value:te.name},t(te.name),9,L$))),128))]),_:2},1032,["class","modelValue"]),e("span",F$,t(ne.man_supplier),1)]),e("div",N$,[Y$,b(u(J),{name:"unit",type:"number",class:A(["form-control",{"is-invalid":ne.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:i.unit,"onUpdate:modelValue":R[8]||(R[8]=te=>i.unit=te)},null,8,["class","modelValue"]),e("span",B$,t(ne.unit),1)])])])]),_:2},1024),b(Fe,{title:"Asset Allocation",icon:"fa fa-map"},{default:W(()=>[e("div",j$,[e("div",O$,[e("div",H$,[z$,b(u(J),{name:"paccountable",type:"text",class:A(["form-control",{"is-invalid":ne.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:i.paccountable,"onUpdate:modelValue":R[9]||(R[9]=te=>i.paccountable=te)},null,8,["class","modelValue"]),e("span",J$,t(ne.paccountable),1)])]),e("div",Q$,[e("div",G$,[W$,b(u(J),{name:"locationchangetranfer",type:"text",class:A(["form-control",{"is-invalid":ne.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:i.locationchangetranfer,"onUpdate:modelValue":R[10]||(R[10]=te=>i.locationchangetranfer=te)},null,8,["class","modelValue"]),e("span",K$,t(ne.locationchangetranfer),1)])])])]),_:2},1024),b(Fe,{title:"Asset Condition"},{default:W(()=>[e("div",X$,[e("div",Z$,[e("div",ey,[ty,b(u(J),{as:"select",name:"cucodition",class:A(["form-control",{"is-invalid":ne.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:i.cucodition,"onUpdate:modelValue":R[11]||(R[11]=te=>i.cucodition=te)},{default:W(()=>[sy,ay,oy,ly]),_:2},1032,["class","modelValue"]),e("span",ny,t(ne.cucodition),1)]),e("div",dy,[iy,b(u(J),{name:"maintenancenotes",as:"textarea",class:A(["form-control",{"is-invalid":ne.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:i.maintenancenotes,"onUpdate:modelValue":R[12]||(R[12]=te=>i.maintenancenotes=te)},null,8,["class","modelValue"])])]),e("div",cy,[e("div",ry,[uy,b(u(J),{name:"lastmaintenance",type:"date",class:A(["form-control",{"is-invalid":ne.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:i.lastmaintenance,"onUpdate:modelValue":R[13]||(R[13]=te=>i.lastmaintenance=te)},null,8,["class","modelValue"])]),e("div",_y,[my,b(u(J),{name:"nextmaintenance",type:"date",class:A(["form-control",{"is-invalid":ne.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:i.nextmaintenance,"onUpdate:modelValue":R[14]||(R[14]=te=>i.nextmaintenance=te)},null,8,["class","modelValue"])])])])]),_:2},1024),b(Fe,{title:"Utilization & Ussage"},{default:W(()=>[e("div",py,[e("div",hy,[e("div",vy,[by,b(u(J),{name:"operationhours",type:"number",class:A(["form-control",{"is-invalid":ne.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:i.operationhours,"onUpdate:modelValue":R[15]||(R[15]=te=>i.operationhours=te)},null,8,["class","modelValue"])])]),e("div",fy,[e("div",$y,[yy,b(u(J),{name:"notes",as:"textarea",class:A(["form-control",{"is-invalid":ne.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:i.notes,"onUpdate:modelValue":R[16]||(R[16]=te=>i.notes=te)},null,8,["class","modelValue"]),e("span",gy,t(ne.notes),1)])])])]),_:2},1024),b(Fe,{title:"Financial Information",icon:"fas fa-receipt"},{default:W(()=>[e("div",ky,[e("div",wy,[e("div",xy,[Cy,e("div",Sy,[Dy,b(u(J),{name:"purchasecost",type:"text",class:A(["form-control",{"is-invalid":ne.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:i.purchasecost,"onUpdate:modelValue":R[17]||(R[17]=te=>i.purchasecost=te)},null,8,["class","modelValue"])])]),e("div",My,[Vy,e("div",Uy,[Ay,b(u(J),{name:"depreciationcost",type:"text",class:A(["form-control",{"is-invalid":ne.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:i.depreciationcost,"onUpdate:modelValue":R[18]||(R[18]=te=>i.depreciationcost=te)},null,8,["class","modelValue"])])])]),e("div",Py,[e("div",Iy,[qy,b(u(J),{name:"insurancewarrantyinfo",as:"textarea",class:A(["form-control",{"is-invalid":ne.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:i.insurancewarrantyinfo,"onUpdate:modelValue":R[19]||(R[19]=te=>i.insurancewarrantyinfo=te)},null,8,["class","modelValue"]),e("span",Ty,t(ne.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Ey]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ry,[e("div",Ly,[e("div",Fy,[Ny,e("div",Yy,[By,e("button",{onClick:ae(se,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",jy,[e("div",Oy,[e("div",Hy,[zy,e("div",Jy,[e("table",Qy,[e("tbody",null,[Gy,e("tr",null,[Wy,e("td",null,t(i.site_name),1)]),e("tr",null,[Ky,e("td",null,t(i.asset_name),1)]),e("tr",null,[Xy,e("td",null,t(i.asset_type),1)]),e("tr",null,[Zy,e("td",null,t(i.serial),1)]),e("tr",null,[eg,e("td",null,t(i.date_acquired),1)]),e("tr",null,[tg,e("td",null,t(i.man_supplier),1)]),e("tr",null,[sg,e("td",null,t(i.unit),1)]),ag,e("tr",null,[og,e("td",null,t(i.paccountable),1)]),e("tr",null,[lg,e("td",null,t(i.locationchangetranfer),1)]),ng,e("tr",null,[dg,e("td",null,t(i.cucodition),1)]),e("tr",null,[ig,e("td",null,t(i.maintenancenotes),1)]),e("tr",null,[cg,e("td",null,t(i.lastmaintenance),1)]),e("tr",null,[rg,e("td",null,t(i.nextmaintenance),1)]),ug,e("tr",null,[_g,e("td",null,t(i.operationhours),1)]),e("tr",null,[mg,e("td",null,t(i.notes),1)]),pg,e("tr",null,[hg,e("td",null,t("\u20B1"+i.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[vg,e("td",null,t("\u20B1"+i.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[bg,e("td",null,t(i.insurancewarrantyinfo),1)])])])]),fg])])])],64)}}};const yg=["checked"],gg={style:{"text-align":"center"}},kg={class:"text-center"},wg={__name:"CategoryList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(s,{emit:y}){pe(),me();const h=s,l=y,n=()=>{l("toggleSelection",h.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:n},null,40,yg)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.name),1),e("td",null,t(s.item.categorycode),1),e("td",null,t(s.item.description),1),e("td",gg,[e("i",{class:A(s.item.status===!0?"fas fa-check":"far fa-circle")},null,2)]),e("td",null,t(s.item.created_by),1),e("td",null,t(s.item.created_at),1),e("td",null,t(s.item.updated_by),1),e("td",kg,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:c[0]||(c[0]=ae(v=>d.$emit("editData",s.item),["prevent"]))}),q(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:c[1]||(c[1]=ae(v=>d.$emit("confirmDeletion",s.item.id),["prevent"]))})])])]))}};var xg=$e(wg,[["__scopeId","data-v-9b5e3190"]]);const Cg={class:"content"},Sg={class:"container-fluid"},Dg={class:"d-flex justify-content-between"},Mg={class:"d-flex"},Vg=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Ug={key:0},Ag=e("i",{class:"fa fa-print mr-1"},null,-1),Pg={class:"ml-2"},Ig={class:"card"},qg={class:"card-body"},Tg={class:"table-responsive"},Eg={class:"table table-bordered table-sm table-striped hover"},Rg=e("th",{style:{width:"10px"}},"#",-1),Lg=e("th",null,"Name",-1),Fg=e("th",null,"Code",-1),Ng=e("th",null,"Description",-1),Yg=e("th",null,"Status",-1),Bg=e("th",null,"Createdby",-1),jg=e("th",null,"CreatedAt",-1),Og=e("th",null,"Updatedby",-1),Hg=e("th",null,"Action",-1),zg={key:0},Jg={key:1},Qg=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Gg=[Qg],Wg={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Kg={class:"modal-dialog modal-lg",role:"document"},Xg={class:"modal-content"},Zg={class:"modal-header"},e2={class:"modal-title",id:"staticBackdropLabel"},t2={key:0},s2={key:1},a2=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),o2={class:"modal-body"},l2={class:"col-md-12"},n2={class:"row"},d2={class:"col-12"},i2={class:"form-group"},c2=e("label",{for:"user"},"Category Name",-1),r2={class:"invalid-feedback"},u2={class:"form-group"},_2=e("label",{for:"user"},"Category Code",-1),m2={class:"invalid-feedback"},p2={class:"form-group"},h2=e("label",{for:"user"},"Description",-1),v2={class:"invalid-feedback"},b2={class:"form-group"},f2=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),$2={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},y2={class:"modal-dialog",role:"document"},g2={class:"modal-content"},k2=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),w2={class:"modal-footer"},x2=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),C2={__name:"asset-category",setup(s){he(),Be();const y=me(),h=`${he().name}`,l=pe(),n=r({data:[]});r({data:[]});const d=r(!1),c=r(!1),v=r(),p=r(!0),_=Ve({id:"",name:"",categorycode:"",description:"",status:""});r(null),r(),r();const i=(C=1)=>{d.value=!0,T.get(`/web/asset-category/?page=${C}`,{params:{query:E.value}}).then(H=>{d.value=!1,n.value=H.data,Y.value=[],ce.value=!1})},V=xe({name:j().required(),categorycode:j().required(),description:j().required()}),m=xe({name:j().required(),categorycode:j().required(),description:j().required()}),M=()=>{T.post("/web/asset-category/",_).then(C=>{$("#FormModal").modal("hide"),i(),l.success(C.data.message)}).catch(C=>{l.error(C.data.message)})},O=()=>{c.value=!1,$("#FormModal").modal("show")},z=C=>{_.id=C.id,_.name=C.name,_.categorycode=C.categorycode,_.description=C.description,_.ceated_by=C.ceated_by,_.updated_by=C.updated_by,_.status=C.status,$("#ViewRecodeModal").modal("show")},F=C=>{c.value=!0,_.id=C.id,_.name=C.name,_.categorycode=C.categorycode,_.description=C.description,_.status=C.status,_.ceated_by=C.ceated_by,_.updated_by=C.updated_by,$("#FormModal").modal("show")},Q=({setErrors:C})=>{T.post("/web/asset-category/",_).then(H=>{i(),$("#FormModal").modal("hide"),l.success("Data successfully Updated!")}).catch(H=>{C(H.response.data.errors),console.log(H)})},U=(C,H)=>{c.value?Q(C):M()},E=r(null),Y=r([]),S=C=>{const H=Y.value.indexOf(C.id);H===-1?Y.value.push(C.id):Y.value.splice(H,1),console.log(Y.value)},g=r(null),N=C=>{g.value=C,$("#deleteClientModal").modal("show")},I=()=>{T.delete(`/web/asset-category/${g.value}`).then(C=>{data.message==="This item is in use. Delete canceled."?l.error("This item is in use. Delete canceled."):data.message==="Data successfully deleted"?($("#deleteClientModal").modal("hide"),l.success(C.data.message),i()):l.error("Data not found")})},G=()=>{window.print()},ce=r(!1),se=()=>{ce.value?Y.value=n.value.data.map(C=>C.id):Y.value=[],console.log(Y.value)};return fe([p],C=>{_.is_active=C?1:0}),fe(E,Ae.exports.debounce(()=>{},300)),ve(()=>{i(),document.title=`ESSWMS - ${h}`}),(C,H)=>{const D=ye("font");return a(),o(B,null,[e("div",Cg,[e("div",Sg,[e("div",Dg,[e("div",Mg,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary"},[Vg,q(" Asset Category ")]),Y.value.length>0?(a(),o("div",Ug,[e("button",{onClick:G,type:"button",class:"ml-2 mb-2 btn btn-primary"},[Ag,q(" Print Selected ")]),e("span",Pg,"Selected "+t(Y.value.length)+" Record",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=f=>E.value=f),class:"form-control",placeholder:"Search..."},null,512),[[re,E.value]])])]),e("div",Ig,[e("div",qg,[d.value?(a(),ue(Te,{key:0})):P("",!0),e("div",Tg,[b(D,{size:"2"},{default:W(()=>[e("table",Eg,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":H[1]||(H[1]=f=>ce.value=f),onChange:se},null,544),[[Le,ce.value]])]),Rg,Lg,Fg,Ng,Yg,Bg,jg,Og,Hg])]),n.value.data.length>0?(a(),o("tbody",zg,[(a(!0),o(B,null,K(n.value.data,(f,le)=>(a(),ue(xg,{key:f.id,item:f,index:le,selectAll:ce.value,onToggleSelection:S,onEditData:F,onConfirmDeletion:N,onViewData:z},null,8,["item","index","selectAll"]))),128))])):(a(),o("tbody",Jg,Gg))])]),_:1})])])]),b(u(Re),{data:n.value,onPaginationChangePage:i},null,8,["data"])])]),e("div",Wg,[e("div",Kg,[e("div",Xg,[e("div",Zg,[e("h5",e2,[c.value?(a(),o("span",t2,"Edit Asset")):(a(),o("span",s2,"Add Asset Category"))]),a2]),b(u(Ie),{onSubmit:U,"validation-schema":c.value?u(m):u(V),"initial-values":v.value},{default:W(({errors:f})=>[e("div",o2,[e("div",l2,[e("div",n2,[e("div",d2,[b(u(J),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(y).user.id,"onUpdate:modelValue":H[2]||(H[2]=le=>u(y).user.id=le)},null,8,["modelValue"]),e("div",i2,[c2,b(u(J),{name:"name",type:"text",class:A(["form-control",{"is-invalid":f.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Category Name",modelValue:_.name,"onUpdate:modelValue":H[3]||(H[3]=le=>_.name=le)},null,8,["class","modelValue"]),e("span",r2,t(f.name),1)]),e("div",u2,[_2,b(u(J),{name:"categorycode",type:"text",class:A(["form-control",{"is-invalid":f.categorycode}]),id:"categorycode","aria-describedby":"nameHelp",placeholder:"Enter Category Code",modelValue:_.categorycode,"onUpdate:modelValue":H[4]||(H[4]=le=>_.categorycode=le)},null,8,["class","modelValue"]),e("span",m2,t(f.categorycode),1)]),e("div",p2,[h2,b(u(J),{name:"description",type:"text",class:A(["form-control",{"is-invalid":f.description}]),id:"description","aria-describedby":"nameHelp",placeholder:"Enter Description",modelValue:_.description,"onUpdate:modelValue":H[5]||(H[5]=le=>_.description=le)},null,8,["class","modelValue"]),e("span",v2,t(f.description),1)]),e("div",b2,[b(_t,{modelValue:_.status,"onUpdate:modelValue":H[6]||(H[6]=le=>_.status=le),name:"status",options:{status:"Active"}},null,8,["modelValue"])])])])])]),f2]),_:1},8,["validation-schema","initial-values"])])])]),e("div",$2,[e("div",y2,[e("div",g2,[k2,e("div",w2,[x2,e("button",{onClick:ae(I,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const S2=["checked"],D2={style:{"text-align":"center"}},M2={class:"text-center"},V2={__name:"ItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(s,{emit:y}){pe(),me();const h=s,l=y,n=()=>{l("toggleSelection",h.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:n},null,40,S2)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.name),1),e("td",null,t(s.item.itemcode),1),e("td",null,t(s.item.description),1),e("td",null,t(s.item.category),1),e("td",D2,[e("i",{class:A(s.item.status===!0?"fas fa-check":"far fa-circle")},null,2)]),e("td",null,t(s.item.created_by),1),e("td",null,t(s.item.created_at),1),e("td",null,t(s.item.updated_by),1),e("td",null,t(s.item.updated_at),1),e("td",M2,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:c[0]||(c[0]=ae(v=>d.$emit("editData",s.item),["prevent"]))}),q(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:c[1]||(c[1]=ae(v=>d.$emit("confirmDeletion",s.item.id),["prevent"]))})])])]))}};var U2=$e(V2,[["__scopeId","data-v-70bbfa65"]]);const A2={class:"content"},P2={class:"container-fluid"},I2={class:"d-flex justify-content-between"},q2={class:"d-flex"},T2=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),E2={key:0},R2=e("i",{class:"fa fa-print mr-1"},null,-1),L2={class:"ml-2"},F2={class:"card"},N2={class:"card-body"},Y2={class:"table-responsive"},B2={class:"table table-bordered table-sm table-striped hover"},j2=e("th",{style:{width:"10px"}},"#",-1),O2=e("th",null,"Name",-1),H2=e("th",null,"Code",-1),z2=e("th",null,"Description",-1),J2=e("th",null,"Category",-1),Q2=e("th",null,"Status",-1),G2=e("th",null,"Createdby",-1),W2=e("th",null,"CreatedAt",-1),K2=e("th",null,"Updatedby",-1),X2=e("th",null,"UpdatedAt",-1),Z2=e("th",null,"Action",-1),ek={key:0},tk={key:1},sk=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),ak=[sk],ok={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},lk={class:"modal-dialog modal-lg",role:"document"},nk={class:"modal-content"},dk={class:"modal-header"},ik={class:"modal-title",id:"staticBackdropLabel"},ck={key:0},rk={key:1},uk=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),_k={class:"modal-body"},mk={class:"col-md-12"},pk={class:"row"},hk={class:"col-12"},vk={class:"form-group"},bk=e("label",{for:"user"},"Item Name",-1),fk={class:"invalid-feedback"},$k={class:"form-group"},yk=e("label",{for:"user"},"Item Code",-1),gk={class:"invalid-feedback"},kk={class:"form-group"},wk=e("label",{for:"user"},"Description",-1),xk={class:"invalid-feedback"},Ck={class:"form-group"},Sk=e("label",{for:"category"},"Category",-1),Dk=e("option",{value:"",disabled:""}," Select Category ",-1),Mk=["value"],Vk={class:"invalid-feedback"},Uk={class:"form-group"},Ak=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Pk={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ik={class:"modal-dialog",role:"document"},qk={class:"modal-content"},Tk=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ek={class:"modal-footer"},Rk=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Lk={__name:"asset-item-master",setup(s){he(),Be();const y=me(),h=`${he().name}`,l=pe(),n=r({data:[]});r({data:[]});const d=r(!1),c=r(!1),v=r(),p=r(!0),_=Ve({id:"",name:"",itemcode:"",description:"",category_id:"",status:""});r(null),r();const i=r(),V=(D=1)=>{d.value=!0,T.get(`/web/asset-itemmaster?page=${D}`,{params:{query:S.value}}).then(f=>{d.value=!1,n.value=f.data,g.value=[],C.value=!1})},m=xe({name:j().required(),itemcode:j().required(),description:j().required()}),M=xe({name:j().required(),itemcode:j().required(),description:j().required()}),O=()=>{T.post("/web/asset-itemmaster",_).then(D=>{$("#FormModal").modal("hide"),V(),l.success(D.data.message)}).catch(D=>{l.error(D.data.message)})},z=()=>{c.value=!1,$("#FormModal").modal("show")},F=D=>{_.id=D.id,_.category_id=D.category_id,_.name=D.name,_.itemcode=D.itemcode,_.description=D.description,_.status=D.status,_.ceated_by=D.ceated_by,_.updated_by=D.updated_by,$("#ViewRecodeModal").modal("show")},Q=D=>{c.value=!0,_.id=D.id,_.category_id=D.category_id,_.name=D.name,_.itemcode=D.itemcode,_.description=D.description,_.status=D.status,_.ceated_by=D.ceated_by,_.updated_by=D.updated_by,$("#FormModal").modal("show")},U=({setErrors:D})=>{T.post("/web/asset-itemmaster",_).then(f=>{V(),$("#FormModal").modal("hide"),l.success("Data successfully Updated!")}).catch(f=>{D(f.response.data.errors),console.log(f)})},E=(D,f)=>{c.value?U(D):O()},Y=()=>{T.get("/web/asset-getcategory").then(D=>{i.value=D.data}).catch(D=>{console.log(D)})},S=r(null),g=r([]),N=D=>{const f=g.value.indexOf(D.id);f===-1?g.value.push(D.id):g.value.splice(f,1),console.log(g.value)},I=r(null),G=D=>{I.value=D,$("#deleteClientModal").modal("show")},ce=()=>{T.delete(`/web/asset-itemmaster/${I.value}`).then(D=>{$("#deleteClientModal").modal("hide"),l.success(D.data.message),V()})},se=()=>{const D=g.value.join(",");sessionStorage.setItem("selectedItems",D);const f="/web/asset-itemmaster/bulkPrint/print";window.open(f,"_blank")},C=r(!1),H=()=>{C.value?g.value=n.value.data.map(D=>D.id):g.value=[],console.log(g.value)};return fe([p],D=>{_.is_active=D?1:0}),fe(S,Ae.exports.debounce(()=>{V()},300)),ve(()=>{V(),Y(),document.title=`ESSWMS - ${h}`}),(D,f)=>{const le=ye("font");return a(),o(B,null,[e("div",A2,[e("div",P2,[e("div",I2,[e("div",q2,[e("button",{onClick:z,type:"button",class:"mb-2 btn btn-primary"},[T2,q(" Asset Item Master ")]),g.value.length>0?(a(),o("div",E2,[e("button",{onClick:se,type:"button",class:"ml-2 mb-2 btn btn-primary"},[R2,q(" Print Selected ")]),e("span",L2,"Selected "+t(g.value.length)+" Record",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=oe=>S.value=oe),class:"form-control",placeholder:"Search..."},null,512),[[re,S.value]])])]),e("div",F2,[e("div",N2,[d.value?(a(),ue(Te,{key:0})):P("",!0),e("div",Y2,[b(le,{size:"2"},{default:W(()=>[e("table",B2,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=oe=>C.value=oe),onChange:H},null,544),[[Le,C.value]])]),j2,O2,H2,z2,J2,Q2,G2,W2,K2,X2,Z2])]),n.value.data.length>0?(a(),o("tbody",ek,[(a(!0),o(B,null,K(n.value.data,(oe,k)=>(a(),ue(U2,{key:oe.id,item:oe,index:k,onViewData:F,onEditData:Q,onConfirmDeletion:G,onToggleSelection:N,"select-all":C.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",tk,ak))])]),_:1})])])]),b(u(Re),{data:n.value,onPaginationChangePage:V},null,8,["data"])])]),e("div",ok,[e("div",lk,[e("div",nk,[e("div",dk,[e("h5",ik,[c.value?(a(),o("span",ck,"Edit Asset Item Master")):(a(),o("span",rk,"Add Asset Item Master"))]),uk]),b(u(Ie),{onSubmit:E,"validation-schema":c.value?u(M):u(m),"initial-values":v.value},{default:W(({errors:oe})=>[e("div",_k,[e("div",mk,[e("div",pk,[e("div",hk,[b(u(J),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(y).user.id,"onUpdate:modelValue":f[2]||(f[2]=k=>u(y).user.id=k)},null,8,["modelValue"]),e("div",vk,[bk,b(u(J),{name:"name",type:"text",class:A(["form-control",{"is-invalid":oe.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Category Name",modelValue:_.name,"onUpdate:modelValue":f[3]||(f[3]=k=>_.name=k)},null,8,["class","modelValue"]),e("span",fk,t(oe.name),1)]),e("div",$k,[yk,b(u(J),{name:"itemcode",type:"text",class:A(["form-control",{"is-invalid":oe.itemcode}]),id:"itemcode","aria-describedby":"nameHelp",placeholder:"Enter Category Code",modelValue:_.itemcode,"onUpdate:modelValue":f[4]||(f[4]=k=>_.itemcode=k)},null,8,["class","modelValue"]),e("span",gk,t(oe.itemcode),1)]),e("div",kk,[wk,b(u(J),{name:"description",type:"text",class:A(["form-control",{"is-invalid":oe.description}]),id:"description","aria-describedby":"nameHelp",placeholder:"Enter Description",modelValue:_.description,"onUpdate:modelValue":f[5]||(f[5]=k=>_.description=k)},null,8,["class","modelValue"]),e("span",xk,t(oe.description),1)]),e("div",Ck,[Sk,b(u(J),{as:"select",name:"category",class:A(["form-control",{"is-invalid":oe.categroy}]),id:"branch","aria-describedby":"branchHelp",modelValue:_.category_id,"onUpdate:modelValue":f[6]||(f[6]=k=>_.category_id=k)},{default:W(()=>[Dk,(a(!0),o(B,null,K(i.value,k=>(a(),o("option",{key:k.id,value:k.id},t(k.name),9,Mk))),128))]),_:2},1032,["class","modelValue"]),e("span",Vk,t(oe.category_id),1)]),e("div",Uk,[b(_t,{modelValue:_.status,"onUpdate:modelValue":f[7]||(f[7]=k=>_.status=k),name:"status",options:{status:"Active"}},null,8,["modelValue"])])])])])]),Ak]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Pk,[e("div",Ik,[e("div",qk,[Tk,e("div",Ek,[Rk,e("button",{onClick:ae(ce,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};function Fk(s,y,h){var l=typeof s!="object"?JSON.parse(s):s,n="";if(n+=y+`\r

`,h){var d="";for(var c in l[0])d+=c+",";d=d.slice(0,-1),n+=d+`\r
`}for(var v=0;v<l.length;v++){var d="";for(var c in l[v])d+='"'+l[v][c]+'",';d.slice(0,d.length-1),n+=d+`\r
`}if(n==""){alert("Invalid data");return}var p="MyReport_";p+=y.replace(/ /g,"_");var _="data:text/csv;charset=utf-8,"+escape(n),i=document.createElement("a");i.href=_,i.style="visibility:hidden",i.download=p+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}const _e=s=>(ke("data-v-829df670"),s=s(),we(),s),Nk={class:"content"},Yk={class:"container-fluid"},Bk={class:"d-flex justify-content-between"},jk={class:"d-flex"},Ok=_e(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Hk={key:0},zk=_e(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),Jk={class:"ml-2"},Qk={class:"d-flex"},Gk={class:"form-group"},Wk=_e(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Kk=["value"],Xk={id:"captureDiv"},Zk={class:"card"},e0={class:"card-header"},t0={class:"card-title"},s0={class:"card-tools"},a0={id:"cost"},o0={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},l0=_e(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),n0={class:"card-body"},d0=_e(()=>e("i",{class:"fa fa-camera"},null,-1)),i0=[d0],c0=_e(()=>e("i",{class:"fas fa-file-excel"},null,-1)),r0=[c0],u0={key:1,class:"table-responsive"},_0={class:"table table-bordered table-sm table-striped table-hover"},m0=_e(()=>e("th",null,null,-1)),p0=_e(()=>e("th",null,"Date",-1)),h0=_e(()=>e("th",null,"Allocated Pallet Space",-1)),v0=_e(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),b0=_e(()=>e("th",null,"Space Utilization %",-1)),f0=_e(()=>e("th",null,"Excess",-1)),$0={key:0},y0={key:1},g0=_e(()=>e("th",null,"Remarks",-1)),k0=_e(()=>e("th",null,"Action",-1)),w0={key:0},x0=["item","index","select-all"],C0=["checked"],S0={key:0},D0={key:1},M0=["onClick"],V0=_e(()=>e("i",{class:"fa fa-edit"},null,-1)),U0=[V0],A0={key:0},P0=_e(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),I0={colspan:"3"},q0={key:1},T0=_e(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),E0=[T0],R0={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},L0={class:"modal-dialog modal-sm",role:"document"},F0={class:"modal-content"},N0={class:"modal-header"},Y0={class:"modal-title",id:"staticBackdropLabel"},B0={key:0},j0={key:1},O0=_e(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),H0=De('<ul class="nav nav-tabs" data-v-829df670><li id="bulkviewtab1" class="nav-item" data-v-829df670><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-829df670>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-829df670><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-829df670>Bulk Pallet</a></li></ul>',1),z0={class:"tab-content"},J0={class:"tab-pane fade show active",id:"sigle-pallet-tab"},Q0={class:"modal-body"},G0={class:"col-md-12"},W0={class:"row"},K0={class:"col-12"},X0={class:"form-group"},Z0=_e(()=>e("label",{for:"date"},"Date",-1)),e3={class:"invalid-feedback"},t3={class:"form-group"},s3=_e(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),a3={class:"invalid-feedback"},o3={class:"form-group"},l3=_e(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),n3={class:"invalid-feedback"},d3={class:"form-group"},i3=_e(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),c3={class:"invalid-feedback"},r3=_e(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),u3={class:"tab-pane fade show",id:"bulk-pallet-tab"},_3={class:"modal-body"},m3={class:"col-md-12"},p3={class:"row"},h3={class:"col-12"},v3={class:"form-group"},b3=_e(()=>e("label",{for:"fromdate"},"From:",-1)),f3={class:"invalid-feedback"},$3={class:"form-group"},y3=_e(()=>e("label",{for:"todate"},"To:",-1)),g3={class:"invalid-feedback"},k3={class:"form-group"},w3=_e(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),x3={class:"invalid-feedback"},C3={class:"form-group"},S3=_e(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),D3={class:"invalid-feedback"},M3={class:"form-group"},V3=_e(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),U3={class:"invalid-feedback"},A3=_e(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),P3={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},I3={class:"modal-dialog",role:"document"},q3={class:"modal-content"},T3=De('<div class="modal-header" data-v-829df670><h5 class="modal-title" id="staticBackdropLabel" data-v-829df670><span data-v-829df670>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-829df670><span aria-hidden="true" data-v-829df670>\xD7</span></button></div><div class="modal-body" data-v-829df670><h5 data-v-829df670>Are you sure you want to delete this record ?</h5></div>',2),E3={class:"modal-footer"},R3=_e(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),L3={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},F3={class:"modal-dialog modal-sm",role:"document"},N3={class:"modal-content"},Y3=_e(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),B3={class:"modal-body"},j3={class:"fromtocenter"},O3=_e(()=>e("label",{for:"fromDate"},"From:",-1)),H3=_e(()=>e("label",{for:"toDate"},"To:",-1)),z3={class:"modal-footer"},J3=_e(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Q3={__name:"PalletList",setup(s){const y=He("$swal"),h=`${he().name}`,l=pe(),n=r({data:[]}),d=r(),c=r(!1),v=r(!1),p=me(),_=r(!0),i=r(!0),V=r(),m=Ve({id:"",site_id:"",user_id:p.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});r(null);const M=r(),O=()=>{c.value=!0,T.get("/web/pallet",{params:{site_id:m.site_id,query:le.value}}).then(X=>{c.value=!1,n.value=X.data.data,M.value=X.data.sum,oe.value=[],te.value=!1})},z=xe({allocatedpalletspace:j().required(),spaceuteltotal:j().required(),caseperpallet:j().required(),fromdate:j().required(),todate:j().required()}),F=xe({date:j().required(),allocatedpalletspace:j().required(),spaceuteltotal:j().required(),caseperpallet:j().required()}),Q=xe({date:j().required(),allocatedpalletspace:j().required(),spaceuteltotal:j().required(),caseperpallet:j().required()}),U=r(""),E=r(""),Y=r({start_date:"",end_date:""});fe([U],()=>{const X=new Date(U.value),ee=X.getFullYear(),Ue=String(X.getMonth()+1).padStart(2,"0"),x=String(X.getDate()).padStart(2,"0");Y.value.start_date=`${ee}-${Ue}-${x}`}),fe([E],()=>{const X=new Date(E.value),ee=X.getFullYear(),Ue=String(X.getMonth()+1).padStart(2,"0"),x=String(X.getDate()).padStart(2,"0");Y.value.end_date=`${ee}-${Ue}-${x}`});const S=()=>{c.value=!0,T.get("/web/filter-pallet",{params:{start_date:Y.value.start_date,end_date:Y.value.end_date,site_id:m.site_id}}).then(X=>{c.value=!1,n.value=X.data.data,M.value=X.data.sum}).catch(X=>{console.error(X)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},g=()=>{m.id="",m.user_id=p.user.id,m.date="",m.allocatedpalletspace="",m.spaceuteltotal="",m.caseperpallet=""},N=()=>!m.site_id||m.site_id.length===0?(y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,I=({resetForm:X,setErrors:ee})=>{T.post("/web/pallet",{site_id:m.site_id,user_id:m.user_id,date:m.date,allocatedpalletspace:m.allocatedpalletspace,spaceuteltotal:m.spaceuteltotal,caseperpallet:m.caseperpallet}).then(Ue=>{O(),$("#FormModal").modal("hide"),g(),l.success("Data created successfully!")}).catch(function(Ue){Ue.response?l.error(Ue.response.data.message):Ue.request?l.error(Ue.request):l.error("Error",Ue.message)})},G=()=>{T.get("/web/getsite").then(X=>{d.value=X.data.sites}).catch(X=>{console.log(X)})},ce=()=>{O(m.site_id);const X=d.value.find(ee=>ee.id===m.site_id);V.value=X?X.site_name:""},se=()=>{N()||(v.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},C=X=>{$("#bulkviewtab2").hide(),v.value=!0,m.id=X.id,m.user_id=X.user_id,m.site_id=X.site_id,m.date=X.date,m.allocatedpalletspace=X.allocatedpalletspace,m.spaceuteltotal=X.spaceuteltotal,m.caseperpallet=X.caseperpallet,$("#FormModal").modal("show")},H=({setErrors:X})=>{T.post("/web/pallet",m).then(ee=>{g(),O(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(ee=>{X(ee.response.data.errors),console.log(ee)})},D=(X,ee)=>{v.value?H(X):I(X)},f=()=>{T.post("/web/bulkCreatePallet",m).then(X=>{O(),$("#FormModal").modal("hide"),l.success(X.data.message)}).catch(X=>{l.error(X.response.data.errors)})},le=r(null),oe=r([]),k=X=>{const ee=oe.value.indexOf(X.id);ee===-1?oe.value.push(X.id):oe.value.splice(ee,1),console.log(oe.value)},R=r(null),je=X=>{R.value=X,$("#deleteDataModal").modal("show")},Fe=()=>{T.delete(`/web/pallet/${R.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),n.value.data=n.value.data.filter(X=>X.id!==R.value)})},Je=()=>{T.delete("/web/bulkDeletePallet",{data:{ids:oe.value}}).then(X=>{O(),oe.value=[],te.value=!1,l.success(X.data.message)})},ne=()=>{N()||$("#FormModalfilterDate").modal("show")},te=r(!1),lt=()=>{if(N())return;$("#cost").hide(),$("#capturecamerafilter").hide();const X=document.getElementById("captureDiv");at(X).then(ee=>{const Ue=ee.toDataURL(),x=document.createElement("a");x.href=Ue,x.download=`${V.value} - ${h}.png`,x.click()}),$("#cost").show(),$("#capturecamerafilter").show()},nt=()=>{if(N())return;let X=n.value;Fk(X,"PalletList",!0)};return fe([i],X=>{m.is_active=X?1:0}),fe(le,Ae.exports.debounce(()=>{O()},300)),ve(()=>{G(),document.title=`ESSWMS - ${h}`}),(X,ee)=>{const Ue=ye("font");return a(),o(B,null,[e("div",Nk,[e("div",Yk,[e("div",Bk,[e("div",jk,[e("button",{onClick:se,type:"button",class:"mb-2 btn btn-primary"},[Ok,q(" Pallet ")]),oe.value.length>0?(a(),o("div",Hk,[e("button",{onClick:Je,type:"button",class:"ml-2 mb-2 btn btn-danger"},[zk,q(" Delete Selected ")]),e("span",Jk,"Selected "+t(oe.value.length)+" Pallet",1)])):P("",!0)]),e("div",Qk,[e("div",Gk,[Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":ee[0]||(ee[0]=x=>m.site_id=x),onChange:ee[1]||(ee[1]=x=>ce())},[Wk,(a(!0),o(B,null,K(d.value,x=>(a(),o("option",{key:x.id,value:x.id},t(x.name),9,Kk))),128))],544),[[Ye,m.site_id]])])])]),e("div",Xk,[e("div",Zk,[e("div",e0,[e("div",t0,t(V.value||"Select a Site"),1),e("div",s0,[e("div",a0,[e("div",o0,[Z(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":ee[2]||(ee[2]=x=>_.value=x)},null,512),[[Le,_.value]]),l0])])])]),e("div",n0,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:lt,type:"button",class:"btn btn-warning"},i0),e("button",{onClick:nt,type:"button",class:"btn btn-success"},r0)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:ne})])])]),c.value?(a(),ue(Te,{key:0})):(a(),o("div",u0,[b(Ue,{size:"2"},{default:W(()=>[e("table",_0,[e("thead",null,[e("tr",null,[m0,p0,h0,v0,b0,f0,_.value?(a(),o("th",$0," Cost per Pallet ")):P("",!0),_.value?(a(),o("th",y0,"Cost")):P("",!0),g0,k0])]),n.value.length>0?(a(),o("tbody",w0,[(a(!0),o(B,null,K(n.value,(x,L)=>(a(),o("tr",{key:x.id,item:x,index:L,onConfirmDeletion:je,onToggleSelection:k,"select-all":te.value},[e("td",null,[e("input",{type:"checkbox",checked:te.value,onChange:k},null,40,C0)]),e("td",null,t(u(ie)(x.date).format("MMMM DD, YY")),1),e("td",null,t(x.allocatedpalletspace),1),e("td",null,t(x.spaceuteltotal),1),e("td",null,t(x.spacetotalutelpercent),1),e("td",null,t(x.excess),1),_.value?(a(),o("td",S0,t(x.caseperpallet),1)):P("",!0),_.value?(a(),o("td",D0,t(x.cost),1)):P("",!0),e("td",null," EXCESS "+t(x.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:w=>C(x)},U0,8,M0)])],40,x0))),128)),_.value?(a(),o("tr",A0,[P0,e("td",I0,[e("b",null,t(M.value),1)])])):P("",!0)])):(a(),o("tbody",q0,E0))])]),_:1})]))])])])])]),e("div",R0,[e("div",L0,[e("div",F0,[e("div",N0,[e("h5",Y0,[v.value?(a(),o("span",B0,"Edit Pallet")):(a(),o("span",j0,"Add Pallet"))]),O0]),H0,e("div",z0,[e("div",J0,[b(u(Ie),{onSubmit:D,"validation-schema":v.value?u(Q):u(F)},{default:W(({errors:x})=>[e("div",Q0,[e("div",G0,[e("div",W0,[e("div",K0,[b(u(J),{modelValue:m.user_id,"onUpdate:modelValue":ee[3]||(ee[3]=L=>m.user_id=L),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",X0,[Z0,b(u(J),{name:"date",type:"date",class:A(["form-control",{"is-invalid":x.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:m.date,"onUpdate:modelValue":ee[4]||(ee[4]=L=>m.date=L)},null,8,["class","modelValue"]),e("span",e3,t(x.date),1)]),e("div",t3,[s3,b(u(J),{name:"allocatedpalletspace",type:"text",class:A(["form-control",{"is-invalid":x.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",modelValue:m.allocatedpalletspace,"onUpdate:modelValue":ee[5]||(ee[5]=L=>m.allocatedpalletspace=L)},null,8,["class","modelValue"]),e("span",a3,t(x.allocatedpalletspace),1)]),e("div",o3,[l3,b(u(J),{name:"spaceuteltotal",type:"text",class:A(["form-control",{"is-invalid":x.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",modelValue:m.spaceuteltotal,"onUpdate:modelValue":ee[6]||(ee[6]=L=>m.spaceuteltotal=L),required:""},null,8,["class","modelValue"]),e("span",n3,t(x.spaceuteltotal),1)]),e("div",d3,[i3,b(u(J),{name:"caseperpallet",type:"text",class:A(["form-control",{"is-invalid":x.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",modelValue:m.caseperpallet,"onUpdate:modelValue":ee[7]||(ee[7]=L=>m.caseperpallet=L)},null,8,["class","modelValue"]),e("span",c3,t(x.caseperpallet),1)])])])])]),r3]),_:1},8,["validation-schema"])]),e("div",u3,[b(u(Ie),{onSubmit:f,"validation-schema":u(z)},{default:W(({errors:x})=>[e("div",_3,[e("div",m3,[e("div",p3,[e("div",h3,[b(u(J),{modelValue:m.user_id,"onUpdate:modelValue":ee[8]||(ee[8]=L=>m.user_id=L),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",v3,[b3,b(u(J),{name:"fromdate",type:"date",class:A(["form-control",{"is-invalid":x.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:m.fromdate,"onUpdate:modelValue":ee[9]||(ee[9]=L=>m.fromdate=L)},null,8,["class","modelValue"]),e("span",f3,t(x.fromdate),1)]),e("div",$3,[y3,b(u(J),{name:"todate",type:"date",class:A(["form-control",{"is-invalid":x.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:m.todate,"onUpdate:modelValue":ee[10]||(ee[10]=L=>m.todate=L)},null,8,["class","modelValue"]),e("span",g3,t(x.todate),1)]),e("div",k3,[w3,b(u(J),{name:"allocatedpalletspace",type:"text",class:A(["form-control",{"is-invalid":x.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:m.allocatedpalletspace,"onUpdate:modelValue":ee[11]||(ee[11]=L=>m.allocatedpalletspace=L)},null,8,["class","modelValue"]),e("span",x3,t(x.allocatedpalletspace),1)]),e("div",C3,[S3,b(u(J),{name:"spaceuteltotal",type:"text",class:A(["form-control",{"is-invalid":x.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:m.spaceuteltotal,"onUpdate:modelValue":ee[12]||(ee[12]=L=>m.spaceuteltotal=L),required:""},null,8,["class","modelValue"]),e("span",D3,t(x.spaceuteltotal),1)]),e("div",M3,[V3,b(u(J),{name:"caseperpallet",type:"text",class:A(["form-control",{"is-invalid":x.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:m.caseperpallet,"onUpdate:modelValue":ee[13]||(ee[13]=L=>m.caseperpallet=L)},null,8,["class","modelValue"]),e("span",U3,t(x.caseperpallet),1)])])])])]),A3]),_:1},8,["validation-schema"])])])])])]),e("div",P3,[e("div",I3,[e("div",q3,[T3,e("div",E3,[R3,e("button",{onClick:ae(Fe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",L3,[e("div",F3,[e("div",N3,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(h)+" Report")]),Y3]),e("div",B3,[e("div",j3,[e("div",null,[O3,b(u(Oe),{modelValue:U.value,"onUpdate:modelValue":ee[14]||(ee[14]=x=>U.value=x)},null,8,["modelValue"])]),e("div",null,[H3,b(u(Oe),{modelValue:E.value,"onUpdate:modelValue":ee[15]||(ee[15]=x=>E.value=x)},null,8,["modelValue"])])])]),e("div",z3,[J3,e("button",{onClick:ee[16]||(ee[16]=x=>S()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var G3=$e(Q3,[["__scopeId","data-v-829df670"]]);const W3=s=>(ke("data-v-572c61f8"),s=s(),we(),s),K3={class:"content"},X3={class:"container-fluid"},Z3={class:"row"},ew={class:"col-md-6"},tw={class:"card"},sw={class:"card-title"},aw={class:"form-group m-3"},ow=W3(()=>e("option",{value:"",disabled:""}," Select User ",-1)),lw=["value"],nw={key:0,class:"card-body"},dw={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},iw={class:"custom-control custom-checkbox"},cw=["value","id"],rw=["for"],uw={class:"card-footer"},_w={__name:"UserSite",setup(s){me();const y=`${he().name}`,h=pe();r(!0);const l=Ve({user_id:""});r(null),r();const n=r(),d=r(),c=r([]),v=()=>{T.get("/api/users/userlist").then(V=>{d.value=V.data}).catch(V=>{console.log(V)})},p=V=>{T.get(`/web/usersite/${V}`).then(m=>{n.value=m.data,c.value=n.value.filter(M=>M.hasAccess===1).map(M=>M.id)}).catch(m=>{console.error("Error fetching site data for user:",m)})},_=()=>{const V={user_id:l.user_id,site_id:c.value};console.log(V),T.post("/web/onSaveupdate",V).then(m=>{h.success("User Site Save successfully!")}).catch(m=>{setErrors(m.response.data.errors)})},i=V=>{p(V)};return ve(()=>{v(),p(),document.title=`SLI-DTS - ${y}`}),(V,m)=>(a(),o("div",K3,[e("div",X3,[e("div",Z3,[e("div",ew,[e("div",tw,[e("div",sw,[e("div",aw,[b(u(J),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":m[0]||(m[0]=M=>l.user_id=M),onChange:m[1]||(m[1]=M=>i(l.user_id))},{default:W(()=>[ow,(a(!0),o(B,null,K(d.value,M=>(a(),o("option",{key:M.id,value:M.id},t(M.name),9,lw))),128))]),_:1},8,["modelValue"])])]),l.user_id?(a(),o("div",nw,[e("ul",dw,[(a(!0),o(B,null,K(n.value,M=>(a(),o("li",{key:M.id,class:"list-group-item"},[e("div",iw,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":m[2]||(m[2]=O=>c.value=O),value:M.id,id:"site_id_"+M.id},null,8,cw),[[Le,c.value]]),e("label",{for:"site_id_"+M.id,class:"custom-control-label"},t(M.site_name),9,rw)])]))),128))]),e("div",uw,[e("button",{type:"button",onClick:m[3]||(m[3]=M=>_()),class:"btn btn-primary"}," Submit ")])])):P("",!0)])])])])]))}};var mw=$e(_w,[["__scopeId","data-v-572c61f8"]]);const mt=s=>(ke("data-v-1142fe58"),s=s(),we(),s),pw={style:{"text-align":"center"}},hw={key:0},vw=mt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Approved",-1)),bw=[vw],fw=mt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Reject",-1)),$w=[fw],yw={key:1,style:{"text-align":"center"}},gw={key:0},kw=mt(()=>e("i",{class:"fa fa-edit"},null,-1)),ww=[kw],xw={__name:"JobItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(s,{emit:y}){pe();const h=me(),l=d=>{switch(d){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},n=d=>{switch(d){case"P":return"Pending";case"A":return"Approved";case"C":return"Reject";default:return"badge-secondary"}};return(d,c)=>{const v=ye("router-link");return a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.job_order_number),1),e("td",null,t(s.item.date_needed),1),e("td",null,t(s.item.commitment_date),1),e("td",pw,[b(v,{to:`/job-order-request-approved/${s.item.job_order_number}/view`,target:"_blank"},{default:W(()=>[e("span",{class:A(["badge",`${l(s.item.status)}`])},t(n(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(s.item.created_at),1),u(h).user.role==="ADMIN"||u(h).user.sitehead_user_id===u(h).user.id?(a(),o("td",hw,[e("div",{onClick:c[0]||(c[0]=ae(p=>d.$emit("approvedata",s.item),["prevent"])),style:{"background-color":"#17ad49",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},bw),e("div",{onClick:c[1]||(c[1]=ae(p=>d.$emit("confirmDataDeletion",s.item),["prevent"])),style:{"background-color":"#da2f38",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},$w)])):P("",!0),u(h).user.role==="USER"?(a(),o("td",yw,[s.item.status!="P"?(a(),o("div",gw,[s.item.created_by==u(h).user.id?(a(),o("a",{key:0,href:"#",onClick:c[2]||(c[2]=ae(p=>d.$emit("editRecord",s.item),["prevent"]))},ww)):P("",!0)])):P("",!0)])):P("",!0)])}}};var Cw=$e(xw,[["__scopeId","data-v-1142fe58"]]);const Ge=s=>(ke("data-v-3f7051bb"),s=s(),we(),s),Sw={key:0,class:"spinner"},Dw=Ge(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Mw=[Dw],Vw={class:"content"},Uw={class:"container-fluid"},Aw={class:"d-flex justify-content-between"},Pw={class:"d-flex"},Iw=Ge(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),qw={key:0},Tw=Ge(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),Ew={class:"ml-2"},Rw={class:"card"},Lw={class:"card-body"},Fw={class:"table-responsive"},Nw={class:"table table-bordered table-sm"},Yw=Ge(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Order Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),Bw={key:0},jw={key:1},Ow=Ge(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),Hw=[Ow],zw={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Jw={class:"modal-dialog",role:"document"},Qw={class:"modal-content"},Gw=De('<div class="modal-header" data-v-3f7051bb><h5 class="modal-title" id="staticBackdropLabel" data-v-3f7051bb><span data-v-3f7051bb>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-3f7051bb><span aria-hidden="true" data-v-3f7051bb>\xD7</span></button></div><div class="modal-body" data-v-3f7051bb><h5 data-v-3f7051bb>Are you sure you want to Reject this record ?</h5></div>',2),Ww={class:"modal-footer"},Kw=Ge(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Xw={__name:"JobOrderList",setup(s){const y=He("$swal"),h=`${he().name}`,l=pe(),n=r({data:[]});r({data:[]}),r(!1),r();const d=r(!1);me(),r(null),r();const c=(z=1)=>{d.value=!0,T.get(`/web/job-request?page=${z}`,{params:{query:v.value}}).then(F=>{d.value=!1,n.value=F.data,p.value=[],i.value=!1}).finally(()=>{d.value=!1})},v=r(null),p=r([]),_=z=>{const F=p.value.indexOf(z.id);F===-1?p.value.push(z.id):p.value.splice(F,1),console.log(p.value)},i=r(!1),V=r(!1),m=async z=>{(await y.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(d.value=!0,T.put(`/web/job-request/${z.id}`,{status:"C"}).then(Q=>{l.success("Record successfully Rejected"),c()}).catch(Q=>{l.error(Q.response.data.errors)}).finally(()=>{d.value=!1}))},M=async z=>{(await y.fire({title:"Are you sure you want to Approve this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(d.value=!0,T.put(`/web/job-request/${z.id}`,{status:"A"}).then(Q=>{l.success("Record successfully Approved"),c()}).catch(Q=>{l.error(Q.data.message)}))},O=()=>{};return fe(v,Ae.exports.debounce(()=>{c()},300)),ve(()=>{c(),document.title=`SLI-DTS - ${h}`}),(z,F)=>{const Q=ye("router-link");return a(),o(B,null,[d.value?(a(),o("div",Sw,Mw)):P("",!0),e("div",Vw,[e("div",Uw,[e("div",Aw,[e("div",Pw,[b(Q,{class:A("mb-2 btn btn-primary"),to:{name:"Job Order Create"}},{default:W(()=>[Iw,q("Create ")]),_:1}),p.value.length>0?(a(),o("div",qw,[e("button",{onClick:F[0]||(F[0]=(...U)=>z.bulkDelete&&z.bulkDelete(...U)),type:"button",class:"ml-2 mb-2 btn btn-danger"},[Tw,q(" Delete Selected ")]),e("span",Ew,"Selected "+t(p.value.length)+" Menu",1)])):P("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":F[1]||(F[1]=U=>v.value=U),class:"form-control",placeholder:"Search..."},null,512),[[re,v.value]])])]),e("div",Rw,[e("div",Lw,[d.value?(a(),ue(Te,{key:0})):P("",!0),e("div",Fw,[e("table",Nw,[Yw,n.value.data.length>0?(a(),o("tbody",Bw,[(a(!0),o(B,null,K(n.value.data,(U,E)=>(a(),ue(Cw,{key:U.id,item:U,index:E,onApprovedata:M,onShowItem:V.value,onConfirmDataDeletion:m,onToggleSelection:_,"select-all":i.value},null,8,["item","index","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),o("tbody",jw,Hw))])])])]),b(u(Re),{data:n.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",zw,[e("div",Jw,[e("div",Qw,[Gw,e("div",Ww,[Kw,e("button",{onClick:ae(O,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var Zw=$e(Xw,[["__scopeId","data-v-3f7051bb"]]);const ex={class:"form-group row"},tx=["for"],sx={class:"col-sm-10"},ax=["type","id","name","placeholder"],ox={key:0,class:"invalid-feedback"},lx={key:0},Ne={__name:"FormTextField",props:{name:{type:String,required:!0},type:{type:String,default:"text",validator:s=>["text","number","password","email","url","tel"].includes(s)},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null}},emits:["update:modelValue"],setup(s,{emit:y}){const h=s,l=y,n=Me({get:()=>h.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",ex,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,tx)):P("",!0),e("div",sx,[Z(e("input",{"onUpdate:modelValue":c[0]||(c[0]=v=>n.value=v),type:s.type,id:s.name,name:s.name,placeholder:s.placeholder,class:A(["form-control",s.errors?"is-invalid":""])},null,10,ax),[[rt,n.value]]),s.errors?(a(),o("span",ox,[Array.isArray(s.errors)?(a(),o("ul",lx,[(a(!0),o(B,null,K(s.errors,(v,p)=>(a(),o("li",{key:p},t(v),1))),128))])):(a(),o(B,{key:1},[q(t(s.errors),1)],64))])):P("",!0)])]))}},nx={class:"form-group row"},dx=["for"],ix={class:"col-sm-10"},cx=["id","name","placeholder"],rx={value:"",disabled:""},ux=["value"],_x={key:0,class:"invalid-feedback"},mx={key:0},it={__name:"FormSelectOption",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:"Select an option"},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(s,{emit:y}){const h=s,l=y,n=Me({get:()=>h.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",nx,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,dx)):P("",!0),e("div",ix,[Z(e("select",{"onUpdate:modelValue":c[0]||(c[0]=v=>n.value=v),id:s.name,name:s.name,placeholder:s.placeholder,class:A(["form-control",s.errors?"is-invalid":""])},[e("option",rx,t(s.placeholder),1),(a(!0),o(B,null,K(s.options,v=>(a(),o("option",{key:v.id,value:v.id},t(v.name),9,ux))),128))],10,cx),[[Ye,n.value]]),s.errors?(a(),o("span",_x,[Array.isArray(s.errors)?(a(),o("ul",mx,[(a(!0),o(B,null,K(s.errors,(v,p)=>(a(),o("li",{key:p},t(v),1))),128))])):(a(),o(B,{key:1},[q(t(s.errors),1)],64))])):P("",!0)])]))}},px={class:"form-group row"},hx=["for"],vx={class:"col-sm-10"},bx=["id","name","placeholder","rows"],fx={key:0,class:"invalid-feedback"},$x={key:0},ct={__name:"FormTextAria",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},rows:{type:[Number],default:""}},emits:["update:modelValue"],setup(s,{emit:y}){const h=s,l=y,n=Me({get:()=>h.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",px,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,hx)):P("",!0),e("div",vx,[Z(e("textarea",{"onUpdate:modelValue":c[0]||(c[0]=v=>n.value=v),id:s.name,name:s.name,placeholder:s.placeholder,class:A(["form-control",s.errors?"is-invalid":""]),rows:s.rows},null,10,bx),[[re,n.value]]),s.errors?(a(),o("span",fx,[Array.isArray(s.errors)?(a(),o("ul",$x,[(a(!0),o(B,null,K(s.errors,(v,p)=>(a(),o("li",{key:p},t(v),1))),128))])):(a(),o(B,{key:1},[q(t(s.errors),1)],64))])):P("",!0)])]))}};const ot=s=>(ke("data-v-674eedab"),s=s(),we(),s),yx={class:"col-md-12"},gx={key:0,class:"spinner"},kx=ot(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),wx=[kx],xx={class:"form-group row"},Cx=ot(()=>e("i",{class:"fa fa-plus"},null,-1)),Sx=[Cx],Dx={class:"col-sm-10"},Mx={class:"table"},Vx=ot(()=>e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Part Number"),e("th",null,"Quantity"),e("th",null,"Action")])],-1)),Ux=["onUpdate:modelValue"],Ax=["onUpdate:modelValue"],Px=["onUpdate:modelValue"],Ix=["onClick"],qx=ot(()=>e("i",{class:"fa fa-trash"},null,-1)),Tx=[qx],Ex={__name:"JobOrderAction",setup(s){const y=he(),h=Be(),l=r(!1),n=`${y.name}`,d=pe();r(!1),r();const c=He("$swal"),v=me(),p=r(!0),_=Ve({id:"",site_id:null,site_name:"",job_order_number:"",end_user:"",time_requested:"",date_needed:"",noted_by:"",type_of_job:"",problem_description:"",findings_recommendations:"",commitment_date:"",status:"P",created_by:v.user.id,updated_by:"",description:"",part_number:"",quantity:"",replacement_parts:[{description:"",part_number:"",quantity:0}]}),i=()=>{_.replacement_parts.push({description:"",part_number:"",quantity:0})},V=Q=>{_.replacement_parts.length>1&&_.replacement_parts.splice(Q,1)};r(null);const m=r([]),M=()=>{T.get("/web/getsite").then(Q=>{m.value=Q.data.sites}).catch(Q=>{console.log(Q)})},O=r(null),z=r([{id:"Preventive Maintenance",name:"Preventive Maintenance"},{id:"Corrective Maintenance",name:"Corrective Maintenance"},{id:"Calibration",name:"Calibration"}]),F=async()=>{(await c.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(l.value=!0,T.post("/web/job-request",_).then(U=>{U.status===200?(d.success(U.data.message),h.push("/job-order-request-list")):d.error("Something went wrong. Please try again.")}).catch(U=>{d.error(U.data.message)}).finally(()=>{l.value=!1}))};return fe([p],Q=>{_.is_active=Q?1:0}),fe(O,Ae.exports.debounce(()=>{getItems()},300)),ve(()=>{M(),document.title=n}),(Q,U)=>{const E=ye("tab-content"),Y=ye("form-wizard");return a(),o("div",yx,[l.value?(a(),o("div",gx,wx)):P("",!0),b(Y,{onOnComplete:F,color:"#094899","step-size":"xs"},{default:W(()=>[b(E,{title:"Job Information",icon:"fas fa-book"},{default:W(()=>[b(Ne,{label:"Job Order Number",placeholder:"Job Order Number - AutoGenerate",name:"job_order_number",type:"text",id:"job_order_number",modelValue:_.job_order_number,"onUpdate:modelValue":U[0]||(U[0]=S=>_.job_order_number=S)},null,8,["modelValue"]),b(it,{name:"branch",label:"Area / Department",modelValue:_.site_id,"onUpdate:modelValue":U[1]||(U[1]=S=>_.site_id=S),options:m.value},null,8,["modelValue","options"]),b(Ne,{label:"End User",placeholder:"End User",name:"enduser",type:"text",id:"enduser",modelValue:_.end_user,"onUpdate:modelValue":U[2]||(U[2]=S=>_.end_user=S)},null,8,["modelValue"]),b(Ne,{label:"Time Requested",placeholder:"Time Requested",name:"time_requested",type:"date",id:"time_requested",modelValue:_.time_requested,"onUpdate:modelValue":U[3]||(U[3]=S=>_.time_requested=S)},null,8,["modelValue"]),b(Ne,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:_.date_needed,"onUpdate:modelValue":U[4]||(U[4]=S=>_.date_needed=S)},null,8,["modelValue"]),b(Ne,{label:"Noted By",placeholder:"Noted By",name:"noted_by",type:"text",id:"noted_by",modelValue:_.noted_by,"onUpdate:modelValue":U[5]||(U[5]=S=>_.noted_by=S)},null,8,["modelValue"]),b(it,{name:"type_of_job",label:"Type of Job",modelValue:_.type_of_job,"onUpdate:modelValue":U[6]||(U[6]=S=>_.type_of_job=S),options:z.value},null,8,["modelValue","options"])]),_:1}),b(E,{title:"Problem Details",icon:"fas fa-pen-alt"},{default:W(()=>[b(ct,{label:"Problem Description",id:"problem_description",name:"problem_description",rows:"3",placeholder:"Problem Description",modelValue:_.problem_description,"onUpdate:modelValue":U[7]||(U[7]=S=>_.problem_description=S)},null,8,["modelValue"]),b(ct,{label:"Recommendations",id:"Recommendations",rows:"3",placeholder:"Recommendations",modelValue:_.findings_recommendations,"onUpdate:modelValue":U[8]||(U[8]=S=>_.findings_recommendations=S)},null,8,["modelValue"]),b(Ne,{label:"Commitment Date",placeholder:"Commitment Date",name:"commitment_date",type:"date",id:"commitment_date",modelValue:_.commitment_date,"onUpdate:modelValue":U[9]||(U[9]=S=>_.commitment_date=S)},null,8,["modelValue"])]),_:1}),b(E,{title:"Replacement Parts",icon:"fas fa-tools"},{default:W(()=>[e("div",xx,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[q("Replacement Parts "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:i},Sx)]),e("div",Dx,[e("table",Mx,[Vx,e("tbody",null,[(a(!0),o(B,null,K(_.replacement_parts,(S,g)=>(a(),o("tr",{key:g},[e("td",null,[Z(e("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":N=>S.description=N},null,8,Ux),[[re,S.description]])]),e("td",null,[Z(e("input",{type:"text",class:"form-control",placeholder:"Part Number","onUpdate:modelValue":N=>S.part_number=N},null,8,Ax),[[re,S.part_number]])]),e("td",null,[Z(e("input",{type:"number",class:"form-control",placeholder:"Quantity","onUpdate:modelValue":N=>S.quantity=N},null,8,Px),[[re,S.quantity]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:N=>V(g)},Tx,8,Ix)])]))),128))])])])])]),_:1})]),_:1})])}}};var Rx=$e(Ex,[["__scopeId","data-v-674eedab"]]);const Se=s=>(ke("data-v-23e1722c"),s=s(),we(),s),Lx={id:"exportPDF"},Fx=Se(()=>e("br",null,null,-1)),Nx={class:"container"},Yx={class:"row align-items-center"},Bx={class:"col-3 p-2 text-center"},jx={class:"header"},Ox=["src"],Hx=Se(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),zx={class:"row border border-secondary p-2"},Jx={class:"col-6 float-end"},Qx={class:"mb-1"},Gx=Se(()=>e("strong",null,"Job Order Number :",-1)),Wx={class:"row"},Kx={class:"table table-bordered table-sm"},Xx=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),Zx={class:"row border"},e4={class:"col-6 p-2"},t4={class:"row"},s4={class:"col-12 p-2"},a4=Se(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),o4=Se(()=>e("br",null,null,-1)),l4={class:"row"},n4={class:"col-12 p-2"},d4=Se(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),i4={class:"row justify-content-right"},c4={class:"col-12 hidden-md-down border border-secondary"},r4=Se(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),u4={class:"row"},_4={class:"col-12 p-2"},m4=Se(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),p4={class:"row justify-content-right"},h4={class:"col-12 hidden-md-down border border-secondary"},v4={class:"row border mt-2"},b4={class:"col-6 p-2"},f4=Se(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),$4={class:"row"},y4=Se(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),g4={class:"table table-bordered table-sm"},k4=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),w4={class:"row border border-secondary mt-2"},x4={class:"col-6 p-2"},C4=Se(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),S4=Se(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),D4=Se(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),M4={class:"row"},V4={class:"col-12 p-2"},U4={class:"row justify-content-right"},A4={class:"col-12 hidden-md-down border border-secondary"},P4={class:"row"},I4={class:"col-6 p-2"},q4=Se(()=>e("br",null,null,-1)),T4={class:"mt-2"},E4={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},R4=Se(()=>e("br",null,null,-1)),L4=Se(()=>e("div",{class:"col-6 p-2"},[q(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"},[e("span",{class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},"Eden Satinitigan")])],-1)),F4={key:0,class:"fab-container"},N4=Se(()=>e("i",{class:"fas fa-download"},null,-1)),Y4=[N4],B4={__name:"JobOrderRequestApproved",setup(s){const y=`${he().params.id}`,h=()=>{const d=document.getElementById("exportPDF");Ke().from(d).save(`${y}.pdf`)},l=Ve({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",jobstatus:"",approvedPosition:""}),n=()=>{T.get(`/web/job-request/${he().params.id}`).then(d=>{l.id=d.data.record.id,l.jobOrderNumber=d.data.record.job_order_number,l.areaDepartment=d.data.record.site_name,l.endUser=d.data.record.end_user,l.dateTimeRequested=ie(d.data.record.time_requested).format("MMMM D, YYYY"),l.dateNeeded=ie(d.data.record.date_needed).format("MMMM D, YYYY"),l.notedBy=d.data.record.noted_by,l.typeofjob=d.data.record.type_of_job,l.calibration=d.data.record.calibration,l.problemDescription=d.data.record.problem_description,l.findingsRecommendations=d.data.record.findings_recommendations,l.commitmentDate=ie(d.data.record.commitment_date).format("MMMM D, YYYY"),l.replacementParts=d.data.record.replacement_parts,l.checkedBy=d.data.record.createdby.cfull_name,l.checkedDate=ie(d.data.record.checkedDate).format("MMMM D, YYYY"),l.checkedTime=ie(d.data.record.checkedTime).format("h:mm:ss a"),l.reviewedBy=d.data.record.reviewedBy,l.reviewedDate=ie(d.data.record.reviewedDate).format("MMMM D, YYYY"),l.approvedBy=d.data.record.updatedby.ufull_name,l.approvedPosition=d.data.record.updatedby.uposition?d.data.record.updatedby.uposition:"",l.approvedDate=ie(d.data.record.approvedDate).format("MMMM D, YYYY"),l.remarks=d.data.record.remarks,l.jobstatus=d.data.record.status,console.log(d.data.record.status)}).catch(d=>{console.log(d.message)})};return ve(()=>{n(),document.title=y}),(d,c)=>(a(),o(B,null,[e("div",Lx,[Fx,e("div",Nx,[["P","C"].includes(l.jobstatus)?(a(),o("div",{key:0,class:A(["ribbon",{warning:l.jobstatus==="P",closed:l.jobstatus==="C"}])},[e("span",null,t(l.jobstatus==="P"?"Pending":l.jobstatus==="C"?"Reject":l.jobstatus==="P"),1)],2)):P("",!0),e("div",Yx,[e("div",Bx,[e("div",jx,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,Ox)])]),Hx]),e("div",zx,[e("div",Jx,[e("p",Qx,[Gx,q(t(l.jobOrderNumber),1)])])]),e("div",Wx,[e("table",Kx,[Xx,e("tbody",null,[e("tr",null,[e("td",null,t(l.areaDepartment),1),e("td",null,t(l.endUser),1),e("td",null,t(l.dateTimeRequested),1),e("td",null,t(l.dateNeeded),1)])])])]),e("div",Zx,[e("div",e4,[q("Noted by:"),e("b",null,t(l.notedBy),1)])]),e("div",t4,[e("div",s4,[a4,o4,e("span",null,t(l.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),q("\xA0 "),e("span",null,t(l.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),q("\xA0 "),e("span",null,t(l.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",l4,[e("div",n4,[d4,e("div",i4,[e("div",c4,[e("p",null,t(l.problemDescription),1)])])])]),r4,e("div",u4,[e("div",_4,[m4,e("div",p4,[e("div",h4,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",v4,[e("div",b4,[q("Commitment Date:\xA0"),e("b",null,t(l.commitmentDate),1)]),f4]),e("div",$4,[y4,e("table",g4,[k4,e("tbody",null,[(a(!0),o(B,null,K(l.replacementParts,(v,p)=>(a(),o("tr",{key:p},[e("td",null,t(p+1),1),e("td",null,t(v.description),1),e("td",null,t(v.part_number),1),e("td",null,t(v.quantity),1)]))),128))])])]),e("div",w4,[e("div",x4,[q(" Checked by : "),e("b",null,t(l.checkedBy),1)]),C4,S4]),D4,e("div",M4,[e("div",V4,[q(" Remarks / Comments: "),e("div",U4,[e("div",A4,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",P4,[e("div",I4,[q(" Reviewed by: Department Manager"),q4,e("div",T4,[e("span",E4,t(l.approvedBy),1),R4,e("span",null,t(l.approvedPosition),1)])]),L4])])]),l.status==="A"?(a(),o("div",F4,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=v=>h())},Y4)])):P("",!0)],64))}};var kt=$e(B4,[["__scopeId","data-v-23e1722c"]]);const Ze=s=>(ke("data-v-3c16fe16"),s=s(),we(),s),j4={key:0,class:"spinner"},O4=Ze(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),H4=[O4],z4={style:{"text-align":"center"}},J4={key:0},Q4=Ze(()=>e("option",{value:"",disabled:"",selected:""},"Action",-1)),G4=Ze(()=>e("option",{value:"A"},"Approved",-1)),W4=Ze(()=>e("option",{value:"C"},"Reject",-1)),K4=[Q4,G4,W4],X4={key:1,style:{"text-align":"center"}},Z4={key:0},e8=Ze(()=>e("i",{class:"fa fa-edit"},null,-1)),t8=[e8],s8={__name:"MrfItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion","toggleSelection"],setup(s,{emit:y}){pe();const h=me();He("$swal");const l=r(!1),n=c=>{switch(c){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},d=c=>{switch(c){case"P":return"Pending";case"A":return"Approved";case"C":return"Rejected";default:return"Unknown"}};return(c,v)=>{const p=ye("router-link");return a(),o(B,null,[l.value?(a(),o("div",j4,H4)):P("",!0),e("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.mrf_order_number),1),e("td",null,t(u(ie)(s.item.date_requested).format("MMMM D, YYYY")),1),e("td",null,t(u(ie)(s.item.date_needed).format("MMMM D, YYYY")),1),e("td",z4,[b(p,{to:`/marial-Requisition-Approved/${s.item.mrf_order_number}/view`,target:"_blank"},{default:W(()=>[e("span",{class:A(["badge",`${n(s.item.status)}`])},t(d(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(u(ie)(s.item.created_at).format("MMMM D, YYYY, h:mm A")),1),u(h).user.role==="ADMIN"||u(h).user.sitehead_user_id===u(h).user.id?(a(),o("td",J4,[e("select",{class:"form-control",onChange:v[0]||(v[0]=_=>c.$emit("handleSelectChange",_,s.item))},K4,32)])):P("",!0),u(h).user.role==="USER"?(a(),o("td",X4,[s.item.status!="P"?(a(),o("div",Z4,[s.item.created_by==u(h).user.id?(a(),o("a",{key:0,href:"#",onClick:v[1]||(v[1]=ae(_=>c.$emit("editRecord",s.item),["prevent"]))},t8)):P("",!0)])):P("",!0)])):P("",!0)])],64)}}};var a8=$e(s8,[["__scopeId","data-v-3c16fe16"]]);const et=s=>(ke("data-v-1893c6ae"),s=s(),we(),s),o8={key:0,class:"spinner"},l8=et(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),n8=[l8],d8={class:"content"},i8={class:"container-fluid"},c8={class:"d-flex justify-content-between mb-2"},r8={class:"d-flex"},u8=et(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),_8={class:"card"},m8={class:"card-body"},p8={class:"table-responsive"},h8={class:"table table-bordered table-sm"},v8=et(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Mrf Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),b8={key:0},f8={key:1},$8=et(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),y8=[$8],g8={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},k8={class:"modal-dialog",role:"document"},w8={class:"modal-content"},x8=De('<div class="modal-header" data-v-1893c6ae><h5 class="modal-title" id="staticBackdropLabel" data-v-1893c6ae><span data-v-1893c6ae>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-1893c6ae><span aria-hidden="true" data-v-1893c6ae>\xD7</span></button></div><div class="modal-body" data-v-1893c6ae><h5 data-v-1893c6ae>Are you sure you want to Reject this record ?</h5></div>',2),C8={class:"modal-footer"},S8=et(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),D8={__name:"MrfList",setup(s){const y=He("$swal"),h=`${he().name}`,l=pe(),n=r({data:[]});r({data:[]}),r(!1),r();const d=r(!1);me(),r(null),r();const c=(F=1)=>{d.value=!0,T.get(`/web/Mrf-request?page=${F}`,{params:{query:v.value}}).then(Q=>{d.value=!1,n.value=Q.data,p.value=[],i.value=!1}).finally(()=>{d.value=!1})},v=r(null),p=r([]),_=F=>{const Q=p.value.indexOf(F.id);Q===-1?p.value.push(F.id):p.value.splice(Q,1),console.log(p.value)},i=r(!1),V=r(!1),m=async F=>{(await y.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(d.value=!0,T.put(`/web/Mrf-request/${F.id}`,{status:"C"}).then(U=>{l.success("Record successfully Rejected"),c()}).catch(U=>{l.error(U.response.data.errors)}).finally(()=>{d.value=!1}))},M=async(F,Q)=>{const U=Q==="A"?"Are you sure you want to Approve this record?":"Are you sure you want to Reject this record?";if((await y.fire({title:U,icon:"warning",showCancelButton:!0})).isConfirmed){d.value=!0;try{await T.put(`/web/Mrf-request/${F.id}`);const Y=Q==="A"?"Approved":"Rejected";l.success(`Record successfully ${Y}`),c()}catch(Y){l.error(Y.response.data.errors)}finally{d.value=!1}}},O=(F,Q)=>{const U=F.target.value;U&&M(Q,U)},z=()=>{};return fe(v,Ae.exports.debounce(()=>{c()},300)),ve(()=>{c(),document.title=`SLI-DTS - ${h}`}),(F,Q)=>{const U=ye("router-link");return a(),o(B,null,[d.value?(a(),o("div",o8,n8)):P("",!0),e("div",d8,[e("div",i8,[e("div",c8,[e("div",r8,[b(U,{class:A(" mb-2 btn btn-primary btn-sm"),to:{path:"/Marial-Requisition/create"}},{default:W(()=>[u8]),_:1})]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":Q[0]||(Q[0]=E=>v.value=E),class:"form-control mb-2",placeholder:"Search..."},null,512),[[re,v.value]])])]),e("div",_8,[e("div",m8,[d.value?(a(),ue(Te,{key:0})):P("",!0),e("div",p8,[e("table",h8,[v8,n.value.data.length>0?(a(),o("tbody",b8,[(a(!0),o(B,null,K(n.value.data,(E,Y)=>(a(),ue(a8,{key:E.id,item:E,index:Y,onHandleSelectChange:S=>O(S,E),onShowItem:V.value,onConfirmDataDeletion:m,onToggleSelection:_,"select-all":i.value},null,8,["item","index","onHandleSelectChange","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),o("tbody",f8,y8))])])])]),b(u(Re),{data:n.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",g8,[e("div",k8,[e("div",w8,[x8,e("div",C8,[S8,e("button",{onClick:ae(z,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var M8=$e(D8,[["__scopeId","data-v-1893c6ae"]]);const qe=s=>(ke("data-v-6d543bc1"),s=s(),we(),s),V8={class:"col-md-12"},U8={key:0,class:"spinner"},A8=qe(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),P8=[A8],I8=qe(()=>e("i",{class:"fa fa-plus"},null,-1)),q8=[I8],T8={class:"form-group row"},E8={class:"col-sm-12"},R8={class:"table tabl-sm table-hover table-striped"},L8=qe(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"Particular"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"UOM"),e("th",null,"Price"),e("th",null,"Action")])],-1)),F8=["onUpdate:modelValue"],N8=["onUpdate:modelValue"],Y8=["onUpdate:modelValue"],B8=["onUpdate:modelValue"],j8=["onUpdate:modelValue"],O8=["onClick"],H8=qe(()=>e("i",{class:"fa fa-trash"},null,-1)),z8=[H8],J8=qe(()=>e("h4",null,"Requisition Information",-1)),Q8={class:"row"},G8={class:"col-md-6"},W8=qe(()=>e("strong",null,"Area / Department:",-1)),K8=qe(()=>e("br",null,null,-1)),X8={class:"col-md-6"},Z8=qe(()=>e("strong",null,"Date Requested:",-1)),e5=qe(()=>e("br",null,null,-1)),t5=qe(()=>e("strong",null,"Date Needed:",-1)),s5=qe(()=>e("br",null,null,-1)),a5=qe(()=>e("h4",null,"List of Materials",-1)),o5={class:"table table-sm table-hover table-striped"},l5=qe(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"Particular"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"UOM"),e("th",null,"Price"),e("th",null,"Total Amount")])],-1)),n5={class:"row"},d5={class:"col-md-6"},i5=qe(()=>e("strong",null,"Purpose:",-1)),c5={__name:"MrfAction",setup(s){const y=he(),h=Be(),l=r(!1),n=`${y.name}`,d=pe();r(!1),r();const c=He("$swal");me();const v=r(!0),p=Ve({id:"",site_id:null,site_name:"",mrf_order_number:"",date_requested:"",date_needed:"",purpose:"",status:"P",mrf_items_parts:[{particulars:"",description:"",quantity:0,uom:"",unit_price:0,total_amount:0}]}),_=()=>{p.mrf_items_parts.push({particulars:"",description:"",quantity:0,uom:"",unit_price:0})},i=z=>{p.mrf_items_parts.length>1&&p.mrf_items_parts.splice(z,1)};r(null);const V=r([]),m=()=>{T.get("/web/getsite").then(z=>{V.value=z.data.sites}).catch(z=>{console.log(z)})},M=r(null),O=async()=>{(await c.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(l.value=!0,T.post("/web/Mrf-request",p).then(F=>{F.status===200?(d.success(F.data.message),h.push("/Marial-Requisition")):d.error("Something went wrong. Please try again.")}).catch(F=>{d.error(F.data.message)}).finally(()=>{l.value=!1}))};return fe([v],z=>{p.is_active=z?1:0}),fe(M,Ae.exports.debounce(()=>{getItems()},300)),ve(()=>{m(),document.title=n}),(z,F)=>{const Q=ye("tab-content"),U=ye("form-wizard");return a(),o("div",V8,[l.value?(a(),o("div",U8,P8)):P("",!0),b(U,{onOnComplete:O,color:"#094899","step-size":"xs"},{default:W(()=>[b(Q,{title:"Requisition Info",icon:"fas fa-book"},{default:W(()=>[b(Ne,{label:"Material Requisition Number",placeholder:"Material Requisition Number - AutoGenerate",name:"mrf_order_number",type:"text",id:"mrf_order_number",modelValue:p.mrf_order_number,"onUpdate:modelValue":F[0]||(F[0]=E=>p.mrf_order_number=E)},null,8,["modelValue"]),b(it,{name:"branch",label:"Area / Department",modelValue:p.site_id,"onUpdate:modelValue":F[1]||(F[1]=E=>p.site_id=E),options:V.value},null,8,["modelValue","options"]),b(Ne,{label:"Date Requested",placeholder:"Date Requested",name:"date_requested",type:"date",id:"date_requested",modelValue:p.date_requested,"onUpdate:modelValue":F[2]||(F[2]=E=>p.date_requested=E)},null,8,["modelValue"]),b(Ne,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:p.date_needed,"onUpdate:modelValue":F[3]||(F[3]=E=>p.date_needed=E)},null,8,["modelValue"]),b(ct,{label:"Purpose",placeholder:"Purpose",name:"purpose",type:"text",id:"purpose",row:"3",modelValue:p.purpose,"onUpdate:modelValue":F[4]||(F[4]=E=>p.purpose=E)},null,8,["modelValue"])]),_:1}),b(Q,{title:"List of Material",icon:"fas fa-tools"},{default:W(()=>[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:_},q8)]),e("div",T8,[e("div",E8,[e("table",R8,[L8,e("tbody",null,[(a(!0),o(B,null,K(p.mrf_items_parts,(E,Y)=>(a(),o("tr",{key:Y},[e("td",null,[Z(e("input",{type:"text",class:"form-control","onUpdate:modelValue":S=>E.particulars=S},null,8,F8),[[re,E.particulars]])]),e("td",null,[Z(e("input",{type:"text",class:"form-control","onUpdate:modelValue":S=>E.description=S},null,8,N8),[[re,E.description]])]),e("td",null,[Z(e("input",{type:"number",class:"form-control","onUpdate:modelValue":S=>E.quantity=S},null,8,Y8),[[re,E.quantity]])]),e("td",null,[Z(e("input",{type:"text",class:"form-control","onUpdate:modelValue":S=>E.uom=S},null,8,B8),[[re,E.uom]])]),e("td",null,[Z(e("input",{type:"number",class:"form-control","onUpdate:modelValue":S=>E.unit_price=S},null,8,j8),[[re,E.unit_price]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:S=>i(Y)},z8,8,O8)])]))),128))])])])])]),_:1}),b(Q,{title:"Verify",icon:"fas fa-check"},{default:W(()=>{var E;return[J8,e("div",Q8,[e("div",G8,[W8,q(" "+t(((E=V.value.find(Y=>Y.id===p.site_id))==null?void 0:E.name)||"Not Selected"),1),K8]),e("div",X8,[Z8,q(" "+t(u(ie)(p.date_requested).format("MMMM D, YYYY")),1),e5,t5,q(" "+t(u(ie)(p.date_needed).format("MMMM D, YYYY")),1),s5])]),a5,e("table",o5,[l5,e("tbody",null,[(a(!0),o(B,null,K(p.mrf_items_parts,(Y,S)=>(a(),o("tr",{key:S},[e("td",null,t(Y.particulars),1),e("td",null,t(Y.description),1),e("td",null,t(Y.quantity),1),e("td",null,t(Y.uom),1),e("td",null,t(Y.unit_price),1),e("td",null,t(Y.quantity*Y.unit_price),1)]))),128))])]),e("div",n5,[e("div",d5,[i5,q(" "+t(p.purpose),1)])])]}),_:1})]),_:1})])}}};var r5=$e(c5,[["__scopeId","data-v-6d543bc1"]]);const Pe=s=>(ke("data-v-22331331"),s=s(),we(),s),u5={id:"exportPDF"},_5=Pe(()=>e("br",null,null,-1)),m5={class:"container"},p5={class:"row align-items-center"},h5={class:"container-fluid"},v5={class:"row"},b5={class:"col-sm"},f5=["src"],$5=Pe(()=>e("div",{class:"col-sm"},[e("span",{class:"m-0 font-weight-bold"},"MATERIALS REQUISITION FORM")],-1)),y5={class:"col-sm font-weight-bold font-italic"},g5={class:"table table-bordered table-sm"},k5={class:"table table-bordered text-center table-sm table-striped"},w5=Pe(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"ITEM NO."),e("th",null,"PARTICULARS"),e("th",null,"DESCRIPTION"),e("th",null,"QUANTITY"),e("th",null,"UNIT"),e("th",null,"UNIT PRICE"),e("th",null,"PRINCIPAL AMOUNT")])],-1)),x5={class:"text-right"},C5={class:"text-right"},S5={class:"font-weight-bold"},D5={class:"table table-bordered table-sm border-0"},M5={colspan:"3"},V5=Pe(()=>e("tr",null,[e("td",{colspan:"3"}," Note: Procurement cut-off time of receiving requests: MWF @8AM-2PM ")],-1)),U5=Pe(()=>e("tr",null,[e("td",{colspan:"3"}," *7 Days lead for consumables (Repeat Order) ")],-1)),A5=Pe(()=>e("tr",null,[e("td",{colspan:"3"}," *10 Days lead time for (New Request) beyond TOR for Local Vendor ")],-1)),P5=Pe(()=>e("tr",null,[e("td",{colspan:"3"}," *30 Days lead time for (New Request) beyond TOR for Foreign Vendor ")],-1)),I5={class:"signature"},q5=Pe(()=>e("br",null,null,-1)),T5={style:{"text-decoration":"underline"}},E5=Pe(()=>e("br",null,null,-1)),R5={class:"signature"},L5=Pe(()=>e("br",null,null,-1)),F5={style:{"text-decoration":"underline"}},N5=Pe(()=>e("br",null,null,-1)),Y5={class:"signature"},B5=Pe(()=>e("br",null,null,-1)),j5={style:{"text-decoration":"underline"}},O5=Pe(()=>e("br",null,null,-1)),H5=Pe(()=>e("br",null,null,-1)),z5={key:0},J5={key:0,class:"fab-container"},Q5=Pe(()=>e("i",{class:"fas fa-download"},null,-1)),G5=[Q5],W5={__name:"MrfRequestApproved",setup(s){const y=`${he().params.id}`,h=()=>{const c=document.getElementById("exportPDF");Ke().from(c).save(`${y}.pdf`)},l=c=>c?c.toFixed(2):"0.00",n=Ve({id:"",mrfOrderNumber:"",areaDepartment:"",requisitioner:"",daterequested:"",dateNeeded:"",Purpose:"",materiallist:[],checkedBy:"",checkedPosition:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",financeby:"",financePosition:"",remarks:"",Status:"",approveby:"",approvedPosition:""}),d=()=>{T.get(`/web/Mrf-request/${he().params.id}`).then(c=>{n.id=c.data.record.id,n.mrfOrderNumber=c.data.record.mrf_order_number,n.areaDepartment=c.data.record.site_name,n.requisitioner=c.data.record.requisitioner,n.daterequested=ie(c.data.record.date_requested).format("MMMM D, YYYY"),n.dateNeeded=ie(c.data.record.date_needed).format("MMMM D, YYYY"),n.Purpose=c.data.record.purpose,n.materiallist=c.data.record.mrf_items_parts,n.checkedBy=c.data.record.createdby.cfull_name,n.checkedPosition=c.data.record.createdby.cposition?c.data.record.createdby.cposition:"",n.checkedDate=ie(c.data.record.checkedDate).format("MMMM D, YYYY"),n.checkedTime=ie(c.data.record.checkedTime).format("h:mm:ss a"),n.reviewedBy=c.data.record.reviewedBy,n.reviewedDate=ie(c.data.record.reviewedDate).format("MMMM D, YYYY"),n.approvedBy=c.data.record.noted_by.ufull_name,n.approvedPosition=c.data.record.noted_by.uposition?c.data.record.noted_by.uposition:"",n.approvedDate=ie(c.data.record.approvedDate).format("MMMM D, YYYY"),n.remarks=c.data.record.remarks,n.Status=c.data.record.status,n.financeby=c.data.record.finance_by.user_finance,n.financePosition=c.data.record.finance_by.finance_position}).catch(c=>{console.log(c.message)})};return ve(()=>{d(),document.title=y}),(c,v)=>(a(),o(B,null,[e("div",u5,[_5,e("div",m5,[["P","C"].includes(n.Status)?(a(),o("div",{key:0,class:A(["ribbon",{warning:n.Status==="P",closed:n.Status==="C"}])},[e("span",null,t(n.Status==="P"?"Pending":n.Status==="C"?"Reject":n.Status==="P"),1)],2)):P("",!0),e("div",p5,[e("div",h5,[e("div",v5,[e("div",b5,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,f5)]),$5,e("div",y5,[e("span",null,t(n.mrfOrderNumber),1)])]),e("table",g5,[e("tr",null,[e("td",null,"SITE: "+t(n.areaDepartment),1),e("td",null,"DATE REQUEST: "+t(n.daterequested),1)]),e("tr",null,[e("td",null,"REQUISITIONER: "+t(n.checkedBy),1),e("td",null,"DATE NEEDED: "+t(n.dateNeeded),1)])]),e("table",k5,[w5,e("tbody",null,[(a(!0),o(B,null,K(n.materiallist,(p,_)=>(a(),o("tr",{key:_},[e("td",null,t(_+1),1),e("td",null,t(p.particulars),1),e("td",null,t(p.description),1),e("td",null,t(p.quantity),1),e("td",null,t(p.uom),1),e("td",x5,"\u20B1"+t(p.unit_price),1),e("td",C5,"\u20B1"+t(l(p.quantity*p.unit_price)),1)]))),128))])]),e("p",S5,"PURPOSE: "+t(n.Purpose),1),e("table",D5,[e("tr",null,[e("td",M5,"PREPARED BY: "+t(n.checkedBy),1)]),V5,U5,A5,P5,e("tr",null,[e("td",I5,[q(" Prepared by:"),q5,e("span",T5,t(n.checkedBy),1),q(),E5,q(" "+t(n.checkedPosition),1)]),e("td",R5,[q(" Noted by: "),L5,e("span",F5,t(n.approvedBy),1),N5,q(" "+t(n.approvedPosition),1)]),e("td",Y5,[q(" Checked by: "),B5,e("span",j5,t(n.financeby),1),O5,q(" "+t(n.financePosition),1)])])]),H5,n.Status==="A"?(a(),o("span",z5,"Approved date:("+t(n.approvedDate)+")",1)):P("",!0)])])])]),n.Status==="A"?(a(),o("div",J5,[e("div",{class:"button iconbutton bg-success",onClick:v[0]||(v[0]=p=>h())},G5)])):P("",!0)],64))}};var wt=$e(W5,[["__scopeId","data-v-22331331"]]);const tt=s=>(ke("data-v-4ea15a94"),s=s(),we(),s),K5={id:"exportPDF"},X5=tt(()=>e("br",null,null,-1)),Z5={class:"container"},eC={class:"row align-items-center"},tC={class:"container-fluid"},sC={class:"row"},aC={class:"col-auto"},oC={key:0},lC=["item"],nC={class:"d-flex align-items-center"},dC={class:"qr-code"},iC={class:"content ml-3"},cC=tt(()=>e("div",null,"Property Owner",-1)),rC=tt(()=>e("div",null,"Safexpress Logistics Inc.",-1)),uC={key:1},_C=tt(()=>e("p",null,"No data available.",-1)),mC=[_C],pC={class:"fab-container"},hC=tt(()=>e("i",{class:"fas fa-download"},null,-1)),vC=[hC],vt="Print Asset Tag",bC={__name:"PrintAsset",setup(s){he(),Be();const y=r({data:[]}),h=sessionStorage.getItem("selectedItems"),n=(h?h.split(",").map(p=>p.trim()).filter(p=>p!==""):[]).map(Number);sessionStorage.removeItem("selectedIdsArray");const d=()=>{const p=document.getElementById("exportPDF");Ke().from(p).save(`${vt}.pdf`)},c=p=>JSON.stringify({serial:p.serial,assetName:p.asset_name,dateAcquired:p.date_acquired,purchaseCost:p.purchasecost,accountable:p.paccountable}),v=()=>{T.get(`/web/asset/bulkprint/${n.join(",")}`).then(p=>{Array.isArray(p.data)?y.value.data=p.data.map(_=>({..._,qrCodeValue:c(_)})):console.error("Expected an array but got:",p.data)}).catch(p=>{console.log(p.message)})};return ve(()=>{v(),document.title=vt}),(p,_)=>(a(),o(B,null,[e("div",K5,[X5,e("div",Z5,[e("div",eC,[e("div",tC,[e("div",sC,[e("div",aC,[y.value.data.length>0?(a(),o("div",oC,[(a(!0),o(B,null,K(y.value.data,(i,V)=>(a(),o("div",{class:"asset-tag",item:i,key:V},[e("div",nC,[e("div",dC,[b(u(Bt),{width:200,height:200,value:c(i),"qr-options":{errorCorrectionLevel:"H"},"image-options":{hideBackgroundDots:!0,imageSize:1.5,margin:10},"corners-square-options":{type:"dot",color:"#34495E"},"corners-dot-options":{type:void 0,color:"#41B883"},"dots-options":{type:"dots",color:"#41B883",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#41B883"},{offset:1,color:"#34495E"}]}},image:"/img/logo.png",download:!1},null,8,["value","image"])]),e("div",iC,[cC,rC,e("div",null,"Purchase Cost: "+t(i.purchasecost),1),e("div",null,"Accountable: "+t(i.paccountable),1),e("div",null,"S/N "+t(i.serial),1),e("div",null,"Asset Name: "+t(i.asset_name),1),e("div",null,"Date Acquired: "+t(i.date_acquired),1)])])],8,lC))),128))])):(a(),o("div",uC,mC))])])])])])]),e("div",pC,[e("div",{class:"button iconbutton bg-success",onClick:_[0]||(_[0]=i=>d())},vC)])],64))}};var xt=$e(bC,[["__scopeId","data-v-4ea15a94"]]),fC=[{path:"/login",name:"admin.login",component:id},{path:"/",name:"Dashboard",component:Kt},{path:"/appointments",name:"Appointments",component:fs},{path:"/appointments/create",name:"Appointments",component:ht},{path:"/appointments/:id/edit",name:"Appointments",component:ht},{path:"/user",name:"User",component:Go},{path:"/settings",name:"Setting",component:Hl},{path:"/profile",name:"Profile",component:Fn},{path:"/client",name:"Client",component:ni},{path:"/tech-recommendation",name:"Tech Recomm",component:$r},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:Um},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:sv},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:ch},{path:"/usermenu",name:"User Menu",component:Jv},{path:"/menu",name:"Menu",component:h1},{path:"/:catchAll(.*)",name:"404 Error Page",component:yt},{path:"/notifications",name:"Notifications",component:Cf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:gt},{path:"/asset-category",name:"Asset Category",component:C2},{path:"/asset-item-master",name:"Asset Item Master",component:Lk},{path:"/asset-monitoring",name:"Asset Monitoring",component:$g},{path:"/asset-monitoring/bulkPrint/print",name:"print-asset",component:xt},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:G3},{path:"/usersite",name:"User Site",component:mw},{path:"/job-order-request-list",name:"Job Order Request",component:Zw},{path:"/job-order-request-list/create",name:"Job Order Create",component:Rx},{path:"/job-order-request-approved/:id/view",name:"Job-Order-Request-Approved",component:kt},{path:"/Marial-Requisition",name:"Material Requisition Form List",component:M8},{path:"/Marial-Requisition/create",name:"Create Material Requisition Form",component:r5},{path:"/Marial-Requisition-approved/:id/view",name:"marial-Requisition-Approved",component:wt}];const $C={class:"navbar-nav"},yC=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),gC={class:"nav-item d-none d-sm-inline-block"},kC={class:"navbar-nav ml-auto"},wC=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),xC={class:"nav-link","data-toggle":"dropdown",href:"#"},CC=e("i",{class:"far fa-bell"},null,-1),SC={class:"badge badge-warning navbar-badge"},DC={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},MC={class:"dropdown-header"},VC=e("div",{class:"dropdown-divider"},null,-1),UC=e("i",{class:"fas fa-envelope mr-2"},null,-1),AC={class:"float-right text-muted text-sm"},PC={key:1,class:"text-center text-muted py-3"},IC=e("div",{class:"dropdown-divider"},null,-1),qC=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),TC={class:"nav-item dropdown"},EC={class:"nav-link","data-toggle":"dropdown",href:"#"},RC={class:"user-panel d-flex",style:{top:"-5px"}},LC={class:"info"},FC={key:0,class:"image"},NC=["src"],YC={key:1,class:"image"},BC=["src"],jC=["src"],OC={class:"dropdown-menu dropdown-menu-sg dropdown-menu-right"},HC=e("i",{class:"fas fa-user-circle"},null,-1),zC={__name:"AppNavbar",setup(s){const y=Xe(),h=r([]),l=me(),n=()=>{T.get("/api/notifications").then(d=>{h.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return ve(()=>{n()}),(d,c)=>{const v=ye("router-link");return a(),o("nav",{class:A(["main-header navbar navbar-expand",u(y).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",$C,[yC,e("li",gC,[e("a",{onClick:c[0]||(c[0]=ae((...p)=>u(y).changeTheme&&u(y).changeTheme(...p),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:A(["far",u(y).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",kC,[wC,e("li",{class:"nav-item dropdown",onClick:n},[e("a",xC,[CC,e("span",SC,t(h.value.length),1)]),e("div",DC,[e("span",MC,t(h.value.length)+" Notifications",1),VC,h.value.length>0?(a(!0),o(B,{key:0},K(h.value,p=>(a(),o("a",{key:p.id,href:"#",class:"dropdown-item"},[UC,q(" "+t(p.data?p.data:"No message available")+" ",1),e("span",AC,t(u(ie)(p.created_at)),1)]))),128)):(a(),o("p",PC,"No new notifications")),IC,b(v,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:W(()=>[q("See All Notifications")]),_:1})])]),qC,e("li",TC,[e("a",EC,[e("div",RC,[e("div",LC,t(u(l).user.name),1),u(l).user.avatar===""?(a(),o("div",FC,[e("img",{src:u(l).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,NC)])):u(l).user.avatar!==""?(a(),o("div",YC,[u(l).user.gender==="Male"?(a(),o("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,BC)):u(l).user.gender==="Female"?(a(),o("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,jC)):P("",!0)])):P("",!0)])]),e("div",OC,[b(v,{class:"dropdown-item",to:"/profile"},{default:W(()=>[HC,q(" My Profile")]),_:1})])])])],2)}}},JC={class:"main-sidebar sidebar-dark-primary elevation-4"},QC={href:"#",class:"brand-link"},GC={class:"brand-text"},WC=["src"],KC={class:"sidebar"},XC={class:"mt-2"},ZC={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},eS={key:0,class:"right fas fa-angle-left"},tS={key:0,class:"nav nav-treeview"},sS={class:"nav-item"},aS={class:"nav-link"},oS=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),lS=e("p",null,"Logout",-1),nS=[oS,lS],dS={__name:"SidebarLeft",setup(s){const y=Be(),h=me();Xe();const l=r({data:[]}),n=()=>{axios.get("/web/menu").then(v=>{l.value=v.data}).catch(v=>{console.log(v)})},d=v=>v===y.currentRoute.value.path,c=()=>{axios.post("/logout").then(v=>{h.user.name="",y.push("/login")})};return ve(()=>{$('[data-widget="treeview"]').Treeview("init"),n()}),(v,p)=>{const _=ye("router-link");return a(),o("aside",JC,[e("a",QC,[e("span",GC,[e("img",{src:"/img/ESS-WMS.png",alt:" Logo",height:"50",width:"200",style:{opacity:"0.8"},draggable:"false"},null,8,WC)])]),e("div",KC,[e("nav",XC,[e("ul",ZC,[(a(!0),o(B,null,K(l.value,i=>(a(),o("li",{key:i.id,class:A({"nav-item":!0,"menu-is-opening":i.submenus&&i.submenus.length>0})},[b(_,{class:A({"nav-link":!0,active:d(i.menu_route)}),to:`${i.menu_route}`},{default:W(()=>[e("i",{class:A("nav-icon "+i.menu_icon)},null,2),e("p",null,t(i.menu_title),1),i.submenus&&i.submenus.length>0?(a(),o("i",eS)):P("",!0)]),_:2},1032,["class","to"]),i.submenus&&i.submenus.length>0?(a(),o("ul",tS,[(a(!0),o(B,null,K(i.submenus,V=>(a(),o("li",{key:V.id,class:"nav-item"},[b(_,{class:A({"nav-link menu-open":!0,active:d(V.menu_route)}),to:V.menu_route},{default:W(()=>[e("i",{class:A("nav-icon "+V.menu_icon)},null,2),e("p",null,t(V.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):P("",!0)],2))),128)),e("li",sS,[e("form",aS,[e("a",{href:"#",onClick:ae(c,["prevent"])},nS)])])])])])])}}},iS={},cS={class:"control-sidebar control-sidebar-dark"},rS=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),uS=[rS];function _S(s,y){return a(),o("aside",cS,uS)}var mS=$e(iS,[["render",_S]]);const pS={class:"main-footer"},hS={class:"float-right d-none d-sm-block"},vS={href:"#"},bS={__name:"AppFooter",props:{settings:Object},setup(s){const y=me(),h=r(new Date().getFullYear());return(l,n)=>{var d;return a(),o("footer",pS,[e("div",hS,t(u(y).user.name),1),e("strong",null,[q("Copyright \xA9 "+t(h.value)+" ",1),e("a",vS,t((d=s.settings)==null?void 0:d.app_name),1),q(".")]),q(" All rights reserved. ")])}}};const fS=s=>(ke("data-v-36653638"),s=s(),we(),s),$S={class:"content-wrapper"},yS={class:"content-header"},gS={class:"container-fluid"},kS={class:"row mb-2"},wS={class:"col-sm-6"},xS={class:"m-0"},CS={class:"col-sm-6"},SS={class:"breadcrumb float-sm-right"},DS=fS(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),MS={class:"breadcrumb-item active"},VS={__name:"CustomMainLayout",setup(s){const y=me(),h=Xe(),l=Me(()=>h.theme==="dark"?"dark-mode":"");return(n,d)=>{const c=ye("router-view");return u(y).user.name!==""?(a(),o("div",{key:0,class:A(["wrapper",l.value])},[b(zC),b(dS),b(mS),e("div",$S,[e("section",yS,[e("div",gS,[e("div",kS,[e("div",wS,[e("h1",xS,t(n.$route.name),1)]),e("div",CS,[e("ol",SS,[DS,e("li",MS,t(n.$route.name),1)])])])])]),b(c)]),b(bS)],2)):(a(),o("div",{key:1,class:A(["login-page slibg",l.value])},[b(c)],2))}}};var US=$e(VS,[["__scopeId","data-v-36653638"]]);const AS={__name:"App",setup(s){me();const y=he(),h=Me(()=>y.name==="Tech-Approved"),l=Me(()=>y.name==="Job-Order-Request-Approved"),n=Me(()=>y.name==="marial-Requisition-Approved"),d=Me(()=>y.name==="print-asset"),c=Me(()=>y.name==="404 Error Page");return(v,p)=>(a(),o("div",null,[!c.value&&!h.value&&!l.value&&!n.value&&!d.value?(a(),ue(US,{key:0})):h.value?(a(),ue(gt,{key:1})):l.value?(a(),ue(kt,{key:2})):n.value?(a(),ue(wt,{key:3})):d.value?(a(),ue(xt,{key:4})):(a(),ue(yt,{key:5}))]))}};var PS=$e(AS,[["__scopeId","data-v-435c4714"]]);const IS=Mt(),We=At(PS),Ct=Vt({routes:fC,history:Ut()});Ct.beforeEach(async(s,y)=>{const h=me();if(h.user.name===""&&s.name!=="admin.login"){const l=Xe();await Promise.all([h.getAuthUser(),l.getSetting()])}});We.use(Ot);We.use(IS);We.use(Ct);We.use(jt);We.use(Ke);We.mount("#app");
