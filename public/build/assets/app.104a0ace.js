import{_ as at,l as ke}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as ot}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.6c11729d.js";import{d as He,c as lt}from"./pinia.177553b5.js";import{u as Be,a as Le,c as nt,b as dt}from"./vue-router.ea66a290.js";import{r as d,o as ue,i as a,k as e,x as s,_ as S,u as i,e as t,I as ge,h as Z,j as I,F as q,q as O,d as Me,a0 as ae,v as F,C as xe,a2 as j,a3 as oe,a7 as $e,p as V,w as me,a8 as fe,a9 as he,f as ne,a5 as we,a6 as Ce,B as it,a1 as Pe,aa as ct}from"./@vue.4ae0f184.js";import{B as rt}from"./vue-chartjs.a660a76a.js";import{C as ut,p as _t,a as mt,b as ht,c as pt,d as vt,L as bt}from"./chart.js.562acd0f.js";import{S as Re}from"./sweetalert2.ef56b979.js";import{t as Ie}from"./toastr.94171567.js";import{F as be,a as Q}from"./vee-validate.2167efee.js";import{f as Oe}from"./flatpickr.181c7977.js";import{c as ve,a as P}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as re}from"./moment.40bc58bf.js";import{a as Ue}from"./laravel-vue-pagination.441da446.js";import{C as ye}from"./vue-content-loader.1bd220f1.js";import"./dompurify.5fe4b1c1.js";import{u as ft}from"./@vueuse.38a26bf2.js";import{L as De}from"./vue3-datepicker.d98707a6.js";import{h as Ye}from"./html2canvas.c4a43e03.js";import{h as ze}from"./html2pdf.js.44b835e5.js";import{V as $t}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=at;window.axios=T;window.$=window.jQuery=ot;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const de=He("AuthUserStore",()=>{const o=d({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(n=>{o.value=n.data})}}}),gt={class:"content"},yt={class:"container-fluid"},kt={class:"card"},xt={class:"card-header"},wt={class:"card-body"},Ct=e("div",{class:"row"},null,-1),St={__name:"Dashboard",setup(o){ut.register(_t,mt,ht,pt,vt,bt),de(),d("all"),d(0);const _=d(new Date().getFullYear()),n=d({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),l=()=>{axios.get("/api/chart").then(u=>{u.data,n.value=u.data}).catch(u=>{console.error("Error fetching chart data:",u)})},c=d("today"),v=d(0),w=()=>{axios.get("/api/stats/users",{params:{date_range:c.value}}).then(u=>{v.value=u.data.totalUsersCount})};return ue(()=>{l(),w()}),(u,N)=>(t(),a("div",gt,[e("div",yt,[e("div",kt,[e("div",xt," Yearly Progress - "+s(_.value),1),e("div",wt,[S(i(rt),{data:n.value},null,8,["data"])])]),Ct])]))}},Mt={class:"content"},Ut={class:"container-fluid"},Dt={class:"row"},Vt={class:"col-lg-12"},At={class:"d-flex justify-content-between mb-2"},Et=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),F(" Add New Appointment")],-1),Tt={class:"btn-group"},It=e("span",{class:"mr-1"},"All",-1),Lt={class:"badge badge-pill badge-info"},Ft=["onClick"],Pt={class:"mr-1"},Yt={class:"card"},Bt={class:"card-body"},Nt={class:"table table-bordered"},qt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Rt=e("td",null,null,-1),jt=e("i",{class:"fa fa-edit mr-2"},null,-1),Ht=["onClick"],Ot=e("i",{class:"fa fa-trash text-danger"},null,-1),zt=[Ot],Gt={__name:"ListAppointments",setup(o){const _=d(),n=d([]),l=()=>{T.get("/api/appointment-status").then(b=>{n.value=b.data})},c=d([]),v=b=>{_.value=b;const M={};b&&(M.status=b),T.get("/api/appointments",{params:M}).then(x=>{c.value=x.data,console.log(x)})},w=ge(()=>n.value.map(b=>b.count).reduce((b,M)=>b+M,0)),u=b=>{const M=c.value.data.find(p=>p.id===b).status.name,x=n.value.find(p=>p.name===M);x.count--},N=b=>{Re.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(M=>{M.isConfirmed&&T.delete(`/api/appointments/${b}`).then(x=>{u(b),c.value.data=c.value.data.filter(p=>p.id!==b),Re.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{v(),l()}),(b,M)=>{const x=Me("router-link");return t(),a("div",Mt,[e("div",Ut,[e("div",Dt,[e("div",Vt,[e("div",At,[e("div",null,[S(x,{to:"/admin/appointments/create"},{default:Z(()=>[Et]),_:1})]),e("div",Tt,[e("button",{onClick:M[0]||(M[0]=p=>v()),type:"button",class:I(["btn",[typeof _.value=="undefined"?"btn-secondary":"btn-default"]])},[It,e("span",Lt,s(w.value),1)],2),(t(!0),a(q,null,O(n.value,p=>(t(),a("button",{onClick:U=>v(p.value),type:"button",class:I(["btn",[_.value===p.value?"btn-secondary":"btn-default"]])},[e("span",Pt,s(p.name),1),e("span",{class:I(["badge badge-pill",`badge-${p.color}`])},s(p.count),3)],10,Ft))),256))])]),e("div",Yt,[e("div",Bt,[e("table",Nt,[qt,e("tbody",null,[(t(!0),a(q,null,O(c.value.data,(p,U)=>(t(),a("tr",{key:p.id},[e("td",null,s(U+1),1),e("td",null,s(p.client.first_name)+" "+s(p.client.last_name),1),e("td",null,s(p.start_time),1),e("td",null,s(p.end_time),1),Rt,e("td",null,[S(x,{to:`/admin/appointments/${p.id}/edit`},{default:Z(()=>[jt]),_:2},1032,["to"]),e("a",{href:"#",onClick:ae(X=>N(p.id),["prevent"])},zt,8,Ht)])]))),128))])])])])])])])])}}};function ie(){return Ie.options.positionClass="toast-top-right",Ie.options.closeButton=!0,Ie.options.progressBar=!0,Ie}const Qt={class:"content-header"},Wt={class:"container-fluid"},Kt={class:"row mb-2"},Xt={class:"col-sm-6"},Jt={class:"m-0"},Zt={key:0},es={key:1},ts={class:"col-sm-6"},ss={class:"breadcrumb float-sm-right"},as={class:"breadcrumb-item"},os={class:"breadcrumb-item"},ls={class:"breadcrumb-item active"},ns={key:0},ds={key:1},is={class:"content"},cs={class:"container-fluid"},rs={class:"row"},us={class:"col-lg-12"},_s={class:"card"},ms={class:"card-body"},hs={class:"row"},ps={class:"col-md-6"},vs={class:"form-group"},bs=e("label",{for:"title"},"Title",-1),fs={class:"invalid-feedback"},$s={class:"col-md-6"},gs={class:"form-group"},ys=e("label",{for:"client"},"Client Name",-1),ks=["value"],xs={class:"invalid-feedback"},ws={class:"row"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ms=e("label",{for:"start-time"},"Start Time",-1),Us={class:"invalid-feedback"},Ds={class:"col-md-6"},Vs={class:"form-group"},As=e("label",{for:"end-time"},"End Time",-1),Es={class:"invalid-feedback"},Ts={class:"form-group"},Is=e("label",{for:"description"},"Description",-1),Ls={class:"invalid-feedback"},Fs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),je={__name:"AppointmentForm",setup(o){const _=Be(),n=Le(),l=ie(),c=xe({title:"",client_id:"",start_time:"",end_time:"",description:""}),v=(p,U)=>{x.value?u(p,U):w(p,U)},w=(p,U)=>{T.post("/api/appointments/create",c).then(X=>{_.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(X=>{U.setErrors(X.response.data.errors)})},u=(p,U)=>{T.put(`/api/appointments/${n.params.id}/edit`,c).then(X=>{_.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(X=>{U.setErrors(X.response.data.errors)})},N=d(),b=()=>{T.get("/api/view-clients").then(p=>{N.value=p.data})},M=()=>{T.get(`/api/appointments/${n.params.id}/edit`).then(({data:p})=>{c.title=p.title,c.client_id=p.client_id,c.start_time=p.formatted_start_time,c.end_time=p.formatted_end_time,c.description=p.description})},x=d(!1);return ue(()=>{n.name==="admin.appointments.edit"&&(x.value=!0,M()),Oe(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),b()}),(p,U)=>{const X=Me("router-link");return t(),a(q,null,[e("div",Qt,[e("div",Wt,[e("div",Kt,[e("div",Xt,[e("h1",Jt,[x.value?(t(),a("span",Zt,"Edit")):(t(),a("span",es,"Create")),F(" Appointment")])]),e("div",ts,[e("ol",ss,[e("li",as,[S(X,{to:"/admin/dashboard"},{default:Z(()=>[F("Home")]),_:1})]),e("li",os,[S(X,{to:"/admin/appointments"},{default:Z(()=>[F("Appointments")]),_:1})]),e("li",ls,[x.value?(t(),a("span",ns,"Edit")):(t(),a("span",ds,"Create"))])])])])])]),e("div",is,[e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[e("div",ms,[S(i(be),{onSubmit:v},{default:Z(({errors:B})=>[e("div",hs,[e("div",ps,[e("div",vs,[bs,j(e("input",{"onUpdate:modelValue":U[0]||(U[0]=z=>c.title=z),type:"text",class:I(["form-control",{"is-invalid":B.title}]),id:"title",placeholder:"Enter Title"},null,2),[[oe,c.title]]),e("span",fs,s(B.title),1)])]),e("div",$s,[e("div",gs,[ys,j(e("select",{"onUpdate:modelValue":U[1]||(U[1]=z=>c.client_id=z),id:"client",class:I(["form-control",{"is-invalid":B.client_id}])},[(t(!0),a(q,null,O(N.value,z=>(t(),a("option",{value:z.id,key:z.id},s(z.first_name)+" "+s(z.last_name),9,ks))),128))],2),[[$e,c.client_id]]),e("span",xs,s(B.client_id),1)])])]),e("div",ws,[e("div",Cs,[e("div",Ss,[Ms,j(e("input",{"onUpdate:modelValue":U[2]||(U[2]=z=>c.start_time=z),type:"text",class:I(["form-control flatpickr",{"is-invalid":B.start_time}]),id:"start-time"},null,2),[[oe,c.start_time]]),e("span",Us,s(B.start_time),1)])]),e("div",Ds,[e("div",Vs,[As,j(e("input",{"onUpdate:modelValue":U[3]||(U[3]=z=>c.end_time=z),type:"text",class:I(["form-control flatpickr",{"is-invalid":B.end_time}]),id:"end-time"},null,2),[[oe,c.end_time]]),e("span",Es,s(B.end_time),1)])])]),e("div",Ts,[Is,j(e("textarea",{"onUpdate:modelValue":U[4]||(U[4]=z=>c.description=z),class:I(["form-control",{"is-invalid":B.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[oe,c.description]]),e("span",Ls,s(B.description),1)]),Fs]),_:1})])])])])])])],64)}}},Ps=["checked"],Ys=["value","selected"],Bs=["value","selected"],Ns=e("i",{class:"fa fa-edit"},null,-1),qs=[Ns],Rs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),js=[Rs],Hs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:_}){const n=ie(),l=o,c=_,v=d([{name:"ADMIN",value:1},{name:"USER",value:2}]),w=d([]),u=()=>{T.get("/api/users/userlist").then(x=>{w.value=x.data}).catch(x=>{console.log(x)})},N=(x,p)=>{T.patch(`/api/users/${x.id}/change-role`,{role:p}).then(()=>{n.success("Role changed successfully!")})},b=(x,p)=>{T.patch(`/api/users/${x.id}/change-sitehead`,{sitehead_user_id:p}).then(()=>{n.success("Sitehead changed successfully!")})},M=()=>{c("toggleSelection",l.user)};return ue(()=>{u()}),(x,p)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:M},null,40,Ps)):V("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:p[0]||(p[0]=U=>N(o.user,U.target.value))},[(t(!0),a(q,null,O(v.value,U=>(t(),a("option",{key:U.id,value:U.value,selected:o.user.role===U.name},s(U.name),9,Ys))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:p[1]||(p[1]=U=>b(o.user,U.target.value))},[(t(!0),a(q,null,O(w.value,U=>(t(),a("option",{key:U.id,value:U.id,selected:o.user.sitehead_user_id===U.id},s(U.first_name+" "+U.last_name),9,Bs))),128))],32)):V("",!0)]),e("td",null,[e("a",{href:"#",onClick:p[2]||(p[2]=ae(U=>x.$emit("editUser",o.user),["prevent"]))},qs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:p[3]||(p[3]=ae(U=>x.$emit("confirmUserDeletion",o.user.id),["prevent"]))},js)):V("",!0)])]))}},Os={class:"content"},zs={class:"container-fluid"},Gs={class:"d-flex justify-content-between mb-2"},Qs={class:"d-flex"},Ws=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Ks={key:0},Xs=e("i",{class:"fa fa-trash mr-1"},null,-1),Js={class:"ml-2"},Zs={class:"card"},ea={class:"card-body"},ta={class:"dispatch-table"},sa={class:"table-responsive"},aa={class:"table table-bordered table-hover table-sm"},oa=e("th",{style:{width:"10px"}},"#",-1),la=e("th",null,"Name",-1),na=e("th",null,"Email",-1),da=e("th",null,"Registered Date",-1),ia=e("th",null,"Role",-1),ca=e("th",null,"Head",-1),ra=e("th",null,"Action",-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[ma],pa=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Ma=["value","selected"],Ua=e("hr",null,null,-1),Da={class:"row"},Va={key:0,class:"col"},Aa=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],Ia=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),F(" Remove ")],-1),La=[Ia],Fa={key:1,class:"col"},Pa=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ba={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Na={class:"modal-dialog",role:"document"},qa={class:"modal-content"},Ra={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Ha={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},ho={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Mo=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Do=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vo={__name:"UserList",setup(o){const _=de(),n=ie(),l=d({data:[]}),c=d(!1),v=d(),w=d(null);d([]),d(null);const u=d([{name:"Male",value:1},{name:"Female",value:2}]),N=(g=1)=>{T.get(`/api/users?page=${g}`,{params:{query:h.value}}).then(f=>{l.value=f.data,y.value=[],se.value=!1})},b=ve({name:P().required(),last_name:P().required(),first_name:P().required(),email:P().email().required(),password:P().required().min(8),gender:P().required()}),M=ve({name:P().required(),last_name:P().required(),first_name:P().required(),email:P().email().required(),password:P().when((g,f)=>g?f.required().min(8):f),gender:P().required()}),x=d([]),p=()=>{T.get("/api/users/userlist").then(g=>{x.value=g.data}).catch(g=>{console.log(g)})},U=(g,f)=>{T.patch(`/api/users/${g.id}/change-sitehead`,{sitehead_user_id:f}).then(()=>{n.success("Sitehead changed successfully!")})},X=(g,{resetForm:f,setErrors:r})=>{T.post("/api/users",g).then(ee=>{l.value.data.unshift(ee.data),$("#userFormModal").modal("hide"),f(),n.success("User created successfully!")}).catch(ee=>{ee.response.data.errors&&(r(ee.response.data.errors),n.warning(ee.response.data.errors.name))})},B=()=>{c.value=!1,$("#userFormModal").modal("show")},z=g=>{c.value=!0,w.value.resetForm(),$("#userFormModal").modal("show"),v.value={id:g.id,name:g.name,email:g.email,sitehead_user_id:g.sitehead_user_id,first_name:g.first_name,last_name:g.last_name,gender:g.gender}},A=(g,{setErrors:f})=>{T.put("/api/users/"+v.value.id,g).then(r=>{const ee=l.value.data.findIndex(E=>E.id===r.data.id);l.value.data[ee]=r.data,$("#userFormModal").modal("hide"),n.success("User updated successfully!")}).catch(r=>{f(r.response.data.errors),console.log(r)})},k=(g,f)=>{c.value?A(g,f):X(g,f)},h=d(null),y=d([]),L=g=>{const f=y.value.indexOf(g.id);f===-1?y.value.push(g.id):y.value.splice(f,1),console.log(y.value)},te=d(null),G=g=>{te.value=g,$("#deleteUserModal").modal("show")},K=()=>{T.delete(`/api/users/${te.value}`).then(()=>{$("#deleteUserModal").modal("hide"),n.success("User deleted successfully!"),l.value.data=l.value.data.filter(g=>g.id!==te.value)})},R=()=>{T.delete("/api/users",{data:{ids:y.value}}).then(g=>{l.value.data=l.value.data.filter(f=>!y.value.includes(f.id)),y.value=[],se.value=!1,n.success(g.data.message)})},se=d(!1),C=()=>{se.value?y.value=l.value.data.map(g=>g.id):y.value=[],console.log(y.value)};return me(h,ke.exports.debounce(()=>{N()},300)),ue(()=>{N(),p()}),(g,f)=>(t(),a(q,null,[e("div",Os,[e("div",zs,[e("div",Gs,[e("div",Qs,[e("button",{onClick:B,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Ws,F(" User ")]),y.value.length>0?(t(),a("div",Ks,[e("button",{onClick:R,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xs,F(" Delete Selected ")]),e("span",Js,"Selected "+s(y.value.length)+" users",1)])):V("",!0)]),e("div",null,[j(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=r=>h.value=r),class:"form-control",placeholder:"Search..."},null,512),[[oe,h.value]])])]),e("div",Zs,[e("div",ea,[e("div",ta,[e("div",sa,[e("table",aa,[e("thead",null,[e("tr",null,[e("th",null,[j(e("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=r=>se.value=r),onChange:C},null,544),[[fe,se.value]])]),oa,la,na,da,ia,ca,ra])]),l.value.data.length>0?(t(),a("tbody",ua,[(t(!0),a(q,null,O(l.value.data,(r,ee)=>(t(),ne(Hs,{key:r.id,user:r,index:ee,onEditUser:z,onConfirmUserDeletion:G,onToggleSelection:L,"select-all":se.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",_a,ha))])])]),(t(!0),a(q,null,O(l.value.data,(r,ee)=>(t(),a("div",{class:"dispatch-list",key:r.id,index:ee},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,s(r.first_name+" "+r.last_name),1)]),e("div",ga,[ya,e("span",null,s(r.email),1)]),e("div",ka,[xa,e("span",null,s(r.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[r.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:E=>U(r,E.target.value)},[(t(!0),a(q,null,O(x.value,E=>(t(),a("option",{key:E.id,value:E.id,selected:E.sitehead_user_id===E.id},s(E.first_name+" "+E.last_name),9,Ma))),128))],40,Sa)):V("",!0)])]),Ua,e("div",Da,[i(_).user.role==="ADMIN"?(t(),a("div",Va,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:E=>z(r)},[Ea,F(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:E=>G(r.id)},La,8,Ta)])):V("",!0),i(_).user.role==="USER"?(t(),a("div",Fa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:E=>z(r)},[Ya,F(" Edit ")],8,Pa)])):V("",!0)])])])],8,pa))),128))])]),S(i(Ue),{data:l.value,onPaginationChangePage:N},null,8,["data"])])]),e("div",Ba,[e("div",Na,[e("div",qa,[e("div",Ra,[e("h5",ja,[c.value?(t(),a("span",Ha,"Edit User")):(t(),a("span",Oa,"Add New User"))]),za]),S(i(be),{ref_key:"form",ref:w,onSubmit:k,"validation-schema":c.value?i(M):i(b),"initial-values":v.value},{default:Z(({errors:r})=>[e("div",Ga,[e("div",Qa,[Wa,S(i(Q),{name:"name",type:"text",class:I(["form-control",{"is-invalid":r.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,s(r.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,S(i(Q),{name:"email",type:"email",class:I(["form-control",{"is-invalid":r.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,s(r.email),1)])]),e("div",so,[e("div",ao,[oo,S(i(Q),{id:"gender",name:"gender",as:"select",class:I(["form-control",{"is-invalid":r.gender}])},{default:Z(()=>[lo,(t(!0),a(q,null,O(u.value,ee=>(t(),a("option",{key:ee.name,value:ee.name},s(ee.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,S(i(Q),{name:"first_name",type:"text",class:I(["form-control",{"is-invalid":r.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,s(r.first_name),1)])]),e("div",mo,[e("div",ho,[po,S(i(Q),{name:"last_name",type:"text",class:I(["form-control",{"is-invalid":r.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,s(r.last_name),1)])])]),e("div",bo,[fo,S(i(Q),{name:"position",type:"text",class:I(["form-control",{"is-invalid":r.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,s(r.position),1)]),e("div",go,[yo,S(i(Q),{name:"password",type:"password",class:I(["form-control",{"is-invalid":r.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,s(r.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Mo,e("div",Uo,[Do,e("button",{onClick:ae(K,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var pe=(o,_)=>{const n=o.__vccOpts||o;for(const[l,c]of _)n[l]=c;return n};const Se=o=>(we("data-v-340371f4"),o=o(),Ce(),o),Ao={class:"content"},Eo={class:"container-fluid"},To={class:"row"},Io={class:"col-md-6"},Lo={class:"card"},Fo=he('<ul class="nav nav-tabs" id="settingsTabs" data-v-340371f4><li class="nav-item" data-v-340371f4><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-340371f4>General Settings</a></li><li class="nav-item" data-v-340371f4><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-340371f4>Site Settings</a></li></ul>',1),Po={class:"tab-content"},Yo={class:"tab-pane fade show active",id:"general"},Bo={class:"card-body"},No={class:"form-group"},qo=Se(()=>e("label",{for:"appName"},"App Display Name",-1)),Ro={key:0,class:"text-danger text-sm"},jo={class:"form-group"},Ho=Se(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Oo=he('<option value="m/d/Y" data-v-340371f4> MM/DD/YYYY </option><option value="d/m/Y" data-v-340371f4> DD/MM/YYYY </option><option value="Y-m-d" data-v-340371f4> YYYY-MM-DD </option><option value="F j, Y" data-v-340371f4> Month DD, YYYY </option><option value="j F Y" data-v-340371f4> DD Month YYYY </option>',5),zo=[Oo],Go={key:0,class:"text-danger text-sm"},Qo={class:"form-group"},Wo=Se(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Ko={key:0,class:"text-danger text-sm"},Xo=Se(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),F("Save Changes ")])],-1)),Jo={class:"tab-pane fade",id:"site"},Zo={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},el=Se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),tl=Se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),sl={key:0,class:"list-group-item mt-2"},al={class:"d-flex justify-content-between"},ol={class:"d-flex"},ll=["onClick"],nl={class:"d-flex"},dl=["onClick"],il={class:"m-2 list-unstyled"},cl={key:1},rl={key:0,class:"list-group-item mt-2"},ul={class:"d-flex justify-content-between"},_l={class:"d-flex"},ml=["onClick"],hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=Se(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=Se(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const _=d([]),n=ie(),l=d(!0),c=d([]),v=d(!1),w=d(),u=d({id:"",site_name:"",is_active:""}),N=()=>{v.value=!0,axios.get("/api/site").then(A=>{v.value=!1,c.value=A.data}).catch(A=>{console.log(A)})},b=ge(()=>Array.isArray(c.value)?c.value.filter(A=>A.is_active===0):[]),M=ge(()=>b.value.length),x=()=>{l.value=!l.value},p=()=>{var A,k;v.value=!0,axios.post("/api/site",{id:(A=u.value)==null?void 0:A.id,site_name:(k=u.value)==null?void 0:k.site_name,is_active:!0}).then(h=>{N(),u.value={id:null,site_name:"",is_active:!0},n.success(h.data.message),v.value=!1}).catch(h=>{h.response&&h.response.status===422&&(B.value=h.response.data.errors)})},U=A=>{u.value.is_active=A.is_active===1?0:1,axios.post("/api/site",{id:A.id,site_name:A.site_name,is_active:u.value.is_active}).then(k=>{axios.get("/api/site").then(h=>{c.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),n.error("Error fetching tasks. Please try again.")})}).catch(k=>{console.error("Error adding new task:",k),n.error("Error adding new task. Please try again.")})},X=()=>{axios.get("/api/settings").then(A=>{_.value=A.data})},B=d(),z=()=>{B.value="",axios.post("/api/settings",_.value).then(A=>{n.success("Settings updated successfully!")}).catch(A=>{A.response&&A.response.status===422&&(B.value=A.response.data.errors)})};return ue(()=>{N(),X()}),(A,k)=>(t(),a("div",Ao,[e("div",Eo,[e("div",To,[e("div",Io,[e("div",Lo,[Fo,e("div",Po,[e("div",Yo,[e("form",{onSubmit:k[3]||(k[3]=ae(h=>z(),["prevent"]))},[e("div",Bo,[e("div",No,[qo,j(e("input",{"onUpdate:modelValue":k[0]||(k[0]=h=>_.value.app_name=h),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[oe,_.value.app_name]]),B.value&&B.value.app_name?(t(),a("span",Ro,s(B.value.app_name[0]),1)):V("",!0)]),e("div",jo,[Ho,j(e("select",{"onUpdate:modelValue":k[1]||(k[1]=h=>_.value.date_format=h),class:"form-control"},zo,512),[[$e,_.value.date_format]]),B.value&&B.value.date_format?(t(),a("span",Go,s(B.value.date_format[0]),1)):V("",!0)]),e("div",Qo,[Wo,j(e("input",{"onUpdate:modelValue":k[2]||(k[2]=h=>_.value.pagination_limit=h),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[oe,_.value.pagination_limit]]),B.value&&B.value.pagination_limit?(t(),a("span",Ko,s(B.value.pagination_limit[0]),1)):V("",!0)])]),Xo],32)]),e("div",Jo,[c.value.length>0?(t(),a("div",Zo,[v.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[el,tl]),_:1})):V("",!0),(t(!0),a(q,null,O(c.value,h=>(t(),a("ul",{class:"list-group",key:h.id},[h.is_active===1?(t(),a("li",sl,[e("div",al,[e("div",ol,[e("i",{onClick:y=>U(h),class:I({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":h.is_active===1,"fa fa-circle text-primary":h.is_active===0}),style:{"font-size":"15px"}},null,10,ll),e("span",{class:I({"font-italic text-red":h.is_active===0,"":h.is_active===1})},s(h.site_name),3)]),e("div",nl,[e("i",{class:"fa fa-pen text-success",onClick:y=>A.edit(h)},null,8,dl)])])])):V("",!0)]))),128)),e("li",il,[M.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:x},[e("i",{class:I(["fa",l.value?"fa-arrow-down":"fa-arrow-right"])},null,2),F(" \xA0Deactive List "+s(M.value),1)])):V("",!0)]),l.value?(t(),a("div",cl,[(t(!0),a(q,null,O(c.value,h=>(t(),a("ul",{class:"list-group",key:h.id},[h.is_active===0?(t(),a("li",rl,[e("div",ul,[e("div",_l,[e("i",{onClick:y=>U(h),class:I({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":h.is_active===1,"fa fa-circle text-primary":h.is_active===0}),style:{"font-size":"15px"}},null,10,ml),e("span",{class:I({"font-italic text-red":h.is_active===0,"":h.is_active===1})},[e("del",null,s(h.site_name),1)],2)]),e("div",hl,[h.is_active===1?(t(),a("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:y=>A.edit(h)},null,8,pl)):V("",!0)])])])):V("",!0)]))),128))])):V("",!0)])):(t(),a("div",vl,fl)),S(i(be),{ref:"form",onSubmit:p,"initial-values":w.value},{default:Z(()=>[S(i(Q),{name:"id",modelValue:u.value.id,"onUpdate:modelValue":k[4]||(k[4]=h=>u.value.id=h),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[S(i(Q),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:u.value.site_name,"onUpdate:modelValue":k[5]||(k[5]=h=>u.value.site_name=h),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=pe(yl,[["__scopeId","data-v-340371f4"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Ml={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Dl={class:"text-center"},Vl=["src"],Al={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Il={class:"card"},Ll=he('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Fl={class:"card-body"},Pl={class:"tab-content"},Yl={class:"tab-pane active",id:"profile"},Bl={class:"form-group row"},Nl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),ql={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},jl={class:"form-group row"},Hl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),F(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),F(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const _=de(),n=ie(),l=d([]),c=()=>{axios.put("/api/profile",{name:_.user.name,first_name:_.user.first_name,last_name:_.user.last_name,email:_.user.email,role:_.user.role}).then(M=>{n.success("Profile updated successfully!")}).catch(M=>{M.response&&M.response.status===422&&(l.value=M.response.data.errors)})},v=xe({currentPassword:"",password:"",passwordConfirmation:""}),w=()=>{l.value="",axios.post("/api/change-user-password",v).then(M=>{n.success(M.data.message);for(const x in v)v[x]=""}).catch(M=>{M.response&&M.response.status===422&&(l.value=M.response.data.errors)})},u=d(null),N=()=>{u.value.click()},b=M=>{const x=M.target.files[0];_.user.avatar=URL.createObjectURL(x);const p=new FormData;p.append("profile_picture",x),axios.post("/api/upload-profile-image",p).then(U=>{n.success("Image uploaded successfully!")})};return(M,x)=>(t(),a("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Ml,[e("div",Ul,[e("div",Dl,[e("input",{onChange:b,ref_key:"fileInput",ref:u,type:"file",class:"d-none"},null,544),e("img",{onClick:N,class:"profile-user-img img-circle",src:i(_).user.avatar,alt:"User profile picture"},null,8,Vl)]),e("h3",Al,s(i(_).user.name),1),e("p",El,s(i(_).user.role),1)])])]),e("div",Tl,[e("div",Il,[Ll,e("div",Fl,[e("div",Pl,[e("div",Yl,[e("form",{onSubmit:x[4]||(x[4]=ae(p=>c(),["prevent"])),class:"form-horizontal"},[e("div",Bl,[Nl,e("div",ql,[j(e("input",{"onUpdate:modelValue":x[0]||(x[0]=p=>i(_).user.name=p),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[oe,i(_).user.name]]),l.value&&l.value.name?(t(),a("span",Rl,s(l.value.name[0]),1)):V("",!0)])]),e("div",jl,[Hl,e("div",Ol,[j(e("input",{"onUpdate:modelValue":x[1]||(x[1]=p=>i(_).user.first_name=p),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[oe,i(_).user.first_name]]),l.value&&l.value.first_name?(t(),a("span",zl,s(l.value.first_name[0]),1)):V("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[j(e("input",{"onUpdate:modelValue":x[2]||(x[2]=p=>i(_).user.last_name=p),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[oe,i(_).user.last_name]]),l.value&&l.value.last_name?(t(),a("span",Kl,s(l.value.last_name[0]),1)):V("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[j(e("input",{"onUpdate:modelValue":x[3]||(x[3]=p=>i(_).user.email=p),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[oe,i(_).user.email]]),l.value&&l.value.email?(t(),a("span",en,s(l.value.email[0]),1)):V("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:ae(w,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[j(e("input",{"onUpdate:modelValue":x[5]||(x[5]=p=>v.currentPassword=p),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[oe,v.currentPassword]]),l.value&&l.value.current_password?(t(),a("span",nn,s(l.value.current_password[0]),1)):V("",!0)])]),e("div",dn,[cn,e("div",rn,[j(e("input",{"onUpdate:modelValue":x[6]||(x[6]=p=>v.password=p),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[oe,v.password]]),l.value&&l.value.password?(t(),a("span",un,s(l.value.password[0]),1)):V("",!0)])]),e("div",_n,[mn,e("div",hn,[j(e("input",{"onUpdate:modelValue":x[7]||(x[7]=p=>v.passwordConfirmation=p),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[oe,v.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),wn={class:"input-group mb-3"},Cn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Sn={class:"row"},Mn={class:"col-12 mb-2"},Un=["disabled"],Dn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Vn=e("span",{class:"sr-only"},"Loading...",-1),An=[Vn],En={key:1},Tn=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"#",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),In={__name:"Login",setup(o){const _=ie();de();const n=Be(),l=xe({email:"",password:""}),c=d(!1),v=d(""),w=()=>{c.value=!0,v.value="",T.post("/login",l).then(()=>{n.push("/admin/dashboard"),_.success("Login Success")}).catch(u=>{_.error(u.response.data.message)}).finally(()=>{c.value=!1})};return(u,N)=>(t(),a("div",bn,[e("div",fn,[$n,e("div",gn,[v.value?(t(),a("div",yn,s(v.value),1)):V("",!0),e("form",{onSubmit:ae(w,["prevent"])},[e("div",kn,[xn,j(e("input",{"onUpdate:modelValue":N[0]||(N[0]=b=>l.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[oe,l.email]])]),e("div",wn,[Cn,j(e("input",{"onUpdate:modelValue":N[1]||(N[1]=b=>l.password=b),type:"password",class:"form-control",placeholder:"Password"},null,512),[[oe,l.password]])]),e("div",Sn,[e("div",Mn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:c.value},[c.value?(t(),a("div",Dn,An)):(t(),a("span",En,"Sign In"))],8,Un)])])],32),Tn])])]))}},Ln=["checked"],Fn=e("i",{class:"fa fa-edit"},null,-1),Pn=[Fn],Yn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Bn=[Yn],Nn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:_}){ie();const n=o,l=_,c=()=>{l("toggleSelection",n.item)};return(v,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Ln)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:w[0]||(w[0]=ae(u=>v.$emit("editUser",o.item),["prevent"]))},Pn),e("a",{href:"#",onClick:w[1]||(w[1]=ae(u=>v.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Bn)])]))}},qn={class:"content"},Rn={class:"container-fluid"},jn={class:"d-flex justify-content-between"},Hn={class:"d-flex"},On=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),zn={key:0},Gn=e("i",{class:"fa fa-trash mr-1"},null,-1),Qn={class:"ml-2"},Wn={class:"card"},Kn={class:"card-body"},Xn={class:"table table-bordered"},Jn=e("th",{style:{width:"10px"}},"#",-1),Zn=e("th",null,"Name",-1),ed=e("th",null,"Email",-1),td=e("th",null,"Registered Date",-1),sd=e("th",null,"Options",-1),ad={key:0},od={key:1},ld=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),nd=[ld],dd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},id={class:"modal-dialog",role:"document"},cd={class:"modal-content"},rd={class:"modal-header"},ud={class:"modal-title",id:"staticBackdropLabel"},_d={key:0},md={key:1},hd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),pd={class:"modal-body"},vd={class:"form-group"},bd=e("label",{for:"fist_name"},"First Name",-1),fd={class:"invalid-feedback"},$d={class:"form-group"},gd=e("label",{for:"last_name"},"Last Name",-1),yd={class:"invalid-feedback"},kd={class:"form-group"},xd=e("label",{for:"email"},"Email",-1),wd={class:"invalid-feedback"},Cd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Sd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Md={class:"modal-dialog",role:"document"},Ud={class:"modal-content"},Dd=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vd={class:"modal-footer"},Ad=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Ed={__name:"ClientList",setup(o){const _=ie(),n=d({data:[]}),l=d(!1),c=d(),v=d(null),w=(G=1)=>{T.get(`/api/clients?page=${G}`,{params:{query:X.value}}).then(K=>{n.value=K.data,B.value=[],L.value=!1})},u=ve({first_name:P().required(),last_name:P().required(),email:P().email().required()}),N=ve({first_name:P().required(),last_name:P().required(),email:P().email().required()}),b=(G,{resetForm:K,setErrors:R})=>{T.post("/api/clients",G).then(se=>{n.value.data.unshift(se.data),$("#clientFormModal").modal("hide"),K(),_.success("User created successfully!")}).catch(se=>{se.response.data.errors&&R(se.response.data.errors)})},M=()=>{l.value=!1,$("#clientFormModal").modal("show")},x=G=>{l.value=!0,v.value.resetForm(),$("#clientFormModal").modal("show"),c.value={id:G.id,first_name:G.first_name,last_name:G.last_name,email:G.email}},p=(G,{setErrors:K})=>{T.put("/api/clients/"+c.value.id,G).then(R=>{const se=n.value.data.findIndex(C=>C.id===R.data.id);n.value.data[se]=R.data,$("#clientFormModal").modal("hide"),_.success("Client updated successfully!")}).catch(R=>{K(R.response.data.errors),console.log(R)})},U=(G,K)=>{l.value?p(G,K):b(G,K)},X=d(null),B=d([]),z=G=>{const K=B.value.indexOf(G.id);K===-1?B.value.push(G.id):B.value.splice(K,1),console.log(B.value)},A=d(null),k=G=>{A.value=G,$("#deleteClientModal").modal("show")},h=()=>{T.delete(`/api/clients/${A.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Client deleted successfully!"),n.value.data=n.value.data.filter(G=>G.id!==A.value)})},y=()=>{T.delete("/api/clients",{data:{ids:B.value}}).then(G=>{n.value.data=n.value.data.filter(K=>!B.value.includes(K.id)),B.value=[],L.value=!1,_.success(G.data.message)})},L=d(!1),te=()=>{L.value?B.value=n.value.data.map(G=>G.id):B.value=[],console.log(B.value)};return me(X,ke.exports.debounce(()=>{w()},300)),ue(()=>{w()}),(G,K)=>(t(),a(q,null,[e("div",qn,[e("div",Rn,[e("div",jn,[e("div",Hn,[e("button",{onClick:M,type:"button",class:"mb-2 btn btn-primary"},[On,F(" Add New Client ")]),B.value.length>0?(t(),a("div",zn,[e("button",{onClick:y,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Gn,F(" Delete Selected ")]),e("span",Qn,"Selected "+s(B.value.length)+" clients",1)])):V("",!0)]),e("div",null,[j(e("input",{type:"text","onUpdate:modelValue":K[0]||(K[0]=R=>X.value=R),class:"form-control",placeholder:"Search..."},null,512),[[oe,X.value]])])]),e("div",Wn,[e("div",Kn,[e("table",Xn,[e("thead",null,[e("tr",null,[e("th",null,[j(e("input",{type:"checkbox","onUpdate:modelValue":K[1]||(K[1]=R=>L.value=R),onChange:te},null,544),[[fe,L.value]])]),Jn,Zn,ed,td,sd])]),n.value.data.length>0?(t(),a("tbody",ad,[(t(!0),a(q,null,O(n.value.data,(R,se)=>(t(),ne(Nn,{key:R.id,item:R,index:se,onEditUser:x,onConfirmUserDeletion:k,onToggleSelection:z,"select-all":L.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",od,nd))])])]),S(i(Ue),{data:n.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",dd,[e("div",id,[e("div",cd,[e("div",rd,[e("h5",ud,[l.value?(t(),a("span",_d,"Edit Client")):(t(),a("span",md,"Add New Client"))]),hd]),S(i(be),{ref_key:"form",ref:v,onSubmit:U,"validation-schema":l.value?i(N):i(u),"initial-values":c.value},{default:Z(({errors:R})=>[e("div",pd,[e("div",vd,[bd,S(i(Q),{name:"first_name",type:"text",class:I(["form-control",{"is-invalid":R.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",fd,s(R.first_name),1)]),e("div",$d,[gd,S(i(Q),{name:"last_name",type:"text",class:I(["form-control",{"is-invalid":R.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",yd,s(R.last_name),1)]),e("div",kd,[xd,S(i(Q),{name:"email",type:"email",class:I(["form-control",{"is-invalid":R.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",wd,s(R.email),1)])]),Cd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Sd,[e("div",Md,[e("div",Ud,[Dd,e("div",Vd,[Ad,e("button",{onClick:ae(h,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Ne=o=>(we("data-v-36595330"),o=o(),Ce(),o),Td={style:{"text-align":"center"}},Id={key:0},Ld=Ne(()=>e("i",{class:"fa fa-edit"},null,-1)),Fd=[Ld],Pd=Ne(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Yd=[Pd],Bd={key:1,style:{"text-align":"center"}},Nd={key:0},qd=Ne(()=>e("i",{class:"fa fa-edit"},null,-1)),Rd=[qd],jd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:_}){ie();const n=de();return(l,c)=>{const v=Me("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",Td,[o.item.statusid==2?(t(),ne(v,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:I(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):V("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:I(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):V("",!0)]),e("td",null,s(o.item.created_at),1),i(n).user.role==="ADMIN"?(t(),a("td",Id,[e("a",{href:"#",onClick:c[0]||(c[0]=ae(w=>l.$emit("editUser",o.item),["prevent"]))},Fd),e("a",{href:"#",onClick:c[1]||(c[1]=ae(w=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Yd)])):V("",!0),i(n).user.role==="USER"?(t(),a("td",Bd,[o.item.statusid!=2?(t(),a("div",Nd,[o.item.created_by==i(n).user.id?(t(),a("a",{key:0,href:"#",onClick:c[2]||(c[2]=ae(w=>l.$emit("editUser",o.item),["prevent"]))},Rd)):V("",!0)])):V("",!0)])):V("",!0)])}}};var Hd=pe(jd,[["__scopeId","data-v-36595330"]]);const Od={class:"content"},zd={class:"container-fluid"},Gd={class:"d-flex justify-content-between"},Qd={class:"d-flex"},Wd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Kd={key:0},Xd=e("i",{class:"fa fa-trash mr-1"},null,-1),Jd={class:"ml-2"},Zd={class:"card"},ei={class:"card-body"},ti=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),si=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ai=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),oi=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),li={class:"dispatch-table"},ni={class:"table-responsive"},di={class:"table table-bordered table-sm"},ii=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ci={key:0},ri={key:1},ui=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),_i=[ui],mi=["item","index"],hi={class:"card"},pi={class:"card-body"},vi={class:"list-field"},bi=e("span",{class:"mb-1 dis"},"Tech #:",-1),fi={class:"list-field"},$i=e("span",{class:"mb-1 dis"},"User:",-1),gi={class:"list-field"},yi=e("span",{class:"mb-1 dis"},"Branch:",-1),ki={class:"list-field"},xi=e("span",{class:"mb-1 dis"},"Department:",-1),wi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"Created by:",-1),Si={class:"list-field"},Mi=e("span",{class:"mb-1 dis"},"Status:",-1),Ui={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Created Date:",-1),Vi=e("hr",null,null,-1),Ai={class:"row"},Ei={key:0,class:"col"},Ti=["onClick"],Ii=e("i",{class:"fa fa-pencil-square-o"},null,-1),Li=["onClick"],Fi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),F(" Remove ")],-1),Pi=[Fi],Yi={key:0,class:"btn btnsm btn-success btn-block"},Bi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni={key:1,class:"col"},qi={key:0},Ri=["onClick"],ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Hi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Oi={class:"modal-dialog modal-lg",role:"document"},zi={class:"modal-content"},Gi={class:"modal-header"},Qi={class:"modal-title",id:"staticBackdropLabel"},Wi={key:0},Ki={key:1},Xi=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ji={class:"modal-body"},Zi={class:"col-md-12"},ec={class:"row"},tc={class:"col-6"},sc={class:"form-group"},ac=e("label",{for:"branch"},"Branch",-1),oc=e("option",{value:"",disabled:""}," Select Branch ",-1),lc=["value"],nc={class:"invalid-feedback"},dc={class:"form-group"},ic=e("label",{for:"department"},"Department",-1),cc={class:"invalid-feedback"},rc={class:"form-group"},uc=e("label",{for:"warehouse"},"warehouse",-1),_c={class:"invalid-feedback"},mc={class:"form-group"},hc=e("label",{for:"user"},"User",-1),pc={class:"invalid-feedback"},vc={class:"col-6"},bc={class:"form-group"},fc=e("label",{for:"brand"},"Brand",-1),$c={class:"form-group"},gc=e("label",{for:"model"},"Model",-1),yc={class:"invalid-feedback"},kc={class:"form-group"},xc=e("label",{for:"assettag"},"Asset tag",-1),wc={class:"invalid-feedback"},Cc={class:"form-group"},Sc=e("label",{for:"serialnum"},"Serial number",-1),Mc={class:"invalid-feedback"},Uc={class:"col-12"},Dc={class:"form-group"},Vc=e("label",{for:"problem"},"Report Problem",-1),Ac={class:"invalid-feedback"},Ec={class:"form-group"},Tc=e("label",{for:"assconducted"},"Assessment conducted",-1),Ic={class:"invalid-feedback"},Lc={class:"form-group"},Fc=e("label",{for:"recommendation"},"Recommendation",-1),Pc={class:"invalid-feedback"},Yc={class:"modal-footer"},Bc={key:0},Nc={key:0,class:"btn-group float-l ml-auto"},qc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Rc={class:"dropdown-menu",role:"menu"},jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Hc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Oc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zc={class:"modal-dialog",role:"document"},Gc={class:"modal-content"},Qc=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Wc={class:"modal-footer"},Kc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Xc={__name:"TechList",setup(o){const _=d(),n=d(),l=ie(),c=d({data:[]});d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const v=()=>{T.get("/api/getsite").then(f=>{n.value=f.data.sites}).catch(f=>{console.log(f)})},w=d(!1),u=d(!1),N=d(),b=xe({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),M=de();d(null);const x=(f=1)=>{w.value=!0,T.get(`/api/tech-recommendations?page=${f}`,{params:{query:y.value}}).then(r=>{w.value=!1,c.value=r.data,L.value=[],g.value=!1})},p=ve({branch:P().required(),department:P().required(),user:P().required(),problem:P().required(),assconducted:P().required(),brand:P().required()}),U=ve({branch:P().required(),department:P().required(),user:P().required(),problem:P().required(),assconducted:P().required(),brand:P().required()}),X=(f,{resetForm:r,setErrors:ee})=>{T.post("/api/tech-recommendations",f).then(E=>{c.value.data.unshift(E.data),$("#FormModal").modal("hide"),r(),l.success("Data created successfully!")}).catch(E=>{E.response.data.errors&&ee(E.response.data.errors)})},B=()=>{u.value=!1,$("#FormModal").modal("show")},z=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},A=f=>{_.value=f.id,u.value=!0,z(),b.id=f.id,b.branch=f.branch,b.department=f.department,b.warehouse=f.warehouse,b.user=f.user,b.problem=f.problem,b.brand=f.brand,b.model=f.model,b.assettag=f.assettag,b.serialnum=f.serialnum,b.assconducted=f.assconducted,b.recommendation=f.recommendation,b.ceated_by=f.ceated_by,b.recommnum=f.recommnum,$("#FormModal").modal("show")},k=(f,{setErrors:r})=>{T.put("/api/tech-recommendations/"+f.id,f).then(ee=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(ee=>{r(ee.response.data.errors),console.log(ee)})},h=(f,r)=>{u.value?k(b,r):X(f,r)},y=d(null),L=d([]),te=f=>{const r=L.value.indexOf(f.id);r===-1?L.value.push(f.id):L.value.splice(r,1),console.log(L.value)},G=d(null),K=f=>{G.value=f,$("#deleteClientModal").modal("show")},R=()=>{T.delete(`/api/tech-recommendations/${G.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),c.value.data=c.value.data.filter(f=>f.id!==G.value)})},se=()=>{T.delete("/api/tech-recommendations",{data:{ids:L.value}}).then(f=>{c.value.data=c.value.data.filter(r=>!L.value.includes(r.id)),L.value=[],g.value=!1,l.success(f.data.message)})},C=f=>{T.post("/api/tech-getaction",{id:_.value,status:f}).then(r=>{$("#FormModal").modal("hide"),x()}).catch(r=>{console.log(r.message)})},g=d(!1);return me(y,ke.exports.debounce(()=>{x()},300)),ue(()=>{x(),v()}),(f,r)=>{const ee=Me("router-link");return t(),a(q,null,[e("div",Od,[e("div",zd,[e("div",Gd,[e("div",Qd,[e("button",{onClick:B,type:"button",class:"mb-2 btn btn-primary"},[Wd,F(" TechRecom ")]),L.value.length>0?(t(),a("div",Kd,[e("button",{onClick:se,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xd,F(" Delete Selected ")]),e("span",Jd,"Selected "+s(L.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[j(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=E=>y.value=E),class:"form-control",placeholder:"Search..."},null,512),[[oe,y.value]])])]),e("div",Zd,[e("div",ei,[w.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[ti,si,ai,oi]),_:1})):V("",!0),e("div",li,[e("div",ni,[e("table",di,[ii,c.value.data.length>0?(t(),a("tbody",ci,[(t(!0),a(q,null,O(c.value.data,(E,H)=>(t(),ne(Hd,{key:E.id,item:E,index:H,onEditUser:A,onShowItem:f.viewItem,onConfirmUserDeletion:K,onToggleSelection:te,"select-all":g.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ri,_i))])])]),(t(!0),a(q,null,O(c.value.data,(E,H)=>(t(),a("div",{class:"dispatch-list",key:E.id,item:E,index:H},[e("div",hi,[e("div",pi,[e("div",vi,[bi,e("span",null,[e("b",null,s(E.recommnum),1)])]),e("div",fi,[$i,e("span",null,s(E.user),1)]),e("div",gi,[yi,e("span",null,s(E.branch),1)]),e("div",ki,[xi,e("span",null,s(E.department),1)]),e("div",wi,[Ci,e("span",null,s(E.created_user),1)]),e("div",Si,[Mi,E.statusid==2?(t(),ne(ee,{key:0,to:`/admin/tech-approved/${E.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:I(["badge",`badge-${E.status.color}`])},s(E.status.name),3)]),_:2},1032,["to"])):V("",!0),E.statusid!=2?(t(),a("span",{key:1,class:I(["badge",`badge-${E.status.color}`])},s(E.status.name),3)):V("",!0)]),e("div",Ui,[Di,e("span",null,s(E.created_at),1)]),Vi,e("div",Ai,[i(M).user.role==="ADMIN"?(t(),a("div",Ei,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ee=>A(E)},[Ii,F(" Edit ")],8,Ti),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ee=>K(E.id)},Pi,8,Li),E.statusid==2?(t(),a("button",Yi,[Bi,F(" Download ")])):V("",!0)])):V("",!0),i(M).user.role==="USER"?(t(),a("div",Ni,[E.statusid!=2?(t(),a("div",qi,[E.created_by==i(M).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ee=>A(E)},[ji,F(" Edit ")],8,Ri)):V("",!0)])):V("",!0)])):V("",!0)])])])],8,mi))),128))])]),S(i(Ue),{data:c.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",Hi,[e("div",Oi,[e("div",zi,[e("div",Gi,[e("h5",Qi,[u.value?(t(),a("span",Wi,"Edit Tech Recom.")):(t(),a("span",Ki,"Add New Tech Recom."))]),Xi]),S(i(be),{onSubmit:h,"validation-schema":u.value?i(U):i(p),"initial-values":N.value},{default:Z(({errors:E})=>[e("div",Ji,[e("div",Zi,[e("div",ec,[e("div",tc,[S(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(M).user.id,"onUpdate:modelValue":r[1]||(r[1]=H=>i(M).user.id=H)},null,8,["modelValue"]),S(i(Q),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":r[2]||(r[2]=H=>b.recommnum=H)},null,8,["modelValue"]),e("div",sc,[ac,S(i(Q),{as:"select",name:"branch",class:I(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":r[3]||(r[3]=H=>b.branch=H)},{default:Z(()=>[oc,(t(!0),a(q,null,O(n.value,H=>(t(),a("option",{key:H.site_name,value:H.site_name},s(H.site_name),9,lc))),128))]),_:2},1032,["class","modelValue"]),e("span",nc,s(E.branch),1)]),e("div",dc,[ic,S(i(Q),{name:"department",type:"text",class:I(["form-control",{"is-invalid":E.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":r[4]||(r[4]=H=>b.department=H)},null,8,["class","modelValue"]),e("span",cc,s(E.department),1)]),e("div",rc,[uc,S(i(Q),{name:"warehouse",type:"text",class:I(["form-control",{"is-invalid":E.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":r[5]||(r[5]=H=>b.warehouse=H)},null,8,["class","modelValue"]),e("span",_c,s(E.warehouse),1)]),e("div",mc,[hc,S(i(Q),{name:"user",type:"text",class:I(["form-control",{"is-invalid":E.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":r[6]||(r[6]=H=>b.user=H)},null,8,["class","modelValue"]),e("span",pc,s(E.user),1)])]),e("div",vc,[e("div",bc,[fc,S(i(Q),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":r[7]||(r[7]=H=>b.brand=H)},null,8,["modelValue"])]),e("div",$c,[gc,S(i(Q),{name:"model",type:"text",class:I(["form-control",{"is-invalid":E.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":r[8]||(r[8]=H=>b.model=H),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",yc,s(E.model),1)]),e("div",kc,[xc,S(i(Q),{name:"assettag",type:"text",class:I(["form-control",{"is-invalid":E.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":r[9]||(r[9]=H=>b.assettag=H),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",wc,s(E.assettag),1)]),e("div",Cc,[Sc,j(e("input",{name:"serialnum",type:"text",class:I(["form-control",{"is-invalid":E.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":r[10]||(r[10]=H=>b.serialnum=H)},null,2),[[oe,b.serialnum]]),e("span",Mc,s(E.serialnum),1)])]),e("div",Uc,[e("div",Dc,[Vc,S(i(Q),{name:"problem",as:"textarea",class:I(["form-control",{"is-invalid":E.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":r[11]||(r[11]=H=>b.problem=H)},null,8,["class","modelValue"]),e("span",Ac,s(E.problem),1)]),e("div",Ec,[Tc,S(i(Q),{name:"assconducted",as:"textarea",class:I(["form-control",{"is-invalid":E.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":r[12]||(r[12]=H=>b.assconducted=H)},null,8,["class","modelValue"]),e("span",Ic,s(E.assconducted),1)]),e("div",Lc,[Fc,S(i(Q),{name:"recommendation",as:"textarea",class:I(["form-control",{"is-invalid":E.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":r[13]||(r[13]=H=>b.recommendation=H)},null,8,["class","modelValue"]),e("span",Pc,s(E.recommendation),1)])])])])]),e("div",Yc,[u.value?(t(),a("div",Bc,[i(M).user.role==="ADMIN"?(t(),a("div",Nc,[e("button",{type:"button",onClick:r[14]||(r[14]=H=>C(2)),class:"btn btn-info"}," Approved "),qc,e("div",Rc,[e("span",{onClick:r[15]||(r[15]=H=>C(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:r[16]||(r[16]=H=>C(3)),class:"dropdown-item"},"Disapproved")])])):V("",!0)])):V("",!0),jc,Hc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Oc,[e("div",zc,[e("div",Gc,[Qc,e("div",Wc,[Kc,e("button",{onClick:ae(R,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Ve=He("SettingStore",()=>{const o=d({app_name:""}),_=ft("SettingStore:theme",d("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(c=>{o.value=c.data})},theme:_,changeTheme:()=>{_.value=_.value==="light"?"dark":"light"}}});const W=o=>(we("data-v-21bb19fc"),o=o(),Ce(),o),Jc={class:"content"},Zc={class:"container-fluid"},er={class:"card"},tr={class:"card-header"},sr={class:"card-title"},ar={class:"card-body"},or={class:"col-md-12"},lr={class:"d-flex justify-content-between"},nr=W(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),dr={class:"d-flex"},ir={class:"col-12",id:"accordion"},cr=W(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),rr=W(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ur=W(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),_r=W(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),mr={key:1},hr={key:0},pr={class:"card card-secondary"},vr={class:"card-body d-flex align-items-center justify-content-center"},br={class:"image-container"},fr=["src"],$r=W(()=>e("div",{class:"overlay"},null,-1)),gr={key:1},yr={class:"card-header bg-white"},kr={class:"card-title"},xr=["href"],wr=["src"],Cr={class:"card-tools"},Sr=["onClick"],Mr=W(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ur=[Mr],Dr=["disabled","onClick"],Vr=["onClick"],Ar=W(()=>e("p",{class:"float-right"},null,-1)),Er=["id"],Tr={class:"card-body"},Ir={class:"col-md-12"},Lr={class:"dispatch-table"},Fr={class:"row"},Pr={class:"col-4"},Yr=W(()=>e("b",null,"Site:",-1)),Br=W(()=>e("b",null,"Planned Date:",-1)),Nr=W(()=>e("b",null,"Planned End Date:",-1)),qr={class:"col-4"},Rr=W(()=>e("b",null,"Start Date:",-1)),jr=W(()=>e("b",null,"Accomplished Date:",-1)),Hr={class:"closestatus"},Or=W(()=>e("b",{style:{color:"black"}},"Type:",-1)),zr={class:"col-4"},Gr={class:"ongoing"},Qr=W(()=>e("b",{style:{color:"black"}},"Status:",-1)),Wr=W(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Kr=W(()=>e("b",null,"Remarks:",-1)),Xr={style:{margin:"0.5%"}},Jr=["disabled","onClick"],Zr=["onClick","disabled"],eu={class:"dispatch-list"},tu={class:"list-group list-group-flush"},su={class:"list-group-item d-flex justify-content-between align-items-center"},au={class:"badge badge-primary badge-pill"},ou={class:"list-group-item d-flex justify-content-between align-items-center"},lu={class:"badge badge-primary badge-pill"},nu={class:"list-group-item d-flex justify-content-between align-items-center"},du={class:"badge badge-primary badge-pill"},iu={class:"list-group-item d-flex justify-content-between align-items-center"},cu={class:"badge badge-primary badge-pill"},ru={class:"list-group-item d-flex justify-content-between align-items-center"},uu={class:"badge badge-primary badge-pill"},_u={class:"list-group-item d-flex justify-content-between align-items-center"},mu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},vu={class:"list-group-item d-flex justify-content-between align-items-center"},bu={class:"badge badge-primary badge-pill"},fu=W(()=>e("hr",null,null,-1)),$u={class:"row"},gu={class:"col"},yu=["onClick"],ku=W(()=>e("i",{class:"fas fa-pen"},null,-1)),xu=["onClick"],wu=W(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),F(" Drop ")],-1)),Cu=[wu],Su={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mu={class:"modal-dialog modal-dialog-centered",role:"document"},Uu={class:"modal-content"},Du={class:"modal-header"},Vu={class:"modal-title",id:"staticBackdropLabel"},Au={key:0},Eu={key:1},Tu={key:2},Iu=W(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Lu={class:"modal-body"},Fu={class:"col-md-12"},Pu={class:"row"},Yu={class:"col-12"},Bu={class:"form-group"},Nu=W(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),qu=W(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Ru=["value"],ju={key:0,class:"d-flex justify-content-between"},Hu={class:"d-flex"},Ou={class:"form-group"},zu=W(()=>e("label",{for:"end-time"},"Start Date",-1)),Gu={class:"form-group"},Qu=W(()=>e("label",{for:"end-time"},"Hour",-1)),Wu=["value"],Ku=W(()=>e("div",{class:"d-fex"},null,-1)),Xu={key:1,class:"d-flex justify-content-between"},Ju={class:"d-flex"},Zu={class:"form-group"},e_=W(()=>e("label",{for:"end-time"},"End Date",-1)),t_={class:"form-group"},s_=W(()=>e("label",{for:"end-time"},"Hour",-1)),a_=["value"],o_=W(()=>e("div",{class:"d-fex"},null,-1)),l_={class:"form-group"},n_=W(()=>e("label",{for:"site"},"Task",-1)),d_=W(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),i_=["value"],c_=W(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),r_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},u_={class:"modal-dialog modal-sm",role:"document"},__={class:"modal-content"},m_={class:"modal-header"},h_={class:"modal-title",id:"staticBackdropLabel"},p_=W(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),v_={class:"modal-body"},b_=he('<ul class="nav nav-tabs" id="myTabs" data-v-21bb19fc><li class="nav-item" data-v-21bb19fc><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-21bb19fc> Todo List</a></li><li class="nav-item" data-v-21bb19fc><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-21bb19fc> Todo</a></li></ul>',1),f_={class:"tab-content"},$_={class:"tab-pane fade show active",id:"todolist"},g_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},y_=W(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),k_=W(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_={key:0,class:"list-group-item mt-2"},w_={class:"d-flex justify-content-between"},C_={class:"d-flex"},S_=["onClick"],M_={class:"d-flex"},U_=["onClick"],D_={class:"m-2 list-unstyled"},V_={key:1},A_={key:0,class:"list-group-item mt-2"},E_={class:"d-flex justify-content-between"},T_={class:"d-flex"},I_=["onClick"],L_={class:"d-flex"},F_=["onClick"],P_={key:1,class:"mt-2 text-center"},Y_=W(()=>e("span",null,"No Todo",-1)),B_=[Y_],N_={class:"tab-pane fade",id:"formTask"},q_={class:"col-md-12"},R_={class:"row"},j_={class:"col-12"},H_={class:"m-2",style:{display:"flex","align-items":"center"}},O_=W(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),F("\xA0Save ")])],-1)),z_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},G_={class:"modal-dialog",role:"document"},Q_={class:"modal-content"},W_=he('<div class="modal-header" data-v-21bb19fc><h5 class="modal-title" id="staticBackdropLabel" data-v-21bb19fc><span data-v-21bb19fc>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-21bb19fc><span aria-hidden="true" data-v-21bb19fc>\xD7</span></button></div><div class="modal-body" data-v-21bb19fc><h5 data-v-21bb19fc>Are you sure you want to delete this record ?</h5></div>',2),K_={class:"modal-footer"},X_=W(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),J_={__name:"MyPrio",setup(o){const _=d(!1),n=d(!1),l=it("$swal");Ve();const c=ie(),v=d({data:[]}),w=d([]);d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=d();d();const N=d(!0),b=d(!1);d(!1),d();const M=d(),x=d(),p=d(),U=de();d(null),d(!1);const X=d([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"VSC",value:4},{name:"WORK FROM HOME",value:6}]),B=d(),z=d("1:00 AM"),A=d(),k=d("1:00 AM"),h=d(Array.from({length:24},(D,Y)=>{const m=Y%12+1,le=Y<12?"AM":"PM";return`${m}:00 ${le}`})),y=d(Array.from({length:24},(D,Y)=>{const m=Y%12+1,le=Y<12?"AM":"PM";return`${m}:00 ${le}`})),L=xe({dailytask_id:"",site:"",user_id:U.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});me([B,z],()=>{const D=new Date(B.value),Y=D.getFullYear(),m=String(D.getMonth()+1).padStart(2,"0"),le=String(D.getDate()).padStart(2,"0");L.plandate=`${Y}-${m}-${le} ${z.value}`}),me([B,k],()=>{const D=new Date(B.value);D.getFullYear(),String(D.getMonth()+1).padStart(2,"0"),String(D.getDate()).padStart(2,"0")}),me([A,k],()=>{const D=new Date(A.value),Y=D.getFullYear(),m=String(D.getMonth()+1).padStart(2,"0"),le=String(D.getDate()).padStart(2,"0");L.enddates=`${Y}-${m}-${le} ${k.value}`});const te=d({id:"",dailytask_id:"",task_name:"",iscompleted:0}),G=()=>{T.get("/api/getsite").then(D=>{u.value=D.data.sites}).catch(D=>{console.log(D)})},K=()=>{_.value=!0,T.get("/api/dailytask",{params:{query:Te.value}}).then(D=>{_.value=!1,v.value=D.data,tt.value=[]})},R=async D=>{(await l({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,T.put(`/api/dailytask/drop/${D}`).then(m=>{c.success("Data drop successfully!"),_.value=!1,K()}))},se=()=>{$("#FormModalTask").modal("show")},C=D=>{se(),te.value.dailytask_id=D.dailytask_id,x.value=D.taskdate,p.value=D.startdate,n.value=!0,T.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(Y=>{w.value=Y.data,se(),n.value=!1}).catch(Y=>{console.error("Error fetching tasks:",Y)})},g=()=>{n.value=!0,T.post("/api/dailytask/addnewTask",{dailytask_id:te.value.dailytask_id,task_name:te.value.task_name,iscompleted:te.value.iscompleted}).then(D=>{c.success("Data created successfully!"),T.get(`/api/dailytask/${te.value.dailytask_id}/tasks`).then(Y=>{w.value=Y.data,n.value=!1}).catch(Y=>{console.error("Error fetching tasks:",Y),c.error("Error fetching tasks. Please try again.")}),te.value.task_name=""}).catch(D=>{console.error("Error adding new task:",D),c.error("Error adding new task. Please try again.")})},f=D=>{te.value.iscompleted=D.iscompleted===1?0:1,T.post("/api/dailytask/addnewTask",{id:D.id,dailytask_id:D.dailytask_id,task_name:D.task_name,iscompleted:te.value.iscompleted}).then(Y=>{T.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(m=>{w.value=m.data}).catch(m=>{console.error("Error fetching tasks:",m),c.error("Error fetching tasks. Please try again.")})}).catch(Y=>{console.error("Error adding new task:",Y),c.error("Error adding new task. Please try again.")})},r=ge(()=>Array.isArray(w.value)?w.value.filter(D=>D.iscompleted===1):[]),ee=ge(()=>r.value.length),E=()=>{N.value=!N.value},H=D=>{T.delete(`/api/dailytask/deleteTask/${D.id}`).then(Y=>{T.get(`/api/dailytask/${D.dailytask_id}/tasks`).then(m=>{w.value=m.data,c.success("Todo successfull Deleted")}).catch(m=>{console.error("Error fetching tasks:",m),c.error("Error fetching tasks. Please try again.")})}).catch(Y=>{console.error("Error adding new task:",Y),c.error("Error adding new task. Please try again.")})};ve({site:P().required(),tasktype:P().required(),plandate:P().required(),planenddate:P().required()}),ve({site:P().required(),tasktype:P().required(),plandate:P().required(),planenddate:P().required()});const Ee=(D,Y)=>{T.post("/api/dailytask",L).then(m=>{console.log(m.data),K(),$("#FormModal").modal("hide"),c.success("data created successfully!")}).catch(m=>{Y.setErrors(m.response.data.errors)})},Xe=(D,Y)=>{T.put("/api/dailytask/"+L.dailytask_id,L).then(m=>{console.log(m.data),K(),$("#FormModal").modal("hide"),c.success("data update successfully!")}).catch(m=>{Y.setErrors(m.response.data.errors)})},Fe=D=>{D&&D.dailytask_id!==null&&D.dailytask_id!==void 0?(b.value=!0,M.value=" on "+re(D.taskdate).format("MMMM D, YYYY"),L.site=D.site,L.dailytask_id=D.dailytask_id,L.plandate=D.plandate,L.planenddate=D.planenddate):b.value=!1,G(),$("#FormModal").modal("show")},Je=(D,Y)=>{b.value?Xe(D,Y):Ee(D,Y)},Ze=async D=>{try{const Y=await T.get(`/api/dailytask/${D.dailytask_id}/tasks`);if(w.value=Y.data,!w.value||w.value.length===0){l.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await l.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const le=await T.put("/api/dailytask/onhandler/"+D.dailytask_id,D);c.success(le.data.message),K()}}catch(Y){console.error("Error fetching tasks:",Y),c.error("An error occurred while updating the task.")}},et=async D=>{if((await l({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{re(D.taskdate).format("YYYY-MM-DD")===re().format("YYYY-MM-DD")?(D.remarks="HIT",D.status="On Schedule"):(D.remarks="MISS",D.status="Behind Schedule");const le=await T.put("/api/dailytask/onhandler/"+D.dailytask_id,D);c.success(le.data.message),K()}catch(m){console.error(m),c.error("An error occurred while updating the task.")}},Te=d(null),tt=d([]),qe=d(null),st=()=>{T.delete(`/api/tech-recommendations/${qe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),c.success("Client deleted successfully!"),v.value.data=v.value.data.filter(D=>D.id!==qe.value)})};return me(Te,ke.exports.debounce(()=>{K()},300)),ue(()=>{Oe(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),K()}),(D,Y)=>(t(),a(q,null,[e("div",Jc,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,s(i(U).user.first_name+" "+i(U).user.last_name)+" - My Prio ",1)]),e("div",ar,[e("div",or,[e("div",lr,[e("div",{class:"d-flex"},[e("button",{onClick:Fe,type:"button",class:"mb-2 btn btn-primary"},[nr,F(" Task ")])]),e("div",dr,[j(e("input",{type:"text","onUpdate:modelValue":Y[0]||(Y[0]=m=>Te.value=m),class:"form-control",placeholder:"Search..."},null,512),[[oe,Te.value]])])]),e("div",ir,[_.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[cr,rr,ur,_r]),_:1})):(t(),a("div",mr,[v.value.length===0?(t(),a("div",hr,[e("div",pr,[e("div",vr,[e("div",br,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,fr),$r])])])])):(t(),a("div",gr,[(t(!0),a(q,null,O(v.value,m=>(t(),a("div",{class:"card card-primary",key:m.id},[e("div",yr,[e("h4",kr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+m.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,wr),F(" \xA0"),e("b",null,s(i(re)(m.taskdate).format("MMMM D, YYYY")),1)],8,xr)]),e("div",Cr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:le=>C(m)},Ur,8,Sr),e("button",{disabled:m.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:le=>et(m)}," End ",8,Dr),m.startdate?V("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:le=>Ze(m)}," Start ",8,Vr)),Ar])]),e("div",{id:"collapse"+m.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Tr,[e("div",Ir,[e("div",Lr,[e("div",Fr,[e("div",Pr,[e("h5",null,[Yr,F(" "+s(m.site_name),1)]),e("h5",null,[Br,F(" "+s(m.plandate),1)]),e("h5",null,[Nr,F(" "+s(m.planenddate),1)])]),e("div",qr,[e("h5",null,[Rr,F(" "+s(m.startdate!==null?i(re)(m.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[jr,F(" "+s(m.enddate!==null?i(re)(m.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Hr,[Or,F(" "+s(m.tasktype?m.tasktype.join(", "):""),1)])]),e("div",zr,[e("h5",Gr,[Qr,F(" "+s(m.status),1)]),e("h5",null,[Wr,F(" "+s(m.attachment),1)]),e("h5",null,[Kr,F(" "+s(m.remarks),1)])])]),e("div",Xr,[e("button",{disabled:m.startdate!==null,onClick:le=>R(m.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Jr),e("button",{onClick:le=>Fe(m),type:"button",disabled:m.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,Zr)])]),e("div",eu,[e("ul",tu,[e("li",su,[F(" Site: "),e("span",au,s(m.site_name),1)]),e("li",ou,[F(" Planned Date: "),e("span",lu,s(m.plandate),1)]),e("li",nu,[F(" Planned End Date: "),e("span",du,s(m.planenddate),1)]),e("li",iu,[F(" Start Date: "),e("span",cu,s(m.startdate!==null?i(re)(m.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",ru,[F(" Type: "),e("span",uu,s(m.tasktype?m.tasktype.join(", "):""),1)]),e("li",_u,[F(" Status: "),e("span",mu,s(m.status),1)]),e("li",hu,[F(" Attachment: "),e("span",pu,s(m.attachment),1)]),e("li",vu,[F(" Remarks: "),e("span",bu,s(m.remarks),1)])]),fu,e("div",$u,[e("div",gu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:le=>Fe(m)},[ku,F(" Edit ")],8,yu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:le=>R(m.dailytask_id)},Cu,8,xu)])])])])])],8,Er)]))),128))]))]))])])])])])]),e("div",Su,[e("div",Mu,[e("div",Uu,[e("div",Du,[e("h5",Vu,[b.value?(t(),a("span",Au,"Edit My Task")):(t(),a("span",Eu,"Add My Task")),b.value?(t(),a("span",Tu,s(M.value),1)):V("",!0)]),Iu]),S(i(be),{onSubmit:Je},{default:Z(()=>[e("div",Lu,[e("div",Fu,[e("div",Pu,[e("div",Yu,[S(i(Q),{modelValue:L.user_id,"onUpdate:modelValue":Y[1]||(Y[1]=m=>L.user_id=m),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Bu,[Nu,j(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":Y[2]||(Y[2]=m=>L.site=m)},[qu,(t(!0),a(q,null,O(u.value,m=>(t(),a("option",{key:m.id,value:m.id},s(m.site_name),9,Ru))),128))],512),[[$e,L.site]])]),b.value==!1?(t(),a("div",ju,[e("div",Hu,[e("div",Ou,[zu,S(i(De),{class:"form-control",modelValue:B.value,"onUpdate:modelValue":Y[3]||(Y[3]=m=>B.value=m)},null,8,["modelValue"])]),e("div",Gu,[Qu,j(e("select",{class:"form-control","onUpdate:modelValue":Y[4]||(Y[4]=m=>z.value=m),id:"plandate"},[(t(!0),a(q,null,O(h.value,m=>(t(),a("option",{key:m,value:m},s(m),9,Wu))),128))],512),[[$e,z.value]])])]),Ku])):V("",!0),b.value==!1?(t(),a("div",Xu,[e("div",Ju,[e("div",Zu,[e_,S(i(De),{class:"form-control",modelValue:A.value,"onUpdate:modelValue":Y[5]||(Y[5]=m=>A.value=m)},null,8,["modelValue"])]),e("div",t_,[s_,j(e("select",{class:"form-control","onUpdate:modelValue":Y[6]||(Y[6]=m=>k.value=m),id:"plandate"},[(t(!0),a(q,null,O(y.value,m=>(t(),a("option",{key:m,value:m},s(m),9,a_))),128))],512),[[$e,k.value]])])]),o_])):V("",!0),e("div",l_,[n_,S(i(Q),{name:"tasktype"},{default:Z(()=>[j(e("select",{"onUpdate:modelValue":Y[7]||(Y[7]=m=>L.tasktype=m),class:"form-control",required:!0},[d_,(t(!0),a(q,null,O(X.value,m=>(t(),a("option",{key:m.value,value:m.value},s(m.name),9,i_))),128))],512),[[$e,L.tasktype]])]),_:1})])])])])]),c_]),_:1})])])]),e("div",r_,[e("div",u_,[e("div",__,[e("div",m_,[e("h5",h_," My Todo of "+s(i(re)(x.value).format("MM/D/YYYY")),1),p_]),e("div",v_,[b_,e("div",f_,[e("div",$_,[w.value.length>0?(t(),a("div",g_,[n.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[y_,k_]),_:1})):V("",!0),(t(!0),a(q,null,O(w.value,m=>(t(),a("ul",{class:"list-group",key:m.id},[m.iscompleted!==1?(t(),a("li",x_,[e("div",w_,[e("div",C_,[p.value?(t(),a("i",{key:0,onClick:le=>f(m),class:I({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":m.iscompleted===1,"fa fa-circle text-primary":m.iscompleted!==1}),style:{"font-size":"15px"}},null,10,S_)):V("",!0),e("span",{class:I({"font-italic":m.iscompleted===1,"":m.iscompleted!==1})},s(m.task_name),3)]),e("div",M_,[e("i",{class:"fa fa-trash text-danger",onClick:le=>H(m)},null,8,U_)])])])):V("",!0)]))),128)),e("li",D_,[ee.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:E},[e("i",{class:I(["fa",N.value?"fa-arrow-down":"fa-arrow-right"])},null,2),F(" \xA0Completed "+s(ee.value),1)])):V("",!0)]),N.value?(t(),a("div",V_,[(t(!0),a(q,null,O(w.value,m=>(t(),a("ul",{class:"list-group",key:m.id},[m.iscompleted===1?(t(),a("li",A_,[e("div",E_,[e("div",T_,[e("i",{class:I({"cursor-pointer mr-2":!0,"fa fa-check-circle":m.iscompleted===1,"fa fa-circle":m.iscompleted!==1}),style:{"font-size":"15px"},onClick:le=>f(m)},null,10,I_),e("span",{class:I({"font-italic":m.iscompleted===1,"":m.iscompleted!==1})},[e("del",null,s(m.task_name),1)],2)]),e("div",L_,[e("i",{class:"fa fa-trash text-danger",onClick:le=>H(m)},null,8,F_)])])])):V("",!0)]))),128))])):V("",!0)])):(t(),a("div",P_,B_))]),e("div",N_,[S(i(be),{onSubmit:g},{default:Z(()=>[e("div",q_,[e("div",R_,[e("div",j_,[S(i(Q),{modelValue:te.value.dailytask_id,"onUpdate:modelValue":Y[8]||(Y[8]=m=>te.value.dailytask_id=m),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",H_,[S(i(Q),{modelValue:te.value.task_name,"onUpdate:modelValue":Y[9]||(Y[9]=m=>te.value.task_name=m),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),O_]),_:1})])])])])])]),e("div",z_,[e("div",G_,[e("div",Q_,[W_,e("div",K_,[X_,e("button",{onClick:ae(st,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var Z_=pe(J_,[["__scopeId","data-v-21bb19fc"]]);const em={class:"text-center"},tm={key:0},sm={class:"text-center"},am={key:0},om={class:"text-center"},lm={key:0},nm={key:0,class:"bg-success text-center"},dm={key:1,class:"bg-danger text-center"},im={key:2,class:"text-center"},cm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return ie(),de(),(_,n)=>(t(),a("tr",null,[e("td",null,s(i(re)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",em,[o.item.task_lists_count!==0?(t(),a("span",tm,s(o.item.task_lists_count),1)):V("",!0)]),e("td",sm,[o.item.completed_task_count!==0?(t(),a("span",am,s(o.item.completed_task_count),1)):V("",!0)]),e("td",om,[o.item.status!=="On Going"?(t(),a("span",lm,s(o.item.status),1)):V("",!0)]),o.item.remarks==="HIT"?(t(),a("td",nm,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",dm,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",im,s(o.item.startdate!=null?"On Going!":""),1)):V("",!0),e("td",{class:I({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const ce=o=>(we("data-v-6e644549"),o=o(),Ce(),o),rm={class:"content-header"},um={class:"container-fluid"},_m={class:"col-12"},mm={class:"card",id:"captureVSCContainer"},hm={class:"card-header"},pm={class:"card-title"},vm={class:"card-tools"},bm={class:"card-body"},fm=ce(()=>e("i",{class:"fa fa-camera"},null,-1)),$m=[fm],gm=ce(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ym=ce(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),km=ce(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),xm=ce(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),wm={key:1,class:"row"},Cm={class:"inner"},Sm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Mm=["src"],Um={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Dm={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Vm={style:{"text-align":"left"}},Am={key:0},Em=ce(()=>e("span",{class:"text-light badge"},"Todos",-1)),Tm={class:"list-group list-group-flush"},Im={style:{display:"flex","align-items":"left"}},Lm={class:"ml-1"},Fm={class:"ml-1"},Pm={key:1},Ym={class:"float-right"},Bm={id:"captureHitRateContainer",class:"card"},Nm={class:"card-header"},qm={class:"card-title"},Rm={class:"card-body"},jm={class:"content"},Hm={class:"container-fluid"},Om=ce(()=>e("i",{class:"fa fa-camera"},null,-1)),zm=[Om],Gm={class:"dispatch-table"},Qm={class:"table-responsive"},Wm={class:"table table-bordered table-hover table-sm"},Km=ce(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Xm=["item"],Jm={class:"list-field"},Zm=ce(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),eh={class:"list-field"},th=ce(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),sh={key:0},ah={class:"list-field"},oh=ce(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),lh={key:0},nh={class:"list-field"},dh=ce(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),ih={class:"list-field"},ch=ce(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),rh={class:"list-field"},uh=ce(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),_h={class:"float-right"},mh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hh={class:"modal-dialog modal-sm",role:"document"},ph={class:"modal-content"},vh=ce(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My VSC Summary Report")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),bh={class:"modal-body"},fh={class:"fromtocenter"},$h=ce(()=>e("label",{for:"fromDate"},"From:",-1)),gh=ce(()=>e("label",{for:"toDate"},"To:",-1)),yh=ce(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),kh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xh={class:"modal-dialog modal-sm",role:"document"},wh={class:"modal-content"},Ch=ce(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Sh={class:"modal-body"},Mh={class:"container"},Uh={class:"row"},Dh=["onClick"],Vh=ce(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Ah={__name:"MyVsc",setup(o){const _=de(),n=d(!1),l=d([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),v=d((()=>{const k={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",k)})()),w=()=>{const k=document.getElementById("captureVSCContainer");Ye(k).then(h=>{const y=h.toDataURL(),L=document.createElement("a");L.href=y,L.download="My VSC.png",L.click()})},u=()=>{const k=document.getElementById("captureHitRateContainer");Ye(k).then(h=>{const y=h.toDataURL(),L=document.createElement("a");L.href=y,L.download="My HITRATE.png",L.click()})};d(null),d("today");const N=d({data:[]}),b=d({data:[]}),M=()=>{n.value=!0,axios.get("/api/myvsc").then(k=>{n.value=!1,N.value=k.data.dailyTasks,b.value=k.data.TaskList})},x=()=>{$("#FormModalfilterDate").modal("show")},p=d({start_date:"",end_date:""}),U=d(""),X=d("");me([U],()=>{const k=new Date(U.value),h=k.getFullYear(),y=String(k.getMonth()+1).padStart(2,"0"),L=String(k.getDate()).padStart(2,"0");p.value.start_date=`${h}-${y}-${L}`}),me([X],()=>{const k=new Date(X.value),h=k.getFullYear(),y=String(k.getMonth()+1).padStart(2,"0"),L=String(k.getDate()).padStart(2,"0");p.value.end_date=`${h}-${y}-${L}`});const B=()=>{n.value=!0,axios.get("/api/filter-vsc",{params:{start_date:p.value.start_date,end_date:p.value.end_date}}).then(k=>{n.value=!1,N.value=k.data.dailyTasks,b.value=k.data.TaskList}).catch(k=>{console.error(k)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},z=()=>{$("#FormModalPickerThemes").modal("show")},A=k=>{if(k){const h=_.user.id;axios.post("/api/changethemes",{userid:h,background:k.background,active_background:k.active_background,font_background:k.font_background}).then(y=>{$("#FormModalPickerThemes").modal("hide"),n.value=!0,axios.get("/api/myvsc").then(L=>{n.value=!1,N.value=L.data.dailyTasks,b.value=L.data.TaskList})}).catch(y=>{console.error(y)})}else console.error("Invalid item:",k)};return ue(()=>{M()}),(k,h)=>(t(),a(q,null,[e("div",rm,[e("div",um,[e("div",_m,[e("div",mm,[e("div",hm,[e("div",pm,[e("h5",null,s(i(_).user.first_name+" "+i(_).user.last_name)+" - My VSC ",1)]),e("div",vm,[e("i",{onClick:h[0]||(h[0]=y=>z()),class:"fas fa-palette"})])]),e("div",bm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:w,type:"button",class:"mb-2 btn btn-sm btn-success"},$m)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:x})])]),n.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[gm,ym,km,xm]),_:1})):(t(),a("div",wm,[(t(!0),a(q,null,O(N.value,y=>(t(),a("div",{class:"col-lg-3 col-6",key:y.id},[e("div",{class:"small-box",style:Pe("background-color: "+(i(re)(y.taskdate).format("MMMM D, YYYY")===v.value?y.active_background==""?"#72461F":y.active_background:y.background==""?"#B98D65":y.background)+";")},[e("div",Cm,[e("div",Sm,[F(s(i(re)(y.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Mm)]),e("div",Um,s(i(re)(y.taskdate).format("MMMM D, YYYY")),1),e("div",Dm,s(y.site_name),1),e("div",Vm,[y.task_lists&&y.task_lists.length>0?(t(),a("div",Am,[Em,e("ul",Tm,[(t(!0),a(q,null,O(y.task_lists,L=>(t(),a("li",{class:"list-group-item",key:L.id},[e("div",Im,[e("div",Lm,[e("i",{class:I(L.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Fm,s(L.task_name),1)])]))),128))])])):(t(),a("span",Pm))])])],4)]))),128))])),e("div",Ym,s(v.value),1)])]),e("div",Bm,[e("div",Nm,[e("div",qm,[e("h5",null,s(i(_).user.first_name+" "+i(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Rm,[e("div",jm,[e("div",Hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:u,type:"button",class:"mb-2 btn btn-sm btn-success"},zm)])]),e("div",Gm,[e("div",Qm,[e("table",Wm,[Km,e("tbody",null,[(t(!0),a(q,null,O(b.value,y=>(t(),ne(cm,{key:y.id,item:y},null,8,["item"]))),128))])])])]),(t(!0),a(q,null,O(b.value,y=>(t(),a("div",{class:"dispatch-list",key:y.id,item:y},[e("div",{class:I([{"callout callout-success":y.remarks==="HIT","callout callout-danger":y.remarks==="MISS",callout:y.remarks===null}])},[e("div",Jm,[Zm,e("span",null,s(i(re)(y.taskdate).format("MMMM D, YYYY")),1)]),e("div",eh,[th,y.task_lists_count!==0?(t(),a("span",sh,s(y.task_lists_count),1)):V("",!0)]),e("div",ah,[oh,y.completed_task_count!==0?(t(),a("span",lh,s(y.completed_task_count),1)):V("",!0)]),e("div",nh,[dh,e("span",null,[e("b",null,s(y.status),1)])]),e("div",ih,[ch,e("span",{class:I(["badge",y.remarks==="HIT"?"bg-success":"bg-danger"])},s(y.remarks),3)]),e("div",rh,[uh,e("span",{class:I(["badge",{"bg-danger":y.percentage_completed>=0&&y.percentage_completed<=59},{"bg-orange":y.percentage_completed>60&&y.percentage_completed<=90},{"bg-success":y.percentage_completed===100}])},s(y.percentage_completed+"%"),3)])],2)],8,Xm))),128))])]),e("div",_h,s(v.value),1)])])])])]),e("div",mh,[e("div",hh,[e("div",ph,[vh,e("div",bh,[e("div",fh,[e("div",null,[$h,S(i(De),{modelValue:U.value,"onUpdate:modelValue":h[1]||(h[1]=y=>U.value=y)},null,8,["modelValue"])]),e("div",null,[gh,S(i(De),{modelValue:X.value,"onUpdate:modelValue":h[2]||(h[2]=y=>X.value=y)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[yh,e("button",{onClick:B,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",kh,[e("div",xh,[e("div",wh,[Ch,e("div",Sh,[e("div",Mh,[e("div",Uh,[(t(!0),a(q,null,O(l.value,y=>(t(),a("div",{class:"col-md-4",key:y.background},[e("div",{class:"box",onClick:L=>A(y)},[e("div",{class:"column",style:Pe({"background-color":y.background})},"\xA0",4),e("div",{class:"column",style:Pe({"background-color":y.active_background})},"\xA0",4)],8,Dh)]))),128))])])]),Vh])])])],64))}};var Eh=pe(Ah,[["__scopeId","data-v-6e644549"]]);const Th={class:"text-center"},Ih={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return ie(),de(),(_,n)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(i(re)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Th,[e("span",{class:I(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Lh=pe(Ih,[["__scopeId","data-v-f22938e0"]]);const _e=o=>(we("data-v-368dbe6c"),o=o(),Ce(),o),Fh={class:"content"},Ph={class:"container-fluid"},Yh={class:"card",id:"capturePrioContainer"},Bh={class:"card-header"},Nh={class:"card-title"},qh={class:"card-body"},Rh=_e(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),jh=_e(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Hh=_e(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Oh=_e(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),zh={key:1,class:"content"},Gh={class:"container-fluid"},Qh=_e(()=>e("i",{class:"fa fa-camera"},null,-1)),Wh=[Qh],Kh={class:"dispatch-table"},Xh={class:"table-responsive"},Jh={class:"table table-bordered table-sm table-striped table-hover"},Zh=_e(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),ep={key:0},tp={key:1},sp=_e(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),ap=[sp],op=["item","index"],lp={class:"card"},np={class:"card-body"},dp={class:"list-field"},ip=_e(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),cp={class:"list-field"},rp=_e(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),up={class:"list-field"},_p=_e(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),mp={class:"list-field"},hp=_e(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),pp={class:"list-field"},vp=_e(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),bp={class:"list-field"},fp=_e(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),$p={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gp={class:"modal-dialog modal-sm",role:"document"},yp={class:"modal-content"},kp=_e(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),xp={class:"modal-body"},wp={class:"fromtocenter"},Cp=_e(()=>e("label",{for:"fromDate"},"From:",-1)),Sp=_e(()=>e("label",{for:"toDate"},"To:",-1)),Mp=_e(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Up={__name:"MyClosePrioList",setup(o){const _=d(!1);ie();const n=d({data:[]}),l=d(""),c=d(""),v=de(),w=(M=1)=>{_.value=!0,T.get(`/api/mycloseprio?page=${M}`,{params:{query:b.value}}).then(x=>{_.value=!1,n.value=x.data})},u=()=>{const M=document.getElementById("capturePrioContainer");Ye(M).then(x=>{const p=x.toDataURL(),U=document.createElement("a");U.href=p,U.download="MY CLOSED PRIO.png",U.click()})},N=()=>{_.value=!0,T.get("/api/filter-closeprio",{params:{start_date:l.value,end_date:c.value}}).then(M=>{_.value=!1,n.value=M.data.dailyTasks}).catch(M=>{console.error(M)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=d(null);return me(b,ke.exports.debounce(()=>{w()},300)),ue(()=>{w()}),(M,x)=>(t(),a(q,null,[e("div",Fh,[e("div",Ph,[e("div",Yh,[e("div",Bh,[e("div",Nh,[e("h5",null,s(i(v).user.first_name+" "+i(v).user.last_name)+" - My Closed Prio ",1)])]),e("div",qh,[_.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Rh,jh,Hh,Oh]),_:1})):(t(),a("div",zh,[e("div",Gh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:u,type:"button",class:"mb-2 btn btn-sm btn-success"},Wh)])]),e("div",null,[e("div",Kh,[e("div",Xh,[e("table",Jh,[Zh,n.value.data.length>0?(t(),a("tbody",ep,[(t(!0),a(q,null,O(n.value.data,(p,U)=>(t(),ne(Lh,{key:p.id,item:p,index:U},null,8,["item","index"]))),128))])):(t(),a("tbody",tp,ap))])])]),(t(!0),a(q,null,O(n.value.data,(p,U)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:p.id,item:p,index:U},[e("div",lp,[e("div",np,[e("div",dp,[ip,e("span",null,s(p.sitename),1)]),e("div",cp,[rp,e("span",null,s(i(re)(p.taskdate).format("MMMM D, YYYY")),1)]),e("div",up,[_p,e("span",null,s(p.startdate),1)]),e("div",mp,[hp,e("span",null,s(p.enddate),1)]),e("div",pp,[vp,e("span",null,s(p.tasktype.listtask),1)]),e("div",bp,[fp,e("span",{class:I(["badge",p.remarks==="HIT"?"bg-success":"bg-danger"])},s(p.remarks),3)])])])],8,op))),128))])])]))])]),S(i(Ue),{data:n.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",$p,[e("div",gp,[e("div",yp,[kp,e("div",xp,[e("div",wp,[e("div",null,[Cp,S(i(De),{modelValue:l.value,"onUpdate:modelValue":x[0]||(x[0]=p=>l.value=p)},null,8,["modelValue"])]),e("div",null,[Sp,S(i(De),{modelValue:c.value,"onUpdate:modelValue":x[1]||(x[1]=p=>c.value=p)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Mp,e("button",{onClick:N,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64))}};var Dp=pe(Up,[["__scopeId","data-v-368dbe6c"]]);const Vp=["checked"],Ap={class:"text-center"},Ep=e("i",{class:"fa fa-edit"},null,-1),Tp=[Ep],Ip={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:_}){ie();const n=o,l=_,c=()=>{l("toggleSelection",n.user)};return(v,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Vp)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",Ap,[e("a",{href:"#",onClick:w[0]||(w[0]=ae(u=>v.$emit("editUser",o.user),["prevent"]))},Tp)])]))}},Lp={class:"content"},Fp={class:"container-fluid"},Pp={class:"card"},Yp={class:"card-header"},Bp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Np={class:"card-tools"},qp={class:"card-body"},Rp={class:"table-responsive"},jp={class:"table table-bordered table-hover table-sm"},Hp=e("th",{style:{width:"10px"}},"#",-1),Op=e("th",null,"Name",-1),zp=e("th",null,"Email",-1),Gp=e("th",null,"Registered Date",-1),Qp=e("th",null,"Options",-1),Wp={key:0},Kp={key:1},Xp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Jp=[Xp],Zp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ev={class:"modal-dialog modal-sm",role:"document"},tv={class:"modal-content"},sv={class:"modal-header"},av={class:"modal-title",id:"staticBackdropLabel"},ov={key:0},lv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),nv={class:"modal-body"},dv={class:"table table-sm"},iv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),cv={colspan:"5"},rv={class:"custom-control custom-checkbox"},uv=["value","id","checked"],_v=["for"],mv={key:0,class:"table table-sm"},hv={class:"text-danger"},pv={class:"custom-control custom-checkbox"},vv=["value","id"],bv=["for"],fv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),$v={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gv={class:"modal-dialog",role:"document"},yv={class:"modal-content"},kv=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),xv={class:"modal-footer"},wv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Cv={__name:"UserMenuList",setup(o){const _=ie(),n=d({data:[]}),l=d(!1),c=d(),v=d(null),w=d(null),u=d([]),N=(A=1)=>{T.get(`/api/users?page=${A}`,{params:{query:x.value}}).then(k=>{n.value=k.data,p.value=[],selectAll.value=!1})},b=A=>{T.get("/api/usermenu",{params:{user_id:A.id}}).then(k=>{z.value=k.data,console.log(k.data)}).catch(k=>{console.log(k)}),l.value=!0,v.value.resetForm(),$("#userFormModal").modal("show"),c.value={id:A.id,username:A.username,email:A.email,first_name:A.first_name,last_name:A.last_name},w.value=c.value.first_name+" "+c.value.last_name},M=()=>{const A={user_id:c.value.id,menu_id:u.value};console.log(A),T.post("/api/usermenu",A).then(k=>{_.success("User Menu Save successfully!")}).catch(k=>{setErrors(k.response.data.errors)})},x=d(null),p=d([]),U=A=>{const k=p.value.indexOf(A.id);k===-1?p.value.push(A.id):p.value.splice(k,1),console.log(p.value)},X=d(null),B=A=>{X.value=A,$("#deleteUserModal").modal("show")},z=d({data:[]});return me(x,ke.exports.debounce(()=>{N()},300)),ue(()=>{N()}),(A,k)=>(t(),a(q,null,[e("div",Lp,[e("div",Fp,[e("div",Pp,[e("div",Yp,[Bp,e("div",Np,[j(e("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=h=>x.value=h),class:"form-control",placeholder:"Search..."},null,512),[[oe,x.value]])])]),e("div",qp,[e("div",Rp,[e("table",jp,[e("thead",null,[e("tr",null,[e("th",null,[j(e("input",{type:"checkbox","onUpdate:modelValue":k[1]||(k[1]=h=>A.selectAll=h),onChange:k[2]||(k[2]=(...h)=>A.selectAllUsers&&A.selectAllUsers(...h))},null,544),[[fe,A.selectAll]])]),Hp,Op,zp,Gp,Qp])]),n.value.data.length>0?(t(),a("tbody",Wp,[(t(!0),a(q,null,O(n.value.data,(h,y)=>(t(),ne(Ip,{key:h.id,user:h,index:y,onEditUser:b,onConfirmUserDeletion:B,onToggleSelection:U,"select-all":A.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Kp,Jp))])])])]),S(i(Ue),{data:n.value,onPaginationChangePage:N},null,8,["data"])])]),e("div",Zp,[e("div",ev,[e("div",tv,[e("div",sv,[e("h5",av,[l.value?(t(),a("span",ov,"User Menu for "+s(w.value),1)):V("",!0)]),lv]),S(i(be),{ref_key:"form",ref:v,onSubmit:M,"initial-values":c.value},{default:Z(()=>[e("div",nv,[e("table",dv,[iv,(t(!0),a(q,null,O(z.value,h=>(t(),a("tr",{key:h.menu_id},[e("td",cv,[e("div",rv,[j(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":k[3]||(k[3]=y=>u.value=y),value:h.menu_id,id:"menu_id_"+h.menu_id,checked:h.hasAccess},null,8,uv),[[fe,u.value]]),e("label",{for:"menu_id_"+h.menu_id,class:"custom-control-label"},s(h.menu_title),9,_v)]),h.submenus&&h.submenus.length>0?(t(),a("table",mv,[(t(!0),a(q,null,O(h.submenus,y=>(t(),a("tr",{key:y.id},[e("td",hv,[e("div",pv,[j(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":k[4]||(k[4]=L=>u.value=L),value:y.menu_id,id:"menu_id_"+y.menu_id},null,8,vv),[[fe,u.value]]),e("label",{for:"menu_id_"+y.menu_id,class:"custom-control-label"},s(y.menu_title),9,bv)])])]))),128))])):V("",!0)])]))),128))])]),fv]),_:1},8,["initial-values"])])])]),e("div",$v,[e("div",gv,[e("div",yv,[kv,e("div",xv,[wv,e("button",{onClick:k[5]||(k[5]=ae((...h)=>A.deleteUser&&A.deleteUser(...h),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};const Ge=o=>(we("data-v-8e5d6dd6"),o=o(),Ce(),o),Sv=["checked"],Mv=["innerHTML"],Uv={style:{"text-align":"center"}},Dv={class:"text-center"},Vv=Ge(()=>e("i",{class:"fa fa-edit"},null,-1)),Av=[Vv],Ev=Ge(()=>e("i",{class:"fa fa-trash"},null,-1)),Tv=[Ev],Iv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:_}){ie(),de();const n=o,l=_,c=()=>{l("toggleSelection",n.item)};return(v,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Sv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Mv),e("td",null,s(o.item.sort_order),1),e("td",Uv,[e("i",{class:I({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",Dv,[e("button",{class:"btn btn-sm bg-primary",onClick:w[0]||(w[0]=ae(u=>v.$emit("editMenu",o.item),["prevent"]))},Av),F("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:w[1]||(w[1]=ae(u=>v.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Tv)])]))}};var Lv=pe(Iv,[["__scopeId","data-v-8e5d6dd6"]]);const Fv={class:"content"},Pv={class:"container-fluid"},Yv={class:"d-flex justify-content-between"},Bv={class:"d-flex"},Nv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),qv={key:0},Rv=e("i",{class:"fa fa-trash mr-1"},null,-1),jv={class:"ml-2"},Hv={class:"card"},Ov={class:"card-body"},zv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Gv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Qv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Wv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Kv={class:"table-responsive"},Xv={class:"table table-bordered table-sm"},Jv=e("th",{style:{width:"10px"}},"#",-1),Zv=e("th",null,"Title",-1),e1=e("th",null,"Parent Menu",-1),t1=e("th",null,"Route",-1),s1=e("th",null,"Icon",-1),a1=e("th",null,"Sort",-1),o1=e("th",null,"Active",-1),l1=e("th",null,"Date",-1),n1=e("th",null,"Action",-1),d1={key:0},i1={key:1},c1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),r1=[c1],u1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_1={class:"modal-dialog modal-sm",role:"document"},m1={class:"modal-content"},h1={class:"modal-header"},p1={class:"modal-title",id:"staticBackdropLabel"},v1={key:0},b1={key:1},f1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),$1={class:"modal-body"},g1={class:"col-md-12"},y1={class:"row"},k1={class:"col-12"},x1={class:"form-group"},w1=e("label",{for:"user"},"Menu Title",-1),C1={class:"invalid-feedback"},S1={class:"form-group"},M1=e("label",{for:"department"},"Parent Menu",-1),U1=e("option",{value:"0"},"None",-1),D1=["value"],V1={class:"form-group"},A1=e("label",{for:"warehouse"},"Icon",-1),E1={class:"invalid-feedback"},T1={class:"form-group"},I1=e("label",{for:"user"},"Route",-1),L1={class:"invalid-feedback"},F1={class:"form-group"},P1=e("label",{for:"user"},"Sort",-1),Y1={class:"invalid-feedback"},B1={class:"form-group"},N1=e("label",{for:"is_active"},"Active",-1),q1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),R1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j1={class:"modal-dialog",role:"document"},H1={class:"modal-content"},O1=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),z1={class:"modal-footer"},G1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Q1={__name:"MenuList",setup(o){const _=ie(),n=d({data:[]}),l=d({data:[]}),c=d(!1),v=d(!1);d();const w=d(!0),u=xe({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),N=de();d(null);const b=d(),M=(C=1)=>{c.value=!0,T.get(`/api/menulist?page=${C}`,{params:{query:k.value}}).then(g=>{c.value=!1,n.value=g.data,h.value=[],R.value=!1})},x=()=>{T.get("/api/GetParentId").then(C=>{l.value=C.data}).catch(C=>{console.error(C)})};ve({menu_title:P().required(),parent_id:P().required(),sort_order:P().required(),menu_icon:P().required(),menu_route:P().required()}),ve({menu_title:P().required(),parent_id:P().required(),sort_order:P().required(),menu_icon:P().required(),menu_route:P().required()});const p=C=>{u.is_active=C?1:0},U=({resetForm:C,setErrors:g})=>{T.post("/api/menulist",{menu_title:u.menu_title,parent_id:u.parent_id,menu_icon:u.menu_icon,menu_route:u.menu_route,sort_order:u.sort_order,is_active:u.is_active}).then(f=>{n.value.data.unshift(f.data),$("#FormModal").modal("hide"),C(),_.success("User created successfully!")}).catch(f=>{f.response.data.errors&&g(f.response.data.errors)})},X=()=>{v.value=!1,$("#FormModal").modal("show")},B=C=>{v.value=!0,u.menu_id=C.menu_id,u.menu_title=C.menu_title,u.parent_id=C.parent_id,u.menu_icon=C.menu_icon,u.menu_route=C.menu_route,u.sort_order=C.sort_order,u.is_active===1?w.value=!0:w.value=!1,u.is_active=C.is_active,$("#FormModal").modal("show"),b.value=C.parent_id},z=({setErrors:C})=>{T.post("/api/menulist",u).then(g=>{M(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(g=>{C(g.response.data.errors),console.log(g)})},A=(C,g)=>{v.value?z(C):U(C)},k=d(null),h=d([]),y=C=>{const g=h.value.indexOf(C.id);g===-1?h.value.push(C.id):h.value.splice(g,1),console.log(h.value)},L=d(null),te=C=>{L.value=C,$("#deleteClientModal").modal("show")},G=()=>{T.delete(`/api/menu/${L.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),n.value.data=n.value.data.filter(C=>C.menu_id!==L.value)})},K=()=>{T.delete("menulist",{data:{ids:h.value}}).then(C=>{n.value.data=n.value.data.filter(g=>!h.value.includes(g.id)),h.value=[],R.value=!1,_.success(C.data.message)})},R=d(!1),se=()=>{R.value?h.value=n.value.data.map(C=>C.id):h.value=[],console.log(h.value)};return me([w],C=>{u.is_active=C?1:0}),me(k,ke.exports.debounce(()=>{M()},300)),ue(()=>{M(),x()}),(C,g)=>(t(),a(q,null,[e("div",Fv,[e("div",Pv,[e("div",Yv,[e("div",Bv,[e("button",{onClick:X,type:"button",class:"mb-2 btn btn-primary"},[Nv,F(" Menu ")]),h.value.length>0?(t(),a("div",qv,[e("button",{onClick:K,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Rv,F(" Delete Selected ")]),e("span",jv,"Selected "+s(h.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[j(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=f=>k.value=f),class:"form-control",placeholder:"Search..."},null,512),[[oe,k.value]])])]),e("div",Hv,[e("div",Ov,[c.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[zv,Gv,Qv,Wv]),_:1})):V("",!0),e("div",Kv,[e("table",Xv,[e("thead",null,[e("tr",null,[e("th",null,[j(e("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=f=>R.value=f),onChange:se},null,544),[[fe,R.value]])]),Jv,Zv,e1,t1,s1,a1,o1,l1,n1])]),n.value.data.length>0?(t(),a("tbody",d1,[(t(!0),a(q,null,O(n.value.data,(f,r)=>(t(),ne(Lv,{key:f.id,item:f,index:r,onEditMenu:B,onConfirmDeletion:te,onToggleSelection:y,"select-all":R.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",i1,r1))])])])]),S(i(Ue),{data:n.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",u1,[e("div",_1,[e("div",m1,[e("div",h1,[e("h5",p1,[v.value?(t(),a("span",v1,"Edit Menu")):(t(),a("span",b1,"Add Menu"))]),f1]),S(i(be),{onSubmit:A},{default:Z(({errors:f})=>[e("div",$1,[e("div",g1,[e("div",y1,[e("div",k1,[S(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(N).user.id,"onUpdate:modelValue":g[2]||(g[2]=r=>i(N).user.id=r)},null,8,["modelValue"]),e("div",x1,[w1,S(i(Q),{name:"menu_title",type:"text",class:I(["form-control",{"is-invalid":f.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:u.menu_title,"onUpdate:modelValue":g[3]||(g[3]=r=>u.menu_title=r)},null,8,["class","modelValue"]),e("span",C1,s(f.menu_title),1)]),e("div",S1,[M1,j(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":g[4]||(g[4]=r=>u.parent_id=r)},[U1,(t(!0),a(q,null,O(l.value,r=>(t(),a("option",{key:r.menu_id,value:r.menu_id},s(r.menu_title),9,D1))),128))],512),[[$e,u.parent_id]])]),e("div",V1,[A1,S(i(Q),{name:"menu_icon",type:"text",class:I(["form-control",{"is-invalid":f.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:u.menu_icon,"onUpdate:modelValue":g[5]||(g[5]=r=>u.menu_icon=r)},null,8,["class","modelValue"]),e("span",E1,s(f.menu_icon),1)]),e("div",T1,[I1,S(i(Q),{name:"menu_route",type:"text",class:I(["form-control",{"is-invalid":f.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:u.menu_route,"onUpdate:modelValue":g[6]||(g[6]=r=>u.menu_route=r)},null,8,["class","modelValue"]),e("span",L1,s(f.menu_route),1)]),e("div",F1,[P1,S(i(Q),{name:"sort_order",type:"text",class:I(["form-control",{"is-invalid":f.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:u.sort_order,"onUpdate:modelValue":g[7]||(g[7]=r=>u.sort_order=r)},null,8,["class","modelValue"]),e("span",Y1,s(f.sort_order),1)]),e("div",B1,[N1,j(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":g[8]||(g[8]=r=>w.value=r),onChange:p},null,544),[[fe,w.value]])])])])])]),q1]),_:1})])])]),e("div",R1,[e("div",j1,[e("div",H1,[O1,e("div",z1,[G1,e("button",{onClick:ae(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}},W1={class:"error-page"},K1=he('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),X1=[K1],J1="Page Not Found",Qe={__name:"404",setup(o){return ue(()=>{document.title=J1}),(_,n)=>(t(),a("div",W1,X1))}};const J=o=>(we("data-v-18d1690e"),o=o(),Ce(),o),Z1={id:"exportPDF"},eb={class:"container"},tb=J(()=>e("br",null,null,-1)),sb={class:"header"},ab=["src"],ob=["src"],lb={class:"header"},nb={class:"header-justify-space-between"},db=J(()=>e("br",null,null,-1)),ib=J(()=>e("p",null,null,-1)),cb={key:0},rb=J(()=>e("strong",null,null,-1)),ub=J(()=>e("br",null,null,-1)),_b=J(()=>e("br",null,null,-1)),mb=J(()=>e("p",null,null,-1)),hb=J(()=>e("strong",null,"Unit details",-1)),pb={class:"content"},vb={class:"header-justify-space-between"},bb=J(()=>e("span",null,"Brand:",-1)),fb=J(()=>e("br",null,null,-1)),$b=J(()=>e("span",null,"Model:",-1)),gb=J(()=>e("br",null,null,-1)),yb=J(()=>e("div",null,null,-1)),kb=J(()=>e("span",null,"Serial #:",-1)),xb=J(()=>e("br",null,null,-1)),wb=J(()=>e("span",null,"Asset Tag:",-1)),Cb=J(()=>e("br",null,null,-1)),Sb=J(()=>e("div",null,null,-1)),Mb=J(()=>e("strong",null,"Reported problem",-1)),Ub={class:"content"},Db=J(()=>e("strong",null,"Assessment conducted",-1)),Vb={class:"content"},Ab=J(()=>e("strong",null,"Recommendation",-1)),Eb={class:"content"},Tb={class:"header-justify-space-between"},Ib=J(()=>e("strong",null,"Evaluated by:",-1)),Lb=J(()=>e("br",null,null,-1)),Fb={class:"botoom-line"},Pb=J(()=>e("br",null,null,-1)),Yb=J(()=>e("p",null,null,-1)),Bb=J(()=>e("strong",null,"Noted by:",-1)),Nb=J(()=>e("br",null,null,-1)),qb={class:"botoom-line"},Rb=J(()=>e("br",null,null,-1)),jb=J(()=>e("br",null,null,-1)),Hb=J(()=>e("p",null,null,-1)),Ob={key:0},zb={key:1},Gb={key:0,class:"fab-container"},Qb=J(()=>e("i",{class:"fas fa-download"},null,-1)),Wb=[Qb],Kb={__name:"TechRecommApprove",setup(o){const _=`${Le().params.id}`,n=()=>{const v=document.getElementById("exportPDF");ze().from(v).save(`${_}.pdf`)},l=xe({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),c=()=>{T.get(`/api/tech-recommendations/${Le().params.id}`).then(v=>{l.id=v.data.id,l.recommnum=v.data.recommnum,l.branch=v.data.branch,l.company=v.data.company,l.department=v.data.department,l.warehouse=v.data.warehouse,l.user=v.data.user,l.problem=v.data.problem,l.brand=v.data.brand,l.model=v.data.model,l.assettag=v.data.assettag,l.serialnum=v.data.serialnum,l.status=v.data.status,l.assconducted=v.data.assconducted,l.recommendation=v.data.recommendation,l.createdby=v.data.createdby.cfull_name,l.updatedby=v.data.updatedby.ufull_name,l.created_at=re(v.data.created_at).format("MMMM D, YYYY"),l.updated_at=re(v.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=v.data.createdby.cposition,l.updated_position=v.data.updatedby.uposition}).catch(v=>{actions.setErrors(v.response.data.errors)})};return ue(()=>{c(),document.title=_}),(v,w)=>(t(),a(q,null,[e("div",Z1,[e("div",eb,[tb,e("div",sb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,ab),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,ob)]),e("div",lb,[e("span",null,[F("Recommendation No: "),e("strong",null,s(l.recommnum),1)]),e("span",null,[F("Date Checked: "),e("strong",null,s(l.created_at),1)])]),e("div",nb,[e("div",null,[e("span",null,[F("Company: "),e("strong",null,s(l.company),1)]),db,e("span",null,[F("Branch: "),e("strong",null,s(l.branch),1)])]),ib,e("div",null,[l.warehouse==""?(t(),a("span",cb,[F("Warehouse: "),rb,F(s(l.warehouse),1)])):V("",!0),ub,e("span",null,[F("User: "),e("strong",null,s(l.user),1)]),_b,e("span",null,[F("Department: "),e("strong",null,s(l.department),1)])]),mb]),hb,e("div",pb,[e("div",vb,[e("div",null,[bb,e("strong",null,s(l.brand),1),fb,$b,e("strong",null,s(l.model),1),gb]),yb,e("div",null,[kb,e("strong",null,s(l.serialnum),1),xb,wb,e("strong",null,s(l.assettag),1),Cb]),Sb])]),Mb,e("div",Ub,[e("p",null,s(l.problem),1)]),Db,e("div",Vb,[e("p",null,s(l.assconducted),1)]),Ab,e("div",Eb,[e("p",null,s(l.recommendation),1)]),e("div",Tb,[e("div",null,[Ib,Lb,e("span",Fb,s(l.createdby),1),Pb,e("span",null,s(l.created_position),1)]),Yb,e("div",null,[Bb,Nb,e("span",qb,s(l.updatedby),1),Rb,e("span",null,s(l.updated_position),1),jb]),Hb]),l.status===2?(t(),a("span",Ob,"Approved date:("+s(l.updated_at)+")",1)):(t(),a("span",zb,"Pending"))])]),l.status===2?(t(),a("div",Gb,[e("div",{class:"button iconbutton bg-success",onClick:w[0]||(w[0]=u=>n())},Wb)])):V("",!0)],64))}};var We=pe(Kb,[["__scopeId","data-v-18d1690e"]]);const Xb={},Jb={class:"card mx-auto",style:{"max-width":"600px"}},Zb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),ef={class:"card-body"},tf={class:"list-unstyled"};function sf(o,_){return t(),a("div",Jb,[Zb,e("div",ef,[e("ul",tf,[e("li",{class:"nav-item dropdown",onClick:_[0]||(_[0]=(...n)=>o.fetchNotifications&&o.fetchNotifications(...n))})])])])}var af=pe(Xb,[["render",sf]]);const of=["checked"],lf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:_}){ie(),de();const n=o,l=_,c=()=>{l("toggleSelection",n.item)};return(v,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,of)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.location),1),e("td",null,s(o.item.paccountable),1)]))}};var nf=pe(lf,[["__scopeId","data-v-c5620630"]]);const df={class:"content"},cf={class:"container-fluid"},rf={class:"d-flex justify-content-between"},uf={class:"d-flex"},_f=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),mf={key:0},hf=e("i",{class:"fa fa-trash mr-1"},null,-1),pf={class:"ml-2"},vf={class:"card"},bf={class:"card-body"},ff=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),$f=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),gf=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),yf=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),kf={class:"table-responsive"},xf={class:"table table-bordered table-sm table-striped hover"},wf=e("th",{style:{width:"10px"}},"#",-1),Cf=e("th",null,"Asset",-1),Sf=e("th",null,"Asset type",-1),Mf=e("th",null,"Serial",-1),Uf=e("th",null,"Date Aquired",-1),Df=e("th",null,"Suppliear",-1),Vf=e("th",null,"Unit",-1),Af=e("th",null,"Location",-1),Ef={key:0},Tf={key:1},If=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Lf=[If],Ff={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Pf={class:"modal-dialog modal-sm",role:"document"},Yf={class:"modal-content"},Bf={class:"modal-header"},Nf={class:"modal-title",id:"staticBackdropLabel"},qf={key:0},Rf={key:1},jf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Hf={class:"modal-body"},Of={class:"col-md-12"},zf={class:"row"},Gf={class:"col-12"},Qf={class:"form-group"},Wf=e("label",{for:"user"},"Menu Title",-1),Kf={class:"invalid-feedback"},Xf={class:"form-group"},Jf=e("label",{for:"department"},"Parent Menu",-1),Zf=e("option",{value:"0"},"None",-1),e$=["value"],t$={class:"form-group"},s$=e("label",{for:"warehouse"},"Icon",-1),a$={class:"invalid-feedback"},o$={class:"form-group"},l$=e("label",{for:"user"},"Route",-1),n$={class:"invalid-feedback"},d$={class:"form-group"},i$=e("label",{for:"user"},"Sort",-1),c$={class:"invalid-feedback"},r$={class:"form-group"},u$=e("label",{for:"is_active"},"Active",-1),_$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),m$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},h$={class:"modal-dialog",role:"document"},p$={class:"modal-content"},v$=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),b$={class:"modal-footer"},f$=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),$$={__name:"AssetmList",setup(o){const _=ie(),n=d({data:[]}),l=d({data:[]}),c=d(!1),v=d(!1);d();const w=d(!0),u=xe({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),N=de();d(null);const b=d(),M=(C=1)=>{c.value=!0,T.get(`/web/asset-monitoring?page=${C}`,{params:{query:k.value}}).then(g=>{c.value=!1,n.value=g.data,h.value=[],R.value=!1})},x=()=>{T.get("/api/GetParentId").then(C=>{l.value=C.data}).catch(C=>{console.error(C)})};ve({menu_title:P().required(),parent_id:P().required(),sort_order:P().required(),menu_icon:P().required(),menu_route:P().required()}),ve({menu_title:P().required(),parent_id:P().required(),sort_order:P().required(),menu_icon:P().required(),menu_route:P().required()});const p=C=>{u.is_active=C?1:0},U=({resetForm:C,setErrors:g})=>{T.post("/api/menulist",{menu_title:u.menu_title,parent_id:u.parent_id,menu_icon:u.menu_icon,menu_route:u.menu_route,sort_order:u.sort_order,is_active:u.is_active}).then(f=>{n.value.data.unshift(f.data),$("#FormModal").modal("hide"),C(),_.success("User created successfully!")}).catch(f=>{f.response.data.errors&&g(f.response.data.errors)})},X=()=>{v.value=!1,$("#FormModal").modal("show")},B=C=>{v.value=!0,u.menu_id=C.menu_id,u.menu_title=C.menu_title,u.parent_id=C.parent_id,u.menu_icon=C.menu_icon,u.menu_route=C.menu_route,u.sort_order=C.sort_order,u.is_active===1?w.value=!0:w.value=!1,u.is_active=C.is_active,$("#FormModal").modal("show"),b.value=C.parent_id},z=({setErrors:C})=>{T.post("/api/menulist",u).then(g=>{M(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(g=>{C(g.response.data.errors),console.log(g)})},A=(C,g)=>{v.value?z(C):U(C)},k=d(null),h=d([]),y=C=>{const g=h.value.indexOf(C.id);g===-1?h.value.push(C.id):h.value.splice(g,1),console.log(h.value)},L=d(null),te=C=>{L.value=C,$("#deleteClientModal").modal("show")},G=()=>{T.delete(`/api/menu/${L.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),n.value.data=n.value.data.filter(C=>C.menu_id!==L.value)})},K=()=>{T.delete("menulist",{data:{ids:h.value}}).then(C=>{n.value.data=n.value.data.filter(g=>!h.value.includes(g.id)),h.value=[],R.value=!1,_.success(C.data.message)})},R=d(!1),se=()=>{R.value?h.value=n.value.data.map(C=>C.id):h.value=[],console.log(h.value)};return me([w],C=>{u.is_active=C?1:0}),me(k,ke.exports.debounce(()=>{M()},300)),ue(()=>{M(),x()}),(C,g)=>(t(),a(q,null,[e("div",df,[e("div",cf,[e("div",rf,[e("div",uf,[e("button",{onClick:X,type:"button",class:"mb-2 btn btn-primary"},[_f,F(" Menu ")]),h.value.length>0?(t(),a("div",mf,[e("button",{onClick:K,type:"button",class:"ml-2 mb-2 btn btn-danger"},[hf,F(" Delete Selected ")]),e("span",pf,"Selected "+s(h.value.length)+" techrecomm",1)])):V("",!0)]),e("div",null,[j(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=f=>k.value=f),class:"form-control",placeholder:"Search..."},null,512),[[oe,k.value]])])]),e("div",vf,[e("div",bf,[c.value?(t(),ne(i(ye),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[ff,$f,gf,yf]),_:1})):V("",!0),e("div",kf,[e("table",xf,[e("thead",null,[e("tr",null,[e("th",null,[j(e("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=f=>R.value=f),onChange:se},null,544),[[fe,R.value]])]),wf,Cf,Sf,Mf,Uf,Df,Vf,Af])]),n.value.data.length>0?(t(),a("tbody",Ef,[(t(!0),a(q,null,O(n.value.data,(f,r)=>(t(),ne(nf,{key:f.id,item:f,index:r,onEditMenu:B,onConfirmDeletion:te,onToggleSelection:y,"select-all":R.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Tf,Lf))])])])]),S(i(Ue),{data:n.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",Ff,[e("div",Pf,[e("div",Yf,[e("div",Bf,[e("h5",Nf,[v.value?(t(),a("span",qf,"Edit Menu")):(t(),a("span",Rf,"Add Menu"))]),jf]),S(i(be),{onSubmit:A},{default:Z(({errors:f})=>[e("div",Hf,[e("div",Of,[e("div",zf,[e("div",Gf,[S(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(N).user.id,"onUpdate:modelValue":g[2]||(g[2]=r=>i(N).user.id=r)},null,8,["modelValue"]),e("div",Qf,[Wf,S(i(Q),{name:"menu_title",type:"text",class:I(["form-control",{"is-invalid":f.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:u.menu_title,"onUpdate:modelValue":g[3]||(g[3]=r=>u.menu_title=r)},null,8,["class","modelValue"]),e("span",Kf,s(f.menu_title),1)]),e("div",Xf,[Jf,j(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":g[4]||(g[4]=r=>u.parent_id=r)},[Zf,(t(!0),a(q,null,O(l.value,r=>(t(),a("option",{key:r.menu_id,value:r.menu_id},s(r.menu_title),9,e$))),128))],512),[[$e,u.parent_id]])]),e("div",t$,[s$,S(i(Q),{name:"menu_icon",type:"text",class:I(["form-control",{"is-invalid":f.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:u.menu_icon,"onUpdate:modelValue":g[5]||(g[5]=r=>u.menu_icon=r)},null,8,["class","modelValue"]),e("span",a$,s(f.menu_icon),1)]),e("div",o$,[l$,S(i(Q),{name:"menu_route",type:"text",class:I(["form-control",{"is-invalid":f.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:u.menu_route,"onUpdate:modelValue":g[6]||(g[6]=r=>u.menu_route=r)},null,8,["class","modelValue"]),e("span",n$,s(f.menu_route),1)]),e("div",d$,[i$,S(i(Q),{name:"sort_order",type:"text",class:I(["form-control",{"is-invalid":f.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:u.sort_order,"onUpdate:modelValue":g[7]||(g[7]=r=>u.sort_order=r)},null,8,["class","modelValue"]),e("span",c$,s(f.sort_order),1)]),e("div",r$,[u$,j(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":g[8]||(g[8]=r=>w.value=r),onChange:p},null,544),[[fe,w.value]])])])])])]),_$]),_:1})])])]),e("div",m$,[e("div",h$,[e("div",p$,[v$,e("div",b$,[f$,e("button",{onClick:ae(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var g$=[{path:"/login",name:"admin.login",component:In},{path:"/admin/dashboard",name:"Dashboard",component:St},{path:"/admin/appointments",name:"Appointments",component:Gt},{path:"/admin/appointments/create",name:"Appointments",component:je},{path:"/admin/appointments/:id/edit",name:"Appointments",component:je},{path:"/admin/user",name:"User",component:Vo},{path:"/admin/settings",name:"Setting",component:kl},{path:"/admin/profile",name:"Profile",component:vn},{path:"/admin/client",name:"Client",component:Ed},{path:"/admin/tech-recommendation",name:"Tech Recomm",component:Xc},{path:"/admin/weekly-task-schedule/myprio",name:"My Prio",component:Z_},{path:"/admin/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Dp},{path:"/admin/weekly-task-schedule/myvsc",name:"My VSC",component:Eh},{path:"/admin/usermenu",name:"User Menu",component:Cv},{path:"/admin/menu",name:"Menu",component:Q1},{path:"/:catchAll(.*)",name:"404 Error Page",component:Qe},{path:"/admin/notifications",name:"Notifications",component:af},{path:"/admin/tech-approved/:id/view",name:"Tech-Approved",component:We},{path:"/asset-monitoring",name:"Asset Monitoring",component:$$}];const y$={class:"navbar-nav"},k$=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),x$={class:"nav-item d-none d-sm-inline-block"},w$={class:"navbar-nav ml-auto"},C$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),S$=he('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),M$={class:"nav-link","data-toggle":"dropdown",href:"#"},U$=e("i",{class:"far fa-bell"},null,-1),D$={class:"badge badge-warning navbar-badge"},V$={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},A$={class:"dropdown-header"},E$=e("div",{class:"dropdown-divider"},null,-1),T$=e("i",{class:"fas fa-envelope mr-2"},null,-1),I$={class:"float-right text-muted text-sm"},L$={key:1,class:"text-center text-muted py-3"},F$=e("div",{class:"dropdown-divider"},null,-1),P$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Y$=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),B$={__name:"AppNavbar",setup(o){const _=Ve(),n=d([]),l=()=>{T.get("/api/notifications").then(c=>{n.value=c.data.notifications}).catch(c=>{console.error("Error fetching notifications",c)})};return ue(()=>{l()}),(c,v)=>{const w=Me("router-link");return t(),a("nav",{class:I(["main-header navbar navbar-expand",i(_).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",y$,[k$,e("li",x$,[e("a",{onClick:v[0]||(v[0]=ae((...u)=>i(_).changeTheme&&i(_).changeTheme(...u),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:I(["far",i(_).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",w$,[C$,S$,e("li",{class:"nav-item dropdown",onClick:l},[e("a",M$,[U$,e("span",D$,s(n.value.length),1)]),e("div",V$,[e("span",A$,s(n.value.length)+" Notifications",1),E$,n.value.length>0?(t(!0),a(q,{key:0},O(n.value,u=>(t(),a("a",{key:u.id,href:"#",class:"dropdown-item"},[T$,F(" "+s(u.data?u.data:"No message available")+" ",1),e("span",I$,s(i(re)(u.created_at)),1)]))),128)):(t(),a("p",L$,"No new notifications")),F$,S(w,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[F("See All Notifications")]),_:1})])]),P$,Y$])],2)}}},N$={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},q$={href:"#",class:"brand-link"},R$=["src"],j$={class:"brand-text font-weight-light"},H$={class:"sidebar"},O$={class:"user-panel mt-3 pb-3 mb-3 d-flex"},z$={key:0,class:"image"},G$=["src"],Q$={key:1,class:"image"},W$=["src"],K$=["src"],X$={class:"info"},J$={href:"#",class:"d-block"},Z$={class:"mt-2"},eg={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},tg={key:0,class:"right fas fa-angle-left"},sg={key:0,class:"nav nav-treeview"},ag={class:"nav-item"},og={class:"nav-link"},lg=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),ng=e("p",null,"Logout",-1),dg=[lg,ng],ig={__name:"SidebarLeft",setup(o){const _=Be(),n=de(),l=Ve(),c=d({data:[]}),v=()=>{axios.get("/api/menu").then(N=>{c.value=N.data}).catch(N=>{console.log(N)})},w=N=>N===_.currentRoute.value.path,u=()=>{axios.post("/logout").then(N=>{n.user.name="",_.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),v()}),(N,b)=>{const M=Me("router-link");return t(),a("aside",N$,[e("a",q$,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,R$),e("span",j$,s(i(l).setting.app_name),1)]),e("div",H$,[e("div",O$,[i(n).user.avatar===""?(t(),a("div",z$,[e("img",{src:i(n).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,G$)])):i(n).user.avatar!==""?(t(),a("div",Q$,[i(n).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,W$)):i(n).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,K$)):V("",!0)])):V("",!0),e("div",X$,[e("a",J$,s(i(n).user.name),1)])]),e("nav",Z$,[e("ul",eg,[(t(!0),a(q,null,O(c.value,x=>(t(),a("li",{key:x.id,class:I({"nav-item":!0,"has-submenu":x.submenus&&x.submenus.length>0})},[S(M,{class:I({"nav-link":!0,active:w(x.menu_route)}),to:`${x.menu_route}`},{default:Z(()=>[e("i",{class:I("nav-icon "+x.menu_icon)},null,2),e("p",null,s(x.menu_title),1),x.submenus&&x.submenus.length>0?(t(),a("i",tg)):V("",!0)]),_:2},1032,["class","to"]),x.submenus&&x.submenus.length>0?(t(),a("ul",sg,[(t(!0),a(q,null,O(x.submenus,p=>(t(),a("li",{key:p.id,class:"nav-item"},[S(M,{class:I({"nav-link":!0,active:w(p.menu_route)}),to:p.menu_route},{default:Z(()=>[e("i",{class:I("nav-icon "+p.menu_icon)},null,2),e("p",null,s(p.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):V("",!0)],2))),128)),e("li",ag,[e("form",og,[e("a",{href:"#",onClick:ae(u,["prevent"])},dg)])])])])])])}}},cg={},rg={class:"control-sidebar control-sidebar-dark"},ug=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),_g=[ug];function mg(o,_){return t(),a("aside",rg,_g)}var hg=pe(cg,[["render",mg]]);const pg={class:"main-footer"},vg={class:"float-right d-none d-sm-block"},bg={href:"#"},fg={__name:"AppFooter",props:{settings:Object},setup(o){const _=de(),n=d(new Date().getFullYear());return(l,c)=>{var v;return t(),a("footer",pg,[e("div",vg,s(i(_).user.name),1),e("strong",null,[F("Copyright \xA9 "+s(n.value)+" ",1),e("a",bg,s((v=o.settings)==null?void 0:v.app_name),1),F(".")]),F(" All rights reserved. ")])}}};const $g=o=>(we("data-v-36653638"),o=o(),Ce(),o),gg={class:"content-wrapper"},yg={class:"content-header"},kg={class:"container-fluid"},xg={class:"row mb-2"},wg={class:"col-sm-6"},Cg={class:"m-0"},Sg={class:"col-sm-6"},Mg={class:"breadcrumb float-sm-right"},Ug=$g(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Dg={class:"breadcrumb-item active"},Vg={__name:"CustomMainLayout",setup(o){const _=de(),n=Ve(),l=ge(()=>n.theme==="dark"?"dark-mode":"");return(c,v)=>{const w=Me("router-view");return i(_).user.name!==""?(t(),a("div",{key:0,class:I(["wrapper",l.value])},[S(B$),S(ig),S(hg),e("div",gg,[e("section",yg,[e("div",kg,[e("div",xg,[e("div",wg,[e("h1",Cg,s(c.$route.name),1)]),e("div",Sg,[e("ol",Mg,[Ug,e("li",Dg,s(c.$route.name),1)])])])])]),S(w)]),S(fg)],2)):(t(),a("div",{key:1,class:I(["login-page slibg",l.value])},[S(w)],2))}}};var Ag=pe(Vg,[["__scopeId","data-v-36653638"]]);const Eg={__name:"App",setup(o){de();const _=Le(),n=ge(()=>_.name==="Tech-Approved"),l=ge(()=>_.name==="404 Error Page");return(c,v)=>(t(),a("div",null,[!l.value&&!n.value?(t(),ne(Ag,{key:0})):n.value?(t(),ne(We,{key:1})):(t(),ne(Qe,{key:2}))]))}};var Tg=pe(Eg,[["__scopeId","data-v-252b567e"]]);const Ig=lt(),Ae=ct(Tg),Ke=nt({routes:g$,history:dt()});Ke.beforeEach(async(o,_)=>{const n=de();if(n.user.name===""&&o.name!=="admin.login"){const l=Ve();await Promise.all([n.getAuthUser(),l.getSetting()])}});Ae.use(Ig);Ae.use(Ke);Ae.use($t);Ae.use(ze);Ae.mount("#app");
