import{_ as nt,l as Pe}from"./lodash.6f1dd969.js";import{a as V}from"./axios.82d3905a.js";import{a as dt}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.a377489c.js";import{d as Ke,c as it}from"./pinia.27c659f6.js";import{u as $e,a as Oe,c as ct,b as rt}from"./vue-router.4ee991d3.js";import{r as n,o as ue,i as a,k as e,x as s,_ as C,u as c,e as t,I as Fe,h as ee,j as P,F as N,q as G,d as xe,a0 as de,v as L,C as De,a2 as Q,a3 as ie,a7 as Te,p as A,w as fe,a8 as Ce,a9 as Me,f as re,a5 as Ve,a6 as Ae,B as Xe,a1 as je,aa as ut}from"./@vue.1cef3f16.js";import{B as _t}from"./vue-chartjs.08f65f55.js";import{C as mt,p as ht,a as pt,b as vt,c as bt,d as ft,L as $t}from"./chart.js.562acd0f.js";import{S as Qe}from"./sweetalert2.ef56b979.js";import{t as Re}from"./toastr.94171567.js";import{F as Ue,a as z}from"./vee-validate.e717a009.js";import{f as Je}from"./flatpickr.181c7977.js";import{c as we,a as I}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as be}from"./moment.40bc58bf.js";import{a as Ye}from"./laravel-vue-pagination.7f094385.js";import{C as Ee}from"./vue-content-loader.ff97e771.js";import"./dompurify.5fe4b1c1.js";import{u as gt}from"./@vueuse.162aa6b0.js";import{L as Le}from"./vue3-datepicker.df73fbe1.js";import{h as He}from"./html2canvas.c4a43e03.js";import{h as Ze}from"./html2pdf.js.44b835e5.js";import{V as yt}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=nt;window.axios=V;window.$=window.jQuery=dt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=Ke("AuthUserStore",()=>{const o=n({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await V.get("/api/profile").then(u=>{o.value=u.data})}}}),kt={class:"content"},xt={class:"container-fluid"},wt={class:"card"},Ct={class:"card-header"},St={class:"card-body"},Mt=e("div",{class:"row"},null,-1),Ut={__name:"Dashboard",setup(o){mt.register(ht,pt,vt,bt,ft,$t);const g=`${$e().name}`;_e(),n("all"),n(0);const u=n(new Date().getFullYear()),l=n({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),d=()=>{axios.get("/api/chart").then(m=>{m.data,l.value=m.data}).catch(m=>{console.error("Error fetching chart data:",m)})},h=n("today"),k=n(0),U=()=>{axios.get("/api/stats/users",{params:{date_range:h.value}}).then(m=>{k.value=m.data.totalUsersCount})};return ue(()=>{d(),U(),document.title=g}),(m,E)=>(t(),a("div",kt,[e("div",xt,[e("div",wt,[e("div",Ct," Yearly Progress - "+s(u.value),1),e("div",St,[C(c(_t),{data:l.value},null,8,["data"])])]),Mt])]))}},Dt={class:"content"},Vt={class:"container-fluid"},At={class:"row"},Tt={class:"col-lg-12"},Et={class:"d-flex justify-content-between mb-2"},Pt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),L(" Add New Appointment")],-1),Ft={class:"btn-group"},Lt=e("span",{class:"mr-1"},"All",-1),It={class:"badge badge-pill badge-info"},Yt=["onClick"],Bt={class:"mr-1"},qt={class:"card"},Nt={class:"card-body"},Rt={class:"table table-bordered"},jt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Ht=e("td",null,null,-1),Ot=e("i",{class:"fa fa-edit mr-2"},null,-1),zt=["onClick"],Gt=e("i",{class:"fa fa-trash text-danger"},null,-1),Qt=[Gt],Wt={__name:"ListAppointments",setup(o){const g=n(),u=n([]),l=()=>{V.get("/api/appointment-status").then(E=>{u.value=E.data})},d=n([]),h=E=>{g.value=E;const b={};E&&(b.status=E),V.get("/api/appointments",{params:b}).then(r=>{d.value=r.data,console.log(r)})},k=Fe(()=>u.value.map(E=>E.count).reduce((E,b)=>E+b,0)),U=E=>{const b=d.value.data.find(_=>_.id===E).status.name,r=u.value.find(_=>_.name===b);r.count--},m=E=>{Qe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&V.delete(`/api/appointments/${E}`).then(r=>{U(E),d.value.data=d.value.data.filter(_=>_.id!==E),Qe.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{h(),l()}),(E,b)=>{const r=xe("router-link");return t(),a("div",Dt,[e("div",Vt,[e("div",At,[e("div",Tt,[e("div",Et,[e("div",null,[C(r,{to:"/admin/appointments/create"},{default:ee(()=>[Pt]),_:1})]),e("div",Ft,[e("button",{onClick:b[0]||(b[0]=_=>h()),type:"button",class:P(["btn",[typeof g.value=="undefined"?"btn-secondary":"btn-default"]])},[Lt,e("span",It,s(k.value),1)],2),(t(!0),a(N,null,G(u.value,_=>(t(),a("button",{onClick:f=>h(_.value),type:"button",class:P(["btn",[g.value===_.value?"btn-secondary":"btn-default"]])},[e("span",Bt,s(_.name),1),e("span",{class:P(["badge badge-pill",`badge-${_.color}`])},s(_.count),3)],10,Yt))),256))])]),e("div",qt,[e("div",Nt,[e("table",Rt,[jt,e("tbody",null,[(t(!0),a(N,null,G(d.value.data,(_,f)=>(t(),a("tr",{key:_.id},[e("td",null,s(f+1),1),e("td",null,s(_.client.first_name)+" "+s(_.client.last_name),1),e("td",null,s(_.start_time),1),e("td",null,s(_.end_time),1),Ht,e("td",null,[C(r,{to:`/admin/appointments/${_.id}/edit`},{default:ee(()=>[Ot]),_:2},1032,["to"]),e("a",{href:"#",onClick:de(B=>m(_.id),["prevent"])},Qt,8,zt)])]))),128))])])])])])])])])}}};function me(){return Re.options.positionClass="toast-top-right",Re.options.closeButton=!0,Re.options.progressBar=!0,Re}const Kt={class:"content-header"},Xt={class:"container-fluid"},Jt={class:"row mb-2"},Zt={class:"col-sm-6"},es={class:"m-0"},ts={key:0},ss={key:1},as={class:"col-sm-6"},os={class:"breadcrumb float-sm-right"},ls={class:"breadcrumb-item"},ns={class:"breadcrumb-item"},ds={class:"breadcrumb-item active"},is={key:0},cs={key:1},rs={class:"content"},us={class:"container-fluid"},_s={class:"row"},ms={class:"col-lg-12"},hs={class:"card"},ps={class:"card-body"},vs={class:"row"},bs={class:"col-md-6"},fs={class:"form-group"},$s=e("label",{for:"title"},"Title",-1),gs={class:"invalid-feedback"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"client"},"Client Name",-1),ws=["value"],Cs={class:"invalid-feedback"},Ss={class:"row"},Ms={class:"col-md-6"},Us={class:"form-group"},Ds=e("label",{for:"start-time"},"Start Time",-1),Vs={class:"invalid-feedback"},As={class:"col-md-6"},Ts={class:"form-group"},Es=e("label",{for:"end-time"},"End Time",-1),Ps={class:"invalid-feedback"},Fs={class:"form-group"},Ls=e("label",{for:"description"},"Description",-1),Is={class:"invalid-feedback"},Ys=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),We={__name:"AppointmentForm",setup(o){const g=Oe(),u=$e(),l=me(),d=De({title:"",client_id:"",start_time:"",end_time:"",description:""}),h=(_,f)=>{r.value?U(_,f):k(_,f)},k=(_,f)=>{V.post("/api/appointments/create",d).then(B=>{g.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(B=>{f.setErrors(B.response.data.errors)})},U=(_,f)=>{V.put(`/api/appointments/${u.params.id}/edit`,d).then(B=>{g.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(B=>{f.setErrors(B.response.data.errors)})},m=n(),E=()=>{V.get("/api/view-clients").then(_=>{m.value=_.data})},b=()=>{V.get(`/api/appointments/${u.params.id}/edit`).then(({data:_})=>{d.title=_.title,d.client_id=_.client_id,d.start_time=_.formatted_start_time,d.end_time=_.formatted_end_time,d.description=_.description})},r=n(!1);return ue(()=>{u.name==="admin.appointments.edit"&&(r.value=!0,b()),Je(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),E()}),(_,f)=>{const B=xe("router-link");return t(),a(N,null,[e("div",Kt,[e("div",Xt,[e("div",Jt,[e("div",Zt,[e("h1",es,[r.value?(t(),a("span",ts,"Edit")):(t(),a("span",ss,"Create")),L(" Appointment")])]),e("div",as,[e("ol",os,[e("li",ls,[C(B,{to:"/admin/dashboard"},{default:ee(()=>[L("Home")]),_:1})]),e("li",ns,[C(B,{to:"/admin/appointments"},{default:ee(()=>[L("Appointments")]),_:1})]),e("li",ds,[r.value?(t(),a("span",is,"Edit")):(t(),a("span",cs,"Create"))])])])])])]),e("div",rs,[e("div",us,[e("div",_s,[e("div",ms,[e("div",hs,[e("div",ps,[C(c(Ue),{onSubmit:h},{default:ee(({errors:H})=>[e("div",vs,[e("div",bs,[e("div",fs,[$s,Q(e("input",{"onUpdate:modelValue":f[0]||(f[0]=W=>d.title=W),type:"text",class:P(["form-control",{"is-invalid":H.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ie,d.title]]),e("span",gs,s(H.title),1)])]),e("div",ys,[e("div",ks,[xs,Q(e("select",{"onUpdate:modelValue":f[1]||(f[1]=W=>d.client_id=W),id:"client",class:P(["form-control",{"is-invalid":H.client_id}])},[(t(!0),a(N,null,G(m.value,W=>(t(),a("option",{value:W.id,key:W.id},s(W.first_name)+" "+s(W.last_name),9,ws))),128))],2),[[Te,d.client_id]]),e("span",Cs,s(H.client_id),1)])])]),e("div",Ss,[e("div",Ms,[e("div",Us,[Ds,Q(e("input",{"onUpdate:modelValue":f[2]||(f[2]=W=>d.start_time=W),type:"text",class:P(["form-control flatpickr",{"is-invalid":H.start_time}]),id:"start-time"},null,2),[[ie,d.start_time]]),e("span",Vs,s(H.start_time),1)])]),e("div",As,[e("div",Ts,[Es,Q(e("input",{"onUpdate:modelValue":f[3]||(f[3]=W=>d.end_time=W),type:"text",class:P(["form-control flatpickr",{"is-invalid":H.end_time}]),id:"end-time"},null,2),[[ie,d.end_time]]),e("span",Ps,s(H.end_time),1)])])]),e("div",Fs,[Ls,Q(e("textarea",{"onUpdate:modelValue":f[4]||(f[4]=W=>d.description=W),class:P(["form-control",{"is-invalid":H.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ie,d.description]]),e("span",Is,s(H.description),1)]),Ys]),_:1})])])])])])])],64)}}},Bs=["checked"],qs=["value","selected"],Ns=["value","selected"],Rs=e("i",{class:"fa fa-edit"},null,-1),js=[Rs],Hs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Os=[Hs],zs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){const u=me(),l=o,d=g,h=n([{name:"ADMIN",value:1},{name:"USER",value:2}]),k=n([]),U=()=>{V.get("/api/users/userlist").then(r=>{k.value=r.data}).catch(r=>{console.log(r)})},m=(r,_)=>{V.patch(`/api/users/${r.id}/change-role`,{role:_}).then(()=>{u.success("Role changed successfully!")})},E=(r,_)=>{V.patch(`/api/users/${r.id}/change-sitehead`,{sitehead_user_id:_}).then(()=>{u.success("Sitehead changed successfully!")})},b=()=>{d("toggleSelection",l.user)};return ue(()=>{U()}),(r,_)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:b},null,40,Bs)):A("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:_[0]||(_[0]=f=>m(o.user,f.target.value))},[(t(!0),a(N,null,G(h.value,f=>(t(),a("option",{key:f.id,value:f.value,selected:o.user.role===f.name},s(f.name),9,qs))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:_[1]||(_[1]=f=>E(o.user,f.target.value))},[(t(!0),a(N,null,G(k.value,f=>(t(),a("option",{key:f.id,value:f.id,selected:o.user.sitehead_user_id===f.id},s(f.first_name+" "+f.last_name),9,Ns))),128))],32)):A("",!0)]),e("td",null,[e("a",{href:"#",onClick:_[2]||(_[2]=de(f=>r.$emit("editUser",o.user),["prevent"]))},js),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:_[3]||(_[3]=de(f=>r.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Os)):A("",!0)])]))}},Gs={class:"content"},Qs={class:"container-fluid"},Ws={class:"d-flex justify-content-between mb-2"},Ks={class:"d-flex"},Xs=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Js={key:0},Zs=e("i",{class:"fa fa-trash mr-1"},null,-1),ea={class:"ml-2"},ta={class:"card"},sa={class:"card-body"},aa={class:"dispatch-table"},oa={class:"table-responsive"},la={class:"table table-bordered table-hover table-sm"},na=e("th",{style:{width:"10px"}},"#",-1),da=e("th",null,"Name",-1),ia=e("th",null,"Email",-1),ca=e("th",null,"Registered Date",-1),ra=e("th",null,"Role",-1),ua=e("th",null,"Head",-1),_a=e("th",null,"Action",-1),ma={key:0},ha={key:1},pa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),va=[pa],ba=["index"],fa={class:"card"},$a={class:"card-body"},ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Name:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Email:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Sa={class:"list-field"},Ma=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ua=["onChange"],Da=["value","selected"],Va=e("hr",null,null,-1),Aa={class:"row"},Ta={key:0,class:"col"},Ea=["onClick"],Pa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fa=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Ia=[La],Ya={key:1,class:"col"},Ba=["onClick"],qa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ra={class:"modal-dialog",role:"document"},ja={class:"modal-content"},Ha={class:"modal-header"},Oa={class:"modal-title",id:"staticBackdropLabel"},za={key:0},Ga={key:1},Qa=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wa={class:"modal-body"},Ka={class:"form-group"},Xa=e("label",{for:"name"},"Username",-1),Ja={class:"invalid-feedback"},Za={class:"d-flex justify-content-between"},eo={class:"d-flex"},to={class:"form-group"},so=e("label",{for:"email"},"Email",-1),ao={class:"invalid-feedback"},oo={class:"d-flex"},lo={class:"form-group"},no=e("label",{for:"siteDropdown"},"Gender",-1),io=e("option",{value:"",disabled:""}," Select a gender ",-1),co=["value"],ro={class:"d-flex justify-content-between"},uo={class:"d-flex"},_o={class:"form-group"},mo=e("label",{for:"first_name"},"Fist Name",-1),ho={class:"invalid-feedback"},po={class:"d-flex"},vo={class:"form-group"},bo=e("label",{for:"last_name"},"Last Name",-1),fo={class:"invalid-feedback"},$o={class:"form-group"},go=e("label",{for:"position"},"Position",-1),yo={class:"invalid-feedback"},ko={class:"form-group"},xo=e("label",{for:"password"},"Password",-1),wo={class:"invalid-feedback"},Co=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),So={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mo={class:"modal-dialog",role:"document"},Uo={class:"modal-content"},Do=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vo={class:"modal-footer"},Ao=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),To={__name:"UserList",setup(o){const g=`${$e().name}`,u=_e(),l=me(),d=n({data:[]}),h=n(!1),k=n(),U=n(null);n([]),n(null);const m=n([{name:"Male",value:1},{name:"Female",value:2}]),E=(v=1)=>{V.get(`/api/users?page=${v}`,{params:{query:D.value}}).then(M=>{d.value=M.data,i.value=[],ve.value=!1})},b=we({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().required().min(8),gender:I().required()}),r=we({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().when((v,M)=>v?M.required().min(8):M),gender:I().required()}),_=n([]),f=()=>{V.get("/api/users/userlist").then(v=>{_.value=v.data}).catch(v=>{console.log(v)})},B=(v,M)=>{V.patch(`/api/users/${v.id}/change-sitehead`,{sitehead_user_id:M}).then(()=>{l.success("Sitehead changed successfully!")})},H=(v,{resetForm:M,setErrors:x})=>{V.post("/api/users",v).then(w=>{d.value.data.unshift(w.data),$("#userFormModal").modal("hide"),M(),l.success("User created successfully!")}).catch(w=>{w.response.data.errors&&(x(w.response.data.errors),l.warning(w.response.data.errors.name))})},W=()=>{h.value=!1,$("#userFormModal").modal("show")},X=v=>{h.value=!0,U.value.resetForm(),$("#userFormModal").modal("show"),k.value={id:v.id,name:v.name,email:v.email,sitehead_user_id:v.sitehead_user_id,first_name:v.first_name,last_name:v.last_name,gender:v.gender}},j=(v,{setErrors:M})=>{V.put("/api/users/"+k.value.id,v).then(x=>{const w=d.value.data.findIndex(he=>he.id===x.data.id);d.value.data[w]=x.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(x=>{M(x.response.data.errors),console.log(x)})},y=(v,M)=>{h.value?j(v,M):H(v,M)},D=n(null),i=n([]),T=v=>{const M=i.value.indexOf(v.id);M===-1?i.value.push(v.id):i.value.splice(M,1),console.log(i.value)},R=n(null),ae=v=>{R.value=v,$("#deleteUserModal").modal("show")},J=()=>{V.delete(`/api/users/${R.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),d.value.data=d.value.data.filter(v=>v.id!==R.value)})},oe=()=>{V.delete("/api/users",{data:{ids:i.value}}).then(v=>{d.value.data=d.value.data.filter(M=>!i.value.includes(M.id)),i.value=[],ve.value=!1,l.success(v.data.message)})},ve=n(!1),S=()=>{ve.value?i.value=d.value.data.map(v=>v.id):i.value=[],console.log(i.value)};return fe(D,Pe.exports.debounce(()=>{E()},300)),ue(()=>{E(),f(),document.title=g}),(v,M)=>{const x=xe("font");return t(),a(N,null,[e("div",Gs,[e("div",Qs,[e("div",Ws,[e("div",Ks,[e("button",{onClick:W,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Xs,L(" User ")]),i.value.length>0?(t(),a("div",Js,[e("button",{onClick:oe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zs,L(" Delete Selected ")]),e("span",ea,"Selected "+s(i.value.length)+" users",1)])):A("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=w=>D.value=w),class:"form-control",placeholder:"Search..."},null,512),[[ie,D.value]])])]),e("div",ta,[e("div",sa,[e("div",aa,[e("div",oa,[C(x,{size:"2"},{default:ee(()=>[e("table",la,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":M[1]||(M[1]=w=>ve.value=w),onChange:S},null,544),[[Me,ve.value]])]),na,da,ia,ca,ra,ua,_a])]),d.value.data.length>0?(t(),a("tbody",ma,[(t(!0),a(N,null,G(d.value.data,(w,he)=>(t(),re(zs,{key:w.id,user:w,index:he,onEditUser:X,onConfirmUserDeletion:ae,onToggleSelection:T,"select-all":ve.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ha,va))])]),_:1})])]),(t(!0),a(N,null,G(d.value.data,(w,he)=>(t(),a("div",{class:"dispatch-list",key:w.id,index:he},[e("div",fa,[e("div",$a,[e("div",ga,[ya,e("span",null,s(w.first_name+" "+w.last_name),1)]),e("div",ka,[xa,e("span",null,s(w.email),1)]),e("div",wa,[Ca,e("span",null,s(w.formatted_created_at),1)]),e("div",Sa,[Ma,e("span",null,[w.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:Y=>B(w,Y.target.value)},[(t(!0),a(N,null,G(_.value,Y=>(t(),a("option",{key:Y.id,value:Y.id,selected:Y.sitehead_user_id===Y.id},s(Y.first_name+" "+Y.last_name),9,Da))),128))],40,Ua)):A("",!0)])]),Va,e("div",Aa,[c(u).user.role==="ADMIN"?(t(),a("div",Ta,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Y=>X(w)},[Pa,L(" Edit ")],8,Ea),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Y=>ae(w.id)},Ia,8,Fa)])):A("",!0),c(u).user.role==="USER"?(t(),a("div",Ya,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Y=>X(w)},[qa,L(" Edit ")],8,Ba)])):A("",!0)])])])],8,ba))),128))])]),C(c(Ye),{data:d.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",Na,[e("div",Ra,[e("div",ja,[e("div",Ha,[e("h5",Oa,[h.value?(t(),a("span",za,"Edit User")):(t(),a("span",Ga,"Add New User"))]),Qa]),C(c(Ue),{ref_key:"form",ref:U,onSubmit:y,"validation-schema":h.value?c(r):c(b),"initial-values":k.value},{default:ee(({errors:w})=>[e("div",Wa,[e("div",Ka,[Xa,C(c(z),{name:"name",type:"text",class:P(["form-control",{"is-invalid":w.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ja,s(w.name),1)]),e("div",Za,[e("div",eo,[e("div",to,[so,C(c(z),{name:"email",type:"email",class:P(["form-control",{"is-invalid":w.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",ao,s(w.email),1)])]),e("div",oo,[e("div",lo,[no,C(c(z),{id:"gender",name:"gender",as:"select",class:P(["form-control",{"is-invalid":w.gender}])},{default:ee(()=>[io,(t(!0),a(N,null,G(m.value,he=>(t(),a("option",{key:he.name,value:he.name},s(he.name),9,co))),128))]),_:2},1032,["class"])])])]),e("div",ro,[e("div",uo,[e("div",_o,[mo,C(c(z),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":w.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",ho,s(w.first_name),1)])]),e("div",po,[e("div",vo,[bo,C(c(z),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":w.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",fo,s(w.last_name),1)])])]),e("div",$o,[go,C(c(z),{name:"position",type:"text",class:P(["form-control",{"is-invalid":w.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",yo,s(w.position),1)]),e("div",ko,[xo,C(c(z),{name:"password",type:"password",class:P(["form-control",{"is-invalid":w.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",wo,s(w.password),1)])]),Co]),_:1},8,["validation-schema","initial-values"])])])]),e("div",So,[e("div",Mo,[e("div",Uo,[Do,e("div",Vo,[Ao,e("button",{onClick:de(J,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};var ye=(o,g)=>{const u=o.__vccOpts||o;for(const[l,d]of g)u[l]=d;return u};const Ie=o=>(Ve("data-v-abf0fa1c"),o=o(),Ae(),o),Eo={class:"content"},Po={class:"container-fluid"},Fo={class:"row"},Lo={class:"col-md-6"},Io={class:"card"},Yo=Ce('<ul class="nav nav-tabs" id="settingsTabs" data-v-abf0fa1c><li class="nav-item" data-v-abf0fa1c><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-abf0fa1c>General Settings</a></li><li class="nav-item" data-v-abf0fa1c><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-abf0fa1c>Site Settings</a></li></ul>',1),Bo={class:"tab-content"},qo={class:"tab-pane fade show active",id:"general-tab"},No={class:"card-body"},Ro={class:"form-group"},jo=Ie(()=>e("label",{for:"appName"},"App Display Name",-1)),Ho={key:0,class:"text-danger text-sm"},Oo={class:"form-group"},zo=Ie(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Go=Ce('<option value="m/d/Y" data-v-abf0fa1c> MM/DD/YYYY </option><option value="d/m/Y" data-v-abf0fa1c> DD/MM/YYYY </option><option value="Y-m-d" data-v-abf0fa1c> YYYY-MM-DD </option><option value="F j, Y" data-v-abf0fa1c> Month DD, YYYY </option><option value="j F Y" data-v-abf0fa1c> DD Month YYYY </option>',5),Qo=[Go],Wo={key:0,class:"text-danger text-sm"},Ko={class:"form-group"},Xo=Ie(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Jo={key:0,class:"text-danger text-sm"},Zo=Ie(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),L("Save Changes ")])],-1)),el={class:"tab-pane fade",id:"site"},tl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},sl=Ie(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),al=Ie(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),ol={key:0,class:"list-group-item mt-2"},ll={class:"d-flex justify-content-between"},nl={class:"d-flex"},dl=["onClick"],il={class:"d-flex"},cl=["onClick"],rl={class:"m-2 list-unstyled"},ul={key:1},_l={key:0,class:"list-group-item mt-2"},ml={class:"d-flex justify-content-between"},hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=Ie(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=Ie(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const g=`${$e().name}`,u=n([]),l=me(),d=n(!0),h=n([]),k=n(!1),U=n(),m=n({id:"",site_name:"",is_active:""}),E=()=>{k.value=!0,axios.get("/api/site").then(y=>{k.value=!1,h.value=y.data}).catch(y=>{console.log(y)})},b=Fe(()=>Array.isArray(h.value)?h.value.filter(y=>y.is_active===0):[]),r=Fe(()=>b.value.length),_=()=>{d.value=!d.value},f=()=>{var y,D;k.value=!0,axios.post("/api/site",{id:(y=m.value)==null?void 0:y.id,site_name:(D=m.value)==null?void 0:D.site_name,is_active:!0}).then(i=>{E(),m.value={id:null,site_name:"",is_active:!0},l.success(i.data.message),k.value=!1}).catch(i=>{i.response&&i.response.status===422&&(X.value=i.response.data.errors)})},B=y=>{m.value.is_active=y.is_active===1?0:1,axios.post("/api/site",{id:y.id,site_name:y.site_name,is_active:m.value.is_active}).then(D=>{axios.get("/api/site").then(i=>{h.value=i.data}).catch(i=>{console.error("Error fetching tasks:",i),l.error("Error fetching tasks. Please try again.")})}).catch(D=>{console.error("Error adding new task:",D),l.error("Error adding new task. Please try again.")})},H=y=>{m.value.id=y.id,m.value.site_name=y.site_name},W=()=>{axios.get("/api/settings").then(y=>{u.value=y.data})},X=n(),j=()=>{X.value="",axios.post("/api/settings",u.value).then(y=>{l.success("Settings updated successfully!")}).catch(y=>{y.response&&y.response.status===422&&(X.value=y.response.data.errors)})};return ue(()=>{E(),W(),document.title=g}),(y,D)=>(t(),a("div",Eo,[e("div",Po,[e("div",Fo,[e("div",Lo,[e("div",Io,[Yo,e("div",Bo,[e("div",qo,[e("form",{onSubmit:D[3]||(D[3]=de(i=>j(),["prevent"]))},[e("div",No,[e("div",Ro,[jo,Q(e("input",{"onUpdate:modelValue":D[0]||(D[0]=i=>u.value.app_name=i),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ie,u.value.app_name]]),X.value&&X.value.app_name?(t(),a("span",Ho,s(X.value.app_name[0]),1)):A("",!0)]),e("div",Oo,[zo,Q(e("select",{"onUpdate:modelValue":D[1]||(D[1]=i=>u.value.date_format=i),class:"form-control"},Qo,512),[[Te,u.value.date_format]]),X.value&&X.value.date_format?(t(),a("span",Wo,s(X.value.date_format[0]),1)):A("",!0)]),e("div",Ko,[Xo,Q(e("input",{"onUpdate:modelValue":D[2]||(D[2]=i=>u.value.pagination_limit=i),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ie,u.value.pagination_limit]]),X.value&&X.value.pagination_limit?(t(),a("span",Jo,s(X.value.pagination_limit[0]),1)):A("",!0)])]),Zo],32)]),e("div",el,[h.value.length>0?(t(),a("div",tl,[k.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[sl,al]),_:1})):A("",!0),(t(!0),a(N,null,G(h.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===1?(t(),a("li",ol,[e("div",ll,[e("div",nl,[e("i",{onClick:T=>B(i),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,dl),e("span",{class:P({"font-italic text-red":i.is_active===0,"":i.is_active===1})},s(i.site_name),3)]),e("div",il,[e("i",{class:"fa fa-pen text-success",onClick:T=>H(i)},null,8,cl)])])])):A("",!0)]))),128)),e("li",rl,[r.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:_},[e("i",{class:P(["fa",d.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Deactive List "+s(r.value),1)])):A("",!0)]),d.value?(t(),a("div",ul,[(t(!0),a(N,null,G(h.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===0?(t(),a("li",_l,[e("div",ml,[e("div",hl,[e("i",{onClick:T=>B(i),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,pl),e("span",{class:P({"font-italic text-red":i.is_active===0,"":i.is_active===1})},[e("del",null,s(i.site_name),1)],2)])])])):A("",!0)]))),128))])):A("",!0)])):(t(),a("div",vl,fl)),C(c(Ue),{ref:"form",onSubmit:f,"initial-values":U.value},{default:ee(()=>[C(c(z),{name:"id",modelValue:m.value.id,"onUpdate:modelValue":D[4]||(D[4]=i=>m.value.id=i),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[C(c(z),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:m.value.site_name,"onUpdate:modelValue":D[5]||(D[5]=i=>m.value.site_name=i),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=ye(yl,[["__scopeId","data-v-abf0fa1c"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Ml={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Dl={class:"text-center"},Vl=["src"],Al={class:"profile-username text-center"},Tl={class:"text-muted text-center"},El={class:"col-md-9"},Pl={class:"card"},Fl=Ce('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Ll={class:"card-body"},Il={class:"tab-content"},Yl={class:"tab-pane active",id:"profile"},Bl={class:"form-group row"},ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Nl={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},jl={class:"form-group row"},Hl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const g=_e(),u=me(),l=`${$e().name}`,d=n([]),h=()=>{axios.put("/api/profile",{name:g.user.name,first_name:g.user.first_name,last_name:g.user.last_name,email:g.user.email,role:g.user.role}).then(r=>{u.success("Profile updated successfully!")}).catch(r=>{r.response&&r.response.status===422&&(d.value=r.response.data.errors)})},k=De({currentPassword:"",password:"",passwordConfirmation:""}),U=()=>{d.value="",axios.post("/api/change-user-password",k).then(r=>{u.success(r.data.message);for(const _ in k)k[_]=""}).catch(r=>{r.response&&r.response.status===422&&(d.value=r.response.data.errors)})},m=n(null),E=()=>{m.value.click()},b=r=>{const _=r.target.files[0];g.user.avatar=URL.createObjectURL(_);const f=new FormData;f.append("profile_picture",_),axios.post("/api/upload-profile-image",f).then(B=>{u.success("Image uploaded successfully!")})};return ue(()=>{document.title=l}),(r,_)=>(t(),a("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Ml,[e("div",Ul,[e("div",Dl,[e("input",{onChange:b,ref_key:"fileInput",ref:m,type:"file",class:"d-none"},null,544),e("img",{onClick:E,class:"profile-user-img img-circle",src:c(g).user.avatar,alt:"User profile picture"},null,8,Vl)]),e("h3",Al,s(c(g).user.name),1),e("p",Tl,s(c(g).user.role),1)])])]),e("div",El,[e("div",Pl,[Fl,e("div",Ll,[e("div",Il,[e("div",Yl,[e("form",{onSubmit:_[4]||(_[4]=de(f=>h(),["prevent"])),class:"form-horizontal"},[e("div",Bl,[ql,e("div",Nl,[Q(e("input",{"onUpdate:modelValue":_[0]||(_[0]=f=>c(g).user.name=f),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ie,c(g).user.name]]),d.value&&d.value.name?(t(),a("span",Rl,s(d.value.name[0]),1)):A("",!0)])]),e("div",jl,[Hl,e("div",Ol,[Q(e("input",{"onUpdate:modelValue":_[1]||(_[1]=f=>c(g).user.first_name=f),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ie,c(g).user.first_name]]),d.value&&d.value.first_name?(t(),a("span",zl,s(d.value.first_name[0]),1)):A("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[Q(e("input",{"onUpdate:modelValue":_[2]||(_[2]=f=>c(g).user.last_name=f),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ie,c(g).user.last_name]]),d.value&&d.value.last_name?(t(),a("span",Kl,s(d.value.last_name[0]),1)):A("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[Q(e("input",{"onUpdate:modelValue":_[3]||(_[3]=f=>c(g).user.email=f),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ie,c(g).user.email]]),d.value&&d.value.email?(t(),a("span",en,s(d.value.email[0]),1)):A("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:de(U,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[Q(e("input",{"onUpdate:modelValue":_[5]||(_[5]=f=>k.currentPassword=f),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ie,k.currentPassword]]),d.value&&d.value.current_password?(t(),a("span",nn,s(d.value.current_password[0]),1)):A("",!0)])]),e("div",dn,[cn,e("div",rn,[Q(e("input",{"onUpdate:modelValue":_[6]||(_[6]=f=>k.password=f),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ie,k.password]]),d.value&&d.value.password?(t(),a("span",un,s(d.value.password[0]),1)):A("",!0)])]),e("div",_n,[mn,e("div",hn,[Q(e("input",{"onUpdate:modelValue":_[7]||(_[7]=f=>k.passwordConfirmation=f),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ie,k.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),wn={class:"input-group mb-3"},Cn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Sn={class:"row"},Mn={class:"col-12 mb-2"},Un=["disabled"],Dn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Vn=e("span",{class:"sr-only"},"Loading...",-1),An=[Vn],Tn={key:1},En=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),Pn="Login",Fn={__name:"Login",setup(o){const g=me();_e();const u=Oe(),l=De({email:"",password:""}),d=n(!1),h=n(""),k=()=>{d.value=!0,h.value="",V.post("/login",l).then(()=>{u.push("/dashboard"),g.success("Login Success")}).catch(U=>{g.error(U.response.data.message)}).finally(()=>{d.value=!1})};return ue(()=>{document.title=Pn}),(U,m)=>(t(),a("div",bn,[e("div",fn,[$n,e("div",gn,[h.value?(t(),a("div",yn,s(h.value),1)):A("",!0),e("form",{onSubmit:de(k,["prevent"])},[e("div",kn,[xn,Q(e("input",{"onUpdate:modelValue":m[0]||(m[0]=E=>l.email=E),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ie,l.email]])]),e("div",wn,[Cn,Q(e("input",{"onUpdate:modelValue":m[1]||(m[1]=E=>l.password=E),type:"password",class:"form-control",placeholder:"Password"},null,512),[[ie,l.password]])]),e("div",Sn,[e("div",Mn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(t(),a("div",Dn,An)):(t(),a("span",Tn,"Sign In"))],8,Un)])])],32),En])])]))}},Ln=["checked"],In=e("i",{class:"fa fa-edit"},null,-1),Yn=[In],Bn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),qn=[Bn],Nn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){me();const u=o,l=g,d=()=>{l("toggleSelection",u.item)};return(h,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Ln)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:k[0]||(k[0]=de(U=>h.$emit("editUser",o.item),["prevent"]))},Yn),e("a",{href:"#",onClick:k[1]||(k[1]=de(U=>h.$emit("confirmUserDeletion",o.item.id),["prevent"]))},qn)])]))}},Rn={class:"content"},jn={class:"container-fluid"},Hn={class:"d-flex justify-content-between"},On={class:"d-flex"},zn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Gn={key:0},Qn=e("i",{class:"fa fa-trash mr-1"},null,-1),Wn={class:"ml-2"},Kn={class:"card"},Xn={class:"card-body"},Jn={class:"table table-bordered"},Zn=e("th",{style:{width:"10px"}},"#",-1),ed=e("th",null,"Name",-1),td=e("th",null,"Email",-1),sd=e("th",null,"Registered Date",-1),ad=e("th",null,"Options",-1),od={key:0},ld={key:1},nd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),dd=[nd],id={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cd={class:"modal-dialog",role:"document"},rd={class:"modal-content"},ud={class:"modal-header"},_d={class:"modal-title",id:"staticBackdropLabel"},md={key:0},hd={key:1},pd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),vd={class:"modal-body"},bd={class:"form-group"},fd=e("label",{for:"fist_name"},"First Name",-1),$d={class:"invalid-feedback"},gd={class:"form-group"},yd=e("label",{for:"last_name"},"Last Name",-1),kd={class:"invalid-feedback"},xd={class:"form-group"},wd=e("label",{for:"email"},"Email",-1),Cd={class:"invalid-feedback"},Sd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Md={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ud={class:"modal-dialog",role:"document"},Dd={class:"modal-content"},Vd=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ad={class:"modal-footer"},Td=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Ed={__name:"ClientList",setup(o){const g=me(),u=n({data:[]}),l=n(!1),d=n(),h=n(null),k=(R=1)=>{V.get(`/api/clients?page=${R}`,{params:{query:B.value}}).then(ae=>{u.value=ae.data,H.value=[],i.value=!1})},U=we({first_name:I().required(),last_name:I().required(),email:I().email().required()}),m=we({first_name:I().required(),last_name:I().required(),email:I().email().required()}),E=(R,{resetForm:ae,setErrors:J})=>{V.post("/api/clients",R).then(oe=>{u.value.data.unshift(oe.data),$("#clientFormModal").modal("hide"),ae(),g.success("User created successfully!")}).catch(oe=>{oe.response.data.errors&&J(oe.response.data.errors)})},b=()=>{l.value=!1,$("#clientFormModal").modal("show")},r=R=>{l.value=!0,h.value.resetForm(),$("#clientFormModal").modal("show"),d.value={id:R.id,first_name:R.first_name,last_name:R.last_name,email:R.email}},_=(R,{setErrors:ae})=>{V.put("/api/clients/"+d.value.id,R).then(J=>{const oe=u.value.data.findIndex(ve=>ve.id===J.data.id);u.value.data[oe]=J.data,$("#clientFormModal").modal("hide"),g.success("Client updated successfully!")}).catch(J=>{ae(J.response.data.errors),console.log(J)})},f=(R,ae)=>{l.value?_(R,ae):E(R,ae)},B=n(null),H=n([]),W=R=>{const ae=H.value.indexOf(R.id);ae===-1?H.value.push(R.id):H.value.splice(ae,1),console.log(H.value)},X=n(null),j=R=>{X.value=R,$("#deleteClientModal").modal("show")},y=()=>{V.delete(`/api/clients/${X.value}`).then(()=>{$("#deleteClientModal").modal("hide"),g.success("Client deleted successfully!"),u.value.data=u.value.data.filter(R=>R.id!==X.value)})},D=()=>{V.delete("/api/clients",{data:{ids:H.value}}).then(R=>{u.value.data=u.value.data.filter(ae=>!H.value.includes(ae.id)),H.value=[],i.value=!1,g.success(R.data.message)})},i=n(!1),T=()=>{i.value?H.value=u.value.data.map(R=>R.id):H.value=[],console.log(H.value)};return fe(B,Pe.exports.debounce(()=>{k()},300)),ue(()=>{k()}),(R,ae)=>(t(),a(N,null,[e("div",Rn,[e("div",jn,[e("div",Hn,[e("div",On,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[zn,L(" Add New Client ")]),H.value.length>0?(t(),a("div",Gn,[e("button",{onClick:D,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Qn,L(" Delete Selected ")]),e("span",Wn,"Selected "+s(H.value.length)+" clients",1)])):A("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":ae[0]||(ae[0]=J=>B.value=J),class:"form-control",placeholder:"Search..."},null,512),[[ie,B.value]])])]),e("div",Kn,[e("div",Xn,[e("table",Jn,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":ae[1]||(ae[1]=J=>i.value=J),onChange:T},null,544),[[Me,i.value]])]),Zn,ed,td,sd,ad])]),u.value.data.length>0?(t(),a("tbody",od,[(t(!0),a(N,null,G(u.value.data,(J,oe)=>(t(),re(Nn,{key:J.id,item:J,index:oe,onEditUser:r,onConfirmUserDeletion:j,onToggleSelection:W,"select-all":i.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",ld,dd))])])]),C(c(Ye),{data:u.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",id,[e("div",cd,[e("div",rd,[e("div",ud,[e("h5",_d,[l.value?(t(),a("span",md,"Edit Client")):(t(),a("span",hd,"Add New Client"))]),pd]),C(c(Ue),{ref_key:"form",ref:h,onSubmit:f,"validation-schema":l.value?c(m):c(U),"initial-values":d.value},{default:ee(({errors:J})=>[e("div",vd,[e("div",bd,[fd,C(c(z),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":J.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",$d,s(J.first_name),1)]),e("div",gd,[yd,C(c(z),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":J.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",kd,s(J.last_name),1)]),e("div",xd,[wd,C(c(z),{name:"email",type:"email",class:P(["form-control",{"is-invalid":J.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Cd,s(J.email),1)])]),Sd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Md,[e("div",Ud,[e("div",Dd,[Vd,e("div",Ad,[Td,e("button",{onClick:de(y,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const ze=o=>(Ve("data-v-36595330"),o=o(),Ae(),o),Pd={style:{"text-align":"center"}},Fd={key:0},Ld=ze(()=>e("i",{class:"fa fa-edit"},null,-1)),Id=[Ld],Yd=ze(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Bd=[Yd],qd={key:1,style:{"text-align":"center"}},Nd={key:0},Rd=ze(()=>e("i",{class:"fa fa-edit"},null,-1)),jd=[Rd],Hd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:g}){me();const u=_e();return(l,d)=>{const h=xe("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",Pd,[o.item.statusid==2?(t(),re(h,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:ee(()=>[e("span",{class:P(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):A("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:P(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):A("",!0)]),e("td",null,s(o.item.created_at),1),c(u).user.role==="ADMIN"?(t(),a("td",Fd,[e("a",{href:"#",onClick:d[0]||(d[0]=de(k=>l.$emit("editUser",o.item),["prevent"]))},Id),e("a",{href:"#",onClick:d[1]||(d[1]=de(k=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Bd)])):A("",!0),c(u).user.role==="USER"?(t(),a("td",qd,[o.item.statusid!=2?(t(),a("div",Nd,[o.item.created_by==c(u).user.id?(t(),a("a",{key:0,href:"#",onClick:d[2]||(d[2]=de(k=>l.$emit("editUser",o.item),["prevent"]))},jd)):A("",!0)])):A("",!0)])):A("",!0)])}}};var Od=ye(Hd,[["__scopeId","data-v-36595330"]]);const zd={class:"content"},Gd={class:"container-fluid"},Qd={class:"d-flex justify-content-between"},Wd={class:"d-flex"},Kd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Xd={key:0},Jd=e("i",{class:"fa fa-trash mr-1"},null,-1),Zd={class:"ml-2"},ei={class:"card"},ti={class:"card-body"},si=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ai=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),oi=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),li=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ni={class:"dispatch-table"},di={class:"table-responsive"},ii={class:"table table-bordered table-sm"},ci=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ri={key:0},ui={key:1},_i=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),mi=[_i],hi=["item","index"],pi={class:"card"},vi={class:"card-body"},bi={class:"list-field"},fi=e("span",{class:"mb-1 dis"},"Tech #:",-1),$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"User:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Branch:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Department:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Created by:",-1),Mi={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Status:",-1),Di={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Ti={class:"row"},Ei={key:0,class:"col"},Pi=["onClick"],Fi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Li=["onClick"],Ii=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Yi=[Ii],Bi={key:0,class:"btn btnsm btn-success btn-block"},qi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni={key:1,class:"col"},Ri={key:0},ji=["onClick"],Hi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zi={class:"modal-dialog modal-lg",role:"document"},Gi={class:"modal-content"},Qi={class:"modal-header"},Wi={class:"modal-title",id:"staticBackdropLabel"},Ki={key:0},Xi={key:1},Ji=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zi={class:"modal-body"},ec={class:"col-md-12"},tc={class:"row"},sc={class:"col-6"},ac={class:"form-group"},oc=e("label",{for:"branch"},"Branch",-1),lc=e("option",{value:"",disabled:""}," Select Branch ",-1),nc=["value"],dc={class:"invalid-feedback"},ic={class:"form-group"},cc=e("label",{for:"department"},"Department",-1),rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"warehouse"},"warehouse",-1),mc={class:"invalid-feedback"},hc={class:"form-group"},pc=e("label",{for:"user"},"User",-1),vc={class:"invalid-feedback"},bc={class:"col-6"},fc={class:"form-group"},$c=e("label",{for:"brand"},"Brand",-1),gc={class:"form-group"},yc=e("label",{for:"model"},"Model",-1),kc={class:"invalid-feedback"},xc={class:"form-group"},wc=e("label",{for:"assettag"},"Asset tag",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Mc=e("label",{for:"serialnum"},"Serial number",-1),Uc={class:"invalid-feedback"},Dc={class:"col-12"},Vc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Tc={class:"invalid-feedback"},Ec={class:"form-group"},Pc=e("label",{for:"assconducted"},"Assessment conducted",-1),Fc={class:"invalid-feedback"},Lc={class:"form-group"},Ic=e("label",{for:"recommendation"},"Recommendation",-1),Yc={class:"invalid-feedback"},Bc={class:"modal-footer"},qc={key:0},Nc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),jc={class:"dropdown-menu",role:"menu"},Hc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Oc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),zc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gc={class:"modal-dialog",role:"document"},Qc={class:"modal-content"},Wc=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Kc={class:"modal-footer"},Xc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Jc={__name:"TechList",setup(o){const g=n(),u=n(),l=me(),d=n({data:[]});n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const h=`${$e().name}`,k=()=>{V.get("/api/getsite").then(M=>{u.value=M.data.sites}).catch(M=>{console.log(M)})},U=n(!1),m=n(!1),E=n(),b=De({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),r=_e();n(null);const _=(M=1)=>{U.value=!0,V.get(`/api/tech-recommendations?page=${M}`,{params:{query:i.value}}).then(x=>{U.value=!1,d.value=x.data,T.value=[],v.value=!1})},f=we({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),B=we({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),H=(M,{resetForm:x,setErrors:w})=>{V.post("/api/tech-recommendations",M).then(he=>{d.value.data.unshift(he.data),$("#FormModal").modal("hide"),x(),l.success("Data created successfully!")}).catch(he=>{he.response.data.errors&&w(he.response.data.errors)})},W=()=>{m.value=!1,$("#FormModal").modal("show")},X=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},j=M=>{g.value=M.id,m.value=!0,X(),b.id=M.id,b.branch=M.branch,b.department=M.department,b.warehouse=M.warehouse,b.user=M.user,b.problem=M.problem,b.brand=M.brand,b.model=M.model,b.assettag=M.assettag,b.serialnum=M.serialnum,b.assconducted=M.assconducted,b.recommendation=M.recommendation,b.ceated_by=M.ceated_by,b.recommnum=M.recommnum,$("#FormModal").modal("show")},y=(M,{setErrors:x})=>{V.put("/api/tech-recommendations/"+M.id,M).then(w=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(w=>{x(w.response.data.errors),console.log(w)})},D=(M,x)=>{m.value?y(b,x):H(M,x)},i=n(null),T=n([]),R=M=>{const x=T.value.indexOf(M.id);x===-1?T.value.push(M.id):T.value.splice(x,1),console.log(T.value)},ae=n(null),J=M=>{ae.value=M,$("#deleteClientModal").modal("show")},oe=()=>{V.delete(`/api/tech-recommendations/${ae.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),d.value.data=d.value.data.filter(M=>M.id!==ae.value)})},ve=()=>{V.delete("/api/tech-recommendations",{data:{ids:T.value}}).then(M=>{d.value.data=d.value.data.filter(x=>!T.value.includes(x.id)),T.value=[],v.value=!1,l.success(M.data.message)})},S=M=>{V.post("/api/tech-getaction",{id:g.value,status:M}).then(x=>{$("#FormModal").modal("hide"),_()}).catch(x=>{console.log(x.message)})},v=n(!1);return fe(i,Pe.exports.debounce(()=>{_()},300)),ue(()=>{_(),k(),document.title=h}),(M,x)=>{const w=xe("font"),he=xe("router-link");return t(),a(N,null,[e("div",zd,[e("div",Gd,[e("div",Qd,[e("div",Wd,[e("button",{onClick:W,type:"button",class:"mb-2 btn btn-primary"},[Kd,L(" TechRecom ")]),T.value.length>0?(t(),a("div",Xd,[e("button",{onClick:ve,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Jd,L(" Delete Selected ")]),e("span",Zd,"Selected "+s(T.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=Y=>i.value=Y),class:"form-control",placeholder:"Search..."},null,512),[[ie,i.value]])])]),e("div",ei,[e("div",ti,[U.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[si,ai,oi,li]),_:1})):A("",!0),e("div",ni,[e("div",di,[C(w,{size:"2"},{default:ee(()=>[e("table",ii,[ci,d.value.data.length>0?(t(),a("tbody",ri,[(t(!0),a(N,null,G(d.value.data,(Y,K)=>(t(),re(Od,{key:Y.id,item:Y,index:K,onEditUser:j,onShowItem:M.viewItem,onConfirmUserDeletion:J,onToggleSelection:R,"select-all":v.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ui,mi))])]),_:1})])]),(t(!0),a(N,null,G(d.value.data,(Y,K)=>(t(),a("div",{class:"dispatch-list",key:Y.id,item:Y,index:K},[e("div",pi,[e("div",vi,[e("div",bi,[fi,e("span",null,[e("b",null,s(Y.recommnum),1)])]),e("div",$i,[gi,e("span",null,s(Y.user),1)]),e("div",yi,[ki,e("span",null,s(Y.branch),1)]),e("div",xi,[wi,e("span",null,s(Y.department),1)]),e("div",Ci,[Si,e("span",null,s(Y.created_user),1)]),e("div",Mi,[Ui,Y.statusid==2?(t(),re(he,{key:0,to:`/admin/tech-approved/${Y.recommnum}/view`,target:"_blank"},{default:ee(()=>[e("span",{class:P(["badge",`badge-${Y.status.color}`])},s(Y.status.name),3)]),_:2},1032,["to"])):A("",!0),Y.statusid!=2?(t(),a("span",{key:1,class:P(["badge",`badge-${Y.status.color}`])},s(Y.status.name),3)):A("",!0)]),e("div",Di,[Vi,e("span",null,s(Y.created_at),1)]),Ai,e("div",Ti,[c(r).user.role==="ADMIN"?(t(),a("div",Ei,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:O=>j(Y)},[Fi,L(" Edit ")],8,Pi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:O=>J(Y.id)},Yi,8,Li),Y.statusid==2?(t(),a("button",Bi,[qi,L(" Download ")])):A("",!0)])):A("",!0),c(r).user.role==="USER"?(t(),a("div",Ni,[Y.statusid!=2?(t(),a("div",Ri,[Y.created_by==c(r).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:O=>j(Y)},[Hi,L(" Edit ")],8,ji)):A("",!0)])):A("",!0)])):A("",!0)])])])],8,hi))),128))])]),C(c(Ye),{data:d.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",Oi,[e("div",zi,[e("div",Gi,[e("div",Qi,[e("h5",Wi,[m.value?(t(),a("span",Ki,"Edit Tech Recom.")):(t(),a("span",Xi,"Add New Tech Recom."))]),Ji]),C(c(Ue),{onSubmit:D,"validation-schema":m.value?c(B):c(f),"initial-values":E.value},{default:ee(({errors:Y})=>[e("div",Zi,[e("div",ec,[e("div",tc,[e("div",sc,[C(c(z),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(r).user.id,"onUpdate:modelValue":x[1]||(x[1]=K=>c(r).user.id=K)},null,8,["modelValue"]),C(c(z),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":x[2]||(x[2]=K=>b.recommnum=K)},null,8,["modelValue"]),e("div",ac,[oc,C(c(z),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":Y.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":x[3]||(x[3]=K=>b.branch=K)},{default:ee(()=>[lc,(t(!0),a(N,null,G(u.value,K=>(t(),a("option",{key:K.site_name,value:K.site_name},s(K.site_name),9,nc))),128))]),_:2},1032,["class","modelValue"]),e("span",dc,s(Y.branch),1)]),e("div",ic,[cc,C(c(z),{name:"department",type:"text",class:P(["form-control",{"is-invalid":Y.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":x[4]||(x[4]=K=>b.department=K)},null,8,["class","modelValue"]),e("span",rc,s(Y.department),1)]),e("div",uc,[_c,C(c(z),{name:"warehouse",type:"text",class:P(["form-control",{"is-invalid":Y.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":x[5]||(x[5]=K=>b.warehouse=K)},null,8,["class","modelValue"]),e("span",mc,s(Y.warehouse),1)]),e("div",hc,[pc,C(c(z),{name:"user",type:"text",class:P(["form-control",{"is-invalid":Y.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":x[6]||(x[6]=K=>b.user=K)},null,8,["class","modelValue"]),e("span",vc,s(Y.user),1)])]),e("div",bc,[e("div",fc,[$c,C(c(z),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":x[7]||(x[7]=K=>b.brand=K)},null,8,["modelValue"])]),e("div",gc,[yc,C(c(z),{name:"model",type:"text",class:P(["form-control",{"is-invalid":Y.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":x[8]||(x[8]=K=>b.model=K),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",kc,s(Y.model),1)]),e("div",xc,[wc,C(c(z),{name:"assettag",type:"text",class:P(["form-control",{"is-invalid":Y.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":x[9]||(x[9]=K=>b.assettag=K),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Cc,s(Y.assettag),1)]),e("div",Sc,[Mc,Q(e("input",{name:"serialnum",type:"text",class:P(["form-control",{"is-invalid":Y.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":x[10]||(x[10]=K=>b.serialnum=K)},null,2),[[ie,b.serialnum]]),e("span",Uc,s(Y.serialnum),1)])]),e("div",Dc,[e("div",Vc,[Ac,C(c(z),{name:"problem",as:"textarea",class:P(["form-control",{"is-invalid":Y.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":x[11]||(x[11]=K=>b.problem=K)},null,8,["class","modelValue"]),e("span",Tc,s(Y.problem),1)]),e("div",Ec,[Pc,C(c(z),{name:"assconducted",as:"textarea",class:P(["form-control",{"is-invalid":Y.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":x[12]||(x[12]=K=>b.assconducted=K)},null,8,["class","modelValue"]),e("span",Fc,s(Y.assconducted),1)]),e("div",Lc,[Ic,C(c(z),{name:"recommendation",as:"textarea",class:P(["form-control",{"is-invalid":Y.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":x[13]||(x[13]=K=>b.recommendation=K)},null,8,["class","modelValue"]),e("span",Yc,s(Y.recommendation),1)])])])])]),e("div",Bc,[m.value?(t(),a("div",qc,[c(r).user.role==="ADMIN"?(t(),a("div",Nc,[e("button",{type:"button",onClick:x[14]||(x[14]=K=>S(2)),class:"btn btn-info"}," Approved "),Rc,e("div",jc,[e("span",{onClick:x[15]||(x[15]=K=>S(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:x[16]||(x[16]=K=>S(3)),class:"dropdown-item"},"Disapproved")])])):A("",!0)])):A("",!0),Hc,Oc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",zc,[e("div",Gc,[e("div",Qc,[Wc,e("div",Kc,[Xc,e("button",{onClick:de(oe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const qe=Ke("SettingStore",()=>{const o=n({app_name:""}),g=gt("SettingStore:theme",n("light"));return{setting:o,getSetting:async()=>{await V.get("/api/settings").then(d=>{o.value=d.data})},theme:g,changeTheme:()=>{g.value=g.value==="light"?"dark":"light"}}});const se=o=>(Ve("data-v-56abd651"),o=o(),Ae(),o),Zc={class:"content"},er={class:"container-fluid"},tr={class:"card"},sr={class:"card-header"},ar={class:"card-title"},or={class:"card-body"},lr={class:"col-md-12"},nr={class:"d-flex justify-content-between"},dr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ir={class:"d-flex"},cr={class:"col-12",id:"accordion"},rr=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ur=se(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),_r=se(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),mr=se(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),hr={key:1},pr={key:0},vr={class:"card card-secondary"},br={class:"card-body d-flex align-items-center justify-content-center"},fr={class:"image-container"},$r=["src"],gr=se(()=>e("div",{class:"overlay"},null,-1)),yr={key:1},kr={class:"card-header bg-white"},xr={class:"card-title"},wr=["href"],Cr=["src"],Sr={class:"card-tools"},Mr=["onClick"],Ur=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Dr=[Ur],Vr=["disabled","onClick"],Ar=["onClick"],Tr=se(()=>e("p",{class:"float-right"},null,-1)),Er=["id"],Pr={class:"card-body"},Fr={class:"col-md-12"},Lr={class:"dispatch-table"},Ir={class:"row"},Yr={class:"col-4"},Br=se(()=>e("b",null,"Site:",-1)),qr=se(()=>e("b",null,"Planned Date:",-1)),Nr=se(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},jr=se(()=>e("b",null,"Start Date:",-1)),Hr=se(()=>e("b",null,"Accomplished Date:",-1)),Or={class:"closestatus"},zr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Gr={class:"col-4"},Qr={class:"ongoing"},Wr=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),Kr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Xr=se(()=>e("b",null,"Remarks:",-1)),Jr={style:{margin:"0.5%"}},Zr=["disabled","onClick"],eu=["onClick","disabled"],tu={class:"dispatch-list"},su={class:"list-group list-group-flush"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u=se(()=>e("hr",null,null,-1)),gu={class:"row"},yu={class:"col"},ku=["onClick"],xu=se(()=>e("i",{class:"fas fa-pen"},null,-1)),wu=["onClick"],Cu=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),L(" Drop ")],-1)),Su=[Cu],Mu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uu={class:"modal-dialog modal-dialog-centered",role:"document"},Du={class:"modal-content"},Vu={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Tu={key:0},Eu={key:1},Pu={key:2},Fu=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Lu={class:"modal-body"},Iu={class:"col-md-12"},Yu={class:"row"},Bu={class:"col-12"},qu={class:"form-group"},Nu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),ju=["value"],Hu={key:0,class:"d-flex justify-content-between"},Ou={class:"d-flex"},zu={class:"form-group"},Gu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),Qu={class:"form-group"},Wu=se(()=>e("label",{for:"end-time"},"Hour",-1)),Ku=["value"],Xu=se(()=>e("div",{class:"d-fex"},null,-1)),Ju={key:1,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=se(()=>e("label",{for:"end-time"},"End Date",-1)),s_={class:"form-group"},a_=se(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=se(()=>e("div",{class:"d-fex"},null,-1)),n_={class:"form-group"},d_=se(()=>e("label",{for:"site"},"Task",-1)),i_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),c_=["value"],r_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),u_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},__={class:"modal-dialog modal-sm",role:"document"},m_={class:"modal-content"},h_={class:"modal-header"},p_={class:"modal-title",id:"staticBackdropLabel"},v_=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),b_={class:"modal-body"},f_=Ce('<ul class="nav nav-tabs" id="myTabs" data-v-56abd651><li class="nav-item" data-v-56abd651><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-56abd651> Todo List</a></li><li class="nav-item" data-v-56abd651><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-56abd651> Todo</a></li></ul>',1),$_={class:"tab-content"},g_={class:"tab-pane fade show active",id:"todolist"},y_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},k_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),w_={key:0,class:"list-group-item mt-2"},C_={class:"d-flex justify-content-between"},S_={class:"d-flex"},M_=["onClick"],U_={class:"d-flex"},D_=["onClick"],V_={class:"m-2 list-unstyled"},A_={key:1},T_={key:0,class:"list-group-item mt-2"},E_={class:"d-flex justify-content-between"},P_={class:"d-flex"},F_=["onClick"],L_={class:"d-flex"},I_=["onClick"],Y_={key:1,class:"mt-2 text-center"},B_=se(()=>e("span",null,"No Todo",-1)),q_=[B_],N_={class:"tab-pane fade",id:"formTask"},R_={class:"col-md-12"},j_={class:"row"},H_={class:"col-12"},O_={class:"m-2",style:{display:"flex","align-items":"center"}},z_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),L("\xA0Save ")])],-1)),G_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Q_={class:"modal-dialog",role:"document"},W_={class:"modal-content"},K_=Ce('<div class="modal-header" data-v-56abd651><h5 class="modal-title" id="staticBackdropLabel" data-v-56abd651><span data-v-56abd651>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-56abd651><span aria-hidden="true" data-v-56abd651>\xD7</span></button></div><div class="modal-body" data-v-56abd651><h5 data-v-56abd651>Are you sure you want to delete this record ?</h5></div>',2),X_={class:"modal-footer"},J_=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Z_={__name:"MyPrio",setup(o){const g=`${$e().name}`,u=n(!1),l=n(!1),d=Xe("$swal");qe();const h=me(),k=n({data:[]}),U=n([]);n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const m=n();n();const E=n(!0),b=n(!1);n(!1),n();const r=n(),_=n(),f=n(),B=_e();n(null),n(!1);const H=n([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),W=n(),X=n("1:00 AM"),j=n(),y=n("1:00 AM"),D=n(Array.from({length:24},(F,q)=>{const p=q%12+1,ce=q<12?"AM":"PM";return`${p}:00 ${ce}`})),i=n(Array.from({length:24},(F,q)=>{const p=q%12+1,ce=q<12?"AM":"PM";return`${p}:00 ${ce}`})),T=De({dailytask_id:"",site:"",user_id:B.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});fe([W,X],()=>{const F=new Date(W.value),q=F.getFullYear(),p=String(F.getMonth()+1).padStart(2,"0"),ce=String(F.getDate()).padStart(2,"0");T.plandate=`${q}-${p}-${ce} ${X.value}`}),fe([W,y],()=>{const F=new Date(W.value);F.getFullYear(),String(F.getMonth()+1).padStart(2,"0"),String(F.getDate()).padStart(2,"0")}),fe([j,y],()=>{const F=new Date(j.value),q=F.getFullYear(),p=String(F.getMonth()+1).padStart(2,"0"),ce=String(F.getDate()).padStart(2,"0");T.enddates=`${q}-${p}-${ce} ${y.value}`});const R=n({id:"",dailytask_id:"",task_name:"",iscompleted:0}),ae=()=>{V.get("/web/getsite").then(F=>{m.value=F.data.sites}).catch(F=>{console.log(F)})},J=()=>{u.value=!0,V.get("/api/dailytask",{params:{query:Be.value}}).then(F=>{u.value=!1,k.value=F.data,ot.value=[]})},oe=async F=>{(await d({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(u.value=!0,V.put(`/api/dailytask/drop/${F}`).then(p=>{h.success("Data drop successfully!"),u.value=!1,J()}))},ve=()=>{$("#FormModalTask").modal("show")},S=F=>{ve(),R.value.dailytask_id=F.dailytask_id,_.value=F.taskdate,f.value=F.startdate,l.value=!0,V.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(q=>{U.value=q.data,ve(),l.value=!1}).catch(q=>{console.error("Error fetching tasks:",q)})},v=()=>{l.value=!0,V.post("/api/dailytask/addnewTask",{dailytask_id:R.value.dailytask_id,task_name:R.value.task_name,iscompleted:R.value.iscompleted}).then(F=>{h.success("Data created successfully!"),V.get(`/api/dailytask/${R.value.dailytask_id}/tasks`).then(q=>{U.value=q.data,l.value=!1}).catch(q=>{console.error("Error fetching tasks:",q),h.error("Error fetching tasks. Please try again.")}),R.value.task_name=""}).catch(F=>{console.error("Error adding new task:",F),h.error("Error adding new task. Please try again.")})},M=F=>{R.value.iscompleted=F.iscompleted===1?0:1,V.post("/api/dailytask/addnewTask",{id:F.id,dailytask_id:F.dailytask_id,task_name:F.task_name,iscompleted:R.value.iscompleted}).then(q=>{V.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(p=>{U.value=p.data}).catch(p=>{console.error("Error fetching tasks:",p),h.error("Error fetching tasks. Please try again.")})}).catch(q=>{console.error("Error adding new task:",q),h.error("Error adding new task. Please try again.")})},x=Fe(()=>Array.isArray(U.value)?U.value.filter(F=>F.iscompleted===1):[]),w=Fe(()=>x.value.length),he=()=>{E.value=!E.value},Y=F=>{V.delete(`/api/dailytask/deleteTask/${F.id}`).then(q=>{V.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(p=>{U.value=p.data,h.success("Todo successfull Deleted")}).catch(p=>{console.error("Error fetching tasks:",p),h.error("Error fetching tasks. Please try again.")})}).catch(q=>{console.error("Error adding new task:",q),h.error("Error adding new task. Please try again.")})};we({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()}),we({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()});const K=(F,q)=>{V.post("/api/dailytask",T).then(p=>{console.log(p.data),J(),$("#FormModal").modal("hide"),h.success("data created successfully!")}).catch(p=>{q.setErrors(p.response.data.errors)})},O=(F,q)=>{V.put("/api/dailytask/"+T.dailytask_id,T).then(p=>{console.log(p.data),J(),$("#FormModal").modal("hide"),h.success("data update successfully!")}).catch(p=>{q.setErrors(p.response.data.errors)})},te=F=>{F&&F.dailytask_id!==null&&F.dailytask_id!==void 0?(b.value=!0,r.value=" on "+be(F.taskdate).format("MMMM D, YYYY"),T.site=F.site,T.dailytask_id=F.dailytask_id,T.plandate=F.plandate,T.planenddate=F.planenddate):b.value=!1,ae(),$("#FormModal").modal("show")},ke=(F,q)=>{b.value?O(F,q):K(F,q)},Z=async F=>{try{const q=await V.get(`/api/dailytask/${F.dailytask_id}/tasks`);if(U.value=q.data,!U.value||U.value.length===0){d.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await d.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ce=await V.put("/api/dailytask/onhandler/"+F.dailytask_id,F);h.success(ce.data.message),J()}}catch(q){console.error("Error fetching tasks:",q),h.error("An error occurred while updating the task.")}},Se=async F=>{if((await d({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{be(F.taskdate).format("YYYY-MM-DD")===be().format("YYYY-MM-DD")?(F.remarks="HIT",F.status="On Schedule"):(F.remarks="MISS",F.status="Behind Schedule");const ce=await V.put("/api/dailytask/onhandler/"+F.dailytask_id,F);h.success(ce.data.message),J()}catch(p){console.error(p),h.error("An error occurred while updating the task.")}},Be=n(null),ot=n([]),Ge=n(null),lt=()=>{V.delete(`/api/tech-recommendations/${Ge.value}`).then(()=>{$("#deleteClientModal").modal("hide"),h.success("Client deleted successfully!"),k.value.data=k.value.data.filter(F=>F.id!==Ge.value)})};return fe(Be,Pe.exports.debounce(()=>{J()},300)),ue(()=>{Je(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),J(),document.title=g}),(F,q)=>(t(),a(N,null,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,[e("div",ar,s(c(B).user.first_name+" "+c(B).user.last_name)+" - My Prio ",1)]),e("div",or,[e("div",lr,[e("div",nr,[e("div",{class:"d-flex"},[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary"},[dr,L(" Task ")])]),e("div",ir,[Q(e("input",{type:"text","onUpdate:modelValue":q[0]||(q[0]=p=>Be.value=p),class:"form-control",placeholder:"Search..."},null,512),[[ie,Be.value]])])]),e("div",cr,[u.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[rr,ur,_r,mr]),_:1})):(t(),a("div",hr,[k.value.length===0?(t(),a("div",pr,[e("div",vr,[e("div",br,[e("div",fr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,$r),gr])])])])):(t(),a("div",yr,[(t(!0),a(N,null,G(k.value,p=>(t(),a("div",{class:"card card-primary",key:p.id},[e("div",kr,[e("h4",xr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+p.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Cr),L(" \xA0"),e("b",null,s(c(be)(p.taskdate).format("MMMM D, YYYY")),1)],8,wr)]),e("div",Sr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ce=>S(p)},Dr,8,Mr),e("button",{disabled:p.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ce=>Se(p)}," End ",8,Vr),p.startdate?A("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ce=>Z(p)}," Start ",8,Ar)),Tr])]),e("div",{id:"collapse"+p.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Pr,[e("div",Fr,[e("div",Lr,[e("div",Ir,[e("div",Yr,[e("h5",null,[Br,L(" "+s(p.site_name),1)]),e("h5",null,[qr,L(" "+s(p.plandate),1)]),e("h5",null,[Nr,L(" "+s(p.planenddate),1)])]),e("div",Rr,[e("h5",null,[jr,L(" "+s(p.startdate!==null?c(be)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Hr,L(" "+s(p.enddate!==null?c(be)(p.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Or,[zr,L(" "+s(p.tasktype?p.tasktype.join(", "):""),1)])]),e("div",Gr,[e("h5",Qr,[Wr,L(" "+s(p.status),1)]),e("h5",null,[Kr,L(" "+s(p.attachment),1)]),e("h5",null,[Xr,L(" "+s(p.remarks),1)])])]),e("div",Jr,[e("button",{disabled:p.startdate!==null,onClick:ce=>oe(p.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Zr),e("button",{onClick:ce=>te(p),type:"button",disabled:p.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,eu)])]),e("div",tu,[e("ul",su,[e("li",au,[L(" Site: "),e("span",ou,s(p.site_name),1)]),e("li",lu,[L(" Planned Date: "),e("span",nu,s(p.plandate),1)]),e("li",du,[L(" Planned End Date: "),e("span",iu,s(p.planenddate),1)]),e("li",cu,[L(" Start Date: "),e("span",ru,s(p.startdate!==null?c(be)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",uu,[L(" Type: "),e("span",_u,s(p.tasktype?p.tasktype.join(", "):""),1)]),e("li",mu,[L(" Status: "),e("span",hu,s(p.status),1)]),e("li",pu,[L(" Attachment: "),e("span",vu,s(p.attachment),1)]),e("li",bu,[L(" Remarks: "),e("span",fu,s(p.remarks),1)])]),$u,e("div",gu,[e("div",yu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ce=>te(p)},[xu,L(" Edit ")],8,ku),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ce=>oe(p.dailytask_id)},Su,8,wu)])])])])])],8,Er)]))),128))]))]))])])])])])]),e("div",Mu,[e("div",Uu,[e("div",Du,[e("div",Vu,[e("h5",Au,[b.value?(t(),a("span",Tu,"Edit My Task")):(t(),a("span",Eu,"Add My Task")),b.value?(t(),a("span",Pu,s(r.value),1)):A("",!0)]),Fu]),C(c(Ue),{onSubmit:ke},{default:ee(()=>[e("div",Lu,[e("div",Iu,[e("div",Yu,[e("div",Bu,[C(c(z),{modelValue:T.user_id,"onUpdate:modelValue":q[1]||(q[1]=p=>T.user_id=p),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",qu,[Nu,Q(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":q[2]||(q[2]=p=>T.site=p)},[Ru,(t(!0),a(N,null,G(m.value,p=>(t(),a("option",{key:p.id,value:p.id},s(p.site_name),9,ju))),128))],512),[[Te,T.site]])]),b.value==!1?(t(),a("div",Hu,[e("div",Ou,[e("div",zu,[Gu,C(c(Le),{class:"form-control",modelValue:W.value,"onUpdate:modelValue":q[3]||(q[3]=p=>W.value=p)},null,8,["modelValue"])]),e("div",Qu,[Wu,Q(e("select",{class:"form-control","onUpdate:modelValue":q[4]||(q[4]=p=>X.value=p),id:"plandate"},[(t(!0),a(N,null,G(D.value,p=>(t(),a("option",{key:p,value:p},s(p),9,Ku))),128))],512),[[Te,X.value]])])]),Xu])):A("",!0),b.value==!1?(t(),a("div",Ju,[e("div",Zu,[e("div",e_,[t_,C(c(Le),{class:"form-control",modelValue:j.value,"onUpdate:modelValue":q[5]||(q[5]=p=>j.value=p)},null,8,["modelValue"])]),e("div",s_,[a_,Q(e("select",{class:"form-control","onUpdate:modelValue":q[6]||(q[6]=p=>y.value=p),id:"plandate"},[(t(!0),a(N,null,G(i.value,p=>(t(),a("option",{key:p,value:p},s(p),9,o_))),128))],512),[[Te,y.value]])])]),l_])):A("",!0),e("div",n_,[d_,C(c(z),{name:"tasktype"},{default:ee(()=>[Q(e("select",{"onUpdate:modelValue":q[7]||(q[7]=p=>T.tasktype=p),class:"form-control",required:!0},[i_,(t(!0),a(N,null,G(H.value,p=>(t(),a("option",{key:p.value,value:p.value},s(p.name),9,c_))),128))],512),[[Te,T.tasktype]])]),_:1})])])])])]),r_]),_:1})])])]),e("div",u_,[e("div",__,[e("div",m_,[e("div",h_,[e("h5",p_," My Todo of "+s(c(be)(_.value).format("MM/D/YYYY")),1),v_]),e("div",b_,[f_,e("div",$_,[e("div",g_,[U.value.length>0?(t(),a("div",y_,[l.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[k_,x_]),_:1})):A("",!0),(t(!0),a(N,null,G(U.value,p=>(t(),a("ul",{class:"list-group",key:p.id},[p.iscompleted!==1?(t(),a("li",w_,[e("div",C_,[e("div",S_,[f.value?(t(),a("i",{key:0,onClick:ce=>M(p),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1}),style:{"font-size":"15px"}},null,10,M_)):A("",!0),e("span",{class:P({"font-italic":p.iscompleted===1,"":p.iscompleted!==1})},s(p.task_name),3)]),e("div",U_,[e("i",{class:"fa fa-trash text-danger",onClick:ce=>Y(p)},null,8,D_)])])])):A("",!0)]))),128)),e("li",V_,[w.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:he},[e("i",{class:P(["fa",E.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Completed "+s(w.value),1)])):A("",!0)]),E.value?(t(),a("div",A_,[(t(!0),a(N,null,G(U.value,p=>(t(),a("ul",{class:"list-group",key:p.id},[p.iscompleted===1?(t(),a("li",T_,[e("div",E_,[e("div",P_,[e("i",{class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle":p.iscompleted===1,"fa fa-circle":p.iscompleted!==1}),style:{"font-size":"15px"},onClick:ce=>M(p)},null,10,F_),e("span",{class:P({"font-italic":p.iscompleted===1,"":p.iscompleted!==1})},[e("del",null,s(p.task_name),1)],2)]),e("div",L_,[e("i",{class:"fa fa-trash text-danger",onClick:ce=>Y(p)},null,8,I_)])])])):A("",!0)]))),128))])):A("",!0)])):(t(),a("div",Y_,q_))]),e("div",N_,[C(c(Ue),{onSubmit:v},{default:ee(()=>[e("div",R_,[e("div",j_,[e("div",H_,[C(c(z),{modelValue:R.value.dailytask_id,"onUpdate:modelValue":q[8]||(q[8]=p=>R.value.dailytask_id=p),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",O_,[C(c(z),{modelValue:R.value.task_name,"onUpdate:modelValue":q[9]||(q[9]=p=>R.value.task_name=p),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),z_]),_:1})])])])])])]),e("div",G_,[e("div",Q_,[e("div",W_,[K_,e("div",X_,[J_,e("button",{onClick:de(lt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var em=ye(Z_,[["__scopeId","data-v-56abd651"]]);const tm={class:"text-center"},sm={key:0},am={class:"text-center"},om={key:0},lm={class:"text-center"},nm={key:0},dm={key:0,class:"bg-success text-center"},im={key:1,class:"bg-danger text-center"},cm={key:2,class:"text-center"},rm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return me(),_e(),(g,u)=>(t(),a("tr",null,[e("td",null,s(c(be)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",tm,[o.item.task_lists_count!==0?(t(),a("span",sm,s(o.item.task_lists_count),1)):A("",!0)]),e("td",am,[o.item.completed_task_count!==0?(t(),a("span",om,s(o.item.completed_task_count),1)):A("",!0)]),e("td",lm,[o.item.status!=="On Going"?(t(),a("span",nm,s(o.item.status),1)):A("",!0)]),o.item.remarks==="HIT"?(t(),a("td",dm,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",im,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",cm,s(o.item.startdate!=null?"On Going!":""),1)):A("",!0),e("td",{class:P({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const pe=o=>(Ve("data-v-0e97ba77"),o=o(),Ae(),o),um={class:"content-header"},_m={class:"container-fluid"},mm={class:"col-12"},hm={class:"card",id:"captureVSCContainer"},pm={class:"card-header"},vm={class:"card-title"},bm={class:"card-tools"},fm={class:"card-body"},$m=pe(()=>e("i",{class:"fa fa-camera"},null,-1)),gm=[$m],ym=pe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),km=pe(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),xm=pe(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),wm=pe(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Cm={key:1,class:"row"},Sm={class:"inner"},Mm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Um=["src"],Dm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Vm={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Am={style:{"text-align":"left"}},Tm={key:0},Em=pe(()=>e("span",{class:"text-light badge"},"Todos",-1)),Pm={class:"list-group list-group-flush"},Fm={style:{display:"flex","align-items":"left"}},Lm={class:"ml-1"},Im={class:"ml-1"},Ym={key:1},Bm={class:"float-right"},qm={id:"captureHitRateContainer",class:"card"},Nm={class:"card-header"},Rm={class:"card-title"},jm={class:"card-body"},Hm={class:"content"},Om={class:"container-fluid"},zm=pe(()=>e("i",{class:"fa fa-camera"},null,-1)),Gm=[zm],Qm={class:"dispatch-table"},Wm={class:"table-responsive"},Km={class:"table table-bordered table-hover table-sm"},Xm=pe(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Jm=["item"],Zm={class:"list-field"},eh=pe(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),th={class:"list-field"},sh=pe(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),ah={key:0},oh={class:"list-field"},lh=pe(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),nh={key:0},dh={class:"list-field"},ih=pe(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),ch={class:"list-field"},rh=pe(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),uh={class:"list-field"},_h=pe(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),mh={class:"float-right"},hh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ph={class:"modal-dialog modal-sm",role:"document"},vh={class:"modal-content"},bh=pe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),fh={class:"modal-body"},$h={class:"fromtocenter"},gh=pe(()=>e("label",{for:"fromDate"},"From:",-1)),yh=pe(()=>e("label",{for:"toDate"},"To:",-1)),kh=pe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),xh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wh={class:"modal-dialog modal-sm",role:"document"},Ch={class:"modal-content"},Sh=pe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Mh={class:"modal-body"},Uh={class:"container"},Dh={class:"row"},Vh=["onClick"],Ah=pe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Th={__name:"MyVsc",setup(o){const g=`${$e().name}`,u=_e(),l=n(!1),d=n([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),k=n((()=>{const y={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",y)})()),U=()=>{const y=document.getElementById("captureVSCContainer");He(y).then(D=>{const i=D.toDataURL(),T=document.createElement("a");T.href=i,T.download=`${u.user.first_name+" "+u.user.last_name} - ${g}.png`,T.click()})},m=()=>{const y=document.getElementById("captureHitRateContainer");He(y).then(D=>{const i=D.toDataURL(),T=document.createElement("a");T.href=i,T.download=`${u.user.first_name+" "+u.user.last_name} - My HIT RATE.png`,T.click()})};n(null),n("today");const E=n({data:[]}),b=n({data:[]}),r=()=>{l.value=!0,axios.get("/api/myvsc").then(y=>{l.value=!1,E.value=y.data.dailyTasks,b.value=y.data.TaskList})},_=()=>{$("#FormModalfilterDate").modal("show")},f=n({start_date:"",end_date:""}),B=n(""),H=n("");fe([B],()=>{const y=new Date(B.value),D=y.getFullYear(),i=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");f.value.start_date=`${D}-${i}-${T}`}),fe([H],()=>{const y=new Date(H.value),D=y.getFullYear(),i=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");f.value.end_date=`${D}-${i}-${T}`});const W=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:f.value.start_date,end_date:f.value.end_date}}).then(y=>{l.value=!1,E.value=y.data.dailyTasks,b.value=y.data.TaskList}).catch(y=>{console.error(y)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},X=()=>{$("#FormModalPickerThemes").modal("show")},j=y=>{if(y){const D=u.user.id;axios.post("/api/changethemes",{userid:D,background:y.background,active_background:y.active_background,font_background:y.font_background}).then(i=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(T=>{l.value=!1,E.value=T.data.dailyTasks,b.value=T.data.TaskList})}).catch(i=>{console.error(i)})}else console.error("Invalid item:",y)};return ue(()=>{r(),document.title=g}),(y,D)=>(t(),a(N,null,[e("div",um,[e("div",_m,[e("div",mm,[e("div",hm,[e("div",pm,[e("div",vm,[e("h5",null,s(c(u).user.first_name+" "+c(u).user.last_name)+" - "+s(g),1)]),e("div",bm,[e("i",{onClick:D[0]||(D[0]=i=>X()),class:"fas fa-palette"})])]),e("div",fm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:U,type:"button",class:"mb-2 btn btn-sm btn-success"},gm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:_})])]),l.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[ym,km,xm,wm]),_:1})):(t(),a("div",Cm,[(t(!0),a(N,null,G(E.value,i=>(t(),a("div",{class:"col-lg-3 col-6",key:i.id},[e("div",{class:"small-box",style:je("background-color: "+(c(be)(i.taskdate).format("MMMM D, YYYY")===k.value?i.active_background==""?"#72461F":i.active_background:i.background==""?"#B98D65":i.background)+";")},[e("div",Sm,[e("div",Mm,[L(s(c(be)(i.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Um)]),e("div",Dm,s(c(be)(i.taskdate).format("MMMM D, YYYY")),1),e("div",Vm,s(i.site_name),1),e("div",Am,[i.task_lists&&i.task_lists.length>0?(t(),a("div",Tm,[Em,e("ul",Pm,[(t(!0),a(N,null,G(i.task_lists,T=>(t(),a("li",{class:"list-group-item",key:T.id},[e("div",Fm,[e("div",Lm,[e("i",{class:P(T.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Im,s(T.task_name),1)])]))),128))])])):(t(),a("span",Ym))])])],4)]))),128))])),e("div",Bm,s(k.value),1)])]),e("div",qm,[e("div",Nm,[e("div",Rm,[e("h5",null,s(c(u).user.first_name+" "+c(u).user.last_name)+" - My HIT RATE ",1)])]),e("div",jm,[e("div",Hm,[e("div",Om,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:m,type:"button",class:"mb-2 btn btn-sm btn-success"},Gm)])]),e("div",Qm,[e("div",Wm,[e("table",Km,[Xm,e("tbody",null,[(t(!0),a(N,null,G(b.value,i=>(t(),re(rm,{key:i.id,item:i},null,8,["item"]))),128))])])])]),(t(!0),a(N,null,G(b.value,i=>(t(),a("div",{class:"dispatch-list",key:i.id,item:i},[e("div",{class:P([{"callout callout-success":i.remarks==="HIT","callout callout-danger":i.remarks==="MISS",callout:i.remarks===null}])},[e("div",Zm,[eh,e("span",null,s(c(be)(i.taskdate).format("MMMM D, YYYY")),1)]),e("div",th,[sh,i.task_lists_count!==0?(t(),a("span",ah,s(i.task_lists_count),1)):A("",!0)]),e("div",oh,[lh,i.completed_task_count!==0?(t(),a("span",nh,s(i.completed_task_count),1)):A("",!0)]),e("div",dh,[ih,e("span",null,[e("b",null,s(i.status),1)])]),e("div",ch,[rh,e("span",{class:P(["badge",i.remarks==="HIT"?"bg-success":"bg-danger"])},s(i.remarks),3)]),e("div",uh,[_h,e("span",{class:P(["badge",{"bg-danger":i.percentage_completed>=0&&i.percentage_completed<=59},{"bg-orange":i.percentage_completed>60&&i.percentage_completed<=90},{"bg-success":i.percentage_completed===100}])},s(i.percentage_completed+"%"),3)])],2)],8,Jm))),128))])]),e("div",mh,s(k.value),1)])])])])]),e("div",hh,[e("div",ph,[e("div",vh,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(g)+" Summary Report")]),bh]),e("div",fh,[e("div",$h,[e("div",null,[gh,C(c(Le),{modelValue:B.value,"onUpdate:modelValue":D[1]||(D[1]=i=>B.value=i)},null,8,["modelValue"])]),e("div",null,[yh,C(c(Le),{modelValue:H.value,"onUpdate:modelValue":D[2]||(D[2]=i=>H.value=i)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[kh,e("button",{onClick:W,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",xh,[e("div",wh,[e("div",Ch,[Sh,e("div",Mh,[e("div",Uh,[e("div",Dh,[(t(!0),a(N,null,G(d.value,i=>(t(),a("div",{class:"col-md-4",key:i.background},[e("div",{class:"box",onClick:T=>j(i)},[e("div",{class:"column",style:je({"background-color":i.background})},"\xA0",4),e("div",{class:"column",style:je({"background-color":i.active_background})},"\xA0",4)],8,Vh)]))),128))])])]),Ah])])])],64))}};var Eh=ye(Th,[["__scopeId","data-v-0e97ba77"]]);const Ph={class:"text-center"},Fh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return me(),_e(),(g,u)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(c(be)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Ph,[e("span",{class:P(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Lh=ye(Fh,[["__scopeId","data-v-f22938e0"]]);const ge=o=>(Ve("data-v-cf91975a"),o=o(),Ae(),o),Ih={class:"content"},Yh={class:"container-fluid"},Bh={class:"card",id:"capturePrioContainer"},qh={class:"card-header"},Nh={class:"card-title"},Rh={class:"card-body"},jh=ge(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Hh=ge(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Oh=ge(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),zh=ge(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Gh={key:1,class:"content"},Qh={class:"container-fluid"},Wh=ge(()=>e("i",{class:"fa fa-camera"},null,-1)),Kh=[Wh],Xh={class:"dispatch-table"},Jh={class:"table-responsive"},Zh={class:"table table-bordered table-sm table-striped table-hover"},ep=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),tp={key:0},sp={key:1},ap=ge(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),op=[ap],lp=["item","index"],np={class:"card"},dp={class:"card-body"},ip={class:"list-field"},cp=ge(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),rp={class:"list-field"},up=ge(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),_p={class:"list-field"},mp=ge(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),hp={class:"list-field"},pp=ge(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),vp={class:"list-field"},bp=ge(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),fp={class:"list-field"},$p=ge(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),gp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},yp={class:"modal-dialog modal-sm",role:"document"},kp={class:"modal-content"},xp=ge(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),wp={class:"modal-body"},Cp={class:"fromtocenter"},Sp=ge(()=>e("label",{for:"fromDate"},"From:",-1)),Mp=ge(()=>e("label",{for:"toDate"},"To:",-1)),Up=ge(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Dp={__name:"MyClosePrioList",setup(o){const g=`${$e().name}`,u=n(!1);me();const l=n({data:[]}),d=n(""),h=n(""),k=_e(),U=(r=1)=>{u.value=!0,V.get(`/api/mycloseprio?page=${r}`,{params:{query:b.value}}).then(_=>{u.value=!1,l.value=_.data})},m=()=>{const r=document.getElementById("capturePrioContainer");He(r).then(_=>{const f=_.toDataURL(),B=document.createElement("a");B.href=f,B.download="MY CLOSED PRIO.png",B.click()})},E=()=>{u.value=!0,V.get("/api/filter-closeprio",{params:{start_date:d.value,end_date:h.value}}).then(r=>{u.value=!1,l.value=r.data.dailyTasks}).catch(r=>{console.error(r)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=n(null);return fe(b,Pe.exports.debounce(()=>{U()},300)),ue(()=>{U(),document.title=g}),(r,_)=>{const f=xe("font");return t(),a(N,null,[e("div",Ih,[e("div",Yh,[e("div",Bh,[e("div",qh,[e("div",Nh,[e("h5",null,s(c(k).user.first_name+" "+c(k).user.last_name)+" - My Closed Prio ",1)])]),e("div",Rh,[u.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[jh,Hh,Oh,zh]),_:1})):(t(),a("div",Gh,[e("div",Qh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:m,type:"button",class:"mb-2 btn btn-sm btn-success"},Kh)])]),e("div",null,[e("div",Xh,[e("div",Jh,[C(f,{size:"2"},{default:ee(()=>[e("table",Zh,[ep,l.value.data.length>0?(t(),a("tbody",tp,[(t(!0),a(N,null,G(l.value.data,(B,H)=>(t(),re(Lh,{key:B.id,item:B,index:H},null,8,["item","index"]))),128))])):(t(),a("tbody",sp,op))])]),_:1})])]),(t(!0),a(N,null,G(l.value.data,(B,H)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:B.id,item:B,index:H},[e("div",np,[e("div",dp,[e("div",ip,[cp,e("span",null,s(B.sitename),1)]),e("div",rp,[up,e("span",null,s(c(be)(B.taskdate).format("MMMM D, YYYY")),1)]),e("div",_p,[mp,e("span",null,s(B.startdate),1)]),e("div",hp,[pp,e("span",null,s(B.enddate),1)]),e("div",vp,[bp,e("span",null,s(B.tasktype.listtask),1)]),e("div",fp,[$p,e("span",{class:P(["badge",B.remarks==="HIT"?"bg-success":"bg-danger"])},s(B.remarks),3)])])])],8,lp))),128))])])]))])]),C(c(Ye),{data:l.value,onPaginationChangePage:U},null,8,["data"])])]),e("div",gp,[e("div",yp,[e("div",kp,[xp,e("div",wp,[e("div",Cp,[e("div",null,[Sp,C(c(Le),{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=B=>d.value=B)},null,8,["modelValue"])]),e("div",null,[Mp,C(c(Le),{modelValue:h.value,"onUpdate:modelValue":_[1]||(_[1]=B=>h.value=B)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Up,e("button",{onClick:E,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Vp=ye(Dp,[["__scopeId","data-v-cf91975a"]]);const Ap=["checked"],Tp={class:"text-center"},Ep=e("i",{class:"fa fa-edit"},null,-1),Pp=[Ep],Fp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){me();const u=o,l=g,d=()=>{l("toggleSelection",u.user)};return(h,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Ap)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",Tp,[e("a",{href:"#",onClick:k[0]||(k[0]=de(U=>h.$emit("editUser",o.user),["prevent"]))},Pp)])]))}},Lp={class:"content"},Ip={class:"container-fluid"},Yp={class:"card"},Bp={class:"card-header"},qp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Np={class:"card-tools"},Rp={class:"card-body"},jp={class:"table-responsive"},Hp={class:"table table-bordered table-hover table-sm"},Op=e("th",{style:{width:"10px"}},"#",-1),zp=e("th",null,"Name",-1),Gp=e("th",null,"Email",-1),Qp=e("th",null,"Registered Date",-1),Wp=e("th",null,"Options",-1),Kp={key:0},Xp={key:1},Jp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Zp=[Jp],ev={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},tv={class:"modal-dialog modal-sm",role:"document"},sv={class:"modal-content"},av={class:"modal-header"},ov={class:"modal-title",id:"staticBackdropLabel"},lv={key:0},nv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),dv={class:"modal-body"},iv={class:"table table-sm"},cv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),rv={colspan:"5"},uv={class:"custom-control custom-checkbox"},_v=["value","id","checked"],mv=["for"],hv={key:0,class:"table table-sm"},pv={class:"text-danger"},vv={class:"custom-control custom-checkbox"},bv=["value","id"],fv=["for"],$v=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),gv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},yv={class:"modal-dialog",role:"document"},kv={class:"modal-content"},xv=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),wv={class:"modal-footer"},Cv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Sv={__name:"UserMenuList",setup(o){const g=`${$e().name}`,u=me(),l=n({data:[]}),d=n(!1),h=n(),k=n(null),U=n(null),m=n([]),E=(j=1)=>{V.get(`/api/users?page=${j}`,{params:{query:_.value}}).then(y=>{l.value=y.data,f.value=[],selectAll.value=!1})},b=j=>{V.get("/api/usermenu",{params:{user_id:j.id}}).then(y=>{X.value=y.data,console.log(y.data)}).catch(y=>{console.log(y)}),d.value=!0,k.value.resetForm(),$("#userFormModal").modal("show"),h.value={id:j.id,username:j.username,email:j.email,first_name:j.first_name,last_name:j.last_name},U.value=h.value.first_name+" "+h.value.last_name},r=()=>{const j={user_id:h.value.id,menu_id:m.value};console.log(j),V.post("/api/usermenu",j).then(y=>{u.success("User Menu Save successfully!")}).catch(y=>{setErrors(y.response.data.errors)})},_=n(null),f=n([]),B=j=>{const y=f.value.indexOf(j.id);y===-1?f.value.push(j.id):f.value.splice(y,1),console.log(f.value)},H=n(null),W=j=>{H.value=j,$("#deleteUserModal").modal("show")},X=n({data:[]});return fe(_,Pe.exports.debounce(()=>{E()},300)),ue(()=>{E(),document.title=g}),(j,y)=>{const D=xe("font");return t(),a(N,null,[e("div",Lp,[e("div",Ip,[e("div",Yp,[e("div",Bp,[qp,e("div",Np,[Q(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=i=>_.value=i),class:"form-control",placeholder:"Search..."},null,512),[[ie,_.value]])])]),e("div",Rp,[e("div",jp,[C(D,{size:"2"},{default:ee(()=>[e("table",Hp,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=i=>j.selectAll=i),onChange:y[2]||(y[2]=(...i)=>j.selectAllUsers&&j.selectAllUsers(...i))},null,544),[[Me,j.selectAll]])]),Op,zp,Gp,Qp,Wp])]),l.value.data.length>0?(t(),a("tbody",Kp,[(t(!0),a(N,null,G(l.value.data,(i,T)=>(t(),re(Fp,{key:i.id,user:i,index:T,onEditUser:b,onConfirmUserDeletion:W,onToggleSelection:B,"select-all":j.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Xp,Zp))])]),_:1})])])]),C(c(Ye),{data:l.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",ev,[e("div",tv,[e("div",sv,[e("div",av,[e("h5",ov,[d.value?(t(),a("span",lv,"User Menu for "+s(U.value),1)):A("",!0)]),nv]),C(c(Ue),{ref_key:"form",ref:k,onSubmit:r,"initial-values":h.value},{default:ee(()=>[e("div",dv,[e("table",iv,[cv,(t(!0),a(N,null,G(X.value,i=>(t(),a("tr",{key:i.menu_id},[e("td",rv,[e("div",uv,[Q(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=T=>m.value=T),value:i.menu_id,id:"menu_id_"+i.menu_id,checked:i.hasAccess},null,8,_v),[[Me,m.value]]),e("label",{for:"menu_id_"+i.menu_id,class:"custom-control-label"},s(i.menu_title),9,mv)]),i.submenus&&i.submenus.length>0?(t(),a("table",hv,[(t(!0),a(N,null,G(i.submenus,T=>(t(),a("tr",{key:T.id},[e("td",pv,[e("div",vv,[Q(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[4]||(y[4]=R=>m.value=R),value:T.menu_id,id:"menu_id_"+T.menu_id},null,8,bv),[[Me,m.value]]),e("label",{for:"menu_id_"+T.menu_id,class:"custom-control-label"},s(T.menu_title),9,fv)])])]))),128))])):A("",!0)])]))),128))])]),$v]),_:1},8,["initial-values"])])])]),e("div",gv,[e("div",yv,[e("div",kv,[xv,e("div",wv,[Cv,e("button",{onClick:y[5]||(y[5]=de((...i)=>j.deleteUser&&j.deleteUser(...i),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const et=o=>(Ve("data-v-8e5d6dd6"),o=o(),Ae(),o),Mv=["checked"],Uv=["innerHTML"],Dv={style:{"text-align":"center"}},Vv={class:"text-center"},Av=et(()=>e("i",{class:"fa fa-edit"},null,-1)),Tv=[Av],Ev=et(()=>e("i",{class:"fa fa-trash"},null,-1)),Pv=[Ev],Fv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:g}){me(),_e();const u=o,l=g,d=()=>{l("toggleSelection",u.item)};return(h,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Mv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Uv),e("td",null,s(o.item.sort_order),1),e("td",Dv,[e("i",{class:P({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",Vv,[e("button",{class:"btn btn-sm bg-primary",onClick:k[0]||(k[0]=de(U=>h.$emit("editMenu",o.item),["prevent"]))},Tv),L("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:k[1]||(k[1]=de(U=>h.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Pv)])]))}};var Lv=ye(Fv,[["__scopeId","data-v-8e5d6dd6"]]);const Iv={class:"content"},Yv={class:"container-fluid"},Bv={class:"d-flex justify-content-between"},qv={class:"d-flex"},Nv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Rv={key:0},jv=e("i",{class:"fa fa-trash mr-1"},null,-1),Hv={class:"ml-2"},Ov={class:"card"},zv={class:"card-body"},Gv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Qv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Wv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Kv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Xv={class:"table-responsive"},Jv={class:"table table-bordered table-sm"},Zv=e("th",{style:{width:"10px"}},"#",-1),e1=e("th",null,"Title",-1),t1=e("th",null,"Parent Menu",-1),s1=e("th",null,"Route",-1),a1=e("th",null,"Icon",-1),o1=e("th",null,"Sort",-1),l1=e("th",null,"Active",-1),n1=e("th",null,"Date",-1),d1=e("th",null,"Action",-1),i1={key:0},c1={key:1},r1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),u1=[r1],_1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},m1={class:"modal-dialog modal-sm",role:"document"},h1={class:"modal-content"},p1={class:"modal-header"},v1={class:"modal-title",id:"staticBackdropLabel"},b1={key:0},f1={key:1},$1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),g1={class:"modal-body"},y1={class:"col-md-12"},k1={class:"row"},x1={class:"col-12"},w1={class:"form-group"},C1=e("label",{for:"user"},"Menu Title",-1),S1={class:"invalid-feedback"},M1={class:"form-group"},U1=e("label",{for:"department"},"Parent Menu",-1),D1=e("option",{value:"0"},"None",-1),V1=["value"],A1={class:"form-group"},T1=e("label",{for:"warehouse"},"Icon",-1),E1={class:"invalid-feedback"},P1={class:"form-group"},F1=e("label",{for:"user"},"Route",-1),L1={class:"invalid-feedback"},I1={class:"form-group"},Y1=e("label",{for:"user"},"Sort",-1),B1={class:"invalid-feedback"},q1={class:"form-group"},N1=e("label",{for:"is_active"},"Active",-1),R1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),j1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},H1={class:"modal-dialog",role:"document"},O1={class:"modal-content"},z1=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),G1={class:"modal-footer"},Q1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),W1={__name:"MenuList",setup(o){const g=`${$e().name}`,u=me(),l=n({data:[]}),d=n({data:[]}),h=n(!1),k=n(!1);n();const U=n(!0),m=De({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),E=_e();n(null);const b=n(),r=(S=1)=>{h.value=!0,V.get(`/api/menulist?page=${S}`,{params:{query:y.value}}).then(v=>{h.value=!1,l.value=v.data,D.value=[],oe.value=!1})},_=()=>{V.get("/api/GetParentId").then(S=>{d.value=S.data}).catch(S=>{console.error(S)})};we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const f=S=>{m.is_active=S?1:0},B=({resetForm:S,setErrors:v})=>{V.post("/api/menulist",{menu_title:m.menu_title,parent_id:m.parent_id,menu_icon:m.menu_icon,menu_route:m.menu_route,sort_order:m.sort_order,is_active:m.is_active}).then(M=>{l.value.data.unshift(M.data),$("#FormModal").modal("hide"),S(),u.success("User created successfully!")}).catch(M=>{M.response.data.errors&&v(M.response.data.errors)})},H=()=>{k.value=!1,$("#FormModal").modal("show")},W=S=>{k.value=!0,m.menu_id=S.menu_id,m.menu_title=S.menu_title,m.parent_id=S.parent_id,m.menu_icon=S.menu_icon,m.menu_route=S.menu_route,m.sort_order=S.sort_order,m.is_active===1?U.value=!0:U.value=!1,m.is_active=S.is_active,$("#FormModal").modal("show"),b.value=S.parent_id},X=({setErrors:S})=>{V.post("/api/menulist",m).then(v=>{r(),$("#FormModal").modal("hide"),u.success("successfully Updated!")}).catch(v=>{S(v.response.data.errors),console.log(v)})},j=(S,v)=>{k.value?X(S):B(S)},y=n(null),D=n([]),i=S=>{const v=D.value.indexOf(S.id);v===-1?D.value.push(S.id):D.value.splice(v,1),console.log(D.value)},T=n(null),R=S=>{T.value=S,$("#deleteClientModal").modal("show")},ae=()=>{V.delete(`/api/menu/${T.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(S=>S.menu_id!==T.value)})},J=()=>{V.delete("menulist",{data:{ids:D.value}}).then(S=>{l.value.data=l.value.data.filter(v=>!D.value.includes(v.id)),D.value=[],oe.value=!1,u.success(S.data.message)})},oe=n(!1),ve=()=>{oe.value?D.value=l.value.data.map(S=>S.id):D.value=[],console.log(D.value)};return fe([U],S=>{m.is_active=S?1:0}),fe(y,Pe.exports.debounce(()=>{r()},300)),ue(()=>{r(),_(),document.title=g}),(S,v)=>{const M=xe("font");return t(),a(N,null,[e("div",Iv,[e("div",Yv,[e("div",Bv,[e("div",qv,[e("button",{onClick:H,type:"button",class:"mb-2 btn btn-primary"},[Nv,L(" Menu ")]),D.value.length>0?(t(),a("div",Rv,[e("button",{onClick:J,type:"button",class:"ml-2 mb-2 btn btn-danger"},[jv,L(" Delete Selected ")]),e("span",Hv,"Selected "+s(D.value.length)+" Menu",1)])):A("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=x=>y.value=x),class:"form-control",placeholder:"Search..."},null,512),[[ie,y.value]])])]),e("div",Ov,[e("div",zv,[h.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[Gv,Qv,Wv,Kv]),_:1})):A("",!0),e("div",Xv,[C(M,{size:"2"},{default:ee(()=>[e("table",Jv,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=x=>oe.value=x),onChange:ve},null,544),[[Me,oe.value]])]),Zv,e1,t1,s1,a1,o1,l1,n1,d1])]),l.value.data.length>0?(t(),a("tbody",i1,[(t(!0),a(N,null,G(l.value.data,(x,w)=>(t(),re(Lv,{key:x.id,item:x,index:w,onEditMenu:W,onConfirmDeletion:R,onToggleSelection:i,"select-all":oe.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",c1,u1))])]),_:1})])])]),C(c(Ye),{data:l.value,onPaginationChangePage:r},null,8,["data"])])]),e("div",_1,[e("div",m1,[e("div",h1,[e("div",p1,[e("h5",v1,[k.value?(t(),a("span",b1,"Edit Menu")):(t(),a("span",f1,"Add Menu"))]),$1]),C(c(Ue),{onSubmit:j},{default:ee(({errors:x})=>[e("div",g1,[e("div",y1,[e("div",k1,[e("div",x1,[C(c(z),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(E).user.id,"onUpdate:modelValue":v[2]||(v[2]=w=>c(E).user.id=w)},null,8,["modelValue"]),e("div",w1,[C1,C(c(z),{name:"menu_title",type:"text",class:P(["form-control",{"is-invalid":x.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:m.menu_title,"onUpdate:modelValue":v[3]||(v[3]=w=>m.menu_title=w)},null,8,["class","modelValue"]),e("span",S1,s(x.menu_title),1)]),e("div",M1,[U1,Q(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":v[4]||(v[4]=w=>m.parent_id=w)},[D1,(t(!0),a(N,null,G(d.value,w=>(t(),a("option",{key:w.menu_id,value:w.menu_id},s(w.menu_title),9,V1))),128))],512),[[Te,m.parent_id]])]),e("div",A1,[T1,C(c(z),{name:"menu_icon",type:"text",class:P(["form-control",{"is-invalid":x.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:m.menu_icon,"onUpdate:modelValue":v[5]||(v[5]=w=>m.menu_icon=w)},null,8,["class","modelValue"]),e("span",E1,s(x.menu_icon),1)]),e("div",P1,[F1,C(c(z),{name:"menu_route",type:"text",class:P(["form-control",{"is-invalid":x.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:m.menu_route,"onUpdate:modelValue":v[6]||(v[6]=w=>m.menu_route=w)},null,8,["class","modelValue"]),e("span",L1,s(x.menu_route),1)]),e("div",I1,[Y1,C(c(z),{name:"sort_order",type:"text",class:P(["form-control",{"is-invalid":x.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:m.sort_order,"onUpdate:modelValue":v[7]||(v[7]=w=>m.sort_order=w)},null,8,["class","modelValue"]),e("span",B1,s(x.sort_order),1)]),e("div",q1,[N1,Q(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":v[8]||(v[8]=w=>U.value=w),onChange:f},null,544),[[Me,U.value]])])])])])]),R1]),_:1})])])]),e("div",j1,[e("div",H1,[e("div",O1,[z1,e("div",G1,[Q1,e("button",{onClick:de(ae,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},K1={class:"error-page"},X1=Ce('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),J1=[X1],Z1="Page Not Found",tt={__name:"404",setup(o){return ue(()=>{document.title=Z1}),(g,u)=>(t(),a("div",K1,J1))}};const le=o=>(Ve("data-v-18d1690e"),o=o(),Ae(),o),eb={id:"exportPDF"},tb={class:"container"},sb=le(()=>e("br",null,null,-1)),ab={class:"header"},ob=["src"],lb=["src"],nb={class:"header"},db={class:"header-justify-space-between"},ib=le(()=>e("br",null,null,-1)),cb=le(()=>e("p",null,null,-1)),rb={key:0},ub=le(()=>e("strong",null,null,-1)),_b=le(()=>e("br",null,null,-1)),mb=le(()=>e("br",null,null,-1)),hb=le(()=>e("p",null,null,-1)),pb=le(()=>e("strong",null,"Unit details",-1)),vb={class:"content"},bb={class:"header-justify-space-between"},fb=le(()=>e("span",null,"Brand:",-1)),$b=le(()=>e("br",null,null,-1)),gb=le(()=>e("span",null,"Model:",-1)),yb=le(()=>e("br",null,null,-1)),kb=le(()=>e("div",null,null,-1)),xb=le(()=>e("span",null,"Serial #:",-1)),wb=le(()=>e("br",null,null,-1)),Cb=le(()=>e("span",null,"Asset Tag:",-1)),Sb=le(()=>e("br",null,null,-1)),Mb=le(()=>e("div",null,null,-1)),Ub=le(()=>e("strong",null,"Reported problem",-1)),Db={class:"content"},Vb=le(()=>e("strong",null,"Assessment conducted",-1)),Ab={class:"content"},Tb=le(()=>e("strong",null,"Recommendation",-1)),Eb={class:"content"},Pb={class:"header-justify-space-between"},Fb=le(()=>e("strong",null,"Evaluated by:",-1)),Lb=le(()=>e("br",null,null,-1)),Ib={class:"botoom-line"},Yb=le(()=>e("br",null,null,-1)),Bb=le(()=>e("p",null,null,-1)),qb=le(()=>e("strong",null,"Noted by:",-1)),Nb=le(()=>e("br",null,null,-1)),Rb={class:"botoom-line"},jb=le(()=>e("br",null,null,-1)),Hb=le(()=>e("br",null,null,-1)),Ob=le(()=>e("p",null,null,-1)),zb={key:0},Gb={key:1},Qb={key:0,class:"fab-container"},Wb=le(()=>e("i",{class:"fas fa-download"},null,-1)),Kb=[Wb],Xb={__name:"TechRecommApprove",setup(o){const g=`${$e().params.id}`,u=()=>{const h=document.getElementById("exportPDF");Ze().from(h).save(`${g}.pdf`)},l=De({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),d=()=>{V.get(`/api/tech-recommendations/${$e().params.id}`).then(h=>{l.id=h.data.id,l.recommnum=h.data.recommnum,l.branch=h.data.branch,l.company=h.data.company,l.department=h.data.department,l.warehouse=h.data.warehouse,l.user=h.data.user,l.problem=h.data.problem,l.brand=h.data.brand,l.model=h.data.model,l.assettag=h.data.assettag,l.serialnum=h.data.serialnum,l.status=h.data.status,l.assconducted=h.data.assconducted,l.recommendation=h.data.recommendation,l.createdby=h.data.createdby.cfull_name,l.updatedby=h.data.updatedby.ufull_name,l.created_at=be(h.data.created_at).format("MMMM D, YYYY"),l.updated_at=be(h.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=h.data.createdby.cposition,l.updated_position=h.data.updatedby.uposition}).catch(h=>{actions.setErrors(h.response.data.errors)})};return ue(()=>{d(),document.title=g}),(h,k)=>(t(),a(N,null,[e("div",eb,[e("div",tb,[sb,e("div",ab,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,ob),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,lb)]),e("div",nb,[e("span",null,[L("Recommendation No: "),e("strong",null,s(l.recommnum),1)]),e("span",null,[L("Date Checked: "),e("strong",null,s(l.created_at),1)])]),e("div",db,[e("div",null,[e("span",null,[L("Company: "),e("strong",null,s(l.company),1)]),ib,e("span",null,[L("Branch: "),e("strong",null,s(l.branch),1)])]),cb,e("div",null,[l.warehouse==""?(t(),a("span",rb,[L("Warehouse: "),ub,L(s(l.warehouse),1)])):A("",!0),_b,e("span",null,[L("User: "),e("strong",null,s(l.user),1)]),mb,e("span",null,[L("Department: "),e("strong",null,s(l.department),1)])]),hb]),pb,e("div",vb,[e("div",bb,[e("div",null,[fb,e("strong",null,s(l.brand),1),$b,gb,e("strong",null,s(l.model),1),yb]),kb,e("div",null,[xb,e("strong",null,s(l.serialnum),1),wb,Cb,e("strong",null,s(l.assettag),1),Sb]),Mb])]),Ub,e("div",Db,[e("p",null,s(l.problem),1)]),Vb,e("div",Ab,[e("p",null,s(l.assconducted),1)]),Tb,e("div",Eb,[e("p",null,s(l.recommendation),1)]),e("div",Pb,[e("div",null,[Fb,Lb,e("span",Ib,s(l.createdby),1),Yb,e("span",null,s(l.created_position),1)]),Bb,e("div",null,[qb,Nb,e("span",Rb,s(l.updatedby),1),jb,e("span",null,s(l.updated_position),1),Hb]),Ob]),l.status===2?(t(),a("span",zb,"Approved date:("+s(l.updated_at)+")",1)):(t(),a("span",Gb,"Pending"))])]),l.status===2?(t(),a("div",Qb,[e("div",{class:"button iconbutton bg-success",onClick:k[0]||(k[0]=U=>u())},Kb)])):A("",!0)],64))}};var st=ye(Xb,[["__scopeId","data-v-18d1690e"]]);const Jb={},Zb={class:"card mx-auto",style:{"max-width":"600px"}},ef=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),tf={class:"card-body"},sf={class:"list-unstyled"};function af(o,g){return t(),a("div",Zb,[ef,e("div",tf,[e("ul",sf,[e("li",{class:"nav-item dropdown",onClick:g[0]||(g[0]=(...u)=>o.fetchNotifications&&o.fetchNotifications(...u))})])])])}var of=ye(Jb,[["render",af]]);const lf=["checked"],nf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:g}){me(),_e();const u=o,l=g,d=()=>{l("toggleSelection",u.item)};return(h,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,lf)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.location),1),e("td",null,s(o.item.paccountable),1)]))}};var df=ye(nf,[["__scopeId","data-v-c5620630"]]);const cf={class:"content"},rf={class:"container-fluid"},uf={class:"d-flex justify-content-between"},_f={class:"d-flex"},mf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),hf={key:0},pf=e("i",{class:"fa fa-trash mr-1"},null,-1),vf={class:"ml-2"},bf={class:"card"},ff={class:"card-body"},$f=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),gf=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),yf=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),kf=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),xf={class:"table-responsive"},wf={class:"table table-bordered table-sm table-striped hover"},Cf=e("th",{style:{width:"10px"}},"#",-1),Sf=e("th",null,"Asset",-1),Mf=e("th",null,"Asset type",-1),Uf=e("th",null,"Serial",-1),Df=e("th",null,"Date Aquired",-1),Vf=e("th",null,"Suppliear",-1),Af=e("th",null,"Unit",-1),Tf=e("th",null,"Location",-1),Ef={key:0},Pf={key:1},Ff=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Lf=[Ff],If={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yf={class:"modal-dialog modal-sm",role:"document"},Bf={class:"modal-content"},qf={class:"modal-header"},Nf={class:"modal-title",id:"staticBackdropLabel"},Rf={key:0},jf={key:1},Hf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Of={class:"modal-body"},zf={class:"col-md-12"},Gf={class:"row"},Qf={class:"col-12"},Wf={class:"form-group"},Kf=e("label",{for:"user"},"Menu Title",-1),Xf={class:"invalid-feedback"},Jf={class:"form-group"},Zf=e("label",{for:"department"},"Parent Menu",-1),e$=e("option",{value:"0"},"None",-1),t$=["value"],s$={class:"form-group"},a$=e("label",{for:"warehouse"},"Icon",-1),o$={class:"invalid-feedback"},l$={class:"form-group"},n$=e("label",{for:"user"},"Route",-1),d$={class:"invalid-feedback"},i$={class:"form-group"},c$=e("label",{for:"user"},"Sort",-1),r$={class:"invalid-feedback"},u$={class:"form-group"},_$=e("label",{for:"is_active"},"Active",-1),m$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),h$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},p$={class:"modal-dialog",role:"document"},v$={class:"modal-content"},b$=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),f$={class:"modal-footer"},$$=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),g$={__name:"AssetmList",setup(o){const g=`${$e().name}`,u=me(),l=n({data:[]}),d=n({data:[]}),h=n(!1),k=n(!1);n();const U=n(!0),m=De({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),E=_e();n(null);const b=n(),r=(S=1)=>{h.value=!0,V.get(`/web/asset-monitoring?page=${S}`,{params:{query:y.value}}).then(v=>{h.value=!1,l.value=v.data,D.value=[],oe.value=!1})},_=()=>{V.get("/api/GetParentId").then(S=>{d.value=S.data}).catch(S=>{console.error(S)})};we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const f=S=>{m.is_active=S?1:0},B=({resetForm:S,setErrors:v})=>{V.post("/api/menulist",{menu_title:m.menu_title,parent_id:m.parent_id,menu_icon:m.menu_icon,menu_route:m.menu_route,sort_order:m.sort_order,is_active:m.is_active}).then(M=>{l.value.data.unshift(M.data),$("#FormModal").modal("hide"),S(),u.success("User created successfully!")}).catch(M=>{M.response.data.errors&&v(M.response.data.errors)})},H=()=>{k.value=!1,$("#FormModal").modal("show")},W=S=>{k.value=!0,m.menu_id=S.menu_id,m.menu_title=S.menu_title,m.parent_id=S.parent_id,m.menu_icon=S.menu_icon,m.menu_route=S.menu_route,m.sort_order=S.sort_order,m.is_active===1?U.value=!0:U.value=!1,m.is_active=S.is_active,$("#FormModal").modal("show"),b.value=S.parent_id},X=({setErrors:S})=>{V.post("/api/menulist",m).then(v=>{r(),$("#FormModal").modal("hide"),u.success("successfully Updated!")}).catch(v=>{S(v.response.data.errors),console.log(v)})},j=(S,v)=>{k.value?X(S):B(S)},y=n(null),D=n([]),i=S=>{const v=D.value.indexOf(S.id);v===-1?D.value.push(S.id):D.value.splice(v,1),console.log(D.value)},T=n(null),R=S=>{T.value=S,$("#deleteClientModal").modal("show")},ae=()=>{V.delete(`/api/menu/${T.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(S=>S.menu_id!==T.value)})},J=()=>{V.delete("menulist",{data:{ids:D.value}}).then(S=>{l.value.data=l.value.data.filter(v=>!D.value.includes(v.id)),D.value=[],oe.value=!1,u.success(S.data.message)})},oe=n(!1),ve=()=>{oe.value?D.value=l.value.data.map(S=>S.id):D.value=[],console.log(D.value)};return fe([U],S=>{m.is_active=S?1:0}),fe(y,Pe.exports.debounce(()=>{r()},300)),ue(()=>{r(),_(),document.title=g}),(S,v)=>{const M=xe("font");return t(),a(N,null,[e("div",cf,[e("div",rf,[e("div",uf,[e("div",_f,[e("button",{onClick:H,type:"button",class:"mb-2 btn btn-primary"},[mf,L(" Menu ")]),D.value.length>0?(t(),a("div",hf,[e("button",{onClick:J,type:"button",class:"ml-2 mb-2 btn btn-danger"},[pf,L(" Delete Selected ")]),e("span",vf,"Selected "+s(D.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=x=>y.value=x),class:"form-control",placeholder:"Search..."},null,512),[[ie,y.value]])])]),e("div",bf,[e("div",ff,[h.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[$f,gf,yf,kf]),_:1})):A("",!0),e("div",xf,[C(M,{size:"2"},{default:ee(()=>[e("table",wf,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=x=>oe.value=x),onChange:ve},null,544),[[Me,oe.value]])]),Cf,Sf,Mf,Uf,Df,Vf,Af,Tf])]),l.value.data.length>0?(t(),a("tbody",Ef,[(t(!0),a(N,null,G(l.value.data,(x,w)=>(t(),re(df,{key:x.id,item:x,index:w,onEditMenu:W,onConfirmDeletion:R,onToggleSelection:i,"select-all":oe.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Pf,Lf))])]),_:1})])])]),C(c(Ye),{data:l.value,onPaginationChangePage:r},null,8,["data"])])]),e("div",If,[e("div",Yf,[e("div",Bf,[e("div",qf,[e("h5",Nf,[k.value?(t(),a("span",Rf,"Edit Menu")):(t(),a("span",jf,"Add Menu"))]),Hf]),C(c(Ue),{onSubmit:j},{default:ee(({errors:x})=>[e("div",Of,[e("div",zf,[e("div",Gf,[e("div",Qf,[C(c(z),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(E).user.id,"onUpdate:modelValue":v[2]||(v[2]=w=>c(E).user.id=w)},null,8,["modelValue"]),e("div",Wf,[Kf,C(c(z),{name:"menu_title",type:"text",class:P(["form-control",{"is-invalid":x.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:m.menu_title,"onUpdate:modelValue":v[3]||(v[3]=w=>m.menu_title=w)},null,8,["class","modelValue"]),e("span",Xf,s(x.menu_title),1)]),e("div",Jf,[Zf,Q(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":v[4]||(v[4]=w=>m.parent_id=w)},[e$,(t(!0),a(N,null,G(d.value,w=>(t(),a("option",{key:w.menu_id,value:w.menu_id},s(w.menu_title),9,t$))),128))],512),[[Te,m.parent_id]])]),e("div",s$,[a$,C(c(z),{name:"menu_icon",type:"text",class:P(["form-control",{"is-invalid":x.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:m.menu_icon,"onUpdate:modelValue":v[5]||(v[5]=w=>m.menu_icon=w)},null,8,["class","modelValue"]),e("span",o$,s(x.menu_icon),1)]),e("div",l$,[n$,C(c(z),{name:"menu_route",type:"text",class:P(["form-control",{"is-invalid":x.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:m.menu_route,"onUpdate:modelValue":v[6]||(v[6]=w=>m.menu_route=w)},null,8,["class","modelValue"]),e("span",d$,s(x.menu_route),1)]),e("div",i$,[c$,C(c(z),{name:"sort_order",type:"text",class:P(["form-control",{"is-invalid":x.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:m.sort_order,"onUpdate:modelValue":v[7]||(v[7]=w=>m.sort_order=w)},null,8,["class","modelValue"]),e("span",r$,s(x.sort_order),1)]),e("div",u$,[_$,Q(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":v[8]||(v[8]=w=>U.value=w),onChange:f},null,544),[[Me,U.value]])])])])])]),m$]),_:1})])])]),e("div",h$,[e("div",p$,[e("div",v$,[b$,e("div",f$,[$$,e("button",{onClick:de(ae,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const ne=o=>(Ve("data-v-4f25c02b"),o=o(),Ae(),o),y$={class:"content"},k$={class:"container-fluid"},x$={class:"d-flex justify-content-between"},w$={class:"d-flex"},C$=ne(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),S$={key:0},M$=ne(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),U$={class:"ml-2"},D$={class:"card"},V$={class:"card-header"},A$={class:"card-title"},T$={class:"form-group",style:{display:"inline-block"}},E$=ne(()=>e("option",{value:"",disabled:""},"Select a site",-1)),P$=["value"],F$={class:"card-tools"},L$=ne(()=>e("div",null,null,-1)),I$={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Y$=ne(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),B$={class:"card-body"},q$=ne(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),N$=ne(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),R$=ne(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),j$=ne(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),H$={key:1,class:"table-responsive"},O$={class:"table table-bordered table-sm table-striped table-hover"},z$=ne(()=>e("th",null,null,-1)),G$=ne(()=>e("th",null,"Date",-1)),Q$=ne(()=>e("th",null,"Allocated Pallet Space",-1)),W$=ne(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),K$=ne(()=>e("th",null,"Space Utilization %",-1)),X$=ne(()=>e("th",null,"Excess",-1)),J$={key:0},Z$={key:1},eg=ne(()=>e("th",null,"Remarks",-1)),tg=ne(()=>e("th",null,"Action",-1)),sg={key:0},ag=["item","index"],og=["checked"],lg={key:0},ng={key:1},dg=["onClick"],ig=ne(()=>e("i",{class:"fa fa-edit"},null,-1)),cg=[ig],rg={key:0},ug=ne(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),_g={colspan:"3"},mg={key:1},hg=ne(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),pg=[hg],vg={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},bg={class:"modal-dialog modal-sm",role:"document"},fg={class:"modal-content"},$g={class:"modal-header"},gg={class:"modal-title",id:"staticBackdropLabel"},yg={key:0},kg={key:1},xg=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),wg={class:"modal-body"},Cg={class:"col-md-12"},Sg={class:"row"},Mg={class:"col-12"},Ug={class:"form-group"},Dg=ne(()=>e("label",{for:"date"},"Date",-1)),Vg={class:"invalid-feedback"},Ag={class:"form-group"},Tg=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),Eg={class:"invalid-feedback"},Pg={class:"form-group"},Fg=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),Lg={class:"invalid-feedback"},Ig={class:"form-group"},Yg=ne(()=>e("label",{for:"user"},"Case Per Pallet",-1)),Bg={class:"invalid-feedback"},qg=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),Ng={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Rg={class:"modal-dialog",role:"document"},jg={class:"modal-content"},Hg=Ce('<div class="modal-header" data-v-4f25c02b><h5 class="modal-title" id="staticBackdropLabel" data-v-4f25c02b><span data-v-4f25c02b>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-4f25c02b><span aria-hidden="true" data-v-4f25c02b>\xD7</span></button></div><div class="modal-body" data-v-4f25c02b><h5 data-v-4f25c02b>Are you sure you want to delete this record ?</h5></div>',2),Og={class:"modal-footer"},zg=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Gg={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qg={class:"modal-dialog modal-sm",role:"document"},Wg={class:"modal-content"},Kg=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Xg={class:"modal-body"},Jg={class:"fromtocenter"},Zg=ne(()=>e("label",{for:"fromDate"},"From:",-1)),ey=ne(()=>e("label",{for:"toDate"},"To:",-1)),ty={class:"modal-footer"},sy=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ay={__name:"PalletList",setup(o){const g=Xe("$swal"),u=`${$e().name}`,l=me(),d=n({data:[]}),h=n(),k=n(!1),U=n(!1),m=_e(),E=n(!0),b=n(!0),r=De({id:"",site_id:"",user_id:m.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});n(null);const _=n(),f=()=>{k.value=!0,V.get("/web/pallet",{params:{site_id:r.site_id,query:S.value}}).then(O=>{k.value=!1,d.value=O.data.data,_.value=O.data.sum,v.value=[],K.value=!1})},B=we({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),H=we({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),W=n(""),X=n(""),j=n({start_date:"",end_date:""});fe([W],()=>{const O=new Date(W.value),te=O.getFullYear(),ke=String(O.getMonth()+1).padStart(2,"0"),Z=String(O.getDate()).padStart(2,"0");j.value.start_date=`${te}-${ke}-${Z}`}),fe([X],()=>{const O=new Date(X.value),te=O.getFullYear(),ke=String(O.getMonth()+1).padStart(2,"0"),Z=String(O.getDate()).padStart(2,"0");j.value.end_date=`${te}-${ke}-${Z}`});const y=()=>{k.value=!0,V.get("/web/filter-pallet",{params:{start_date:j.value.start_date,end_date:j.value.end_date,site_id:r.site_id}}).then(O=>{k.value=!1,d.value=O.data.data,_.value=O.data.sum}).catch(O=>{console.error(O)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},D=()=>{r.id="",r.user_id=m.user.id,r.date="",r.allocatedpalletspace="",r.spaceuteltotal="",r.caseperpallet=""},i=({resetForm:O,setErrors:te})=>{V.post("/web/pallet",{site_id:r.site_id,user_id:r.user_id,date:r.date,allocatedpalletspace:r.allocatedpalletspace,spaceuteltotal:r.spaceuteltotal,caseperpallet:r.caseperpallet}).then(ke=>{f(),$("#FormModal").modal("hide"),D(),l.success("User created successfully!")}).catch(function(ke){ke.response?l.error(ke.response.data.message):ke.request?l.error(ke.request):l.error("Error",ke.message)})},T=()=>{V.get("/web/getsite").then(O=>{h.value=O.data.sites}).catch(O=>{console.log(O)})},R=()=>{f(r.site_id)},ae=()=>{if(!r.site_id||r.site_id.length===0){g.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}U.value=!1,$("#FormModal").modal("show")},J=O=>{U.value=!0,r.id=O.id,r.user_id=O.user_id,r.site_id=O.site_id,r.date=O.date,r.allocatedpalletspace=O.allocatedpalletspace,r.spaceuteltotal=O.spaceuteltotal,r.caseperpallet=O.caseperpallet,$("#FormModal").modal("show")},oe=({setErrors:O})=>{V.post("/web/pallet",r).then(te=>{D(),f(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(te=>{O(te.response.data.errors),console.log(te)})},ve=(O,te)=>{U.value?oe(O):i(O)},S=n(null),v=n([]),M=O=>{const te=v.value.indexOf(O.id);te===-1?v.value.push(O.id):v.value.splice(te,1),console.log(v.value)},x=n(null),w=()=>{V.delete(`/web/pallet/${x.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),d.value.data=d.value.data.filter(O=>O.id!==x.value)})},he=()=>{V.delete("/web/bulkDelete",{data:{ids:v.value}}).then(O=>{f(),v.value=[],K.value=!1,l.success(O.data.message)})},Y=()=>{if(!r.site_id||r.site_id.length===0){g.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},K=n(!1);return fe([b],O=>{r.is_active=O?1:0}),fe(S,Pe.exports.debounce(()=>{f()},300)),ue(()=>{T(),document.title=u}),(O,te)=>{const ke=xe("font");return t(),a(N,null,[e("div",y$,[e("div",k$,[e("div",x$,[e("div",w$,[e("button",{onClick:ae,type:"button",class:"mb-2 btn btn-primary"},[C$,L(" Pallet ")]),v.value.length>0?(t(),a("div",S$,[e("button",{onClick:he,type:"button",class:"ml-2 mb-2 btn btn-danger"},[M$,L(" Delete Selected ")]),e("span",U$,"Selected "+s(v.value.length)+" Pallet",1)])):A("",!0)])]),e("div",D$,[e("div",V$,[e("div",A$,[e("div",T$,[Q(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":te[0]||(te[0]=Z=>r.site_id=Z),onChange:te[1]||(te[1]=Z=>R())},[E$,(t(!0),a(N,null,G(h.value,Z=>(t(),a("option",{key:Z.id,value:Z.id},s(Z.site_name),9,P$))),128))],544),[[Te,r.site_id]])])]),e("div",F$,[L$,e("div",I$,[Q(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":te[2]||(te[2]=Z=>E.value=Z)},null,512),[[Me,E.value]]),Y$,L("\xA0"),e("i",{class:"fa fa-filter mr-1",onClick:Y})])])]),e("div",B$,[k.value?(t(),re(c(Ee),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[q$,N$,R$,j$]),_:1})):(t(),a("div",H$,[C(ke,{size:"2"},{default:ee(()=>[e("table",O$,[e("thead",null,[e("tr",null,[z$,G$,Q$,W$,K$,X$,E.value?(t(),a("th",J$,"Case per Pallet")):A("",!0),E.value?(t(),a("th",Z$,"Cost")):A("",!0),eg,tg])]),d.value.length>0?(t(),a("tbody",sg,[(t(!0),a(N,null,G(d.value,(Z,Se)=>(t(),a("tr",{key:Z.id,item:Z,index:Se},[e("td",null,[e("input",{type:"checkbox",checked:K.value,onChange:M},null,40,og)]),e("td",null,s(c(be)(Z.date).format("MMMM DD, YY")),1),e("td",null,s(Z.allocatedpalletspace),1),e("td",null,s(Z.spaceuteltotal),1),e("td",null,s(Z.spacetotalutelpercent),1),e("td",null,s(Z.excess),1),E.value?(t(),a("td",lg,s(Z.caseperpallet),1)):A("",!0),E.value?(t(),a("td",ng,s(Z.cost),1)):A("",!0),e("td",null," EXCESS "+s(Z.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:Be=>J(Z)},cg,8,dg)])],8,ag))),128)),E.value?(t(),a("tr",rg,[ug,e("td",_g,[e("b",null,s(_.value),1)])])):A("",!0)])):(t(),a("tbody",mg,pg))])]),_:1})]))])])])]),e("div",vg,[e("div",bg,[e("div",fg,[e("div",$g,[e("h5",gg,[U.value?(t(),a("span",yg,"Edit Pallet")):(t(),a("span",kg,"Add Pallet"))]),xg]),C(c(Ue),{onSubmit:ve,"validation-schema":U.value?c(H):c(B)},{default:ee(({errors:Z})=>[e("div",wg,[e("div",Cg,[e("div",Sg,[e("div",Mg,[C(c(z),{modelValue:r.user_id,"onUpdate:modelValue":te[3]||(te[3]=Se=>r.user_id=Se),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Ug,[Dg,C(c(z),{name:"date",type:"date",class:P(["form-control",{"is-invalid":Z.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:r.date,"onUpdate:modelValue":te[4]||(te[4]=Se=>r.date=Se)},null,8,["class","modelValue"]),e("span",Vg,s(Z.date),1)]),e("div",Ag,[Tg,C(c(z),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":Z.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:r.allocatedpalletspace,"onUpdate:modelValue":te[5]||(te[5]=Se=>r.allocatedpalletspace=Se)},null,8,["class","modelValue"]),e("span",Eg,s(Z.allocatedpalletspace),1)]),e("div",Pg,[Fg,C(c(z),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":Z.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:r.spaceuteltotal,"onUpdate:modelValue":te[6]||(te[6]=Se=>r.spaceuteltotal=Se),required:""},null,8,["class","modelValue"]),e("span",Lg,s(Z.spaceuteltotal),1)]),e("div",Ig,[Yg,C(c(z),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":Z.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:r.caseperpallet,"onUpdate:modelValue":te[7]||(te[7]=Se=>r.caseperpallet=Se)},null,8,["class","modelValue"]),e("span",Bg,s(Z.caseperpallet),1)])])])])]),qg]),_:1},8,["validation-schema"])])])]),e("div",Ng,[e("div",Rg,[e("div",jg,[Hg,e("div",Og,[zg,e("button",{onClick:de(w,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",Gg,[e("div",Qg,[e("div",Wg,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(u)+" Report")]),Kg]),e("div",Xg,[e("div",Jg,[e("div",null,[Zg,C(c(Le),{modelValue:W.value,"onUpdate:modelValue":te[8]||(te[8]=Z=>W.value=Z)},null,8,["modelValue"])]),e("div",null,[ey,C(c(Le),{modelValue:X.value,"onUpdate:modelValue":te[9]||(te[9]=Z=>X.value=Z)},null,8,["modelValue"])])])]),e("div",ty,[sy,e("button",{onClick:te[10]||(te[10]=Z=>y()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var oy=ye(ay,[["__scopeId","data-v-4f25c02b"]]);const ly=o=>(Ve("data-v-2d546e88"),o=o(),Ae(),o),ny={class:"content"},dy={class:"container-fluid"},iy={class:"row"},cy={class:"col-md-6"},ry={class:"card"},uy={class:"card-title"},_y={class:"form-group m-3"},my=ly(()=>e("option",{value:"",disabled:""}," Select User ",-1)),hy=["value"],py={class:"card-body"},vy={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},by={class:"custom-control custom-checkbox"},fy=["value","id","checked"],$y=["for"],gy={class:"card-footer"},yy={__name:"UserSite",setup(o){_e();const g=`${$e().name}`,u=me();n({data:[]}),n({data:[]}),n(!1),n(!1),n(),n(!0);const l=De({user_id:""});n(null),n();const d=n(),h=n(),k=n([]),U=()=>{V.get("/api/users/userlist").then(r=>{h.value=r.data}).catch(r=>{console.log(r)})},m=r=>{r!==null?V.get(`/web/usersite/${r}`).then(_=>{d.value=_.data}).catch(_=>{console.error("Error fetching site data for user:",_)}):V.get("/web/getsitewithoutuser").then(_=>{d.value=_.data}).catch(_=>{console.error("Error fetching site data without user:",_)})},E=()=>{const r={user_id:l.user_id,site_id:k.value};console.log(r),V.post("/web/onSaveupdate",r).then(_=>{u.success("User Site Save successfully!")}).catch(_=>{setErrors(_.response.data.errors)})},b=r=>{m(r)};return ue(()=>{U(),m(),document.title=g}),(r,_)=>(t(),a("div",ny,[e("div",dy,[e("div",iy,[e("div",cy,[e("div",ry,[e("div",uy,[e("div",_y,[C(c(z),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":_[0]||(_[0]=f=>l.user_id=f),onChange:_[1]||(_[1]=f=>b(l.user_id))},{default:ee(()=>[my,(t(!0),a(N,null,G(h.value,f=>(t(),a("option",{key:f.id,value:f.id},s(f.name),9,hy))),128))]),_:1},8,["modelValue"])])]),e("div",py,[e("ul",vy,[(t(!0),a(N,null,G(d.value,f=>(t(),a("li",{key:f.id,class:"list-group-item"},[e("div",by,[Q(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":_[2]||(_[2]=B=>k.value=B),value:f.id,id:"site_id_"+f.id,checked:f.hasAccess},null,8,fy),[[Me,k.value]]),e("label",{for:"site_id_"+f.id,class:"custom-control-label"},s(f.site_name),9,$y)])]))),128))]),e("div",gy,[e("button",{type:"button",onClick:_[3]||(_[3]=f=>E()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var ky=ye(yy,[["__scopeId","data-v-2d546e88"]]),xy=[{path:"/login",name:"admin.login",component:Fn},{path:"/dashboard",name:"Dashboard",component:Ut},{path:"/appointments",name:"Appointments",component:Wt},{path:"/appointments/create",name:"Appointments",component:We},{path:"/appointments/:id/edit",name:"Appointments",component:We},{path:"/user",name:"User",component:To},{path:"/settings",name:"Setting",component:kl},{path:"/profile",name:"Profile",component:vn},{path:"/client",name:"Client",component:Ed},{path:"/tech-recommendation",name:"Tech Recomm",component:Jc},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:em},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Vp},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Eh},{path:"/usermenu",name:"User Menu",component:Sv},{path:"/menu",name:"Menu",component:W1},{path:"/:catchAll(.*)",name:"404 Error Page",component:tt},{path:"/notifications",name:"Notifications",component:of},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:st},{path:"/asset-monitoring",name:"Asset Monitoring",component:g$},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:oy},{path:"/usersite",name:"User Site",component:ky}];const wy={class:"navbar-nav"},Cy=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),Sy={class:"nav-item d-none d-sm-inline-block"},My={class:"navbar-nav ml-auto"},Uy=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Dy=Ce('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),Vy={class:"nav-link","data-toggle":"dropdown",href:"#"},Ay=e("i",{class:"far fa-bell"},null,-1),Ty={class:"badge badge-warning navbar-badge"},Ey={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Py={class:"dropdown-header"},Fy=e("div",{class:"dropdown-divider"},null,-1),Ly=e("i",{class:"fas fa-envelope mr-2"},null,-1),Iy={class:"float-right text-muted text-sm"},Yy={key:1,class:"text-center text-muted py-3"},By=e("div",{class:"dropdown-divider"},null,-1),qy=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Ny=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),Ry={__name:"AppNavbar",setup(o){const g=qe(),u=n([]),l=()=>{V.get("/api/notifications").then(d=>{u.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return ue(()=>{l()}),(d,h)=>{const k=xe("router-link");return t(),a("nav",{class:P(["main-header navbar navbar-expand",c(g).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",wy,[Cy,e("li",Sy,[e("a",{onClick:h[0]||(h[0]=de((...U)=>c(g).changeTheme&&c(g).changeTheme(...U),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:P(["far",c(g).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",My,[Uy,Dy,e("li",{class:"nav-item dropdown",onClick:l},[e("a",Vy,[Ay,e("span",Ty,s(u.value.length),1)]),e("div",Ey,[e("span",Py,s(u.value.length)+" Notifications",1),Fy,u.value.length>0?(t(!0),a(N,{key:0},G(u.value,U=>(t(),a("a",{key:U.id,href:"#",class:"dropdown-item"},[Ly,L(" "+s(U.data?U.data:"No message available")+" ",1),e("span",Iy,s(c(be)(U.created_at)),1)]))),128)):(t(),a("p",Yy,"No new notifications")),By,C(k,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:ee(()=>[L("See All Notifications")]),_:1})])]),qy,Ny])],2)}}},jy={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},Hy={href:"#",class:"brand-link"},Oy=["src"],zy={class:"brand-text font-weight-light"},Gy={class:"sidebar"},Qy={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Wy={key:0,class:"image"},Ky=["src"],Xy={key:1,class:"image"},Jy=["src"],Zy=["src"],e2={class:"info"},t2={href:"#",class:"d-block"},s2={class:"mt-2"},a2={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},o2={key:0,class:"right fas fa-angle-left"},l2={key:0,class:"nav nav-treeview"},n2={class:"nav-item"},d2={class:"nav-link"},i2=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),c2=e("p",null,"Logout",-1),r2=[i2,c2],u2={__name:"SidebarLeft",setup(o){const g=Oe(),u=_e(),l=qe(),d=n({data:[]}),h=()=>{axios.get("/api/menu").then(m=>{d.value=m.data}).catch(m=>{console.log(m)})},k=m=>m===g.currentRoute.value.path,U=()=>{axios.post("/logout").then(m=>{u.user.name="",g.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),h()}),(m,E)=>{const b=xe("router-link");return t(),a("aside",jy,[e("a",Hy,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Oy),e("span",zy,s(c(l).setting.app_name),1)]),e("div",Gy,[e("div",Qy,[c(u).user.avatar===""?(t(),a("div",Wy,[e("img",{src:c(u).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Ky)])):c(u).user.avatar!==""?(t(),a("div",Xy,[c(u).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Jy)):c(u).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Zy)):A("",!0)])):A("",!0),e("div",e2,[e("a",t2,s(c(u).user.name),1)])]),e("nav",s2,[e("ul",a2,[(t(!0),a(N,null,G(d.value,r=>(t(),a("li",{key:r.id,class:P({"nav-item":!0,"has-submenu":r.submenus&&r.submenus.length>0})},[C(b,{class:P({"nav-link":!0,active:k(r.menu_route)}),to:`${r.menu_route}`},{default:ee(()=>[e("i",{class:P("nav-icon "+r.menu_icon)},null,2),e("p",null,s(r.menu_title),1),r.submenus&&r.submenus.length>0?(t(),a("i",o2)):A("",!0)]),_:2},1032,["class","to"]),r.submenus&&r.submenus.length>0?(t(),a("ul",l2,[(t(!0),a(N,null,G(r.submenus,_=>(t(),a("li",{key:_.id,class:"nav-item"},[C(b,{class:P({"nav-link":!0,active:k(_.menu_route)}),to:_.menu_route},{default:ee(()=>[e("i",{class:P("nav-icon "+_.menu_icon)},null,2),e("p",null,s(_.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):A("",!0)],2))),128)),e("li",n2,[e("form",d2,[e("a",{href:"#",onClick:de(U,["prevent"])},r2)])])])])])])}}},_2={},m2={class:"control-sidebar control-sidebar-dark"},h2=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),p2=[h2];function v2(o,g){return t(),a("aside",m2,p2)}var b2=ye(_2,[["render",v2]]);const f2={class:"main-footer"},$2={class:"float-right d-none d-sm-block"},g2={href:"#"},y2={__name:"AppFooter",props:{settings:Object},setup(o){const g=_e(),u=n(new Date().getFullYear());return(l,d)=>{var h;return t(),a("footer",f2,[e("div",$2,s(c(g).user.name),1),e("strong",null,[L("Copyright \xA9 "+s(u.value)+" ",1),e("a",g2,s((h=o.settings)==null?void 0:h.app_name),1),L(".")]),L(" All rights reserved. ")])}}};const k2=o=>(Ve("data-v-36653638"),o=o(),Ae(),o),x2={class:"content-wrapper"},w2={class:"content-header"},C2={class:"container-fluid"},S2={class:"row mb-2"},M2={class:"col-sm-6"},U2={class:"m-0"},D2={class:"col-sm-6"},V2={class:"breadcrumb float-sm-right"},A2=k2(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),T2={class:"breadcrumb-item active"},E2={__name:"CustomMainLayout",setup(o){const g=_e(),u=qe(),l=Fe(()=>u.theme==="dark"?"dark-mode":"");return(d,h)=>{const k=xe("router-view");return c(g).user.name!==""?(t(),a("div",{key:0,class:P(["wrapper",l.value])},[C(Ry),C(u2),C(b2),e("div",x2,[e("section",w2,[e("div",C2,[e("div",S2,[e("div",M2,[e("h1",U2,s(d.$route.name),1)]),e("div",D2,[e("ol",V2,[A2,e("li",T2,s(d.$route.name),1)])])])])]),C(k)]),C(y2)],2)):(t(),a("div",{key:1,class:P(["login-page slibg",l.value])},[C(k)],2))}}};var P2=ye(E2,[["__scopeId","data-v-36653638"]]);const F2={__name:"App",setup(o){_e();const g=$e(),u=Fe(()=>g.name==="Tech-Approved"),l=Fe(()=>g.name==="404 Error Page");return(d,h)=>(t(),a("div",null,[!l.value&&!u.value?(t(),re(P2,{key:0})):u.value?(t(),re(st,{key:1})):(t(),re(tt,{key:2}))]))}};var L2=ye(F2,[["__scopeId","data-v-252b567e"]]);const I2=it(),Ne=ut(L2),at=ct({routes:xy,history:rt()});at.beforeEach(async(o,g)=>{const u=_e();if(u.user.name===""&&o.name!=="admin.login"){const l=qe();await Promise.all([u.getAuthUser(),l.getSetting()])}});Ne.use(I2);Ne.use(at);Ne.use(yt);Ne.use(Ze);Ne.mount("#app");
