import{_ as bt,l as Ae}from"./lodash.d4ecb7e7.js";import{a as q}from"./axios.82d3905a.js";import{a as ft}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as rt,c as $t}from"./pinia.210ccde5.js";import{u as fe,a as Qe,c as yt,b as gt}from"./vue-router.abad5649.js";import{r,o as me,i as o,k as e,x as t,_ as p,u,e as a,I as we,h as Z,j as M,F as B,q as X,d as be,a0 as se,v as L,C as Me,a2 as te,a3 as ce,aa as Te,p as A,w as he,ab as Ce,f as re,B as Oe,a5 as Se,a6 as De,ac as st,ad as Ee,a1 as tt,ae as kt}from"./@vue.04713aa0.js";import{B as wt}from"./vue-chartjs.50c6886f.js";import{C as xt,p as Ct,a as St,b as Dt,c as Vt,d as Ut,L as Mt}from"./chart.js.562acd0f.js";import{S as nt}from"./sweetalert2.c578665c.js";import{t as Je}from"./toastr.c863df60.js";import{F as Ue,a as H}from"./vee-validate.1443789f.js";import{f as ut}from"./flatpickr.181c7977.js";import{c as xe,a as N}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as ue}from"./moment.40bc58bf.js";import{a as Fe}from"./laravel-vue-pagination.475a8c82.js";import{C as At}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as Pt}from"./@vueuse.5a8c8091.js";import{L as qe}from"./vue3-datepicker.da50a26b.js";import Ge from"./html2canvas.4d0ab5af.js";import{h as at}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{V as Tt}from"./vue-sweetalert2.891f877f.js";import{d as Et}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=bt;window.axios=q;window.$=window.jQuery=ft;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=rt("AuthUserStore",()=>{const s=r({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:"",sitehead_user_id:""});return{user:s,getAuthUser:async()=>{await q.get("/api/profile").then(m=>{s.value=m.data})}}}),qt={class:"content"},Ft={class:"container-fluid"},Lt={class:"card"},It={class:"card-header"},Rt={class:"card-body"},Nt=e("div",{class:"row"},null,-1),Yt={__name:"Dashboard",setup(s){xt.register(Ct,St,Dt,Vt,Ut,Mt);const b=`${fe().name}`;_e(),r("all"),r(0);const m=r(new Date().getFullYear()),l=r({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),c=()=>{axios.get("/api/chart").then(d=>{d.data,l.value=d.data}).catch(d=>{console.error("Error fetching chart data:",d)})},n=r("today"),_=r(0),k=()=>{axios.get("/api/stats/users",{params:{date_range:n.value}}).then(d=>{_.value=d.data.totalUsersCount})};return me(()=>{c(),k(),document.title=b}),(d,w)=>(a(),o("div",qt,[e("div",Ft,[e("div",Lt,[e("div",It," Yearly Progress - "+t(m.value),1),e("div",Rt,[p(u(wt),{data:l.value},null,8,["data"])])]),Nt])]))}},Bt={class:"content"},jt={class:"container-fluid"},Ht={class:"row"},Ot={class:"col-lg-12"},zt={class:"d-flex justify-content-between mb-2"},Jt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),L(" Add New Appointment")],-1),Gt={class:"btn-group"},Qt=e("span",{class:"mr-1"},"All",-1),Wt={class:"badge badge-pill badge-info"},Kt=["onClick"],Xt={class:"mr-1"},Zt={class:"card"},es={class:"card-body"},ts={class:"table table-bordered"},ss=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),as=e("td",null,null,-1),os=e("i",{class:"fa fa-edit mr-2"},null,-1),ls=["onClick"],ns=e("i",{class:"fa fa-trash text-danger"},null,-1),ds=[ns],is={__name:"ListAppointments",setup(s){const b=r(),m=r([]),l=()=>{q.get("/api/appointment-status").then(w=>{m.value=w.data})},c=r([]),n=w=>{b.value=w;const f={};w&&(f.status=w),q.get("/api/appointments",{params:f}).then(D=>{c.value=D.data,console.log(D)})},_=we(()=>m.value.map(w=>w.count).reduce((w,f)=>w+f,0)),k=w=>{const f=c.value.data.find(i=>i.id===w).status.name,D=m.value.find(i=>i.name===f);D.count--},d=w=>{nt.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(f=>{f.isConfirmed&&q.delete(`/api/appointments/${w}`).then(D=>{k(w),c.value.data=c.value.data.filter(i=>i.id!==w),nt.fire("Deleted!","Your file has been deleted.","success")})})};return me(()=>{n(),l()}),(w,f)=>{const D=be("router-link");return a(),o("div",Bt,[e("div",jt,[e("div",Ht,[e("div",Ot,[e("div",zt,[e("div",null,[p(D,{to:"/admin/appointments/create"},{default:Z(()=>[Jt]),_:1})]),e("div",Gt,[e("button",{onClick:f[0]||(f[0]=i=>n()),type:"button",class:M(["btn",[typeof b.value=="undefined"?"btn-secondary":"btn-default"]])},[Qt,e("span",Wt,t(_.value),1)],2),(a(!0),o(B,null,X(m.value,i=>(a(),o("button",{key:i.id,onClick:C=>n(i.value),type:"button",class:M(["btn",[b.value===i.value?"btn-secondary":"btn-default"]])},[e("span",Xt,t(i.name),1),e("span",{class:M(["badge badge-pill",`badge-${i.color}`])},t(i.count),3)],10,Kt))),128))])]),e("div",Zt,[e("div",es,[e("table",ts,[ss,e("tbody",null,[(a(!0),o(B,null,X(c.value.data,(i,C)=>(a(),o("tr",{key:i.id},[e("td",null,t(C+1),1),e("td",null,t(i.client.first_name)+" "+t(i.client.last_name),1),e("td",null,t(i.start_time),1),e("td",null,t(i.end_time),1),as,e("td",null,[p(D,{to:`/admin/appointments/${i.id}/edit`},{default:Z(()=>[os]),_:2},1032,["to"]),e("a",{href:"#",onClick:se(j=>d(i.id),["prevent"])},ds,8,ls)])]))),128))])])])])])])])])}}};function pe(){return Je.options.positionClass="toast-top-right",Je.options.closeButton=!0,Je.options.progressBar=!0,Je}const cs={class:"content-header"},rs={class:"container-fluid"},us={class:"row mb-2"},_s={class:"col-sm-6"},ms={class:"m-0"},ps={key:0},hs={key:1},vs={class:"col-sm-6"},bs={class:"breadcrumb float-sm-right"},fs={class:"breadcrumb-item"},$s={class:"breadcrumb-item"},ys={class:"breadcrumb-item active"},gs={key:0},ks={key:1},ws={class:"content"},xs={class:"container-fluid"},Cs={class:"row"},Ss={class:"col-lg-12"},Ds={class:"card"},Vs={class:"card-body"},Us={class:"row"},Ms={class:"col-md-6"},As={class:"form-group"},Ps=e("label",{for:"title"},"Title",-1),Ts={class:"invalid-feedback"},Es={class:"col-md-6"},qs={class:"form-group"},Fs=e("label",{for:"client"},"Client Name",-1),Ls=["value"],Is={class:"invalid-feedback"},Rs={class:"row"},Ns={class:"col-md-6"},Ys={class:"form-group"},Bs=e("label",{for:"start-time"},"Start Time",-1),js={class:"invalid-feedback"},Hs={class:"col-md-6"},Os={class:"form-group"},zs=e("label",{for:"end-time"},"End Time",-1),Js={class:"invalid-feedback"},Gs={class:"form-group"},Qs=e("label",{for:"description"},"Description",-1),Ws={class:"invalid-feedback"},Ks=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),dt={__name:"AppointmentForm",setup(s){const b=Qe(),m=fe(),l=pe(),c=Me({title:"",client_id:"",start_time:"",end_time:"",description:""}),n=(i,C)=>{D.value?k(i,C):_(i,C)},_=(i,C)=>{q.post("/api/appointments/create",c).then(j=>{b.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(j=>{C.setErrors(j.response.data.errors)})},k=(i,C)=>{q.put(`/api/appointments/${m.params.id}/edit`,c).then(j=>{b.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(j=>{C.setErrors(j.response.data.errors)})},d=r(),w=()=>{q.get("/api/view-clients").then(i=>{d.value=i.data})},f=()=>{q.get(`/api/appointments/${m.params.id}/edit`).then(({data:i})=>{c.title=i.title,c.client_id=i.client_id,c.start_time=i.formatted_start_time,c.end_time=i.formatted_end_time,c.description=i.description})},D=r(!1);return me(()=>{m.name==="admin.appointments.edit"&&(D.value=!0,f()),ut(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),w()}),(i,C)=>{const j=be("router-link");return a(),o(B,null,[e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[e("h1",ms,[D.value?(a(),o("span",ps,"Edit")):(a(),o("span",hs,"Create")),L(" Appointment")])]),e("div",vs,[e("ol",bs,[e("li",fs,[p(j,{to:"/admin/dashboard"},{default:Z(()=>[L("Home")]),_:1})]),e("li",$s,[p(j,{to:"/admin/appointments"},{default:Z(()=>[L("Appointments")]),_:1})]),e("li",ys,[D.value?(a(),o("span",gs,"Edit")):(a(),o("span",ks,"Create"))])])])])])]),e("div",ws,[e("div",xs,[e("div",Cs,[e("div",Ss,[e("div",Ds,[e("div",Vs,[p(u(Ue),{onSubmit:n},{default:Z(({errors:O})=>[e("div",Us,[e("div",Ms,[e("div",As,[Ps,te(e("input",{"onUpdate:modelValue":C[0]||(C[0]=G=>c.title=G),type:"text",class:M(["form-control",{"is-invalid":O.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ce,c.title]]),e("span",Ts,t(O.title),1)])]),e("div",Es,[e("div",qs,[Fs,te(e("select",{"onUpdate:modelValue":C[1]||(C[1]=G=>c.client_id=G),id:"client",class:M(["form-control",{"is-invalid":O.client_id}])},[(a(!0),o(B,null,X(d.value,G=>(a(),o("option",{value:G.id,key:G.id},t(G.first_name)+" "+t(G.last_name),9,Ls))),128))],2),[[Te,c.client_id]]),e("span",Is,t(O.client_id),1)])])]),e("div",Rs,[e("div",Ns,[e("div",Ys,[Bs,te(e("input",{"onUpdate:modelValue":C[2]||(C[2]=G=>c.start_time=G),type:"text",class:M(["form-control flatpickr",{"is-invalid":O.start_time}]),id:"start-time"},null,2),[[ce,c.start_time]]),e("span",js,t(O.start_time),1)])]),e("div",Hs,[e("div",Os,[zs,te(e("input",{"onUpdate:modelValue":C[3]||(C[3]=G=>c.end_time=G),type:"text",class:M(["form-control flatpickr",{"is-invalid":O.end_time}]),id:"end-time"},null,2),[[ce,c.end_time]]),e("span",Js,t(O.end_time),1)])])]),e("div",Gs,[Qs,te(e("textarea",{"onUpdate:modelValue":C[4]||(C[4]=G=>c.description=G),class:M(["form-control",{"is-invalid":O.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ce,c.description]]),e("span",Ws,t(O.description),1)]),Ks]),_:1})])])])])])])],64)}}},Xs=["checked"],Zs=["value","selected"],ea=["value","selected"],ta=e("i",{class:"fa fa-edit"},null,-1),sa=[ta],aa=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),oa=[aa],la={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:b}){const m=pe(),l=s,c=b,n=r([{name:"ADMIN",value:1},{name:"USER",value:2}]),_=r([]),k=()=>{q.get("/api/users/userlist").then(D=>{_.value=D.data}).catch(D=>{console.log(D)})},d=(D,i)=>{q.patch(`/api/users/${D.id}/change-role`,{role:i}).then(()=>{m.success("Role changed successfully!")})},w=(D,i)=>{q.patch(`/api/users/${D.id}/change-sitehead`,{sitehead_user_id:i}).then(()=>{m.success("Sitehead changed successfully!")})},f=()=>{c("toggleSelection",l.user)};return me(()=>{k()}),(D,i)=>(a(),o("tr",null,[e("td",null,[s.user.name!="admin"?(a(),o("input",{key:0,type:"checkbox",checked:s.selectAll,onChange:f},null,40,Xs)):A("",!0)]),e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:i[0]||(i[0]=C=>d(s.user,C.target.value))},[(a(!0),o(B,null,X(n.value,C=>(a(),o("option",{key:C.id,value:C.value,selected:s.user.role===C.name},t(C.name),9,Zs))),128))],32)]),e("td",null,[s.user.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:i[1]||(i[1]=C=>w(s.user,C.target.value))},[(a(!0),o(B,null,X(_.value,C=>(a(),o("option",{key:C.id,value:C.id,selected:s.user.sitehead_user_id===C.id},t(C.first_name+" "+C.last_name),9,ea))),128))],32)):A("",!0)]),e("td",null,[e("a",{href:"#",onClick:i[2]||(i[2]=se(C=>D.$emit("editUser",s.user),["prevent"]))},sa),s.user.id!=1?(a(),o("a",{key:0,href:"#",onClick:i[3]||(i[3]=se(C=>D.$emit("confirmUserDeletion",s.user.id),["prevent"]))},oa)):A("",!0)])]))}},na={class:"content"},da={class:"container-fluid"},ia={class:"d-flex justify-content-between mb-2"},ca={class:"d-flex"},ra=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ua={key:0},_a=e("i",{class:"fa fa-trash mr-1"},null,-1),ma={class:"ml-2"},pa={class:"card"},ha={class:"card-body"},va={class:"dispatch-table"},ba={class:"table-responsive"},fa={class:"table table-bordered table-hover table-sm"},$a=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Department Head"),e("th",null,"Action")])],-1),ya={key:0},ga={key:1},ka=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),wa=[ka],xa=["index"],Ca={class:"card"},Sa={class:"card-body"},Da={class:"list-field"},Va=e("span",{class:"mb-1 dis"},"Name:",-1),Ua={class:"list-field"},Ma=e("span",{class:"mb-1 dis"},"Email:",-1),Aa={class:"list-field"},Pa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ta={class:"list-field"},Ea=e("span",{class:"mb-1 dis"},"Site Head:",-1),qa=["onChange"],Fa=["value","selected"],La=e("hr",null,null,-1),Ia={class:"row"},Ra={key:0,class:"col"},Na=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ba=["onClick"],ja=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Ha=[ja],Oa={key:1,class:"col"},za=["onClick"],Ja=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ga={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qa={class:"modal-dialog",role:"document"},Wa={class:"modal-content"},Ka={class:"modal-header"},Xa={class:"modal-title",id:"staticBackdropLabel"},Za={key:0},eo={key:1},to=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),so={class:"modal-body"},ao={class:"form-group"},oo=e("label",{for:"name"},"Username",-1),lo={class:"invalid-feedback"},no={class:"d-flex justify-content-between"},io={class:"d-flex"},co={class:"form-group"},ro=e("label",{for:"email"},"Email",-1),uo={class:"invalid-feedback"},_o={class:"d-flex"},mo={class:"form-group"},po=e("label",{for:"siteDropdown"},"Gender",-1),ho=e("option",{value:"",disabled:""}," Select a gender ",-1),vo=["value"],bo={class:"d-flex justify-content-between"},fo={class:"d-flex"},$o={class:"form-group"},yo=e("label",{for:"first_name"},"Fist Name",-1),go={class:"invalid-feedback"},ko={class:"d-flex"},wo={class:"form-group"},xo=e("label",{for:"last_name"},"Last Name",-1),Co={class:"invalid-feedback"},So={class:"form-group"},Do=e("label",{for:"position"},"Position",-1),Vo={class:"invalid-feedback"},Uo={class:"form-group"},Mo=e("label",{for:"password"},"Password",-1),Ao={class:"invalid-feedback"},Po=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),To={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Eo={class:"modal-dialog",role:"document"},qo={class:"modal-content"},Fo=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Lo={class:"modal-footer"},Io=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ro={__name:"UserList",setup(s){const b=`${fe().name}`,m=_e(),l=pe(),c=r({data:[]}),n=r(!1),_=r(),k=r(null);r([]),r(null);const d=r([{name:"Male",value:1},{name:"Female",value:2}]),w=(I=1)=>{q.get(`/api/users?page=${I}`,{params:{query:Q.value}}).then(U=>{c.value=U.data,S.value=[],K.value=!1})},f=xe({name:N().required(),last_name:N().required(),first_name:N().required(),email:N().email().required(),password:N().required().min(8),gender:N().required()}),D=xe({name:N().required(),last_name:N().required(),first_name:N().required(),email:N().email().required(),password:N().when((I,U)=>I?U.required().min(8):U),gender:N().required()}),i=r([]),C=()=>{q.get("/api/users/userlist").then(I=>{i.value=I.data}).catch(I=>{console.log(I)})},j=(I,U)=>{q.patch(`/api/users/${I.id}/change-sitehead`,{sitehead_user_id:U}).then(()=>{l.success("Sitehead changed successfully!")})},O=(I,{resetForm:U,setErrors:y})=>{q.post("/api/users",I).then(x=>{c.value.data.unshift(x.data),$("#userFormModal").modal("hide"),U(),l.success("User created successfully!")}).catch(x=>{x.response.data.errors&&(y(x.response.data.errors),l.warning(x.response.data.errors.name))})},G=()=>{n.value=!1,$("#userFormModal").modal("show")},ee=I=>{n.value=!0,k.value.resetForm(),$("#userFormModal").modal("show"),_.value={id:I.id,name:I.name,email:I.email,sitehead_user_id:I.sitehead_user_id,first_name:I.first_name,last_name:I.last_name,gender:I.gender}},P=(I,{setErrors:U})=>{q.put("/api/users/"+_.value.id,I).then(y=>{const x=c.value.data.findIndex(de=>de.id===y.data.id);c.value.data[x]=y.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(y=>{U(y.response.data.errors),console.log(y)})},Y=(I,U)=>{n.value?P(I,U):O(I,U)},Q=r(null),S=r([]),v=I=>{const U=S.value.indexOf(I.id);U===-1?S.value.push(I.id):S.value.splice(U,1),console.log(S.value)},R=r(null),V=I=>{R.value=I,$("#deleteUserModal").modal("show")},z=()=>{q.delete(`/api/users/${R.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),c.value.data=c.value.data.filter(I=>I.id!==R.value)})},ie=()=>{q.delete("/api/users",{data:{ids:S.value}}).then(I=>{c.value.data=c.value.data.filter(U=>!S.value.includes(U.id)),S.value=[],K.value=!1,l.success(I.data.message)})},K=r(!1);return he(Q,Ae.exports.debounce(()=>{w()},300)),me(()=>{w(),C(),document.title=b}),(I,U)=>{const y=be("font");return a(),o(B,null,[e("div",na,[e("div",da,[e("div",ia,[e("div",ca,[e("button",{onClick:G,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ra,L(" User ")]),S.value.length>0?(a(),o("div",ua,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[_a,L(" Delete Selected ")]),e("span",ma,"Selected "+t(S.value.length)+" users",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":U[0]||(U[0]=x=>Q.value=x),class:"form-control",placeholder:"Search..."},null,512),[[ce,Q.value]])])]),e("div",pa,[e("div",ha,[e("div",va,[e("div",ba,[p(y,{size:"2"},{default:Z(()=>[e("table",fa,[$a,c.value.data.length>0?(a(),o("tbody",ya,[(a(!0),o(B,null,X(c.value.data,(x,de)=>(a(),re(la,{key:x.id,user:x,index:de,onEditUser:ee,onConfirmUserDeletion:V,onToggleSelection:v,"select-all":K.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",ga,wa))])]),_:1})])]),(a(!0),o(B,null,X(c.value.data,(x,de)=>(a(),o("div",{class:"dispatch-list",key:x.id,index:de},[e("div",Ca,[e("div",Sa,[e("div",Da,[Va,e("span",null,t(x.first_name+" "+x.last_name),1)]),e("div",Ua,[Ma,e("span",null,t(x.email),1)]),e("div",Aa,[Pa,e("span",null,t(x.formatted_created_at),1)]),e("div",Ta,[Ea,e("span",null,[x.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:le=>j(x,le.target.value)},[(a(!0),o(B,null,X(i.value,le=>(a(),o("option",{key:le.id,value:le.id,selected:le.sitehead_user_id===le.id},t(le.first_name+" "+le.last_name),9,Fa))),128))],40,qa)):A("",!0)])]),La,e("div",Ia,[u(m).user.role==="ADMIN"?(a(),o("div",Ra,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:le=>ee(x)},[Ya,L(" Edit ")],8,Na),e("button",{class:"btn btnsm btn-danger btn-block",onClick:le=>V(x.id)},Ha,8,Ba)])):A("",!0),u(m).user.role==="USER"?(a(),o("div",Oa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:le=>ee(x)},[Ja,L(" Edit ")],8,za)])):A("",!0)])])])],8,xa))),128))])]),p(u(Fe),{data:c.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",Ga,[e("div",Qa,[e("div",Wa,[e("div",Ka,[e("h5",Xa,[n.value?(a(),o("span",Za,"Edit User")):(a(),o("span",eo,"Add New User"))]),to]),p(u(Ue),{ref_key:"form",ref:k,onSubmit:Y,"validation-schema":n.value?u(D):u(f),"initial-values":_.value},{default:Z(({errors:x})=>[e("div",so,[e("div",ao,[oo,p(u(H),{name:"name",type:"text",class:M(["form-control",{"is-invalid":x.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",lo,t(x.name),1)]),e("div",no,[e("div",io,[e("div",co,[ro,p(u(H),{name:"email",type:"email",class:M(["form-control",{"is-invalid":x.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",uo,t(x.email),1)])]),e("div",_o,[e("div",mo,[po,p(u(H),{id:"gender",name:"gender",as:"select",class:M(["form-control",{"is-invalid":x.gender}])},{default:Z(()=>[ho,(a(!0),o(B,null,X(d.value,de=>(a(),o("option",{key:de.name,value:de.name},t(de.name),9,vo))),128))]),_:2},1032,["class"])])])]),e("div",bo,[e("div",fo,[e("div",$o,[yo,p(u(H),{name:"first_name",type:"text",class:M(["form-control",{"is-invalid":x.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",go,t(x.first_name),1)])]),e("div",ko,[e("div",wo,[xo,p(u(H),{name:"last_name",type:"text",class:M(["form-control",{"is-invalid":x.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",Co,t(x.last_name),1)])])]),e("div",So,[Do,p(u(H),{name:"position",type:"text",class:M(["form-control",{"is-invalid":x.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",Vo,t(x.position),1)]),e("div",Uo,[Mo,p(u(H),{name:"password",type:"password",class:M(["form-control",{"is-invalid":x.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Ao,t(x.password),1)])]),Po]),_:1},8,["validation-schema","initial-values"])])])]),e("div",To,[e("div",Eo,[e("div",qo,[Fo,e("div",Lo,[Io,e("button",{onClick:se(z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},No=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Yo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Bo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),jo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Pe={__name:"ContentLoader",setup(s){return(b,m)=>b.isloading?(a(),re(u(At),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[No,Yo,Bo,jo]),_:1})):A("",!0)}};var $e=(s,b)=>{const m=s.__vccOpts||s;for(const[l,c]of b)m[l]=c;return m};const Le=s=>(Se("data-v-5b4c8080"),s=s(),De(),s),Ho={class:"content"},Oo={class:"container-fluid"},zo={class:"row"},Jo={class:"col-md-6"},Go={class:"card"},Qo=Ce('<ul class="nav nav-tabs" data-v-5b4c8080><li class="nav-item" data-v-5b4c8080><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-5b4c8080>General Settings</a></li><li class="nav-item" data-v-5b4c8080><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-5b4c8080>Site Settings</a></li></ul>',1),Wo={class:"tab-content"},Ko={class:"tab-pane fade show active",id:"general-tab"},Xo={class:"card-body"},Zo={class:"form-group"},el=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),tl={key:0,class:"text-danger text-sm"},sl={class:"form-group"},al=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),ol=Ce('<option value="m/d/Y" data-v-5b4c8080> MM/DD/YYYY </option><option value="d/m/Y" data-v-5b4c8080> DD/MM/YYYY </option><option value="Y-m-d" data-v-5b4c8080> YYYY-MM-DD </option><option value="F j, Y" data-v-5b4c8080> Month DD, YYYY </option><option value="j F Y" data-v-5b4c8080> DD Month YYYY </option>',5),ll=[ol],nl={key:0,class:"text-danger text-sm"},dl={class:"form-group"},il=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),cl={key:0,class:"text-danger text-sm"},rl=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),L("Save Changes ")])],-1)),ul={class:"tab-pane fade",id:"site"},_l={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ml={key:0,class:"list-group-item p-0"},pl={class:"d-flex justify-content-center"},hl=["onClick"],vl={class:"ml-auto my-1 mr-1"},bl=["onClick"],fl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),$l=[fl],yl={class:"m-2 list-unstyled"},gl={key:1},kl={key:0,class:"list-group-item p-0"},wl={class:"d-flex justify-content-center"},xl=["onClick"],Cl={class:"ml-auto my-1 mr-1"},Sl=["onClick"],Dl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),Vl=[Dl],Ul={key:1,class:"mt-2 text-center"},Ml=Le(()=>e("span",null,"No Site",-1)),Al=[Ml],Pl={class:"input-group"},Tl=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),El={__name:"UpdateSetting",setup(s){const b=`${fe().name}`,m=r([]),l=pe(),c=r(!0),n=r([]),_=r(!1),k=r(),d=Oe("$swal"),w=r({id:"",site_name:"",is_active:""}),f=()=>{_.value=!0,axios.get("/api/site").then(Q=>{_.value=!1,n.value=Q.data}).catch(Q=>{console.log(Q)})},D=we(()=>Array.isArray(n.value)?n.value.filter(Q=>Q.is_active===0):[]),i=we(()=>D.value.length),C=()=>{c.value=!c.value},j=()=>{var Q,S;_.value=!0,axios.post("/api/site",{id:(Q=w.value)==null?void 0:Q.id,site_name:(S=w.value)==null?void 0:S.site_name,is_active:!0}).then(v=>{f(),w.value={id:null,site_name:"",is_active:!0},l.success(v.data.message),_.value=!1}).catch(v=>{v.response&&v.response.status===422&&(P.value=v.response.data.errors)})},O=Q=>{w.value.is_active=Q.is_active===1?0:1,axios.post("/api/site",{id:Q.id,site_name:Q.site_name,is_active:w.value.is_active}).then(S=>{axios.get("/api/site").then(v=>{n.value=v.data}).catch(v=>{console.error("Error fetching tasks:",v),l.error("Error fetching tasks. Please try again.")})}).catch(S=>{console.error("Error adding new task:",S),l.error("Error adding new task. Please try again.")})},G=Q=>{if(Q.is_active===null||Q.is_active===0){d.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}w.value.id=Q.id,w.value.site_name=Q.site_name},ee=()=>{axios.get("/api/settings").then(Q=>{m.value=Q.data})},P=r(),Y=()=>{P.value="",axios.post("/api/settings",m.value).then(Q=>{l.success("Settings updated successfully!")}).catch(Q=>{Q.response&&Q.response.status===422&&(P.value=Q.response.data.errors)})};return me(()=>{f(),ee(),document.title=b}),(Q,S)=>(a(),o("div",Ho,[e("div",Oo,[e("div",zo,[e("div",Jo,[e("div",Go,[Qo,e("div",Wo,[e("div",Ko,[e("form",{onSubmit:S[3]||(S[3]=se(v=>Y(),["prevent"]))},[e("div",Xo,[e("div",Zo,[el,te(e("input",{"onUpdate:modelValue":S[0]||(S[0]=v=>m.value.app_name=v),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ce,m.value.app_name]]),P.value&&P.value.app_name?(a(),o("span",tl,t(P.value.app_name[0]),1)):A("",!0)]),e("div",sl,[al,te(e("select",{"onUpdate:modelValue":S[1]||(S[1]=v=>m.value.date_format=v),class:"form-control"},ll,512),[[Te,m.value.date_format]]),P.value&&P.value.date_format?(a(),o("span",nl,t(P.value.date_format[0]),1)):A("",!0)]),e("div",dl,[il,te(e("input",{"onUpdate:modelValue":S[2]||(S[2]=v=>m.value.pagination_limit=v),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ce,m.value.pagination_limit]]),P.value&&P.value.pagination_limit?(a(),o("span",cl,t(P.value.pagination_limit[0]),1)):A("",!0)])]),rl],32)]),e("div",ul,[n.value.length>0?(a(),o("div",_l,[_.value?(a(),re(Pe,{key:0})):A("",!0),(a(!0),o(B,null,X(n.value,v=>(a(),o("ul",{class:"list-group",key:v.id},[v.is_active===1?(a(),o("li",ml,[e("div",pl,[e("div",null,[e("span",{class:M({"btn font-italic text-red":v.is_active===0,btn:v.is_active===1})},[e("i",{onClick:R=>O(v),class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.is_active===1,"fa fa-circle text-primary":v.is_active===0}),style:{"font-size":"15px"}},null,10,hl),L(" "+t(v.site_name),1)],2)]),e("div",vl,[e("button",{onClick:R=>G(v),class:"btn btn-outline"},$l,8,bl)])])])):A("",!0)]))),128)),e("li",yl,[i.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-danger",onClick:C},[e("i",{class:M(["fa",c.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Deactive List "+t(i.value),1)])):A("",!0)]),c.value?(a(),o("div",gl,[(a(!0),o(B,null,X(n.value,v=>(a(),o("ul",{class:"list-group",key:v.id},[v.is_active===0?(a(),o("li",kl,[e("div",wl,[e("div",null,[e("span",{class:M({"btn font-italic text-red":v.is_active===0,btn:v.is_active===1})},[e("i",{onClick:R=>O(v),class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.is_active===1,"fa fa-circle text-primary":v.is_active===0}),style:{"font-size":"15px"}},null,10,xl),e("del",null,t(v.site_name),1)],2)]),e("div",Cl,[e("button",{onClick:R=>G(v),class:"btn btn-outline"},Vl,8,Sl)])])])):A("",!0)]))),128))])):A("",!0)])):(a(),o("div",Ul,Al)),p(u(Ue),{ref:"form",onSubmit:j,"initial-values":k.value},{default:Z(()=>[p(u(H),{name:"id",modelValue:w.value.id,"onUpdate:modelValue":S[4]||(S[4]=v=>w.value.id=v),type:"text",hidden:""},null,8,["modelValue"]),e("div",Pl,[p(u(H),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:w.value.site_name,"onUpdate:modelValue":S[5]||(S[5]=v=>w.value.site_name=v),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Tl])]),_:1},8,["initial-values"])])])])])])])]))}};var ql=$e(El,[["__scopeId","data-v-5b4c8080"]]);const Fl={class:"content"},Ll={class:"container-fluid"},Il={class:"row"},Rl={class:"col-md-3"},Nl={class:"card card-primary card-outline"},Yl={class:"card-body box-profile"},Bl={class:"text-center"},jl=["src"],Hl={class:"profile-username text-center"},Ol={class:"text-muted text-center"},zl={class:"col-md-9"},Jl={class:"card"},Gl=Ce('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Ql={class:"card-body"},Wl={class:"tab-content"},Kl={class:"tab-pane active",id:"profile"},Xl={class:"form-group row"},Zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),en={class:"col-sm-10"},tn={key:0,class:"text-danger text-sm"},sn={class:"form-group row"},an=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),on={class:"col-sm-10"},ln={key:0,class:"text-danger text-sm"},nn={class:"form-group row"},dn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),cn={class:"col-sm-10"},rn={key:0,class:"text-danger text-sm"},un={class:"form-group row"},_n=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),mn={class:"col-sm-10"},pn={key:0,class:"text-danger text-sm"},hn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),vn={class:"tab-pane",id:"changePassword"},bn={class:"form-group row"},fn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),$n={class:"col-sm-9"},yn={key:0,class:"text-danger text-sm"},gn={class:"form-group row"},kn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),wn={class:"col-sm-9"},xn={key:0,class:"text-danger text-sm"},Cn={class:"form-group row"},Sn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),Dn={class:"col-sm-9"},Vn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),Un={__name:"UpdateProfile",setup(s){const b=_e(),m=pe(),l=`${fe().name}`,c=r([]),n=()=>{axios.put("/api/profile",{name:b.user.name,first_name:b.user.first_name,last_name:b.user.last_name,email:b.user.email,role:b.user.role}).then(D=>{m.success("Profile updated successfully!")}).catch(D=>{D.response&&D.response.status===422&&(c.value=D.response.data.errors)})},_=Me({currentPassword:"",password:"",passwordConfirmation:""}),k=()=>{c.value="",axios.post("/api/change-user-password",_).then(D=>{m.success(D.data.message);for(const i in _)_[i]=""}).catch(D=>{D.response&&D.response.status===422&&(c.value=D.response.data.errors)})},d=r(null),w=()=>{d.value.click()},f=D=>{const i=D.target.files[0];b.user.avatar=URL.createObjectURL(i);const C=new FormData;C.append("profile_picture",i),axios.post("/api/upload-profile-image",C).then(j=>{m.success("Image uploaded successfully!")})};return me(()=>{document.title=l}),(D,i)=>(a(),o("div",Fl,[e("div",Ll,[e("div",Il,[e("div",Rl,[e("div",Nl,[e("div",Yl,[e("div",Bl,[e("input",{onChange:f,ref_key:"fileInput",ref:d,type:"file",class:"d-none"},null,544),e("img",{onClick:w,class:"profile-user-img img-circle",src:u(b).user.avatar,alt:"User profile picture"},null,8,jl)]),e("h3",Hl,t(u(b).user.name),1),e("p",Ol,t(u(b).user.role),1)])])]),e("div",zl,[e("div",Jl,[Gl,e("div",Ql,[e("div",Wl,[e("div",Kl,[e("form",{onSubmit:i[4]||(i[4]=se(C=>n(),["prevent"])),class:"form-horizontal"},[e("div",Xl,[Zl,e("div",en,[te(e("input",{"onUpdate:modelValue":i[0]||(i[0]=C=>u(b).user.name=C),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ce,u(b).user.name]]),c.value&&c.value.name?(a(),o("span",tn,t(c.value.name[0]),1)):A("",!0)])]),e("div",sn,[an,e("div",on,[te(e("input",{"onUpdate:modelValue":i[1]||(i[1]=C=>u(b).user.first_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ce,u(b).user.first_name]]),c.value&&c.value.first_name?(a(),o("span",ln,t(c.value.first_name[0]),1)):A("",!0)])]),e("div",nn,[dn,e("div",cn,[te(e("input",{"onUpdate:modelValue":i[2]||(i[2]=C=>u(b).user.last_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ce,u(b).user.last_name]]),c.value&&c.value.last_name?(a(),o("span",rn,t(c.value.last_name[0]),1)):A("",!0)])]),e("div",un,[_n,e("div",mn,[te(e("input",{"onUpdate:modelValue":i[3]||(i[3]=C=>u(b).user.email=C),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ce,u(b).user.email]]),c.value&&c.value.email?(a(),o("span",pn,t(c.value.email[0]),1)):A("",!0)])]),hn],32)]),e("div",vn,[e("form",{onSubmit:se(k,["prevent"]),class:"form-horizontal"},[e("div",bn,[fn,e("div",$n,[te(e("input",{"onUpdate:modelValue":i[5]||(i[5]=C=>_.currentPassword=C),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ce,_.currentPassword]]),c.value&&c.value.current_password?(a(),o("span",yn,t(c.value.current_password[0]),1)):A("",!0)])]),e("div",gn,[kn,e("div",wn,[te(e("input",{"onUpdate:modelValue":i[6]||(i[6]=C=>_.password=C),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ce,_.password]]),c.value&&c.value.password?(a(),o("span",xn,t(c.value.password[0]),1)):A("",!0)])]),e("div",Cn,[Sn,e("div",Dn,[te(e("input",{"onUpdate:modelValue":i[7]||(i[7]=C=>_.passwordConfirmation=C),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ce,_.passwordConfirmation]])])]),Vn],32)])])])])])])])]))}};const Ye=s=>(Se("data-v-809e38f2"),s=s(),De(),s),Mn={class:"login-box"},An={class:"card card-outline card-primary"},Pn=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Tn={class:"card-body"},En={key:0,class:"alert alert-danger",role:"alert"},qn={class:"input-group mb-3"},Fn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Ln={class:"input-group mb-3"},In=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Rn=["type"],Nn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Yn=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),Bn={class:"row"},jn={class:"col-12 mb-2"},Hn=["disabled"],On={key:0,class:"spinner-border spinner-border-sm",role:"status"},zn=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),Jn=[zn],Gn={key:1},Qn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Wn="Login",Kn={__name:"Login",setup(s){const b=r(!1),m=pe();_e();const l=Qe(),c=Me({email:"",password:""}),n=r(!1),_=r(""),k=()=>{n.value=!0,_.value="",q.post("/login",c).then(()=>{l.push("/"),m.success("Login Success")}).catch(d=>{m.error(d.response.data.message)}).finally(()=>{n.value=!1})};return me(()=>{document.title=Wn}),(d,w)=>(a(),o("div",Mn,[e("div",An,[Pn,e("div",Tn,[_.value?(a(),o("div",En,t(_.value),1)):A("",!0),e("form",{onSubmit:se(k,["prevent"])},[e("div",qn,[Fn,te(e("input",{"onUpdate:modelValue":w[0]||(w[0]=f=>c.email=f),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ce,c.email]])]),e("div",Ln,[In,te(e("input",{"onUpdate:modelValue":w[1]||(w[1]=f=>c.password=f),class:"form-control",placeholder:"Password",type:b.value?"text":"password",onClick:w[2]||(w[2]=(...f)=>d.handleKeyClick&&d.handleKeyClick(...f))},null,8,Rn),[[st,c.password]])]),e("label",Nn,[te(e("input",{type:"checkbox","onUpdate:modelValue":w[3]||(w[3]=f=>b.value=f)},null,512),[[Ee,b.value]]),L(" Show Password ")]),Yn,e("div",Bn,[e("div",jn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:n.value},[n.value?(a(),o("div",On,Jn)):(a(),o("span",Gn,"Sign In"))],8,Hn)])])],32),Qn])])]))}};var Xn=$e(Kn,[["__scopeId","data-v-809e38f2"]]);const Zn=["checked"],ed=e("i",{class:"fa fa-edit"},null,-1),td=[ed],sd=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),ad=[sd],od={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:b}){pe();const m=s,l=b,c=()=>{l("toggleSelection",m.item)};return(n,_)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:c},null,40,Zn)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.first_name)+" "+t(s.item.last_name),1),e("td",null,t(s.item.email),1),e("td",null,t(s.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:_[0]||(_[0]=se(k=>n.$emit("editUser",s.item),["prevent"]))},td),e("a",{href:"#",onClick:_[1]||(_[1]=se(k=>n.$emit("confirmUserDeletion",s.item.id),["prevent"]))},ad)])]))}},ld={class:"content"},nd={class:"container-fluid"},dd={class:"d-flex justify-content-between"},id={class:"d-flex"},cd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),rd={key:0},ud=e("i",{class:"fa fa-trash mr-1"},null,-1),_d={class:"ml-2"},md={class:"card"},pd={class:"card-body"},hd={class:"table table-bordered"},vd=e("th",{style:{width:"10px"}},"#",-1),bd=e("th",null,"Name",-1),fd=e("th",null,"Email",-1),$d=e("th",null,"Registered Date",-1),yd=e("th",null,"Options",-1),gd={key:0},kd={key:1},wd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),xd=[wd],Cd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sd={class:"modal-dialog",role:"document"},Dd={class:"modal-content"},Vd={class:"modal-header"},Ud={class:"modal-title",id:"staticBackdropLabel"},Md={key:0},Ad={key:1},Pd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Td={class:"modal-body"},Ed={class:"form-group"},qd=e("label",{for:"fist_name"},"First Name",-1),Fd={class:"invalid-feedback"},Ld={class:"form-group"},Id=e("label",{for:"last_name"},"Last Name",-1),Rd={class:"invalid-feedback"},Nd={class:"form-group"},Yd=e("label",{for:"email"},"Email",-1),Bd={class:"invalid-feedback"},jd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Hd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Od={class:"modal-dialog",role:"document"},zd={class:"modal-content"},Jd=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Gd={class:"modal-footer"},Qd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Wd={__name:"ClientList",setup(s){const b=pe(),m=r({data:[]}),l=r(!1),c=r(),n=r(null),_=(R=1)=>{q.get(`/api/clients?page=${R}`,{params:{query:j.value}}).then(V=>{m.value=V.data,O.value=[],S.value=!1})},k=xe({first_name:N().required(),last_name:N().required(),email:N().email().required()}),d=xe({first_name:N().required(),last_name:N().required(),email:N().email().required()}),w=(R,{resetForm:V,setErrors:z})=>{q.post("/api/clients",R).then(ie=>{m.value.data.unshift(ie.data),$("#clientFormModal").modal("hide"),V(),b.success("User created successfully!")}).catch(ie=>{ie.response.data.errors&&z(ie.response.data.errors)})},f=()=>{l.value=!1,$("#clientFormModal").modal("show")},D=R=>{l.value=!0,n.value.resetForm(),$("#clientFormModal").modal("show"),c.value={id:R.id,first_name:R.first_name,last_name:R.last_name,email:R.email}},i=(R,{setErrors:V})=>{q.put("/api/clients/"+c.value.id,R).then(z=>{const ie=m.value.data.findIndex(K=>K.id===z.data.id);m.value.data[ie]=z.data,$("#clientFormModal").modal("hide"),b.success("Client updated successfully!")}).catch(z=>{V(z.response.data.errors),console.log(z)})},C=(R,V)=>{l.value?i(R,V):w(R,V)},j=r(null),O=r([]),G=R=>{const V=O.value.indexOf(R.id);V===-1?O.value.push(R.id):O.value.splice(V,1),console.log(O.value)},ee=r(null),P=R=>{ee.value=R,$("#deleteClientModal").modal("show")},Y=()=>{q.delete(`/api/clients/${ee.value}`).then(()=>{$("#deleteClientModal").modal("hide"),b.success("Client deleted successfully!"),m.value.data=m.value.data.filter(R=>R.id!==ee.value)})},Q=()=>{q.delete("/api/clients",{data:{ids:O.value}}).then(R=>{m.value.data=m.value.data.filter(V=>!O.value.includes(V.id)),O.value=[],S.value=!1,b.success(R.data.message)})},S=r(!1),v=()=>{S.value?O.value=m.value.data.map(R=>R.id):O.value=[],console.log(O.value)};return he(j,Ae.exports.debounce(()=>{_()},300)),me(()=>{_()}),(R,V)=>(a(),o(B,null,[e("div",ld,[e("div",nd,[e("div",dd,[e("div",id,[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-primary"},[cd,L(" Add New Client ")]),O.value.length>0?(a(),o("div",rd,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ud,L(" Delete Selected ")]),e("span",_d,"Selected "+t(O.value.length)+" clients",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":V[0]||(V[0]=z=>j.value=z),class:"form-control",placeholder:"Search..."},null,512),[[ce,j.value]])])]),e("div",md,[e("div",pd,[e("table",hd,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":V[1]||(V[1]=z=>S.value=z),onChange:v},null,544),[[Ee,S.value]])]),vd,bd,fd,$d,yd])]),m.value.data.length>0?(a(),o("tbody",gd,[(a(!0),o(B,null,X(m.value.data,(z,ie)=>(a(),re(od,{key:z.id,item:z,index:ie,onEditUser:D,onConfirmUserDeletion:P,onToggleSelection:G,"select-all":S.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",kd,xd))])])]),p(u(Fe),{data:m.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",Cd,[e("div",Sd,[e("div",Dd,[e("div",Vd,[e("h5",Ud,[l.value?(a(),o("span",Md,"Edit Client")):(a(),o("span",Ad,"Add New Client"))]),Pd]),p(u(Ue),{ref_key:"form",ref:n,onSubmit:C,"validation-schema":l.value?u(d):u(k),"initial-values":c.value},{default:Z(({errors:z})=>[e("div",Td,[e("div",Ed,[qd,p(u(H),{name:"first_name",type:"text",class:M(["form-control",{"is-invalid":z.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Fd,t(z.first_name),1)]),e("div",Ld,[Id,p(u(H),{name:"last_name",type:"text",class:M(["form-control",{"is-invalid":z.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Rd,t(z.last_name),1)]),e("div",Nd,[Yd,p(u(H),{name:"email",type:"email",class:M(["form-control",{"is-invalid":z.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Bd,t(z.email),1)])]),jd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Hd,[e("div",Od,[e("div",zd,[Jd,e("div",Gd,[Qd,e("button",{onClick:se(Y,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const ot=s=>(Se("data-v-6b52e506"),s=s(),De(),s),Kd={style:{"text-align":"center"}},Xd={key:0},Zd=ot(()=>e("i",{class:"fa fa-edit"},null,-1)),ei=[Zd],ti=ot(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),si=[ti],ai={key:1,style:{"text-align":"center"}},oi={key:0},li=ot(()=>e("i",{class:"fa fa-edit"},null,-1)),ni=[li],di={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(s,{emit:b}){pe();const m=_e();return(l,c)=>{const n=be("router-link");return a(),o("tr",null,[e("td",null,t(s.item.recommnum),1),e("td",null,t(s.item.user),1),e("td",null,t(s.item.branch),1),e("td",null,t(s.item.department),1),e("td",null,t(s.item.created_user),1),e("td",Kd,[s.item.statusid==2?(a(),re(n,{key:0,to:`/tech-approved/${s.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3)]),_:1},8,["to"])):(a(),o("span",{key:1,class:M(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3))]),e("td",null,t(s.item.created_at),1),u(m).user.role==="ADMIN"?(a(),o("td",Xd,[e("a",{href:"#",onClick:c[0]||(c[0]=se(_=>l.$emit("editUser",s.item),["prevent"]))},ei),e("a",{href:"#",onClick:c[1]||(c[1]=se(_=>l.$emit("confirmUserDeletion",s.item.id),["prevent"]))},si)])):A("",!0),u(m).user.role==="USER"?(a(),o("td",ai,[s.item.statusid!=2?(a(),o("div",oi,[s.item.created_by==u(m).user.id?(a(),o("a",{key:0,href:"#",onClick:c[2]||(c[2]=se(_=>l.$emit("editUser",s.item),["prevent"]))},ni)):A("",!0)])):A("",!0)])):A("",!0)])}}};var ii=$e(di,[["__scopeId","data-v-6b52e506"]]);const ci={class:"content"},ri={class:"container-fluid"},ui={class:"d-flex justify-content-between"},_i={class:"d-flex"},mi=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),pi={key:0},hi=e("i",{class:"fa fa-trash mr-1"},null,-1),vi={class:"ml-2"},bi={class:"card"},fi={class:"card-body"},$i={class:"dispatch-table"},yi={class:"table-responsive"},gi={class:"table table-bordered table-sm"},ki=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),wi={key:0},xi={key:1},Ci=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Si=[Ci],Di=["item","index"],Vi={class:"card"},Ui={class:"card-body"},Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Tech #:",-1),Pi={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"User:",-1),Ei={class:"list-field"},qi=e("span",{class:"mb-1 dis"},"Branch:",-1),Fi={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"Department:",-1),Ii={class:"list-field"},Ri=e("span",{class:"mb-1 dis"},"Created by:",-1),Ni={class:"list-field"},Yi=e("span",{class:"mb-1 dis"},"Status:",-1),Bi={class:"list-field"},ji=e("span",{class:"mb-1 dis"},"Created Date:",-1),Hi=e("hr",null,null,-1),Oi={class:"row"},zi={key:0,class:"col"},Ji=["onClick"],Gi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Qi=["onClick"],Wi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Ki=[Wi],Xi={key:1,class:"col"},Zi={key:0},ec=["onClick"],tc=e("i",{class:"fa fa-pencil-square-o"},null,-1),sc={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ac={class:"modal-dialog modal-lg",role:"document"},oc={class:"modal-content"},lc={class:"modal-header"},nc={class:"modal-title",id:"staticBackdropLabel"},dc={key:0},ic={key:1},cc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),rc={class:"modal-body"},uc={class:"col-md-12"},_c={class:"row"},mc={class:"col-6"},pc={class:"form-group"},hc=e("label",{for:"branch"},"Branch",-1),vc=e("option",{value:"",disabled:""}," Select Branch ",-1),bc=["value"],fc={class:"invalid-feedback"},$c={class:"form-group"},yc=e("label",{for:"department"},"Department",-1),gc={class:"invalid-feedback"},kc={class:"form-group"},wc=e("label",{for:"warehouse"},"warehouse",-1),xc={class:"invalid-feedback"},Cc={class:"form-group"},Sc=e("label",{for:"user"},"User",-1),Dc={class:"invalid-feedback"},Vc={class:"col-6"},Uc={class:"form-group"},Mc=e("label",{for:"brand"},"Brand",-1),Ac={class:"form-group"},Pc=e("label",{for:"model"},"Model",-1),Tc={class:"invalid-feedback"},Ec={class:"form-group"},qc=e("label",{for:"assettag"},"Asset tag",-1),Fc={class:"invalid-feedback"},Lc={class:"form-group"},Ic=e("label",{for:"serialnum"},"Serial number",-1),Rc={class:"invalid-feedback"},Nc={class:"col-12"},Yc={class:"form-group"},Bc=e("label",{for:"problem"},"Report Problem",-1),jc={class:"invalid-feedback"},Hc={class:"form-group"},Oc=e("label",{for:"assconducted"},"Assessment conducted",-1),zc={class:"invalid-feedback"},Jc={class:"form-group"},Gc=e("label",{for:"recommendation"},"Recommendation",-1),Qc={class:"invalid-feedback"},Wc={class:"modal-footer"},Kc={key:0},Xc={key:0,class:"btn-group float-l ml-auto"},Zc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),er={class:"dropdown-menu",role:"menu"},tr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),sr=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),ar={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},or={class:"modal-dialog",role:"document"},lr={class:"modal-content"},nr=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),dr={class:"modal-footer"},ir=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),cr={__name:"TechList",setup(s){const b=r(),m=r(),l=pe(),c=r({data:[]});r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const n=`${fe().name}`,_=()=>{q.get("/web/getsite").then(y=>{m.value=y.data.sites}).catch(y=>{console.log(y)})},k=r(!1),d=r(!1),w=r(),f=Me({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),D=_e();r(null);const i=(y=1)=>{k.value=!0,q.get(`/api/tech-recommendations?page=${y}`,{params:{query:S.value}}).then(x=>{k.value=!1,c.value=x.data,v.value=[],U.value=!1})},C=xe({branch:N().required(),department:N().required(),user:N().required(),problem:N().required(),assconducted:N().required(),brand:N().required()}),j=xe({branch:N().required(),department:N().required(),user:N().required(),problem:N().required(),assconducted:N().required(),brand:N().required()}),O=(y,{resetForm:x,setErrors:de})=>{q.post("/api/tech-recommendations",y).then(le=>{c.value.data.unshift(le.data),$("#FormModal").modal("hide"),x(),l.success("Data created successfully!")}).catch(le=>{le.response.data.errors&&de(le.response.data.errors)})},G=()=>{d.value=!1,$("#FormModal").modal("show")},ee=()=>{f.id="",f.recommnum="",f.branch="",f.department="",f.warehouse="",f.user="",f.problem="",f.brand="",f.model="",f.assettag="",f.serialnum="",f.assconducted="",f.recommendation="",f.ceated_by=""},P=y=>{b.value=y.id,d.value=!0,ee(),f.id=y.id,f.branch=y.branch,f.department=y.department,f.warehouse=y.warehouse,f.user=y.user,f.problem=y.problem,f.brand=y.brand,f.model=y.model,f.assettag=y.assettag,f.serialnum=y.serialnum,f.assconducted=y.assconducted,f.recommendation=y.recommendation,f.ceated_by=y.ceated_by,f.recommnum=y.recommnum,$("#FormModal").modal("show")},Y=(y,{setErrors:x})=>{q.put("/api/tech-recommendations/"+y.id,y).then(de=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(de=>{x(de.response.data.errors),console.log(de)})},Q=(y,x)=>{d.value?Y(f,x):O(y,x)},S=r(null),v=r([]),R=y=>{const x=v.value.indexOf(y.id);x===-1?v.value.push(y.id):v.value.splice(x,1),console.log(v.value)},V=r(null),z=y=>{V.value=y,$("#deleteClientModal").modal("show")},ie=()=>{q.delete(`/api/tech-recommendations/${V.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),c.value.data=c.value.data.filter(y=>y.id!==V.value)})},K=()=>{q.delete("/api/tech-recommendations",{data:{ids:v.value}}).then(y=>{c.value.data=c.value.data.filter(x=>!v.value.includes(x.id)),v.value=[],U.value=!1,l.success(y.data.message)})},I=y=>{q.post("/api/tech-getaction",{id:b.value,status:y}).then(x=>{$("#FormModal").modal("hide"),i()}).catch(x=>{console.log(x.message)})},U=r(!1);return he(S,Ae.exports.debounce(()=>{i()},300)),me(()=>{i(),_(),document.title=n}),(y,x)=>{const de=be("font"),le=be("router-link");return a(),o(B,null,[e("div",ci,[e("div",ri,[e("div",ui,[e("div",_i,[e("button",{onClick:G,type:"button",class:"mb-2 btn btn-primary"},[mi,L(" TechRecom ")]),v.value.length>0?(a(),o("div",pi,[e("button",{onClick:K,type:"button",class:"ml-2 mb-2 btn btn-danger"},[hi,L(" Delete Selected ")]),e("span",vi,"Selected "+t(v.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=E=>S.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ce,S.value]])])]),e("div",bi,[e("div",fi,[k.value?(a(),re(Pe,{key:0})):A("",!0),e("div",$i,[e("div",yi,[p(de,{size:"2"},{default:Z(()=>[e("table",gi,[ki,c.value.data.length>0?(a(),o("tbody",wi,[(a(!0),o(B,null,X(c.value.data,(E,F)=>(a(),re(ii,{key:E.id,item:E,index:F,onEditUser:P,onShowItem:y.viewItem,onConfirmUserDeletion:z,onToggleSelection:R,"select-all":U.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",xi,Si))])]),_:1})])]),(a(!0),o(B,null,X(c.value.data,(E,F)=>(a(),o("div",{class:"dispatch-list",key:E.id,item:E,index:F},[e("div",Vi,[e("div",Ui,[e("div",Mi,[Ai,e("span",null,[e("b",null,t(E.recommnum),1)])]),e("div",Pi,[Ti,e("span",null,t(E.user),1)]),e("div",Ei,[qi,e("span",null,t(E.branch),1)]),e("div",Fi,[Li,e("span",null,t(E.department),1)]),e("div",Ii,[Ri,e("span",null,t(E.created_user),1)]),e("div",Ni,[Yi,E.statusid==2?(a(),re(le,{key:0,to:`/tech-approved/${E.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`badge-${E.status.color}`])},t(E.status.name),3)]),_:2},1032,["to"])):A("",!0),E.statusid!=2?(a(),o("span",{key:1,class:M(["badge",`badge-${E.status.color}`])},t(E.status.name),3)):A("",!0)]),e("div",Bi,[ji,e("span",null,t(E.created_at),1)]),Hi,e("div",Oi,[u(D).user.role==="ADMIN"?(a(),o("div",zi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>P(E)},[Gi,L(" Edit ")],8,Ji),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>z(E.id)},Ki,8,Qi)])):A("",!0),u(D).user.role==="USER"?(a(),o("div",Xi,[E.statusid!=2?(a(),o("div",Zi,[E.created_by==u(D).user.id?(a(),o("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>P(E)},[tc,L(" Edit ")],8,ec)):A("",!0)])):A("",!0)])):A("",!0)])])])],8,Di))),128))])]),p(u(Fe),{data:c.value,onPaginationChangePage:i},null,8,["data"])])]),e("div",sc,[e("div",ac,[e("div",oc,[e("div",lc,[e("h5",nc,[d.value?(a(),o("span",dc,"Edit Tech Recom.")):(a(),o("span",ic,"Add New Tech Recom."))]),cc]),p(u(Ue),{onSubmit:Q,"validation-schema":d.value?u(j):u(C),"initial-values":w.value},{default:Z(({errors:E})=>[e("div",rc,[e("div",uc,[e("div",_c,[e("div",mc,[p(u(H),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(D).user.id,"onUpdate:modelValue":x[1]||(x[1]=F=>u(D).user.id=F)},null,8,["modelValue"]),p(u(H),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:f.recommnum,"onUpdate:modelValue":x[2]||(x[2]=F=>f.recommnum=F)},null,8,["modelValue"]),e("div",pc,[hc,p(u(H),{as:"select",name:"branch",class:M(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:f.branch,"onUpdate:modelValue":x[3]||(x[3]=F=>f.branch=F)},{default:Z(()=>[vc,(a(!0),o(B,null,X(m.value,F=>(a(),o("option",{key:F.site_name,value:F.site_name},t(F.site_name),9,bc))),128))]),_:2},1032,["class","modelValue"]),e("span",fc,t(E.branch),1)]),e("div",$c,[yc,p(u(H),{name:"department",type:"text",class:M(["form-control",{"is-invalid":E.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:f.department,"onUpdate:modelValue":x[4]||(x[4]=F=>f.department=F)},null,8,["class","modelValue"]),e("span",gc,t(E.department),1)]),e("div",kc,[wc,p(u(H),{name:"warehouse",type:"text",class:M(["form-control",{"is-invalid":E.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:f.warehouse,"onUpdate:modelValue":x[5]||(x[5]=F=>f.warehouse=F)},null,8,["class","modelValue"]),e("span",xc,t(E.warehouse),1)]),e("div",Cc,[Sc,p(u(H),{name:"user",type:"text",class:M(["form-control",{"is-invalid":E.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:f.user,"onUpdate:modelValue":x[6]||(x[6]=F=>f.user=F)},null,8,["class","modelValue"]),e("span",Dc,t(E.user),1)])]),e("div",Vc,[e("div",Uc,[Mc,p(u(H),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:f.brand,"onUpdate:modelValue":x[7]||(x[7]=F=>f.brand=F)},null,8,["modelValue"])]),e("div",Ac,[Pc,p(u(H),{name:"model",type:"text",class:M(["form-control",{"is-invalid":E.model}]),id:"model",modelValue:f.model,"onUpdate:modelValue":x[8]||(x[8]=F=>f.model=F),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Tc,t(E.model),1)]),e("div",Ec,[qc,p(u(H),{name:"assettag",type:"text",class:M(["form-control",{"is-invalid":E.assettag}]),id:"assettag",modelValue:f.assettag,"onUpdate:modelValue":x[9]||(x[9]=F=>f.assettag=F),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Fc,t(E.assettag),1)]),e("div",Lc,[Ic,te(e("input",{name:"serialnum",type:"text",class:M(["form-control",{"is-invalid":E.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":x[10]||(x[10]=F=>f.serialnum=F)},null,2),[[ce,f.serialnum]]),e("span",Rc,t(E.serialnum),1)])]),e("div",Nc,[e("div",Yc,[Bc,p(u(H),{name:"problem",as:"textarea",class:M(["form-control",{"is-invalid":E.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:f.problem,"onUpdate:modelValue":x[11]||(x[11]=F=>f.problem=F)},null,8,["class","modelValue"]),e("span",jc,t(E.problem),1)]),e("div",Hc,[Oc,p(u(H),{name:"assconducted",as:"textarea",class:M(["form-control",{"is-invalid":E.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:f.assconducted,"onUpdate:modelValue":x[12]||(x[12]=F=>f.assconducted=F)},null,8,["class","modelValue"]),e("span",zc,t(E.assconducted),1)]),e("div",Jc,[Gc,p(u(H),{name:"recommendation",as:"textarea",class:M(["form-control",{"is-invalid":E.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:f.recommendation,"onUpdate:modelValue":x[13]||(x[13]=F=>f.recommendation=F)},null,8,["class","modelValue"]),e("span",Qc,t(E.recommendation),1)])])])])]),e("div",Wc,[d.value?(a(),o("div",Kc,[u(D).user.role==="ADMIN"?(a(),o("div",Xc,[e("button",{type:"button",onClick:x[14]||(x[14]=F=>I(2)),class:"btn btn-info"}," Approved "),Zc,e("div",er,[e("span",{onClick:x[15]||(x[15]=F=>I(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:x[16]||(x[16]=F=>I(3)),class:"dropdown-item"},"Disapproved")])])):A("",!0)])):A("",!0),tr,sr])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",ar,[e("div",or,[e("div",lr,[nr,e("div",dr,[ir,e("button",{onClick:se(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const ze=rt("SettingStore",()=>{const s=r({app_name:""}),b=Pt("SettingStore:theme",r("light"));return{setting:s,getSetting:async()=>{await q.get("/api/settings").then(c=>{s.value=c.data})},theme:b,changeTheme:()=>{b.value=b.value==="light"?"dark":"light"}}});const ae=s=>(Se("data-v-0c8371d9"),s=s(),De(),s),rr={class:"content"},ur={class:"container-fluid"},_r={class:"card"},mr={class:"card-header"},pr={class:"card-title"},hr={class:"card-body"},vr={class:"col-md-12"},br={class:"d-flex justify-content-between"},fr=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),$r={class:"d-flex"},yr={class:"col-12",id:"accordion"},gr={key:1},kr={key:0},wr={class:"card card-secondary"},xr={class:"card-body d-flex align-items-center justify-content-center"},Cr={class:"image-container"},Sr=["src"],Dr=ae(()=>e("div",{class:"overlay"},null,-1)),Vr={key:1},Ur={class:"card-header bg-white"},Mr={class:"card-title"},Ar=["href"],Pr=["src"],Tr={class:"card-tools"},Er=["onClick"],qr=ae(()=>e("i",{class:"fas fa-tasks"},null,-1)),Fr=[qr],Lr=["disabled","onClick"],Ir=["onClick"],Rr=["onClick"],Nr=ae(()=>e("p",{class:"float-right"},null,-1)),Yr=["id"],Br={class:"card-body"},jr={class:"col-md-12"},Hr={class:"dispatch-table"},Or={class:"row"},zr={class:"col-4"},Jr=ae(()=>e("b",null,"Site:",-1)),Gr=ae(()=>e("b",null,"Planned Date:",-1)),Qr=ae(()=>e("b",null,"Planned End Date:",-1)),Wr={class:"col-4"},Kr=ae(()=>e("b",null,"Start Date:",-1)),Xr=ae(()=>e("b",null,"Accomplished Date:",-1)),Zr={class:"closestatus"},eu=ae(()=>e("b",{style:{color:"black"}},"Type:",-1)),tu={class:"col-4"},su={class:"ongoing"},au=ae(()=>e("b",{style:{color:"black"}},"Status:",-1)),ou=ae(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),lu=ae(()=>e("b",null,"Remarks:",-1)),nu={style:{margin:"0.5%"}},du=["disabled","onClick"],iu=["onClick","disabled"],cu={class:"dispatch-list"},ru={class:"list-group list-group-flush"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},yu={class:"badge badge-primary badge-pill"},gu={class:"list-group-item d-flex justify-content-between align-items-center"},ku={class:"badge badge-primary badge-pill"},wu={class:"list-group-item d-flex justify-content-between align-items-center"},xu={class:"badge badge-primary badge-pill"},Cu={class:"list-group-item d-flex justify-content-between align-items-center"},Su={class:"badge badge-primary badge-pill"},Du=ae(()=>e("hr",null,null,-1)),Vu={class:"row"},Uu={class:"col"},Mu=["onClick"],Au=ae(()=>e("i",{class:"fas fa-pen"},null,-1)),Pu=["onClick"],Tu=ae(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),L(" Drop ")],-1)),Eu=[Tu],qu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Fu={class:"modal-dialog modal-dialog-centered",role:"document"},Lu={class:"modal-content"},Iu={class:"modal-header"},Ru={class:"modal-title",id:"staticBackdropLabel"},Nu={key:0},Yu={key:1},Bu={key:2},ju=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Hu={class:"modal-body"},Ou={class:"col-md-12"},zu={class:"row"},Ju={class:"col-12"},Gu={class:"form-group"},Qu=ae(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Wu=ae(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Ku=["value"],Xu={key:0,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=ae(()=>e("label",{for:"end-time"},"Start Date",-1)),s_={class:"form-group"},a_=ae(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=ae(()=>e("div",{class:"d-fex"},null,-1)),n_={key:1,class:"d-flex justify-content-between"},d_={class:"d-flex"},i_={class:"form-group"},c_=ae(()=>e("label",{for:"end-time"},"End Date",-1)),r_={class:"form-group"},u_=ae(()=>e("label",{for:"end-time"},"Hour",-1)),__=["value"],m_=ae(()=>e("div",{class:"d-fex"},null,-1)),p_={class:"form-group"},h_=ae(()=>e("label",{for:"site"},"Type",-1)),v_=ae(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),b_=["value"],f_=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),$_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},y_={class:"modal-dialog modal-sm",role:"document"},g_={class:"modal-content"},k_={class:"modal-header"},w_={class:"modal-title",id:"staticBackdropLabel"},x_=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),C_={class:"modal-body"},S_=Ce('<ul class="nav nav-tabs" id="myTabs" data-v-0c8371d9><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-0c8371d9> Todo List</a></li><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-0c8371d9> Todo</a></li></ul>',1),D_={class:"tab-content"},V_={class:"tab-pane fade show active",id:"todolist"},U_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},M_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),A_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),P_={key:0,class:"list-group-item p-0"},T_={class:"d-flex justify-content-center"},E_=["onClick"],q_={class:"ml-auto my-1 mr-1"},F_=["onClick"],L_=ae(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),I_=[L_],R_={class:"mt-2 mb-2 list-unstyled"},N_={key:1},Y_={key:0,class:"list-group-item p-0"},B_={class:"d-flex justify-content-center"},j_=["onClick"],H_={class:"ml-auto my-1 mr-1"},O_=["onClick"],z_=ae(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),J_=[z_],G_={key:1,class:"mt-2 text-center"},Q_=ae(()=>e("span",null,"No Todo",-1)),W_=[Q_],K_={class:"tab-pane fade",id:"formTask"},X_={class:"col-md-12"},Z_={class:"row"},em={class:"col-12"},tm={class:"m-2",style:{display:"flex","align-items":"center"}},sm=ae(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),L("\xA0Save ")])],-1)),am={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},om={class:"modal-dialog",role:"document"},lm={class:"modal-content"},nm=ae(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),dm={class:"modal-body"},im={class:"col-md-12"},cm={class:"row"},rm={class:"col-12"},um={class:"modal-footer"},_m=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),mm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pm={class:"modal-dialog",role:"document"},hm={class:"modal-content"},vm=Ce('<div class="modal-header" data-v-0c8371d9><h5 class="modal-title" id="staticBackdropLabel" data-v-0c8371d9><span data-v-0c8371d9>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-0c8371d9><span aria-hidden="true" data-v-0c8371d9>\xD7</span></button></div><div class="modal-body" data-v-0c8371d9><h5 data-v-0c8371d9>Are you sure you want to delete this record ?</h5></div>',2),bm={class:"modal-footer"},fm=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),$m={__name:"MyPrio",setup(s){const b=`${fe().name}`,m=r(!1),l=r(!1),c=Oe("$swal");ze();const n=pe(),_=r({data:[]}),k=r([]);r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),r();const d=r();r();const w=r(!0),f=r(!1);r(!1),r();const D=r(),i=r(),C=r(),j=_e();r(null),r(!1);const O=r([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),G=r(),ee=r("1:00 AM"),P=r(),Y=r("1:00 AM"),Q=r(Array.from({length:24},(g,T)=>{const h=T%12+1,ve=T<12?"AM":"PM";return`${h}:00 ${ve}`})),S=r(Array.from({length:24},(g,T)=>{const h=T%12+1,ve=T<12?"AM":"PM";return`${h}:00 ${ve}`})),v=Me({dailytask_id:"",site:"",user_id:j.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),R=r("");he([G,ee],()=>{const g=new Date(G.value),T=g.getFullYear(),h=String(g.getMonth()+1).padStart(2,"0"),ve=String(g.getDate()).padStart(2,"0");v.plandate=`${T}-${h}-${ve} ${ee.value}`}),he([G,Y],()=>{const g=new Date(G.value);g.getFullYear(),String(g.getMonth()+1).padStart(2,"0"),String(g.getDate()).padStart(2,"0")}),he([P,Y],()=>{const g=new Date(P.value),T=g.getFullYear(),h=String(g.getMonth()+1).padStart(2,"0"),ve=String(g.getDate()).padStart(2,"0");v.enddates=`${T}-${h}-${ve} ${Y.value}`});const V=r({id:"",dailytask_id:"",task_name:"",iscompleted:0}),z=()=>{q.get("/web/getsite").then(g=>{d.value=g.data.sites}).catch(g=>{console.log(g)})},ie=()=>{m.value=!0,q.get("/web/dailytask",{params:{query:W.value}}).then(g=>{m.value=!1,_.value=g.data,ke.value=[]})},K=async g=>{(await c({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(m.value=!0,q.put(`/web/dailytask/drop/${g}`).then(h=>{n.success("Data drop successfully!"),m.value=!1,ie()}))},I=()=>{$("#FormModalTask").modal("show")},U=g=>{I(),V.value.dailytask_id=g.dailytask_id,i.value=g.taskdate,C.value=g.startdate,l.value=!0,q.get(`/web/dailytask/${g.dailytask_id}/tasks`).then(T=>{k.value=T.data,I(),l.value=!1}).catch(T=>{console.error("Error fetching tasks:",T)})},y=()=>{l.value=!0,q.post("/web/dailytask/addnewTask",{dailytask_id:V.value.dailytask_id,task_name:V.value.task_name,iscompleted:V.value.iscompleted}).then(g=>{n.success("Data created successfully!"),q.get(`/web/dailytask/${V.value.dailytask_id}/tasks`).then(T=>{k.value=T.data,l.value=!1}).catch(T=>{console.error("Error fetching tasks:",T),n.error("Error fetching tasks. Please try again.")}),V.value.task_name=""}).catch(g=>{console.error("Error adding new task:",g),n.error("Error adding new task. Please try again.")})},x=g=>{V.value.iscompleted=g.iscompleted===1?0:1,q.post("/web/dailytask/addnewTask",{id:g.id,dailytask_id:g.dailytask_id,task_name:g.task_name,iscompleted:V.value.iscompleted}).then(T=>{q.get(`/web/dailytask/${g.dailytask_id}/tasks`).then(h=>{k.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),n.error("Error fetching tasks. Please try again.")})}).catch(T=>{console.error("Error adding new task:",T),n.error("Error adding new task. Please try again.")})},de=we(()=>Array.isArray(k.value)?k.value.filter(g=>g.iscompleted===1):[]),le=we(()=>de.value.length),E=()=>{w.value=!w.value},F=g=>{q.delete(`/web/dailytask/deleteTask/${g.id}`).then(T=>{q.get(`/web/dailytask/${g.dailytask_id}/tasks`).then(h=>{k.value=h.data,n.success("Todo successfull Deleted")}).catch(h=>{console.error("Error fetching tasks:",h),n.error("Error fetching tasks. Please try again.")})}).catch(T=>{console.error("Error adding new task:",T),n.error("Error adding new task. Please try again.")})};xe({site:N().required(),tasktype:N().required(),plandate:N().required(),planenddate:N().required()}),xe({site:N().required(),tasktype:N().required(),plandate:N().required(),planenddate:N().required()});const Ie=(g,T)=>{q.post("/web/dailytask",v).then(h=>{ie(),$("#FormModal").modal("hide"),n.success("data created successfully!")}).catch(h=>{T.setErrors(h.response.data.errors)})},Ke=(g,T)=>{q.put("/web/dailytask/"+v.dailytask_id,v).then(h=>{console.log(h.data),ie(),$("#FormModal").modal("hide"),n.success("data update successfully!")}).catch(h=>{T.setErrors(h.response.data.errors)})},He=g=>{g&&g.dailytask_id!==null&&g.dailytask_id!==void 0?(f.value=!0,D.value=" on "+ue(g.taskdate).format("MMMM D, YYYY"),v.site=g.site_name,v.dailytask_id=g.dailytask_id,v.plandate=g.plandate,v.planenddate=g.planenddate,v.tasktype=g.tasktype,console.log(g.site_name),console.log(g.tasktype)):f.value=!1,z(),$("#FormModal").modal("show")},Xe=(g,T)=>{f.value?Ke(g,T):Ie(g,T)},Re=async g=>{if((await c.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const h=await q.put("/web/dailytask/onTashHoliday/"+g.dailytask_id,g);n.success(h.data.message),ie()}},Ze=async g=>{try{const T=await q.get(`/web/dailytask/${g.dailytask_id}/tasks`);if(k.value=T.data,!k.value||k.value.length===0){c.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await c.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ve=await q.put("/web/dailytask/onhandler/"+g.dailytask_id,g);n.success(ve.data.message),ie()}}catch(T){console.error("Error fetching tasks:",T),n.error("An error occurred while updating the task.")}},et=g=>{$("#onRemarksModal").modal("show"),R.value=g},J=()=>{v.remarks===null||v.remarks==""?n.error("Remarks is required"):(ue(R.value.taskdate).format("YYYY-MM-DD")===ue().format("YYYY-MM-DD")?v.status="HIT":v.status="MISS",q.put("/web/dailytask/onhandler/"+R.value.dailytask_id,{startdate:R.value.startdate,remarks:v.remarks,status:v.status}).then(T=>{console.log(T.data),ie(),$("#onRemarksModal").modal("hide"),n.success(T.data.message)}))},W=r(null),ke=r([]);return r(null),he(W,Ae.exports.debounce(()=>{ie()},300)),me(()=>{ut(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ie(),document.title=b}),(g,T)=>(a(),o(B,null,[e("div",rr,[e("div",ur,[e("div",_r,[e("div",mr,[e("div",pr,t(u(j).user.first_name+" "+u(j).user.last_name)+" - My Prio ",1)]),e("div",hr,[e("div",vr,[e("div",br,[e("div",{class:"d-flex"},[e("button",{onClick:He,type:"button",class:"mb-2 btn btn-primary"},[fr,L(" Task ")])]),e("div",$r,[te(e("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=h=>W.value=h),class:"form-control",placeholder:"Search..."},null,512),[[ce,W.value]])])]),e("div",yr,[m.value?(a(),re(Pe,{key:0})):(a(),o("div",gr,[_.value.length===0?(a(),o("div",kr,[e("div",wr,[e("div",xr,[e("div",Cr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,Sr),Dr])])])])):(a(),o("div",Vr,[(a(!0),o(B,null,X(_.value,h=>(a(),o("div",{class:"card card-primary",key:h.id},[e("div",Ur,[e("h4",Mr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+h.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Pr),L(" \xA0"),e("b",null,t(u(ue)(h.taskdate).format("MMMM D, YYYY")+" - "+h.site_name),1)],8,Ar)]),e("div",Tr,[h.tasktypeid&&h.tasktypeid!==6?(a(),o("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>U(h)},Fr,8,Er)):A("",!0),!h.enddate&&h.tasktypeid!==6?(a(),o("button",{key:1,disabled:h.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ve=>et(h)}," End ",8,Lr)):A("",!0),h.tasktypeid&&h.tasktypeid===6?(a(),o("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>Re(h)}," Complete ",8,Ir)):A("",!0),!h.startdate&&h.tasktypeid!==6?(a(),o("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ve=>Ze(h)}," Start ",8,Rr)):A("",!0),Nr])]),e("div",{id:"collapse"+h.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Br,[e("div",jr,[e("div",Hr,[e("div",Or,[e("div",zr,[e("h5",null,[Jr,L(" "+t(h.site_name),1)]),e("h5",null,[Gr,L(" "+t(h.plandate),1)]),e("h5",null,[Qr,L(" "+t(h.planenddate),1)])]),e("div",Wr,[e("h5",null,[Kr,L(" "+t(h.startdate!==null?u(ue)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Xr,L(" "+t(h.enddate!==null?u(ue)(h.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Zr,[eu,L(" "+t(h.tasktype?h.tasktype.join(", "):""),1)])]),e("div",tu,[e("h5",su,[au,L(" "+t(h.status),1)]),e("h5",null,[ou,L(" "+t(h.attachment),1)]),e("h5",null,[lu,L(" "+t(h.remarks),1)])])]),e("div",nu,[e("button",{disabled:h.startdate!==null,onClick:ve=>K(h.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,du),e("button",{onClick:ve=>He(h),type:"button",disabled:h.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,iu)])]),e("div",cu,[e("ul",ru,[e("li",uu,[L(" Site: "),e("span",_u,t(h.site_name),1)]),e("li",mu,[L(" Planned Date: "),e("span",pu,t(h.plandate),1)]),e("li",hu,[L(" Planned End Date: "),e("span",vu,t(h.planenddate),1)]),e("li",bu,[L(" Start Date: "),e("span",fu,t(h.startdate!==null?u(ue)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",$u,[L(" Type: "),e("span",yu,t(h.tasktype?h.tasktype.join(", "):""),1)]),e("li",gu,[L(" Status: "),e("span",ku,t(h.status),1)]),e("li",wu,[L(" Attachment: "),e("span",xu,t(h.attachment),1)]),e("li",Cu,[L(" Remarks: "),e("span",Su,t(h.remarks),1)])]),Du,e("div",Vu,[e("div",Uu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ve=>He(h)},[Au,L(" Edit ")],8,Mu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ve=>K(h.dailytask_id)},Eu,8,Pu)])])])])])],8,Yr)]))),128))]))]))])])])])])]),e("div",qu,[e("div",Fu,[e("div",Lu,[e("div",Iu,[e("h5",Ru,[f.value?(a(),o("span",Nu,"Edit My Task")):(a(),o("span",Yu,"Add My Task")),f.value?(a(),o("span",Bu,t(D.value),1)):A("",!0)]),ju]),p(u(Ue),{onSubmit:Xe},{default:Z(()=>[e("div",Hu,[e("div",Ou,[e("div",zu,[e("div",Ju,[p(u(H),{modelValue:v.user_id,"onUpdate:modelValue":T[1]||(T[1]=h=>v.user_id=h),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Gu,[Qu,te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":T[2]||(T[2]=h=>v.site=h)},[Wu,(a(!0),o(B,null,X(d.value,h=>(a(),o("option",{key:h.id,value:h.id},t(h.site_name),9,Ku))),128))],512),[[Te,v.site]])]),f.value==!1?(a(),o("div",Xu,[e("div",Zu,[e("div",e_,[t_,p(u(qe),{class:"form-control",modelValue:G.value,"onUpdate:modelValue":T[3]||(T[3]=h=>G.value=h)},null,8,["modelValue"])]),e("div",s_,[a_,te(e("select",{class:"form-control","onUpdate:modelValue":T[4]||(T[4]=h=>ee.value=h),id:"plandate"},[(a(!0),o(B,null,X(Q.value,h=>(a(),o("option",{key:h,value:h},t(h),9,o_))),128))],512),[[Te,ee.value]])])]),l_])):A("",!0),f.value==!1?(a(),o("div",n_,[e("div",d_,[e("div",i_,[c_,p(u(qe),{class:"form-control",modelValue:P.value,"onUpdate:modelValue":T[5]||(T[5]=h=>P.value=h)},null,8,["modelValue"])]),e("div",r_,[u_,te(e("select",{class:"form-control","onUpdate:modelValue":T[6]||(T[6]=h=>Y.value=h),id:"plandate"},[(a(!0),o(B,null,X(S.value,h=>(a(),o("option",{key:h,value:h},t(h),9,__))),128))],512),[[Te,Y.value]])])]),m_])):A("",!0),e("div",p_,[h_,p(u(H),{name:"tasktype"},{default:Z(()=>[te(e("select",{"onUpdate:modelValue":T[7]||(T[7]=h=>v.tasktype=h),class:"form-control",required:!0},[v_,(a(!0),o(B,null,X(O.value,h=>(a(),o("option",{key:h.value,value:h.value},t(h.name),9,b_))),128))],512),[[Te,v.tasktype]])]),_:1})])])])])]),f_]),_:1})])])]),e("div",$_,[e("div",y_,[e("div",g_,[e("div",k_,[e("h5",w_," My Todo of "+t(u(ue)(i.value).format("MM/D/YYYY")),1),x_]),e("div",C_,[S_,e("div",D_,[e("div",V_,[k.value.length>0?(a(),o("div",U_,[l.value?(a(),re(Pe,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[M_,A_]),_:1})):A("",!0),(a(!0),o(B,null,X(k.value,h=>(a(),o("ul",{class:"list-group",key:h.id},[h.iscompleted!==1?(a(),o("li",P_,[e("div",T_,[e("div",null,[e("span",{class:M({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[C.value?(a(),o("i",{key:0,onClick:ve=>x(h),class:M({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,E_)):A("",!0),L(" "+t(h.task_name),1)],2)]),e("div",q_,[e("button",{onClick:ve=>F(h),class:"btn btn-outline"},I_,8,F_)])])])):A("",!0)]))),128)),e("li",R_,[le.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-secondary",onClick:E},[e("i",{class:M(["fa",w.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Completed "+t(le.value),1)])):A("",!0)]),w.value?(a(),o("div",N_,[(a(!0),o(B,null,X(k.value,h=>(a(),o("ul",{class:"list-group",key:h.id},[h.iscompleted===1?(a(),o("li",Y_,[e("div",B_,[e("div",null,[e("span",{class:M({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[C.value?(a(),o("i",{key:0,onClick:ve=>x(h),class:M({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,j_)):A("",!0),L(" "+t(h.task_name),1)],2)]),e("div",H_,[e("button",{onClick:ve=>F(h),class:"btn btn-outline"},J_,8,O_)])])])):A("",!0)]))),128))])):A("",!0)])):(a(),o("div",G_,W_))]),e("div",K_,[p(u(Ue),{onSubmit:y},{default:Z(()=>[e("div",X_,[e("div",Z_,[e("div",em,[p(u(H),{modelValue:V.value.dailytask_id,"onUpdate:modelValue":T[8]||(T[8]=h=>V.value.dailytask_id=h),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",tm,[p(u(H),{modelValue:V.value.task_name,"onUpdate:modelValue":T[9]||(T[9]=h=>V.value.task_name=h),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),sm]),_:1})])])])])])]),e("div",am,[e("div",om,[e("div",lm,[nm,e("div",dm,[e("div",im,[e("div",cm,[e("div",rm,[p(u(H),{modelValue:v.remarks,"onUpdate:modelValue":T[10]||(T[10]=h=>v.remarks=h),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",um,[e("button",{onClick:T[11]||(T[11]=se(h=>J(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),_m])])])]),e("div",mm,[e("div",pm,[e("div",hm,[vm,e("div",bm,[e("button",{onClick:T[12]||(T[12]=se((...h)=>g.deleteUser&&g.deleteUser(...h),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),fm])])])])],64))}};var ym=$e($m,[["__scopeId","data-v-0c8371d9"]]);const gm={class:"text-center"},km={key:0},wm={class:"text-center"},xm={key:0},Cm={class:"text-center"},Sm={key:0,class:"bg-success text-center"},Dm={key:1,class:"bg-danger text-center"},Vm={key:2,class:"text-center"},Um={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(s){return pe(),_e(),(b,m)=>(a(),o("tr",null,[e("td",null,t(u(ue)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",gm,[s.item.task_lists_count!==0?(a(),o("span",km,t(s.item.task_lists_count),1)):A("",!0)]),e("td",wm,[s.item.completed_task_count!==0?(a(),o("span",xm,t(s.item.completed_task_count),1)):A("",!0)]),e("td",Cm,[e("span",null,t(s.item.remarks),1)]),s.item.status==="HIT"?(a(),o("td",Sm,t(s.item.status),1)):s.item.status==="MISS"?(a(),o("td",Dm,t(s.item.status),1)):s.item.status===null||s.item.status===""?(a(),o("td",Vm,t(s.item.status===null||s.item.status===""?"On Going!":""),1)):A("",!0),e("td",{class:M({"bg-danger":s.item.percentage_completed>=0&&s.item.percentage_completed<=59,"bg-orange":s.item.percentage_completed>60&&s.item.percentage_completed<=90,"bg-success":s.item.percentage_completed===100,"text-center":!0})},t(s.item.percentage_completed+"%"),3)]))}};const ye=s=>(Se("data-v-323d585d"),s=s(),De(),s),Mm={class:"content-header"},Am={class:"container-fluid"},Pm={class:"col-12"},Tm={class:"card",id:"captureVSCContainer"},Em={class:"card-header"},qm={class:"card-title"},Fm={class:"card-tools"},Lm={class:"card-body"},Im=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),Rm=[Im],Nm={key:1,class:"row"},Ym={class:"inner"},Bm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},jm=["src"],Hm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Om={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},zm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Jm={style:{"text-align":"left"}},Gm={key:0},Qm=ye(()=>e("span",{class:"text-light badge"},"Todos",-1)),Wm={class:"list-group-item"},Km={style:{display:"flex","align-items":"left"}},Xm={class:"ml-1"},Zm={class:"ml-1"},ep={class:"float-right"},tp={id:"captureHitRateContainer",class:"card"},sp={class:"card-header"},ap={class:"card-title"},op={class:"card-body"},lp={class:"content"},np={class:"container-fluid"},dp=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),ip=[dp],cp={class:"dispatch-table"},rp={class:"table-responsive"},up={class:"table table-bordered table-hover table-sm"},_p=ye(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),mp=ye(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),pp={class:"text-center"},hp={class:"text-center"},vp=ye(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),bp=ye(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),fp=["item"],$p={class:"list-field"},yp=ye(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),gp={class:"list-field"},kp=ye(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),wp={key:0},xp={class:"list-field"},Cp=ye(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Sp={key:0},Dp={class:"list-field"},Vp=ye(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),Up={class:"list-field"},Mp=ye(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),Ap={class:"list-field"},Pp=ye(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),Tp={class:"float-right"},Ep={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qp={class:"modal-dialog modal-sm",role:"document"},Fp={class:"modal-content"},Lp=ye(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Ip={class:"modal-body"},Rp={class:"fromtocenter"},Np=ye(()=>e("label",{for:"fromDate"},"From:",-1)),Yp=ye(()=>e("label",{for:"toDate"},"To:",-1)),Bp=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),jp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hp={class:"modal-dialog modal-sm",role:"document"},Op={class:"modal-content"},zp=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Jp={class:"modal-body"},Gp={class:"container"},Qp={class:"row"},Wp=["onClick"],Kp=ye(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Xp={__name:"MyVsc",setup(s){const b=`${fe().name}`,m=_e(),l=r(!1),c=r(0),n=r(0),_=r(0),k=r([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),w=r((()=>{const v={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",v)})()),f=()=>{const v=document.getElementById("captureVSCContainer");Ge(v).then(R=>{const V=R.toDataURL(),z=document.createElement("a");z.href=V,z.download=`${m.user.first_name+" "+m.user.last_name} - ${b}.png`,z.click()})},D=()=>{const v=document.getElementById("captureHitRateContainer");Ge(v).then(R=>{const V=R.toDataURL(),z=document.createElement("a");z.href=V,z.download=`${m.user.first_name+" "+m.user.last_name} - My HIT RATE.png`,z.click()})};r(null),r("today");const i=r({data:[]}),C=r({data:[]}),j=()=>{l.value=!0,axios.get("/api/myvsc").then(v=>{l.value=!1,i.value=v.data.dailyTasks,C.value=v.data.TaskList,c.value=v.data.totaltasklist,n.value=v.data.totalcomplettask,_.value=v.data.totalpercentcomplete})},O=()=>{$("#FormModalfilterDate").modal("show")},G=r({start_date:"",end_date:""}),ee=r(""),P=r("");he([ee],()=>{const v=new Date(ee.value),R=v.getFullYear(),V=String(v.getMonth()+1).padStart(2,"0"),z=String(v.getDate()).padStart(2,"0");G.value.start_date=`${R}-${V}-${z}`}),he([P],()=>{const v=new Date(P.value),R=v.getFullYear(),V=String(v.getMonth()+1).padStart(2,"0"),z=String(v.getDate()).padStart(2,"0");G.value.end_date=`${R}-${V}-${z}`});const Y=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:G.value.start_date,end_date:G.value.end_date}}).then(v=>{l.value=!1,i.value=v.data.dailyTasks,C.value=v.data.TaskList}).catch(v=>{console.error(v)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},Q=()=>{$("#FormModalPickerThemes").modal("show")},S=v=>{if(v){const R=m.user.id;axios.post("/api/changethemes",{userid:R,background:v.background,active_background:v.active_background,font_background:v.font_background}).then(V=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(z=>{l.value=!1,i.value=z.data.dailyTasks,C.value=z.data.TaskList})}).catch(V=>{console.error(V)})}else console.error("Invalid item:",v)};return me(()=>{j(),document.title=b}),(v,R)=>(a(),o(B,null,[e("div",Mm,[e("div",Am,[e("div",Pm,[e("div",Tm,[e("div",Em,[e("div",qm,[e("h5",null,t(u(m).user.first_name+" "+u(m).user.last_name)+" - "+t(b),1)]),e("div",Fm,[e("i",{onClick:R[0]||(R[0]=V=>Q()),class:"fas fa-palette"})])]),e("div",Lm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-sm btn-success"},Rm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:O})])]),l.value?(a(),re(Pe,{key:0})):(a(),o("div",Nm,[(a(!0),o(B,null,X(i.value,V=>(a(),o("div",{class:"col-lg-3 col-6",key:V.id},[e("div",{class:"small-box",style:tt("background-color: "+(u(ue)(V.taskdate).format("MMMM D, YYYY")===w.value?V.active_background==""?"#72461F":V.active_background:V.background==""?"#B98D65":V.background)+";")},[e("div",Ym,[e("div",Bm,[L(t(u(ue)(V.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,jm)]),e("div",Hm,t(u(ue)(V.taskdate).format("MMMM D, YYYY")),1),V.tasktype!==6?(a(),o("div",Om,t(V.site_name),1)):A("",!0),V.tasktype===6?(a(),o("div",zm," Holiday ")):A("",!0),e("div",Jm,[V.task_lists&&V.task_lists.length>0?(a(),o("div",Gm,[Qm,(a(!0),o(B,null,X(V.task_lists,z=>(a(),o("ul",{class:"list-group list-group-flush",key:z.id},[e("li",Wm,[e("div",Km,[e("div",Xm,[e("i",{class:M(z.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Zm,t(z.task_name),1)])])]))),128))])):A("",!0)])])],4)]))),128))])),e("div",ep,t(w.value),1)])]),e("div",tp,[e("div",sp,[e("div",ap,[e("h5",null,t(u(m).user.first_name+" "+u(m).user.last_name)+" - My HIT RATE ",1)])]),e("div",op,[e("div",lp,[e("div",np,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:D,type:"button",class:"mb-2 btn btn-sm btn-success"},ip)])]),e("div",cp,[e("div",rp,[e("table",up,[_p,e("tbody",null,[(a(!0),o(B,null,X(C.value,V=>(a(),re(Um,{key:V.id,item:V},null,8,["item"]))),128)),e("tr",null,[mp,e("td",pp,[e("strong",null,t(c.value),1)]),e("td",hp,[e("strong",null,t(n.value),1)]),vp,bp,e("td",{class:M({"bg-danger":_.value>=0&&_.value<=59,"bg-orange":_.value>60&&_.value<=90,"bg-success":_.value===100,"text-center":!0})},[e("strong",null,t(_.value.toFixed(2)+"%"),1)],2)])])])])]),(a(!0),o(B,null,X(C.value,V=>(a(),o("div",{class:"dispatch-list",key:V.id,item:V},[e("div",{class:M([{"callout callout-success":V.remarks==="HIT","callout callout-danger":V.remarks==="MISS",callout:V.remarks===null}])},[e("div",$p,[yp,e("span",null,t(u(ue)(V.taskdate).format("MMMM D, YYYY")),1)]),e("div",gp,[kp,V.task_lists_count!==0?(a(),o("span",wp,t(V.task_lists_count),1)):A("",!0)]),e("div",xp,[Cp,V.completed_task_count!==0?(a(),o("span",Sp,t(V.completed_task_count),1)):A("",!0)]),e("div",Dp,[Vp,e("span",null,t(V.remarks),1)]),e("div",Up,[Mp,e("span",{class:M(["badge",V.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(V.status),1)],2)]),e("div",Ap,[Pp,e("span",{class:M(["badge",{"bg-danger":V.percentage_completed>=0&&V.percentage_completed<=59},{"bg-orange":V.percentage_completed>60&&V.percentage_completed<=90},{"bg-success":V.percentage_completed===100}])},t(V.percentage_completed+"%"),3)])],2)],8,fp))),128))])]),e("div",Tp,t(w.value),1)])])])])]),e("div",Ep,[e("div",qp,[e("div",Fp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(b)+" Summary Report")]),Lp]),e("div",Ip,[e("div",Rp,[e("div",null,[Np,p(u(qe),{modelValue:ee.value,"onUpdate:modelValue":R[1]||(R[1]=V=>ee.value=V)},null,8,["modelValue"])]),e("div",null,[Yp,p(u(qe),{modelValue:P.value,"onUpdate:modelValue":R[2]||(R[2]=V=>P.value=V)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Bp,e("button",{onClick:Y,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",jp,[e("div",Hp,[e("div",Op,[zp,e("div",Jp,[e("div",Gp,[e("div",Qp,[(a(!0),o(B,null,X(k.value,V=>(a(),o("div",{class:"col-md-4",key:V.background},[e("div",{class:"box",onClick:z=>S(V)},[e("div",{class:"column",style:tt({"background-color":V.background})}," \xA0 ",4),e("div",{class:"column",style:tt({"background-color":V.active_background})}," \xA0 ",4)],8,Wp)]))),128))])])]),Kp])])])],64))}};var Zp=$e(Xp,[["__scopeId","data-v-323d585d"]]);const eh={class:"text-center"},th={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(s){return pe(),_e(),(b,m)=>(a(),o("tr",null,[e("td",null,t(s.item.sitename),1),e("td",null,t(u(ue)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(s.item.startdate),1),e("td",null,t(s.item.enddate),1),e("td",null,t(s.item.tasktype.listtask),1),e("td",eh,[e("span",{class:M(["badge",s.item.status==="HIT"?"bg-success":"bg-danger"])},t(s.item.status),3)]),e("td",null,t(s.item.remarks),1)]))}};var sh=$e(th,[["__scopeId","data-v-b058f1b2"]]);const Ve=s=>(Se("data-v-65d2a690"),s=s(),De(),s),ah={class:"content"},oh={class:"container-fluid"},lh={class:"card",id:"capturePrioContainer"},nh={class:"card-header"},dh={class:"card-title"},ih={class:"card-body"},ch={key:1,class:"content"},rh={class:"container-fluid"},uh=Ve(()=>e("i",{class:"fa fa-camera"},null,-1)),_h=[uh],mh={class:"dispatch-table"},ph={class:"table-responsive"},hh={class:"table table-bordered table-sm table-striped table-hover"},vh=Ve(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),bh={key:0},fh={key:1},$h=Ve(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),yh=[$h],gh=["item","index"],kh={class:"card"},wh={class:"card-body"},xh={class:"list-field"},Ch=Ve(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Sh={class:"list-field"},Dh=Ve(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),Vh={class:"list-field"},Uh=Ve(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),Mh={class:"list-field"},Ah=Ve(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),Ph={class:"list-field"},Th=Ve(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),Eh={class:"list-field"},qh=Ve(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Fh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Lh={class:"modal-dialog modal-sm",role:"document"},Ih={class:"modal-content"},Rh=Ve(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Nh={class:"modal-body"},Yh={class:"fromtocenter"},Bh=Ve(()=>e("label",{for:"fromDate"},"From:",-1)),jh=Ve(()=>e("label",{for:"toDate"},"To:",-1)),Hh=Ve(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Oh={__name:"MyClosePrioList",setup(s){const b=`${fe().name}`,m=r(!1);pe();const l=r({data:[]}),c=r(""),n=r(""),_=_e(),k=(D=1)=>{m.value=!0,q.get(`/api/mycloseprio?page=${D}`,{params:{query:f.value}}).then(i=>{m.value=!1,l.value=i.data})},d=()=>{const D=document.getElementById("capturePrioContainer");Ge(D).then(i=>{const C=i.toDataURL(),j=document.createElement("a");j.href=C,j.download="MY CLOSED PRIO.png",j.click()})},w=()=>{m.value=!0,q.get("/api/filter-closeprio",{params:{start_date:c.value,end_date:n.value}}).then(D=>{m.value=!1,l.value=D.data.dailyTasks}).catch(D=>{console.error(D)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},f=r(null);return he(f,Ae.exports.debounce(()=>{k()},300)),me(()=>{k(),document.title=b}),(D,i)=>{const C=be("font");return a(),o(B,null,[e("div",ah,[e("div",oh,[e("div",lh,[e("div",nh,[e("div",dh,[e("h5",null,t(u(_).user.first_name+" "+u(_).user.last_name)+" - My Closed Prio ",1)])]),e("div",ih,[m.value?(a(),re(Pe,{key:0})):(a(),o("div",ch,[e("div",rh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:d,type:"button",class:"mb-2 btn btn-sm btn-success"},_h)])]),e("div",null,[e("div",mh,[e("div",ph,[p(C,{size:"2"},{default:Z(()=>[e("table",hh,[vh,l.value.data.length>0?(a(),o("tbody",bh,[(a(!0),o(B,null,X(l.value.data,(j,O)=>(a(),re(sh,{key:j.id,item:j,index:O},null,8,["item","index"]))),128))])):(a(),o("tbody",fh,yh))])]),_:1})])]),(a(!0),o(B,null,X(l.value.data,(j,O)=>(a(),o("div",{class:"dispatch-list first-letter:shadow",key:j.id,item:j,index:O},[e("div",kh,[e("div",wh,[e("div",xh,[Ch,e("span",null,t(j.sitename),1)]),e("div",Sh,[Dh,e("span",null,t(u(ue)(j.taskdate).format("MMMM D, YYYY")),1)]),e("div",Vh,[Uh,e("span",null,t(j.startdate),1)]),e("div",Mh,[Ah,e("span",null,t(j.enddate),1)]),e("div",Ph,[Th,e("span",null,t(j.tasktype.listtask),1)]),e("div",Eh,[qh,e("span",{class:M(["badge",j.remarks==="HIT"?"bg-success":"bg-danger"])},t(j.remarks),3)])])])],8,gh))),128))])])]))])]),p(u(Fe),{data:l.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",Fh,[e("div",Lh,[e("div",Ih,[Rh,e("div",Nh,[e("div",Yh,[e("div",null,[Bh,p(u(qe),{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=j=>c.value=j)},null,8,["modelValue"])]),e("div",null,[jh,p(u(qe),{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=j=>n.value=j)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Hh,e("button",{onClick:w,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var zh=$e(Oh,[["__scopeId","data-v-65d2a690"]]);const Jh={class:"text-center"},Gh=e("i",{class:"fa fa-edit"},null,-1),Qh=[Gh],Wh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:b}){return pe(),(m,l)=>(a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",Jh,[e("a",{href:"#",onClick:l[0]||(l[0]=se(c=>m.$emit("editUser",s.user),["prevent"]))},Qh)])]))}},Kh={class:"content"},Xh={class:"container-fluid"},Zh={class:"card"},ev={class:"card-header"},tv=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),sv={class:"card-tools"},av={class:"card-body"},ov={class:"table-responsive"},lv={class:"table table-bordered table-hover table-sm"},nv=e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Options")])],-1),dv={key:0},iv={key:1},cv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),rv=[cv],uv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_v={class:"modal-dialog modal-sm",role:"document"},mv={class:"modal-content"},pv={class:"modal-header"},hv={class:"modal-title",id:"staticBackdropLabel"},vv={key:0},bv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),fv={class:"modal-body"},$v={class:"table table-sm"},yv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),gv={colspan:"5"},kv={class:"custom-control custom-checkbox"},wv=["value","id","checked"],xv=["for"],Cv={key:0,class:"table table-sm"},Sv={class:"text-danger"},Dv={class:"custom-control custom-checkbox"},Vv=["value","id"],Uv=["for"],Mv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Av={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Pv={class:"modal-dialog",role:"document"},Tv={class:"modal-content"},Ev=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),qv={class:"modal-footer"},Fv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Lv={__name:"UserMenuList",setup(s){const b=`${fe().name}`,m=pe(),l=r({data:[]}),c=r(!1),n=r(),_=r(null),k=r(null),d=r([]),w=(P=1)=>{q.get(`/api/users?page=${P}`,{params:{query:i.value}}).then(Y=>{l.value=Y.data,C.value=[],selectAll.value=!1})},f=P=>{q.get("/api/usermenu",{params:{user_id:P.id}}).then(Y=>{ee.value=Y.data,console.log(Y.data)}).catch(Y=>{console.log(Y)}),c.value=!0,_.value.resetForm(),$("#userFormModal").modal("show"),n.value={id:P.id,username:P.username,email:P.email,first_name:P.first_name,last_name:P.last_name},k.value=n.value.first_name+" "+n.value.last_name},D=()=>{const P={user_id:n.value.id,menu_id:d.value};console.log(P),q.post("/api/usermenu",P).then(Y=>{m.success("User Menu Save successfully!")}).catch(Y=>{setErrors(Y.response.data.errors)})},i=r(null),C=r([]),j=P=>{const Y=C.value.indexOf(P.id);Y===-1?C.value.push(P.id):C.value.splice(Y,1),console.log(C.value)},O=r(null),G=P=>{O.value=P,$("#deleteUserModal").modal("show")},ee=r({data:[]});return he(i,Ae.exports.debounce(()=>{w()},300)),me(()=>{w(),document.title=b}),(P,Y)=>{const Q=be("font");return a(),o(B,null,[e("div",Kh,[e("div",Xh,[e("div",Zh,[e("div",ev,[tv,e("div",sv,[te(e("input",{type:"text","onUpdate:modelValue":Y[0]||(Y[0]=S=>i.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ce,i.value]])])]),e("div",av,[e("div",ov,[p(Q,{size:"2"},{default:Z(()=>[e("table",lv,[nv,l.value.data.length>0?(a(),o("tbody",dv,[(a(!0),o(B,null,X(l.value.data,(S,v)=>(a(),re(Wh,{key:S.id,user:S,index:v,onEditUser:f,onConfirmUserDeletion:G,onToggleSelection:j,"select-all":P.selectAll},null,8,["user","index","select-all"]))),128))])):(a(),o("tbody",iv,rv))])]),_:1})])])]),p(u(Fe),{data:l.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",uv,[e("div",_v,[e("div",mv,[e("div",pv,[e("h5",hv,[c.value?(a(),o("span",vv,"User Menu for "+t(k.value),1)):A("",!0)]),bv]),p(u(Ue),{ref_key:"form",ref:_,onSubmit:D,"initial-values":n.value},{default:Z(()=>[e("div",fv,[e("table",$v,[yv,(a(!0),o(B,null,X(ee.value,S=>(a(),o("tr",{key:S.menu_id},[e("td",gv,[e("div",kv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":Y[1]||(Y[1]=v=>d.value=v),value:S.menu_id,id:"menu_id_"+S.menu_id,checked:S.hasAccess},null,8,wv),[[Ee,d.value]]),e("label",{for:"menu_id_"+S.menu_id,class:"custom-control-label"},t(S.menu_title),9,xv)]),S.submenus&&S.submenus.length>0?(a(),o("table",Cv,[(a(!0),o(B,null,X(S.submenus,v=>(a(),o("tr",{key:v.id},[e("td",Sv,[e("div",Dv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":Y[2]||(Y[2]=R=>d.value=R),value:v.menu_id,id:"menu_id_"+v.menu_id},null,8,Vv),[[Ee,d.value]]),e("label",{for:"menu_id_"+v.menu_id,class:"custom-control-label"},t(v.menu_title),9,Uv)])])]))),128))])):A("",!0)])]))),128))])]),Mv]),_:1},8,["initial-values"])])])]),e("div",Av,[e("div",Pv,[e("div",Tv,[Ev,e("div",qv,[Fv,e("button",{onClick:Y[3]||(Y[3]=se((...S)=>P.deleteUser&&P.deleteUser(...S),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const _t=s=>(Se("data-v-1f6da5a7"),s=s(),De(),s),Iv=["checked"],Rv=["innerHTML"],Nv={style:{"text-align":"center"}},Yv={class:"text-center"},Bv=_t(()=>e("i",{class:"fa fa-edit"},null,-1)),jv=[Bv],Hv=_t(()=>e("i",{class:"fa fa-trash"},null,-1)),Ov=[Hv],zv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(s,{emit:b}){pe(),_e();const m=s,l=b,c=()=>{l("toggleSelection",m.item)};return(n,_)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:c},null,40,Iv)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.menu_title),1),e("td",null,t(s.item.parent_title),1),e("td",null,t(s.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${s.item.menu_icon}'></i>`},null,8,Rv),e("td",null,t(s.item.sort_order),1),e("td",Nv,[e("i",{class:M({"fas fa-check-circle":s.item.is_active===1,"far fa-circle":s.item.is_active!==1})},null,2)]),e("td",null,t(s.item.created_at),1),e("td",Yv,[e("button",{class:"btn btn-sm bg-primary",onClick:_[0]||(_[0]=se(k=>n.$emit("editMenu",s.item),["prevent"]))},jv),L("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:_[1]||(_[1]=se(k=>n.$emit("confirmDeletion",s.item.menu_id),["prevent"]))},Ov)])]))}};var Jv=$e(zv,[["__scopeId","data-v-1f6da5a7"]]);const Gv=["type","name","value"],Qv=e("span",{class:"check"},null,-1),Wv={class:"pl-2"},Kv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,l=b,c=we({get:()=>m.modelValue,set:_=>{l("update:modelValue",_)}}),n=we(()=>m.type==="radio"?"radio":"checkbox");return(_,k)=>(a(),o("label",{class:M([s.type,"mr-6 mb-3 last:mr-0"])},[te(e("input",{"onUpdate:modelValue":k[0]||(k[0]=d=>c.value=d),type:n.value,name:s.name,value:s.inputValue},null,8,Gv),[[st,c.value]]),Qv,e("span",Wv,t(s.label),1)],2))}},Xv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,l=b,c=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(a(),o("div",{class:M(["flex justify-start flex-wrap -mb-3",{"flex-col":s.isColumn}])},[(a(!0),o(B,null,X(s.options,(k,d)=>(a(),re(Kv,{key:d,modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=w=>c.value=w),type:s.type,name:s.name,"input-value":d,label:k,class:M(s.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Zv={class:"content"},eb={class:"container-fluid"},tb={class:"d-flex justify-content-between"},sb={class:"d-flex"},ab=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ob={key:0},lb=e("i",{class:"fa fa-trash mr-1"},null,-1),nb={class:"ml-2"},db={class:"card"},ib={class:"card-body"},cb={class:"table-responsive"},rb={class:"table table-bordered table-sm"},ub=e("th",{style:{width:"10px"}},"#",-1),_b=e("th",null,"Title",-1),mb=e("th",null,"Parent Menu",-1),pb=e("th",null,"Route",-1),hb=e("th",null,"Icon",-1),vb=e("th",null,"Sort",-1),bb=e("th",null,"Active",-1),fb=e("th",null,"Date",-1),$b=e("th",null,"Action",-1),yb={key:0},gb={key:1},kb=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),wb=[kb],xb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Cb={class:"modal-dialog modal-sm",role:"document"},Sb={class:"modal-content"},Db={class:"modal-header"},Vb={class:"modal-title",id:"staticBackdropLabel"},Ub={key:0},Mb={key:1},Ab=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Pb={class:"modal-body"},Tb={class:"col-md-12"},Eb={class:"row"},qb={class:"col-12"},Fb={class:"form-group"},Lb=e("label",{for:"user"},"Menu Title",-1),Ib={class:"invalid-feedback"},Rb={class:"form-group"},Nb=e("label",{for:"department"},"Parent Menu",-1),Yb=e("option",{value:"0"},"None",-1),Bb=["value"],jb={class:"form-group"},Hb=e("label",{for:"warehouse"},"Icon",-1),Ob={class:"invalid-feedback"},zb={class:"form-group"},Jb=e("label",{for:"user"},"Route",-1),Gb={class:"invalid-feedback"},Qb={class:"form-group"},Wb=e("label",{for:"user"},"Sort",-1),Kb={class:"invalid-feedback"},Xb={class:"form-group"},Zb=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),e1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},t1={class:"modal-dialog",role:"document"},s1={class:"modal-content"},a1=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),o1={class:"modal-footer"},l1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),n1={__name:"MenuList",setup(s){const b=`${fe().name}`,m=pe(),l=r({data:[]}),c=r({data:[]}),n=r(!1),_=r(!1);r();const k=r(!0),d=Me({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),w=_e();r(null);const f=r(),D=(K=1)=>{n.value=!0,q.get(`/web/menulist?page=${K}`,{params:{query:P.value}}).then(I=>{n.value=!1,l.value=I.data,Y.value=[],z.value=!1})},i=()=>{q.get("/web/GetParentId").then(K=>{c.value=K.data}).catch(K=>{console.error(K)})};xe({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()}),xe({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()});const C=({resetForm:K,setErrors:I})=>{q.post("/web/menulist",{menu_title:d.menu_title,parent_id:d.parent_id,menu_icon:d.menu_icon,menu_route:d.menu_route,sort_order:d.sort_order,is_active:d.is_active}).then(U=>{l.value.data.unshift(U.data),$("#FormModal").modal("hide"),K(),m.success("User created successfully!")}).catch(U=>{U.response.data.errors&&I(U.response.data.errors)})},j=()=>{_.value=!1,$("#FormModal").modal("show")},O=K=>{_.value=!0,d.menu_id=K.menu_id,d.menu_title=K.menu_title,d.parent_id=K.parent_id,d.menu_icon=K.menu_icon,d.menu_route=K.menu_route,d.sort_order=K.sort_order,d.is_active===1?k.value=!0:k.value=!1,d.is_active=K.is_active,$("#FormModal").modal("show"),f.value=K.parent_id},G=({setErrors:K})=>{q.post("/web/menulist",d).then(I=>{D(),$("#FormModal").modal("hide"),m.success("successfully Updated!")}).catch(I=>{K(I.response.data.errors),console.log(I)})},ee=(K,I)=>{_.value?G(K):C(K)},P=r(null),Y=r([]),Q=K=>{const I=Y.value.indexOf(K.id);I===-1?Y.value.push(K.id):Y.value.splice(I,1),console.log(Y.value)},S=r(null),v=K=>{S.value=K,$("#deleteClientModal").modal("show")},R=()=>{q.delete(`/web/menu/${S.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(K=>K.menu_id!==S.value)})},V=()=>{q.delete("menulist",{data:{ids:Y.value}}).then(K=>{l.value.data=l.value.data.filter(I=>!Y.value.includes(I.id)),Y.value=[],z.value=!1,m.success(K.data.message)})},z=r(!1),ie=()=>{z.value?Y.value=l.value.data.map(K=>K.id):Y.value=[],console.log(Y.value)};return he([k],K=>{d.is_active=K?1:0}),he(P,Ae.exports.debounce(()=>{D()},300)),me(()=>{D(),i(),document.title=b}),(K,I)=>{const U=be("font");return a(),o(B,null,[e("div",Zv,[e("div",eb,[e("div",tb,[e("div",sb,[e("button",{onClick:j,type:"button",class:"mb-2 btn btn-primary"},[ab,L(" Menu ")]),Y.value.length>0?(a(),o("div",ob,[e("button",{onClick:V,type:"button",class:"ml-2 mb-2 btn btn-danger"},[lb,L(" Delete Selected ")]),e("span",nb,"Selected "+t(Y.value.length)+" Menu",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=y=>P.value=y),class:"form-control",placeholder:"Search..."},null,512),[[ce,P.value]])])]),e("div",db,[e("div",ib,[n.value?(a(),re(Pe,{key:0})):A("",!0),e("div",cb,[p(U,{size:"2"},{default:Z(()=>[e("table",rb,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=y=>z.value=y),onChange:ie},null,544),[[Ee,z.value]])]),ub,_b,mb,pb,hb,vb,bb,fb,$b])]),l.value.data.length>0?(a(),o("tbody",yb,[(a(!0),o(B,null,X(l.value.data,(y,x)=>(a(),re(Jv,{key:y.id,item:y,index:x,onEditMenu:O,onConfirmDeletion:v,onToggleSelection:Q,"select-all":z.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",gb,wb))])]),_:1})])])]),p(u(Fe),{data:l.value,onPaginationChangePage:D},null,8,["data"])])]),e("div",xb,[e("div",Cb,[e("div",Sb,[e("div",Db,[e("h5",Vb,[_.value?(a(),o("span",Ub,"Edit Menu")):(a(),o("span",Mb,"Add Menu"))]),Ab]),p(u(Ue),{onSubmit:ee},{default:Z(({errors:y})=>[e("div",Pb,[e("div",Tb,[e("div",Eb,[e("div",qb,[p(u(H),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(w).user.id,"onUpdate:modelValue":I[2]||(I[2]=x=>u(w).user.id=x)},null,8,["modelValue"]),e("div",Fb,[Lb,p(u(H),{name:"menu_title",type:"text",class:M(["form-control",{"is-invalid":y.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:d.menu_title,"onUpdate:modelValue":I[3]||(I[3]=x=>d.menu_title=x)},null,8,["class","modelValue"]),e("span",Ib,t(y.menu_title),1)]),e("div",Rb,[Nb,te(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":I[4]||(I[4]=x=>d.parent_id=x)},[Yb,(a(!0),o(B,null,X(c.value,x=>(a(),o("option",{key:x.menu_id,value:x.menu_id},t(x.menu_title),9,Bb))),128))],512),[[Te,d.parent_id]])]),e("div",jb,[Hb,p(u(H),{name:"menu_icon",type:"text",class:M(["form-control",{"is-invalid":y.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:d.menu_icon,"onUpdate:modelValue":I[5]||(I[5]=x=>d.menu_icon=x)},null,8,["class","modelValue"]),e("span",Ob,t(y.menu_icon),1)]),e("div",zb,[Jb,p(u(H),{name:"menu_route",type:"text",class:M(["form-control",{"is-invalid":y.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:d.menu_route,"onUpdate:modelValue":I[6]||(I[6]=x=>d.menu_route=x)},null,8,["class","modelValue"]),e("span",Gb,t(y.menu_route),1)]),e("div",Qb,[Wb,p(u(H),{name:"sort_order",type:"text",class:M(["form-control",{"is-invalid":y.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:d.sort_order,"onUpdate:modelValue":I[7]||(I[7]=x=>d.sort_order=x)},null,8,["class","modelValue"]),e("span",Kb,t(y.sort_order),1)]),e("div",Xb,[p(Xv,{modelValue:d.is_active,"onUpdate:modelValue":I[8]||(I[8]=x=>d.is_active=x),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),Zb]),_:1})])])]),e("div",e1,[e("div",t1,[e("div",s1,[a1,e("div",o1,[l1,e("button",{onClick:se(R,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}},d1={class:"error-page"},i1=Ce('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),c1=[i1],r1="Page Not Found",mt={__name:"404",setup(s){return me(()=>{document.title=r1}),(b,m)=>(a(),o("div",d1,c1))}};const ne=s=>(Se("data-v-5c8db172"),s=s(),De(),s),u1={id:"exportPDF"},_1={class:"container"},m1=ne(()=>e("br",null,null,-1)),p1={class:"header"},h1=["src"],v1=["src"],b1={class:"header"},f1={class:"header-justify-space-between"},$1=ne(()=>e("br",null,null,-1)),y1=ne(()=>e("p",null,null,-1)),g1={key:0},k1=ne(()=>e("strong",null,null,-1)),w1=ne(()=>e("br",null,null,-1)),x1=ne(()=>e("br",null,null,-1)),C1=ne(()=>e("p",null,null,-1)),S1=ne(()=>e("strong",null,"Unit details",-1)),D1={class:"content"},V1={class:"header-justify-space-between"},U1=ne(()=>e("span",null,"Brand:",-1)),M1=ne(()=>e("br",null,null,-1)),A1=ne(()=>e("span",null,"Model:",-1)),P1=ne(()=>e("br",null,null,-1)),T1=ne(()=>e("div",null,null,-1)),E1=ne(()=>e("span",null,"Serial #:",-1)),q1=ne(()=>e("br",null,null,-1)),F1=ne(()=>e("span",null,"Asset Tag:",-1)),L1=ne(()=>e("br",null,null,-1)),I1=ne(()=>e("div",null,null,-1)),R1=ne(()=>e("strong",null,"Reported problem",-1)),N1={class:"content"},Y1=ne(()=>e("strong",null,"Assessment conducted",-1)),B1={class:"content"},j1=ne(()=>e("strong",null,"Recommendation",-1)),H1={class:"content"},O1={class:"header-justify-space-between"},z1=ne(()=>e("strong",null,"Evaluated by:",-1)),J1=ne(()=>e("br",null,null,-1)),G1={class:"botoom-line"},Q1=ne(()=>e("br",null,null,-1)),W1=ne(()=>e("p",null,null,-1)),K1=ne(()=>e("strong",null,"Noted by:",-1)),X1=ne(()=>e("br",null,null,-1)),Z1={class:"botoom-line"},ef=ne(()=>e("br",null,null,-1)),tf=ne(()=>e("br",null,null,-1)),sf=ne(()=>e("p",null,null,-1)),af={key:0},of={key:1},lf={key:0,class:"fab-container"},nf=ne(()=>e("i",{class:"fas fa-download"},null,-1)),df=[nf],cf={__name:"TechRecommApproved",setup(s){const b=`${fe().params.id}`,m=()=>{const n=document.getElementById("exportPDF");at().from(n).save(`${b}.pdf`)},l=Me({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),c=()=>{q.get(`/api/tech-recommendations/${fe().params.id}`).then(n=>{l.id=n.data.id,l.recommnum=n.data.recommnum,l.branch=n.data.branch,l.company=n.data.company,l.department=n.data.department,l.warehouse=n.data.warehouse,l.user=n.data.user,l.problem=n.data.problem,l.brand=n.data.brand,l.model=n.data.model,l.assettag=n.data.assettag,l.serialnum=n.data.serialnum,l.status=n.data.status,l.assconducted=n.data.assconducted,l.recommendation=n.data.recommendation,l.createdby=n.data.createdby.cfull_name,l.updatedby=n.data.updatedby.ufull_name,l.created_at=ue(n.data.created_at).format("MMMM D, YYYY"),l.updated_at=ue(n.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=n.data.createdby.cposition,l.updated_position=n.data.updatedby.uposition}).catch(n=>{actions.setErrors(n.response.data.errors)})};return me(()=>{c(),document.title=b}),(n,_)=>(a(),o(B,null,[e("div",u1,[e("div",_1,[m1,e("div",p1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,h1),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,v1)]),e("div",b1,[e("span",null,[L("Recommendation No: "),e("strong",null,t(l.recommnum),1)]),e("span",null,[L("Date Checked: "),e("strong",null,t(l.created_at),1)])]),e("div",f1,[e("div",null,[e("span",null,[L("Company: "),e("strong",null,t(l.company),1)]),$1,e("span",null,[L("Branch: "),e("strong",null,t(l.branch),1)])]),y1,e("div",null,[l.warehouse==""?(a(),o("span",g1,[L("Warehouse: "),k1,L(t(l.warehouse),1)])):A("",!0),w1,e("span",null,[L("User: "),e("strong",null,t(l.user),1)]),x1,e("span",null,[L("Department: "),e("strong",null,t(l.department),1)])]),C1]),S1,e("div",D1,[e("div",V1,[e("div",null,[U1,e("strong",null,t(l.brand),1),M1,A1,e("strong",null,t(l.model),1),P1]),T1,e("div",null,[E1,e("strong",null,t(l.serialnum),1),q1,F1,e("strong",null,t(l.assettag),1),L1]),I1])]),R1,e("div",N1,[e("p",null,t(l.problem),1)]),Y1,e("div",B1,[e("p",null,t(l.assconducted),1)]),j1,e("div",H1,[e("p",null,t(l.recommendation),1)]),e("div",O1,[e("div",null,[z1,J1,e("span",G1,t(l.createdby),1),Q1,e("span",null,t(l.created_position),1)]),W1,e("div",null,[K1,X1,e("span",Z1,t(l.updatedby),1),ef,e("span",null,t(l.updated_position),1),tf]),sf]),l.status===2?(a(),o("span",af,"Approved date:("+t(l.updated_at)+")",1)):(a(),o("span",of,"Pending"))])]),l.status===2?(a(),o("div",lf,[e("div",{class:"button iconbutton bg-success",onClick:_[0]||(_[0]=k=>m())},df)])):A("",!0)],64))}};var pt=$e(cf,[["__scopeId","data-v-5c8db172"]]);const rf={},uf={class:"card mx-auto",style:{"max-width":"600px"}},_f=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),mf={class:"card-body"},pf={class:"list-unstyled"};function hf(s,b){return a(),o("div",uf,[_f,e("div",mf,[e("ul",pf,[e("li",{class:"nav-item dropdown",onClick:b[0]||(b[0]=(...m)=>s.fetchNotifications&&s.fetchNotifications(...m))})])])])}var vf=$e(rf,[["render",hf]]);const bf=["checked"],ff={class:"text-center"},$f={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(s,{emit:b}){pe(),_e();const m=s,l=b,c=()=>{l("toggleSelection",m.item)};return(n,_)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:c},null,40,bf)]),e("td",null,t(s.index+1),1),e("td",{onClick:_[0]||(_[0]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.site_name),1),e("td",{onClick:_[1]||(_[1]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_name),1),e("td",{onClick:_[2]||(_[2]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_type),1),e("td",{onClick:_[3]||(_[3]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.serial),1),e("td",{onClick:_[4]||(_[4]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.date_acquired),1),e("td",{onClick:_[5]||(_[5]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.man_supplier),1),e("td",{onClick:_[6]||(_[6]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.unit),1),e("td",{onClick:_[7]||(_[7]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:_[8]||(_[8]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:_[9]||(_[9]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.created_by),1),e("td",{onClick:_[10]||(_[10]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.created_at),1),e("td",{onClick:_[11]||(_[11]=se(k=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.updated_by),1),e("td",ff,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:_[12]||(_[12]=se(k=>n.$emit("editData",s.item),["prevent"]))}),L(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:_[13]||(_[13]=se(k=>n.$emit("confirmDeletion",s.item.id),["prevent"]))})])])]))}};var yf=$e($f,[["__scopeId","data-v-78d9436c"]]);const gf={class:"content"},kf={class:"container-fluid"},wf={class:"d-flex justify-content-between"},xf={class:"d-flex"},Cf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Sf={key:0},Df=e("i",{class:"fa fa-trash mr-1"},null,-1),Vf={class:"ml-2"},Uf={class:"card"},Mf={class:"card-body"},Af={class:"table-responsive"},Pf={class:"table table-bordered table-sm table-striped hover"},Tf=e("th",{style:{width:"10px"}},"#",-1),Ef=e("th",null,"Site",-1),qf=e("th",null,"Asset",-1),Ff=e("th",null,"Asset type",-1),Lf=e("th",null,"Serial",-1),If=e("th",null,"Date Aquired",-1),Rf=e("th",null,"Supplier",-1),Nf=e("th",null,"Unit",-1),Yf=e("th",null,"Purchase Cost",-1),Bf=e("th",null,"Unit Value",-1),jf=e("th",null,"Createdby",-1),Hf=e("th",null,"CreatedAt",-1),Of=e("th",null,"Updatedby",-1),zf=e("th",null,"Action",-1),Jf={key:0},Gf={key:1},Qf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Wf=[Qf],Kf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xf={class:"modal-dialog modal-lg",role:"document"},Zf={class:"modal-content"},e$={class:"modal-header"},t$={class:"modal-title",id:"staticBackdropLabel"},s$={key:0},a$={key:1},o$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),l$={class:"modal-body"},n$={class:"col-md-12"},d$={class:"row"},i$={class:"col-6"},c$={class:"form-group"},r$=e("label",{for:"branch"},"Site",-1),u$=e("option",{value:"",disabled:""}," Select Site ",-1),_$=["value"],m$={class:"invalid-feedback"},p$={class:"form-group"},h$=e("label",{for:"department"},"Asset Name",-1),v$={class:"invalid-feedback"},b$={class:"form-group"},f$=e("label",{for:"asset_type"},"Asset Type",-1),$$={class:"invalid-feedback"},y$={class:"form-group"},g$=e("label",{for:"serial"},"Serial #:",-1),k$={class:"invalid-feedback"},w$={class:"col-6"},x$={class:"form-group"},C$=e("label",{for:"date_acquired"},"Date Acquired",-1),S$={class:"invalid-feedback"},D$={class:"form-group"},V$=e("label",{for:"man_supplier"},"Brand",-1),U$={class:"invalid-feedback"},M$={class:"form-group"},A$=e("label",{for:"unit"},"Unit",-1),P$={class:"invalid-feedback"},T$={class:"row"},E$={class:"col-6"},q$={class:"form-group"},F$=e("label",{for:"paccountable"},"Person Accountable",-1),L$={class:"invalid-feedback"},I$={class:"col-6"},R$={class:"form-group"},N$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),Y$={class:"invalid-feedback"},B$={class:"row"},j$={class:"col-6"},H$={class:"form-group"},O$=e("label",{for:"cucodition"},"Current Condition",-1),z$=e("option",{value:"",disabled:""}," Select Condition ",-1),J$=e("option",{value:"Fair"}," FAIR ",-1),G$=e("option",{value:"Good"}," GOOD ",-1),Q$=e("option",{value:"Damange"}," DAMANGE ",-1),W$={class:"invalid-feedback"},K$={class:"form-group"},X$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),Z$={class:"col-6"},ey={class:"form-group"},ty=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),sy={class:"form-group"},ay=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),oy={class:"row"},ly={class:"col-6"},ny={class:"form-group"},dy=e("label",{for:"operationhours"},"Operating Hours",-1),iy={class:"col-6"},cy={class:"form-group"},ry=e("label",{for:"notes"},"Notes",-1),uy={class:"invalid-feedback"},_y={class:"row"},my={class:"col-6"},py={class:"form-group"},hy=e("label",{for:"purchasecost"},"Purchase Cost",-1),vy={class:"input-group mb-3"},by=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),fy={class:"form-group"},$y=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),yy={class:"input-group mb-3"},gy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),ky={class:"col-6"},wy={class:"form-group"},xy=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),Cy={class:"invalid-feedback"},Sy=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Dy={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vy={class:"modal-dialog",role:"document"},Uy={class:"modal-content"},My=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ay={class:"modal-footer"},Py=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ty={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ey={class:"modal-dialog",role:"document"},qy={class:"modal-content"},Fy=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Ly={class:"modal-body"},Iy={class:"table table-striped table-sm table-hover"},Ry=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Ny=e("td",null,"Site",-1),Yy=e("td",null,"Assit Name",-1),By=e("td",null,"Assit Type",-1),jy=e("td",null,"Serial No.",-1),Hy=e("td",null,"Date Acquired",-1),Oy=e("td",null,"Brand",-1),zy=e("td",null,"Unit",-1),Jy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Gy=e("td",null,"Personal Accountable",-1),Qy=e("td",null,"Transfer Location",-1),Wy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Ky=e("td",null,"Current Condition",-1),Xy=e("td",null,"Maintenance Note",-1),Zy=e("td",null,"Last Maintenance",-1),eg=e("td",null,"Next Maintenance",-1),tg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),sg=e("td",null,"Operation Hours",-1),ag=e("td",null,"Notes",-1),og=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),lg=e("td",null,"Purchase Cost",-1),ng=e("td",null,"Unit Value",-1),dg=e("td",null,"Warranty information",-1),ig=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),cg={__name:"AssetmList",setup(s){_e();const b=`${fe().name}`,m=pe(),l=r({data:[]});r({data:[]});const c=r(!1),n=r(!1),_=r(),k=r(!0),d=Me({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});r(null),r();const w=r(),f=(U=1)=>{c.value=!0,q.get(`/web/asset-monitoring?page=${U}`,{params:{query:Q.value}}).then(y=>{c.value=!1,l.value=y.data,S.value=[],K.value=!1})},D=xe({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()}),i=xe({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()}),C=()=>{q.post("/web/asset-monitoring",d).then(U=>{$("#FormModal").modal("hide"),f(),m.success(U.data.message)}).catch(U=>{m.error(U.data.message)})},j=()=>{n.value=!1,$("#FormModal").modal("show")},O=U=>{d.site_name=U.site_name,d.id=U.id,d.site_id=U.site_id,d.asset_name=U.asset_name,d.asset_type=U.asset_type,d.serial=U.serial,d.date_acquired=U.date_acquired,d.man_supplier=U.man_supplier,d.unit=U.unit,d.location=U.location,d.paccountable=U.paccountable,d.locationchangetranfer=U.locationchangetranfer,d.cucodition=U.cucodition,d.purchasecost=U.purchasecost,d.maintenancenotes=U.maintenancenotes,d.ceated_by=U.ceated_by,d.updated_by=U.updated_by,d.Depreciationcostbyyear=U.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},G=U=>{n.value=!0,d.id=U.id,d.site_id=U.site_id,d.asset_name=U.asset_name,d.asset_type=U.asset_type,d.serial=U.serial,d.date_acquired=U.date_acquired,d.man_supplier=U.man_supplier,d.unit=U.unit,d.location=U.location,d.paccountable=U.paccountable,d.locationchangetranfer=U.locationchangetranfer,d.cucodition=U.cucodition,d.purchasecost=U.purchasecost,d.depreciationcost=U.depreciationcost,d.maintenancenotes=U.maintenancenotes,d.ceated_by=U.ceated_by,d.updated_by=U.updated_by,$("#FormModal").modal("show")},ee=({setErrors:U})=>{q.post("/web/asset-monitoring",d).then(y=>{f(),$("#FormModal").modal("hide"),m.success("Data successfully Updated!")}).catch(y=>{U(y.response.data.errors),console.log(y)})},P=(U,y)=>{n.value?ee(U):C()},Y=()=>{q.get("/web/getsite").then(U=>{w.value=U.data.sites}).catch(U=>{console.log(U)})},Q=r(null),S=r([]),v=U=>{const y=S.value.indexOf(U.id);y===-1?S.value.push(U.id):S.value.splice(y,1),console.log(S.value)},R=r(null),V=U=>{R.value=U,$("#deleteClientModal").modal("show")},z=()=>{q.delete(`/web/asset-monitoring/${R.value}`).then(U=>{$("#deleteClientModal").modal("hide"),m.success(U.data.message),f()})},ie=()=>{q.delete("/web/bulkDeleteAsset",{data:{ids:S.value}}).then(U=>{l.value.data=l.value.data.filter(y=>!S.value.includes(y.id)),S.value=[],K.value=!1,m.success(U.data.message)})},K=r(!1),I=()=>{K.value?S.value=l.value.data.map(U=>U.id):S.value=[],console.log(S.value)};return he([k],U=>{d.is_active=U?1:0}),he(Q,Ae.exports.debounce(()=>{f()},300)),me(()=>{f(),Y(),document.title=b}),(U,y)=>{const x=be("font"),de=be("tab-content"),le=be("form-wizard");return a(),o(B,null,[e("div",gf,[e("div",kf,[e("div",wf,[e("div",xf,[e("button",{onClick:j,type:"button",class:"mb-2 btn btn-primary"},[Cf,L(" Asset ")]),S.value.length>0?(a(),o("div",Sf,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Df,L(" Delete Selected ")]),e("span",Vf,"Selected "+t(S.value.length)+" Record",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=E=>Q.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ce,Q.value]])])]),e("div",Uf,[e("div",Mf,[c.value?(a(),re(Pe,{key:0})):A("",!0),e("div",Af,[p(x,{size:"2"},{default:Z(()=>[e("table",Pf,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=E=>K.value=E),onChange:I},null,544),[[Ee,K.value]])]),Tf,Ef,qf,Ff,Lf,If,Rf,Nf,Yf,Bf,jf,Hf,Of,zf])]),l.value.data.length>0?(a(),o("tbody",Jf,[(a(!0),o(B,null,X(l.value.data,(E,F)=>(a(),re(yf,{key:E.id,item:E,index:F,onViewData:O,onEditData:G,onConfirmDeletion:V,onToggleSelection:v,"select-all":K.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Gf,Wf))])]),_:1})])])]),p(u(Fe),{data:l.value,onPaginationChangePage:f},null,8,["data"])])]),e("div",Kf,[e("div",Xf,[e("div",Zf,[e("div",e$,[e("h5",t$,[n.value?(a(),o("span",s$,"Edit Asset")):(a(),o("span",a$,"Add Asset"))]),o$]),p(u(Ue),{onSubmit:P,"validation-schema":n.value?u(i):u(D),"initial-values":_.value},{default:Z(({errors:E})=>[e("div",l$,[e("div",n$,[p(le,{onOnComplete:C,color:"#094899","step-size":"xs"},{default:Z(()=>[p(de,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",d$,[e("div",i$,[e("div",c$,[r$,p(u(H),{as:"select",name:"branch",class:M(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:d.site_id,"onUpdate:modelValue":y[2]||(y[2]=F=>d.site_id=F)},{default:Z(()=>[u$,(a(!0),o(B,null,X(w.value,F=>(a(),o("option",{key:F.id,value:F.id},t(F.site_name),9,_$))),128))]),_:2},1032,["class","modelValue"]),e("span",m$,t(E.branch),1)]),e("div",p$,[h$,p(u(H),{name:"asset_name",type:"text",class:M(["form-control",{"is-invalid":E.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:d.asset_name,"onUpdate:modelValue":y[3]||(y[3]=F=>d.asset_name=F)},null,8,["class","modelValue"]),e("span",v$,t(E.asset_name),1)]),e("div",b$,[f$,p(u(H),{name:"asset_type",type:"text",class:M(["form-control",{"is-invalid":E.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:d.asset_type,"onUpdate:modelValue":y[4]||(y[4]=F=>d.asset_type=F)},null,8,["class","modelValue"]),e("span",$$,t(E.asset_type),1)]),e("div",y$,[g$,p(u(H),{name:"serial",type:"text",class:M(["form-control",{"is-invalid":E.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:d.serial,"onUpdate:modelValue":y[5]||(y[5]=F=>d.serial=F)},null,8,["class","modelValue"]),e("span",k$,t(E.serial),1)])]),e("div",w$,[e("div",x$,[C$,p(u(H),{name:"date_acquired",type:"date",class:M(["form-control",{"is-invalid":E.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:d.date_acquired,"onUpdate:modelValue":y[6]||(y[6]=F=>d.date_acquired=F)},null,8,["class","modelValue"]),e("span",S$,t(E.date_acquired),1)]),e("div",D$,[V$,p(u(H),{name:"man_supplier",type:"text",class:M(["form-control",{"is-invalid":E.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:d.man_supplier,"onUpdate:modelValue":y[7]||(y[7]=F=>d.man_supplier=F)},null,8,["class","modelValue"]),e("span",U$,t(E.man_supplier),1)]),e("div",M$,[A$,p(u(H),{name:"unit",type:"number",class:M(["form-control",{"is-invalid":E.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:d.unit,"onUpdate:modelValue":y[8]||(y[8]=F=>d.unit=F)},null,8,["class","modelValue"]),e("span",P$,t(E.unit),1)])])])]),_:2},1024),p(de,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",T$,[e("div",E$,[e("div",q$,[F$,p(u(H),{name:"paccountable",type:"text",class:M(["form-control",{"is-invalid":E.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:d.paccountable,"onUpdate:modelValue":y[9]||(y[9]=F=>d.paccountable=F)},null,8,["class","modelValue"]),e("span",L$,t(E.paccountable),1)])]),e("div",I$,[e("div",R$,[N$,p(u(H),{name:"locationchangetranfer",type:"text",class:M(["form-control",{"is-invalid":E.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:d.locationchangetranfer,"onUpdate:modelValue":y[10]||(y[10]=F=>d.locationchangetranfer=F)},null,8,["class","modelValue"]),e("span",Y$,t(E.locationchangetranfer),1)])])])]),_:2},1024),p(de,{title:"Asset Condition"},{default:Z(()=>[e("div",B$,[e("div",j$,[e("div",H$,[O$,p(u(H),{as:"select",name:"cucodition",class:M(["form-control",{"is-invalid":E.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:d.cucodition,"onUpdate:modelValue":y[11]||(y[11]=F=>d.cucodition=F)},{default:Z(()=>[z$,J$,G$,Q$]),_:2},1032,["class","modelValue"]),e("span",W$,t(E.cucodition),1)]),e("div",K$,[X$,p(u(H),{name:"maintenancenotes",as:"textarea",class:M(["form-control",{"is-invalid":E.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:d.maintenancenotes,"onUpdate:modelValue":y[12]||(y[12]=F=>d.maintenancenotes=F)},null,8,["class","modelValue"])])]),e("div",Z$,[e("div",ey,[ty,p(u(H),{name:"lastmaintenance",type:"date",class:M(["form-control",{"is-invalid":E.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:d.lastmaintenance,"onUpdate:modelValue":y[13]||(y[13]=F=>d.lastmaintenance=F)},null,8,["class","modelValue"])]),e("div",sy,[ay,p(u(H),{name:"nextmaintenance",type:"date",class:M(["form-control",{"is-invalid":E.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:d.nextmaintenance,"onUpdate:modelValue":y[14]||(y[14]=F=>d.nextmaintenance=F)},null,8,["class","modelValue"])])])])]),_:2},1024),p(de,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",oy,[e("div",ly,[e("div",ny,[dy,p(u(H),{name:"operationhours",type:"number",class:M(["form-control",{"is-invalid":E.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:d.operationhours,"onUpdate:modelValue":y[15]||(y[15]=F=>d.operationhours=F)},null,8,["class","modelValue"])])]),e("div",iy,[e("div",cy,[ry,p(u(H),{name:"notes",as:"textarea",class:M(["form-control",{"is-invalid":E.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:d.notes,"onUpdate:modelValue":y[16]||(y[16]=F=>d.notes=F)},null,8,["class","modelValue"]),e("span",uy,t(E.notes),1)])])])]),_:2},1024),p(de,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",_y,[e("div",my,[e("div",py,[hy,e("div",vy,[by,p(u(H),{name:"purchasecost",type:"text",class:M(["form-control",{"is-invalid":E.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:d.purchasecost,"onUpdate:modelValue":y[17]||(y[17]=F=>d.purchasecost=F)},null,8,["class","modelValue"])])]),e("div",fy,[$y,e("div",yy,[gy,p(u(H),{name:"depreciationcost",type:"text",class:M(["form-control",{"is-invalid":E.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:d.depreciationcost,"onUpdate:modelValue":y[18]||(y[18]=F=>d.depreciationcost=F)},null,8,["class","modelValue"])])])]),e("div",ky,[e("div",wy,[xy,p(u(H),{name:"insurancewarrantyinfo",as:"textarea",class:M(["form-control",{"is-invalid":E.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:d.insurancewarrantyinfo,"onUpdate:modelValue":y[19]||(y[19]=F=>d.insurancewarrantyinfo=F)},null,8,["class","modelValue"]),e("span",Cy,t(E.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Sy]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Dy,[e("div",Vy,[e("div",Uy,[My,e("div",Ay,[Py,e("button",{onClick:se(z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Ty,[e("div",Ey,[e("div",qy,[Fy,e("div",Ly,[e("table",Iy,[e("tbody",null,[Ry,e("tr",null,[Ny,e("td",null,t(d.site_name),1)]),e("tr",null,[Yy,e("td",null,t(d.asset_name),1)]),e("tr",null,[By,e("td",null,t(d.asset_type),1)]),e("tr",null,[jy,e("td",null,t(d.serial),1)]),e("tr",null,[Hy,e("td",null,t(d.date_acquired),1)]),e("tr",null,[Oy,e("td",null,t(d.man_supplier),1)]),e("tr",null,[zy,e("td",null,t(d.unit),1)]),Jy,e("tr",null,[Gy,e("td",null,t(d.paccountable),1)]),e("tr",null,[Qy,e("td",null,t(d.locationchangetranfer),1)]),Wy,e("tr",null,[Ky,e("td",null,t(d.cucodition),1)]),e("tr",null,[Xy,e("td",null,t(d.maintenancenotes),1)]),e("tr",null,[Zy,e("td",null,t(d.lastmaintenance),1)]),e("tr",null,[eg,e("td",null,t(d.nextmaintenance),1)]),tg,e("tr",null,[sg,e("td",null,t(d.operationhours),1)]),e("tr",null,[ag,e("td",null,t(d.notes),1)]),og,e("tr",null,[lg,e("td",null,t("\u20B1"+d.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[ng,e("td",null,t("\u20B1"+d.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[dg,e("td",null,t(d.insurancewarrantyinfo),1)])])])]),ig])])])],64)}}};function rg(s,b,m){var l=typeof s!="object"?JSON.parse(s):s,c="";if(c+=b+`\r

`,m){var n="";for(var _ in l[0])n+=_+",";n=n.slice(0,-1),c+=n+`\r
`}for(var k=0;k<l.length;k++){var n="";for(var _ in l[k])n+='"'+l[k][_]+'",';n.slice(0,n.length-1),c+=n+`\r
`}if(c==""){alert("Invalid data");return}var d="MyReport_";d+=b.replace(/ /g,"_");var w="data:text/csv;charset=utf-8,"+escape(c),f=document.createElement("a");f.href=w,f.style="visibility:hidden",f.download=d+".csv",document.body.appendChild(f),f.click(),document.body.removeChild(f)}const oe=s=>(Se("data-v-1fd6eeed"),s=s(),De(),s),ug={class:"content"},_g={class:"container-fluid"},mg={class:"d-flex justify-content-between"},pg={class:"d-flex"},hg=oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),vg={key:0},bg=oe(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),fg={class:"ml-2"},$g={class:"d-flex"},yg={class:"form-group"},gg=oe(()=>e("option",{value:"",disabled:""},"Select a site",-1)),kg=["value"],wg={id:"captureDiv"},xg={class:"card"},Cg={class:"card-header"},Sg={class:"card-title"},Dg={class:"card-tools"},Vg={id:"cost"},Ug={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Mg=oe(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Ag={class:"card-body"},Pg=oe(()=>e("i",{class:"fa fa-camera"},null,-1)),Tg=[Pg],Eg=oe(()=>e("i",{class:"fas fa-file-excel"},null,-1)),qg=[Eg],Fg={key:1,class:"table-responsive"},Lg={class:"table table-bordered table-sm table-striped table-hover"},Ig=oe(()=>e("th",null,null,-1)),Rg=oe(()=>e("th",null,"Date",-1)),Ng=oe(()=>e("th",null,"Allocated Pallet Space",-1)),Yg=oe(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Bg=oe(()=>e("th",null,"Space Utilization %",-1)),jg=oe(()=>e("th",null,"Excess",-1)),Hg={key:0},Og={key:1},zg=oe(()=>e("th",null,"Remarks",-1)),Jg=oe(()=>e("th",null,"Action",-1)),Gg={key:0},Qg=["item","index","select-all"],Wg=["checked"],Kg={key:0},Xg={key:1},Zg=["onClick"],e2=oe(()=>e("i",{class:"fa fa-edit"},null,-1)),t2=[e2],s2={key:0},a2=oe(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),o2={colspan:"3"},l2={key:1},n2=oe(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),d2=[n2],i2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},c2={class:"modal-dialog modal-sm",role:"document"},r2={class:"modal-content"},u2={class:"modal-header"},_2={class:"modal-title",id:"staticBackdropLabel"},m2={key:0},p2={key:1},h2=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),v2=Ce('<ul class="nav nav-tabs" data-v-1fd6eeed><li id="bulkviewtab1" class="nav-item" data-v-1fd6eeed><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-1fd6eeed>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-1fd6eeed><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-1fd6eeed>Bulk Pallet</a></li></ul>',1),b2={class:"tab-content"},f2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},$2={class:"modal-body"},y2={class:"col-md-12"},g2={class:"row"},k2={class:"col-12"},w2={class:"form-group"},x2=oe(()=>e("label",{for:"date"},"Date",-1)),C2={class:"invalid-feedback"},S2={class:"form-group"},D2=oe(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),V2={class:"invalid-feedback"},U2={class:"form-group"},M2=oe(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),A2={class:"invalid-feedback"},P2={class:"form-group"},T2=oe(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),E2={class:"invalid-feedback"},q2=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),F2={class:"tab-pane fade show",id:"bulk-pallet-tab"},L2={class:"modal-body"},I2={class:"col-md-12"},R2={class:"row"},N2={class:"col-12"},Y2={class:"form-group"},B2=oe(()=>e("label",{for:"fromdate"},"From:",-1)),j2={class:"invalid-feedback"},H2={class:"form-group"},O2=oe(()=>e("label",{for:"todate"},"To:",-1)),z2={class:"invalid-feedback"},J2={class:"form-group"},G2=oe(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),Q2={class:"invalid-feedback"},W2={class:"form-group"},K2=oe(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),X2={class:"invalid-feedback"},Z2={class:"form-group"},ek=oe(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),tk={class:"invalid-feedback"},sk=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),ak={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ok={class:"modal-dialog",role:"document"},lk={class:"modal-content"},nk=Ce('<div class="modal-header" data-v-1fd6eeed><h5 class="modal-title" id="staticBackdropLabel" data-v-1fd6eeed><span data-v-1fd6eeed>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-1fd6eeed><span aria-hidden="true" data-v-1fd6eeed>\xD7</span></button></div><div class="modal-body" data-v-1fd6eeed><h5 data-v-1fd6eeed>Are you sure you want to delete this record ?</h5></div>',2),dk={class:"modal-footer"},ik=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ck={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},rk={class:"modal-dialog modal-sm",role:"document"},uk={class:"modal-content"},_k=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),mk={class:"modal-body"},pk={class:"fromtocenter"},hk=oe(()=>e("label",{for:"fromDate"},"From:",-1)),vk=oe(()=>e("label",{for:"toDate"},"To:",-1)),bk={class:"modal-footer"},fk=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),$k={__name:"PalletList",setup(s){const b=Oe("$swal"),m=`${fe().name}`,l=pe(),c=r({data:[]}),n=r(),_=r(!1),k=r(!1),d=_e(),w=r(!0),f=r(!0),D=r(),i=Me({id:"",site_id:"",user_id:d.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});r(null);const C=r(),j=()=>{_.value=!0,q.get("/web/pallet",{params:{site_id:i.site_id,query:de.value}}).then(J=>{_.value=!1,c.value=J.data.data,C.value=J.data.sum,le.value=[],Re.value=!1})},O=xe({allocatedpalletspace:N().required(),spaceuteltotal:N().required(),caseperpallet:N().required(),fromdate:N().required(),todate:N().required()}),G=xe({date:N().required(),allocatedpalletspace:N().required(),spaceuteltotal:N().required(),caseperpallet:N().required()}),ee=xe({date:N().required(),allocatedpalletspace:N().required(),spaceuteltotal:N().required(),caseperpallet:N().required()}),P=r(""),Y=r(""),Q=r({start_date:"",end_date:""});he([P],()=>{const J=new Date(P.value),W=J.getFullYear(),ke=String(J.getMonth()+1).padStart(2,"0"),g=String(J.getDate()).padStart(2,"0");Q.value.start_date=`${W}-${ke}-${g}`}),he([Y],()=>{const J=new Date(Y.value),W=J.getFullYear(),ke=String(J.getMonth()+1).padStart(2,"0"),g=String(J.getDate()).padStart(2,"0");Q.value.end_date=`${W}-${ke}-${g}`});const S=()=>{_.value=!0,q.get("/web/filter-pallet",{params:{start_date:Q.value.start_date,end_date:Q.value.end_date,site_id:i.site_id}}).then(J=>{_.value=!1,c.value=J.data.data,C.value=J.data.sum}).catch(J=>{console.error(J)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},v=()=>{i.id="",i.user_id=d.user.id,i.date="",i.allocatedpalletspace="",i.spaceuteltotal="",i.caseperpallet=""},R=()=>!i.site_id||i.site_id.length===0?(b.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,V=({resetForm:J,setErrors:W})=>{q.post("/web/pallet",{site_id:i.site_id,user_id:i.user_id,date:i.date,allocatedpalletspace:i.allocatedpalletspace,spaceuteltotal:i.spaceuteltotal,caseperpallet:i.caseperpallet}).then(ke=>{j(),$("#FormModal").modal("hide"),v(),l.success("Data created successfully!")}).catch(function(ke){ke.response?l.error(ke.response.data.message):ke.request?l.error(ke.request):l.error("Error",ke.message)})},z=()=>{q.get("/web/getsite").then(J=>{n.value=J.data.sites}).catch(J=>{console.log(J)})},ie=()=>{j(i.site_id);const J=n.value.find(W=>W.id===i.site_id);D.value=J?J.site_name:""},K=()=>{R()||(k.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},I=J=>{$("#bulkviewtab2").hide(),k.value=!0,i.id=J.id,i.user_id=J.user_id,i.site_id=J.site_id,i.date=J.date,i.allocatedpalletspace=J.allocatedpalletspace,i.spaceuteltotal=J.spaceuteltotal,i.caseperpallet=J.caseperpallet,$("#FormModal").modal("show")},U=({setErrors:J})=>{q.post("/web/pallet",i).then(W=>{v(),j(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(W=>{J(W.response.data.errors),console.log(W)})},y=(J,W)=>{k.value?U(J):V(J)},x=()=>{q.post("/web/bulkCreatePallet",i).then(J=>{j(),$("#FormModal").modal("hide"),l.success(J.data.message)}).catch(J=>{l.error(J.response.data.errors)})},de=r(null),le=r([]),E=J=>{const W=le.value.indexOf(J.id);W===-1?le.value.push(J.id):le.value.splice(W,1),console.log(le.value)},F=r(null),Ie=J=>{F.value=J,$("#deleteDataModal").modal("show")},Ke=()=>{q.delete(`/web/pallet/${F.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),c.value.data=c.value.data.filter(J=>J.id!==F.value)})},He=()=>{q.delete("/web/bulkDeletePallet",{data:{ids:le.value}}).then(J=>{j(),le.value=[],Re.value=!1,l.success(J.data.message)})},Xe=()=>{R()||$("#FormModalfilterDate").modal("show")},Re=r(!1),Ze=()=>{if(R())return;$("#cost").hide(),$("#capturecamerafilter").hide();const J=document.getElementById("captureDiv");Ge(J).then(W=>{const ke=W.toDataURL(),g=document.createElement("a");g.href=ke,g.download=`${D.value} - ${m}.png`,g.click()}),$("#cost").show(),$("#capturecamerafilter").show()},et=()=>{if(R())return;let J=c.value;rg(J,"PalletList",!0)};return he([f],J=>{i.is_active=J?1:0}),he(de,Ae.exports.debounce(()=>{j()},300)),me(()=>{z(),document.title=m}),(J,W)=>{const ke=be("font");return a(),o(B,null,[e("div",ug,[e("div",_g,[e("div",mg,[e("div",pg,[e("button",{onClick:K,type:"button",class:"mb-2 btn btn-primary"},[hg,L(" Pallet ")]),le.value.length>0?(a(),o("div",vg,[e("button",{onClick:He,type:"button",class:"ml-2 mb-2 btn btn-danger"},[bg,L(" Delete Selected ")]),e("span",fg,"Selected "+t(le.value.length)+" Pallet",1)])):A("",!0)]),e("div",$g,[e("div",yg,[te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":W[0]||(W[0]=g=>i.site_id=g),onChange:W[1]||(W[1]=g=>ie())},[gg,(a(!0),o(B,null,X(n.value,g=>(a(),o("option",{key:g.id,value:g.id},t(g.site_name),9,kg))),128))],544),[[Te,i.site_id]])])])]),e("div",wg,[e("div",xg,[e("div",Cg,[e("div",Sg,t(D.value||"Select a Site"),1),e("div",Dg,[e("div",Vg,[e("div",Ug,[te(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":W[2]||(W[2]=g=>w.value=g)},null,512),[[Ee,w.value]]),Mg])])])]),e("div",Ag,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:Ze,type:"button",class:"btn btn-warning"},Tg),e("button",{onClick:et,type:"button",class:"btn btn-success"},qg)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:Xe})])])]),_.value?(a(),re(Pe,{key:0})):(a(),o("div",Fg,[p(ke,{size:"2"},{default:Z(()=>[e("table",Lg,[e("thead",null,[e("tr",null,[Ig,Rg,Ng,Yg,Bg,jg,w.value?(a(),o("th",Hg," Cost per Pallet ")):A("",!0),w.value?(a(),o("th",Og,"Cost")):A("",!0),zg,Jg])]),c.value.length>0?(a(),o("tbody",Gg,[(a(!0),o(B,null,X(c.value,(g,T)=>(a(),o("tr",{key:g.id,item:g,index:T,onConfirmDeletion:Ie,onToggleSelection:E,"select-all":Re.value},[e("td",null,[e("input",{type:"checkbox",checked:Re.value,onChange:E},null,40,Wg)]),e("td",null,t(u(ue)(g.date).format("MMMM DD, YY")),1),e("td",null,t(g.allocatedpalletspace),1),e("td",null,t(g.spaceuteltotal),1),e("td",null,t(g.spacetotalutelpercent),1),e("td",null,t(g.excess),1),w.value?(a(),o("td",Kg,t(g.caseperpallet),1)):A("",!0),w.value?(a(),o("td",Xg,t(g.cost),1)):A("",!0),e("td",null," EXCESS "+t(g.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:h=>I(g)},t2,8,Zg)])],40,Qg))),128)),w.value?(a(),o("tr",s2,[a2,e("td",o2,[e("b",null,t(C.value),1)])])):A("",!0)])):(a(),o("tbody",l2,d2))])]),_:1})]))])])])])]),e("div",i2,[e("div",c2,[e("div",r2,[e("div",u2,[e("h5",_2,[k.value?(a(),o("span",m2,"Edit Pallet")):(a(),o("span",p2,"Add Pallet"))]),h2]),v2,e("div",b2,[e("div",f2,[p(u(Ue),{onSubmit:y,"validation-schema":k.value?u(ee):u(G)},{default:Z(({errors:g})=>[e("div",$2,[e("div",y2,[e("div",g2,[e("div",k2,[p(u(H),{modelValue:i.user_id,"onUpdate:modelValue":W[3]||(W[3]=T=>i.user_id=T),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",w2,[x2,p(u(H),{name:"date",type:"date",class:M(["form-control",{"is-invalid":g.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:i.date,"onUpdate:modelValue":W[4]||(W[4]=T=>i.date=T)},null,8,["class","modelValue"]),e("span",C2,t(g.date),1)]),e("div",S2,[D2,p(u(H),{name:"allocatedpalletspace",type:"text",class:M(["form-control",{"is-invalid":g.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",modelValue:i.allocatedpalletspace,"onUpdate:modelValue":W[5]||(W[5]=T=>i.allocatedpalletspace=T)},null,8,["class","modelValue"]),e("span",V2,t(g.allocatedpalletspace),1)]),e("div",U2,[M2,p(u(H),{name:"spaceuteltotal",type:"text",class:M(["form-control",{"is-invalid":g.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",modelValue:i.spaceuteltotal,"onUpdate:modelValue":W[6]||(W[6]=T=>i.spaceuteltotal=T),required:""},null,8,["class","modelValue"]),e("span",A2,t(g.spaceuteltotal),1)]),e("div",P2,[T2,p(u(H),{name:"caseperpallet",type:"text",class:M(["form-control",{"is-invalid":g.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",modelValue:i.caseperpallet,"onUpdate:modelValue":W[7]||(W[7]=T=>i.caseperpallet=T)},null,8,["class","modelValue"]),e("span",E2,t(g.caseperpallet),1)])])])])]),q2]),_:1},8,["validation-schema"])]),e("div",F2,[p(u(Ue),{onSubmit:x,"validation-schema":u(O)},{default:Z(({errors:g})=>[e("div",L2,[e("div",I2,[e("div",R2,[e("div",N2,[p(u(H),{modelValue:i.user_id,"onUpdate:modelValue":W[8]||(W[8]=T=>i.user_id=T),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Y2,[B2,p(u(H),{name:"fromdate",type:"date",class:M(["form-control",{"is-invalid":g.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:i.fromdate,"onUpdate:modelValue":W[9]||(W[9]=T=>i.fromdate=T)},null,8,["class","modelValue"]),e("span",j2,t(g.fromdate),1)]),e("div",H2,[O2,p(u(H),{name:"todate",type:"date",class:M(["form-control",{"is-invalid":g.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:i.todate,"onUpdate:modelValue":W[10]||(W[10]=T=>i.todate=T)},null,8,["class","modelValue"]),e("span",z2,t(g.todate),1)]),e("div",J2,[G2,p(u(H),{name:"allocatedpalletspace",type:"text",class:M(["form-control",{"is-invalid":g.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:i.allocatedpalletspace,"onUpdate:modelValue":W[11]||(W[11]=T=>i.allocatedpalletspace=T)},null,8,["class","modelValue"]),e("span",Q2,t(g.allocatedpalletspace),1)]),e("div",W2,[K2,p(u(H),{name:"spaceuteltotal",type:"text",class:M(["form-control",{"is-invalid":g.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:i.spaceuteltotal,"onUpdate:modelValue":W[12]||(W[12]=T=>i.spaceuteltotal=T),required:""},null,8,["class","modelValue"]),e("span",X2,t(g.spaceuteltotal),1)]),e("div",Z2,[ek,p(u(H),{name:"caseperpallet",type:"text",class:M(["form-control",{"is-invalid":g.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:i.caseperpallet,"onUpdate:modelValue":W[13]||(W[13]=T=>i.caseperpallet=T)},null,8,["class","modelValue"]),e("span",tk,t(g.caseperpallet),1)])])])])]),sk]),_:1},8,["validation-schema"])])])])])]),e("div",ak,[e("div",ok,[e("div",lk,[nk,e("div",dk,[ik,e("button",{onClick:se(Ke,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",ck,[e("div",rk,[e("div",uk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(m)+" Report")]),_k]),e("div",mk,[e("div",pk,[e("div",null,[hk,p(u(qe),{modelValue:P.value,"onUpdate:modelValue":W[14]||(W[14]=g=>P.value=g)},null,8,["modelValue"])]),e("div",null,[vk,p(u(qe),{modelValue:Y.value,"onUpdate:modelValue":W[15]||(W[15]=g=>Y.value=g)},null,8,["modelValue"])])])]),e("div",bk,[fk,e("button",{onClick:W[16]||(W[16]=g=>S()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var yk=$e($k,[["__scopeId","data-v-1fd6eeed"]]);const gk=s=>(Se("data-v-4f631a07"),s=s(),De(),s),kk={class:"content"},wk={class:"container-fluid"},xk={class:"row"},Ck={class:"col-md-6"},Sk={class:"card"},Dk={class:"card-title"},Vk={class:"form-group m-3"},Uk=gk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Mk=["value"],Ak={class:"card-body"},Pk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Tk={class:"custom-control custom-checkbox"},Ek=["value","id","checked"],qk=["for"],Fk={class:"card-footer"},Lk={__name:"UserSite",setup(s){_e();const b=`${fe().name}`,m=pe();r(!0);const l=Me({user_id:""});r(null),r();const c=r(),n=r(),_=r([]),k=()=>{q.get("/api/users/userlist").then(D=>{n.value=D.data}).catch(D=>{console.log(D)})},d=D=>{D!==null?q.get(`/web/usersite/${D}`).then(i=>{c.value=i.data}).catch(i=>{console.error("Error fetching site data for user:",i)}):q.get("/web/getsitewithoutuser").then(i=>{c.value=i.data}).catch(i=>{console.error("Error fetching site data without user:",i)})},w=()=>{const D={user_id:l.user_id,site_id:_.value};console.log(D),q.post("/web/onSaveupdate",D).then(i=>{m.success("User Site Save successfully!")}).catch(i=>{setErrors(i.response.data.errors)})},f=D=>{d(D)};return me(()=>{k(),d(),document.title=b}),(D,i)=>(a(),o("div",kk,[e("div",wk,[e("div",xk,[e("div",Ck,[e("div",Sk,[e("div",Dk,[e("div",Vk,[p(u(H),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":i[0]||(i[0]=C=>l.user_id=C),onChange:i[1]||(i[1]=C=>f(l.user_id))},{default:Z(()=>[Uk,(a(!0),o(B,null,X(n.value,C=>(a(),o("option",{key:C.id,value:C.id},t(C.name),9,Mk))),128))]),_:1},8,["modelValue"])])]),e("div",Ak,[e("ul",Pk,[(a(!0),o(B,null,X(c.value,C=>(a(),o("li",{key:C.id,class:"list-group-item"},[e("div",Tk,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=j=>_.value=j),value:C.id,id:"site_id_"+C.id,checked:C.hasAccess},null,8,Ek),[[Ee,_.value]]),e("label",{for:"site_id_"+C.id,class:"custom-control-label"},t(C.site_name),9,qk)])]))),128))]),e("div",Fk,[e("button",{type:"button",onClick:i[3]||(i[3]=C=>w()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var Ik=$e(Lk,[["__scopeId","data-v-4f631a07"]]);const lt=s=>(Se("data-v-1142fe58"),s=s(),De(),s),Rk={style:{"text-align":"center"}},Nk={key:0},Yk=lt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Approved",-1)),Bk=[Yk],jk=lt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Reject",-1)),Hk=[jk],Ok={key:1,style:{"text-align":"center"}},zk={key:0},Jk=lt(()=>e("i",{class:"fa fa-edit"},null,-1)),Gk=[Jk],Qk={__name:"JobItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(s,{emit:b}){pe();const m=_e(),l=n=>{switch(n){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},c=n=>{switch(n){case"P":return"Pending";case"A":return"Approved";case"C":return"Reject";default:return"badge-secondary"}};return(n,_)=>{const k=be("router-link");return a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.job_order_number),1),e("td",null,t(s.item.date_needed),1),e("td",null,t(s.item.commitment_date),1),e("td",Rk,[p(k,{to:`/job-order-request-approved/${s.item.job_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`${l(s.item.status)}`])},t(c(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(s.item.created_at),1),u(m).user.role==="ADMIN"||u(m).user.sitehead_user_id===u(m).user.id?(a(),o("td",Nk,[e("div",{onClick:_[0]||(_[0]=se(d=>n.$emit("approvedata",s.item),["prevent"])),style:{"background-color":"#17ad49",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Bk),e("div",{onClick:_[1]||(_[1]=se(d=>n.$emit("confirmDataDeletion",s.item),["prevent"])),style:{"background-color":"#da2f38",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Hk)])):A("",!0),u(m).user.role==="USER"?(a(),o("td",Ok,[s.item.status!="P"?(a(),o("div",zk,[s.item.created_by==u(m).user.id?(a(),o("a",{key:0,href:"#",onClick:_[2]||(_[2]=se(d=>n.$emit("editRecord",s.item),["prevent"]))},Gk)):A("",!0)])):A("",!0)])):A("",!0)])}}};var Wk=$e(Qk,[["__scopeId","data-v-1142fe58"]]);const Be=s=>(Se("data-v-17383523"),s=s(),De(),s),Kk={key:0,class:"spinner"},Xk=Be(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Zk=[Xk],e0={class:"content"},t0={class:"container-fluid"},s0={class:"d-flex justify-content-between"},a0={class:"d-flex"},o0=Be(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),l0={key:0},n0=Be(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),d0={class:"ml-2"},i0={class:"card"},c0={class:"card-body"},r0={class:"table-responsive"},u0={class:"table table-bordered table-sm"},_0=Be(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Order Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),m0={key:0},p0={key:1},h0=Be(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),v0=[h0],b0={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},f0={class:"modal-dialog",role:"document"},$0={class:"modal-content"},y0=Ce('<div class="modal-header" data-v-17383523><h5 class="modal-title" id="staticBackdropLabel" data-v-17383523><span data-v-17383523>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-17383523><span aria-hidden="true" data-v-17383523>\xD7</span></button></div><div class="modal-body" data-v-17383523><h5 data-v-17383523>Are you sure you want to Reject this record ?</h5></div>',2),g0={class:"modal-footer"},k0=Be(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),w0={__name:"JobOrderList",setup(s){const b=Oe("$swal"),m=`${fe().name}`,l=pe(),c=r({data:[]});r({data:[]}),r(!1),r();const n=r(!1);_e(),r(null),r();const _=(O=1)=>{n.value=!0,q.get(`/web/job-request?page=${O}`,{params:{query:k.value}}).then(G=>{n.value=!1,c.value=G.data,d.value=[],f.value=!1}).finally(()=>{n.value=!1})},k=r(null),d=r([]),w=O=>{const G=d.value.indexOf(O.id);G===-1?d.value.push(O.id):d.value.splice(G,1),console.log(d.value)},f=r(!1),D=r(!1),i=async O=>{(await b.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,q.put(`/web/job-request/${O.id}`,{status:"C"}).then(ee=>{l.success("Record successfully Rejected"),_()}).catch(ee=>{l.error(ee.response.data.errors)}).finally(()=>{n.value=!1}))},C=async O=>{(await b.fire({title:"Are you sure you want to Approve this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,q.put(`/web/job-request/${O.id}`,{status:"A"}).then(ee=>{l.success("Record successfully Approved"),_()}).catch(ee=>{l.error(ee.data.message)}))},j=()=>{};return he(k,Ae.exports.debounce(()=>{_()},300)),me(()=>{_(),document.title=m}),(O,G)=>{const ee=be("router-link"),P=be("font");return a(),o(B,null,[n.value?(a(),o("div",Kk,Zk)):A("",!0),e("div",e0,[e("div",t0,[e("div",s0,[e("div",a0,[p(ee,{class:M("mb-2 btn btn-primary"),to:{name:"Job Order Create"}},{default:Z(()=>[o0,L("Create ")]),_:1}),d.value.length>0?(a(),o("div",l0,[e("button",{onClick:G[0]||(G[0]=(...Y)=>O.bulkDelete&&O.bulkDelete(...Y)),type:"button",class:"ml-2 mb-2 btn btn-danger"},[n0,L(" Delete Selected ")]),e("span",d0,"Selected "+t(d.value.length)+" Menu",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":G[1]||(G[1]=Y=>k.value=Y),class:"form-control",placeholder:"Search..."},null,512),[[ce,k.value]])])]),e("div",i0,[e("div",c0,[n.value?(a(),re(Pe,{key:0})):A("",!0),e("div",r0,[p(P,{size:"2"},{default:Z(()=>[e("table",u0,[_0,c.value.data.length>0?(a(),o("tbody",m0,[(a(!0),o(B,null,X(c.value.data,(Y,Q)=>(a(),re(Wk,{key:Y.id,item:Y,index:Q,onApprovedata:C,onShowItem:D.value,onConfirmDataDeletion:i,onToggleSelection:w,"select-all":f.value},null,8,["item","index","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),o("tbody",p0,v0))])]),_:1})])])]),p(u(Fe),{data:c.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",b0,[e("div",f0,[e("div",$0,[y0,e("div",g0,[k0,e("button",{onClick:se(j,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var x0=$e(w0,[["__scopeId","data-v-17383523"]]);const C0={class:"form-group row"},S0=["for"],D0={class:"col-sm-10"},V0=["type","id","name","placeholder"],U0={key:0,class:"invalid-feedback"},M0={key:0},Ne={__name:"FormTextField",props:{name:{type:String,required:!0},type:{type:String,default:"text",validator:s=>["text","number","password","email","url","tel"].includes(s)},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,l=b,c=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(a(),o("div",C0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,S0)):A("",!0),e("div",D0,[te(e("input",{"onUpdate:modelValue":_[0]||(_[0]=k=>c.value=k),type:s.type,id:s.name,name:s.name,placeholder:s.placeholder,class:M(["form-control",s.errors?"is-invalid":""])},null,10,V0),[[st,c.value]]),s.errors?(a(),o("span",U0,[Array.isArray(s.errors)?(a(),o("ul",M0,[(a(!0),o(B,null,X(s.errors,(k,d)=>(a(),o("li",{key:d},t(k),1))),128))])):(a(),o(B,{key:1},[L(t(s.errors),1)],64))])):A("",!0)])]))}},A0={class:"form-group row"},P0=["for"],T0={class:"col-sm-10"},E0=["id","name","placeholder"],q0={value:"",disabled:""},F0=["value"],L0={key:0,class:"invalid-feedback"},I0={key:0},it={__name:"FormSelectOption",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:"Select an option"},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,l=b,c=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(a(),o("div",A0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,P0)):A("",!0),e("div",T0,[te(e("select",{"onUpdate:modelValue":_[0]||(_[0]=k=>c.value=k),id:s.name,name:s.name,placeholder:s.placeholder,class:M(["form-control",s.errors?"is-invalid":""])},[e("option",q0,t(s.placeholder),1),(a(!0),o(B,null,X(s.options,k=>(a(),o("option",{key:k.id,value:k.id},t(k.name),9,F0))),128))],10,E0),[[Te,c.value]]),s.errors?(a(),o("span",L0,[Array.isArray(s.errors)?(a(),o("ul",I0,[(a(!0),o(B,null,X(s.errors,(k,d)=>(a(),o("li",{key:d},t(k),1))),128))])):(a(),o(B,{key:1},[L(t(s.errors),1)],64))])):A("",!0)])]))}},R0={class:"form-group row"},N0=["for"],Y0={class:"col-sm-10"},B0=["id","name","placeholder","rows"],j0={key:0,class:"invalid-feedback"},H0={key:0},ct={__name:"FormTextAria",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},rows:{type:[Number],default:""}},emits:["update:modelValue"],setup(s,{emit:b}){const m=s,l=b,c=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(a(),o("div",R0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,N0)):A("",!0),e("div",Y0,[te(e("textarea",{"onUpdate:modelValue":_[0]||(_[0]=k=>c.value=k),id:s.name,name:s.name,placeholder:s.placeholder,class:M(["form-control",s.errors?"is-invalid":""]),rows:s.rows},null,10,B0),[[ce,c.value]]),s.errors?(a(),o("span",j0,[Array.isArray(s.errors)?(a(),o("ul",H0,[(a(!0),o(B,null,X(s.errors,(k,d)=>(a(),o("li",{key:d},t(k),1))),128))])):(a(),o(B,{key:1},[L(t(s.errors),1)],64))])):A("",!0)])]))}};const We=s=>(Se("data-v-674eedab"),s=s(),De(),s),O0={class:"col-md-12"},z0={key:0,class:"spinner"},J0=We(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),G0=[J0],Q0={class:"form-group row"},W0=We(()=>e("i",{class:"fa fa-plus"},null,-1)),K0=[W0],X0={class:"col-sm-10"},Z0={class:"table"},e3=We(()=>e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Part Number"),e("th",null,"Quantity"),e("th",null,"Action")])],-1)),t3=["onUpdate:modelValue"],s3=["onUpdate:modelValue"],a3=["onUpdate:modelValue"],o3=["onClick"],l3=We(()=>e("i",{class:"fa fa-trash"},null,-1)),n3=[l3],d3={__name:"JobOrderAction",setup(s){const b=fe(),m=Qe(),l=r(!1),c=`${b.name}`,n=pe();r(!1),r();const _=Oe("$swal"),k=_e(),d=r(!0),w=Me({id:"",site_id:null,site_name:"",job_order_number:"",end_user:"",time_requested:"",date_needed:"",noted_by:"",type_of_job:"",problem_description:"",findings_recommendations:"",commitment_date:"",status:"P",created_by:k.user.id,updated_by:"",description:"",part_number:"",quantity:"",replacement_parts:[{description:"",part_number:"",quantity:0}]}),f=()=>{w.replacement_parts.push({description:"",part_number:"",quantity:0})},D=ee=>{w.replacement_parts.length>1&&w.replacement_parts.splice(ee,1)};r(null);const i=r([]),C=()=>{q.get("/web/getsite").then(ee=>{i.value=ee.data.sites}).catch(ee=>{console.log(ee)})},j=r(null),O=r([{id:"Preventive Maintenance",name:"Preventive Maintenance"},{id:"Corrective Maintenance",name:"Corrective Maintenance"},{id:"Calibration",name:"Calibration"}]),G=async()=>{(await _.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(l.value=!0,q.post("/web/job-request",w).then(P=>{P.status===200?(n.success(P.data.message),m.push("/job-order-request-list")):n.error("Something went wrong. Please try again.")}).catch(P=>{n.error(P.data.message)}).finally(()=>{l.value=!1}))};return he([d],ee=>{w.is_active=ee?1:0}),he(j,Ae.exports.debounce(()=>{getItems()},300)),me(()=>{C(),document.title=c}),(ee,P)=>{const Y=be("tab-content"),Q=be("form-wizard");return a(),o("div",O0,[l.value?(a(),o("div",z0,G0)):A("",!0),p(Q,{onOnComplete:G,color:"#094899","step-size":"xs"},{default:Z(()=>[p(Y,{title:"Job Information",icon:"fas fa-book"},{default:Z(()=>[p(Ne,{label:"Job Order Number",placeholder:"Job Order Number - AutoGenerate",name:"job_order_number",type:"text",id:"job_order_number",modelValue:w.job_order_number,"onUpdate:modelValue":P[0]||(P[0]=S=>w.job_order_number=S)},null,8,["modelValue"]),p(it,{name:"branch",label:"Area / Department",modelValue:w.site_id,"onUpdate:modelValue":P[1]||(P[1]=S=>w.site_id=S),options:i.value},null,8,["modelValue","options"]),p(Ne,{label:"End User",placeholder:"End User",name:"enduser",type:"text",id:"enduser",modelValue:w.end_user,"onUpdate:modelValue":P[2]||(P[2]=S=>w.end_user=S)},null,8,["modelValue"]),p(Ne,{label:"Time Requested",placeholder:"Time Requested",name:"time_requested",type:"date",id:"time_requested",modelValue:w.time_requested,"onUpdate:modelValue":P[3]||(P[3]=S=>w.time_requested=S)},null,8,["modelValue"]),p(Ne,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:w.date_needed,"onUpdate:modelValue":P[4]||(P[4]=S=>w.date_needed=S)},null,8,["modelValue"]),p(Ne,{label:"Noted By",placeholder:"Noted By",name:"noted_by",type:"text",id:"noted_by",modelValue:w.noted_by,"onUpdate:modelValue":P[5]||(P[5]=S=>w.noted_by=S)},null,8,["modelValue"]),p(it,{name:"type_of_job",label:"Type of Job",modelValue:w.type_of_job,"onUpdate:modelValue":P[6]||(P[6]=S=>w.type_of_job=S),options:O.value},null,8,["modelValue","options"])]),_:1}),p(Y,{title:"Problem Details",icon:"fas fa-pen-alt"},{default:Z(()=>[p(ct,{label:"Problem Description",id:"problem_description",name:"problem_description",rows:"3",placeholder:"Problem Description",modelValue:w.problem_description,"onUpdate:modelValue":P[7]||(P[7]=S=>w.problem_description=S)},null,8,["modelValue"]),p(ct,{label:"Recommendations",id:"Recommendations",rows:"3",placeholder:"Recommendations",modelValue:w.findings_recommendations,"onUpdate:modelValue":P[8]||(P[8]=S=>w.findings_recommendations=S)},null,8,["modelValue"]),p(Ne,{label:"Commitment Date",placeholder:"Commitment Date",name:"commitment_date",type:"date",id:"commitment_date",modelValue:w.commitment_date,"onUpdate:modelValue":P[9]||(P[9]=S=>w.commitment_date=S)},null,8,["modelValue"])]),_:1}),p(Y,{title:"Replacement Parts",icon:"fas fa-tools"},{default:Z(()=>[e("div",Q0,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[L("Replacement Parts "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:f},K0)]),e("div",X0,[e("table",Z0,[e3,e("tbody",null,[(a(!0),o(B,null,X(w.replacement_parts,(S,v)=>(a(),o("tr",{key:v},[e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":R=>S.description=R},null,8,t3),[[ce,S.description]])]),e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Part Number","onUpdate:modelValue":R=>S.part_number=R},null,8,s3),[[ce,S.part_number]])]),e("td",null,[te(e("input",{type:"number",class:"form-control",placeholder:"Quantity","onUpdate:modelValue":R=>S.quantity=R},null,8,a3),[[ce,S.quantity]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:R=>D(v)},n3,8,o3)])]))),128))])])])])]),_:1})]),_:1})])}}};var i3=$e(d3,[["__scopeId","data-v-674eedab"]]);const ge=s=>(Se("data-v-23e1722c"),s=s(),De(),s),c3={id:"exportPDF"},r3=ge(()=>e("br",null,null,-1)),u3={class:"container"},_3={class:"row align-items-center"},m3={class:"col-3 p-2 text-center"},p3={class:"header"},h3=["src"],v3=ge(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),b3={class:"row border border-secondary p-2"},f3={class:"col-6 float-end"},$3={class:"mb-1"},y3=ge(()=>e("strong",null,"Job Order Number :",-1)),g3={class:"row"},k3={class:"table table-bordered table-sm"},w3=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),x3={class:"row border"},C3={class:"col-6 p-2"},S3={class:"row"},D3={class:"col-12 p-2"},V3=ge(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),U3=ge(()=>e("br",null,null,-1)),M3={class:"row"},A3={class:"col-12 p-2"},P3=ge(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),T3={class:"row justify-content-right"},E3={class:"col-12 hidden-md-down border border-secondary"},q3=ge(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),F3={class:"row"},L3={class:"col-12 p-2"},I3=ge(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),R3={class:"row justify-content-right"},N3={class:"col-12 hidden-md-down border border-secondary"},Y3={class:"row border mt-2"},B3={class:"col-6 p-2"},j3=ge(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),H3={class:"row"},O3=ge(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),z3={class:"table table-bordered table-sm"},J3=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),G3={class:"row border border-secondary mt-2"},Q3={class:"col-6 p-2"},W3=ge(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),K3=ge(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),X3=ge(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),Z3={class:"row"},ew={class:"col-12 p-2"},tw={class:"row justify-content-right"},sw={class:"col-12 hidden-md-down border border-secondary"},aw={class:"row"},ow={class:"col-6 p-2"},lw=ge(()=>e("br",null,null,-1)),nw={class:"mt-2"},dw={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},iw=ge(()=>e("br",null,null,-1)),cw=ge(()=>e("div",{class:"col-6 p-2"},[L(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"},[e("span",{class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},"Eden Satinitigan")])],-1)),rw={key:0,class:"fab-container"},uw=ge(()=>e("i",{class:"fas fa-download"},null,-1)),_w=[uw],mw={__name:"JobOrderRequestApproved",setup(s){const b=`${fe().params.id}`,m=()=>{const n=document.getElementById("exportPDF");at().from(n).save(`${b}.pdf`)},l=Me({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",jobstatus:"",approvedPosition:""}),c=()=>{q.get(`/web/job-request/${fe().params.id}`).then(n=>{l.id=n.data.record.id,l.jobOrderNumber=n.data.record.job_order_number,l.areaDepartment=n.data.record.site_name,l.endUser=n.data.record.end_user,l.dateTimeRequested=ue(n.data.record.time_requested).format("MMMM D, YYYY"),l.dateNeeded=ue(n.data.record.date_needed).format("MMMM D, YYYY"),l.notedBy=n.data.record.noted_by,l.typeofjob=n.data.record.type_of_job,l.calibration=n.data.record.calibration,l.problemDescription=n.data.record.problem_description,l.findingsRecommendations=n.data.record.findings_recommendations,l.commitmentDate=ue(n.data.record.commitment_date).format("MMMM D, YYYY"),l.replacementParts=n.data.record.replacement_parts,l.checkedBy=n.data.record.createdby.cfull_name,l.checkedDate=ue(n.data.record.checkedDate).format("MMMM D, YYYY"),l.checkedTime=ue(n.data.record.checkedTime).format("h:mm:ss a"),l.reviewedBy=n.data.record.reviewedBy,l.reviewedDate=ue(n.data.record.reviewedDate).format("MMMM D, YYYY"),l.approvedBy=n.data.record.updatedby.ufull_name,l.approvedPosition=n.data.record.updatedby.uposition?n.data.record.updatedby.uposition:"",l.approvedDate=ue(n.data.record.approvedDate).format("MMMM D, YYYY"),l.remarks=n.data.record.remarks,l.jobstatus=n.data.record.status,console.log(n.data.record.status)}).catch(n=>{console.log(n.message)})};return me(()=>{c(),document.title=b}),(n,_)=>(a(),o(B,null,[e("div",c3,[r3,e("div",u3,[["P","C"].includes(l.jobstatus)?(a(),o("div",{key:0,class:M(["ribbon",{warning:l.jobstatus==="P",closed:l.jobstatus==="C"}])},[e("span",null,t(l.jobstatus==="P"?"Pending":l.jobstatus==="C"?"Reject":l.jobstatus==="P"),1)],2)):A("",!0),e("div",_3,[e("div",m3,[e("div",p3,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,h3)])]),v3]),e("div",b3,[e("div",f3,[e("p",$3,[y3,L(t(l.jobOrderNumber),1)])])]),e("div",g3,[e("table",k3,[w3,e("tbody",null,[e("tr",null,[e("td",null,t(l.areaDepartment),1),e("td",null,t(l.endUser),1),e("td",null,t(l.dateTimeRequested),1),e("td",null,t(l.dateNeeded),1)])])])]),e("div",x3,[e("div",C3,[L("Noted by:"),e("b",null,t(l.notedBy),1)])]),e("div",S3,[e("div",D3,[V3,U3,e("span",null,t(l.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),L("\xA0 "),e("span",null,t(l.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),L("\xA0 "),e("span",null,t(l.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",M3,[e("div",A3,[P3,e("div",T3,[e("div",E3,[e("p",null,t(l.problemDescription),1)])])])]),q3,e("div",F3,[e("div",L3,[I3,e("div",R3,[e("div",N3,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",Y3,[e("div",B3,[L("Commitment Date:\xA0"),e("b",null,t(l.commitmentDate),1)]),j3]),e("div",H3,[O3,e("table",z3,[J3,e("tbody",null,[(a(!0),o(B,null,X(l.replacementParts,(k,d)=>(a(),o("tr",{key:d},[e("td",null,t(d+1),1),e("td",null,t(k.description),1),e("td",null,t(k.part_number),1),e("td",null,t(k.quantity),1)]))),128))])])]),e("div",G3,[e("div",Q3,[L(" Checked by : "),e("b",null,t(l.checkedBy),1)]),W3,K3]),X3,e("div",Z3,[e("div",ew,[L(" Remarks / Comments: "),e("div",tw,[e("div",sw,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",aw,[e("div",ow,[L(" Reviewed by: Department Manager"),lw,e("div",nw,[e("span",dw,t(l.approvedBy),1),iw,e("span",null,t(l.approvedPosition),1)])]),cw])])]),l.status==="A"?(a(),o("div",rw,[e("div",{class:"button iconbutton bg-success",onClick:_[0]||(_[0]=k=>m())},_w)])):A("",!0)],64))}};var ht=$e(mw,[["__scopeId","data-v-23e1722c"]]),pw=[{path:"/login",name:"admin.login",component:Xn},{path:"/",name:"Dashboard",component:Yt},{path:"/appointments",name:"Appointments",component:is},{path:"/appointments/create",name:"Appointments",component:dt},{path:"/appointments/:id/edit",name:"Appointments",component:dt},{path:"/user",name:"User",component:Ro},{path:"/settings",name:"Setting",component:ql},{path:"/profile",name:"Profile",component:Un},{path:"/client",name:"Client",component:Wd},{path:"/tech-recommendation",name:"Tech Recomm",component:cr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:ym},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:zh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Zp},{path:"/usermenu",name:"User Menu",component:Lv},{path:"/menu",name:"Menu",component:n1},{path:"/:catchAll(.*)",name:"404 Error Page",component:mt},{path:"/notifications",name:"Notifications",component:vf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:pt},{path:"/asset-monitoring",name:"Asset Monitoring",component:cg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:yk},{path:"/usersite",name:"User Site",component:Ik},{path:"/job-order-request-list",name:"Job Order Request",component:x0},{path:"/job-order-request-list/create",name:"Job Order Create",component:i3},{path:"/job-order-request-approved/:id/view",name:"Job-Order-Request-Approved",component:ht}];const hw={class:"navbar-nav"},vw=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),bw={class:"nav-item d-none d-sm-inline-block"},fw={class:"navbar-nav ml-auto"},$w=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),yw={class:"nav-link","data-toggle":"dropdown",href:"#"},gw=e("i",{class:"far fa-bell"},null,-1),kw={class:"badge badge-warning navbar-badge"},ww={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},xw={class:"dropdown-header"},Cw=e("div",{class:"dropdown-divider"},null,-1),Sw=e("i",{class:"fas fa-envelope mr-2"},null,-1),Dw={class:"float-right text-muted text-sm"},Vw={key:1,class:"text-center text-muted py-3"},Uw=e("div",{class:"dropdown-divider"},null,-1),Mw=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Aw={class:"nav-item dropdown"},Pw={class:"nav-link","data-toggle":"dropdown",href:"#"},Tw={class:"user-panel d-flex",style:{top:"-5px"}},Ew={class:"info"},qw={key:0,class:"image"},Fw=["src"],Lw={key:1,class:"image"},Iw=["src"],Rw=["src"],Nw={class:"dropdown-menu dropdown-menu-sg dropdown-menu-right"},Yw=e("i",{class:"fas fa-user-circle"},null,-1),Bw={__name:"AppNavbar",setup(s){const b=ze(),m=r([]),l=_e(),c=()=>{q.get("/api/notifications").then(n=>{m.value=n.data.notifications}).catch(n=>{console.error("Error fetching notifications",n)})};return me(()=>{c()}),(n,_)=>{const k=be("router-link");return a(),o("nav",{class:M(["main-header navbar navbar-expand",u(b).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",hw,[vw,e("li",bw,[e("a",{onClick:_[0]||(_[0]=se((...d)=>u(b).changeTheme&&u(b).changeTheme(...d),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:M(["far",u(b).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",fw,[$w,e("li",{class:"nav-item dropdown",onClick:c},[e("a",yw,[gw,e("span",kw,t(m.value.length),1)]),e("div",ww,[e("span",xw,t(m.value.length)+" Notifications",1),Cw,m.value.length>0?(a(!0),o(B,{key:0},X(m.value,d=>(a(),o("a",{key:d.id,href:"#",class:"dropdown-item"},[Sw,L(" "+t(d.data?d.data:"No message available")+" ",1),e("span",Dw,t(u(ue)(d.created_at)),1)]))),128)):(a(),o("p",Vw,"No new notifications")),Uw,p(k,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[L("See All Notifications")]),_:1})])]),Mw,e("li",Aw,[e("a",Pw,[e("div",Tw,[e("div",Ew,t(u(l).user.name),1),u(l).user.avatar===""?(a(),o("div",qw,[e("img",{src:u(l).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Fw)])):u(l).user.avatar!==""?(a(),o("div",Lw,[u(l).user.gender==="Male"?(a(),o("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Iw)):u(l).user.gender==="Female"?(a(),o("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Rw)):A("",!0)])):A("",!0)])]),e("div",Nw,[p(k,{class:"dropdown-item",to:"/profile"},{default:Z(()=>[Yw,L(" My Profile")]),_:1})])])])],2)}}},jw={class:"main-sidebar sidebar-dark-primary elevation-4"},Hw={href:"#",class:"brand-link"},Ow=["src"],zw={class:"brand-text font-weight-light"},Jw={class:"sidebar"},Gw={class:"mt-2"},Qw={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},Ww={key:0,class:"right fas fa-angle-left"},Kw={key:0,class:"nav nav-treeview"},Xw={class:"nav-item"},Zw={class:"nav-link"},e8=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),t8=e("p",null,"Logout",-1),s8=[e8,t8],a8={__name:"SidebarLeft",setup(s){const b=Qe(),m=_e(),l=ze(),c=r({data:[]}),n=()=>{axios.get("/web/menu").then(d=>{c.value=d.data}).catch(d=>{console.log(d)})},_=d=>d===b.currentRoute.value.path,k=()=>{axios.post("/logout").then(d=>{m.user.name="",b.push("/login")})};return me(()=>{$('[data-widget="treeview"]').Treeview("init"),n()}),(d,w)=>{const f=be("router-link");return a(),o("aside",jw,[e("a",Hw,[e("img",{src:"/img/safe1.png",alt:" Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Ow),e("span",zw,t(u(l).setting.app_name),1)]),e("div",Jw,[e("nav",Gw,[e("ul",Qw,[(a(!0),o(B,null,X(c.value,D=>(a(),o("li",{key:D.id,class:M({"nav-item":!0,"menu-is-opening":D.submenus&&D.submenus.length>0})},[p(f,{class:M({"nav-link":!0,active:_(D.menu_route)}),to:`${D.menu_route}`},{default:Z(()=>[e("i",{class:M("nav-icon "+D.menu_icon)},null,2),e("p",null,t(D.menu_title),1),D.submenus&&D.submenus.length>0?(a(),o("i",Ww)):A("",!0)]),_:2},1032,["class","to"]),D.submenus&&D.submenus.length>0?(a(),o("ul",Kw,[(a(!0),o(B,null,X(D.submenus,i=>(a(),o("li",{key:i.id,class:"nav-item"},[p(f,{class:M({"nav-link menu-open":!0,active:_(i.menu_route)}),to:i.menu_route},{default:Z(()=>[e("i",{class:M("nav-icon "+i.menu_icon)},null,2),e("p",null,t(i.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):A("",!0)],2))),128)),e("li",Xw,[e("form",Zw,[e("a",{href:"#",onClick:se(k,["prevent"])},s8)])])])])])])}}},o8={},l8={class:"control-sidebar control-sidebar-dark"},n8=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),d8=[n8];function i8(s,b){return a(),o("aside",l8,d8)}var c8=$e(o8,[["render",i8]]);const r8={class:"main-footer"},u8={class:"float-right d-none d-sm-block"},_8={href:"#"},m8={__name:"AppFooter",props:{settings:Object},setup(s){const b=_e(),m=r(new Date().getFullYear());return(l,c)=>{var n;return a(),o("footer",r8,[e("div",u8,t(u(b).user.name),1),e("strong",null,[L("Copyright \xA9 "+t(m.value)+" ",1),e("a",_8,t((n=s.settings)==null?void 0:n.app_name),1),L(".")]),L(" All rights reserved. ")])}}};const p8=s=>(Se("data-v-36653638"),s=s(),De(),s),h8={class:"content-wrapper"},v8={class:"content-header"},b8={class:"container-fluid"},f8={class:"row mb-2"},$8={class:"col-sm-6"},y8={class:"m-0"},g8={class:"col-sm-6"},k8={class:"breadcrumb float-sm-right"},w8=p8(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),x8={class:"breadcrumb-item active"},C8={__name:"CustomMainLayout",setup(s){const b=_e(),m=ze(),l=we(()=>m.theme==="dark"?"dark-mode":"");return(c,n)=>{const _=be("router-view");return u(b).user.name!==""?(a(),o("div",{key:0,class:M(["wrapper",l.value])},[p(Bw),p(a8),p(c8),e("div",h8,[e("section",v8,[e("div",b8,[e("div",f8,[e("div",$8,[e("h1",y8,t(c.$route.name),1)]),e("div",g8,[e("ol",k8,[w8,e("li",x8,t(c.$route.name),1)])])])])]),p(_)]),p(m8)],2)):(a(),o("div",{key:1,class:M(["login-page slibg",l.value])},[p(_)],2))}}};var S8=$e(C8,[["__scopeId","data-v-36653638"]]);const D8={__name:"App",setup(s){_e();const b=fe(),m=we(()=>b.name==="Tech-Approved"),l=we(()=>b.name==="Job-Order-Request-Approved"),c=we(()=>b.name==="404 Error Page");return(n,_)=>(a(),o("div",null,[!c.value&&!m.value&&!l.value?(a(),re(S8,{key:0})):m.value?(a(),re(pt,{key:1})):l.value?(a(),re(ht,{key:2})):(a(),re(mt,{key:3}))]))}};var V8=$e(D8,[["__scopeId","data-v-57c8cdad"]]);const U8=$t(),je=kt(V8),vt=yt({routes:pw,history:gt()});vt.beforeEach(async(s,b)=>{const m=_e();if(m.user.name===""&&s.name!=="admin.login"){const l=ze();await Promise.all([m.getAuthUser(),l.getSetting()])}});je.use(Et);je.use(U8);je.use(vt);je.use(Tt);je.use(at);je.mount("#app");
