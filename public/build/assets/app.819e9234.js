import{_ as it,l as Te}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as ct}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as et,c as rt}from"./pinia.210ccde5.js";import{u as $e,a as Qe,c as ut,b as _t}from"./vue-router.abad5649.js";import{r as i,o as _e,i as a,k as e,x as t,_ as f,u as c,e as s,I as De,h as J,j as D,F as O,q as X,d as ge,a0 as te,v as L,C as Me,a2 as Z,a3 as ue,aa as Pe,p as F,w as be,ab as we,f as ce,B as Ke,a5 as Ue,a6 as Ve,ac as tt,ad as Ae,a1 as We,ae as mt}from"./@vue.04713aa0.js";import{B as pt}from"./vue-chartjs.50c6886f.js";import{C as ht,p as vt,a as bt,b as ft,c as $t,d as gt,L as yt}from"./chart.js.562acd0f.js";import{S as Je}from"./sweetalert2.ef56b979.js";import{t as je}from"./toastr.94171567.js";import{F as Se,a as B}from"./vee-validate.1443789f.js";import{f as st}from"./flatpickr.181c7977.js";import{c as xe,a as I}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ve}from"./moment.40bc58bf.js";import{a as Ie}from"./laravel-vue-pagination.475a8c82.js";import{C as kt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Fe}from"./vue3-datepicker.b3fccff5.js";import{h as Oe}from"./html2canvas.c4a43e03.js";import{h as at}from"./html2pdf.js.44b835e5.js";import{V as wt}from"./vue-sweetalert2.891f877f.js";import{d as Ct}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=it;window.axios=T;window.$=window.jQuery=ct;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=et("AuthUserStore",()=>{const o=i({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(_=>{o.value=_.data})}}}),St={class:"content"},Dt={class:"container-fluid"},Ut={class:"card"},Vt={class:"card-header"},Mt={class:"card-body"},At=e("div",{class:"row"},null,-1),Et={__name:"Dashboard",setup(o){ht.register(vt,bt,ft,$t,gt,yt);const y=`${$e().name}`;me(),i("all"),i(0);const _=i(new Date().getFullYear()),d=i({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),r=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},u=i("today"),p=i(0),U=()=>{axios.get("/api/stats/users",{params:{date_range:u.value}}).then(l=>{p.value=l.data.totalUsersCount})};return _e(()=>{r(),U(),document.title=y}),(l,A)=>(s(),a("div",St,[e("div",Dt,[e("div",Ut,[e("div",Vt," Yearly Progress - "+t(_.value),1),e("div",Mt,[f(c(pt),{data:d.value},null,8,["data"])])]),At])]))}},Tt={class:"content"},Pt={class:"container-fluid"},Ft={class:"row"},Lt={class:"col-lg-12"},It={class:"d-flex justify-content-between mb-2"},qt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),L(" Add New Appointment")],-1),Yt={class:"btn-group"},Nt=e("span",{class:"mr-1"},"All",-1),Bt={class:"badge badge-pill badge-info"},Rt=["onClick"],Ht={class:"mr-1"},jt={class:"card"},Ot={class:"card-body"},zt={class:"table table-bordered"},Gt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Wt=e("td",null,null,-1),Qt=e("i",{class:"fa fa-edit mr-2"},null,-1),Kt=["onClick"],Xt=e("i",{class:"fa fa-trash text-danger"},null,-1),Jt=[Xt],Zt={__name:"ListAppointments",setup(o){const y=i(),_=i([]),d=()=>{T.get("/api/appointment-status").then(A=>{_.value=A.data})},r=i([]),u=A=>{y.value=A;const v={};A&&(v.status=A),T.get("/api/appointments",{params:v}).then(w=>{r.value=w.data,console.log(w)})},p=De(()=>_.value.map(A=>A.count).reduce((A,v)=>A+v,0)),U=A=>{const v=r.value.data.find(n=>n.id===A).status.name,w=_.value.find(n=>n.name===v);w.count--},l=A=>{Je.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&T.delete(`/api/appointments/${A}`).then(w=>{U(A),r.value.data=r.value.data.filter(n=>n.id!==A),Je.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{u(),d()}),(A,v)=>{const w=ge("router-link");return s(),a("div",Tt,[e("div",Pt,[e("div",Ft,[e("div",Lt,[e("div",It,[e("div",null,[f(w,{to:"/admin/appointments/create"},{default:J(()=>[qt]),_:1})]),e("div",Yt,[e("button",{onClick:v[0]||(v[0]=n=>u()),type:"button",class:D(["btn",[typeof y.value=="undefined"?"btn-secondary":"btn-default"]])},[Nt,e("span",Bt,t(p.value),1)],2),(s(!0),a(O,null,X(_.value,n=>(s(),a("button",{key:n.id,onClick:x=>u(n.value),type:"button",class:D(["btn",[y.value===n.value?"btn-secondary":"btn-default"]])},[e("span",Ht,t(n.name),1),e("span",{class:D(["badge badge-pill",`badge-${n.color}`])},t(n.count),3)],10,Rt))),128))])]),e("div",jt,[e("div",Ot,[e("table",zt,[Gt,e("tbody",null,[(s(!0),a(O,null,X(r.value.data,(n,x)=>(s(),a("tr",{key:n.id},[e("td",null,t(x+1),1),e("td",null,t(n.client.first_name)+" "+t(n.client.last_name),1),e("td",null,t(n.start_time),1),e("td",null,t(n.end_time),1),Wt,e("td",null,[f(w,{to:`/admin/appointments/${n.id}/edit`},{default:J(()=>[Qt]),_:2},1032,["to"]),e("a",{href:"#",onClick:te(Y=>l(n.id),["prevent"])},Jt,8,Kt)])]))),128))])])])])])])])])}}};function pe(){return je.options.positionClass="toast-top-right",je.options.closeButton=!0,je.options.progressBar=!0,je}const es={class:"content-header"},ts={class:"container-fluid"},ss={class:"row mb-2"},as={class:"col-sm-6"},os={class:"m-0"},ls={key:0},ns={key:1},ds={class:"col-sm-6"},is={class:"breadcrumb float-sm-right"},cs={class:"breadcrumb-item"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item active"},_s={key:0},ms={key:1},ps={class:"content"},hs={class:"container-fluid"},vs={class:"row"},bs={class:"col-lg-12"},fs={class:"card"},$s={class:"card-body"},gs={class:"row"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),ws={class:"invalid-feedback"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ds=e("label",{for:"client"},"Client Name",-1),Us=["value"],Vs={class:"invalid-feedback"},Ms={class:"row"},As={class:"col-md-6"},Es={class:"form-group"},Ts=e("label",{for:"start-time"},"Start Time",-1),Ps={class:"invalid-feedback"},Fs={class:"col-md-6"},Ls={class:"form-group"},Is=e("label",{for:"end-time"},"End Time",-1),qs={class:"invalid-feedback"},Ys={class:"form-group"},Ns=e("label",{for:"description"},"Description",-1),Bs={class:"invalid-feedback"},Rs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Ze={__name:"AppointmentForm",setup(o){const y=Qe(),_=$e(),d=pe(),r=Me({title:"",client_id:"",start_time:"",end_time:"",description:""}),u=(n,x)=>{w.value?U(n,x):p(n,x)},p=(n,x)=>{T.post("/api/appointments/create",r).then(Y=>{y.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(Y=>{x.setErrors(Y.response.data.errors)})},U=(n,x)=>{T.put(`/api/appointments/${_.params.id}/edit`,r).then(Y=>{y.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(Y=>{x.setErrors(Y.response.data.errors)})},l=i(),A=()=>{T.get("/api/view-clients").then(n=>{l.value=n.data})},v=()=>{T.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{r.title=n.title,r.client_id=n.client_id,r.start_time=n.formatted_start_time,r.end_time=n.formatted_end_time,r.description=n.description})},w=i(!1);return _e(()=>{_.name==="admin.appointments.edit"&&(w.value=!0,v()),st(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),A()}),(n,x)=>{const Y=ge("router-link");return s(),a(O,null,[e("div",es,[e("div",ts,[e("div",ss,[e("div",as,[e("h1",os,[w.value?(s(),a("span",ls,"Edit")):(s(),a("span",ns,"Create")),L(" Appointment")])]),e("div",ds,[e("ol",is,[e("li",cs,[f(Y,{to:"/admin/dashboard"},{default:J(()=>[L("Home")]),_:1})]),e("li",rs,[f(Y,{to:"/admin/appointments"},{default:J(()=>[L("Appointments")]),_:1})]),e("li",us,[w.value?(s(),a("span",_s,"Edit")):(s(),a("span",ms,"Create"))])])])])])]),e("div",ps,[e("div",hs,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[f(c(Se),{onSubmit:u},{default:J(({errors:Q})=>[e("div",gs,[e("div",ys,[e("div",ks,[xs,Z(e("input",{"onUpdate:modelValue":x[0]||(x[0]=ee=>r.title=ee),type:"text",class:D(["form-control",{"is-invalid":Q.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ue,r.title]]),e("span",ws,t(Q.title),1)])]),e("div",Cs,[e("div",Ss,[Ds,Z(e("select",{"onUpdate:modelValue":x[1]||(x[1]=ee=>r.client_id=ee),id:"client",class:D(["form-control",{"is-invalid":Q.client_id}])},[(s(!0),a(O,null,X(l.value,ee=>(s(),a("option",{value:ee.id,key:ee.id},t(ee.first_name)+" "+t(ee.last_name),9,Us))),128))],2),[[Pe,r.client_id]]),e("span",Vs,t(Q.client_id),1)])])]),e("div",Ms,[e("div",As,[e("div",Es,[Ts,Z(e("input",{"onUpdate:modelValue":x[2]||(x[2]=ee=>r.start_time=ee),type:"text",class:D(["form-control flatpickr",{"is-invalid":Q.start_time}]),id:"start-time"},null,2),[[ue,r.start_time]]),e("span",Ps,t(Q.start_time),1)])]),e("div",Fs,[e("div",Ls,[Is,Z(e("input",{"onUpdate:modelValue":x[3]||(x[3]=ee=>r.end_time=ee),type:"text",class:D(["form-control flatpickr",{"is-invalid":Q.end_time}]),id:"end-time"},null,2),[[ue,r.end_time]]),e("span",qs,t(Q.end_time),1)])])]),e("div",Ys,[Ns,Z(e("textarea",{"onUpdate:modelValue":x[4]||(x[4]=ee=>r.description=ee),class:D(["form-control",{"is-invalid":Q.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ue,r.description]]),e("span",Bs,t(Q.description),1)]),Rs]),_:1})])])])])])])],64)}}},Hs=["checked"],js=["value","selected"],Os=["value","selected"],zs=e("i",{class:"fa fa-edit"},null,-1),Gs=[zs],Ws=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Qs=[Ws],Ks={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){const _=pe(),d=o,r=y,u=i([{name:"ADMIN",value:1},{name:"USER",value:2}]),p=i([]),U=()=>{T.get("/api/users/userlist").then(w=>{p.value=w.data}).catch(w=>{console.log(w)})},l=(w,n)=>{T.patch(`/api/users/${w.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},A=(w,n)=>{T.patch(`/api/users/${w.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},v=()=>{r("toggleSelection",d.user)};return _e(()=>{U()}),(w,n)=>(s(),a("tr",null,[e("td",null,[o.user.name!="admin"?(s(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:v},null,40,Hs)):F("",!0)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=x=>l(o.user,x.target.value))},[(s(!0),a(O,null,X(u.value,x=>(s(),a("option",{key:x.id,value:x.value,selected:o.user.role===x.name},t(x.name),9,js))),128))],32)]),e("td",null,[o.user.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=x=>A(o.user,x.target.value))},[(s(!0),a(O,null,X(p.value,x=>(s(),a("option",{key:x.id,value:x.id,selected:o.user.sitehead_user_id===x.id},t(x.first_name+" "+x.last_name),9,Os))),128))],32)):F("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=te(x=>w.$emit("editUser",o.user),["prevent"]))},Gs),o.user.id!=1?(s(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=te(x=>w.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Qs)):F("",!0)])]))}},Xs={class:"content"},Js={class:"container-fluid"},Zs={class:"d-flex justify-content-between mb-2"},ea={class:"d-flex"},ta=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sa={key:0},aa=e("i",{class:"fa fa-trash mr-1"},null,-1),oa={class:"ml-2"},la={class:"card"},na={class:"card-body"},da={class:"dispatch-table"},ia={class:"table-responsive"},ca={class:"table table-bordered table-hover table-sm"},ra=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),pa=[ma],ha=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Da=["value","selected"],Ua=e("hr",null,null,-1),Va={class:"row"},Ma={key:0,class:"col"},Aa=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],Pa=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Fa=[Pa],La={key:1,class:"col"},Ia=["onClick"],qa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ya={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Na={class:"modal-dialog",role:"document"},Ba={class:"modal-content"},Ra={class:"modal-header"},Ha={class:"modal-title",id:"staticBackdropLabel"},ja={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Wa={class:"form-group"},Qa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},po={class:"form-group"},ho=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Do=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Vo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Mo={__name:"UserList",setup(o){const y=`${$e().name}`,_=me(),d=pe(),r=i({data:[]}),u=i(!1),p=i(),U=i(null);i([]),i(null);const l=i([{name:"Male",value:1},{name:"Female",value:2}]),A=(P=1)=>{T.get(`/api/users?page=${P}`,{params:{query:q.value}}).then(C=>{r.value=C.data,m.value=[],z.value=!1})},v=xe({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().required().min(8),gender:I().required()}),w=xe({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().when((P,C)=>P?C.required().min(8):C),gender:I().required()}),n=i([]),x=()=>{T.get("/api/users/userlist").then(P=>{n.value=P.data}).catch(P=>{console.log(P)})},Y=(P,C)=>{T.patch(`/api/users/${P.id}/change-sitehead`,{sitehead_user_id:C}).then(()=>{d.success("Sitehead changed successfully!")})},Q=(P,{resetForm:C,setErrors:h})=>{T.post("/api/users",P).then(g=>{r.value.data.unshift(g.data),$("#userFormModal").modal("hide"),C(),d.success("User created successfully!")}).catch(g=>{g.response.data.errors&&(h(g.response.data.errors),d.warning(g.response.data.errors.name))})},ee=()=>{u.value=!1,$("#userFormModal").modal("show")},de=P=>{u.value=!0,U.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:P.id,name:P.name,email:P.email,sitehead_user_id:P.sitehead_user_id,first_name:P.first_name,last_name:P.last_name,gender:P.gender}},N=(P,{setErrors:C})=>{T.put("/api/users/"+p.value.id,P).then(h=>{const g=r.value.data.findIndex(se=>se.id===h.data.id);r.value.data[g]=h.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(h=>{C(h.response.data.errors),console.log(h)})},M=(P,C)=>{u.value?N(P,C):Q(P,C)},q=i(null),m=i([]),k=P=>{const C=m.value.indexOf(P.id);C===-1?m.value.push(P.id):m.value.splice(C,1),console.log(m.value)},j=i(null),oe=P=>{j.value=P,$("#deleteUserModal").modal("show")},K=()=>{T.delete(`/api/users/${j.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),r.value.data=r.value.data.filter(P=>P.id!==j.value)})},he=()=>{T.delete("/api/users",{data:{ids:m.value}}).then(P=>{r.value.data=r.value.data.filter(C=>!m.value.includes(C.id)),m.value=[],z.value=!1,d.success(P.data.message)})},z=i(!1);return be(q,Te.exports.debounce(()=>{A()},300)),_e(()=>{A(),x(),document.title=y}),(P,C)=>{const h=ge("font");return s(),a(O,null,[e("div",Xs,[e("div",Js,[e("div",Zs,[e("div",ea,[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ta,L(" User ")]),m.value.length>0?(s(),a("div",sa,[e("button",{onClick:he,type:"button",class:"ml-2 mb-2 btn btn-danger"},[aa,L(" Delete Selected ")]),e("span",oa,"Selected "+t(m.value.length)+" users",1)])):F("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=g=>q.value=g),class:"form-control",placeholder:"Search..."},null,512),[[ue,q.value]])])]),e("div",la,[e("div",na,[e("div",da,[e("div",ia,[f(h,{size:"2"},{default:J(()=>[e("table",ca,[ra,r.value.data.length>0?(s(),a("tbody",ua,[(s(!0),a(O,null,X(r.value.data,(g,se)=>(s(),ce(Ks,{key:g.id,user:g,index:se,onEditUser:de,onConfirmUserDeletion:oe,onToggleSelection:k,"select-all":z.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",_a,pa))])]),_:1})])]),(s(!0),a(O,null,X(r.value.data,(g,se)=>(s(),a("div",{class:"dispatch-list",key:g.id,index:se},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,t(g.first_name+" "+g.last_name),1)]),e("div",ga,[ya,e("span",null,t(g.email),1)]),e("div",ka,[xa,e("span",null,t(g.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[g.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:ie=>Y(g,ie.target.value)},[(s(!0),a(O,null,X(n.value,ie=>(s(),a("option",{key:ie.id,value:ie.id,selected:ie.sitehead_user_id===ie.id},t(ie.first_name+" "+ie.last_name),9,Da))),128))],40,Sa)):F("",!0)])]),Ua,e("div",Va,[c(_).user.role==="ADMIN"?(s(),a("div",Ma,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>de(g)},[Ea,L(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ie=>oe(g.id)},Fa,8,Ta)])):F("",!0),c(_).user.role==="USER"?(s(),a("div",La,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>de(g)},[qa,L(" Edit ")],8,Ia)])):F("",!0)])])])],8,ha))),128))])]),f(c(Ie),{data:r.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",Ya,[e("div",Na,[e("div",Ba,[e("div",Ra,[e("h5",Ha,[u.value?(s(),a("span",ja,"Edit User")):(s(),a("span",Oa,"Add New User"))]),za]),f(c(Se),{ref_key:"form",ref:U,onSubmit:M,"validation-schema":u.value?c(w):c(v),"initial-values":p.value},{default:J(({errors:g})=>[e("div",Ga,[e("div",Wa,[Qa,f(c(B),{name:"name",type:"text",class:D(["form-control",{"is-invalid":g.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,t(g.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,f(c(B),{name:"email",type:"email",class:D(["form-control",{"is-invalid":g.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,t(g.email),1)])]),e("div",so,[e("div",ao,[oo,f(c(B),{id:"gender",name:"gender",as:"select",class:D(["form-control",{"is-invalid":g.gender}])},{default:J(()=>[lo,(s(!0),a(O,null,X(l.value,se=>(s(),a("option",{key:se.name,value:se.name},t(se.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,f(c(B),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":g.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,t(g.first_name),1)])]),e("div",mo,[e("div",po,[ho,f(c(B),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":g.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,t(g.last_name),1)])])]),e("div",bo,[fo,f(c(B),{name:"position",type:"text",class:D(["form-control",{"is-invalid":g.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,t(g.position),1)]),e("div",go,[yo,f(c(B),{name:"password",type:"password",class:D(["form-control",{"is-invalid":g.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,t(g.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Do,e("div",Uo,[Vo,e("button",{onClick:te(K,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Ao=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Eo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Po=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ee={__name:"ContentLoader",setup(o){return(y,_)=>y.isloading?(s(),ce(c(kt),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[Ao,Eo,To,Po]),_:1})):F("",!0)}};var ye=(o,y)=>{const _=o.__vccOpts||o;for(const[d,r]of y)_[d]=r;return _};const Le=o=>(Ue("data-v-9bd7df0a"),o=o(),Ve(),o),Fo={class:"content"},Lo={class:"container-fluid"},Io={class:"row"},qo={class:"col-md-6"},Yo={class:"card"},No=we('<ul class="nav nav-tabs" data-v-9bd7df0a><li class="nav-item" data-v-9bd7df0a><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-9bd7df0a>General Settings</a></li><li class="nav-item" data-v-9bd7df0a><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-9bd7df0a>Site Settings</a></li></ul>',1),Bo={class:"tab-content"},Ro={class:"tab-pane fade show active",id:"general-tab"},Ho={class:"card-body"},jo={class:"form-group"},Oo=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),zo={key:0,class:"text-danger text-sm"},Go={class:"form-group"},Wo=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Qo=we('<option value="m/d/Y" data-v-9bd7df0a> MM/DD/YYYY </option><option value="d/m/Y" data-v-9bd7df0a> DD/MM/YYYY </option><option value="Y-m-d" data-v-9bd7df0a> YYYY-MM-DD </option><option value="F j, Y" data-v-9bd7df0a> Month DD, YYYY </option><option value="j F Y" data-v-9bd7df0a> DD Month YYYY </option>',5),Ko=[Qo],Xo={key:0,class:"text-danger text-sm"},Jo={class:"form-group"},Zo=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),el={key:0,class:"text-danger text-sm"},tl=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),L("Save Changes ")])],-1)),sl={class:"tab-pane fade",id:"site"},al={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ol={key:0,class:"list-group-item p-0"},ll={class:"d-flex justify-content-center"},nl=["onClick"],dl={class:"ml-auto my-1 mr-1"},il=["onClick"],cl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),rl=[cl],ul={class:"m-2 list-unstyled"},_l={key:1},ml={key:0,class:"list-group-item p-0"},pl={class:"d-flex justify-content-center"},hl=["onClick"],vl={class:"ml-auto my-1 mr-1"},bl=["onClick"],fl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),$l=[fl],gl={key:1,class:"mt-2 text-center"},yl=Le(()=>e("span",null,"No Site",-1)),kl=[yl],xl={class:"input-group"},wl=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Cl={__name:"UpdateSetting",setup(o){const y=`${$e().name}`,_=i([]),d=pe(),r=i(!0),u=i([]),p=i(!1),U=i(),l=Ke("$swal"),A=i({id:"",site_name:"",is_active:""}),v=()=>{p.value=!0,axios.get("/api/site").then(q=>{p.value=!1,u.value=q.data}).catch(q=>{console.log(q)})},w=De(()=>Array.isArray(u.value)?u.value.filter(q=>q.is_active===0):[]),n=De(()=>w.value.length),x=()=>{r.value=!r.value},Y=()=>{var q,m;p.value=!0,axios.post("/api/site",{id:(q=A.value)==null?void 0:q.id,site_name:(m=A.value)==null?void 0:m.site_name,is_active:!0}).then(k=>{v(),A.value={id:null,site_name:"",is_active:!0},d.success(k.data.message),p.value=!1}).catch(k=>{k.response&&k.response.status===422&&(N.value=k.response.data.errors)})},Q=q=>{A.value.is_active=q.is_active===1?0:1,axios.post("/api/site",{id:q.id,site_name:q.site_name,is_active:A.value.is_active}).then(m=>{axios.get("/api/site").then(k=>{u.value=k.data}).catch(k=>{console.error("Error fetching tasks:",k),d.error("Error fetching tasks. Please try again.")})}).catch(m=>{console.error("Error adding new task:",m),d.error("Error adding new task. Please try again.")})},ee=q=>{if(q.is_active===null||q.is_active===0){l.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}A.value.id=q.id,A.value.site_name=q.site_name},de=()=>{axios.get("/api/settings").then(q=>{_.value=q.data})},N=i(),M=()=>{N.value="",axios.post("/api/settings",_.value).then(q=>{d.success("Settings updated successfully!")}).catch(q=>{q.response&&q.response.status===422&&(N.value=q.response.data.errors)})};return _e(()=>{v(),de(),document.title=y}),(q,m)=>(s(),a("div",Fo,[e("div",Lo,[e("div",Io,[e("div",qo,[e("div",Yo,[No,e("div",Bo,[e("div",Ro,[e("form",{onSubmit:m[3]||(m[3]=te(k=>M(),["prevent"]))},[e("div",Ho,[e("div",jo,[Oo,Z(e("input",{"onUpdate:modelValue":m[0]||(m[0]=k=>_.value.app_name=k),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ue,_.value.app_name]]),N.value&&N.value.app_name?(s(),a("span",zo,t(N.value.app_name[0]),1)):F("",!0)]),e("div",Go,[Wo,Z(e("select",{"onUpdate:modelValue":m[1]||(m[1]=k=>_.value.date_format=k),class:"form-control"},Ko,512),[[Pe,_.value.date_format]]),N.value&&N.value.date_format?(s(),a("span",Xo,t(N.value.date_format[0]),1)):F("",!0)]),e("div",Jo,[Zo,Z(e("input",{"onUpdate:modelValue":m[2]||(m[2]=k=>_.value.pagination_limit=k),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ue,_.value.pagination_limit]]),N.value&&N.value.pagination_limit?(s(),a("span",el,t(N.value.pagination_limit[0]),1)):F("",!0)])]),tl],32)]),e("div",sl,[u.value.length>0?(s(),a("div",al,[p.value?(s(),ce(Ee,{key:0})):F("",!0),(s(!0),a(O,null,X(u.value,k=>(s(),a("ul",{class:"list-group",key:k.id},[k.is_active===1?(s(),a("li",ol,[e("div",ll,[e("div",null,[e("span",{class:D({"btn font-italic text-red":k.is_active===0,btn:k.is_active===1})},[e("i",{onClick:j=>Q(k),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":k.is_active===1,"fa fa-circle text-primary":k.is_active===0}),style:{"font-size":"15px"}},null,10,nl),L(" "+t(k.site_name),1)],2)]),e("div",dl,[e("button",{onClick:j=>ee(k),class:"btn btn-outline"},rl,8,il)])])])):F("",!0)]))),128)),e("li",ul,[n.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:x},[e("i",{class:D(["fa",r.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Deactive List "+t(n.value),1)])):F("",!0)]),r.value?(s(),a("div",_l,[(s(!0),a(O,null,X(u.value,k=>(s(),a("ul",{class:"list-group",key:k.id},[k.is_active===0?(s(),a("li",ml,[e("div",pl,[e("div",null,[e("span",{class:D({"btn font-italic text-red":k.is_active===0,btn:k.is_active===1})},[e("i",{onClick:j=>Q(k),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":k.is_active===1,"fa fa-circle text-primary":k.is_active===0}),style:{"font-size":"15px"}},null,10,hl),e("del",null,t(k.site_name),1)],2)]),e("div",vl,[e("button",{onClick:j=>ee(k),class:"btn btn-outline"},$l,8,bl)])])])):F("",!0)]))),128))])):F("",!0)])):(s(),a("div",gl,kl)),f(c(Se),{ref:"form",onSubmit:Y,"initial-values":U.value},{default:J(()=>[f(c(B),{name:"id",modelValue:A.value.id,"onUpdate:modelValue":m[4]||(m[4]=k=>A.value.id=k),type:"text",hidden:""},null,8,["modelValue"]),e("div",xl,[f(c(B),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:A.value.site_name,"onUpdate:modelValue":m[5]||(m[5]=k=>A.value.site_name=k),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),wl])]),_:1},8,["initial-values"])])])])])])])]))}};var Sl=ye(Cl,[["__scopeId","data-v-9bd7df0a"]]);const Dl={class:"content"},Ul={class:"container-fluid"},Vl={class:"row"},Ml={class:"col-md-3"},Al={class:"card card-primary card-outline"},El={class:"card-body box-profile"},Tl={class:"text-center"},Pl=["src"],Fl={class:"profile-username text-center"},Ll={class:"text-muted text-center"},Il={class:"col-md-9"},ql={class:"card"},Yl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Nl={class:"card-body"},Bl={class:"tab-content"},Rl={class:"tab-pane active",id:"profile"},Hl={class:"form-group row"},jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Wl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ql={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn={class:"form-group row"},sn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),an={class:"col-sm-10"},on={key:0,class:"text-danger text-sm"},ln=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),nn={class:"tab-pane",id:"changePassword"},dn={class:"form-group row"},cn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),pn={class:"col-sm-9"},hn={key:0,class:"text-danger text-sm"},vn={class:"form-group row"},bn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),fn={class:"col-sm-9"},$n=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),gn={__name:"UpdateProfile",setup(o){const y=me(),_=pe(),d=`${$e().name}`,r=i([]),u=()=>{axios.put("/api/profile",{name:y.user.name,first_name:y.user.first_name,last_name:y.user.last_name,email:y.user.email,role:y.user.role}).then(w=>{_.success("Profile updated successfully!")}).catch(w=>{w.response&&w.response.status===422&&(r.value=w.response.data.errors)})},p=Me({currentPassword:"",password:"",passwordConfirmation:""}),U=()=>{r.value="",axios.post("/api/change-user-password",p).then(w=>{_.success(w.data.message);for(const n in p)p[n]=""}).catch(w=>{w.response&&w.response.status===422&&(r.value=w.response.data.errors)})},l=i(null),A=()=>{l.value.click()},v=w=>{const n=w.target.files[0];y.user.avatar=URL.createObjectURL(n);const x=new FormData;x.append("profile_picture",n),axios.post("/api/upload-profile-image",x).then(Y=>{_.success("Image uploaded successfully!")})};return _e(()=>{document.title=d}),(w,n)=>(s(),a("div",Dl,[e("div",Ul,[e("div",Vl,[e("div",Ml,[e("div",Al,[e("div",El,[e("div",Tl,[e("input",{onChange:v,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:A,class:"profile-user-img img-circle",src:c(y).user.avatar,alt:"User profile picture"},null,8,Pl)]),e("h3",Fl,t(c(y).user.name),1),e("p",Ll,t(c(y).user.role),1)])])]),e("div",Il,[e("div",ql,[Yl,e("div",Nl,[e("div",Bl,[e("div",Rl,[e("form",{onSubmit:n[4]||(n[4]=te(x=>u(),["prevent"])),class:"form-horizontal"},[e("div",Hl,[jl,e("div",Ol,[Z(e("input",{"onUpdate:modelValue":n[0]||(n[0]=x=>c(y).user.name=x),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ue,c(y).user.name]]),r.value&&r.value.name?(s(),a("span",zl,t(r.value.name[0]),1)):F("",!0)])]),e("div",Gl,[Wl,e("div",Ql,[Z(e("input",{"onUpdate:modelValue":n[1]||(n[1]=x=>c(y).user.first_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ue,c(y).user.first_name]]),r.value&&r.value.first_name?(s(),a("span",Kl,t(r.value.first_name[0]),1)):F("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[Z(e("input",{"onUpdate:modelValue":n[2]||(n[2]=x=>c(y).user.last_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ue,c(y).user.last_name]]),r.value&&r.value.last_name?(s(),a("span",en,t(r.value.last_name[0]),1)):F("",!0)])]),e("div",tn,[sn,e("div",an,[Z(e("input",{"onUpdate:modelValue":n[3]||(n[3]=x=>c(y).user.email=x),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ue,c(y).user.email]]),r.value&&r.value.email?(s(),a("span",on,t(r.value.email[0]),1)):F("",!0)])]),ln],32)]),e("div",nn,[e("form",{onSubmit:te(U,["prevent"]),class:"form-horizontal"},[e("div",dn,[cn,e("div",rn,[Z(e("input",{"onUpdate:modelValue":n[5]||(n[5]=x=>p.currentPassword=x),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ue,p.currentPassword]]),r.value&&r.value.current_password?(s(),a("span",un,t(r.value.current_password[0]),1)):F("",!0)])]),e("div",_n,[mn,e("div",pn,[Z(e("input",{"onUpdate:modelValue":n[6]||(n[6]=x=>p.password=x),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ue,p.password]]),r.value&&r.value.password?(s(),a("span",hn,t(r.value.password[0]),1)):F("",!0)])]),e("div",vn,[bn,e("div",fn,[Z(e("input",{"onUpdate:modelValue":n[7]||(n[7]=x=>p.passwordConfirmation=x),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ue,p.passwordConfirmation]])])]),$n],32)])])])])])])])]))}};const Ne=o=>(Ue("data-v-1e686d1e"),o=o(),Ve(),o),yn={class:"login-box"},kn={class:"card card-outline card-primary"},xn=Ne(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),wn={class:"card-body"},Cn={key:0,class:"alert alert-danger",role:"alert"},Sn={class:"input-group mb-3"},Dn=Ne(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Un={class:"input-group mb-3"},Vn=Ne(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Mn=["type"],An={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},En=Ne(()=>e("div",{class:"input-group mb-3"},null,-1)),Tn={class:"row"},Pn={class:"col-12 mb-2"},Fn=["disabled"],Ln={key:0,class:"spinner-border spinner-border-sm",role:"status"},In=Ne(()=>e("span",{class:"sr-only"},"Loading...",-1)),qn=[In],Yn={key:1},Nn=Ne(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Bn="Login",Rn={__name:"Login",setup(o){const y=i(!1),_=pe();me();const d=Qe(),r=Me({email:"",password:""}),u=i(!1),p=i(""),U=()=>{u.value=!0,p.value="",T.post("/login",r).then(()=>{d.push("/dashboard"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{u.value=!1})};return _e(()=>{document.title=Bn}),(l,A)=>(s(),a("div",yn,[e("div",kn,[xn,e("div",wn,[p.value?(s(),a("div",Cn,t(p.value),1)):F("",!0),e("form",{onSubmit:te(U,["prevent"])},[e("div",Sn,[Dn,Z(e("input",{"onUpdate:modelValue":A[0]||(A[0]=v=>r.email=v),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ue,r.email]])]),e("div",Un,[Vn,Z(e("input",{"onUpdate:modelValue":A[1]||(A[1]=v=>r.password=v),class:"form-control",placeholder:"Password",type:y.value?"text":"password",onClick:A[2]||(A[2]=(...v)=>l.handleKeyClick&&l.handleKeyClick(...v))},null,8,Mn),[[tt,r.password]])]),e("label",An,[Z(e("input",{type:"checkbox","onUpdate:modelValue":A[3]||(A[3]=v=>y.value=v)},null,512),[[Ae,y.value]]),L(" Show Password ")]),En,e("div",Tn,[e("div",Pn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:u.value},[u.value?(s(),a("div",Ln,qn)):(s(),a("span",Yn,"Sign In"))],8,Fn)])])],32),Nn])])]))}};var Hn=ye(Rn,[["__scopeId","data-v-1e686d1e"]]);const jn=["checked"],On=e("i",{class:"fa fa-edit"},null,-1),zn=[On],Gn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Wn=[Gn],Qn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){pe();const _=o,d=y,r=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,jn)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.first_name)+" "+t(o.item.last_name),1),e("td",null,t(o.item.email),1),e("td",null,t(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:p[0]||(p[0]=te(U=>u.$emit("editUser",o.item),["prevent"]))},zn),e("a",{href:"#",onClick:p[1]||(p[1]=te(U=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Wn)])]))}},Kn={class:"content"},Xn={class:"container-fluid"},Jn={class:"d-flex justify-content-between"},Zn={class:"d-flex"},ed=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),td={key:0},sd=e("i",{class:"fa fa-trash mr-1"},null,-1),ad={class:"ml-2"},od={class:"card"},ld={class:"card-body"},nd={class:"table table-bordered"},dd=e("th",{style:{width:"10px"}},"#",-1),id=e("th",null,"Name",-1),cd=e("th",null,"Email",-1),rd=e("th",null,"Registered Date",-1),ud=e("th",null,"Options",-1),_d={key:0},md={key:1},pd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),hd=[pd],vd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},bd={class:"modal-dialog",role:"document"},fd={class:"modal-content"},$d={class:"modal-header"},gd={class:"modal-title",id:"staticBackdropLabel"},yd={key:0},kd={key:1},xd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),wd={class:"modal-body"},Cd={class:"form-group"},Sd=e("label",{for:"fist_name"},"First Name",-1),Dd={class:"invalid-feedback"},Ud={class:"form-group"},Vd=e("label",{for:"last_name"},"Last Name",-1),Md={class:"invalid-feedback"},Ad={class:"form-group"},Ed=e("label",{for:"email"},"Email",-1),Td={class:"invalid-feedback"},Pd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Fd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ld={class:"modal-dialog",role:"document"},Id={class:"modal-content"},qd=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Yd={class:"modal-footer"},Nd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Bd={__name:"ClientList",setup(o){const y=pe(),_=i({data:[]}),d=i(!1),r=i(),u=i(null),p=(j=1)=>{T.get(`/api/clients?page=${j}`,{params:{query:Y.value}}).then(oe=>{_.value=oe.data,Q.value=[],m.value=!1})},U=xe({first_name:I().required(),last_name:I().required(),email:I().email().required()}),l=xe({first_name:I().required(),last_name:I().required(),email:I().email().required()}),A=(j,{resetForm:oe,setErrors:K})=>{T.post("/api/clients",j).then(he=>{_.value.data.unshift(he.data),$("#clientFormModal").modal("hide"),oe(),y.success("User created successfully!")}).catch(he=>{he.response.data.errors&&K(he.response.data.errors)})},v=()=>{d.value=!1,$("#clientFormModal").modal("show")},w=j=>{d.value=!0,u.value.resetForm(),$("#clientFormModal").modal("show"),r.value={id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}},n=(j,{setErrors:oe})=>{T.put("/api/clients/"+r.value.id,j).then(K=>{const he=_.value.data.findIndex(z=>z.id===K.data.id);_.value.data[he]=K.data,$("#clientFormModal").modal("hide"),y.success("Client updated successfully!")}).catch(K=>{oe(K.response.data.errors),console.log(K)})},x=(j,oe)=>{d.value?n(j,oe):A(j,oe)},Y=i(null),Q=i([]),ee=j=>{const oe=Q.value.indexOf(j.id);oe===-1?Q.value.push(j.id):Q.value.splice(oe,1),console.log(Q.value)},de=i(null),N=j=>{de.value=j,$("#deleteClientModal").modal("show")},M=()=>{T.delete(`/api/clients/${de.value}`).then(()=>{$("#deleteClientModal").modal("hide"),y.success("Client deleted successfully!"),_.value.data=_.value.data.filter(j=>j.id!==de.value)})},q=()=>{T.delete("/api/clients",{data:{ids:Q.value}}).then(j=>{_.value.data=_.value.data.filter(oe=>!Q.value.includes(oe.id)),Q.value=[],m.value=!1,y.success(j.data.message)})},m=i(!1),k=()=>{m.value?Q.value=_.value.data.map(j=>j.id):Q.value=[],console.log(Q.value)};return be(Y,Te.exports.debounce(()=>{p()},300)),_e(()=>{p()}),(j,oe)=>(s(),a(O,null,[e("div",Kn,[e("div",Xn,[e("div",Jn,[e("div",Zn,[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-primary"},[ed,L(" Add New Client ")]),Q.value.length>0?(s(),a("div",td,[e("button",{onClick:q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[sd,L(" Delete Selected ")]),e("span",ad,"Selected "+t(Q.value.length)+" clients",1)])):F("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":oe[0]||(oe[0]=K=>Y.value=K),class:"form-control",placeholder:"Search..."},null,512),[[ue,Y.value]])])]),e("div",od,[e("div",ld,[e("table",nd,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":oe[1]||(oe[1]=K=>m.value=K),onChange:k},null,544),[[Ae,m.value]])]),dd,id,cd,rd,ud])]),_.value.data.length>0?(s(),a("tbody",_d,[(s(!0),a(O,null,X(_.value.data,(K,he)=>(s(),ce(Qn,{key:K.id,item:K,index:he,onEditUser:w,onConfirmUserDeletion:N,onToggleSelection:ee,"select-all":m.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",md,hd))])])]),f(c(Ie),{data:_.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",vd,[e("div",bd,[e("div",fd,[e("div",$d,[e("h5",gd,[d.value?(s(),a("span",yd,"Edit Client")):(s(),a("span",kd,"Add New Client"))]),xd]),f(c(Se),{ref_key:"form",ref:u,onSubmit:x,"validation-schema":d.value?c(l):c(U),"initial-values":r.value},{default:J(({errors:K})=>[e("div",wd,[e("div",Cd,[Sd,f(c(B),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":K.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Dd,t(K.first_name),1)]),e("div",Ud,[Vd,f(c(B),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":K.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Md,t(K.last_name),1)]),e("div",Ad,[Ed,f(c(B),{name:"email",type:"email",class:D(["form-control",{"is-invalid":K.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Td,t(K.email),1)])]),Pd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Fd,[e("div",Ld,[e("div",Id,[qd,e("div",Yd,[Nd,e("button",{onClick:te(M,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Xe=o=>(Ue("data-v-36595330"),o=o(),Ve(),o),Rd={style:{"text-align":"center"}},Hd={key:0},jd=Xe(()=>e("i",{class:"fa fa-edit"},null,-1)),Od=[jd],zd=Xe(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Gd=[zd],Wd={key:1,style:{"text-align":"center"}},Qd={key:0},Kd=Xe(()=>e("i",{class:"fa fa-edit"},null,-1)),Xd=[Kd],Jd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:y}){pe();const _=me();return(d,r)=>{const u=ge("router-link");return s(),a("tr",null,[e("td",null,t(o.item.recommnum),1),e("td",null,t(o.item.user),1),e("td",null,t(o.item.branch),1),e("td",null,t(o.item.department),1),e("td",null,t(o.item.created_user),1),e("td",Rd,[o.item.statusid==2?(s(),ce(u,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:D(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)]),_:1},8,["to"])):F("",!0),o.item.statusid!=2?(s(),a("span",{key:1,class:D(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)):F("",!0)]),e("td",null,t(o.item.created_at),1),c(_).user.role==="ADMIN"?(s(),a("td",Hd,[e("a",{href:"#",onClick:r[0]||(r[0]=te(p=>d.$emit("editUser",o.item),["prevent"]))},Od),e("a",{href:"#",onClick:r[1]||(r[1]=te(p=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Gd)])):F("",!0),c(_).user.role==="USER"?(s(),a("td",Wd,[o.item.statusid!=2?(s(),a("div",Qd,[o.item.created_by==c(_).user.id?(s(),a("a",{key:0,href:"#",onClick:r[2]||(r[2]=te(p=>d.$emit("editUser",o.item),["prevent"]))},Xd)):F("",!0)])):F("",!0)])):F("",!0)])}}};var Zd=ye(Jd,[["__scopeId","data-v-36595330"]]);const ei={class:"content"},ti={class:"container-fluid"},si={class:"d-flex justify-content-between"},ai={class:"d-flex"},oi=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),li={key:0},ni=e("i",{class:"fa fa-trash mr-1"},null,-1),di={class:"ml-2"},ii={class:"card"},ci={class:"card-body"},ri={class:"dispatch-table"},ui={class:"table-responsive"},_i={class:"table table-bordered table-sm"},mi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),pi={key:0},hi={key:1},vi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),bi=[vi],fi=["item","index"],$i={class:"card"},gi={class:"card-body"},yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Tech #:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"User:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Branch:",-1),Di={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Department:",-1),Vi={class:"list-field"},Mi=e("span",{class:"mb-1 dis"},"Created by:",-1),Ai={class:"list-field"},Ei=e("span",{class:"mb-1 dis"},"Status:",-1),Ti={class:"list-field"},Pi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Fi=e("hr",null,null,-1),Li={class:"row"},Ii={key:0,class:"col"},qi=["onClick"],Yi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni=["onClick"],Bi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Ri=[Bi],Hi={key:0,class:"btn btnsm btn-success btn-block"},ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oi={key:1,class:"col"},zi={key:0},Gi=["onClick"],Wi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Qi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ki={class:"modal-dialog modal-lg",role:"document"},Xi={class:"modal-content"},Ji={class:"modal-header"},Zi={class:"modal-title",id:"staticBackdropLabel"},ec={key:0},tc={key:1},sc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),ac={class:"modal-body"},oc={class:"col-md-12"},lc={class:"row"},nc={class:"col-6"},dc={class:"form-group"},ic=e("label",{for:"branch"},"Branch",-1),cc=e("option",{value:"",disabled:""}," Select Branch ",-1),rc=["value"],uc={class:"invalid-feedback"},_c={class:"form-group"},mc=e("label",{for:"department"},"Department",-1),pc={class:"invalid-feedback"},hc={class:"form-group"},vc=e("label",{for:"warehouse"},"warehouse",-1),bc={class:"invalid-feedback"},fc={class:"form-group"},$c=e("label",{for:"user"},"User",-1),gc={class:"invalid-feedback"},yc={class:"col-6"},kc={class:"form-group"},xc=e("label",{for:"brand"},"Brand",-1),wc={class:"form-group"},Cc=e("label",{for:"model"},"Model",-1),Sc={class:"invalid-feedback"},Dc={class:"form-group"},Uc=e("label",{for:"assettag"},"Asset tag",-1),Vc={class:"invalid-feedback"},Mc={class:"form-group"},Ac=e("label",{for:"serialnum"},"Serial number",-1),Ec={class:"invalid-feedback"},Tc={class:"col-12"},Pc={class:"form-group"},Fc=e("label",{for:"problem"},"Report Problem",-1),Lc={class:"invalid-feedback"},Ic={class:"form-group"},qc=e("label",{for:"assconducted"},"Assessment conducted",-1),Yc={class:"invalid-feedback"},Nc={class:"form-group"},Bc=e("label",{for:"recommendation"},"Recommendation",-1),Rc={class:"invalid-feedback"},Hc={class:"modal-footer"},jc={key:0},Oc={key:0,class:"btn-group float-l ml-auto"},zc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Gc={class:"dropdown-menu",role:"menu"},Wc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Qc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Kc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xc={class:"modal-dialog",role:"document"},Jc={class:"modal-content"},Zc=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),er={class:"modal-footer"},tr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),sr={__name:"TechList",setup(o){const y=i(),_=i(),d=pe(),r=i({data:[]});i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=`${$e().name}`,p=()=>{T.get("/api/getsite").then(h=>{_.value=h.data.sites}).catch(h=>{console.log(h)})},U=i(!1),l=i(!1),A=i(),v=Me({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),w=me();i(null);const n=(h=1)=>{U.value=!0,T.get(`/api/tech-recommendations?page=${h}`,{params:{query:m.value}}).then(g=>{U.value=!1,r.value=g.data,k.value=[],C.value=!1})},x=xe({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),Y=xe({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),Q=(h,{resetForm:g,setErrors:se})=>{T.post("/api/tech-recommendations",h).then(ie=>{r.value.data.unshift(ie.data),$("#FormModal").modal("hide"),g(),d.success("Data created successfully!")}).catch(ie=>{ie.response.data.errors&&se(ie.response.data.errors)})},ee=()=>{l.value=!1,$("#FormModal").modal("show")},de=()=>{v.id="",v.recommnum="",v.branch="",v.department="",v.warehouse="",v.user="",v.problem="",v.brand="",v.model="",v.assettag="",v.serialnum="",v.assconducted="",v.recommendation="",v.ceated_by=""},N=h=>{y.value=h.id,l.value=!0,de(),v.id=h.id,v.branch=h.branch,v.department=h.department,v.warehouse=h.warehouse,v.user=h.user,v.problem=h.problem,v.brand=h.brand,v.model=h.model,v.assettag=h.assettag,v.serialnum=h.serialnum,v.assconducted=h.assconducted,v.recommendation=h.recommendation,v.ceated_by=h.ceated_by,v.recommnum=h.recommnum,$("#FormModal").modal("show")},M=(h,{setErrors:g})=>{T.put("/api/tech-recommendations/"+h.id,h).then(se=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(se=>{g(se.response.data.errors),console.log(se)})},q=(h,g)=>{l.value?M(v,g):Q(h,g)},m=i(null),k=i([]),j=h=>{const g=k.value.indexOf(h.id);g===-1?k.value.push(h.id):k.value.splice(g,1),console.log(k.value)},oe=i(null),K=h=>{oe.value=h,$("#deleteClientModal").modal("show")},he=()=>{T.delete(`/api/tech-recommendations/${oe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),r.value.data=r.value.data.filter(h=>h.id!==oe.value)})},z=()=>{T.delete("/api/tech-recommendations",{data:{ids:k.value}}).then(h=>{r.value.data=r.value.data.filter(g=>!k.value.includes(g.id)),k.value=[],C.value=!1,d.success(h.data.message)})},P=h=>{T.post("/api/tech-getaction",{id:y.value,status:h}).then(g=>{$("#FormModal").modal("hide"),n()}).catch(g=>{console.log(g.message)})},C=i(!1);return be(m,Te.exports.debounce(()=>{n()},300)),_e(()=>{n(),p(),document.title=u}),(h,g)=>{const se=ge("font"),ie=ge("router-link");return s(),a(O,null,[e("div",ei,[e("div",ti,[e("div",si,[e("div",ai,[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary"},[oi,L(" TechRecom ")]),k.value.length>0?(s(),a("div",li,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ni,L(" Delete Selected ")]),e("span",di,"Selected "+t(k.value.length)+" techrecomm",1)])):F("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=V=>m.value=V),class:"form-control",placeholder:"Search..."},null,512),[[ue,m.value]])])]),e("div",ii,[e("div",ci,[U.value?(s(),ce(Ee,{key:0})):F("",!0),e("div",ri,[e("div",ui,[f(se,{size:"2"},{default:J(()=>[e("table",_i,[mi,r.value.data.length>0?(s(),a("tbody",pi,[(s(!0),a(O,null,X(r.value.data,(V,E)=>(s(),ce(Zd,{key:V.id,item:V,index:E,onEditUser:N,onShowItem:h.viewItem,onConfirmUserDeletion:K,onToggleSelection:j,"select-all":C.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",hi,bi))])]),_:1})])]),(s(!0),a(O,null,X(r.value.data,(V,E)=>(s(),a("div",{class:"dispatch-list",key:V.id,item:V,index:E},[e("div",$i,[e("div",gi,[e("div",yi,[ki,e("span",null,[e("b",null,t(V.recommnum),1)])]),e("div",xi,[wi,e("span",null,t(V.user),1)]),e("div",Ci,[Si,e("span",null,t(V.branch),1)]),e("div",Di,[Ui,e("span",null,t(V.department),1)]),e("div",Vi,[Mi,e("span",null,t(V.created_user),1)]),e("div",Ai,[Ei,V.statusid==2?(s(),ce(ie,{key:0,to:`/admin/tech-approved/${V.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:D(["badge",`badge-${V.status.color}`])},t(V.status.name),3)]),_:2},1032,["to"])):F("",!0),V.statusid!=2?(s(),a("span",{key:1,class:D(["badge",`badge-${V.status.color}`])},t(V.status.name),3)):F("",!0)]),e("div",Ti,[Pi,e("span",null,t(V.created_at),1)]),Fi,e("div",Li,[c(w).user.role==="ADMIN"?(s(),a("div",Ii,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:qe=>N(V)},[Yi,L(" Edit ")],8,qi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:qe=>K(V.id)},Ri,8,Ni),V.statusid==2?(s(),a("button",Hi,[ji,L(" Download ")])):F("",!0)])):F("",!0),c(w).user.role==="USER"?(s(),a("div",Oi,[V.statusid!=2?(s(),a("div",zi,[V.created_by==c(w).user.id?(s(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:qe=>N(V)},[Wi,L(" Edit ")],8,Gi)):F("",!0)])):F("",!0)])):F("",!0)])])])],8,fi))),128))])]),f(c(Ie),{data:r.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Qi,[e("div",Ki,[e("div",Xi,[e("div",Ji,[e("h5",Zi,[l.value?(s(),a("span",ec,"Edit Tech Recom.")):(s(),a("span",tc,"Add New Tech Recom."))]),sc]),f(c(Se),{onSubmit:q,"validation-schema":l.value?c(Y):c(x),"initial-values":A.value},{default:J(({errors:V})=>[e("div",ac,[e("div",oc,[e("div",lc,[e("div",nc,[f(c(B),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(w).user.id,"onUpdate:modelValue":g[1]||(g[1]=E=>c(w).user.id=E)},null,8,["modelValue"]),f(c(B),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:v.recommnum,"onUpdate:modelValue":g[2]||(g[2]=E=>v.recommnum=E)},null,8,["modelValue"]),e("div",dc,[ic,f(c(B),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":V.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:v.branch,"onUpdate:modelValue":g[3]||(g[3]=E=>v.branch=E)},{default:J(()=>[cc,(s(!0),a(O,null,X(_.value,E=>(s(),a("option",{key:E.site_name,value:E.site_name},t(E.site_name),9,rc))),128))]),_:2},1032,["class","modelValue"]),e("span",uc,t(V.branch),1)]),e("div",_c,[mc,f(c(B),{name:"department",type:"text",class:D(["form-control",{"is-invalid":V.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:v.department,"onUpdate:modelValue":g[4]||(g[4]=E=>v.department=E)},null,8,["class","modelValue"]),e("span",pc,t(V.department),1)]),e("div",hc,[vc,f(c(B),{name:"warehouse",type:"text",class:D(["form-control",{"is-invalid":V.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:v.warehouse,"onUpdate:modelValue":g[5]||(g[5]=E=>v.warehouse=E)},null,8,["class","modelValue"]),e("span",bc,t(V.warehouse),1)]),e("div",fc,[$c,f(c(B),{name:"user",type:"text",class:D(["form-control",{"is-invalid":V.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:v.user,"onUpdate:modelValue":g[6]||(g[6]=E=>v.user=E)},null,8,["class","modelValue"]),e("span",gc,t(V.user),1)])]),e("div",yc,[e("div",kc,[xc,f(c(B),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:v.brand,"onUpdate:modelValue":g[7]||(g[7]=E=>v.brand=E)},null,8,["modelValue"])]),e("div",wc,[Cc,f(c(B),{name:"model",type:"text",class:D(["form-control",{"is-invalid":V.model}]),id:"model",modelValue:v.model,"onUpdate:modelValue":g[8]||(g[8]=E=>v.model=E),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Sc,t(V.model),1)]),e("div",Dc,[Uc,f(c(B),{name:"assettag",type:"text",class:D(["form-control",{"is-invalid":V.assettag}]),id:"assettag",modelValue:v.assettag,"onUpdate:modelValue":g[9]||(g[9]=E=>v.assettag=E),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Vc,t(V.assettag),1)]),e("div",Mc,[Ac,Z(e("input",{name:"serialnum",type:"text",class:D(["form-control",{"is-invalid":V.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":g[10]||(g[10]=E=>v.serialnum=E)},null,2),[[ue,v.serialnum]]),e("span",Ec,t(V.serialnum),1)])]),e("div",Tc,[e("div",Pc,[Fc,f(c(B),{name:"problem",as:"textarea",class:D(["form-control",{"is-invalid":V.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:v.problem,"onUpdate:modelValue":g[11]||(g[11]=E=>v.problem=E)},null,8,["class","modelValue"]),e("span",Lc,t(V.problem),1)]),e("div",Ic,[qc,f(c(B),{name:"assconducted",as:"textarea",class:D(["form-control",{"is-invalid":V.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:v.assconducted,"onUpdate:modelValue":g[12]||(g[12]=E=>v.assconducted=E)},null,8,["class","modelValue"]),e("span",Yc,t(V.assconducted),1)]),e("div",Nc,[Bc,f(c(B),{name:"recommendation",as:"textarea",class:D(["form-control",{"is-invalid":V.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:v.recommendation,"onUpdate:modelValue":g[13]||(g[13]=E=>v.recommendation=E)},null,8,["class","modelValue"]),e("span",Rc,t(V.recommendation),1)])])])])]),e("div",Hc,[l.value?(s(),a("div",jc,[c(w).user.role==="ADMIN"?(s(),a("div",Oc,[e("button",{type:"button",onClick:g[14]||(g[14]=E=>P(2)),class:"btn btn-info"}," Approved "),zc,e("div",Gc,[e("span",{onClick:g[15]||(g[15]=E=>P(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:g[16]||(g[16]=E=>P(3)),class:"dropdown-item"},"Disapproved")])])):F("",!0)])):F("",!0),Wc,Qc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Kc,[e("div",Xc,[e("div",Jc,[Zc,e("div",er,[tr,e("button",{onClick:te(he,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const He=et("SettingStore",()=>{const o=i({app_name:""}),y=xt("SettingStore:theme",i("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(r=>{o.value=r.data})},theme:y,changeTheme:()=>{y.value=y.value==="light"?"dark":"light"}}});const ae=o=>(Ue("data-v-70588e06"),o=o(),Ve(),o),ar={class:"content"},or={class:"container-fluid"},lr={class:"card"},nr={class:"card-header"},dr={class:"card-title"},ir={class:"card-body"},cr={class:"col-md-12"},rr={class:"d-flex justify-content-between"},ur=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),_r={class:"d-flex"},mr={class:"col-12",id:"accordion"},pr={key:1},hr={key:0},vr={class:"card card-secondary"},br={class:"card-body d-flex align-items-center justify-content-center"},fr={class:"image-container"},$r=["src"],gr=ae(()=>e("div",{class:"overlay"},null,-1)),yr={key:1},kr={class:"card-header bg-white"},xr={class:"card-title"},wr=["href"],Cr=["src"],Sr={class:"card-tools"},Dr=["onClick"],Ur=ae(()=>e("i",{class:"fas fa-tasks"},null,-1)),Vr=[Ur],Mr=["disabled","onClick"],Ar=["onClick"],Er=ae(()=>e("p",{class:"float-right"},null,-1)),Tr=["id"],Pr={class:"card-body"},Fr={class:"col-md-12"},Lr={class:"dispatch-table"},Ir={class:"row"},qr={class:"col-4"},Yr=ae(()=>e("b",null,"Site:",-1)),Nr=ae(()=>e("b",null,"Planned Date:",-1)),Br=ae(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},Hr=ae(()=>e("b",null,"Start Date:",-1)),jr=ae(()=>e("b",null,"Accomplished Date:",-1)),Or={class:"closestatus"},zr=ae(()=>e("b",{style:{color:"black"}},"Type:",-1)),Gr={class:"col-4"},Wr={class:"ongoing"},Qr=ae(()=>e("b",{style:{color:"black"}},"Status:",-1)),Kr=ae(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Xr=ae(()=>e("b",null,"Remarks:",-1)),Jr={style:{margin:"0.5%"}},Zr=["disabled","onClick"],eu=["onClick","disabled"],tu={class:"dispatch-list"},su={class:"list-group list-group-flush"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u=ae(()=>e("hr",null,null,-1)),gu={class:"row"},yu={class:"col"},ku=["onClick"],xu=ae(()=>e("i",{class:"fas fa-pen"},null,-1)),wu=["onClick"],Cu=ae(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),L(" Drop ")],-1)),Su=[Cu],Du={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uu={class:"modal-dialog modal-dialog-centered",role:"document"},Vu={class:"modal-content"},Mu={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Eu={key:0},Tu={key:1},Pu={key:2},Fu=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Lu={class:"modal-body"},Iu={class:"col-md-12"},qu={class:"row"},Yu={class:"col-12"},Nu={class:"form-group"},Bu=ae(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=ae(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Hu=["value"],ju={key:0,class:"d-flex justify-content-between"},Ou={class:"d-flex"},zu={class:"form-group"},Gu=ae(()=>e("label",{for:"end-time"},"Start Date",-1)),Wu={class:"form-group"},Qu=ae(()=>e("label",{for:"end-time"},"Hour",-1)),Ku=["value"],Xu=ae(()=>e("div",{class:"d-fex"},null,-1)),Ju={key:1,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=ae(()=>e("label",{for:"end-time"},"End Date",-1)),s_={class:"form-group"},a_=ae(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=ae(()=>e("div",{class:"d-fex"},null,-1)),n_={class:"form-group"},d_=ae(()=>e("label",{for:"site"},"Task",-1)),i_=ae(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),c_=["value"],r_=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),u_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},__={class:"modal-dialog modal-sm",role:"document"},m_={class:"modal-content"},p_={class:"modal-header"},h_={class:"modal-title",id:"staticBackdropLabel"},v_=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),b_={class:"modal-body"},f_=we('<ul class="nav nav-tabs" id="myTabs" data-v-70588e06><li class="nav-item" data-v-70588e06><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-70588e06> Todo List</a></li><li class="nav-item" data-v-70588e06><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-70588e06> Todo</a></li></ul>',1),$_={class:"tab-content"},g_={class:"tab-pane fade show active",id:"todolist"},y_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},k_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),w_={key:0,class:"list-group-item p-0"},C_={class:"d-flex justify-content-center"},S_=["onClick"],D_={class:"ml-auto my-1 mr-1"},U_=["onClick"],V_=ae(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),M_=[V_],A_={class:"mt-2 mb-2 list-unstyled"},E_={key:1},T_={key:0,class:"list-group-item p-0"},P_={class:"d-flex justify-content-center"},F_=["onClick"],L_={class:"ml-auto my-1 mr-1"},I_=["onClick"],q_=ae(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),Y_=[q_],N_={key:1,class:"mt-2 text-center"},B_=ae(()=>e("span",null,"No Todo",-1)),R_=[B_],H_={class:"tab-pane fade",id:"formTask"},j_={class:"col-md-12"},O_={class:"row"},z_={class:"col-12"},G_={class:"m-2",style:{display:"flex","align-items":"center"}},W_=ae(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),L("\xA0Save ")])],-1)),Q_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K_={class:"modal-dialog",role:"document"},X_={class:"modal-content"},J_=we('<div class="modal-header" data-v-70588e06><h5 class="modal-title" id="staticBackdropLabel" data-v-70588e06><span data-v-70588e06>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-70588e06><span aria-hidden="true" data-v-70588e06>\xD7</span></button></div><div class="modal-body" data-v-70588e06><h5 data-v-70588e06>Are you sure you want to delete this record ?</h5></div>',2),Z_={class:"modal-footer"},em=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),tm={__name:"MyPrio",setup(o){const y=`${$e().name}`,_=i(!1),d=i(!1),r=Ke("$swal");He();const u=pe(),p=i({data:[]}),U=i([]);i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const l=i();i();const A=i(!0),v=i(!1);i(!1),i();const w=i(),n=i(),x=i(),Y=me();i(null),i(!1);const Q=i([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),ee=i(),de=i("1:00 AM"),N=i(),M=i("1:00 AM"),q=i(Array.from({length:24},(S,H)=>{const b=H%12+1,re=H<12?"AM":"PM";return`${b}:00 ${re}`})),m=i(Array.from({length:24},(S,H)=>{const b=H%12+1,re=H<12?"AM":"PM";return`${b}:00 ${re}`})),k=Me({dailytask_id:"",site:"",user_id:Y.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});be([ee,de],()=>{const S=new Date(ee.value),H=S.getFullYear(),b=String(S.getMonth()+1).padStart(2,"0"),re=String(S.getDate()).padStart(2,"0");k.plandate=`${H}-${b}-${re} ${de.value}`}),be([ee,M],()=>{const S=new Date(ee.value);S.getFullYear(),String(S.getMonth()+1).padStart(2,"0"),String(S.getDate()).padStart(2,"0")}),be([N,M],()=>{const S=new Date(N.value),H=S.getFullYear(),b=String(S.getMonth()+1).padStart(2,"0"),re=String(S.getDate()).padStart(2,"0");k.enddates=`${H}-${b}-${re} ${M.value}`});const j=i({id:"",dailytask_id:"",task_name:"",iscompleted:0}),oe=()=>{T.get("/web/getsite").then(S=>{l.value=S.data.sites}).catch(S=>{console.log(S)})},K=()=>{_.value=!0,T.get("/api/dailytask",{params:{query:R.value}}).then(S=>{_.value=!1,p.value=S.data,W.value=[]})},he=async S=>{(await r({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,T.put(`/api/dailytask/drop/${S}`).then(b=>{u.success("Data drop successfully!"),_.value=!1,K()}))},z=()=>{$("#FormModalTask").modal("show")},P=S=>{z(),j.value.dailytask_id=S.dailytask_id,n.value=S.taskdate,x.value=S.startdate,d.value=!0,T.get(`/api/dailytask/${S.dailytask_id}/tasks`).then(H=>{U.value=H.data,z(),d.value=!1}).catch(H=>{console.error("Error fetching tasks:",H)})},C=()=>{d.value=!0,T.post("/api/dailytask/addnewTask",{dailytask_id:j.value.dailytask_id,task_name:j.value.task_name,iscompleted:j.value.iscompleted}).then(S=>{u.success("Data created successfully!"),T.get(`/api/dailytask/${j.value.dailytask_id}/tasks`).then(H=>{U.value=H.data,d.value=!1}).catch(H=>{console.error("Error fetching tasks:",H),u.error("Error fetching tasks. Please try again.")}),j.value.task_name=""}).catch(S=>{console.error("Error adding new task:",S),u.error("Error adding new task. Please try again.")})},h=S=>{j.value.iscompleted=S.iscompleted===1?0:1,T.post("/api/dailytask/addnewTask",{id:S.id,dailytask_id:S.dailytask_id,task_name:S.task_name,iscompleted:j.value.iscompleted}).then(H=>{T.get(`/api/dailytask/${S.dailytask_id}/tasks`).then(b=>{U.value=b.data}).catch(b=>{console.error("Error fetching tasks:",b),u.error("Error fetching tasks. Please try again.")})}).catch(H=>{console.error("Error adding new task:",H),u.error("Error adding new task. Please try again.")})},g=De(()=>Array.isArray(U.value)?U.value.filter(S=>S.iscompleted===1):[]),se=De(()=>g.value.length),ie=()=>{A.value=!A.value},V=S=>{T.delete(`/api/dailytask/deleteTask/${S.id}`).then(H=>{T.get(`/api/dailytask/${S.dailytask_id}/tasks`).then(b=>{U.value=b.data,u.success("Todo successfull Deleted")}).catch(b=>{console.error("Error fetching tasks:",b),u.error("Error fetching tasks. Please try again.")})}).catch(H=>{console.error("Error adding new task:",H),u.error("Error adding new task. Please try again.")})};xe({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()}),xe({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()});const E=(S,H)=>{T.post("/api/dailytask",k).then(b=>{K(),$("#FormModal").modal("hide"),u.success("data created successfully!")}).catch(b=>{H.setErrors(b.response.data.errors)})},qe=(S,H)=>{T.put("/api/dailytask/"+k.dailytask_id,k).then(b=>{console.log(b.data),K(),$("#FormModal").modal("hide"),u.success("data update successfully!")}).catch(b=>{H.setErrors(b.response.data.errors)})},Re=S=>{S&&S.dailytask_id!==null&&S.dailytask_id!==void 0?(v.value=!0,w.value=" on "+ve(S.taskdate).format("MMMM D, YYYY"),k.site=S.site,k.dailytask_id=S.dailytask_id,k.plandate=S.plandate,k.planenddate=S.planenddate):v.value=!1,oe(),$("#FormModal").modal("show")},ze=(S,H)=>{v.value?qe(S,H):E(S,H)},Ye=async S=>{try{const H=await T.get(`/api/dailytask/${S.dailytask_id}/tasks`);if(U.value=H.data,!U.value||U.value.length===0){r.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await r.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const re=await T.put("/api/dailytask/onhandler/"+S.dailytask_id,S);u.success(re.data.message),K()}}catch(H){console.error("Error fetching tasks:",H),u.error("An error occurred while updating the task.")}},Ge=async S=>{if((await r({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ve(S.taskdate).format("YYYY-MM-DD")===ve().format("YYYY-MM-DD")?(S.remarks="HIT",S.status="On Schedule"):(S.remarks="MISS",S.status="Behind Schedule");const re=await T.put("/api/dailytask/onhandler/"+S.dailytask_id,S);u.success(re.data.message),K()}catch(b){console.error(b),u.error("An error occurred while updating the task.")}},R=i(null),W=i([]),fe=i(null),G=()=>{T.delete(`/api/tech-recommendations/${fe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Client deleted successfully!"),p.value.data=p.value.data.filter(S=>S.id!==fe.value)})};return be(R,Te.exports.debounce(()=>{K()},300)),_e(()=>{st(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),K(),document.title=y}),(S,H)=>(s(),a(O,null,[e("div",ar,[e("div",or,[e("div",lr,[e("div",nr,[e("div",dr,t(c(Y).user.first_name+" "+c(Y).user.last_name)+" - My Prio ",1)]),e("div",ir,[e("div",cr,[e("div",rr,[e("div",{class:"d-flex"},[e("button",{onClick:Re,type:"button",class:"mb-2 btn btn-primary"},[ur,L(" Task ")])]),e("div",_r,[Z(e("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=b=>R.value=b),class:"form-control",placeholder:"Search..."},null,512),[[ue,R.value]])])]),e("div",mr,[_.value?(s(),ce(Ee,{key:0})):(s(),a("div",pr,[p.value.length===0?(s(),a("div",hr,[e("div",vr,[e("div",br,[e("div",fr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,$r),gr])])])])):(s(),a("div",yr,[(s(!0),a(O,null,X(p.value,b=>(s(),a("div",{class:"card card-primary",key:b.id},[e("div",kr,[e("h4",xr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+b.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Cr),L(" \xA0"),e("b",null,t(c(ve)(b.taskdate).format("MMMM D, YYYY")),1)],8,wr)]),e("div",Sr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:re=>P(b)},Vr,8,Dr),e("button",{disabled:b.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:re=>Ge(b)}," End ",8,Mr),b.startdate?F("",!0):(s(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:re=>Ye(b)}," Start ",8,Ar)),Er])]),e("div",{id:"collapse"+b.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Pr,[e("div",Fr,[e("div",Lr,[e("div",Ir,[e("div",qr,[e("h5",null,[Yr,L(" "+t(b.site_name),1)]),e("h5",null,[Nr,L(" "+t(b.plandate),1)]),e("h5",null,[Br,L(" "+t(b.planenddate),1)])]),e("div",Rr,[e("h5",null,[Hr,L(" "+t(b.startdate!==null?c(ve)(b.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[jr,L(" "+t(b.enddate!==null?c(ve)(b.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Or,[zr,L(" "+t(b.tasktype?b.tasktype.join(", "):""),1)])]),e("div",Gr,[e("h5",Wr,[Qr,L(" "+t(b.status),1)]),e("h5",null,[Kr,L(" "+t(b.attachment),1)]),e("h5",null,[Xr,L(" "+t(b.remarks),1)])])]),e("div",Jr,[e("button",{disabled:b.startdate!==null,onClick:re=>he(b.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Zr),e("button",{onClick:re=>Re(b),type:"button",disabled:b.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,eu)])]),e("div",tu,[e("ul",su,[e("li",au,[L(" Site: "),e("span",ou,t(b.site_name),1)]),e("li",lu,[L(" Planned Date: "),e("span",nu,t(b.plandate),1)]),e("li",du,[L(" Planned End Date: "),e("span",iu,t(b.planenddate),1)]),e("li",cu,[L(" Start Date: "),e("span",ru,t(b.startdate!==null?c(ve)(b.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",uu,[L(" Type: "),e("span",_u,t(b.tasktype?b.tasktype.join(", "):""),1)]),e("li",mu,[L(" Status: "),e("span",pu,t(b.status),1)]),e("li",hu,[L(" Attachment: "),e("span",vu,t(b.attachment),1)]),e("li",bu,[L(" Remarks: "),e("span",fu,t(b.remarks),1)])]),$u,e("div",gu,[e("div",yu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:re=>Re(b)},[xu,L(" Edit ")],8,ku),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:re=>he(b.dailytask_id)},Su,8,wu)])])])])])],8,Tr)]))),128))]))]))])])])])])]),e("div",Du,[e("div",Uu,[e("div",Vu,[e("div",Mu,[e("h5",Au,[v.value?(s(),a("span",Eu,"Edit My Task")):(s(),a("span",Tu,"Add My Task")),v.value?(s(),a("span",Pu,t(w.value),1)):F("",!0)]),Fu]),f(c(Se),{onSubmit:ze},{default:J(()=>[e("div",Lu,[e("div",Iu,[e("div",qu,[e("div",Yu,[f(c(B),{modelValue:k.user_id,"onUpdate:modelValue":H[1]||(H[1]=b=>k.user_id=b),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Nu,[Bu,Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":H[2]||(H[2]=b=>k.site=b)},[Ru,(s(!0),a(O,null,X(l.value,b=>(s(),a("option",{key:b.id,value:b.id},t(b.site_name),9,Hu))),128))],512),[[Pe,k.site]])]),v.value==!1?(s(),a("div",ju,[e("div",Ou,[e("div",zu,[Gu,f(c(Fe),{class:"form-control",modelValue:ee.value,"onUpdate:modelValue":H[3]||(H[3]=b=>ee.value=b)},null,8,["modelValue"])]),e("div",Wu,[Qu,Z(e("select",{class:"form-control","onUpdate:modelValue":H[4]||(H[4]=b=>de.value=b),id:"plandate"},[(s(!0),a(O,null,X(q.value,b=>(s(),a("option",{key:b,value:b},t(b),9,Ku))),128))],512),[[Pe,de.value]])])]),Xu])):F("",!0),v.value==!1?(s(),a("div",Ju,[e("div",Zu,[e("div",e_,[t_,f(c(Fe),{class:"form-control",modelValue:N.value,"onUpdate:modelValue":H[5]||(H[5]=b=>N.value=b)},null,8,["modelValue"])]),e("div",s_,[a_,Z(e("select",{class:"form-control","onUpdate:modelValue":H[6]||(H[6]=b=>M.value=b),id:"plandate"},[(s(!0),a(O,null,X(m.value,b=>(s(),a("option",{key:b,value:b},t(b),9,o_))),128))],512),[[Pe,M.value]])])]),l_])):F("",!0),e("div",n_,[d_,f(c(B),{name:"tasktype"},{default:J(()=>[Z(e("select",{"onUpdate:modelValue":H[7]||(H[7]=b=>k.tasktype=b),class:"form-control",required:!0},[i_,(s(!0),a(O,null,X(Q.value,b=>(s(),a("option",{key:b.value,value:b.value},t(b.name),9,c_))),128))],512),[[Pe,k.tasktype]])]),_:1})])])])])]),r_]),_:1})])])]),e("div",u_,[e("div",__,[e("div",m_,[e("div",p_,[e("h5",h_," My Todo of "+t(c(ve)(n.value).format("MM/D/YYYY")),1),v_]),e("div",b_,[f_,e("div",$_,[e("div",g_,[U.value.length>0?(s(),a("div",y_,[d.value?(s(),ce(Ee,{key:0,viewBox:"0 0 250 110"},{default:J(()=>[k_,x_]),_:1})):F("",!0),(s(!0),a(O,null,X(U.value,b=>(s(),a("ul",{class:"list-group",key:b.id},[b.iscompleted!==1?(s(),a("li",w_,[e("div",C_,[e("div",null,[e("span",{class:D({"font-italic btn":b.iscompleted===1,btn:b.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:re=>h(b),class:D({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":b.iscompleted===1,"fa fa-circle text-primary":b.iscompleted!==1})},null,10,S_)):F("",!0),L(" "+t(b.task_name),1)],2)]),e("div",D_,[e("button",{onClick:re=>V(b),class:"btn btn-outline"},M_,8,U_)])])])):F("",!0)]))),128)),e("li",A_,[se.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:ie},[e("i",{class:D(["fa",A.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Completed "+t(se.value),1)])):F("",!0)]),A.value?(s(),a("div",E_,[(s(!0),a(O,null,X(U.value,b=>(s(),a("ul",{class:"list-group",key:b.id},[b.iscompleted===1?(s(),a("li",T_,[e("div",P_,[e("div",null,[e("span",{class:D({"font-italic btn":b.iscompleted===1,btn:b.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:re=>h(b),class:D({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":b.iscompleted===1,"fa fa-circle text-primary":b.iscompleted!==1})},null,10,F_)):F("",!0),L(" "+t(b.task_name),1)],2)]),e("div",L_,[e("button",{onClick:re=>V(b),class:"btn btn-outline"},Y_,8,I_)])])])):F("",!0)]))),128))])):F("",!0)])):(s(),a("div",N_,R_))]),e("div",H_,[f(c(Se),{onSubmit:C},{default:J(()=>[e("div",j_,[e("div",O_,[e("div",z_,[f(c(B),{modelValue:j.value.dailytask_id,"onUpdate:modelValue":H[8]||(H[8]=b=>j.value.dailytask_id=b),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",G_,[f(c(B),{modelValue:j.value.task_name,"onUpdate:modelValue":H[9]||(H[9]=b=>j.value.task_name=b),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),W_]),_:1})])])])])])]),e("div",Q_,[e("div",K_,[e("div",X_,[J_,e("div",Z_,[em,e("button",{onClick:te(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var sm=ye(tm,[["__scopeId","data-v-70588e06"]]);const am={class:"text-center"},om={key:0},lm={class:"text-center"},nm={key:0},dm={class:"text-center"},im={key:0},cm={key:0,class:"bg-success text-center"},rm={key:1,class:"bg-danger text-center"},um={key:2,class:"text-center"},_m={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return pe(),me(),(y,_)=>(s(),a("tr",null,[e("td",null,t(c(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",am,[o.item.task_lists_count!==0?(s(),a("span",om,t(o.item.task_lists_count),1)):F("",!0)]),e("td",lm,[o.item.completed_task_count!==0?(s(),a("span",nm,t(o.item.completed_task_count),1)):F("",!0)]),e("td",dm,[o.item.status!=="On Going"?(s(),a("span",im,t(o.item.status),1)):F("",!0)]),o.item.remarks==="HIT"?(s(),a("td",cm,t(o.item.remarks),1)):o.item.remarks==="MISS"?(s(),a("td",rm,t(o.item.remarks),1)):o.item.remarks===null?(s(),a("td",um,t(o.item.startdate!=null?"On Going!":""),1)):F("",!0),e("td",{class:D({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},t(o.item.percentage_completed+"%"),3)]))}};const ke=o=>(Ue("data-v-04a9a400"),o=o(),Ve(),o),mm={class:"content-header"},pm={class:"container-fluid"},hm={class:"col-12"},vm={class:"card",id:"captureVSCContainer"},bm={class:"card-header"},fm={class:"card-title"},$m={class:"card-tools"},gm={class:"card-body"},ym=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),km=[ym],xm={key:1,class:"row"},wm={class:"inner"},Cm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Sm=["src"],Dm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Um={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Vm={style:{"text-align":"left"}},Mm={key:0},Am=ke(()=>e("span",{class:"text-light badge"},"Todos",-1)),Em={class:"list-group list-group-flush"},Tm={style:{display:"flex","align-items":"left"}},Pm={class:"ml-1"},Fm={class:"ml-1"},Lm={key:1},Im={class:"float-right"},qm={id:"captureHitRateContainer",class:"card"},Ym={class:"card-header"},Nm={class:"card-title"},Bm={class:"card-body"},Rm={class:"content"},Hm={class:"container-fluid"},jm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),Om=[jm],zm={class:"dispatch-table"},Gm={class:"table-responsive"},Wm={class:"table table-bordered table-hover table-sm"},Qm=ke(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Km=["item"],Xm={class:"list-field"},Jm=ke(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Zm={class:"list-field"},ep=ke(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),tp={key:0},sp={class:"list-field"},ap=ke(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),op={key:0},lp={class:"list-field"},np=ke(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),dp={class:"list-field"},ip=ke(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),cp={class:"list-field"},rp=ke(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),up={class:"float-right"},_p={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mp={class:"modal-dialog modal-sm",role:"document"},pp={class:"modal-content"},hp=ke(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),vp={class:"modal-body"},bp={class:"fromtocenter"},fp=ke(()=>e("label",{for:"fromDate"},"From:",-1)),$p=ke(()=>e("label",{for:"toDate"},"To:",-1)),gp=ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),yp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kp={class:"modal-dialog modal-sm",role:"document"},xp={class:"modal-content"},wp=ke(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Cp={class:"modal-body"},Sp={class:"container"},Dp={class:"row"},Up=["onClick"],Vp=ke(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Mp={__name:"MyVsc",setup(o){const y=`${$e().name}`,_=me(),d=i(!1),r=i([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),p=i((()=>{const M={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",M)})()),U=()=>{const M=document.getElementById("captureVSCContainer");Oe(M).then(q=>{const m=q.toDataURL(),k=document.createElement("a");k.href=m,k.download=`${_.user.first_name+" "+_.user.last_name} - ${y}.png`,k.click()})},l=()=>{const M=document.getElementById("captureHitRateContainer");Oe(M).then(q=>{const m=q.toDataURL(),k=document.createElement("a");k.href=m,k.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,k.click()})};i(null),i("today");const A=i({data:[]}),v=i({data:[]}),w=()=>{d.value=!0,axios.get("/api/myvsc").then(M=>{d.value=!1,A.value=M.data.dailyTasks,v.value=M.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},x=i({start_date:"",end_date:""}),Y=i(""),Q=i("");be([Y],()=>{const M=new Date(Y.value),q=M.getFullYear(),m=String(M.getMonth()+1).padStart(2,"0"),k=String(M.getDate()).padStart(2,"0");x.value.start_date=`${q}-${m}-${k}`}),be([Q],()=>{const M=new Date(Q.value),q=M.getFullYear(),m=String(M.getMonth()+1).padStart(2,"0"),k=String(M.getDate()).padStart(2,"0");x.value.end_date=`${q}-${m}-${k}`});const ee=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:x.value.start_date,end_date:x.value.end_date}}).then(M=>{d.value=!1,A.value=M.data.dailyTasks,v.value=M.data.TaskList}).catch(M=>{console.error(M)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},de=()=>{$("#FormModalPickerThemes").modal("show")},N=M=>{if(M){const q=_.user.id;axios.post("/api/changethemes",{userid:q,background:M.background,active_background:M.active_background,font_background:M.font_background}).then(m=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(k=>{d.value=!1,A.value=k.data.dailyTasks,v.value=k.data.TaskList})}).catch(m=>{console.error(m)})}else console.error("Invalid item:",M)};return _e(()=>{w(),document.title=y}),(M,q)=>(s(),a(O,null,[e("div",mm,[e("div",pm,[e("div",hm,[e("div",vm,[e("div",bm,[e("div",fm,[e("h5",null,t(c(_).user.first_name+" "+c(_).user.last_name)+" - "+t(y),1)]),e("div",$m,[e("i",{onClick:q[0]||(q[0]=m=>de()),class:"fas fa-palette"})])]),e("div",gm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:U,type:"button",class:"mb-2 btn btn-sm btn-success"},km)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(s(),ce(Ee,{key:0})):(s(),a("div",xm,[(s(!0),a(O,null,X(A.value,m=>(s(),a("div",{class:"col-lg-3 col-6",key:m.id},[e("div",{class:"small-box",style:We("background-color: "+(c(ve)(m.taskdate).format("MMMM D, YYYY")===p.value?m.active_background==""?"#72461F":m.active_background:m.background==""?"#B98D65":m.background)+";")},[e("div",wm,[e("div",Cm,[L(t(c(ve)(m.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Sm)]),e("div",Dm,t(c(ve)(m.taskdate).format("MMMM D, YYYY")),1),e("div",Um,t(m.site_name),1),e("div",Vm,[m.task_lists&&m.task_lists.length>0?(s(),a("div",Mm,[Am,e("ul",Em,[(s(!0),a(O,null,X(m.task_lists,k=>(s(),a("li",{class:"list-group-item",key:k.id},[e("div",Tm,[e("div",Pm,[e("i",{class:D(k.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Fm,t(k.task_name),1)])]))),128))])])):(s(),a("span",Lm))])])],4)]))),128))])),e("div",Im,t(p.value),1)])]),e("div",qm,[e("div",Ym,[e("div",Nm,[e("h5",null,t(c(_).user.first_name+" "+c(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Bm,[e("div",Rm,[e("div",Hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},Om)])]),e("div",zm,[e("div",Gm,[e("table",Wm,[Qm,e("tbody",null,[(s(!0),a(O,null,X(v.value,m=>(s(),ce(_m,{key:m.id,item:m},null,8,["item"]))),128))])])])]),(s(!0),a(O,null,X(v.value,m=>(s(),a("div",{class:"dispatch-list",key:m.id,item:m},[e("div",{class:D([{"callout callout-success":m.remarks==="HIT","callout callout-danger":m.remarks==="MISS",callout:m.remarks===null}])},[e("div",Xm,[Jm,e("span",null,t(c(ve)(m.taskdate).format("MMMM D, YYYY")),1)]),e("div",Zm,[ep,m.task_lists_count!==0?(s(),a("span",tp,t(m.task_lists_count),1)):F("",!0)]),e("div",sp,[ap,m.completed_task_count!==0?(s(),a("span",op,t(m.completed_task_count),1)):F("",!0)]),e("div",lp,[np,e("span",null,[e("b",null,t(m.status),1)])]),e("div",dp,[ip,e("span",{class:D(["badge",m.remarks==="HIT"?"bg-success":"bg-danger"])},t(m.remarks),3)]),e("div",cp,[rp,e("span",{class:D(["badge",{"bg-danger":m.percentage_completed>=0&&m.percentage_completed<=59},{"bg-orange":m.percentage_completed>60&&m.percentage_completed<=90},{"bg-success":m.percentage_completed===100}])},t(m.percentage_completed+"%"),3)])],2)],8,Km))),128))])]),e("div",up,t(p.value),1)])])])])]),e("div",_p,[e("div",mp,[e("div",pp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(y)+" Summary Report")]),hp]),e("div",vp,[e("div",bp,[e("div",null,[fp,f(c(Fe),{modelValue:Y.value,"onUpdate:modelValue":q[1]||(q[1]=m=>Y.value=m)},null,8,["modelValue"])]),e("div",null,[$p,f(c(Fe),{modelValue:Q.value,"onUpdate:modelValue":q[2]||(q[2]=m=>Q.value=m)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[gp,e("button",{onClick:ee,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",yp,[e("div",kp,[e("div",xp,[wp,e("div",Cp,[e("div",Sp,[e("div",Dp,[(s(!0),a(O,null,X(r.value,m=>(s(),a("div",{class:"col-md-4",key:m.background},[e("div",{class:"box",onClick:k=>N(m)},[e("div",{class:"column",style:We({"background-color":m.background})},"\xA0",4),e("div",{class:"column",style:We({"background-color":m.active_background})},"\xA0",4)],8,Up)]))),128))])])]),Vp])])])],64))}};var Ap=ye(Mp,[["__scopeId","data-v-04a9a400"]]);const Ep={class:"text-center"},Tp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return pe(),me(),(y,_)=>(s(),a("tr",null,[e("td",null,t(o.item.sitename),1),e("td",null,t(c(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(o.item.startdate),1),e("td",null,t(o.item.enddate),1),e("td",null,t(o.item.tasktype.listtask),1),e("td",null,t(o.item.status),1),e("td",Ep,[e("span",{class:D(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},t(o.item.remarks),3)])]))}};var Pp=ye(Tp,[["__scopeId","data-v-f22938e0"]]);const Ce=o=>(Ue("data-v-029f6d88"),o=o(),Ve(),o),Fp={class:"content"},Lp={class:"container-fluid"},Ip={class:"card",id:"capturePrioContainer"},qp={class:"card-header"},Yp={class:"card-title"},Np={class:"card-body"},Bp={key:1,class:"content"},Rp={class:"container-fluid"},Hp=Ce(()=>e("i",{class:"fa fa-camera"},null,-1)),jp=[Hp],Op={class:"dispatch-table"},zp={class:"table-responsive"},Gp={class:"table table-bordered table-sm table-striped table-hover"},Wp=Ce(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Qp={key:0},Kp={key:1},Xp=Ce(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),Jp=[Xp],Zp=["item","index"],eh={class:"card"},th={class:"card-body"},sh={class:"list-field"},ah=Ce(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),oh={class:"list-field"},lh=Ce(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),nh={class:"list-field"},dh=Ce(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),ih={class:"list-field"},ch=Ce(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),rh={class:"list-field"},uh=Ce(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),_h={class:"list-field"},mh=Ce(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),ph={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hh={class:"modal-dialog modal-sm",role:"document"},vh={class:"modal-content"},bh=Ce(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),fh={class:"modal-body"},$h={class:"fromtocenter"},gh=Ce(()=>e("label",{for:"fromDate"},"From:",-1)),yh=Ce(()=>e("label",{for:"toDate"},"To:",-1)),kh=Ce(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),xh={__name:"MyClosePrioList",setup(o){const y=`${$e().name}`,_=i(!1);pe();const d=i({data:[]}),r=i(""),u=i(""),p=me(),U=(w=1)=>{_.value=!0,T.get(`/api/mycloseprio?page=${w}`,{params:{query:v.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const w=document.getElementById("capturePrioContainer");Oe(w).then(n=>{const x=n.toDataURL(),Y=document.createElement("a");Y.href=x,Y.download="MY CLOSED PRIO.png",Y.click()})},A=()=>{_.value=!0,T.get("/api/filter-closeprio",{params:{start_date:r.value,end_date:u.value}}).then(w=>{_.value=!1,d.value=w.data.dailyTasks}).catch(w=>{console.error(w)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},v=i(null);return be(v,Te.exports.debounce(()=>{U()},300)),_e(()=>{U(),document.title=y}),(w,n)=>{const x=ge("font");return s(),a(O,null,[e("div",Fp,[e("div",Lp,[e("div",Ip,[e("div",qp,[e("div",Yp,[e("h5",null,t(c(p).user.first_name+" "+c(p).user.last_name)+" - My Closed Prio ",1)])]),e("div",Np,[_.value?(s(),ce(Ee,{key:0})):(s(),a("div",Bp,[e("div",Rp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},jp)])]),e("div",null,[e("div",Op,[e("div",zp,[f(x,{size:"2"},{default:J(()=>[e("table",Gp,[Wp,d.value.data.length>0?(s(),a("tbody",Qp,[(s(!0),a(O,null,X(d.value.data,(Y,Q)=>(s(),ce(Pp,{key:Y.id,item:Y,index:Q},null,8,["item","index"]))),128))])):(s(),a("tbody",Kp,Jp))])]),_:1})])]),(s(!0),a(O,null,X(d.value.data,(Y,Q)=>(s(),a("div",{class:"dispatch-list first-letter:shadow",key:Y.id,item:Y,index:Q},[e("div",eh,[e("div",th,[e("div",sh,[ah,e("span",null,t(Y.sitename),1)]),e("div",oh,[lh,e("span",null,t(c(ve)(Y.taskdate).format("MMMM D, YYYY")),1)]),e("div",nh,[dh,e("span",null,t(Y.startdate),1)]),e("div",ih,[ch,e("span",null,t(Y.enddate),1)]),e("div",rh,[uh,e("span",null,t(Y.tasktype.listtask),1)]),e("div",_h,[mh,e("span",{class:D(["badge",Y.remarks==="HIT"?"bg-success":"bg-danger"])},t(Y.remarks),3)])])])],8,Zp))),128))])])]))])]),f(c(Ie),{data:d.value,onPaginationChangePage:U},null,8,["data"])])]),e("div",ph,[e("div",hh,[e("div",vh,[bh,e("div",fh,[e("div",$h,[e("div",null,[gh,f(c(Fe),{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=Y=>r.value=Y)},null,8,["modelValue"])]),e("div",null,[yh,f(c(Fe),{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=Y=>u.value=Y)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[kh,e("button",{onClick:A,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var wh=ye(xh,[["__scopeId","data-v-029f6d88"]]);const Ch=["checked"],Sh={class:"text-center"},Dh=e("i",{class:"fa fa-edit"},null,-1),Uh=[Dh],Vh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){pe();const _=o,d=y,r=()=>{d("toggleSelection",_.user)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Ch)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",Sh,[e("a",{href:"#",onClick:p[0]||(p[0]=te(U=>u.$emit("editUser",o.user),["prevent"]))},Uh)])]))}},Mh={class:"content"},Ah={class:"container-fluid"},Eh={class:"card"},Th={class:"card-header"},Ph=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Fh={class:"card-tools"},Lh={class:"card-body"},Ih={class:"table-responsive"},qh={class:"table table-bordered table-hover table-sm"},Yh=e("th",{style:{width:"10px"}},"#",-1),Nh=e("th",null,"Name",-1),Bh=e("th",null,"Email",-1),Rh=e("th",null,"Registered Date",-1),Hh=e("th",null,"Options",-1),jh={key:0},Oh={key:1},zh=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Gh=[zh],Wh={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qh={class:"modal-dialog modal-sm",role:"document"},Kh={class:"modal-content"},Xh={class:"modal-header"},Jh={class:"modal-title",id:"staticBackdropLabel"},Zh={key:0},ev=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),tv={class:"modal-body"},sv={class:"table table-sm"},av=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),ov={colspan:"5"},lv={class:"custom-control custom-checkbox"},nv=["value","id","checked"],dv=["for"],iv={key:0,class:"table table-sm"},cv={class:"text-danger"},rv={class:"custom-control custom-checkbox"},uv=["value","id"],_v=["for"],mv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),pv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hv={class:"modal-dialog",role:"document"},vv={class:"modal-content"},bv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),fv={class:"modal-footer"},$v=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),gv={__name:"UserMenuList",setup(o){const y=`${$e().name}`,_=pe(),d=i({data:[]}),r=i(!1),u=i(),p=i(null),U=i(null),l=i([]),A=(N=1)=>{T.get(`/api/users?page=${N}`,{params:{query:n.value}}).then(M=>{d.value=M.data,x.value=[],selectAll.value=!1})},v=N=>{T.get("/api/usermenu",{params:{user_id:N.id}}).then(M=>{de.value=M.data,console.log(M.data)}).catch(M=>{console.log(M)}),r.value=!0,p.value.resetForm(),$("#userFormModal").modal("show"),u.value={id:N.id,username:N.username,email:N.email,first_name:N.first_name,last_name:N.last_name},U.value=u.value.first_name+" "+u.value.last_name},w=()=>{const N={user_id:u.value.id,menu_id:l.value};console.log(N),T.post("/api/usermenu",N).then(M=>{_.success("User Menu Save successfully!")}).catch(M=>{setErrors(M.response.data.errors)})},n=i(null),x=i([]),Y=N=>{const M=x.value.indexOf(N.id);M===-1?x.value.push(N.id):x.value.splice(M,1),console.log(x.value)},Q=i(null),ee=N=>{Q.value=N,$("#deleteUserModal").modal("show")},de=i({data:[]});return be(n,Te.exports.debounce(()=>{A()},300)),_e(()=>{A(),document.title=y}),(N,M)=>{const q=ge("font");return s(),a(O,null,[e("div",Mh,[e("div",Ah,[e("div",Eh,[e("div",Th,[Ph,e("div",Fh,[Z(e("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=m=>n.value=m),class:"form-control",placeholder:"Search..."},null,512),[[ue,n.value]])])]),e("div",Lh,[e("div",Ih,[f(q,{size:"2"},{default:J(()=>[e("table",qh,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":M[1]||(M[1]=m=>N.selectAll=m),onChange:M[2]||(M[2]=(...m)=>N.selectAllUsers&&N.selectAllUsers(...m))},null,544),[[Ae,N.selectAll]])]),Yh,Nh,Bh,Rh,Hh])]),d.value.data.length>0?(s(),a("tbody",jh,[(s(!0),a(O,null,X(d.value.data,(m,k)=>(s(),ce(Vh,{key:m.id,user:m,index:k,onEditUser:v,onConfirmUserDeletion:ee,onToggleSelection:Y,"select-all":N.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),a("tbody",Oh,Gh))])]),_:1})])])]),f(c(Ie),{data:d.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",Wh,[e("div",Qh,[e("div",Kh,[e("div",Xh,[e("h5",Jh,[r.value?(s(),a("span",Zh,"User Menu for "+t(U.value),1)):F("",!0)]),ev]),f(c(Se),{ref_key:"form",ref:p,onSubmit:w,"initial-values":u.value},{default:J(()=>[e("div",tv,[e("table",sv,[av,(s(!0),a(O,null,X(de.value,m=>(s(),a("tr",{key:m.menu_id},[e("td",ov,[e("div",lv,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":M[3]||(M[3]=k=>l.value=k),value:m.menu_id,id:"menu_id_"+m.menu_id,checked:m.hasAccess},null,8,nv),[[Ae,l.value]]),e("label",{for:"menu_id_"+m.menu_id,class:"custom-control-label"},t(m.menu_title),9,dv)]),m.submenus&&m.submenus.length>0?(s(),a("table",iv,[(s(!0),a(O,null,X(m.submenus,k=>(s(),a("tr",{key:k.id},[e("td",cv,[e("div",rv,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":M[4]||(M[4]=j=>l.value=j),value:k.menu_id,id:"menu_id_"+k.menu_id},null,8,uv),[[Ae,l.value]]),e("label",{for:"menu_id_"+k.menu_id,class:"custom-control-label"},t(k.menu_title),9,_v)])])]))),128))])):F("",!0)])]))),128))])]),mv]),_:1},8,["initial-values"])])])]),e("div",pv,[e("div",hv,[e("div",vv,[bv,e("div",fv,[$v,e("button",{onClick:M[5]||(M[5]=te((...m)=>N.deleteUser&&N.deleteUser(...m),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const ot=o=>(Ue("data-v-8e5d6dd6"),o=o(),Ve(),o),yv=["checked"],kv=["innerHTML"],xv={style:{"text-align":"center"}},wv={class:"text-center"},Cv=ot(()=>e("i",{class:"fa fa-edit"},null,-1)),Sv=[Cv],Dv=ot(()=>e("i",{class:"fa fa-trash"},null,-1)),Uv=[Dv],Vv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:y}){pe(),me();const _=o,d=y,r=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,yv)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.menu_title),1),e("td",null,t(o.item.parent_title),1),e("td",null,t(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,kv),e("td",null,t(o.item.sort_order),1),e("td",xv,[e("i",{class:D({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,t(o.item.created_at),1),e("td",wv,[e("button",{class:"btn btn-sm bg-primary",onClick:p[0]||(p[0]=te(U=>u.$emit("editMenu",o.item),["prevent"]))},Sv),L("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:p[1]||(p[1]=te(U=>u.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Uv)])]))}};var Mv=ye(Vv,[["__scopeId","data-v-8e5d6dd6"]]);const Av=["type","name","value"],Ev=e("span",{class:"check"},null,-1),Tv={class:"pl-2"},Pv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:y}){const _=o,d=y,r=De({get:()=>_.modelValue,set:p=>{d("update:modelValue",p)}}),u=De(()=>_.type==="radio"?"radio":"checkbox");return(p,U)=>(s(),a("label",{class:D([o.type,"mr-6 mb-3 last:mr-0"])},[Z(e("input",{"onUpdate:modelValue":U[0]||(U[0]=l=>r.value=l),type:u.value,name:o.name,value:o.inputValue},null,8,Av),[[tt,r.value]]),Ev,e("span",Tv,t(o.label),1)],2))}},Fv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:y}){const _=o,d=y,r=De({get:()=>_.modelValue,set:u=>{d("update:modelValue",u)}});return(u,p)=>(s(),a("div",{class:D(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(s(!0),a(O,null,X(o.options,(U,l)=>(s(),ce(Pv,{key:l,modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=A=>r.value=A),type:o.type,name:o.name,"input-value":l,label:U,class:D(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Lv={class:"content"},Iv={class:"container-fluid"},qv={class:"d-flex justify-content-between"},Yv={class:"d-flex"},Nv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Bv={key:0},Rv=e("i",{class:"fa fa-trash mr-1"},null,-1),Hv={class:"ml-2"},jv={class:"card"},Ov={class:"card-body"},zv={class:"table-responsive"},Gv={class:"table table-bordered table-sm"},Wv=e("th",{style:{width:"10px"}},"#",-1),Qv=e("th",null,"Title",-1),Kv=e("th",null,"Parent Menu",-1),Xv=e("th",null,"Route",-1),Jv=e("th",null,"Icon",-1),Zv=e("th",null,"Sort",-1),e1=e("th",null,"Active",-1),t1=e("th",null,"Date",-1),s1=e("th",null,"Action",-1),a1={key:0},o1={key:1},l1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),n1=[l1],d1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},i1={class:"modal-dialog modal-sm",role:"document"},c1={class:"modal-content"},r1={class:"modal-header"},u1={class:"modal-title",id:"staticBackdropLabel"},_1={key:0},m1={key:1},p1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),h1={class:"modal-body"},v1={class:"col-md-12"},b1={class:"row"},f1={class:"col-12"},$1={class:"form-group"},g1=e("label",{for:"user"},"Menu Title",-1),y1={class:"invalid-feedback"},k1={class:"form-group"},x1=e("label",{for:"department"},"Parent Menu",-1),w1=e("option",{value:"0"},"None",-1),C1=["value"],S1={class:"form-group"},D1=e("label",{for:"warehouse"},"Icon",-1),U1={class:"invalid-feedback"},V1={class:"form-group"},M1=e("label",{for:"user"},"Route",-1),A1={class:"invalid-feedback"},E1={class:"form-group"},T1=e("label",{for:"user"},"Sort",-1),P1={class:"invalid-feedback"},F1={class:"form-group"},L1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),I1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},q1={class:"modal-dialog",role:"document"},Y1={class:"modal-content"},N1=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),B1={class:"modal-footer"},R1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),H1={__name:"MenuList",setup(o){const y=`${$e().name}`,_=pe(),d=i({data:[]}),r=i({data:[]}),u=i(!1),p=i(!1);i();const U=i(!0),l=Me({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),A=me();i(null);const v=i(),w=(z=1)=>{u.value=!0,T.get(`/api/menulist?page=${z}`,{params:{query:N.value}}).then(P=>{u.value=!1,d.value=P.data,M.value=[],K.value=!1})},n=()=>{T.get("/api/GetParentId").then(z=>{r.value=z.data}).catch(z=>{console.error(z)})};xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const x=({resetForm:z,setErrors:P})=>{T.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(C=>{d.value.data.unshift(C.data),$("#FormModal").modal("hide"),z(),_.success("User created successfully!")}).catch(C=>{C.response.data.errors&&P(C.response.data.errors)})},Y=()=>{p.value=!1,$("#FormModal").modal("show")},Q=z=>{p.value=!0,l.menu_id=z.menu_id,l.menu_title=z.menu_title,l.parent_id=z.parent_id,l.menu_icon=z.menu_icon,l.menu_route=z.menu_route,l.sort_order=z.sort_order,l.is_active===1?U.value=!0:U.value=!1,l.is_active=z.is_active,$("#FormModal").modal("show"),v.value=z.parent_id},ee=({setErrors:z})=>{T.post("/api/menulist",l).then(P=>{w(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(P=>{z(P.response.data.errors),console.log(P)})},de=(z,P)=>{p.value?ee(z):x(z)},N=i(null),M=i([]),q=z=>{const P=M.value.indexOf(z.id);P===-1?M.value.push(z.id):M.value.splice(P,1),console.log(M.value)},m=i(null),k=z=>{m.value=z,$("#deleteClientModal").modal("show")},j=()=>{T.delete(`/api/menu/${m.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(z=>z.menu_id!==m.value)})},oe=()=>{T.delete("menulist",{data:{ids:M.value}}).then(z=>{d.value.data=d.value.data.filter(P=>!M.value.includes(P.id)),M.value=[],K.value=!1,_.success(z.data.message)})},K=i(!1),he=()=>{K.value?M.value=d.value.data.map(z=>z.id):M.value=[],console.log(M.value)};return be([U],z=>{l.is_active=z?1:0}),be(N,Te.exports.debounce(()=>{w()},300)),_e(()=>{w(),n(),document.title=y}),(z,P)=>{const C=ge("font");return s(),a(O,null,[e("div",Lv,[e("div",Iv,[e("div",qv,[e("div",Yv,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[Nv,L(" Menu ")]),M.value.length>0?(s(),a("div",Bv,[e("button",{onClick:oe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Rv,L(" Delete Selected ")]),e("span",Hv,"Selected "+t(M.value.length)+" Menu",1)])):F("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=h=>N.value=h),class:"form-control",placeholder:"Search..."},null,512),[[ue,N.value]])])]),e("div",jv,[e("div",Ov,[u.value?(s(),ce(Ee,{key:0})):F("",!0),e("div",zv,[f(C,{size:"2"},{default:J(()=>[e("table",Gv,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":P[1]||(P[1]=h=>K.value=h),onChange:he},null,544),[[Ae,K.value]])]),Wv,Qv,Kv,Xv,Jv,Zv,e1,t1,s1])]),d.value.data.length>0?(s(),a("tbody",a1,[(s(!0),a(O,null,X(d.value.data,(h,g)=>(s(),ce(Mv,{key:h.id,item:h,index:g,onEditMenu:Q,onConfirmDeletion:k,onToggleSelection:q,"select-all":K.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",o1,n1))])]),_:1})])])]),f(c(Ie),{data:d.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",d1,[e("div",i1,[e("div",c1,[e("div",r1,[e("h5",u1,[p.value?(s(),a("span",_1,"Edit Menu")):(s(),a("span",m1,"Add Menu"))]),p1]),f(c(Se),{onSubmit:de},{default:J(({errors:h})=>[e("div",h1,[e("div",v1,[e("div",b1,[e("div",f1,[f(c(B),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(A).user.id,"onUpdate:modelValue":P[2]||(P[2]=g=>c(A).user.id=g)},null,8,["modelValue"]),e("div",$1,[g1,f(c(B),{name:"menu_title",type:"text",class:D(["form-control",{"is-invalid":h.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":P[3]||(P[3]=g=>l.menu_title=g)},null,8,["class","modelValue"]),e("span",y1,t(h.menu_title),1)]),e("div",k1,[x1,Z(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":P[4]||(P[4]=g=>l.parent_id=g)},[w1,(s(!0),a(O,null,X(r.value,g=>(s(),a("option",{key:g.menu_id,value:g.menu_id},t(g.menu_title),9,C1))),128))],512),[[Pe,l.parent_id]])]),e("div",S1,[D1,f(c(B),{name:"menu_icon",type:"text",class:D(["form-control",{"is-invalid":h.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":P[5]||(P[5]=g=>l.menu_icon=g)},null,8,["class","modelValue"]),e("span",U1,t(h.menu_icon),1)]),e("div",V1,[M1,f(c(B),{name:"menu_route",type:"text",class:D(["form-control",{"is-invalid":h.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":P[6]||(P[6]=g=>l.menu_route=g)},null,8,["class","modelValue"]),e("span",A1,t(h.menu_route),1)]),e("div",E1,[T1,f(c(B),{name:"sort_order",type:"text",class:D(["form-control",{"is-invalid":h.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":P[7]||(P[7]=g=>l.sort_order=g)},null,8,["class","modelValue"]),e("span",P1,t(h.sort_order),1)]),e("div",F1,[f(Fv,{modelValue:l.is_active,"onUpdate:modelValue":P[8]||(P[8]=g=>l.is_active=g),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),L1]),_:1})])])]),e("div",I1,[e("div",q1,[e("div",Y1,[N1,e("div",B1,[R1,e("button",{onClick:te(j,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},j1={class:"error-page"},O1=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),z1=[O1],G1="Page Not Found",lt={__name:"404",setup(o){return _e(()=>{document.title=G1}),(y,_)=>(s(),a("div",j1,z1))}};const ne=o=>(Ue("data-v-18d1690e"),o=o(),Ve(),o),W1={id:"exportPDF"},Q1={class:"container"},K1=ne(()=>e("br",null,null,-1)),X1={class:"header"},J1=["src"],Z1=["src"],eb={class:"header"},tb={class:"header-justify-space-between"},sb=ne(()=>e("br",null,null,-1)),ab=ne(()=>e("p",null,null,-1)),ob={key:0},lb=ne(()=>e("strong",null,null,-1)),nb=ne(()=>e("br",null,null,-1)),db=ne(()=>e("br",null,null,-1)),ib=ne(()=>e("p",null,null,-1)),cb=ne(()=>e("strong",null,"Unit details",-1)),rb={class:"content"},ub={class:"header-justify-space-between"},_b=ne(()=>e("span",null,"Brand:",-1)),mb=ne(()=>e("br",null,null,-1)),pb=ne(()=>e("span",null,"Model:",-1)),hb=ne(()=>e("br",null,null,-1)),vb=ne(()=>e("div",null,null,-1)),bb=ne(()=>e("span",null,"Serial #:",-1)),fb=ne(()=>e("br",null,null,-1)),$b=ne(()=>e("span",null,"Asset Tag:",-1)),gb=ne(()=>e("br",null,null,-1)),yb=ne(()=>e("div",null,null,-1)),kb=ne(()=>e("strong",null,"Reported problem",-1)),xb={class:"content"},wb=ne(()=>e("strong",null,"Assessment conducted",-1)),Cb={class:"content"},Sb=ne(()=>e("strong",null,"Recommendation",-1)),Db={class:"content"},Ub={class:"header-justify-space-between"},Vb=ne(()=>e("strong",null,"Evaluated by:",-1)),Mb=ne(()=>e("br",null,null,-1)),Ab={class:"botoom-line"},Eb=ne(()=>e("br",null,null,-1)),Tb=ne(()=>e("p",null,null,-1)),Pb=ne(()=>e("strong",null,"Noted by:",-1)),Fb=ne(()=>e("br",null,null,-1)),Lb={class:"botoom-line"},Ib=ne(()=>e("br",null,null,-1)),qb=ne(()=>e("br",null,null,-1)),Yb=ne(()=>e("p",null,null,-1)),Nb={key:0},Bb={key:1},Rb={key:0,class:"fab-container"},Hb=ne(()=>e("i",{class:"fas fa-download"},null,-1)),jb=[Hb],Ob={__name:"TechRecommApprove",setup(o){const y=`${$e().params.id}`,_=()=>{const u=document.getElementById("exportPDF");at().from(u).save(`${y}.pdf`)},d=Me({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),r=()=>{T.get(`/api/tech-recommendations/${$e().params.id}`).then(u=>{d.id=u.data.id,d.recommnum=u.data.recommnum,d.branch=u.data.branch,d.company=u.data.company,d.department=u.data.department,d.warehouse=u.data.warehouse,d.user=u.data.user,d.problem=u.data.problem,d.brand=u.data.brand,d.model=u.data.model,d.assettag=u.data.assettag,d.serialnum=u.data.serialnum,d.status=u.data.status,d.assconducted=u.data.assconducted,d.recommendation=u.data.recommendation,d.createdby=u.data.createdby.cfull_name,d.updatedby=u.data.updatedby.ufull_name,d.created_at=ve(u.data.created_at).format("MMMM D, YYYY"),d.updated_at=ve(u.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=u.data.createdby.cposition,d.updated_position=u.data.updatedby.uposition}).catch(u=>{actions.setErrors(u.response.data.errors)})};return _e(()=>{r(),document.title=y}),(u,p)=>(s(),a(O,null,[e("div",W1,[e("div",Q1,[K1,e("div",X1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,J1),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,Z1)]),e("div",eb,[e("span",null,[L("Recommendation No: "),e("strong",null,t(d.recommnum),1)]),e("span",null,[L("Date Checked: "),e("strong",null,t(d.created_at),1)])]),e("div",tb,[e("div",null,[e("span",null,[L("Company: "),e("strong",null,t(d.company),1)]),sb,e("span",null,[L("Branch: "),e("strong",null,t(d.branch),1)])]),ab,e("div",null,[d.warehouse==""?(s(),a("span",ob,[L("Warehouse: "),lb,L(t(d.warehouse),1)])):F("",!0),nb,e("span",null,[L("User: "),e("strong",null,t(d.user),1)]),db,e("span",null,[L("Department: "),e("strong",null,t(d.department),1)])]),ib]),cb,e("div",rb,[e("div",ub,[e("div",null,[_b,e("strong",null,t(d.brand),1),mb,pb,e("strong",null,t(d.model),1),hb]),vb,e("div",null,[bb,e("strong",null,t(d.serialnum),1),fb,$b,e("strong",null,t(d.assettag),1),gb]),yb])]),kb,e("div",xb,[e("p",null,t(d.problem),1)]),wb,e("div",Cb,[e("p",null,t(d.assconducted),1)]),Sb,e("div",Db,[e("p",null,t(d.recommendation),1)]),e("div",Ub,[e("div",null,[Vb,Mb,e("span",Ab,t(d.createdby),1),Eb,e("span",null,t(d.created_position),1)]),Tb,e("div",null,[Pb,Fb,e("span",Lb,t(d.updatedby),1),Ib,e("span",null,t(d.updated_position),1),qb]),Yb]),d.status===2?(s(),a("span",Nb,"Approved date:("+t(d.updated_at)+")",1)):(s(),a("span",Bb,"Pending"))])]),d.status===2?(s(),a("div",Rb,[e("div",{class:"button iconbutton bg-success",onClick:p[0]||(p[0]=U=>_())},jb)])):F("",!0)],64))}};var nt=ye(Ob,[["__scopeId","data-v-18d1690e"]]);const zb={},Gb={class:"card mx-auto",style:{"max-width":"600px"}},Wb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),Qb={class:"card-body"},Kb={class:"list-unstyled"};function Xb(o,y){return s(),a("div",Gb,[Wb,e("div",Qb,[e("ul",Kb,[e("li",{class:"nav-item dropdown",onClick:y[0]||(y[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var Jb=ye(zb,[["render",Xb]]);const Zb=["checked"],ef={class:"text-center"},tf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:y}){pe(),me();const _=o,d=y,r=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Zb)]),e("td",null,t(o.index+1),1),e("td",{onClick:p[0]||(p[0]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.site_name),1),e("td",{onClick:p[1]||(p[1]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_name),1),e("td",{onClick:p[2]||(p[2]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_type),1),e("td",{onClick:p[3]||(p[3]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.serial),1),e("td",{onClick:p[4]||(p[4]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.date_acquired),1),e("td",{onClick:p[5]||(p[5]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.man_supplier),1),e("td",{onClick:p[6]||(p[6]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.unit),1),e("td",{onClick:p[7]||(p[7]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.purchasecost),1),e("td",{onClick:p[8]||(p[8]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.depreciationcostbyyear),1),e("td",{onClick:p[9]||(p[9]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_by),1),e("td",{onClick:p[10]||(p[10]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_at),1),e("td",{onClick:p[11]||(p[11]=te(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.updated_by),1),e("td",ef,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:p[12]||(p[12]=te(U=>u.$emit("editData",o.item),["prevent"]))}),L(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:p[13]||(p[13]=te(U=>u.$emit("confirmDeletion",o.item.id),["prevent"]))})])])]))}};var sf=ye(tf,[["__scopeId","data-v-769d0a2c"]]);const af={class:"content"},of={class:"container-fluid"},lf={class:"d-flex justify-content-between"},nf={class:"d-flex"},df=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),cf={key:0},rf=e("i",{class:"fa fa-trash mr-1"},null,-1),uf={class:"ml-2"},_f={class:"card"},mf={class:"card-body"},pf={class:"table-responsive"},hf={class:"table table-bordered table-sm table-striped hover"},vf=e("th",{style:{width:"10px"}},"#",-1),bf=e("th",null,"Site",-1),ff=e("th",null,"Asset",-1),$f=e("th",null,"Asset type",-1),gf=e("th",null,"Serial",-1),yf=e("th",null,"Date Aquired",-1),kf=e("th",null,"Supplier",-1),xf=e("th",null,"Unit",-1),wf=e("th",null,"Purchase Cost",-1),Cf=e("th",null,"Depreciation Cost",-1),Sf=e("th",null,"Createdby",-1),Df=e("th",null,"CreatedAt",-1),Uf=e("th",null,"Updatedby",-1),Vf=e("th",null,"Action",-1),Mf={key:0},Af={key:1},Ef=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Tf=[Ef],Pf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ff={class:"modal-dialog modal-lg",role:"document"},Lf={class:"modal-content"},If={class:"modal-header"},qf={class:"modal-title",id:"staticBackdropLabel"},Yf={key:0},Nf={key:1},Bf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Rf={class:"modal-body"},Hf={class:"col-md-12"},jf={class:"row"},Of={class:"col-6"},zf={class:"form-group"},Gf=e("label",{for:"branch"},"Site",-1),Wf=e("option",{value:"",disabled:""}," Select Site ",-1),Qf=["value"],Kf={class:"invalid-feedback"},Xf={class:"form-group"},Jf=e("label",{for:"department"},"Asset Name",-1),Zf={class:"invalid-feedback"},e$={class:"form-group"},t$=e("label",{for:"asset_type"},"Asset Type",-1),s$={class:"invalid-feedback"},a$={class:"form-group"},o$=e("label",{for:"serial"},"Serial #:",-1),l$={class:"invalid-feedback"},n$={class:"col-6"},d$={class:"form-group"},i$=e("label",{for:"date_acquired"},"Date Acquired",-1),c$={class:"invalid-feedback"},r$={class:"form-group"},u$=e("label",{for:"man_supplier"},"Brand",-1),_$={class:"invalid-feedback"},m$={class:"form-group"},p$=e("label",{for:"unit"},"Unit",-1),h$={class:"invalid-feedback"},v$={class:"row"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"paccountable"},"Person Accountable",-1),g$={class:"invalid-feedback"},y$={class:"col-6"},k$={class:"form-group"},x$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),w$={class:"invalid-feedback"},C$={class:"row"},S$={class:"col-6"},D$={class:"form-group"},U$=e("label",{for:"cucodition"},"Current Condition",-1),V$=e("option",{value:"",disabled:""}," Select Condition ",-1),M$=e("option",{value:"Fair"}," FAIR ",-1),A$=e("option",{value:"Good"}," GOOD ",-1),E$=e("option",{value:"Damange"}," DAMANGE ",-1),T$={class:"invalid-feedback"},P$={class:"form-group"},F$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),L$={class:"col-6"},I$={class:"form-group"},q$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),Y$={class:"form-group"},N$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),B$={class:"row"},R$={class:"col-6"},H$={class:"form-group"},j$=e("label",{for:"operationhours"},"Operating Hours",-1),O$={class:"col-6"},z$={class:"form-group"},G$=e("label",{for:"notes"},"Notes",-1),W$={class:"invalid-feedback"},Q$={class:"row"},K$={class:"col-6"},X$={class:"form-group"},J$=e("label",{for:"purchasecost"},"Purchase Cost",-1),Z$={class:"input-group mb-3"},eg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),tg={class:"form-group"},sg=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),ag={class:"input-group mb-3"},og=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),lg={class:"col-6"},ng={class:"form-group"},dg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),ig={class:"invalid-feedback"},cg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),rg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ug={class:"modal-dialog",role:"document"},_g={class:"modal-content"},mg=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),pg={class:"modal-footer"},hg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),vg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},bg={class:"modal-dialog",role:"document"},fg={class:"modal-content"},$g=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),gg={class:"modal-body"},yg={class:"table table-striped table-sm table-hover"},kg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),xg=e("td",null,"Site",-1),wg=e("td",null,"Assit Name",-1),Cg=e("td",null,"Assit Type",-1),Sg=e("td",null,"Serial No.",-1),Dg=e("td",null,"Date Acquired",-1),Ug=e("td",null,"Brand",-1),Vg=e("td",null,"Unit",-1),Mg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Ag=e("td",null,"Personal Accountable",-1),Eg=e("td",null,"Transfer Location",-1),Tg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Pg=e("td",null,"Current Condition",-1),Fg=e("td",null,"Maintenance Note",-1),Lg=e("td",null,"Last Maintenance",-1),Ig=e("td",null,"Next Maintenance",-1),qg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),Yg=e("td",null,"Operation Hours",-1),Ng=e("td",null,"Notes",-1),Bg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),Rg=e("td",null,"Purchase Cost",-1),Hg=e("td",null,"Depreciation Cost by yr",-1),jg=e("td",null,"Warranty information",-1),Og=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),zg={__name:"AssetmList",setup(o){me();const y=`${$e().name}`,_=pe(),d=i({data:[]});i({data:[]});const r=i(!1),u=i(!1),p=i(),U=i(!0),l=Me({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});i(null),i();const A=i(),v=(C=1)=>{r.value=!0,T.get(`/web/asset-monitoring?page=${C}`,{params:{query:q.value}}).then(h=>{r.value=!1,d.value=h.data,m.value=[],z.value=!1})},w=xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),n=xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),x=()=>{T.post("/web/asset-monitoring",l).then(C=>{$("#FormModal").modal("hide"),v(),_.success(C.data.message)}).catch(C=>{_.error(C.data.message)})},Y=()=>{u.value=!1,$("#FormModal").modal("show")},Q=C=>{l.site_name=C.site_name,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.purchasecost=C.purchasecost,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,l.Depreciationcostbyyear=C.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},ee=C=>{u.value=!0,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.purchasecost=C.purchasecost,l.depreciationcost=C.depreciationcost,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,$("#FormModal").modal("show")},de=({setErrors:C})=>{T.post("/web/asset-monitoring",l).then(h=>{v(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(h=>{C(h.response.data.errors),console.log(h)})},N=(C,h)=>{u.value?de(C):x()},M=()=>{T.get("/web/getsite").then(C=>{A.value=C.data.sites}).catch(C=>{console.log(C)})},q=i(null),m=i([]),k=C=>{const h=m.value.indexOf(C.id);h===-1?m.value.push(C.id):m.value.splice(h,1),console.log(m.value)},j=i(null),oe=C=>{j.value=C,$("#deleteClientModal").modal("show")},K=()=>{T.delete(`/web/asset-monitoring/${j.value}`).then(C=>{$("#deleteClientModal").modal("hide"),_.success(C.data.message),v()})},he=()=>{T.delete("/web/bulkDeleteAsset",{data:{ids:m.value}}).then(C=>{d.value.data=d.value.data.filter(h=>!m.value.includes(h.id)),m.value=[],z.value=!1,_.success(C.data.message)})},z=i(!1),P=()=>{z.value?m.value=d.value.data.map(C=>C.id):m.value=[],console.log(m.value)};return be([U],C=>{l.is_active=C?1:0}),be(q,Te.exports.debounce(()=>{v()},300)),_e(()=>{v(),M(),document.title=y}),(C,h)=>{const g=ge("font"),se=ge("tab-content"),ie=ge("form-wizard");return s(),a(O,null,[e("div",af,[e("div",of,[e("div",lf,[e("div",nf,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[df,L(" Asset ")]),m.value.length>0?(s(),a("div",cf,[e("button",{onClick:he,type:"button",class:"ml-2 mb-2 btn btn-danger"},[rf,L(" Delete Selected ")]),e("span",uf,"Selected "+t(m.value.length)+" Record",1)])):F("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=V=>q.value=V),class:"form-control",placeholder:"Search..."},null,512),[[ue,q.value]])])]),e("div",_f,[e("div",mf,[r.value?(s(),ce(Ee,{key:0})):F("",!0),e("div",pf,[f(g,{size:"2"},{default:J(()=>[e("table",hf,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=V=>z.value=V),onChange:P},null,544),[[Ae,z.value]])]),vf,bf,ff,$f,gf,yf,kf,xf,wf,Cf,Sf,Df,Uf,Vf])]),d.value.data.length>0?(s(),a("tbody",Mf,[(s(!0),a(O,null,X(d.value.data,(V,E)=>(s(),ce(sf,{key:V.id,item:V,index:E,onViewData:Q,onEditData:ee,onConfirmDeletion:oe,onToggleSelection:k,"select-all":z.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",Af,Tf))])]),_:1})])])]),f(c(Ie),{data:d.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",Pf,[e("div",Ff,[e("div",Lf,[e("div",If,[e("h5",qf,[u.value?(s(),a("span",Yf,"Edit Asset")):(s(),a("span",Nf,"Add Asset"))]),Bf]),f(c(Se),{onSubmit:N,"validation-schema":u.value?c(n):c(w),"initial-values":p.value},{default:J(({errors:V})=>[e("div",Rf,[e("div",Hf,[f(ie,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:J(()=>[f(se,{title:"Asset Information",icon:"fas fa-book"},{default:J(()=>[e("div",jf,[e("div",Of,[e("div",zf,[Gf,f(c(B),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":V.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":h[2]||(h[2]=E=>l.site_id=E)},{default:J(()=>[Wf,(s(!0),a(O,null,X(A.value,E=>(s(),a("option",{key:E.id,value:E.id},t(E.site_name),9,Qf))),128))]),_:2},1032,["class","modelValue"]),e("span",Kf,t(V.branch),1)]),e("div",Xf,[Jf,f(c(B),{name:"asset_name",type:"text",class:D(["form-control",{"is-invalid":V.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":h[3]||(h[3]=E=>l.asset_name=E)},null,8,["class","modelValue"]),e("span",Zf,t(V.asset_name),1)]),e("div",e$,[t$,f(c(B),{name:"asset_type",type:"text",class:D(["form-control",{"is-invalid":V.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":h[4]||(h[4]=E=>l.asset_type=E)},null,8,["class","modelValue"]),e("span",s$,t(V.asset_type),1)]),e("div",a$,[o$,f(c(B),{name:"serial",type:"text",class:D(["form-control",{"is-invalid":V.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":h[5]||(h[5]=E=>l.serial=E)},null,8,["class","modelValue"]),e("span",l$,t(V.serial),1)])]),e("div",n$,[e("div",d$,[i$,f(c(B),{name:"date_acquired",type:"date",class:D(["form-control",{"is-invalid":V.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":h[6]||(h[6]=E=>l.date_acquired=E)},null,8,["class","modelValue"]),e("span",c$,t(V.date_acquired),1)]),e("div",r$,[u$,f(c(B),{name:"man_supplier",type:"text",class:D(["form-control",{"is-invalid":V.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":h[7]||(h[7]=E=>l.man_supplier=E)},null,8,["class","modelValue"]),e("span",_$,t(V.man_supplier),1)]),e("div",m$,[p$,f(c(B),{name:"unit",type:"number",class:D(["form-control",{"is-invalid":V.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":h[8]||(h[8]=E=>l.unit=E)},null,8,["class","modelValue"]),e("span",h$,t(V.unit),1)])])])]),_:2},1024),f(se,{title:"Asset Allocation",icon:"fa fa-map"},{default:J(()=>[e("div",v$,[e("div",b$,[e("div",f$,[$$,f(c(B),{name:"paccountable",type:"text",class:D(["form-control",{"is-invalid":V.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":h[9]||(h[9]=E=>l.paccountable=E)},null,8,["class","modelValue"]),e("span",g$,t(V.paccountable),1)])]),e("div",y$,[e("div",k$,[x$,f(c(B),{name:"locationchangetranfer",type:"text",class:D(["form-control",{"is-invalid":V.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":h[10]||(h[10]=E=>l.locationchangetranfer=E)},null,8,["class","modelValue"]),e("span",w$,t(V.locationchangetranfer),1)])])])]),_:2},1024),f(se,{title:"Asset Condition"},{default:J(()=>[e("div",C$,[e("div",S$,[e("div",D$,[U$,f(c(B),{as:"select",name:"cucodition",class:D(["form-control",{"is-invalid":V.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":h[11]||(h[11]=E=>l.cucodition=E)},{default:J(()=>[V$,M$,A$,E$]),_:2},1032,["class","modelValue"]),e("span",T$,t(V.cucodition),1)]),e("div",P$,[F$,f(c(B),{name:"maintenancenotes",as:"textarea",class:D(["form-control",{"is-invalid":V.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":h[12]||(h[12]=E=>l.maintenancenotes=E)},null,8,["class","modelValue"])])]),e("div",L$,[e("div",I$,[q$,f(c(B),{name:"lastmaintenance",type:"date",class:D(["form-control",{"is-invalid":V.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":h[13]||(h[13]=E=>l.lastmaintenance=E)},null,8,["class","modelValue"])]),e("div",Y$,[N$,f(c(B),{name:"nextmaintenance",type:"date",class:D(["form-control",{"is-invalid":V.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":h[14]||(h[14]=E=>l.nextmaintenance=E)},null,8,["class","modelValue"])])])])]),_:2},1024),f(se,{title:"Utilization & Ussage"},{default:J(()=>[e("div",B$,[e("div",R$,[e("div",H$,[j$,f(c(B),{name:"operationhours",type:"number",class:D(["form-control",{"is-invalid":V.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":h[15]||(h[15]=E=>l.operationhours=E)},null,8,["class","modelValue"])])]),e("div",O$,[e("div",z$,[G$,f(c(B),{name:"notes",as:"textarea",class:D(["form-control",{"is-invalid":V.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":h[16]||(h[16]=E=>l.notes=E)},null,8,["class","modelValue"]),e("span",W$,t(V.notes),1)])])])]),_:2},1024),f(se,{title:"Financial Information",icon:"fas fa-receipt"},{default:J(()=>[e("div",Q$,[e("div",K$,[e("div",X$,[J$,e("div",Z$,[eg,f(c(B),{name:"purchasecost",type:"text",class:D(["form-control",{"is-invalid":V.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":h[17]||(h[17]=E=>l.purchasecost=E)},null,8,["class","modelValue"])])]),e("div",tg,[sg,e("div",ag,[og,f(c(B),{name:"depreciationcost",type:"text",class:D(["form-control",{"is-invalid":V.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":h[18]||(h[18]=E=>l.depreciationcost=E)},null,8,["class","modelValue"])])])]),e("div",lg,[e("div",ng,[dg,f(c(B),{name:"insurancewarrantyinfo",as:"textarea",class:D(["form-control",{"is-invalid":V.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":h[19]||(h[19]=E=>l.insurancewarrantyinfo=E)},null,8,["class","modelValue"]),e("span",ig,t(V.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),cg]),_:1},8,["validation-schema","initial-values"])])])]),e("div",rg,[e("div",ug,[e("div",_g,[mg,e("div",pg,[hg,e("button",{onClick:te(K,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",vg,[e("div",bg,[e("div",fg,[$g,e("div",gg,[e("table",yg,[e("tbody",null,[kg,e("tr",null,[xg,e("td",null,t(l.site_name),1)]),e("tr",null,[wg,e("td",null,t(l.asset_name),1)]),e("tr",null,[Cg,e("td",null,t(l.asset_type),1)]),e("tr",null,[Sg,e("td",null,t(l.serial),1)]),e("tr",null,[Dg,e("td",null,t(l.date_acquired),1)]),e("tr",null,[Ug,e("td",null,t(l.man_supplier),1)]),e("tr",null,[Vg,e("td",null,t(l.unit),1)]),Mg,e("tr",null,[Ag,e("td",null,t(l.paccountable),1)]),e("tr",null,[Eg,e("td",null,t(l.locationchangetranfer),1)]),Tg,e("tr",null,[Pg,e("td",null,t(l.cucodition),1)]),e("tr",null,[Fg,e("td",null,t(l.maintenancenotes),1)]),e("tr",null,[Lg,e("td",null,t(l.lastmaintenance),1)]),e("tr",null,[Ig,e("td",null,t(l.nextmaintenance),1)]),qg,e("tr",null,[Yg,e("td",null,t(l.operationhours),1)]),e("tr",null,[Ng,e("td",null,t(l.notes),1)]),Bg,e("tr",null,[Rg,e("td",null,t("\u20B1"+l.purchasecost),1)]),e("tr",null,[Hg,e("td",null,t("\u20B1"+l.Depreciationcostbyyear),1)]),e("tr",null,[jg,e("td",null,t(l.insurancewarrantyinfo),1)])])])]),Og])])])],64)}}};const le=o=>(Ue("data-v-550095c3"),o=o(),Ve(),o),Gg={class:"content"},Wg={class:"container-fluid"},Qg={class:"d-flex justify-content-between"},Kg={class:"d-flex"},Xg=le(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Jg={key:0},Zg=le(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),ey={class:"ml-2"},ty={class:"d-flex"},sy={class:"form-group"},ay=le(()=>e("option",{value:"",disabled:""},"Select a site",-1)),oy=["value"],ly={id:"captureDiv"},ny={class:"card"},dy={class:"card-header"},iy={class:"card-title"},cy={class:"card-tools"},ry={id:"cost"},uy={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},_y=le(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),my={class:"card-body"},py=le(()=>e("i",{class:"fa fa-camera"},null,-1)),hy=[py],vy={key:1,class:"table-responsive"},by={class:"table table-bordered table-sm table-striped table-hover"},fy=le(()=>e("th",null,null,-1)),$y=le(()=>e("th",null,"Date",-1)),gy=le(()=>e("th",null,"Allocated Pallet Space",-1)),yy=le(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),ky=le(()=>e("th",null,"Space Utilization %",-1)),xy=le(()=>e("th",null,"Excess",-1)),wy={key:0},Cy={key:1},Sy=le(()=>e("th",null,"Remarks",-1)),Dy=le(()=>e("th",null,"Action",-1)),Uy={key:0},Vy=["item","index","select-all"],My=["checked"],Ay={key:0},Ey={key:1},Ty=["onClick"],Py=le(()=>e("i",{class:"fa fa-edit"},null,-1)),Fy=[Py],Ly={key:0},Iy=le(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),qy={colspan:"3"},Yy={key:1},Ny=le(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),By=[Ny],Ry={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hy={class:"modal-dialog modal-sm",role:"document"},jy={class:"modal-content"},Oy={class:"modal-header"},zy={class:"modal-title",id:"staticBackdropLabel"},Gy={key:0},Wy={key:1},Qy=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Ky=we('<ul class="nav nav-tabs" data-v-550095c3><li id="bulkviewtab1" class="nav-item" data-v-550095c3><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-550095c3>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-550095c3><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-550095c3>Bulk Pallet</a></li></ul>',1),Xy={class:"tab-content"},Jy={class:"tab-pane fade show active",id:"sigle-pallet-tab"},Zy={class:"modal-body"},e2={class:"col-md-12"},t2={class:"row"},s2={class:"col-12"},a2={class:"form-group"},o2=le(()=>e("label",{for:"date"},"Date",-1)),l2={class:"invalid-feedback"},n2={class:"form-group"},d2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),i2={class:"invalid-feedback"},c2={class:"form-group"},r2=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),u2={class:"invalid-feedback"},_2={class:"form-group"},m2=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),p2={class:"invalid-feedback"},h2=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),v2={class:"tab-pane fade show",id:"bulk-pallet-tab"},b2={class:"modal-body"},f2={class:"col-md-12"},$2={class:"row"},g2={class:"col-12"},y2={class:"form-group"},k2=le(()=>e("label",{for:"fromdate"},"From:",-1)),x2={class:"invalid-feedback"},w2={class:"form-group"},C2=le(()=>e("label",{for:"todate"},"To:",-1)),S2={class:"invalid-feedback"},D2={class:"form-group"},U2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),V2={class:"invalid-feedback"},M2={class:"form-group"},A2=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),E2={class:"invalid-feedback"},T2={class:"form-group"},P2=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),F2={class:"invalid-feedback"},L2=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),I2={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},q2={class:"modal-dialog",role:"document"},Y2={class:"modal-content"},N2=we('<div class="modal-header" data-v-550095c3><h5 class="modal-title" id="staticBackdropLabel" data-v-550095c3><span data-v-550095c3>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-550095c3><span aria-hidden="true" data-v-550095c3>\xD7</span></button></div><div class="modal-body" data-v-550095c3><h5 data-v-550095c3>Are you sure you want to delete this record ?</h5></div>',2),B2={class:"modal-footer"},R2=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),H2={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j2={class:"modal-dialog modal-sm",role:"document"},O2={class:"modal-content"},z2=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),G2={class:"modal-body"},W2={class:"fromtocenter"},Q2=le(()=>e("label",{for:"fromDate"},"From:",-1)),K2=le(()=>e("label",{for:"toDate"},"To:",-1)),X2={class:"modal-footer"},J2=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Z2={__name:"PalletList",setup(o){const y=Ke("$swal"),_=`${$e().name}`,d=pe(),r=i({data:[]}),u=i(),p=i(!1),U=i(!1),l=me(),A=i(!0),v=i(!0),w=i(),n=Me({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});i(null);const x=i(),Y=()=>{p.value=!0,T.get("/web/pallet",{params:{site_id:n.site_id,query:g.value}}).then(R=>{p.value=!1,r.value=R.data.data,x.value=R.data.sum,se.value=[],Ye.value=!1})},Q=xe({allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required(),fromdate:I().required(),todate:I().required()}),ee=xe({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),de=xe({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),N=i(""),M=i(""),q=i({start_date:"",end_date:""});be([N],()=>{const R=new Date(N.value),W=R.getFullYear(),fe=String(R.getMonth()+1).padStart(2,"0"),G=String(R.getDate()).padStart(2,"0");q.value.start_date=`${W}-${fe}-${G}`}),be([M],()=>{const R=new Date(M.value),W=R.getFullYear(),fe=String(R.getMonth()+1).padStart(2,"0"),G=String(R.getDate()).padStart(2,"0");q.value.end_date=`${W}-${fe}-${G}`});const m=()=>{p.value=!0,T.get("/web/filter-pallet",{params:{start_date:q.value.start_date,end_date:q.value.end_date,site_id:n.site_id}}).then(R=>{p.value=!1,r.value=R.data.data,x.value=R.data.sum}).catch(R=>{console.error(R)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},k=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},j=({resetForm:R,setErrors:W})=>{T.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then(fe=>{Y(),$("#FormModal").modal("hide"),k(),d.success("Data created successfully!")}).catch(function(fe){fe.response?d.error(fe.response.data.message):fe.request?d.error(fe.request):d.error("Error",fe.message)})},oe=()=>{T.get("/web/getsite").then(R=>{u.value=R.data.sites}).catch(R=>{console.log(R)})},K=()=>{Y(n.site_id);const R=u.value.find(W=>W.id===n.site_id);w.value=R?R.site_name:""},he=()=>{if(!n.site_id||n.site_id.length===0){y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}U.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show()},z=R=>{$("#bulkviewtab2").hide(),U.value=!0,n.id=R.id,n.user_id=R.user_id,n.site_id=R.site_id,n.date=R.date,n.allocatedpalletspace=R.allocatedpalletspace,n.spaceuteltotal=R.spaceuteltotal,n.caseperpallet=R.caseperpallet,$("#FormModal").modal("show")},P=({setErrors:R})=>{T.post("/web/pallet",n).then(W=>{k(),Y(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(W=>{R(W.response.data.errors),console.log(W)})},C=(R,W)=>{U.value?P(R):j(R)},h=()=>{T.post("/web/bulkCreatePallet",n).then(R=>{Y(),$("#FormModal").modal("hide"),d.success(R.data.message)}).catch(R=>{d.error(R.response.data.errors)})},g=i(null),se=i([]),ie=R=>{const W=se.value.indexOf(R.id);W===-1?se.value.push(R.id):se.value.splice(W,1),console.log(se.value)},V=i(null),E=R=>{V.value=R,$("#deleteDataModal").modal("show")},qe=()=>{T.delete(`/web/pallet/${V.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),r.value.data=r.value.data.filter(R=>R.id!==V.value)})},Re=()=>{T.delete("/web/bulkDeletePallet",{data:{ids:se.value}}).then(R=>{Y(),se.value=[],Ye.value=!1,d.success(R.data.message)})},ze=()=>{if(!n.site_id||n.site_id.length===0){y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},Ye=i(!1),Ge=()=>{$("#cost").hide(),$("#capturecamerafilter").hide();const R=document.getElementById("captureDiv");Oe(R).then(W=>{const fe=W.toDataURL(),G=document.createElement("a");G.href=fe,G.download=`${w.value} - ${_}.png`,G.click()}),$("#cost").show(),$("#capturecamerafilter").show()};return be([v],R=>{n.is_active=R?1:0}),be(g,Te.exports.debounce(()=>{Y()},300)),_e(()=>{oe(),document.title=_}),(R,W)=>{const fe=ge("font");return s(),a(O,null,[e("div",Gg,[e("div",Wg,[e("div",Qg,[e("div",Kg,[e("button",{onClick:he,type:"button",class:"mb-2 btn btn-primary"},[Xg,L(" Pallet ")]),se.value.length>0?(s(),a("div",Jg,[e("button",{onClick:Re,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zg,L(" Delete Selected ")]),e("span",ey,"Selected "+t(se.value.length)+" Pallet",1)])):F("",!0)]),e("div",ty,[e("div",sy,[Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":W[0]||(W[0]=G=>n.site_id=G),onChange:W[1]||(W[1]=G=>K())},[ay,(s(!0),a(O,null,X(u.value,G=>(s(),a("option",{key:G.id,value:G.id},t(G.site_name),9,oy))),128))],544),[[Pe,n.site_id]])])])]),e("div",ly,[e("div",ny,[e("div",dy,[e("div",iy,t(w.value||"Select a Site"),1),e("div",cy,[e("div",ry,[e("div",uy,[Z(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":W[2]||(W[2]=G=>A.value=G)},null,512),[[Ae,A.value]]),_y])])])]),e("div",my,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:Ge,type:"button",class:"mb-2 btn btn-sm btn-success"},hy)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:ze})])])]),p.value?(s(),ce(Ee,{key:0})):(s(),a("div",vy,[f(fe,{size:"2"},{default:J(()=>[e("table",by,[e("thead",null,[e("tr",null,[fy,$y,gy,yy,ky,xy,A.value?(s(),a("th",wy,"Cost per Pallet")):F("",!0),A.value?(s(),a("th",Cy,"Cost")):F("",!0),Sy,Dy])]),r.value.length>0?(s(),a("tbody",Uy,[(s(!0),a(O,null,X(r.value,(G,S)=>(s(),a("tr",{key:G.id,item:G,index:S,onConfirmDeletion:E,onToggleSelection:ie,"select-all":Ye.value},[e("td",null,[e("input",{type:"checkbox",checked:Ye.value,onChange:ie},null,40,My)]),e("td",null,t(c(ve)(G.date).format("MMMM DD, YY")),1),e("td",null,t(G.allocatedpalletspace),1),e("td",null,t(G.spaceuteltotal),1),e("td",null,t(G.spacetotalutelpercent),1),e("td",null,t(G.excess),1),A.value?(s(),a("td",Ay,t(G.caseperpallet),1)):F("",!0),A.value?(s(),a("td",Ey,t(G.cost),1)):F("",!0),e("td",null," EXCESS "+t(G.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:H=>z(G)},Fy,8,Ty)])],40,Vy))),128)),A.value?(s(),a("tr",Ly,[Iy,e("td",qy,[e("b",null,t(x.value),1)])])):F("",!0)])):(s(),a("tbody",Yy,By))])]),_:1})]))])])])])]),e("div",Ry,[e("div",Hy,[e("div",jy,[e("div",Oy,[e("h5",zy,[U.value?(s(),a("span",Gy,"Edit Pallet")):(s(),a("span",Wy,"Add Pallet"))]),Qy]),Ky,e("div",Xy,[e("div",Jy,[f(c(Se),{onSubmit:C,"validation-schema":U.value?c(de):c(ee)},{default:J(({errors:G})=>[e("div",Zy,[e("div",e2,[e("div",t2,[e("div",s2,[f(c(B),{modelValue:n.user_id,"onUpdate:modelValue":W[3]||(W[3]=S=>n.user_id=S),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",a2,[o2,f(c(B),{name:"date",type:"date",class:D(["form-control",{"is-invalid":G.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":W[4]||(W[4]=S=>n.date=S)},null,8,["class","modelValue"]),e("span",l2,t(G.date),1)]),e("div",n2,[d2,f(c(B),{name:"allocatedpalletspace",type:"text",class:D(["form-control",{"is-invalid":G.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":W[5]||(W[5]=S=>n.allocatedpalletspace=S)},null,8,["class","modelValue"]),e("span",i2,t(G.allocatedpalletspace),1)]),e("div",c2,[r2,f(c(B),{name:"spaceuteltotal",type:"text",class:D(["form-control",{"is-invalid":G.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":W[6]||(W[6]=S=>n.spaceuteltotal=S),required:""},null,8,["class","modelValue"]),e("span",u2,t(G.spaceuteltotal),1)]),e("div",_2,[m2,f(c(B),{name:"caseperpallet",type:"text",class:D(["form-control",{"is-invalid":G.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":W[7]||(W[7]=S=>n.caseperpallet=S)},null,8,["class","modelValue"]),e("span",p2,t(G.caseperpallet),1)])])])])]),h2]),_:1},8,["validation-schema"])]),e("div",v2,[f(c(Se),{onSubmit:h,"validation-schema":c(Q)},{default:J(({errors:G})=>[e("div",b2,[e("div",f2,[e("div",$2,[e("div",g2,[f(c(B),{modelValue:n.user_id,"onUpdate:modelValue":W[8]||(W[8]=S=>n.user_id=S),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",y2,[k2,f(c(B),{name:"fromdate",type:"date",class:D(["form-control",{"is-invalid":G.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.fromdate,"onUpdate:modelValue":W[9]||(W[9]=S=>n.fromdate=S)},null,8,["class","modelValue"]),L(),e("span",x2,t(G.fromdate),1)]),e("div",w2,[C2,f(c(B),{name:"todate",type:"date",class:D(["form-control",{"is-invalid":G.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.todate,"onUpdate:modelValue":W[10]||(W[10]=S=>n.todate=S)},null,8,["class","modelValue"]),e("span",S2,t(G.todate),1)]),e("div",D2,[U2,f(c(B),{name:"allocatedpalletspace",type:"text",class:D(["form-control",{"is-invalid":G.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":W[11]||(W[11]=S=>n.allocatedpalletspace=S)},null,8,["class","modelValue"]),e("span",V2,t(G.allocatedpalletspace),1)]),e("div",M2,[A2,f(c(B),{name:"spaceuteltotal",type:"text",class:D(["form-control",{"is-invalid":G.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":W[12]||(W[12]=S=>n.spaceuteltotal=S),required:""},null,8,["class","modelValue"]),e("span",E2,t(G.spaceuteltotal),1)]),e("div",T2,[P2,f(c(B),{name:"caseperpallet",type:"text",class:D(["form-control",{"is-invalid":G.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":W[13]||(W[13]=S=>n.caseperpallet=S)},null,8,["class","modelValue"]),e("span",F2,t(G.caseperpallet),1)])])])])]),L2]),_:1},8,["validation-schema"])])])])])]),e("div",I2,[e("div",q2,[e("div",Y2,[N2,e("div",B2,[R2,e("button",{onClick:te(qe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",H2,[e("div",j2,[e("div",O2,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(_)+" Report")]),z2]),e("div",G2,[e("div",W2,[e("div",null,[Q2,f(c(Fe),{modelValue:N.value,"onUpdate:modelValue":W[14]||(W[14]=G=>N.value=G)},null,8,["modelValue"])]),e("div",null,[K2,f(c(Fe),{modelValue:M.value,"onUpdate:modelValue":W[15]||(W[15]=G=>M.value=G)},null,8,["modelValue"])])])]),e("div",X2,[J2,e("button",{onClick:W[16]||(W[16]=G=>m()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var ek=ye(Z2,[["__scopeId","data-v-550095c3"]]);const tk=o=>(Ue("data-v-298b68f9"),o=o(),Ve(),o),sk={class:"content"},ak={class:"container-fluid"},ok={class:"row"},lk={class:"col-md-6"},nk={class:"card"},dk={class:"card-title"},ik={class:"form-group m-3"},ck=tk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),rk=["value"],uk={class:"card-body"},_k={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},mk={class:"custom-control custom-checkbox"},pk=["value","id","checked"],hk=["for"],vk={class:"card-footer"},bk={__name:"UserSite",setup(o){me();const y=`${$e().name}`,_=pe();i(!0);const d=Me({user_id:""});i(null),i();const r=i(),u=i(),p=i([]),U=()=>{T.get("/api/users/userlist").then(w=>{u.value=w.data}).catch(w=>{console.log(w)})},l=w=>{w!==null?T.get(`/web/usersite/${w}`).then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):T.get("/web/getsitewithoutuser").then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},A=()=>{const w={user_id:d.user_id,site_id:p.value};console.log(w),T.post("/web/onSaveupdate",w).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},v=w=>{l(w)};return _e(()=>{U(),l(),document.title=y}),(w,n)=>(s(),a("div",sk,[e("div",ak,[e("div",ok,[e("div",lk,[e("div",nk,[e("div",dk,[e("div",ik,[f(c(B),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=x=>d.user_id=x),onChange:n[1]||(n[1]=x=>v(d.user_id))},{default:J(()=>[ck,(s(!0),a(O,null,X(u.value,x=>(s(),a("option",{key:x.id,value:x.id},t(x.name),9,rk))),128))]),_:1},8,["modelValue"])])]),e("div",uk,[e("ul",_k,[(s(!0),a(O,null,X(r.value,x=>(s(),a("li",{key:x.id,class:"list-group-item"},[e("div",mk,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=Y=>p.value=Y),value:x.id,id:"site_id_"+x.id,checked:x.hasAccess},null,8,pk),[[Ae,p.value]]),e("label",{for:"site_id_"+x.id,class:"custom-control-label"},t(x.site_name),9,hk)])]))),128))]),e("div",vk,[e("button",{type:"button",onClick:n[3]||(n[3]=x=>A()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var fk=ye(bk,[["__scopeId","data-v-298b68f9"]]),$k=[{path:"/login",name:"admin.login",component:Hn},{path:"/",name:"Dashboard",component:Et},{path:"/appointments",name:"Appointments",component:Zt},{path:"/appointments/create",name:"Appointments",component:Ze},{path:"/appointments/:id/edit",name:"Appointments",component:Ze},{path:"/user",name:"User",component:Mo},{path:"/settings",name:"Setting",component:Sl},{path:"/profile",name:"Profile",component:gn},{path:"/client",name:"Client",component:Bd},{path:"/tech-recommendation",name:"Tech Recomm",component:sr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:sm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:wh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Ap},{path:"/usermenu",name:"User Menu",component:gv},{path:"/menu",name:"Menu",component:H1},{path:"/:catchAll(.*)",name:"404 Error Page",component:lt},{path:"/notifications",name:"Notifications",component:Jb},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:nt},{path:"/asset-monitoring",name:"Asset Monitoring",component:zg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:ek},{path:"/usersite",name:"User Site",component:fk}];const gk={class:"navbar-nav"},yk=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),kk={class:"nav-item d-none d-sm-inline-block"},xk={class:"navbar-nav ml-auto"},wk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Ck=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),Sk={class:"nav-link","data-toggle":"dropdown",href:"#"},Dk=e("i",{class:"far fa-bell"},null,-1),Uk={class:"badge badge-warning navbar-badge"},Vk={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Mk={class:"dropdown-header"},Ak=e("div",{class:"dropdown-divider"},null,-1),Ek=e("i",{class:"fas fa-envelope mr-2"},null,-1),Tk={class:"float-right text-muted text-sm"},Pk={key:1,class:"text-center text-muted py-3"},Fk=e("div",{class:"dropdown-divider"},null,-1),Lk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Ik=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),qk={__name:"AppNavbar",setup(o){const y=He(),_=i([]),d=()=>{T.get("/api/notifications").then(r=>{_.value=r.data.notifications}).catch(r=>{console.error("Error fetching notifications",r)})};return _e(()=>{d()}),(r,u)=>{const p=ge("router-link");return s(),a("nav",{class:D(["main-header navbar navbar-expand",c(y).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",gk,[yk,e("li",kk,[e("a",{onClick:u[0]||(u[0]=te((...U)=>c(y).changeTheme&&c(y).changeTheme(...U),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:D(["far",c(y).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",xk,[wk,Ck,e("li",{class:"nav-item dropdown",onClick:d},[e("a",Sk,[Dk,e("span",Uk,t(_.value.length),1)]),e("div",Vk,[e("span",Mk,t(_.value.length)+" Notifications",1),Ak,_.value.length>0?(s(!0),a(O,{key:0},X(_.value,U=>(s(),a("a",{key:U.id,href:"#",class:"dropdown-item"},[Ek,L(" "+t(U.data?U.data:"No message available")+" ",1),e("span",Tk,t(c(ve)(U.created_at)),1)]))),128)):(s(),a("p",Pk,"No new notifications")),Fk,f(p,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:J(()=>[L("See All Notifications")]),_:1})])]),Lk,Ik])],2)}}},Yk={class:"main-sidebar sidebar-dark-primary elevation-4"},Nk={href:"#",class:"brand-link"},Bk=["src"],Rk={class:"brand-text font-weight-light"},Hk={class:"sidebar"},jk={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Ok={key:0,class:"image"},zk=["src"],Gk={key:1,class:"image"},Wk=["src"],Qk=["src"],Kk={class:"info"},Xk={href:"#",class:"d-block"},Jk={class:"mt-2"},Zk={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},e0={key:0,class:"right fas fa-angle-left"},t0={key:0,class:"nav nav-treeview"},s0={class:"nav-item"},a0={class:"nav-link"},o0=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),l0=e("p",null,"Logout",-1),n0=[o0,l0],d0={__name:"SidebarLeft",setup(o){const y=Qe(),_=me(),d=He(),r=i({data:[]}),u=()=>{axios.get("/api/menu").then(l=>{r.value=l.data}).catch(l=>{console.log(l)})},p=l=>l===y.currentRoute.value.path,U=()=>{axios.post("/logout").then(l=>{_.user.name="",y.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),u()}),(l,A)=>{const v=ge("router-link");return s(),a("aside",Yk,[e("a",Nk,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Bk),e("span",Rk,t(c(d).setting.app_name),1)]),e("div",Hk,[e("div",jk,[c(_).user.avatar===""?(s(),a("div",Ok,[e("img",{src:c(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,zk)])):c(_).user.avatar!==""?(s(),a("div",Gk,[c(_).user.gender==="Male"?(s(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Wk)):c(_).user.gender==="Female"?(s(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Qk)):F("",!0)])):F("",!0),e("div",Kk,[e("a",Xk,t(c(_).user.name),1)])]),e("nav",Jk,[e("ul",Zk,[(s(!0),a(O,null,X(r.value,w=>(s(),a("li",{key:w.id,class:D({"nav-item":!0,"menu-is-opening":w.submenus&&w.submenus.length>0})},[f(v,{class:D({"nav-link":!0,active:p(w.menu_route)}),to:`${w.menu_route}`},{default:J(()=>[e("i",{class:D("nav-icon "+w.menu_icon)},null,2),e("p",null,t(w.menu_title),1),w.submenus&&w.submenus.length>0?(s(),a("i",e0)):F("",!0)]),_:2},1032,["class","to"]),w.submenus&&w.submenus.length>0?(s(),a("ul",t0,[(s(!0),a(O,null,X(w.submenus,n=>(s(),a("li",{key:n.id,class:"nav-item"},[f(v,{class:D({"nav-link menu-open":!0,active:p(n.menu_route)}),to:n.menu_route},{default:J(()=>[e("i",{class:D("nav-icon "+n.menu_icon)},null,2),e("p",null,t(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):F("",!0)],2))),128)),e("li",s0,[e("form",a0,[e("a",{href:"#",onClick:te(U,["prevent"])},n0)])])])])])])}}},i0={},c0={class:"control-sidebar control-sidebar-dark"},r0=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),u0=[r0];function _0(o,y){return s(),a("aside",c0,u0)}var m0=ye(i0,[["render",_0]]);const p0={class:"main-footer"},h0={class:"float-right d-none d-sm-block"},v0={href:"#"},b0={__name:"AppFooter",props:{settings:Object},setup(o){const y=me(),_=i(new Date().getFullYear());return(d,r)=>{var u;return s(),a("footer",p0,[e("div",h0,t(c(y).user.name),1),e("strong",null,[L("Copyright \xA9 "+t(_.value)+" ",1),e("a",v0,t((u=o.settings)==null?void 0:u.app_name),1),L(".")]),L(" All rights reserved. ")])}}};const f0=o=>(Ue("data-v-36653638"),o=o(),Ve(),o),$0={class:"content-wrapper"},g0={class:"content-header"},y0={class:"container-fluid"},k0={class:"row mb-2"},x0={class:"col-sm-6"},w0={class:"m-0"},C0={class:"col-sm-6"},S0={class:"breadcrumb float-sm-right"},D0=f0(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),U0={class:"breadcrumb-item active"},V0={__name:"CustomMainLayout",setup(o){const y=me(),_=He(),d=De(()=>_.theme==="dark"?"dark-mode":"");return(r,u)=>{const p=ge("router-view");return c(y).user.name!==""?(s(),a("div",{key:0,class:D(["wrapper",d.value])},[f(qk),f(d0),f(m0),e("div",$0,[e("section",g0,[e("div",y0,[e("div",k0,[e("div",x0,[e("h1",w0,t(r.$route.name),1)]),e("div",C0,[e("ol",S0,[D0,e("li",U0,t(r.$route.name),1)])])])])]),f(p)]),f(b0)],2)):(s(),a("div",{key:1,class:D(["login-page slibg",d.value])},[f(p)],2))}}};var M0=ye(V0,[["__scopeId","data-v-36653638"]]);const A0={__name:"App",setup(o){me();const y=$e(),_=De(()=>y.name==="Tech-Approved"),d=De(()=>y.name==="404 Error Page");return(r,u)=>(s(),a("div",null,[!d.value&&!_.value?(s(),ce(M0,{key:0})):_.value?(s(),ce(nt,{key:1})):(s(),ce(lt,{key:2}))]))}};var E0=ye(A0,[["__scopeId","data-v-252b567e"]]);const T0=rt(),Be=mt(E0),dt=ut({routes:$k,history:_t()});dt.beforeEach(async(o,y)=>{const _=me();if(_.user.name===""&&o.name!=="admin.login"){const d=He();await Promise.all([_.getAuthUser(),d.getSetting()])}});Be.use(Ct);Be.use(T0);Be.use(dt);Be.use(wt);Be.use(at);Be.mount("#app");
