import{_ as dt,l as Te}from"./lodash.6f1dd969.js";import{a as A}from"./axios.82d3905a.js";import{a as it}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as Xe,c as ct}from"./pinia.210ccde5.js";import{u as fe,a as ze,c as rt,b as ut}from"./vue-router.abad5649.js";import{r as d,o as _e,i as a,k as e,x as s,_ as y,u as r,e as t,I as Pe,h as X,j as D,F as R,q as Q,d as $e,a0 as le,v as V,C as Ae,a2 as J,a3 as ue,aa as Le,p as L,w as be,ab as we,f as ce,a5 as Ue,a6 as Me,ac as _t,ad as Ve,B as Je,a1 as je,ae as mt}from"./@vue.04713aa0.js";import{B as ht}from"./vue-chartjs.50c6886f.js";import{C as pt,p as vt,a as bt,b as ft,c as $t,d as gt,L as yt}from"./chart.js.562acd0f.js";import{S as We}from"./sweetalert2.ef56b979.js";import{t as He}from"./toastr.94171567.js";import{F as De,a as B}from"./vee-validate.1443789f.js";import{f as Ze}from"./flatpickr.181c7977.js";import{c as xe,a as q}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ve}from"./moment.40bc58bf.js";import{a as Ie}from"./laravel-vue-pagination.475a8c82.js";import{C as kt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Fe}from"./vue3-datepicker.b3fccff5.js";import{h as Oe}from"./html2canvas.c4a43e03.js";import{h as et}from"./html2pdf.js.44b835e5.js";import{V as wt}from"./vue-sweetalert2.891f877f.js";import{d as Ct}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=dt;window.axios=A;window.$=window.jQuery=it;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=Xe("AuthUserStore",()=>{const o=d({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await A.get("/api/profile").then(_=>{o.value=_.data})}}}),St={class:"content"},Dt={class:"container-fluid"},Ut={class:"card"},Mt={class:"card-header"},Vt={class:"card-body"},At=e("div",{class:"row"},null,-1),Et={__name:"Dashboard",setup(o){pt.register(vt,bt,ft,$t,gt,yt);const k=`${fe().name}`;me(),d("all"),d(0);const _=d(new Date().getFullYear()),n=d({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),c=()=>{axios.get("/api/chart").then(l=>{l.data,n.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},p=d("today"),w=d(0),E=()=>{axios.get("/api/stats/users",{params:{date_range:p.value}}).then(l=>{w.value=l.data.totalUsersCount})};return _e(()=>{c(),E(),document.title=k}),(l,T)=>(t(),a("div",St,[e("div",Dt,[e("div",Ut,[e("div",Mt," Yearly Progress - "+s(_.value),1),e("div",Vt,[y(r(ht),{data:n.value},null,8,["data"])])]),At])]))}},Tt={class:"content"},Lt={class:"container-fluid"},Pt={class:"row"},Ft={class:"col-lg-12"},It={class:"d-flex justify-content-between mb-2"},qt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),V(" Add New Appointment")],-1),Yt={class:"btn-group"},Nt=e("span",{class:"mr-1"},"All",-1),Bt={class:"badge badge-pill badge-info"},Rt=["onClick"],Ht={class:"mr-1"},jt={class:"card"},Ot={class:"card-body"},zt={class:"table table-bordered"},Gt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Wt=e("i",{class:"fa fa-edit mr-2"},null,-1),Kt=["onClick"],Xt=e("i",{class:"fa fa-trash text-danger"},null,-1),Jt=[Xt],Zt={__name:"ListAppointments",setup(o){const k=d(),_=d([]),n=()=>{A.get("/api/appointment-status").then(T=>{_.value=T.data})},c=d([]),p=T=>{k.value=T;const b={};T&&(b.status=T),A.get("/api/appointments",{params:b}).then(u=>{c.value=u.data,console.log(u)})},w=Pe(()=>_.value.map(T=>T.count).reduce((T,b)=>T+b,0)),E=T=>{const b=c.value.data.find(m=>m.id===T).status.name,u=_.value.find(m=>m.name===b);u.count--},l=T=>{We.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&A.delete(`/api/appointments/${T}`).then(u=>{E(T),c.value.data=c.value.data.filter(m=>m.id!==T),We.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{p(),n()}),(T,b)=>{const u=$e("router-link");return t(),a("div",Tt,[e("div",Lt,[e("div",Pt,[e("div",Ft,[e("div",It,[e("div",null,[y(u,{to:"/admin/appointments/create"},{default:X(()=>[qt]),_:1})]),e("div",Yt,[e("button",{onClick:b[0]||(b[0]=m=>p()),type:"button",class:D(["btn",[typeof k.value=="undefined"?"btn-secondary":"btn-default"]])},[Nt,e("span",Bt,s(w.value),1)],2),(t(!0),a(R,null,Q(_.value,m=>(t(),a("button",{key:m.id,onClick:x=>p(m.value),type:"button",class:D(["btn",[k.value===m.value?"btn-secondary":"btn-default"]])},[e("span",Ht,s(m.name),1),e("span",{class:D(["badge badge-pill",`badge-${m.color}`])},s(m.count),3)],10,Rt))),128))])]),e("div",jt,[e("div",Ot,[e("table",zt,[Gt,e("tbody",null,[(t(!0),a(R,null,Q(c.value.data,(m,x)=>(t(),a("tr",{key:m.id},[e("td",null,s(x+1),1),e("td",null,s(m.client.first_name)+" "+s(m.client.last_name),1),e("td",null,s(m.start_time),1),e("td",null,s(m.end_time),1),Qt,e("td",null,[y(u,{to:`/admin/appointments/${m.id}/edit`},{default:X(()=>[Wt]),_:2},1032,["to"]),e("a",{href:"#",onClick:le(Y=>l(m.id),["prevent"])},Jt,8,Kt)])]))),128))])])])])])])])])}}};function he(){return He.options.positionClass="toast-top-right",He.options.closeButton=!0,He.options.progressBar=!0,He}const es={class:"content-header"},ts={class:"container-fluid"},ss={class:"row mb-2"},as={class:"col-sm-6"},os={class:"m-0"},ls={key:0},ns={key:1},ds={class:"col-sm-6"},is={class:"breadcrumb float-sm-right"},cs={class:"breadcrumb-item"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item active"},_s={key:0},ms={key:1},hs={class:"content"},ps={class:"container-fluid"},vs={class:"row"},bs={class:"col-lg-12"},fs={class:"card"},$s={class:"card-body"},gs={class:"row"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),ws={class:"invalid-feedback"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ds=e("label",{for:"client"},"Client Name",-1),Us=["value"],Ms={class:"invalid-feedback"},Vs={class:"row"},As={class:"col-md-6"},Es={class:"form-group"},Ts=e("label",{for:"start-time"},"Start Time",-1),Ls={class:"invalid-feedback"},Ps={class:"col-md-6"},Fs={class:"form-group"},Is=e("label",{for:"end-time"},"End Time",-1),qs={class:"invalid-feedback"},Ys={class:"form-group"},Ns=e("label",{for:"description"},"Description",-1),Bs={class:"invalid-feedback"},Rs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Ke={__name:"AppointmentForm",setup(o){const k=ze(),_=fe(),n=he(),c=Ae({title:"",client_id:"",start_time:"",end_time:"",description:""}),p=(m,x)=>{u.value?E(m,x):w(m,x)},w=(m,x)=>{A.post("/api/appointments/create",c).then(Y=>{k.push("/admin/appointments"),n.success("Appointment created successfully!")}).catch(Y=>{x.setErrors(Y.response.data.errors)})},E=(m,x)=>{A.put(`/api/appointments/${_.params.id}/edit`,c).then(Y=>{k.push("/admin/appointments"),n.success("Appointment updated successfully!")}).catch(Y=>{x.setErrors(Y.response.data.errors)})},l=d(),T=()=>{A.get("/api/view-clients").then(m=>{l.value=m.data})},b=()=>{A.get(`/api/appointments/${_.params.id}/edit`).then(({data:m})=>{c.title=m.title,c.client_id=m.client_id,c.start_time=m.formatted_start_time,c.end_time=m.formatted_end_time,c.description=m.description})},u=d(!1);return _e(()=>{_.name==="admin.appointments.edit"&&(u.value=!0,b()),Ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),T()}),(m,x)=>{const Y=$e("router-link");return t(),a(R,null,[e("div",es,[e("div",ts,[e("div",ss,[e("div",as,[e("h1",os,[u.value?(t(),a("span",ls,"Edit")):(t(),a("span",ns,"Create")),V(" Appointment")])]),e("div",ds,[e("ol",is,[e("li",cs,[y(Y,{to:"/admin/dashboard"},{default:X(()=>[V("Home")]),_:1})]),e("li",rs,[y(Y,{to:"/admin/appointments"},{default:X(()=>[V("Appointments")]),_:1})]),e("li",us,[u.value?(t(),a("span",_s,"Edit")):(t(),a("span",ms,"Create"))])])])])])]),e("div",hs,[e("div",ps,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[y(r(De),{onSubmit:p},{default:X(({errors:O})=>[e("div",gs,[e("div",ys,[e("div",ks,[xs,J(e("input",{"onUpdate:modelValue":x[0]||(x[0]=W=>c.title=W),type:"text",class:D(["form-control",{"is-invalid":O.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ue,c.title]]),e("span",ws,s(O.title),1)])]),e("div",Cs,[e("div",Ss,[Ds,J(e("select",{"onUpdate:modelValue":x[1]||(x[1]=W=>c.client_id=W),id:"client",class:D(["form-control",{"is-invalid":O.client_id}])},[(t(!0),a(R,null,Q(l.value,W=>(t(),a("option",{value:W.id,key:W.id},s(W.first_name)+" "+s(W.last_name),9,Us))),128))],2),[[Le,c.client_id]]),e("span",Ms,s(O.client_id),1)])])]),e("div",Vs,[e("div",As,[e("div",Es,[Ts,J(e("input",{"onUpdate:modelValue":x[2]||(x[2]=W=>c.start_time=W),type:"text",class:D(["form-control flatpickr",{"is-invalid":O.start_time}]),id:"start-time"},null,2),[[ue,c.start_time]]),e("span",Ls,s(O.start_time),1)])]),e("div",Ps,[e("div",Fs,[Is,J(e("input",{"onUpdate:modelValue":x[3]||(x[3]=W=>c.end_time=W),type:"text",class:D(["form-control flatpickr",{"is-invalid":O.end_time}]),id:"end-time"},null,2),[[ue,c.end_time]]),e("span",qs,s(O.end_time),1)])])]),e("div",Ys,[Ns,J(e("textarea",{"onUpdate:modelValue":x[4]||(x[4]=W=>c.description=W),class:D(["form-control",{"is-invalid":O.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ue,c.description]]),e("span",Bs,s(O.description),1)]),Rs]),_:1})])])])])])])],64)}}},Hs=["checked"],js=["value","selected"],Os=["value","selected"],zs=e("i",{class:"fa fa-edit"},null,-1),Gs=[zs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ws=[Qs],Ks={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){const _=he(),n=o,c=k,p=d([{name:"ADMIN",value:1},{name:"USER",value:2}]),w=d([]),E=()=>{A.get("/api/users/userlist").then(u=>{w.value=u.data}).catch(u=>{console.log(u)})},l=(u,m)=>{A.patch(`/api/users/${u.id}/change-role`,{role:m}).then(()=>{_.success("Role changed successfully!")})},T=(u,m)=>{A.patch(`/api/users/${u.id}/change-sitehead`,{sitehead_user_id:m}).then(()=>{_.success("Sitehead changed successfully!")})},b=()=>{c("toggleSelection",n.user)};return _e(()=>{E()}),(u,m)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:b},null,40,Hs)):L("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:m[0]||(m[0]=x=>l(o.user,x.target.value))},[(t(!0),a(R,null,Q(p.value,x=>(t(),a("option",{key:x.id,value:x.value,selected:o.user.role===x.name},s(x.name),9,js))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:m[1]||(m[1]=x=>T(o.user,x.target.value))},[(t(!0),a(R,null,Q(w.value,x=>(t(),a("option",{key:x.id,value:x.id,selected:o.user.sitehead_user_id===x.id},s(x.first_name+" "+x.last_name),9,Os))),128))],32)):L("",!0)]),e("td",null,[e("a",{href:"#",onClick:m[2]||(m[2]=le(x=>u.$emit("editUser",o.user),["prevent"]))},Gs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:m[3]||(m[3]=le(x=>u.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ws)):L("",!0)])]))}},Xs={class:"content"},Js={class:"container-fluid"},Zs={class:"d-flex justify-content-between mb-2"},ea={class:"d-flex"},ta=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sa={key:0},aa=e("i",{class:"fa fa-trash mr-1"},null,-1),oa={class:"ml-2"},la={class:"card"},na={class:"card-body"},da={class:"dispatch-table"},ia={class:"table-responsive"},ca={class:"table table-bordered table-hover table-sm"},ra=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[ma],pa=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Da=["value","selected"],Ua=e("hr",null,null,-1),Ma={class:"row"},Va={key:0,class:"col"},Aa=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),Pa=[La],Fa={key:1,class:"col"},Ia=["onClick"],qa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ya={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Na={class:"modal-dialog",role:"document"},Ba={class:"modal-content"},Ra={class:"modal-header"},Ha={class:"modal-title",id:"staticBackdropLabel"},ja={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},ho={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Do=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vo={__name:"UserList",setup(o){const k=`${fe().name}`,_=me(),n=he(),c=d({data:[]}),p=d(!1),w=d(),E=d(null);d([]),d(null);const l=d([{name:"Male",value:1},{name:"Female",value:2}]),T=(M=1)=>{A.get(`/api/users?page=${M}`,{params:{query:F.value}}).then(h=>{c.value=h.data,i.value=[],pe.value=!1})},b=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().required().min(8),gender:q().required()}),u=xe({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().when((M,h)=>M?h.required().min(8):h),gender:q().required()}),m=d([]),x=()=>{A.get("/api/users/userlist").then(M=>{m.value=M.data}).catch(M=>{console.log(M)})},Y=(M,h)=>{A.patch(`/api/users/${M.id}/change-sitehead`,{sitehead_user_id:h}).then(()=>{n.success("Sitehead changed successfully!")})},O=(M,{resetForm:h,setErrors:f})=>{A.post("/api/users",M).then(g=>{c.value.data.unshift(g.data),$("#userFormModal").modal("hide"),h(),n.success("User created successfully!")}).catch(g=>{g.response.data.errors&&(f(g.response.data.errors),n.warning(g.response.data.errors.name))})},W=()=>{p.value=!1,$("#userFormModal").modal("show")},K=M=>{p.value=!0,E.value.resetForm(),$("#userFormModal").modal("show"),w.value={id:M.id,name:M.name,email:M.email,sitehead_user_id:M.sitehead_user_id,first_name:M.first_name,last_name:M.last_name,gender:M.gender}},j=(M,{setErrors:h})=>{A.put("/api/users/"+w.value.id,M).then(f=>{const g=c.value.data.findIndex(z=>z.id===f.data.id);c.value.data[g]=f.data,$("#userFormModal").modal("hide"),n.success("User updated successfully!")}).catch(f=>{h(f.response.data.errors),console.log(f)})},C=(M,h)=>{p.value?j(M,h):O(M,h)},F=d(null),i=d([]),P=M=>{const h=i.value.indexOf(M.id);h===-1?i.value.push(M.id):i.value.splice(h,1),console.log(i.value)},H=d(null),ae=M=>{H.value=M,$("#deleteUserModal").modal("show")},Z=()=>{A.delete(`/api/users/${H.value}`).then(()=>{$("#deleteUserModal").modal("hide"),n.success("User deleted successfully!"),c.value.data=c.value.data.filter(M=>M.id!==H.value)})},de=()=>{A.delete("/api/users",{data:{ids:i.value}}).then(M=>{c.value.data=c.value.data.filter(h=>!i.value.includes(h.id)),i.value=[],pe.value=!1,n.success(M.data.message)})},pe=d(!1);return be(F,Te.exports.debounce(()=>{T()},300)),_e(()=>{T(),x(),document.title=k}),(M,h)=>{const f=$e("font");return t(),a(R,null,[e("div",Xs,[e("div",Js,[e("div",Zs,[e("div",ea,[e("button",{onClick:W,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ta,V(" User ")]),i.value.length>0?(t(),a("div",sa,[e("button",{onClick:de,type:"button",class:"ml-2 mb-2 btn btn-danger"},[aa,V(" Delete Selected ")]),e("span",oa,"Selected "+s(i.value.length)+" users",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=g=>F.value=g),class:"form-control",placeholder:"Search..."},null,512),[[ue,F.value]])])]),e("div",la,[e("div",na,[e("div",da,[e("div",ia,[y(f,{size:"2"},{default:X(()=>[e("table",ca,[ra,c.value.data.length>0?(t(),a("tbody",ua,[(t(!0),a(R,null,Q(c.value.data,(g,z)=>(t(),ce(Ks,{key:g.id,user:g,index:z,onEditUser:K,onConfirmUserDeletion:ae,onToggleSelection:P,"select-all":pe.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",_a,ha))])]),_:1})])]),(t(!0),a(R,null,Q(c.value.data,(g,z)=>(t(),a("div",{class:"dispatch-list",key:g.id,index:z},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,s(g.first_name+" "+g.last_name),1)]),e("div",ga,[ya,e("span",null,s(g.email),1)]),e("div",ka,[xa,e("span",null,s(g.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[g.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:ie=>Y(g,ie.target.value)},[(t(!0),a(R,null,Q(m.value,ie=>(t(),a("option",{key:ie.id,value:ie.id,selected:ie.sitehead_user_id===ie.id},s(ie.first_name+" "+ie.last_name),9,Da))),128))],40,Sa)):L("",!0)])]),Ua,e("div",Ma,[r(_).user.role==="ADMIN"?(t(),a("div",Va,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>K(g)},[Ea,V(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ie=>ae(g.id)},Pa,8,Ta)])):L("",!0),r(_).user.role==="USER"?(t(),a("div",Fa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>K(g)},[qa,V(" Edit ")],8,Ia)])):L("",!0)])])])],8,pa))),128))])]),y(r(Ie),{data:c.value,onPaginationChangePage:T},null,8,["data"])])]),e("div",Ya,[e("div",Na,[e("div",Ba,[e("div",Ra,[e("h5",Ha,[p.value?(t(),a("span",ja,"Edit User")):(t(),a("span",Oa,"Add New User"))]),za]),y(r(De),{ref_key:"form",ref:E,onSubmit:C,"validation-schema":p.value?r(u):r(b),"initial-values":w.value},{default:X(({errors:g})=>[e("div",Ga,[e("div",Qa,[Wa,y(r(B),{name:"name",type:"text",class:D(["form-control",{"is-invalid":g.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,s(g.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,y(r(B),{name:"email",type:"email",class:D(["form-control",{"is-invalid":g.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,s(g.email),1)])]),e("div",so,[e("div",ao,[oo,y(r(B),{id:"gender",name:"gender",as:"select",class:D(["form-control",{"is-invalid":g.gender}])},{default:X(()=>[lo,(t(!0),a(R,null,Q(l.value,z=>(t(),a("option",{key:z.name,value:z.name},s(z.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,y(r(B),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":g.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,s(g.first_name),1)])]),e("div",mo,[e("div",ho,[po,y(r(B),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":g.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,s(g.last_name),1)])])]),e("div",bo,[fo,y(r(B),{name:"position",type:"text",class:D(["form-control",{"is-invalid":g.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,s(g.position),1)]),e("div",go,[yo,y(r(B),{name:"password",type:"password",class:D(["form-control",{"is-invalid":g.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,s(g.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Do,e("div",Uo,[Mo,e("button",{onClick:le(Z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Ao=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Eo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Lo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ee={__name:"ContentLoader",setup(o){return(k,_)=>k.isloading?(t(),ce(r(kt),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[Ao,Eo,To,Lo]),_:1})):L("",!0)}};var ge=(o,k)=>{const _=o.__vccOpts||o;for(const[n,c]of k)_[n]=c;return _};const qe=o=>(Ue("data-v-3a144c01"),o=o(),Me(),o),Po={class:"content"},Fo={class:"container-fluid"},Io={class:"row"},qo={class:"col-md-6"},Yo={class:"card"},No=we('<ul class="nav nav-tabs" id="settingsTabs" data-v-3a144c01><li class="nav-item" data-v-3a144c01><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-3a144c01>General Settings</a></li><li class="nav-item" data-v-3a144c01><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-3a144c01>Site Settings</a></li></ul>',1),Bo={class:"tab-content"},Ro={class:"tab-pane fade show active",id:"general-tab"},Ho={class:"card-body"},jo={class:"form-group"},Oo=qe(()=>e("label",{for:"appName"},"App Display Name",-1)),zo={key:0,class:"text-danger text-sm"},Go={class:"form-group"},Qo=qe(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Wo=we('<option value="m/d/Y" data-v-3a144c01> MM/DD/YYYY </option><option value="d/m/Y" data-v-3a144c01> DD/MM/YYYY </option><option value="Y-m-d" data-v-3a144c01> YYYY-MM-DD </option><option value="F j, Y" data-v-3a144c01> Month DD, YYYY </option><option value="j F Y" data-v-3a144c01> DD Month YYYY </option>',5),Ko=[Wo],Xo={key:0,class:"text-danger text-sm"},Jo={class:"form-group"},Zo=qe(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),el={key:0,class:"text-danger text-sm"},tl=qe(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),V("Save Changes ")])],-1)),sl={class:"tab-pane fade",id:"site"},al={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ol={key:0,class:"list-group-item mt-2"},ll={class:"d-flex justify-content-between"},nl={class:"d-flex"},dl=["onClick"],il={class:"d-flex"},cl=["onClick"],rl={class:"m-2 list-unstyled"},ul={key:1},_l={key:0,class:"list-group-item mt-2"},ml={class:"d-flex justify-content-between"},hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=qe(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=qe(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const k=`${fe().name}`,_=d([]),n=he(),c=d(!0),p=d([]),w=d(!1),E=d(),l=d({id:"",site_name:"",is_active:""}),T=()=>{w.value=!0,axios.get("/api/site").then(C=>{w.value=!1,p.value=C.data}).catch(C=>{console.log(C)})},b=Pe(()=>Array.isArray(p.value)?p.value.filter(C=>C.is_active===0):[]),u=Pe(()=>b.value.length),m=()=>{c.value=!c.value},x=()=>{var C,F;w.value=!0,axios.post("/api/site",{id:(C=l.value)==null?void 0:C.id,site_name:(F=l.value)==null?void 0:F.site_name,is_active:!0}).then(i=>{T(),l.value={id:null,site_name:"",is_active:!0},n.success(i.data.message),w.value=!1}).catch(i=>{i.response&&i.response.status===422&&(K.value=i.response.data.errors)})},Y=C=>{l.value.is_active=C.is_active===1?0:1,axios.post("/api/site",{id:C.id,site_name:C.site_name,is_active:l.value.is_active}).then(F=>{axios.get("/api/site").then(i=>{p.value=i.data}).catch(i=>{console.error("Error fetching tasks:",i),n.error("Error fetching tasks. Please try again.")})}).catch(F=>{console.error("Error adding new task:",F),n.error("Error adding new task. Please try again.")})},O=C=>{l.value.id=C.id,l.value.site_name=C.site_name},W=()=>{axios.get("/api/settings").then(C=>{_.value=C.data})},K=d(),j=()=>{K.value="",axios.post("/api/settings",_.value).then(C=>{n.success("Settings updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(K.value=C.response.data.errors)})};return _e(()=>{T(),W(),document.title=k}),(C,F)=>(t(),a("div",Po,[e("div",Fo,[e("div",Io,[e("div",qo,[e("div",Yo,[No,e("div",Bo,[e("div",Ro,[e("form",{onSubmit:F[3]||(F[3]=le(i=>j(),["prevent"]))},[e("div",Ho,[e("div",jo,[Oo,J(e("input",{"onUpdate:modelValue":F[0]||(F[0]=i=>_.value.app_name=i),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ue,_.value.app_name]]),K.value&&K.value.app_name?(t(),a("span",zo,s(K.value.app_name[0]),1)):L("",!0)]),e("div",Go,[Qo,J(e("select",{"onUpdate:modelValue":F[1]||(F[1]=i=>_.value.date_format=i),class:"form-control"},Ko,512),[[Le,_.value.date_format]]),K.value&&K.value.date_format?(t(),a("span",Xo,s(K.value.date_format[0]),1)):L("",!0)]),e("div",Jo,[Zo,J(e("input",{"onUpdate:modelValue":F[2]||(F[2]=i=>_.value.pagination_limit=i),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ue,_.value.pagination_limit]]),K.value&&K.value.pagination_limit?(t(),a("span",el,s(K.value.pagination_limit[0]),1)):L("",!0)])]),tl],32)]),e("div",sl,[p.value.length>0?(t(),a("div",al,[w.value?(t(),ce(Ee,{key:0})):L("",!0),(t(!0),a(R,null,Q(p.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===1?(t(),a("li",ol,[e("div",ll,[e("div",nl,[e("i",{onClick:P=>Y(i),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,dl),e("span",{class:D({"font-italic text-red":i.is_active===0,"":i.is_active===1})},s(i.site_name),3)]),e("div",il,[e("i",{class:"fa fa-pen text-success",onClick:P=>O(i)},null,8,cl)])])])):L("",!0)]))),128)),e("li",rl,[u.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:m},[e("i",{class:D(["fa",c.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Deactive List "+s(u.value),1)])):L("",!0)]),c.value?(t(),a("div",ul,[(t(!0),a(R,null,Q(p.value,i=>(t(),a("ul",{class:"list-group",key:i.id},[i.is_active===0?(t(),a("li",_l,[e("div",ml,[e("div",hl,[e("i",{onClick:P=>Y(i),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":i.is_active===1,"fa fa-circle text-primary":i.is_active===0}),style:{"font-size":"15px"}},null,10,pl),e("span",{class:D({"font-italic text-red":i.is_active===0,"":i.is_active===1})},[e("del",null,s(i.site_name),1)],2)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",vl,fl)),y(r(De),{ref:"form",onSubmit:x,"initial-values":E.value},{default:X(()=>[y(r(B),{name:"id",modelValue:l.value.id,"onUpdate:modelValue":F[4]||(F[4]=i=>l.value.id=i),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[y(r(B),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:l.value.site_name,"onUpdate:modelValue":F[5]||(F[5]=i=>l.value.site_name=i),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=ge(yl,[["__scopeId","data-v-3a144c01"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Dl={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Ml={class:"text-center"},Vl=["src"],Al={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Ll={class:"card"},Pl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Fl={class:"card-body"},Il={class:"tab-content"},ql={class:"tab-pane active",id:"profile"},Yl={class:"form-group row"},Nl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Bl={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},Hl={class:"form-group row"},jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const k=me(),_=he(),n=`${fe().name}`,c=d([]),p=()=>{axios.put("/api/profile",{name:k.user.name,first_name:k.user.first_name,last_name:k.user.last_name,email:k.user.email,role:k.user.role}).then(u=>{_.success("Profile updated successfully!")}).catch(u=>{u.response&&u.response.status===422&&(c.value=u.response.data.errors)})},w=Ae({currentPassword:"",password:"",passwordConfirmation:""}),E=()=>{c.value="",axios.post("/api/change-user-password",w).then(u=>{_.success(u.data.message);for(const m in w)w[m]=""}).catch(u=>{u.response&&u.response.status===422&&(c.value=u.response.data.errors)})},l=d(null),T=()=>{l.value.click()},b=u=>{const m=u.target.files[0];k.user.avatar=URL.createObjectURL(m);const x=new FormData;x.append("profile_picture",m),axios.post("/api/upload-profile-image",x).then(Y=>{_.success("Image uploaded successfully!")})};return _e(()=>{document.title=n}),(u,m)=>(t(),a("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Dl,[e("div",Ul,[e("div",Ml,[e("input",{onChange:b,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:T,class:"profile-user-img img-circle",src:r(k).user.avatar,alt:"User profile picture"},null,8,Vl)]),e("h3",Al,s(r(k).user.name),1),e("p",El,s(r(k).user.role),1)])])]),e("div",Tl,[e("div",Ll,[Pl,e("div",Fl,[e("div",Il,[e("div",ql,[e("form",{onSubmit:m[4]||(m[4]=le(x=>p(),["prevent"])),class:"form-horizontal"},[e("div",Yl,[Nl,e("div",Bl,[J(e("input",{"onUpdate:modelValue":m[0]||(m[0]=x=>r(k).user.name=x),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ue,r(k).user.name]]),c.value&&c.value.name?(t(),a("span",Rl,s(c.value.name[0]),1)):L("",!0)])]),e("div",Hl,[jl,e("div",Ol,[J(e("input",{"onUpdate:modelValue":m[1]||(m[1]=x=>r(k).user.first_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ue,r(k).user.first_name]]),c.value&&c.value.first_name?(t(),a("span",zl,s(c.value.first_name[0]),1)):L("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[J(e("input",{"onUpdate:modelValue":m[2]||(m[2]=x=>r(k).user.last_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ue,r(k).user.last_name]]),c.value&&c.value.last_name?(t(),a("span",Kl,s(c.value.last_name[0]),1)):L("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[J(e("input",{"onUpdate:modelValue":m[3]||(m[3]=x=>r(k).user.email=x),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ue,r(k).user.email]]),c.value&&c.value.email?(t(),a("span",en,s(c.value.email[0]),1)):L("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:le(E,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[J(e("input",{"onUpdate:modelValue":m[5]||(m[5]=x=>w.currentPassword=x),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ue,w.currentPassword]]),c.value&&c.value.current_password?(t(),a("span",nn,s(c.value.current_password[0]),1)):L("",!0)])]),e("div",dn,[cn,e("div",rn,[J(e("input",{"onUpdate:modelValue":m[6]||(m[6]=x=>w.password=x),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ue,w.password]]),c.value&&c.value.password?(t(),a("span",un,s(c.value.password[0]),1)):L("",!0)])]),e("div",_n,[mn,e("div",hn,[J(e("input",{"onUpdate:modelValue":m[7]||(m[7]=x=>w.passwordConfirmation=x),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ue,w.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const Ye=o=>(Ue("data-v-1e686d1e"),o=o(),Me(),o),bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),wn={class:"input-group mb-3"},Cn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Sn=["type"],Dn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Un=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),Mn={class:"row"},Vn={class:"col-12 mb-2"},An=["disabled"],En={key:0,class:"spinner-border spinner-border-sm",role:"status"},Tn=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),Ln=[Tn],Pn={key:1},Fn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),In="Login",qn={__name:"Login",setup(o){const k=d(!1),_=he();me();const n=ze(),c=Ae({email:"",password:""}),p=d(!1),w=d(""),E=()=>{p.value=!0,w.value="",A.post("/login",c).then(()=>{n.push("/dashboard"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{p.value=!1})};return _e(()=>{document.title=In}),(l,T)=>(t(),a("div",bn,[e("div",fn,[$n,e("div",gn,[w.value?(t(),a("div",yn,s(w.value),1)):L("",!0),e("form",{onSubmit:le(E,["prevent"])},[e("div",kn,[xn,J(e("input",{"onUpdate:modelValue":T[0]||(T[0]=b=>c.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ue,c.email]])]),e("div",wn,[Cn,J(e("input",{"onUpdate:modelValue":T[1]||(T[1]=b=>c.password=b),class:"form-control",placeholder:"Password",type:k.value?"text":"password",onClick:T[2]||(T[2]=(...b)=>l.handleKeyClick&&l.handleKeyClick(...b))},null,8,Sn),[[_t,c.password]])]),e("label",Dn,[J(e("input",{type:"checkbox","onUpdate:modelValue":T[3]||(T[3]=b=>k.value=b)},null,512),[[Ve,k.value]]),V(" Show Password ")]),Un,e("div",Mn,[e("div",Vn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:p.value},[p.value?(t(),a("div",En,Ln)):(t(),a("span",Pn,"Sign In"))],8,An)])])],32),Fn])])]))}};var Yn=ge(qn,[["__scopeId","data-v-1e686d1e"]]);const Nn=["checked"],Bn=e("i",{class:"fa fa-edit"},null,-1),Rn=[Bn],Hn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),jn=[Hn],On={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){he();const _=o,n=k,c=()=>{n("toggleSelection",_.item)};return(p,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,Nn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:w[0]||(w[0]=le(E=>p.$emit("editUser",o.item),["prevent"]))},Rn),e("a",{href:"#",onClick:w[1]||(w[1]=le(E=>p.$emit("confirmUserDeletion",o.item.id),["prevent"]))},jn)])]))}},zn={class:"content"},Gn={class:"container-fluid"},Qn={class:"d-flex justify-content-between"},Wn={class:"d-flex"},Kn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Xn={key:0},Jn=e("i",{class:"fa fa-trash mr-1"},null,-1),Zn={class:"ml-2"},ed={class:"card"},td={class:"card-body"},sd={class:"table table-bordered"},ad=e("th",{style:{width:"10px"}},"#",-1),od=e("th",null,"Name",-1),ld=e("th",null,"Email",-1),nd=e("th",null,"Registered Date",-1),dd=e("th",null,"Options",-1),id={key:0},cd={key:1},rd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),ud=[rd],_d={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},md={class:"modal-dialog",role:"document"},hd={class:"modal-content"},pd={class:"modal-header"},vd={class:"modal-title",id:"staticBackdropLabel"},bd={key:0},fd={key:1},$d=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),gd={class:"modal-body"},yd={class:"form-group"},kd=e("label",{for:"fist_name"},"First Name",-1),xd={class:"invalid-feedback"},wd={class:"form-group"},Cd=e("label",{for:"last_name"},"Last Name",-1),Sd={class:"invalid-feedback"},Dd={class:"form-group"},Ud=e("label",{for:"email"},"Email",-1),Md={class:"invalid-feedback"},Vd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ad={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ed={class:"modal-dialog",role:"document"},Td={class:"modal-content"},Ld=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Pd={class:"modal-footer"},Fd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Id={__name:"ClientList",setup(o){const k=he(),_=d({data:[]}),n=d(!1),c=d(),p=d(null),w=(H=1)=>{A.get(`/api/clients?page=${H}`,{params:{query:Y.value}}).then(ae=>{_.value=ae.data,O.value=[],i.value=!1})},E=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),l=xe({first_name:q().required(),last_name:q().required(),email:q().email().required()}),T=(H,{resetForm:ae,setErrors:Z})=>{A.post("/api/clients",H).then(de=>{_.value.data.unshift(de.data),$("#clientFormModal").modal("hide"),ae(),k.success("User created successfully!")}).catch(de=>{de.response.data.errors&&Z(de.response.data.errors)})},b=()=>{n.value=!1,$("#clientFormModal").modal("show")},u=H=>{n.value=!0,p.value.resetForm(),$("#clientFormModal").modal("show"),c.value={id:H.id,first_name:H.first_name,last_name:H.last_name,email:H.email}},m=(H,{setErrors:ae})=>{A.put("/api/clients/"+c.value.id,H).then(Z=>{const de=_.value.data.findIndex(pe=>pe.id===Z.data.id);_.value.data[de]=Z.data,$("#clientFormModal").modal("hide"),k.success("Client updated successfully!")}).catch(Z=>{ae(Z.response.data.errors),console.log(Z)})},x=(H,ae)=>{n.value?m(H,ae):T(H,ae)},Y=d(null),O=d([]),W=H=>{const ae=O.value.indexOf(H.id);ae===-1?O.value.push(H.id):O.value.splice(ae,1),console.log(O.value)},K=d(null),j=H=>{K.value=H,$("#deleteClientModal").modal("show")},C=()=>{A.delete(`/api/clients/${K.value}`).then(()=>{$("#deleteClientModal").modal("hide"),k.success("Client deleted successfully!"),_.value.data=_.value.data.filter(H=>H.id!==K.value)})},F=()=>{A.delete("/api/clients",{data:{ids:O.value}}).then(H=>{_.value.data=_.value.data.filter(ae=>!O.value.includes(ae.id)),O.value=[],i.value=!1,k.success(H.data.message)})},i=d(!1),P=()=>{i.value?O.value=_.value.data.map(H=>H.id):O.value=[],console.log(O.value)};return be(Y,Te.exports.debounce(()=>{w()},300)),_e(()=>{w()}),(H,ae)=>(t(),a(R,null,[e("div",zn,[e("div",Gn,[e("div",Qn,[e("div",Wn,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[Kn,V(" Add New Client ")]),O.value.length>0?(t(),a("div",Xn,[e("button",{onClick:F,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Jn,V(" Delete Selected ")]),e("span",Zn,"Selected "+s(O.value.length)+" clients",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":ae[0]||(ae[0]=Z=>Y.value=Z),class:"form-control",placeholder:"Search..."},null,512),[[ue,Y.value]])])]),e("div",ed,[e("div",td,[e("table",sd,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":ae[1]||(ae[1]=Z=>i.value=Z),onChange:P},null,544),[[Ve,i.value]])]),ad,od,ld,nd,dd])]),_.value.data.length>0?(t(),a("tbody",id,[(t(!0),a(R,null,Q(_.value.data,(Z,de)=>(t(),ce(On,{key:Z.id,item:Z,index:de,onEditUser:u,onConfirmUserDeletion:j,onToggleSelection:W,"select-all":i.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",cd,ud))])])]),y(r(Ie),{data:_.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",_d,[e("div",md,[e("div",hd,[e("div",pd,[e("h5",vd,[n.value?(t(),a("span",bd,"Edit Client")):(t(),a("span",fd,"Add New Client"))]),$d]),y(r(De),{ref_key:"form",ref:p,onSubmit:x,"validation-schema":n.value?r(l):r(E),"initial-values":c.value},{default:X(({errors:Z})=>[e("div",gd,[e("div",yd,[kd,y(r(B),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":Z.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",xd,s(Z.first_name),1)]),e("div",wd,[Cd,y(r(B),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":Z.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Sd,s(Z.last_name),1)]),e("div",Dd,[Ud,y(r(B),{name:"email",type:"email",class:D(["form-control",{"is-invalid":Z.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Md,s(Z.email),1)])]),Vd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ad,[e("div",Ed,[e("div",Td,[Ld,e("div",Pd,[Fd,e("button",{onClick:le(C,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Ge=o=>(Ue("data-v-36595330"),o=o(),Me(),o),qd={style:{"text-align":"center"}},Yd={key:0},Nd=Ge(()=>e("i",{class:"fa fa-edit"},null,-1)),Bd=[Nd],Rd=Ge(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Hd=[Rd],jd={key:1,style:{"text-align":"center"}},Od={key:0},zd=Ge(()=>e("i",{class:"fa fa-edit"},null,-1)),Gd=[zd],Qd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:k}){he();const _=me();return(n,c)=>{const p=$e("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",qd,[o.item.statusid==2?(t(),ce(p,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:D(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):L("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:D(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):L("",!0)]),e("td",null,s(o.item.created_at),1),r(_).user.role==="ADMIN"?(t(),a("td",Yd,[e("a",{href:"#",onClick:c[0]||(c[0]=le(w=>n.$emit("editUser",o.item),["prevent"]))},Bd),e("a",{href:"#",onClick:c[1]||(c[1]=le(w=>n.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Hd)])):L("",!0),r(_).user.role==="USER"?(t(),a("td",jd,[o.item.statusid!=2?(t(),a("div",Od,[o.item.created_by==r(_).user.id?(t(),a("a",{key:0,href:"#",onClick:c[2]||(c[2]=le(w=>n.$emit("editUser",o.item),["prevent"]))},Gd)):L("",!0)])):L("",!0)])):L("",!0)])}}};var Wd=ge(Qd,[["__scopeId","data-v-36595330"]]);const Kd={class:"content"},Xd={class:"container-fluid"},Jd={class:"d-flex justify-content-between"},Zd={class:"d-flex"},ei=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ti={key:0},si=e("i",{class:"fa fa-trash mr-1"},null,-1),ai={class:"ml-2"},oi={class:"card"},li={class:"card-body"},ni={class:"dispatch-table"},di={class:"table-responsive"},ii={class:"table table-bordered table-sm"},ci=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ri={key:0},ui={key:1},_i=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),mi=[_i],hi=["item","index"],pi={class:"card"},vi={class:"card-body"},bi={class:"list-field"},fi=e("span",{class:"mb-1 dis"},"Tech #:",-1),$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"User:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Branch:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Department:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Created by:",-1),Di={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Status:",-1),Mi={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Ei={class:"row"},Ti={key:0,class:"col"},Li=["onClick"],Pi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fi=["onClick"],Ii=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),qi=[Ii],Yi={key:0,class:"btn btnsm btn-success btn-block"},Ni=e("i",{class:"fa fa-pencil-square-o"},null,-1),Bi={key:1,class:"col"},Ri={key:0},Hi=["onClick"],ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zi={class:"modal-dialog modal-lg",role:"document"},Gi={class:"modal-content"},Qi={class:"modal-header"},Wi={class:"modal-title",id:"staticBackdropLabel"},Ki={key:0},Xi={key:1},Ji=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zi={class:"modal-body"},ec={class:"col-md-12"},tc={class:"row"},sc={class:"col-6"},ac={class:"form-group"},oc=e("label",{for:"branch"},"Branch",-1),lc=e("option",{value:"",disabled:""}," Select Branch ",-1),nc=["value"],dc={class:"invalid-feedback"},ic={class:"form-group"},cc=e("label",{for:"department"},"Department",-1),rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"warehouse"},"warehouse",-1),mc={class:"invalid-feedback"},hc={class:"form-group"},pc=e("label",{for:"user"},"User",-1),vc={class:"invalid-feedback"},bc={class:"col-6"},fc={class:"form-group"},$c=e("label",{for:"brand"},"Brand",-1),gc={class:"form-group"},yc=e("label",{for:"model"},"Model",-1),kc={class:"invalid-feedback"},xc={class:"form-group"},wc=e("label",{for:"assettag"},"Asset tag",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"serialnum"},"Serial number",-1),Uc={class:"invalid-feedback"},Mc={class:"col-12"},Vc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Ec={class:"invalid-feedback"},Tc={class:"form-group"},Lc=e("label",{for:"assconducted"},"Assessment conducted",-1),Pc={class:"invalid-feedback"},Fc={class:"form-group"},Ic=e("label",{for:"recommendation"},"Recommendation",-1),qc={class:"invalid-feedback"},Yc={class:"modal-footer"},Nc={key:0},Bc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Hc={class:"dropdown-menu",role:"menu"},jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Oc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),zc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gc={class:"modal-dialog",role:"document"},Qc={class:"modal-content"},Wc=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Kc={class:"modal-footer"},Xc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Jc={__name:"TechList",setup(o){const k=d(),_=d(),n=he(),c=d({data:[]});d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const p=`${fe().name}`,w=()=>{A.get("/api/getsite").then(f=>{_.value=f.data.sites}).catch(f=>{console.log(f)})},E=d(!1),l=d(!1),T=d(),b=Ae({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),u=me();d(null);const m=(f=1)=>{E.value=!0,A.get(`/api/tech-recommendations?page=${f}`,{params:{query:i.value}}).then(g=>{E.value=!1,c.value=g.data,P.value=[],h.value=!1})},x=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),Y=xe({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),O=(f,{resetForm:g,setErrors:z})=>{A.post("/api/tech-recommendations",f).then(ie=>{c.value.data.unshift(ie.data),$("#FormModal").modal("hide"),g(),n.success("Data created successfully!")}).catch(ie=>{ie.response.data.errors&&z(ie.response.data.errors)})},W=()=>{l.value=!1,$("#FormModal").modal("show")},K=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},j=f=>{k.value=f.id,l.value=!0,K(),b.id=f.id,b.branch=f.branch,b.department=f.department,b.warehouse=f.warehouse,b.user=f.user,b.problem=f.problem,b.brand=f.brand,b.model=f.model,b.assettag=f.assettag,b.serialnum=f.serialnum,b.assconducted=f.assconducted,b.recommendation=f.recommendation,b.ceated_by=f.ceated_by,b.recommnum=f.recommnum,$("#FormModal").modal("show")},C=(f,{setErrors:g})=>{A.put("/api/tech-recommendations/"+f.id,f).then(z=>{$("#FormModal").modal("hide"),n.success("successfully Updated!")}).catch(z=>{g(z.response.data.errors),console.log(z)})},F=(f,g)=>{l.value?C(b,g):O(f,g)},i=d(null),P=d([]),H=f=>{const g=P.value.indexOf(f.id);g===-1?P.value.push(f.id):P.value.splice(g,1),console.log(P.value)},ae=d(null),Z=f=>{ae.value=f,$("#deleteClientModal").modal("show")},de=()=>{A.delete(`/api/tech-recommendations/${ae.value}`).then(()=>{$("#deleteClientModal").modal("hide"),n.success("Client deleted successfully!"),c.value.data=c.value.data.filter(f=>f.id!==ae.value)})},pe=()=>{A.delete("/api/tech-recommendations",{data:{ids:P.value}}).then(f=>{c.value.data=c.value.data.filter(g=>!P.value.includes(g.id)),P.value=[],h.value=!1,n.success(f.data.message)})},M=f=>{A.post("/api/tech-getaction",{id:k.value,status:f}).then(g=>{$("#FormModal").modal("hide"),m()}).catch(g=>{console.log(g.message)})},h=d(!1);return be(i,Te.exports.debounce(()=>{m()},300)),_e(()=>{m(),w(),document.title=p}),(f,g)=>{const z=$e("font"),ie=$e("router-link");return t(),a(R,null,[e("div",Kd,[e("div",Xd,[e("div",Jd,[e("div",Zd,[e("button",{onClick:W,type:"button",class:"mb-2 btn btn-primary"},[ei,V(" TechRecom ")]),P.value.length>0?(t(),a("div",ti,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[si,V(" Delete Selected ")]),e("span",ai,"Selected "+s(P.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=S=>i.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ue,i.value]])])]),e("div",oi,[e("div",li,[E.value?(t(),ce(Ee,{key:0})):L("",!0),e("div",ni,[e("div",di,[y(z,{size:"2"},{default:X(()=>[e("table",ii,[ci,c.value.data.length>0?(t(),a("tbody",ri,[(t(!0),a(R,null,Q(c.value.data,(S,U)=>(t(),ce(Wd,{key:S.id,item:S,index:U,onEditUser:j,onShowItem:f.viewItem,onConfirmUserDeletion:Z,onToggleSelection:H,"select-all":h.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ui,mi))])]),_:1})])]),(t(!0),a(R,null,Q(c.value.data,(S,U)=>(t(),a("div",{class:"dispatch-list",key:S.id,item:S,index:U},[e("div",pi,[e("div",vi,[e("div",bi,[fi,e("span",null,[e("b",null,s(S.recommnum),1)])]),e("div",$i,[gi,e("span",null,s(S.user),1)]),e("div",yi,[ki,e("span",null,s(S.branch),1)]),e("div",xi,[wi,e("span",null,s(S.department),1)]),e("div",Ci,[Si,e("span",null,s(S.created_user),1)]),e("div",Di,[Ui,S.statusid==2?(t(),ce(ie,{key:0,to:`/admin/tech-approved/${S.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:D(["badge",`badge-${S.status.color}`])},s(S.status.name),3)]),_:2},1032,["to"])):L("",!0),S.statusid!=2?(t(),a("span",{key:1,class:D(["badge",`badge-${S.status.color}`])},s(S.status.name),3)):L("",!0)]),e("div",Mi,[Vi,e("span",null,s(S.created_at),1)]),Ai,e("div",Ei,[r(u).user.role==="ADMIN"?(t(),a("div",Ti,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:G=>j(S)},[Pi,V(" Edit ")],8,Li),e("button",{class:"btn btnsm btn-danger btn-block",onClick:G=>Z(S.id)},qi,8,Fi),S.statusid==2?(t(),a("button",Yi,[Ni,V(" Download ")])):L("",!0)])):L("",!0),r(u).user.role==="USER"?(t(),a("div",Bi,[S.statusid!=2?(t(),a("div",Ri,[S.created_by==r(u).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:G=>j(S)},[ji,V(" Edit ")],8,Hi)):L("",!0)])):L("",!0)])):L("",!0)])])])],8,hi))),128))])]),y(r(Ie),{data:c.value,onPaginationChangePage:m},null,8,["data"])])]),e("div",Oi,[e("div",zi,[e("div",Gi,[e("div",Qi,[e("h5",Wi,[l.value?(t(),a("span",Ki,"Edit Tech Recom.")):(t(),a("span",Xi,"Add New Tech Recom."))]),Ji]),y(r(De),{onSubmit:F,"validation-schema":l.value?r(Y):r(x),"initial-values":T.value},{default:X(({errors:S})=>[e("div",Zi,[e("div",ec,[e("div",tc,[e("div",sc,[y(r(B),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(u).user.id,"onUpdate:modelValue":g[1]||(g[1]=U=>r(u).user.id=U)},null,8,["modelValue"]),y(r(B),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":g[2]||(g[2]=U=>b.recommnum=U)},null,8,["modelValue"]),e("div",ac,[oc,y(r(B),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":S.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":g[3]||(g[3]=U=>b.branch=U)},{default:X(()=>[lc,(t(!0),a(R,null,Q(_.value,U=>(t(),a("option",{key:U.site_name,value:U.site_name},s(U.site_name),9,nc))),128))]),_:2},1032,["class","modelValue"]),e("span",dc,s(S.branch),1)]),e("div",ic,[cc,y(r(B),{name:"department",type:"text",class:D(["form-control",{"is-invalid":S.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":g[4]||(g[4]=U=>b.department=U)},null,8,["class","modelValue"]),e("span",rc,s(S.department),1)]),e("div",uc,[_c,y(r(B),{name:"warehouse",type:"text",class:D(["form-control",{"is-invalid":S.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":g[5]||(g[5]=U=>b.warehouse=U)},null,8,["class","modelValue"]),e("span",mc,s(S.warehouse),1)]),e("div",hc,[pc,y(r(B),{name:"user",type:"text",class:D(["form-control",{"is-invalid":S.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":g[6]||(g[6]=U=>b.user=U)},null,8,["class","modelValue"]),e("span",vc,s(S.user),1)])]),e("div",bc,[e("div",fc,[$c,y(r(B),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":g[7]||(g[7]=U=>b.brand=U)},null,8,["modelValue"])]),e("div",gc,[yc,y(r(B),{name:"model",type:"text",class:D(["form-control",{"is-invalid":S.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":g[8]||(g[8]=U=>b.model=U),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",kc,s(S.model),1)]),e("div",xc,[wc,y(r(B),{name:"assettag",type:"text",class:D(["form-control",{"is-invalid":S.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":g[9]||(g[9]=U=>b.assettag=U),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Cc,s(S.assettag),1)]),e("div",Sc,[Dc,J(e("input",{name:"serialnum",type:"text",class:D(["form-control",{"is-invalid":S.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":g[10]||(g[10]=U=>b.serialnum=U)},null,2),[[ue,b.serialnum]]),e("span",Uc,s(S.serialnum),1)])]),e("div",Mc,[e("div",Vc,[Ac,y(r(B),{name:"problem",as:"textarea",class:D(["form-control",{"is-invalid":S.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":g[11]||(g[11]=U=>b.problem=U)},null,8,["class","modelValue"]),e("span",Ec,s(S.problem),1)]),e("div",Tc,[Lc,y(r(B),{name:"assconducted",as:"textarea",class:D(["form-control",{"is-invalid":S.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":g[12]||(g[12]=U=>b.assconducted=U)},null,8,["class","modelValue"]),e("span",Pc,s(S.assconducted),1)]),e("div",Fc,[Ic,y(r(B),{name:"recommendation",as:"textarea",class:D(["form-control",{"is-invalid":S.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":g[13]||(g[13]=U=>b.recommendation=U)},null,8,["class","modelValue"]),e("span",qc,s(S.recommendation),1)])])])])]),e("div",Yc,[l.value?(t(),a("div",Nc,[r(u).user.role==="ADMIN"?(t(),a("div",Bc,[e("button",{type:"button",onClick:g[14]||(g[14]=U=>M(2)),class:"btn btn-info"}," Approved "),Rc,e("div",Hc,[e("span",{onClick:g[15]||(g[15]=U=>M(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:g[16]||(g[16]=U=>M(3)),class:"dropdown-item"},"Disapproved")])])):L("",!0)])):L("",!0),jc,Oc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",zc,[e("div",Gc,[e("div",Qc,[Wc,e("div",Kc,[Xc,e("button",{onClick:le(de,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Re=Xe("SettingStore",()=>{const o=d({app_name:""}),k=xt("SettingStore:theme",d("light"));return{setting:o,getSetting:async()=>{await A.get("/api/settings").then(c=>{o.value=c.data})},theme:k,changeTheme:()=>{k.value=k.value==="light"?"dark":"light"}}});const se=o=>(Ue("data-v-5aff9990"),o=o(),Me(),o),Zc={class:"content"},er={class:"container-fluid"},tr={class:"card"},sr={class:"card-header"},ar={class:"card-title"},or={class:"card-body"},lr={class:"col-md-12"},nr={class:"d-flex justify-content-between"},dr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ir={class:"d-flex"},cr={class:"col-12",id:"accordion"},rr={key:1},ur={key:0},_r={class:"card card-secondary"},mr={class:"card-body d-flex align-items-center justify-content-center"},hr={class:"image-container"},pr=["src"],vr=se(()=>e("div",{class:"overlay"},null,-1)),br={key:1},fr={class:"card-header bg-white"},$r={class:"card-title"},gr=["href"],yr=["src"],kr={class:"card-tools"},xr=["onClick"],wr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Cr=[wr],Sr=["disabled","onClick"],Dr=["onClick"],Ur=se(()=>e("p",{class:"float-right"},null,-1)),Mr=["id"],Vr={class:"card-body"},Ar={class:"col-md-12"},Er={class:"dispatch-table"},Tr={class:"row"},Lr={class:"col-4"},Pr=se(()=>e("b",null,"Site:",-1)),Fr=se(()=>e("b",null,"Planned Date:",-1)),Ir=se(()=>e("b",null,"Planned End Date:",-1)),qr={class:"col-4"},Yr=se(()=>e("b",null,"Start Date:",-1)),Nr=se(()=>e("b",null,"Accomplished Date:",-1)),Br={class:"closestatus"},Rr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Hr={class:"col-4"},jr={class:"ongoing"},Or=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),zr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Gr=se(()=>e("b",null,"Remarks:",-1)),Qr={style:{margin:"0.5%"}},Wr=["disabled","onClick"],Kr=["onClick","disabled"],Xr={class:"dispatch-list"},Jr={class:"list-group list-group-flush"},Zr={class:"list-group-item d-flex justify-content-between align-items-center"},eu={class:"badge badge-primary badge-pill"},tu={class:"list-group-item d-flex justify-content-between align-items-center"},su={class:"badge badge-primary badge-pill"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu=se(()=>e("hr",null,null,-1)),vu={class:"row"},bu={class:"col"},fu=["onClick"],$u=se(()=>e("i",{class:"fas fa-pen"},null,-1)),gu=["onClick"],yu=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),V(" Drop ")],-1)),ku=[yu],xu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wu={class:"modal-dialog modal-dialog-centered",role:"document"},Cu={class:"modal-content"},Su={class:"modal-header"},Du={class:"modal-title",id:"staticBackdropLabel"},Uu={key:0},Mu={key:1},Vu={key:2},Au=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Eu={class:"modal-body"},Tu={class:"col-md-12"},Lu={class:"row"},Pu={class:"col-12"},Fu={class:"form-group"},Iu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),qu=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Yu=["value"],Nu={key:0,class:"d-flex justify-content-between"},Bu={class:"d-flex"},Ru={class:"form-group"},Hu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),ju={class:"form-group"},Ou=se(()=>e("label",{for:"end-time"},"Hour",-1)),zu=["value"],Gu=se(()=>e("div",{class:"d-fex"},null,-1)),Qu={key:1,class:"d-flex justify-content-between"},Wu={class:"d-flex"},Ku={class:"form-group"},Xu=se(()=>e("label",{for:"end-time"},"End Date",-1)),Ju={class:"form-group"},Zu=se(()=>e("label",{for:"end-time"},"Hour",-1)),e_=["value"],t_=se(()=>e("div",{class:"d-fex"},null,-1)),s_={class:"form-group"},a_=se(()=>e("label",{for:"site"},"Task",-1)),o_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),l_=["value"],n_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),d_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},i_={class:"modal-dialog modal-sm",role:"document"},c_={class:"modal-content"},r_={class:"modal-header"},u_={class:"modal-title",id:"staticBackdropLabel"},__=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),m_={class:"modal-body"},h_=we('<ul class="nav nav-tabs" id="myTabs" data-v-5aff9990><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-5aff9990> Todo List</a></li><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-5aff9990> Todo</a></li></ul>',1),p_={class:"tab-content"},v_={class:"tab-pane fade show active",id:"todolist"},b_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},f_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),$_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),g_={key:0,class:"list-group-item mt-2"},y_={class:"d-flex justify-content-between"},k_={class:"d-flex"},x_=["onClick"],w_={class:"d-flex"},C_=["onClick"],S_={class:"m-2 list-unstyled"},D_={key:1},U_={key:0,class:"list-group-item mt-2"},M_={class:"d-flex justify-content-between"},V_={class:"d-flex"},A_=["onClick"],E_={class:"d-flex"},T_=["onClick"],L_={key:1,class:"mt-2 text-center"},P_=se(()=>e("span",null,"No Todo",-1)),F_=[P_],I_={class:"tab-pane fade",id:"formTask"},q_={class:"col-md-12"},Y_={class:"row"},N_={class:"col-12"},B_={class:"m-2",style:{display:"flex","align-items":"center"}},R_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),V("\xA0Save ")])],-1)),H_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j_={class:"modal-dialog",role:"document"},O_={class:"modal-content"},z_=we('<div class="modal-header" data-v-5aff9990><h5 class="modal-title" id="staticBackdropLabel" data-v-5aff9990><span data-v-5aff9990>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-5aff9990><span aria-hidden="true" data-v-5aff9990>\xD7</span></button></div><div class="modal-body" data-v-5aff9990><h5 data-v-5aff9990>Are you sure you want to delete this record ?</h5></div>',2),G_={class:"modal-footer"},Q_=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),W_={__name:"MyPrio",setup(o){const k=`${fe().name}`,_=d(!1),n=d(!1),c=Je("$swal");Re();const p=he(),w=d({data:[]}),E=d([]);d([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const l=d();d();const T=d(!0),b=d(!1);d(!1),d();const u=d(),m=d(),x=d(),Y=me();d(null),d(!1);const O=d([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),W=d(),K=d("1:00 AM"),j=d(),C=d("1:00 AM"),F=d(Array.from({length:24},(I,N)=>{const v=N%12+1,re=N<12?"AM":"PM";return`${v}:00 ${re}`})),i=d(Array.from({length:24},(I,N)=>{const v=N%12+1,re=N<12?"AM":"PM";return`${v}:00 ${re}`})),P=Ae({dailytask_id:"",site:"",user_id:Y.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});be([W,K],()=>{const I=new Date(W.value),N=I.getFullYear(),v=String(I.getMonth()+1).padStart(2,"0"),re=String(I.getDate()).padStart(2,"0");P.plandate=`${N}-${v}-${re} ${K.value}`}),be([W,C],()=>{const I=new Date(W.value);I.getFullYear(),String(I.getMonth()+1).padStart(2,"0"),String(I.getDate()).padStart(2,"0")}),be([j,C],()=>{const I=new Date(j.value),N=I.getFullYear(),v=String(I.getMonth()+1).padStart(2,"0"),re=String(I.getDate()).padStart(2,"0");P.enddates=`${N}-${v}-${re} ${C.value}`});const H=d({id:"",dailytask_id:"",task_name:"",iscompleted:0}),ae=()=>{A.get("/web/getsite").then(I=>{l.value=I.data.sites}).catch(I=>{console.log(I)})},Z=()=>{_.value=!0,A.get("/api/dailytask",{params:{query:Be.value}}).then(I=>{_.value=!1,w.value=I.data,lt.value=[]})},de=async I=>{(await c({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,A.put(`/api/dailytask/drop/${I}`).then(v=>{p.success("Data drop successfully!"),_.value=!1,Z()}))},pe=()=>{$("#FormModalTask").modal("show")},M=I=>{pe(),H.value.dailytask_id=I.dailytask_id,m.value=I.taskdate,x.value=I.startdate,n.value=!0,A.get(`/api/dailytask/${I.dailytask_id}/tasks`).then(N=>{E.value=N.data,pe(),n.value=!1}).catch(N=>{console.error("Error fetching tasks:",N)})},h=()=>{n.value=!0,A.post("/api/dailytask/addnewTask",{dailytask_id:H.value.dailytask_id,task_name:H.value.task_name,iscompleted:H.value.iscompleted}).then(I=>{p.success("Data created successfully!"),A.get(`/api/dailytask/${H.value.dailytask_id}/tasks`).then(N=>{E.value=N.data,n.value=!1}).catch(N=>{console.error("Error fetching tasks:",N),p.error("Error fetching tasks. Please try again.")}),H.value.task_name=""}).catch(I=>{console.error("Error adding new task:",I),p.error("Error adding new task. Please try again.")})},f=I=>{H.value.iscompleted=I.iscompleted===1?0:1,A.post("/api/dailytask/addnewTask",{id:I.id,dailytask_id:I.dailytask_id,task_name:I.task_name,iscompleted:H.value.iscompleted}).then(N=>{A.get(`/api/dailytask/${I.dailytask_id}/tasks`).then(v=>{E.value=v.data}).catch(v=>{console.error("Error fetching tasks:",v),p.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),p.error("Error adding new task. Please try again.")})},g=Pe(()=>Array.isArray(E.value)?E.value.filter(I=>I.iscompleted===1):[]),z=Pe(()=>g.value.length),ie=()=>{T.value=!T.value},S=I=>{A.delete(`/api/dailytask/deleteTask/${I.id}`).then(N=>{A.get(`/api/dailytask/${I.dailytask_id}/tasks`).then(v=>{E.value=v.data,p.success("Todo successfull Deleted")}).catch(v=>{console.error("Error fetching tasks:",v),p.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),p.error("Error adding new task. Please try again.")})};xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()}),xe({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()});const U=(I,N)=>{A.post("/api/dailytask",P).then(v=>{console.log(v.data),Z(),$("#FormModal").modal("hide"),p.success("data created successfully!")}).catch(v=>{N.setErrors(v.response.data.errors)})},G=(I,N)=>{A.put("/api/dailytask/"+P.dailytask_id,P).then(v=>{console.log(v.data),Z(),$("#FormModal").modal("hide"),p.success("data update successfully!")}).catch(v=>{N.setErrors(v.response.data.errors)})},te=I=>{I&&I.dailytask_id!==null&&I.dailytask_id!==void 0?(b.value=!0,u.value=" on "+ve(I.taskdate).format("MMMM D, YYYY"),P.site=I.site,P.dailytask_id=I.dailytask_id,P.plandate=I.plandate,P.planenddate=I.planenddate):b.value=!1,ae(),$("#FormModal").modal("show")},ke=(I,N)=>{b.value?G(I,N):U(I,N)},ee=async I=>{try{const N=await A.get(`/api/dailytask/${I.dailytask_id}/tasks`);if(E.value=N.data,!E.value||E.value.length===0){c.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await c.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const re=await A.put("/api/dailytask/onhandler/"+I.dailytask_id,I);p.success(re.data.message),Z()}}catch(N){console.error("Error fetching tasks:",N),p.error("An error occurred while updating the task.")}},Ce=async I=>{if((await c({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ve(I.taskdate).format("YYYY-MM-DD")===ve().format("YYYY-MM-DD")?(I.remarks="HIT",I.status="On Schedule"):(I.remarks="MISS",I.status="Behind Schedule");const re=await A.put("/api/dailytask/onhandler/"+I.dailytask_id,I);p.success(re.data.message),Z()}catch(v){console.error(v),p.error("An error occurred while updating the task.")}},Be=d(null),lt=d([]),Qe=d(null),nt=()=>{A.delete(`/api/tech-recommendations/${Qe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),p.success("Client deleted successfully!"),w.value.data=w.value.data.filter(I=>I.id!==Qe.value)})};return be(Be,Te.exports.debounce(()=>{Z()},300)),_e(()=>{Ze(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),Z(),document.title=k}),(I,N)=>(t(),a(R,null,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,[e("div",ar,s(r(Y).user.first_name+" "+r(Y).user.last_name)+" - My Prio ",1)]),e("div",or,[e("div",lr,[e("div",nr,[e("div",{class:"d-flex"},[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary"},[dr,V(" Task ")])]),e("div",ir,[J(e("input",{type:"text","onUpdate:modelValue":N[0]||(N[0]=v=>Be.value=v),class:"form-control",placeholder:"Search..."},null,512),[[ue,Be.value]])])]),e("div",cr,[_.value?(t(),ce(Ee,{key:0})):(t(),a("div",rr,[w.value.length===0?(t(),a("div",ur,[e("div",_r,[e("div",mr,[e("div",hr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,pr),vr])])])])):(t(),a("div",br,[(t(!0),a(R,null,Q(w.value,v=>(t(),a("div",{class:"card card-primary",key:v.id},[e("div",fr,[e("h4",$r,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+v.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,yr),V(" \xA0"),e("b",null,s(r(ve)(v.taskdate).format("MMMM D, YYYY")),1)],8,gr)]),e("div",kr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:re=>M(v)},Cr,8,xr),e("button",{disabled:v.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:re=>Ce(v)}," End ",8,Sr),v.startdate?L("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:re=>ee(v)}," Start ",8,Dr)),Ur])]),e("div",{id:"collapse"+v.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Vr,[e("div",Ar,[e("div",Er,[e("div",Tr,[e("div",Lr,[e("h5",null,[Pr,V(" "+s(v.site_name),1)]),e("h5",null,[Fr,V(" "+s(v.plandate),1)]),e("h5",null,[Ir,V(" "+s(v.planenddate),1)])]),e("div",qr,[e("h5",null,[Yr,V(" "+s(v.startdate!==null?r(ve)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Nr,V(" "+s(v.enddate!==null?r(ve)(v.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Br,[Rr,V(" "+s(v.tasktype?v.tasktype.join(", "):""),1)])]),e("div",Hr,[e("h5",jr,[Or,V(" "+s(v.status),1)]),e("h5",null,[zr,V(" "+s(v.attachment),1)]),e("h5",null,[Gr,V(" "+s(v.remarks),1)])])]),e("div",Qr,[e("button",{disabled:v.startdate!==null,onClick:re=>de(v.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Wr),e("button",{onClick:re=>te(v),type:"button",disabled:v.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,Kr)])]),e("div",Xr,[e("ul",Jr,[e("li",Zr,[V(" Site: "),e("span",eu,s(v.site_name),1)]),e("li",tu,[V(" Planned Date: "),e("span",su,s(v.plandate),1)]),e("li",au,[V(" Planned End Date: "),e("span",ou,s(v.planenddate),1)]),e("li",lu,[V(" Start Date: "),e("span",nu,s(v.startdate!==null?r(ve)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",du,[V(" Type: "),e("span",iu,s(v.tasktype?v.tasktype.join(", "):""),1)]),e("li",cu,[V(" Status: "),e("span",ru,s(v.status),1)]),e("li",uu,[V(" Attachment: "),e("span",_u,s(v.attachment),1)]),e("li",mu,[V(" Remarks: "),e("span",hu,s(v.remarks),1)])]),pu,e("div",vu,[e("div",bu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:re=>te(v)},[$u,V(" Edit ")],8,fu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:re=>de(v.dailytask_id)},ku,8,gu)])])])])])],8,Mr)]))),128))]))]))])])])])])]),e("div",xu,[e("div",wu,[e("div",Cu,[e("div",Su,[e("h5",Du,[b.value?(t(),a("span",Uu,"Edit My Task")):(t(),a("span",Mu,"Add My Task")),b.value?(t(),a("span",Vu,s(u.value),1)):L("",!0)]),Au]),y(r(De),{onSubmit:ke},{default:X(()=>[e("div",Eu,[e("div",Tu,[e("div",Lu,[e("div",Pu,[y(r(B),{modelValue:P.user_id,"onUpdate:modelValue":N[1]||(N[1]=v=>P.user_id=v),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Fu,[Iu,J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":N[2]||(N[2]=v=>P.site=v)},[qu,(t(!0),a(R,null,Q(l.value,v=>(t(),a("option",{key:v.id,value:v.id},s(v.site_name),9,Yu))),128))],512),[[Le,P.site]])]),b.value==!1?(t(),a("div",Nu,[e("div",Bu,[e("div",Ru,[Hu,y(r(Fe),{class:"form-control",modelValue:W.value,"onUpdate:modelValue":N[3]||(N[3]=v=>W.value=v)},null,8,["modelValue"])]),e("div",ju,[Ou,J(e("select",{class:"form-control","onUpdate:modelValue":N[4]||(N[4]=v=>K.value=v),id:"plandate"},[(t(!0),a(R,null,Q(F.value,v=>(t(),a("option",{key:v,value:v},s(v),9,zu))),128))],512),[[Le,K.value]])])]),Gu])):L("",!0),b.value==!1?(t(),a("div",Qu,[e("div",Wu,[e("div",Ku,[Xu,y(r(Fe),{class:"form-control",modelValue:j.value,"onUpdate:modelValue":N[5]||(N[5]=v=>j.value=v)},null,8,["modelValue"])]),e("div",Ju,[Zu,J(e("select",{class:"form-control","onUpdate:modelValue":N[6]||(N[6]=v=>C.value=v),id:"plandate"},[(t(!0),a(R,null,Q(i.value,v=>(t(),a("option",{key:v,value:v},s(v),9,e_))),128))],512),[[Le,C.value]])])]),t_])):L("",!0),e("div",s_,[a_,y(r(B),{name:"tasktype"},{default:X(()=>[J(e("select",{"onUpdate:modelValue":N[7]||(N[7]=v=>P.tasktype=v),class:"form-control",required:!0},[o_,(t(!0),a(R,null,Q(O.value,v=>(t(),a("option",{key:v.value,value:v.value},s(v.name),9,l_))),128))],512),[[Le,P.tasktype]])]),_:1})])])])])]),n_]),_:1})])])]),e("div",d_,[e("div",i_,[e("div",c_,[e("div",r_,[e("h5",u_," My Todo of "+s(r(ve)(m.value).format("MM/D/YYYY")),1),__]),e("div",m_,[h_,e("div",p_,[e("div",v_,[E.value.length>0?(t(),a("div",b_,[n.value?(t(),ce(Ee,{key:0,viewBox:"0 0 250 110"},{default:X(()=>[f_,$_]),_:1})):L("",!0),(t(!0),a(R,null,Q(E.value,v=>(t(),a("ul",{class:"list-group",key:v.id},[v.iscompleted!==1?(t(),a("li",g_,[e("div",y_,[e("div",k_,[x.value?(t(),a("i",{key:0,onClick:re=>f(v),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.iscompleted===1,"fa fa-circle text-primary":v.iscompleted!==1}),style:{"font-size":"15px"}},null,10,x_)):L("",!0),e("span",{class:D({"font-italic":v.iscompleted===1,"":v.iscompleted!==1})},s(v.task_name),3)]),e("div",w_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>S(v)},null,8,C_)])])])):L("",!0)]))),128)),e("li",S_,[z.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:ie},[e("i",{class:D(["fa",T.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Completed "+s(z.value),1)])):L("",!0)]),T.value?(t(),a("div",D_,[(t(!0),a(R,null,Q(E.value,v=>(t(),a("ul",{class:"list-group",key:v.id},[v.iscompleted===1?(t(),a("li",U_,[e("div",M_,[e("div",V_,[e("i",{class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle":v.iscompleted===1,"fa fa-circle":v.iscompleted!==1}),style:{"font-size":"15px"},onClick:re=>f(v)},null,10,A_),e("span",{class:D({"font-italic":v.iscompleted===1,"":v.iscompleted!==1})},[e("del",null,s(v.task_name),1)],2)]),e("div",E_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>S(v)},null,8,T_)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",L_,F_))]),e("div",I_,[y(r(De),{onSubmit:h},{default:X(()=>[e("div",q_,[e("div",Y_,[e("div",N_,[y(r(B),{modelValue:H.value.dailytask_id,"onUpdate:modelValue":N[8]||(N[8]=v=>H.value.dailytask_id=v),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",B_,[y(r(B),{modelValue:H.value.task_name,"onUpdate:modelValue":N[9]||(N[9]=v=>H.value.task_name=v),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),R_]),_:1})])])])])])]),e("div",H_,[e("div",j_,[e("div",O_,[z_,e("div",G_,[Q_,e("button",{onClick:le(nt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var K_=ge(W_,[["__scopeId","data-v-5aff9990"]]);const X_={class:"text-center"},J_={key:0},Z_={class:"text-center"},em={key:0},tm={class:"text-center"},sm={key:0},am={key:0,class:"bg-success text-center"},om={key:1,class:"bg-danger text-center"},lm={key:2,class:"text-center"},nm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return he(),me(),(k,_)=>(t(),a("tr",null,[e("td",null,s(r(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",X_,[o.item.task_lists_count!==0?(t(),a("span",J_,s(o.item.task_lists_count),1)):L("",!0)]),e("td",Z_,[o.item.completed_task_count!==0?(t(),a("span",em,s(o.item.completed_task_count),1)):L("",!0)]),e("td",tm,[o.item.status!=="On Going"?(t(),a("span",sm,s(o.item.status),1)):L("",!0)]),o.item.remarks==="HIT"?(t(),a("td",am,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",om,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",lm,s(o.item.startdate!=null?"On Going!":""),1)):L("",!0),e("td",{class:D({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const ye=o=>(Ue("data-v-04a9a400"),o=o(),Me(),o),dm={class:"content-header"},im={class:"container-fluid"},cm={class:"col-12"},rm={class:"card",id:"captureVSCContainer"},um={class:"card-header"},_m={class:"card-title"},mm={class:"card-tools"},hm={class:"card-body"},pm=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),vm=[pm],bm={key:1,class:"row"},fm={class:"inner"},$m={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},gm=["src"],ym={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},km={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},xm={style:{"text-align":"left"}},wm={key:0},Cm=ye(()=>e("span",{class:"text-light badge"},"Todos",-1)),Sm={class:"list-group list-group-flush"},Dm={style:{display:"flex","align-items":"left"}},Um={class:"ml-1"},Mm={class:"ml-1"},Vm={key:1},Am={class:"float-right"},Em={id:"captureHitRateContainer",class:"card"},Tm={class:"card-header"},Lm={class:"card-title"},Pm={class:"card-body"},Fm={class:"content"},Im={class:"container-fluid"},qm=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),Ym=[qm],Nm={class:"dispatch-table"},Bm={class:"table-responsive"},Rm={class:"table table-bordered table-hover table-sm"},Hm=ye(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),jm=["item"],Om={class:"list-field"},zm=ye(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Gm={class:"list-field"},Qm=ye(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Wm={key:0},Km={class:"list-field"},Xm=ye(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Jm={key:0},Zm={class:"list-field"},eh=ye(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),th={class:"list-field"},sh=ye(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),ah={class:"list-field"},oh=ye(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),lh={class:"float-right"},nh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dh={class:"modal-dialog modal-sm",role:"document"},ih={class:"modal-content"},ch=ye(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),rh={class:"modal-body"},uh={class:"fromtocenter"},_h=ye(()=>e("label",{for:"fromDate"},"From:",-1)),mh=ye(()=>e("label",{for:"toDate"},"To:",-1)),hh=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ph={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vh={class:"modal-dialog modal-sm",role:"document"},bh={class:"modal-content"},fh=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),$h={class:"modal-body"},gh={class:"container"},yh={class:"row"},kh=["onClick"],xh=ye(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),wh={__name:"MyVsc",setup(o){const k=`${fe().name}`,_=me(),n=d(!1),c=d([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),w=d((()=>{const C={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",C)})()),E=()=>{const C=document.getElementById("captureVSCContainer");Oe(C).then(F=>{const i=F.toDataURL(),P=document.createElement("a");P.href=i,P.download=`${_.user.first_name+" "+_.user.last_name} - ${k}.png`,P.click()})},l=()=>{const C=document.getElementById("captureHitRateContainer");Oe(C).then(F=>{const i=F.toDataURL(),P=document.createElement("a");P.href=i,P.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,P.click()})};d(null),d("today");const T=d({data:[]}),b=d({data:[]}),u=()=>{n.value=!0,axios.get("/api/myvsc").then(C=>{n.value=!1,T.value=C.data.dailyTasks,b.value=C.data.TaskList})},m=()=>{$("#FormModalfilterDate").modal("show")},x=d({start_date:"",end_date:""}),Y=d(""),O=d("");be([Y],()=>{const C=new Date(Y.value),F=C.getFullYear(),i=String(C.getMonth()+1).padStart(2,"0"),P=String(C.getDate()).padStart(2,"0");x.value.start_date=`${F}-${i}-${P}`}),be([O],()=>{const C=new Date(O.value),F=C.getFullYear(),i=String(C.getMonth()+1).padStart(2,"0"),P=String(C.getDate()).padStart(2,"0");x.value.end_date=`${F}-${i}-${P}`});const W=()=>{n.value=!0,axios.get("/api/filter-vsc",{params:{start_date:x.value.start_date,end_date:x.value.end_date}}).then(C=>{n.value=!1,T.value=C.data.dailyTasks,b.value=C.data.TaskList}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},K=()=>{$("#FormModalPickerThemes").modal("show")},j=C=>{if(C){const F=_.user.id;axios.post("/api/changethemes",{userid:F,background:C.background,active_background:C.active_background,font_background:C.font_background}).then(i=>{$("#FormModalPickerThemes").modal("hide"),n.value=!0,axios.get("/api/myvsc").then(P=>{n.value=!1,T.value=P.data.dailyTasks,b.value=P.data.TaskList})}).catch(i=>{console.error(i)})}else console.error("Invalid item:",C)};return _e(()=>{u(),document.title=k}),(C,F)=>(t(),a(R,null,[e("div",dm,[e("div",im,[e("div",cm,[e("div",rm,[e("div",um,[e("div",_m,[e("h5",null,s(r(_).user.first_name+" "+r(_).user.last_name)+" - "+s(k),1)]),e("div",mm,[e("i",{onClick:F[0]||(F[0]=i=>K()),class:"fas fa-palette"})])]),e("div",hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:E,type:"button",class:"mb-2 btn btn-sm btn-success"},vm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:m})])]),n.value?(t(),ce(Ee,{key:0})):(t(),a("div",bm,[(t(!0),a(R,null,Q(T.value,i=>(t(),a("div",{class:"col-lg-3 col-6",key:i.id},[e("div",{class:"small-box",style:je("background-color: "+(r(ve)(i.taskdate).format("MMMM D, YYYY")===w.value?i.active_background==""?"#72461F":i.active_background:i.background==""?"#B98D65":i.background)+";")},[e("div",fm,[e("div",$m,[V(s(r(ve)(i.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,gm)]),e("div",ym,s(r(ve)(i.taskdate).format("MMMM D, YYYY")),1),e("div",km,s(i.site_name),1),e("div",xm,[i.task_lists&&i.task_lists.length>0?(t(),a("div",wm,[Cm,e("ul",Sm,[(t(!0),a(R,null,Q(i.task_lists,P=>(t(),a("li",{class:"list-group-item",key:P.id},[e("div",Dm,[e("div",Um,[e("i",{class:D(P.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Mm,s(P.task_name),1)])]))),128))])])):(t(),a("span",Vm))])])],4)]))),128))])),e("div",Am,s(w.value),1)])]),e("div",Em,[e("div",Tm,[e("div",Lm,[e("h5",null,s(r(_).user.first_name+" "+r(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Pm,[e("div",Fm,[e("div",Im,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},Ym)])]),e("div",Nm,[e("div",Bm,[e("table",Rm,[Hm,e("tbody",null,[(t(!0),a(R,null,Q(b.value,i=>(t(),ce(nm,{key:i.id,item:i},null,8,["item"]))),128))])])])]),(t(!0),a(R,null,Q(b.value,i=>(t(),a("div",{class:"dispatch-list",key:i.id,item:i},[e("div",{class:D([{"callout callout-success":i.remarks==="HIT","callout callout-danger":i.remarks==="MISS",callout:i.remarks===null}])},[e("div",Om,[zm,e("span",null,s(r(ve)(i.taskdate).format("MMMM D, YYYY")),1)]),e("div",Gm,[Qm,i.task_lists_count!==0?(t(),a("span",Wm,s(i.task_lists_count),1)):L("",!0)]),e("div",Km,[Xm,i.completed_task_count!==0?(t(),a("span",Jm,s(i.completed_task_count),1)):L("",!0)]),e("div",Zm,[eh,e("span",null,[e("b",null,s(i.status),1)])]),e("div",th,[sh,e("span",{class:D(["badge",i.remarks==="HIT"?"bg-success":"bg-danger"])},s(i.remarks),3)]),e("div",ah,[oh,e("span",{class:D(["badge",{"bg-danger":i.percentage_completed>=0&&i.percentage_completed<=59},{"bg-orange":i.percentage_completed>60&&i.percentage_completed<=90},{"bg-success":i.percentage_completed===100}])},s(i.percentage_completed+"%"),3)])],2)],8,jm))),128))])]),e("div",lh,s(w.value),1)])])])])]),e("div",nh,[e("div",dh,[e("div",ih,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(k)+" Summary Report")]),ch]),e("div",rh,[e("div",uh,[e("div",null,[_h,y(r(Fe),{modelValue:Y.value,"onUpdate:modelValue":F[1]||(F[1]=i=>Y.value=i)},null,8,["modelValue"])]),e("div",null,[mh,y(r(Fe),{modelValue:O.value,"onUpdate:modelValue":F[2]||(F[2]=i=>O.value=i)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[hh,e("button",{onClick:W,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",ph,[e("div",vh,[e("div",bh,[fh,e("div",$h,[e("div",gh,[e("div",yh,[(t(!0),a(R,null,Q(c.value,i=>(t(),a("div",{class:"col-md-4",key:i.background},[e("div",{class:"box",onClick:P=>j(i)},[e("div",{class:"column",style:je({"background-color":i.background})},"\xA0",4),e("div",{class:"column",style:je({"background-color":i.active_background})},"\xA0",4)],8,kh)]))),128))])])]),xh])])])],64))}};var Ch=ge(wh,[["__scopeId","data-v-04a9a400"]]);const Sh={class:"text-center"},Dh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return he(),me(),(k,_)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(r(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Sh,[e("span",{class:D(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Uh=ge(Dh,[["__scopeId","data-v-f22938e0"]]);const Se=o=>(Ue("data-v-029f6d88"),o=o(),Me(),o),Mh={class:"content"},Vh={class:"container-fluid"},Ah={class:"card",id:"capturePrioContainer"},Eh={class:"card-header"},Th={class:"card-title"},Lh={class:"card-body"},Ph={key:1,class:"content"},Fh={class:"container-fluid"},Ih=Se(()=>e("i",{class:"fa fa-camera"},null,-1)),qh=[Ih],Yh={class:"dispatch-table"},Nh={class:"table-responsive"},Bh={class:"table table-bordered table-sm table-striped table-hover"},Rh=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Hh={key:0},jh={key:1},Oh=Se(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),zh=[Oh],Gh=["item","index"],Qh={class:"card"},Wh={class:"card-body"},Kh={class:"list-field"},Xh=Se(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Jh={class:"list-field"},Zh=Se(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),ep={class:"list-field"},tp=Se(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),sp={class:"list-field"},ap=Se(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),op={class:"list-field"},lp=Se(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),np={class:"list-field"},dp=Se(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),ip={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cp={class:"modal-dialog modal-sm",role:"document"},rp={class:"modal-content"},up=Se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),_p={class:"modal-body"},mp={class:"fromtocenter"},hp=Se(()=>e("label",{for:"fromDate"},"From:",-1)),pp=Se(()=>e("label",{for:"toDate"},"To:",-1)),vp=Se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),bp={__name:"MyClosePrioList",setup(o){const k=`${fe().name}`,_=d(!1);he();const n=d({data:[]}),c=d(""),p=d(""),w=me(),E=(u=1)=>{_.value=!0,A.get(`/api/mycloseprio?page=${u}`,{params:{query:b.value}}).then(m=>{_.value=!1,n.value=m.data})},l=()=>{const u=document.getElementById("capturePrioContainer");Oe(u).then(m=>{const x=m.toDataURL(),Y=document.createElement("a");Y.href=x,Y.download="MY CLOSED PRIO.png",Y.click()})},T=()=>{_.value=!0,A.get("/api/filter-closeprio",{params:{start_date:c.value,end_date:p.value}}).then(u=>{_.value=!1,n.value=u.data.dailyTasks}).catch(u=>{console.error(u)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=d(null);return be(b,Te.exports.debounce(()=>{E()},300)),_e(()=>{E(),document.title=k}),(u,m)=>{const x=$e("font");return t(),a(R,null,[e("div",Mh,[e("div",Vh,[e("div",Ah,[e("div",Eh,[e("div",Th,[e("h5",null,s(r(w).user.first_name+" "+r(w).user.last_name)+" - My Closed Prio ",1)])]),e("div",Lh,[_.value?(t(),ce(Ee,{key:0})):(t(),a("div",Ph,[e("div",Fh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},qh)])]),e("div",null,[e("div",Yh,[e("div",Nh,[y(x,{size:"2"},{default:X(()=>[e("table",Bh,[Rh,n.value.data.length>0?(t(),a("tbody",Hh,[(t(!0),a(R,null,Q(n.value.data,(Y,O)=>(t(),ce(Uh,{key:Y.id,item:Y,index:O},null,8,["item","index"]))),128))])):(t(),a("tbody",jh,zh))])]),_:1})])]),(t(!0),a(R,null,Q(n.value.data,(Y,O)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:Y.id,item:Y,index:O},[e("div",Qh,[e("div",Wh,[e("div",Kh,[Xh,e("span",null,s(Y.sitename),1)]),e("div",Jh,[Zh,e("span",null,s(r(ve)(Y.taskdate).format("MMMM D, YYYY")),1)]),e("div",ep,[tp,e("span",null,s(Y.startdate),1)]),e("div",sp,[ap,e("span",null,s(Y.enddate),1)]),e("div",op,[lp,e("span",null,s(Y.tasktype.listtask),1)]),e("div",np,[dp,e("span",{class:D(["badge",Y.remarks==="HIT"?"bg-success":"bg-danger"])},s(Y.remarks),3)])])])],8,Gh))),128))])])]))])]),y(r(Ie),{data:n.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",ip,[e("div",cp,[e("div",rp,[up,e("div",_p,[e("div",mp,[e("div",null,[hp,y(r(Fe),{modelValue:c.value,"onUpdate:modelValue":m[0]||(m[0]=Y=>c.value=Y)},null,8,["modelValue"])]),e("div",null,[pp,y(r(Fe),{modelValue:p.value,"onUpdate:modelValue":m[1]||(m[1]=Y=>p.value=Y)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[vp,e("button",{onClick:T,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var fp=ge(bp,[["__scopeId","data-v-029f6d88"]]);const $p=["checked"],gp={class:"text-center"},yp=e("i",{class:"fa fa-edit"},null,-1),kp=[yp],xp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){he();const _=o,n=k,c=()=>{n("toggleSelection",_.user)};return(p,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,$p)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",gp,[e("a",{href:"#",onClick:w[0]||(w[0]=le(E=>p.$emit("editUser",o.user),["prevent"]))},kp)])]))}},wp={class:"content"},Cp={class:"container-fluid"},Sp={class:"card"},Dp={class:"card-header"},Up=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Mp={class:"card-tools"},Vp={class:"card-body"},Ap={class:"table-responsive"},Ep={class:"table table-bordered table-hover table-sm"},Tp=e("th",{style:{width:"10px"}},"#",-1),Lp=e("th",null,"Name",-1),Pp=e("th",null,"Email",-1),Fp=e("th",null,"Registered Date",-1),Ip=e("th",null,"Options",-1),qp={key:0},Yp={key:1},Np=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Bp=[Np],Rp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hp={class:"modal-dialog modal-sm",role:"document"},jp={class:"modal-content"},Op={class:"modal-header"},zp={class:"modal-title",id:"staticBackdropLabel"},Gp={key:0},Qp=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wp={class:"modal-body"},Kp={class:"table table-sm"},Xp=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Jp={colspan:"5"},Zp={class:"custom-control custom-checkbox"},ev=["value","id","checked"],tv=["for"],sv={key:0,class:"table table-sm"},av={class:"text-danger"},ov={class:"custom-control custom-checkbox"},lv=["value","id"],nv=["for"],dv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),iv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cv={class:"modal-dialog",role:"document"},rv={class:"modal-content"},uv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),_v={class:"modal-footer"},mv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),hv={__name:"UserMenuList",setup(o){const k=`${fe().name}`,_=he(),n=d({data:[]}),c=d(!1),p=d(),w=d(null),E=d(null),l=d([]),T=(j=1)=>{A.get(`/api/users?page=${j}`,{params:{query:m.value}}).then(C=>{n.value=C.data,x.value=[],selectAll.value=!1})},b=j=>{A.get("/api/usermenu",{params:{user_id:j.id}}).then(C=>{K.value=C.data,console.log(C.data)}).catch(C=>{console.log(C)}),c.value=!0,w.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:j.id,username:j.username,email:j.email,first_name:j.first_name,last_name:j.last_name},E.value=p.value.first_name+" "+p.value.last_name},u=()=>{const j={user_id:p.value.id,menu_id:l.value};console.log(j),A.post("/api/usermenu",j).then(C=>{_.success("User Menu Save successfully!")}).catch(C=>{setErrors(C.response.data.errors)})},m=d(null),x=d([]),Y=j=>{const C=x.value.indexOf(j.id);C===-1?x.value.push(j.id):x.value.splice(C,1),console.log(x.value)},O=d(null),W=j=>{O.value=j,$("#deleteUserModal").modal("show")},K=d({data:[]});return be(m,Te.exports.debounce(()=>{T()},300)),_e(()=>{T(),document.title=k}),(j,C)=>{const F=$e("font");return t(),a(R,null,[e("div",wp,[e("div",Cp,[e("div",Sp,[e("div",Dp,[Up,e("div",Mp,[J(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=i=>m.value=i),class:"form-control",placeholder:"Search..."},null,512),[[ue,m.value]])])]),e("div",Vp,[e("div",Ap,[y(F,{size:"2"},{default:X(()=>[e("table",Ep,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":C[1]||(C[1]=i=>j.selectAll=i),onChange:C[2]||(C[2]=(...i)=>j.selectAllUsers&&j.selectAllUsers(...i))},null,544),[[Ve,j.selectAll]])]),Tp,Lp,Pp,Fp,Ip])]),n.value.data.length>0?(t(),a("tbody",qp,[(t(!0),a(R,null,Q(n.value.data,(i,P)=>(t(),ce(xp,{key:i.id,user:i,index:P,onEditUser:b,onConfirmUserDeletion:W,onToggleSelection:Y,"select-all":j.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Yp,Bp))])]),_:1})])])]),y(r(Ie),{data:n.value,onPaginationChangePage:T},null,8,["data"])])]),e("div",Rp,[e("div",Hp,[e("div",jp,[e("div",Op,[e("h5",zp,[c.value?(t(),a("span",Gp,"User Menu for "+s(E.value),1)):L("",!0)]),Qp]),y(r(De),{ref_key:"form",ref:w,onSubmit:u,"initial-values":p.value},{default:X(()=>[e("div",Wp,[e("table",Kp,[Xp,(t(!0),a(R,null,Q(K.value,i=>(t(),a("tr",{key:i.menu_id},[e("td",Jp,[e("div",Zp,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[3]||(C[3]=P=>l.value=P),value:i.menu_id,id:"menu_id_"+i.menu_id,checked:i.hasAccess},null,8,ev),[[Ve,l.value]]),e("label",{for:"menu_id_"+i.menu_id,class:"custom-control-label"},s(i.menu_title),9,tv)]),i.submenus&&i.submenus.length>0?(t(),a("table",sv,[(t(!0),a(R,null,Q(i.submenus,P=>(t(),a("tr",{key:P.id},[e("td",av,[e("div",ov,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[4]||(C[4]=H=>l.value=H),value:P.menu_id,id:"menu_id_"+P.menu_id},null,8,lv),[[Ve,l.value]]),e("label",{for:"menu_id_"+P.menu_id,class:"custom-control-label"},s(P.menu_title),9,nv)])])]))),128))])):L("",!0)])]))),128))])]),dv]),_:1},8,["initial-values"])])])]),e("div",iv,[e("div",cv,[e("div",rv,[uv,e("div",_v,[mv,e("button",{onClick:C[5]||(C[5]=le((...i)=>j.deleteUser&&j.deleteUser(...i),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const tt=o=>(Ue("data-v-8e5d6dd6"),o=o(),Me(),o),pv=["checked"],vv=["innerHTML"],bv={style:{"text-align":"center"}},fv={class:"text-center"},$v=tt(()=>e("i",{class:"fa fa-edit"},null,-1)),gv=[$v],yv=tt(()=>e("i",{class:"fa fa-trash"},null,-1)),kv=[yv],xv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:k}){he(),me();const _=o,n=k,c=()=>{n("toggleSelection",_.item)};return(p,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,pv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,vv),e("td",null,s(o.item.sort_order),1),e("td",bv,[e("i",{class:D({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",fv,[e("button",{class:"btn btn-sm bg-primary",onClick:w[0]||(w[0]=le(E=>p.$emit("editMenu",o.item),["prevent"]))},gv),V("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:w[1]||(w[1]=le(E=>p.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},kv)])]))}};var wv=ge(xv,[["__scopeId","data-v-8e5d6dd6"]]);const Cv={class:"content"},Sv={class:"container-fluid"},Dv={class:"d-flex justify-content-between"},Uv={class:"d-flex"},Mv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Vv={key:0},Av=e("i",{class:"fa fa-trash mr-1"},null,-1),Ev={class:"ml-2"},Tv={class:"card"},Lv={class:"card-body"},Pv={class:"table-responsive"},Fv={class:"table table-bordered table-sm"},Iv=e("th",{style:{width:"10px"}},"#",-1),qv=e("th",null,"Title",-1),Yv=e("th",null,"Parent Menu",-1),Nv=e("th",null,"Route",-1),Bv=e("th",null,"Icon",-1),Rv=e("th",null,"Sort",-1),Hv=e("th",null,"Active",-1),jv=e("th",null,"Date",-1),Ov=e("th",null,"Action",-1),zv={key:0},Gv={key:1},Qv=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Wv=[Qv],Kv={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xv={class:"modal-dialog modal-sm",role:"document"},Jv={class:"modal-content"},Zv={class:"modal-header"},eb={class:"modal-title",id:"staticBackdropLabel"},tb={key:0},sb={key:1},ab=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),ob={class:"modal-body"},lb={class:"col-md-12"},nb={class:"row"},db={class:"col-12"},ib={class:"form-group"},cb=e("label",{for:"user"},"Menu Title",-1),rb={class:"invalid-feedback"},ub={class:"form-group"},_b=e("label",{for:"department"},"Parent Menu",-1),mb=e("option",{value:"0"},"None",-1),hb=["value"],pb={class:"form-group"},vb=e("label",{for:"warehouse"},"Icon",-1),bb={class:"invalid-feedback"},fb={class:"form-group"},$b=e("label",{for:"user"},"Route",-1),gb={class:"invalid-feedback"},yb={class:"form-group"},kb=e("label",{for:"user"},"Sort",-1),xb={class:"invalid-feedback"},wb={class:"form-group"},Cb=e("label",{for:"is_active"},"Active",-1),Sb=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Db={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ub={class:"modal-dialog",role:"document"},Mb={class:"modal-content"},Vb=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ab={class:"modal-footer"},Eb=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Tb={__name:"MenuList",setup(o){const k=`${fe().name}`,_=he(),n=d({data:[]}),c=d({data:[]}),p=d(!1),w=d(!1);d();const E=d(!0),l=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),T=me();d(null);const b=d(),u=(M=1)=>{p.value=!0,A.get(`/api/menulist?page=${M}`,{params:{query:C.value}}).then(h=>{p.value=!1,n.value=h.data,F.value=[],de.value=!1})},m=()=>{A.get("/api/GetParentId").then(M=>{c.value=M.data}).catch(M=>{console.error(M)})};xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()});const x=M=>{l.is_active=M?1:0},Y=({resetForm:M,setErrors:h})=>{A.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(f=>{n.value.data.unshift(f.data),$("#FormModal").modal("hide"),M(),_.success("User created successfully!")}).catch(f=>{f.response.data.errors&&h(f.response.data.errors)})},O=()=>{w.value=!1,$("#FormModal").modal("show")},W=M=>{w.value=!0,l.menu_id=M.menu_id,l.menu_title=M.menu_title,l.parent_id=M.parent_id,l.menu_icon=M.menu_icon,l.menu_route=M.menu_route,l.sort_order=M.sort_order,l.is_active===1?E.value=!0:E.value=!1,l.is_active=M.is_active,$("#FormModal").modal("show"),b.value=M.parent_id},K=({setErrors:M})=>{A.post("/api/menulist",l).then(h=>{u(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(h=>{M(h.response.data.errors),console.log(h)})},j=(M,h)=>{w.value?K(M):Y(M)},C=d(null),F=d([]),i=M=>{const h=F.value.indexOf(M.id);h===-1?F.value.push(M.id):F.value.splice(h,1),console.log(F.value)},P=d(null),H=M=>{P.value=M,$("#deleteClientModal").modal("show")},ae=()=>{A.delete(`/api/menu/${P.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),n.value.data=n.value.data.filter(M=>M.menu_id!==P.value)})},Z=()=>{A.delete("menulist",{data:{ids:F.value}}).then(M=>{n.value.data=n.value.data.filter(h=>!F.value.includes(h.id)),F.value=[],de.value=!1,_.success(M.data.message)})},de=d(!1),pe=()=>{de.value?F.value=n.value.data.map(M=>M.id):F.value=[],console.log(F.value)};return be([E],M=>{l.is_active=M?1:0}),be(C,Te.exports.debounce(()=>{u()},300)),_e(()=>{u(),m(),document.title=k}),(M,h)=>{const f=$e("font");return t(),a(R,null,[e("div",Cv,[e("div",Sv,[e("div",Dv,[e("div",Uv,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary"},[Mv,V(" Menu ")]),F.value.length>0?(t(),a("div",Vv,[e("button",{onClick:Z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Av,V(" Delete Selected ")]),e("span",Ev,"Selected "+s(F.value.length)+" Menu",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=g=>C.value=g),class:"form-control",placeholder:"Search..."},null,512),[[ue,C.value]])])]),e("div",Tv,[e("div",Lv,[p.value?(t(),ce(Ee,{key:0})):L("",!0),e("div",Pv,[y(f,{size:"2"},{default:X(()=>[e("table",Fv,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=g=>de.value=g),onChange:pe},null,544),[[Ve,de.value]])]),Iv,qv,Yv,Nv,Bv,Rv,Hv,jv,Ov])]),n.value.data.length>0?(t(),a("tbody",zv,[(t(!0),a(R,null,Q(n.value.data,(g,z)=>(t(),ce(wv,{key:g.id,item:g,index:z,onEditMenu:W,onConfirmDeletion:H,onToggleSelection:i,"select-all":de.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Gv,Wv))])]),_:1})])])]),y(r(Ie),{data:n.value,onPaginationChangePage:u},null,8,["data"])])]),e("div",Kv,[e("div",Xv,[e("div",Jv,[e("div",Zv,[e("h5",eb,[w.value?(t(),a("span",tb,"Edit Menu")):(t(),a("span",sb,"Add Menu"))]),ab]),y(r(De),{onSubmit:j},{default:X(({errors:g})=>[e("div",ob,[e("div",lb,[e("div",nb,[e("div",db,[y(r(B),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(T).user.id,"onUpdate:modelValue":h[2]||(h[2]=z=>r(T).user.id=z)},null,8,["modelValue"]),e("div",ib,[cb,y(r(B),{name:"menu_title",type:"text",class:D(["form-control",{"is-invalid":g.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":h[3]||(h[3]=z=>l.menu_title=z)},null,8,["class","modelValue"]),e("span",rb,s(g.menu_title),1)]),e("div",ub,[_b,J(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":h[4]||(h[4]=z=>l.parent_id=z)},[mb,(t(!0),a(R,null,Q(c.value,z=>(t(),a("option",{key:z.menu_id,value:z.menu_id},s(z.menu_title),9,hb))),128))],512),[[Le,l.parent_id]])]),e("div",pb,[vb,y(r(B),{name:"menu_icon",type:"text",class:D(["form-control",{"is-invalid":g.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":h[5]||(h[5]=z=>l.menu_icon=z)},null,8,["class","modelValue"]),e("span",bb,s(g.menu_icon),1)]),e("div",fb,[$b,y(r(B),{name:"menu_route",type:"text",class:D(["form-control",{"is-invalid":g.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":h[6]||(h[6]=z=>l.menu_route=z)},null,8,["class","modelValue"]),e("span",gb,s(g.menu_route),1)]),e("div",yb,[kb,y(r(B),{name:"sort_order",type:"text",class:D(["form-control",{"is-invalid":g.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":h[7]||(h[7]=z=>l.sort_order=z)},null,8,["class","modelValue"]),e("span",xb,s(g.sort_order),1)]),e("div",wb,[Cb,J(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":h[8]||(h[8]=z=>E.value=z),onChange:x},null,544),[[Ve,E.value]])])])])])]),Sb]),_:1})])])]),e("div",Db,[e("div",Ub,[e("div",Mb,[Vb,e("div",Ab,[Eb,e("button",{onClick:le(ae,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Lb={class:"error-page"},Pb=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),Fb=[Pb],Ib="Page Not Found",st={__name:"404",setup(o){return _e(()=>{document.title=Ib}),(k,_)=>(t(),a("div",Lb,Fb))}};const oe=o=>(Ue("data-v-18d1690e"),o=o(),Me(),o),qb={id:"exportPDF"},Yb={class:"container"},Nb=oe(()=>e("br",null,null,-1)),Bb={class:"header"},Rb=["src"],Hb=["src"],jb={class:"header"},Ob={class:"header-justify-space-between"},zb=oe(()=>e("br",null,null,-1)),Gb=oe(()=>e("p",null,null,-1)),Qb={key:0},Wb=oe(()=>e("strong",null,null,-1)),Kb=oe(()=>e("br",null,null,-1)),Xb=oe(()=>e("br",null,null,-1)),Jb=oe(()=>e("p",null,null,-1)),Zb=oe(()=>e("strong",null,"Unit details",-1)),e1={class:"content"},t1={class:"header-justify-space-between"},s1=oe(()=>e("span",null,"Brand:",-1)),a1=oe(()=>e("br",null,null,-1)),o1=oe(()=>e("span",null,"Model:",-1)),l1=oe(()=>e("br",null,null,-1)),n1=oe(()=>e("div",null,null,-1)),d1=oe(()=>e("span",null,"Serial #:",-1)),i1=oe(()=>e("br",null,null,-1)),c1=oe(()=>e("span",null,"Asset Tag:",-1)),r1=oe(()=>e("br",null,null,-1)),u1=oe(()=>e("div",null,null,-1)),_1=oe(()=>e("strong",null,"Reported problem",-1)),m1={class:"content"},h1=oe(()=>e("strong",null,"Assessment conducted",-1)),p1={class:"content"},v1=oe(()=>e("strong",null,"Recommendation",-1)),b1={class:"content"},f1={class:"header-justify-space-between"},$1=oe(()=>e("strong",null,"Evaluated by:",-1)),g1=oe(()=>e("br",null,null,-1)),y1={class:"botoom-line"},k1=oe(()=>e("br",null,null,-1)),x1=oe(()=>e("p",null,null,-1)),w1=oe(()=>e("strong",null,"Noted by:",-1)),C1=oe(()=>e("br",null,null,-1)),S1={class:"botoom-line"},D1=oe(()=>e("br",null,null,-1)),U1=oe(()=>e("br",null,null,-1)),M1=oe(()=>e("p",null,null,-1)),V1={key:0},A1={key:1},E1={key:0,class:"fab-container"},T1=oe(()=>e("i",{class:"fas fa-download"},null,-1)),L1=[T1],P1={__name:"TechRecommApprove",setup(o){const k=`${fe().params.id}`,_=()=>{const p=document.getElementById("exportPDF");et().from(p).save(`${k}.pdf`)},n=Ae({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),c=()=>{A.get(`/api/tech-recommendations/${fe().params.id}`).then(p=>{n.id=p.data.id,n.recommnum=p.data.recommnum,n.branch=p.data.branch,n.company=p.data.company,n.department=p.data.department,n.warehouse=p.data.warehouse,n.user=p.data.user,n.problem=p.data.problem,n.brand=p.data.brand,n.model=p.data.model,n.assettag=p.data.assettag,n.serialnum=p.data.serialnum,n.status=p.data.status,n.assconducted=p.data.assconducted,n.recommendation=p.data.recommendation,n.createdby=p.data.createdby.cfull_name,n.updatedby=p.data.updatedby.ufull_name,n.created_at=ve(p.data.created_at).format("MMMM D, YYYY"),n.updated_at=ve(p.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),n.created_position=p.data.createdby.cposition,n.updated_position=p.data.updatedby.uposition}).catch(p=>{actions.setErrors(p.response.data.errors)})};return _e(()=>{c(),document.title=k}),(p,w)=>(t(),a(R,null,[e("div",qb,[e("div",Yb,[Nb,e("div",Bb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,Rb),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,Hb)]),e("div",jb,[e("span",null,[V("Recommendation No: "),e("strong",null,s(n.recommnum),1)]),e("span",null,[V("Date Checked: "),e("strong",null,s(n.created_at),1)])]),e("div",Ob,[e("div",null,[e("span",null,[V("Company: "),e("strong",null,s(n.company),1)]),zb,e("span",null,[V("Branch: "),e("strong",null,s(n.branch),1)])]),Gb,e("div",null,[n.warehouse==""?(t(),a("span",Qb,[V("Warehouse: "),Wb,V(s(n.warehouse),1)])):L("",!0),Kb,e("span",null,[V("User: "),e("strong",null,s(n.user),1)]),Xb,e("span",null,[V("Department: "),e("strong",null,s(n.department),1)])]),Jb]),Zb,e("div",e1,[e("div",t1,[e("div",null,[s1,e("strong",null,s(n.brand),1),a1,o1,e("strong",null,s(n.model),1),l1]),n1,e("div",null,[d1,e("strong",null,s(n.serialnum),1),i1,c1,e("strong",null,s(n.assettag),1),r1]),u1])]),_1,e("div",m1,[e("p",null,s(n.problem),1)]),h1,e("div",p1,[e("p",null,s(n.assconducted),1)]),v1,e("div",b1,[e("p",null,s(n.recommendation),1)]),e("div",f1,[e("div",null,[$1,g1,e("span",y1,s(n.createdby),1),k1,e("span",null,s(n.created_position),1)]),x1,e("div",null,[w1,C1,e("span",S1,s(n.updatedby),1),D1,e("span",null,s(n.updated_position),1),U1]),M1]),n.status===2?(t(),a("span",V1,"Approved date:("+s(n.updated_at)+")",1)):(t(),a("span",A1,"Pending"))])]),n.status===2?(t(),a("div",E1,[e("div",{class:"button iconbutton bg-success",onClick:w[0]||(w[0]=E=>_())},L1)])):L("",!0)],64))}};var at=ge(P1,[["__scopeId","data-v-18d1690e"]]);const F1={},I1={class:"card mx-auto",style:{"max-width":"600px"}},q1=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),Y1={class:"card-body"},N1={class:"list-unstyled"};function B1(o,k){return t(),a("div",I1,[q1,e("div",Y1,[e("ul",N1,[e("li",{class:"nav-item dropdown",onClick:k[0]||(k[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var R1=ge(F1,[["render",B1]]);const H1=["checked"],j1={class:"text-center"},O1={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:k}){he(),me();const _=o,n=k,c=()=>{n("toggleSelection",_.item)};return(p,w)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:c},null,40,H1)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.site_name),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.created_by),1),e("td",null,s(o.item.created_at),1),e("td",null,s(o.item.updated_by),1),e("td",j1,[e("i",{class:"fa fa-eye text-success",onClick:w[0]||(w[0]=le(E=>p.$emit("viewData",o.item),["prevent"]))}),V(" \xA0 "),e("i",{class:"fa fa-edit text-primary",onClick:w[1]||(w[1]=le(E=>p.$emit("editData",o.item),["prevent"]))}),V(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:w[2]||(w[2]=le(E=>p.$emit("confirmDeletion",o.item.id),["prevent"]))})])]))}};var z1=ge(O1,[["__scopeId","data-v-39060f42"]]);const G1={class:"content"},Q1={class:"container-fluid"},W1={class:"d-flex justify-content-between"},K1={class:"d-flex"},X1=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),J1={key:0},Z1=e("i",{class:"fa fa-trash mr-1"},null,-1),ef={class:"ml-2"},tf={class:"card"},sf={class:"card-body"},af={class:"table-responsive"},of={class:"table table-bordered table-sm table-striped hover"},lf=e("th",{style:{width:"10px"}},"#",-1),nf=e("th",null,"Site",-1),df=e("th",null,"Asset",-1),cf=e("th",null,"Asset type",-1),rf=e("th",null,"Serial",-1),uf=e("th",null,"Date Aquired",-1),_f=e("th",null,"Supplier",-1),mf=e("th",null,"Unit",-1),hf=e("th",null,"Createdby",-1),pf=e("th",null,"CreatedAt",-1),vf=e("th",null,"Updatedby",-1),bf=e("th",null,"Action",-1),ff={key:0},$f={key:1},gf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),yf=[gf],kf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xf={class:"modal-dialog modal-lg",role:"document"},wf={class:"modal-content"},Cf={class:"modal-header"},Sf={class:"modal-title",id:"staticBackdropLabel"},Df={key:0},Uf={key:1},Mf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Vf={class:"modal-body"},Af={class:"col-md-12"},Ef={class:"row"},Tf={class:"col-6"},Lf={class:"form-group"},Pf=e("label",{for:"branch"},"Site",-1),Ff=e("option",{value:"",disabled:""}," Select Site ",-1),If=["value"],qf={class:"invalid-feedback"},Yf={class:"form-group"},Nf=e("label",{for:"department"},"Asset Name",-1),Bf={class:"invalid-feedback"},Rf={class:"form-group"},Hf=e("label",{for:"asset_type"},"Asset Type",-1),jf={class:"invalid-feedback"},Of={class:"form-group"},zf=e("label",{for:"serial"},"Serial #:",-1),Gf={class:"invalid-feedback"},Qf={class:"col-6"},Wf={class:"form-group"},Kf=e("label",{for:"date_acquired"},"Date Acquired",-1),Xf={class:"invalid-feedback"},Jf={class:"form-group"},Zf=e("label",{for:"man_supplier"},"Brand",-1),e$={class:"invalid-feedback"},t$={class:"form-group"},s$=e("label",{for:"unit"},"Unit",-1),a$={class:"invalid-feedback"},o$={class:"row"},l$={class:"col-6"},n$={class:"form-group"},d$=e("label",{for:"location"},"location",-1),i$={class:"invalid-feedback"},c$={class:"form-group"},r$=e("label",{for:"paccountable"},"Person Accountable",-1),u$={class:"invalid-feedback"},_$={class:"col-6"},m$={class:"form-group"},h$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),p$={class:"invalid-feedback"},v$={class:"row"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"cucodition"},"Current Condition",-1),g$=e("option",{value:"",disabled:""}," Select Condition ",-1),y$=e("option",{value:"Fair"}," FAIR ",-1),k$=e("option",{value:"Good"}," GOOD ",-1),x$=e("option",{value:"Damange"}," DAMANGE ",-1),w$={class:"invalid-feedback"},C$={class:"form-group"},S$=e("label",{for:"mentenancenotes"},"Maintenance Notes",-1),D$={class:"col-6"},U$={class:"form-group"},M$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),V$={class:"form-group"},A$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),E$={class:"row"},T$={class:"col-6"},L$={class:"form-group"},P$=e("label",{for:"operationhours"},"Operating Hours",-1),F$={class:"col-6"},I$={class:"form-group"},q$=e("label",{for:"notes"},"Notes",-1),Y$={class:"invalid-feedback"},N$={class:"row"},B$={class:"col-6"},R$={class:"form-group"},H$=e("label",{for:"purchasecost"},"Purchase Cost",-1),j$={class:"col-6"},O$={class:"form-group"},z$=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),G$={class:"invalid-feedback"},Q$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),W$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K$={class:"modal-dialog",role:"document"},X$={class:"modal-content"},J$=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Z$={class:"modal-footer"},eg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),tg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},sg={class:"modal-dialog",role:"document"},ag={class:"modal-content"},og=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),lg={class:"modal-body"},ng={class:"d-flex justify-content-between"},dg={class:"mb-3"},ig={class:"row"},cg={class:"col-md-12"},rg=e("br",null,null,-1),ug=e("br",null,null,-1),_g=e("br",null,null,-1),mg=e("br",null,null,-1),hg=e("br",null,null,-1),pg={class:"col-md-12"},vg=e("br",null,null,-1),bg=e("br",null,null,-1),fg=e("br",null,null,-1),$g=e("br",null,null,-1),gg=e("br",null,null,-1),yg=e("br",null,null,-1),kg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),xg={__name:"AssetmList",setup(o){me();const k=`${fe().name}`,_=he(),n=d({data:[]});d({data:[]});const c=d(!1),p=d(!1),w=d(),E=d(!0),l=Ae({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:""});d(null),d();const T=d(),b=(h=1)=>{c.value=!0,A.get(`/web/asset-monitoring?page=${h}`,{params:{query:F.value}}).then(f=>{c.value=!1,n.value=f.data,i.value=[],pe.value=!1})},u=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),m=xe({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),x=()=>{A.post("/web/asset-monitoring",l).then(h=>{$("#FormModal").modal("hide"),b(),_.success(h.data.message)}).catch(h=>{_.error(h.data.message)})},Y=()=>{p.value=!1},O=h=>{l.site_name=h.site_name,l.id=h.id,l.site_id=h.site_id,l.asset_name=h.asset_name,l.asset_type=h.asset_type,l.serial=h.serial,l.date_acquired=h.date_acquired,l.man_supplier=h.man_supplier,l.unit=h.unit,l.location=h.location,l.paccountable=h.paccountable,l.locationchangetranfer=h.locationchangetranfer,l.cucodition=h.cucodition,l.maintenancenotes=h.maintenancenotes,l.ceated_by=h.ceated_by,l.updated_by=h.updated_by,$("#ViewRecodeModal").modal("show")},W=h=>{p.value=!0,l.id=h.id,l.site_id=h.site_id,l.asset_name=h.asset_name,l.asset_type=h.asset_type,l.serial=h.serial,l.date_acquired=h.date_acquired,l.man_supplier=h.man_supplier,l.unit=h.unit,l.location=h.location,l.paccountable=h.paccountable,l.locationchangetranfer=h.locationchangetranfer,l.cucodition=h.cucodition,l.maintenancenotes=h.maintenancenotes,l.ceated_by=h.ceated_by,l.updated_by=h.updated_by,$("#FormModal").modal("show")},K=({setErrors:h})=>{A.post("/web/asset-monitoring",l).then(f=>{b(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(f=>{h(f.response.data.errors),console.log(f)})},j=(h,f)=>{p.value?K(h):x()},C=()=>{A.get("/web/getsite").then(h=>{T.value=h.data.sites}).catch(h=>{console.log(h)})},F=d(null),i=d([]),P=h=>{const f=i.value.indexOf(h.id);f===-1?i.value.push(h.id):i.value.splice(f,1),console.log(i.value)},H=d(null),ae=h=>{H.value=h,$("#deleteClientModal").modal("show")},Z=()=>{A.delete(`/web/asset-monitoring/${H.value}`).then(h=>{$("#deleteClientModal").modal("hide"),_.success(h.data.message),b()})},de=()=>{A.delete("/web/bulkDeleteAsset",{data:{ids:i.value}}).then(h=>{n.value.data=n.value.data.filter(f=>!i.value.includes(f.id)),i.value=[],pe.value=!1,_.success(h.data.message)})},pe=d(!1),M=()=>{pe.value?i.value=n.value.data.map(h=>h.id):i.value=[],console.log(i.value)};return be([E],h=>{l.is_active=h?1:0}),be(F,Te.exports.debounce(()=>{b()},300)),_e(()=>{b(),C(),document.title=k}),(h,f)=>{const g=$e("font"),z=$e("tab-content"),ie=$e("form-wizard");return t(),a(R,null,[e("div",G1,[e("div",Q1,[e("div",W1,[e("div",K1,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[X1,V(" Asset ")]),i.value.length>0?(t(),a("div",J1,[e("button",{onClick:de,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Z1,V(" Delete Selected ")]),e("span",ef,"Selected "+s(i.value.length)+" Record",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=S=>F.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ue,F.value]])])]),e("div",tf,[e("div",sf,[c.value?(t(),ce(Ee,{key:0})):L("",!0),e("div",af,[y(g,{size:"2"},{default:X(()=>[e("table",of,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=S=>pe.value=S),onChange:M},null,544),[[Ve,pe.value]])]),lf,nf,df,cf,rf,uf,_f,mf,hf,pf,vf,bf])]),n.value.data.length>0?(t(),a("tbody",ff,[(t(!0),a(R,null,Q(n.value.data,(S,U)=>(t(),ce(z1,{key:S.id,item:S,index:U,onViewData:O,onEditData:W,onConfirmDeletion:ae,onToggleSelection:P,"select-all":pe.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",$f,yf))])]),_:1})])])]),y(r(Ie),{data:n.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",kf,[e("div",xf,[e("div",wf,[e("div",Cf,[e("h5",Sf,[p.value?(t(),a("span",Df,"Edit Asset")):(t(),a("span",Uf,"Add Asset"))]),Mf]),y(r(De),{onSubmit:j,"validation-schema":p.value?r(m):r(u),"initial-values":w.value},{default:X(({errors:S})=>[e("div",Vf,[e("div",Af,[y(ie,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:X(()=>[y(z,{title:"Asset Information",icon:"fas fa-book"},{default:X(()=>[e("div",Ef,[e("div",Tf,[e("div",Lf,[Pf,y(r(B),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":S.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":f[2]||(f[2]=U=>l.site_id=U)},{default:X(()=>[Ff,(t(!0),a(R,null,Q(T.value,U=>(t(),a("option",{key:U.id,value:U.id},s(U.site_name),9,If))),128))]),_:2},1032,["class","modelValue"]),e("span",qf,s(S.branch),1)]),e("div",Yf,[Nf,y(r(B),{name:"asset_name",type:"text",class:D(["form-control",{"is-invalid":S.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":f[3]||(f[3]=U=>l.asset_name=U)},null,8,["class","modelValue"]),e("span",Bf,s(S.asset_name),1)]),e("div",Rf,[Hf,y(r(B),{name:"asset_type",type:"text",class:D(["form-control",{"is-invalid":S.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":f[4]||(f[4]=U=>l.asset_type=U)},null,8,["class","modelValue"]),e("span",jf,s(S.asset_type),1)]),e("div",Of,[zf,y(r(B),{name:"serial",type:"text",class:D(["form-control",{"is-invalid":S.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":f[5]||(f[5]=U=>l.serial=U)},null,8,["class","modelValue"]),e("span",Gf,s(S.serial),1)])]),e("div",Qf,[e("div",Wf,[Kf,y(r(B),{name:"date_acquired",type:"date",class:D(["form-control",{"is-invalid":S.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":f[6]||(f[6]=U=>l.date_acquired=U)},null,8,["class","modelValue"]),e("span",Xf,s(S.date_acquired),1)]),e("div",Jf,[Zf,y(r(B),{name:"man_supplier",type:"text",class:D(["form-control",{"is-invalid":S.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":f[7]||(f[7]=U=>l.man_supplier=U)},null,8,["class","modelValue"]),e("span",e$,s(S.man_supplier),1)]),e("div",t$,[s$,y(r(B),{name:"unit",type:"number",class:D(["form-control",{"is-invalid":S.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":f[8]||(f[8]=U=>l.unit=U)},null,8,["class","modelValue"]),e("span",a$,s(S.unit),1)])])])]),_:2},1024),y(z,{title:"Asset Allocation",icon:"fa fa-map"},{default:X(()=>[e("div",o$,[e("div",l$,[e("div",n$,[d$,y(r(B),{name:"location",type:"text",class:D(["form-control",{"is-invalid":S.location}]),id:"location","aria-describedby":"nameHelp",placeholder:"Enter location",modelValue:l.location,"onUpdate:modelValue":f[9]||(f[9]=U=>l.location=U)},null,8,["class","modelValue"]),e("span",i$,s(S.location),1)]),e("div",c$,[r$,y(r(B),{name:"paccountable",type:"text",class:D(["form-control",{"is-invalid":S.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":f[10]||(f[10]=U=>l.paccountable=U)},null,8,["class","modelValue"]),e("span",u$,s(S.paccountable),1)])]),e("div",_$,[e("div",m$,[h$,y(r(B),{name:"locationchangetranfer",type:"text",class:D(["form-control",{"is-invalid":S.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":f[11]||(f[11]=U=>l.locationchangetranfer=U)},null,8,["class","modelValue"]),e("span",p$,s(S.locationchangetranfer),1)])])])]),_:2},1024),y(z,{title:"Asset Condition"},{default:X(()=>[e("div",v$,[e("div",b$,[e("div",f$,[$$,y(r(B),{as:"select",name:"cucodition",class:D(["form-control",{"is-invalid":S.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":f[12]||(f[12]=U=>l.cucodition=U)},{default:X(()=>[g$,y$,k$,x$]),_:2},1032,["class","modelValue"]),e("span",w$,s(S.cucodition),1)]),e("div",C$,[S$,y(r(B),{name:"mentenancenotes",as:"textarea",class:D(["form-control",{"is-invalid":S.mentenancenotes}]),id:"mentenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.mentenancenotes,"onUpdate:modelValue":f[13]||(f[13]=U=>l.mentenancenotes=U)},null,8,["class","modelValue"])])]),e("div",D$,[e("div",U$,[M$,y(r(B),{name:"lastmaintenance",type:"date",class:D(["form-control",{"is-invalid":S.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":f[14]||(f[14]=U=>l.lastmaintenance=U)},null,8,["class","modelValue"])]),e("div",V$,[A$,y(r(B),{name:"nextmaintenance",type:"date",class:D(["form-control",{"is-invalid":S.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":f[15]||(f[15]=U=>l.nextmaintenance=U)},null,8,["class","modelValue"])])])])]),_:2},1024),y(z,{title:"Utilization & Ussage"},{default:X(()=>[e("div",E$,[e("div",T$,[e("div",L$,[P$,y(r(B),{name:"operationhours",type:"number",class:D(["form-control",{"is-invalid":S.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":f[16]||(f[16]=U=>l.operationhours=U)},null,8,["class","modelValue"])])]),e("div",F$,[e("div",I$,[q$,y(r(B),{name:"notes",as:"textarea",class:D(["form-control",{"is-invalid":S.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":f[17]||(f[17]=U=>l.notes=U)},null,8,["class","modelValue"]),e("span",Y$,s(S.notes),1)])])])]),_:2},1024),y(z,{title:"Financial Information",icon:"fas fa-receipt"},{default:X(()=>[e("div",N$,[e("div",B$,[e("div",R$,[H$,y(r(B),{name:"purchasecost",type:"number",class:D(["form-control",{"is-invalid":S.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":f[18]||(f[18]=U=>l.purchasecost=U)},null,8,["class","modelValue"])])]),e("div",j$,[e("div",O$,[z$,y(r(B),{name:"insurancewarrantyinfo",as:"textarea",class:D(["form-control",{"is-invalid":S.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":f[19]||(f[19]=U=>l.insurancewarrantyinfo=U)},null,8,["class","modelValue"]),e("span",G$,s(S.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Q$]),_:1},8,["validation-schema","initial-values"])])])]),e("div",W$,[e("div",K$,[e("div",X$,[J$,e("div",Z$,[eg,e("button",{onClick:le(Z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",tg,[e("div",sg,[e("div",ag,[og,e("div",lg,[e("div",ng,[e("div",dg,[e("div",ig,[e("div",cg,[e("p",null,[V(" Site: "+s(l.site_name),1),rg,V(" Asset Name: "+s(l.asset_name),1),ug,V(" Asset Type: "+s(l.asset_type),1),_g,V(" Serial: "+s(l.serial),1),mg,V(" Date Acquired: "+s(l.date_acquired),1),hg])]),e("div",pg,[e("p",null,[V(" Brand: "+s(l.man_supplier),1),vg,V(" Unit: "+s(l.unit),1),bg,V(" Person Accountability: "+s(l.paccountable),1),fg,V(" Location Transfer: "+s(l.locationchangetranfer),1),$g,V(" Condition: "+s(l.condition),1),gg,V(" Maintenance Note: "+s(l.maintenancenotes),1),yg])])])])])]),kg])])])],64)}}};const ne=o=>(Ue("data-v-773b13bb"),o=o(),Me(),o),wg={class:"content"},Cg={class:"container-fluid"},Sg={class:"d-flex justify-content-between"},Dg={class:"d-flex"},Ug=ne(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Mg={key:0},Vg=ne(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),Ag={class:"ml-2"},Eg={class:"card"},Tg={class:"card-header"},Lg={class:"card-title"},Pg={class:"form-group",style:{display:"inline-block"}},Fg=ne(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Ig=["value"],qg={class:"card-tools"},Yg=ne(()=>e("div",null,null,-1)),Ng={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Bg=ne(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Rg={class:"card-body"},Hg={key:1,class:"table-responsive"},jg={class:"table table-bordered table-sm table-striped table-hover"},Og=ne(()=>e("th",null,null,-1)),zg=ne(()=>e("th",null,"Date",-1)),Gg=ne(()=>e("th",null,"Allocated Pallet Space",-1)),Qg=ne(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Wg=ne(()=>e("th",null,"Space Utilization %",-1)),Kg=ne(()=>e("th",null,"Excess",-1)),Xg={key:0},Jg={key:1},Zg=ne(()=>e("th",null,"Remarks",-1)),ey=ne(()=>e("th",null,"Action",-1)),ty={key:0},sy=["item","index"],ay=["checked"],oy={key:0},ly={key:1},ny=["onClick"],dy=ne(()=>e("i",{class:"fa fa-edit"},null,-1)),iy=[dy],cy={key:0},ry=ne(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),uy={colspan:"3"},_y={key:1},my=ne(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),hy=[my],py={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vy={class:"modal-dialog modal-sm",role:"document"},by={class:"modal-content"},fy={class:"modal-header"},$y={class:"modal-title",id:"staticBackdropLabel"},gy={key:0},yy={key:1},ky=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),xy={class:"modal-body"},wy={class:"col-md-12"},Cy={class:"row"},Sy={class:"col-12"},Dy={class:"form-group"},Uy=ne(()=>e("label",{for:"date"},"Date",-1)),My={class:"invalid-feedback"},Vy={class:"form-group"},Ay=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),Ey={class:"invalid-feedback"},Ty={class:"form-group"},Ly=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),Py={class:"invalid-feedback"},Fy={class:"form-group"},Iy=ne(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),qy={class:"invalid-feedback"},Yy=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),Ny={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},By={class:"modal-dialog",role:"document"},Ry={class:"modal-content"},Hy=we('<div class="modal-header" data-v-773b13bb><h5 class="modal-title" id="staticBackdropLabel" data-v-773b13bb><span data-v-773b13bb>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-773b13bb><span aria-hidden="true" data-v-773b13bb>\xD7</span></button></div><div class="modal-body" data-v-773b13bb><h5 data-v-773b13bb>Are you sure you want to delete this record ?</h5></div>',2),jy={class:"modal-footer"},Oy=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),zy={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gy={class:"modal-dialog modal-sm",role:"document"},Qy={class:"modal-content"},Wy=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Ky={class:"modal-body"},Xy={class:"fromtocenter"},Jy=ne(()=>e("label",{for:"fromDate"},"From:",-1)),Zy=ne(()=>e("label",{for:"toDate"},"To:",-1)),e2={class:"modal-footer"},t2=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),s2={__name:"PalletList",setup(o){const k=Je("$swal"),_=`${fe().name}`,n=he(),c=d({data:[]}),p=d(),w=d(!1),E=d(!1),l=me(),T=d(!0),b=d(!0),u=Ae({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});d(null);const m=d(),x=()=>{w.value=!0,A.get("/web/pallet",{params:{site_id:u.site_id,query:M.value}}).then(G=>{w.value=!1,c.value=G.data.data,m.value=G.data.sum,h.value=[],U.value=!1})},Y=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),O=xe({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),W=d(""),K=d(""),j=d({start_date:"",end_date:""});be([W],()=>{const G=new Date(W.value),te=G.getFullYear(),ke=String(G.getMonth()+1).padStart(2,"0"),ee=String(G.getDate()).padStart(2,"0");j.value.start_date=`${te}-${ke}-${ee}`}),be([K],()=>{const G=new Date(K.value),te=G.getFullYear(),ke=String(G.getMonth()+1).padStart(2,"0"),ee=String(G.getDate()).padStart(2,"0");j.value.end_date=`${te}-${ke}-${ee}`});const C=()=>{w.value=!0,A.get("/web/filter-pallet",{params:{start_date:j.value.start_date,end_date:j.value.end_date,site_id:u.site_id}}).then(G=>{w.value=!1,c.value=G.data.data,m.value=G.data.sum}).catch(G=>{console.error(G)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},F=()=>{u.id="",u.user_id=l.user.id,u.date="",u.allocatedpalletspace="",u.spaceuteltotal="",u.caseperpallet=""},i=({resetForm:G,setErrors:te})=>{A.post("/web/pallet",{site_id:u.site_id,user_id:u.user_id,date:u.date,allocatedpalletspace:u.allocatedpalletspace,spaceuteltotal:u.spaceuteltotal,caseperpallet:u.caseperpallet}).then(ke=>{x(),$("#FormModal").modal("hide"),F(),n.success("Data created successfully!")}).catch(function(ke){ke.response?n.error(ke.response.data.message):ke.request?n.error(ke.request):n.error("Error",ke.message)})},P=()=>{A.get("/web/getsite").then(G=>{p.value=G.data.sites}).catch(G=>{console.log(G)})},H=()=>{x(u.site_id)},ae=()=>{if(!u.site_id||u.site_id.length===0){k.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}E.value=!1,$("#FormModal").modal("show")},Z=G=>{E.value=!0,u.id=G.id,u.user_id=G.user_id,u.site_id=G.site_id,u.date=G.date,u.allocatedpalletspace=G.allocatedpalletspace,u.spaceuteltotal=G.spaceuteltotal,u.caseperpallet=G.caseperpallet,$("#FormModal").modal("show")},de=({setErrors:G})=>{A.post("/web/pallet",u).then(te=>{F(),x(),$("#FormModal").modal("hide"),n.success("successfully Updated!")}).catch(te=>{G(te.response.data.errors),console.log(te)})},pe=(G,te)=>{E.value?de(G):i(G)},M=d(null),h=d([]),f=G=>{const te=h.value.indexOf(G.id);te===-1?h.value.push(G.id):h.value.splice(te,1),console.log(h.value)},g=d(null),z=()=>{A.delete(`/web/pallet/${g.value}`).then(()=>{$("#deleteDataModal").modal("hide"),n.success("Pallet deleted successfully!"),c.value.data=c.value.data.filter(G=>G.id!==g.value)})},ie=()=>{A.delete("/web/bulkDeletePallet",{data:{ids:h.value}}).then(G=>{x(),h.value=[],U.value=!1,n.success(G.data.message)})},S=()=>{if(!u.site_id||u.site_id.length===0){k.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},U=d(!1);return be([b],G=>{u.is_active=G?1:0}),be(M,Te.exports.debounce(()=>{x()},300)),_e(()=>{P(),document.title=_}),(G,te)=>{const ke=$e("font");return t(),a(R,null,[e("div",wg,[e("div",Cg,[e("div",Sg,[e("div",Dg,[e("button",{onClick:ae,type:"button",class:"mb-2 btn btn-primary"},[Ug,V(" Pallet ")]),h.value.length>0?(t(),a("div",Mg,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Vg,V(" Delete Selected ")]),e("span",Ag,"Selected "+s(h.value.length)+" Pallet",1)])):L("",!0)])]),e("div",Eg,[e("div",Tg,[e("div",Lg,[e("div",Pg,[J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":te[0]||(te[0]=ee=>u.site_id=ee),onChange:te[1]||(te[1]=ee=>H())},[Fg,(t(!0),a(R,null,Q(p.value,ee=>(t(),a("option",{key:ee.id,value:ee.id},s(ee.site_name),9,Ig))),128))],544),[[Le,u.site_id]])])]),e("div",qg,[Yg,e("div",Ng,[J(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":te[2]||(te[2]=ee=>T.value=ee)},null,512),[[Ve,T.value]]),Bg,V("\xA0"),e("i",{class:"fa fa-filter mr-1",onClick:S})])])]),e("div",Rg,[w.value?(t(),ce(Ee,{key:0})):(t(),a("div",Hg,[y(ke,{size:"2"},{default:X(()=>[e("table",jg,[e("thead",null,[e("tr",null,[Og,zg,Gg,Qg,Wg,Kg,T.value?(t(),a("th",Xg,"Cost per Pallet")):L("",!0),T.value?(t(),a("th",Jg,"Cost")):L("",!0),Zg,ey])]),c.value.length>0?(t(),a("tbody",ty,[(t(!0),a(R,null,Q(c.value,(ee,Ce)=>(t(),a("tr",{key:ee.id,item:ee,index:Ce},[e("td",null,[e("input",{type:"checkbox",checked:U.value,onChange:f},null,40,ay)]),e("td",null,s(r(ve)(ee.date).format("MMMM DD, YY")),1),e("td",null,s(ee.allocatedpalletspace),1),e("td",null,s(ee.spaceuteltotal),1),e("td",null,s(ee.spacetotalutelpercent),1),e("td",null,s(ee.excess),1),T.value?(t(),a("td",oy,s(ee.caseperpallet),1)):L("",!0),T.value?(t(),a("td",ly,s(ee.cost),1)):L("",!0),e("td",null," EXCESS "+s(ee.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:Be=>Z(ee)},iy,8,ny)])],8,sy))),128)),T.value?(t(),a("tr",cy,[ry,e("td",uy,[e("b",null,s(m.value),1)])])):L("",!0)])):(t(),a("tbody",_y,hy))])]),_:1})]))])])])]),e("div",py,[e("div",vy,[e("div",by,[e("div",fy,[e("h5",$y,[E.value?(t(),a("span",gy,"Edit Pallet")):(t(),a("span",yy,"Add Pallet"))]),ky]),y(r(De),{onSubmit:pe,"validation-schema":E.value?r(O):r(Y)},{default:X(({errors:ee})=>[e("div",xy,[e("div",wy,[e("div",Cy,[e("div",Sy,[y(r(B),{modelValue:u.user_id,"onUpdate:modelValue":te[3]||(te[3]=Ce=>u.user_id=Ce),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Dy,[Uy,y(r(B),{name:"date",type:"date",class:D(["form-control",{"is-invalid":ee.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:u.date,"onUpdate:modelValue":te[4]||(te[4]=Ce=>u.date=Ce)},null,8,["class","modelValue"]),e("span",My,s(ee.date),1)]),e("div",Vy,[Ay,y(r(B),{name:"allocatedpalletspace",type:"text",class:D(["form-control",{"is-invalid":ee.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:u.allocatedpalletspace,"onUpdate:modelValue":te[5]||(te[5]=Ce=>u.allocatedpalletspace=Ce)},null,8,["class","modelValue"]),e("span",Ey,s(ee.allocatedpalletspace),1)]),e("div",Ty,[Ly,y(r(B),{name:"spaceuteltotal",type:"text",class:D(["form-control",{"is-invalid":ee.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:u.spaceuteltotal,"onUpdate:modelValue":te[6]||(te[6]=Ce=>u.spaceuteltotal=Ce),required:""},null,8,["class","modelValue"]),e("span",Py,s(ee.spaceuteltotal),1)]),e("div",Fy,[Iy,y(r(B),{name:"caseperpallet",type:"text",class:D(["form-control",{"is-invalid":ee.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:u.caseperpallet,"onUpdate:modelValue":te[7]||(te[7]=Ce=>u.caseperpallet=Ce)},null,8,["class","modelValue"]),e("span",qy,s(ee.caseperpallet),1)])])])])]),Yy]),_:1},8,["validation-schema"])])])]),e("div",Ny,[e("div",By,[e("div",Ry,[Hy,e("div",jy,[Oy,e("button",{onClick:le(z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",zy,[e("div",Gy,[e("div",Qy,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(_)+" Report")]),Wy]),e("div",Ky,[e("div",Xy,[e("div",null,[Jy,y(r(Fe),{modelValue:W.value,"onUpdate:modelValue":te[8]||(te[8]=ee=>W.value=ee)},null,8,["modelValue"])]),e("div",null,[Zy,y(r(Fe),{modelValue:K.value,"onUpdate:modelValue":te[9]||(te[9]=ee=>K.value=ee)},null,8,["modelValue"])])])]),e("div",e2,[t2,e("button",{onClick:te[10]||(te[10]=ee=>C()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var a2=ge(s2,[["__scopeId","data-v-773b13bb"]]);const o2=o=>(Ue("data-v-298b68f9"),o=o(),Me(),o),l2={class:"content"},n2={class:"container-fluid"},d2={class:"row"},i2={class:"col-md-6"},c2={class:"card"},r2={class:"card-title"},u2={class:"form-group m-3"},_2=o2(()=>e("option",{value:"",disabled:""}," Select User ",-1)),m2=["value"],h2={class:"card-body"},p2={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},v2={class:"custom-control custom-checkbox"},b2=["value","id","checked"],f2=["for"],$2={class:"card-footer"},g2={__name:"UserSite",setup(o){me();const k=`${fe().name}`,_=he();d(!0);const n=Ae({user_id:""});d(null),d();const c=d(),p=d(),w=d([]),E=()=>{A.get("/api/users/userlist").then(u=>{p.value=u.data}).catch(u=>{console.log(u)})},l=u=>{u!==null?A.get(`/web/usersite/${u}`).then(m=>{c.value=m.data}).catch(m=>{console.error("Error fetching site data for user:",m)}):A.get("/web/getsitewithoutuser").then(m=>{c.value=m.data}).catch(m=>{console.error("Error fetching site data without user:",m)})},T=()=>{const u={user_id:n.user_id,site_id:w.value};console.log(u),A.post("/web/onSaveupdate",u).then(m=>{_.success("User Site Save successfully!")}).catch(m=>{setErrors(m.response.data.errors)})},b=u=>{l(u)};return _e(()=>{E(),l(),document.title=k}),(u,m)=>(t(),a("div",l2,[e("div",n2,[e("div",d2,[e("div",i2,[e("div",c2,[e("div",r2,[e("div",u2,[y(r(B),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:n.user_id,"onUpdate:modelValue":m[0]||(m[0]=x=>n.user_id=x),onChange:m[1]||(m[1]=x=>b(n.user_id))},{default:X(()=>[_2,(t(!0),a(R,null,Q(p.value,x=>(t(),a("option",{key:x.id,value:x.id},s(x.name),9,m2))),128))]),_:1},8,["modelValue"])])]),e("div",h2,[e("ul",p2,[(t(!0),a(R,null,Q(c.value,x=>(t(),a("li",{key:x.id,class:"list-group-item"},[e("div",v2,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":m[2]||(m[2]=Y=>w.value=Y),value:x.id,id:"site_id_"+x.id,checked:x.hasAccess},null,8,b2),[[Ve,w.value]]),e("label",{for:"site_id_"+x.id,class:"custom-control-label"},s(x.site_name),9,f2)])]))),128))]),e("div",$2,[e("button",{type:"button",onClick:m[3]||(m[3]=x=>T()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var y2=ge(g2,[["__scopeId","data-v-298b68f9"]]),k2=[{path:"/login",name:"admin.login",component:Yn},{path:"/dashboard",name:"Dashboard",component:Et},{path:"/appointments",name:"Appointments",component:Zt},{path:"/appointments/create",name:"Appointments",component:Ke},{path:"/appointments/:id/edit",name:"Appointments",component:Ke},{path:"/user",name:"User",component:Vo},{path:"/settings",name:"Setting",component:kl},{path:"/profile",name:"Profile",component:vn},{path:"/client",name:"Client",component:Id},{path:"/tech-recommendation",name:"Tech Recomm",component:Jc},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:K_},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:fp},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Ch},{path:"/usermenu",name:"User Menu",component:hv},{path:"/menu",name:"Menu",component:Tb},{path:"/:catchAll(.*)",name:"404 Error Page",component:st},{path:"/notifications",name:"Notifications",component:R1},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:at},{path:"/asset-monitoring",name:"Asset Monitoring",component:xg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:a2},{path:"/usersite",name:"User Site",component:y2}];const x2={class:"navbar-nav"},w2=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),C2={class:"nav-item d-none d-sm-inline-block"},S2={class:"navbar-nav ml-auto"},D2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),U2=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),M2={class:"nav-link","data-toggle":"dropdown",href:"#"},V2=e("i",{class:"far fa-bell"},null,-1),A2={class:"badge badge-warning navbar-badge"},E2={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},T2={class:"dropdown-header"},L2=e("div",{class:"dropdown-divider"},null,-1),P2=e("i",{class:"fas fa-envelope mr-2"},null,-1),F2={class:"float-right text-muted text-sm"},I2={key:1,class:"text-center text-muted py-3"},q2=e("div",{class:"dropdown-divider"},null,-1),Y2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),N2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),B2={__name:"AppNavbar",setup(o){const k=Re(),_=d([]),n=()=>{A.get("/api/notifications").then(c=>{_.value=c.data.notifications}).catch(c=>{console.error("Error fetching notifications",c)})};return _e(()=>{n()}),(c,p)=>{const w=$e("router-link");return t(),a("nav",{class:D(["main-header navbar navbar-expand",r(k).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",x2,[w2,e("li",C2,[e("a",{onClick:p[0]||(p[0]=le((...E)=>r(k).changeTheme&&r(k).changeTheme(...E),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:D(["far",r(k).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",S2,[D2,U2,e("li",{class:"nav-item dropdown",onClick:n},[e("a",M2,[V2,e("span",A2,s(_.value.length),1)]),e("div",E2,[e("span",T2,s(_.value.length)+" Notifications",1),L2,_.value.length>0?(t(!0),a(R,{key:0},Q(_.value,E=>(t(),a("a",{key:E.id,href:"#",class:"dropdown-item"},[P2,V(" "+s(E.data?E.data:"No message available")+" ",1),e("span",F2,s(r(ve)(E.created_at)),1)]))),128)):(t(),a("p",I2,"No new notifications")),q2,y(w,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:X(()=>[V("See All Notifications")]),_:1})])]),Y2,N2])],2)}}},R2={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},H2={href:"#",class:"brand-link"},j2=["src"],O2={class:"brand-text font-weight-light"},z2={class:"sidebar"},G2={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Q2={key:0,class:"image"},W2=["src"],K2={key:1,class:"image"},X2=["src"],J2=["src"],Z2={class:"info"},ek={href:"#",class:"d-block"},tk={class:"mt-2"},sk={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},ak={key:0,class:"right fas fa-angle-left"},ok={key:0,class:"nav nav-treeview"},lk={class:"nav-item"},nk={class:"nav-link"},dk=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),ik=e("p",null,"Logout",-1),ck=[dk,ik],rk={__name:"SidebarLeft",setup(o){const k=ze(),_=me(),n=Re(),c=d({data:[]}),p=()=>{axios.get("/api/menu").then(l=>{c.value=l.data}).catch(l=>{console.log(l)})},w=l=>l===k.currentRoute.value.path,E=()=>{axios.post("/logout").then(l=>{_.user.name="",k.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),p()}),(l,T)=>{const b=$e("router-link");return t(),a("aside",R2,[e("a",H2,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,j2),e("span",O2,s(r(n).setting.app_name),1)]),e("div",z2,[e("div",G2,[r(_).user.avatar===""?(t(),a("div",Q2,[e("img",{src:r(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,W2)])):r(_).user.avatar!==""?(t(),a("div",K2,[r(_).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,X2)):r(_).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,J2)):L("",!0)])):L("",!0),e("div",Z2,[e("a",ek,s(r(_).user.name),1)])]),e("nav",tk,[e("ul",sk,[(t(!0),a(R,null,Q(c.value,u=>(t(),a("li",{key:u.id,class:D({"nav-item":!0,"has-submenu":u.submenus&&u.submenus.length>0})},[y(b,{class:D({"nav-link":!0,active:w(u.menu_route)}),to:`${u.menu_route}`},{default:X(()=>[e("i",{class:D("nav-icon "+u.menu_icon)},null,2),e("p",null,s(u.menu_title),1),u.submenus&&u.submenus.length>0?(t(),a("i",ak)):L("",!0)]),_:2},1032,["class","to"]),u.submenus&&u.submenus.length>0?(t(),a("ul",ok,[(t(!0),a(R,null,Q(u.submenus,m=>(t(),a("li",{key:m.id,class:"nav-item"},[y(b,{class:D({"nav-link":!0,active:w(m.menu_route)}),to:m.menu_route},{default:X(()=>[e("i",{class:D("nav-icon "+m.menu_icon)},null,2),e("p",null,s(m.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):L("",!0)],2))),128)),e("li",lk,[e("form",nk,[e("a",{href:"#",onClick:le(E,["prevent"])},ck)])])])])])])}}},uk={},_k={class:"control-sidebar control-sidebar-dark"},mk=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),hk=[mk];function pk(o,k){return t(),a("aside",_k,hk)}var vk=ge(uk,[["render",pk]]);const bk={class:"main-footer"},fk={class:"float-right d-none d-sm-block"},$k={href:"#"},gk={__name:"AppFooter",props:{settings:Object},setup(o){const k=me(),_=d(new Date().getFullYear());return(n,c)=>{var p;return t(),a("footer",bk,[e("div",fk,s(r(k).user.name),1),e("strong",null,[V("Copyright \xA9 "+s(_.value)+" ",1),e("a",$k,s((p=o.settings)==null?void 0:p.app_name),1),V(".")]),V(" All rights reserved. ")])}}};const yk=o=>(Ue("data-v-36653638"),o=o(),Me(),o),kk={class:"content-wrapper"},xk={class:"content-header"},wk={class:"container-fluid"},Ck={class:"row mb-2"},Sk={class:"col-sm-6"},Dk={class:"m-0"},Uk={class:"col-sm-6"},Mk={class:"breadcrumb float-sm-right"},Vk=yk(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Ak={class:"breadcrumb-item active"},Ek={__name:"CustomMainLayout",setup(o){const k=me(),_=Re(),n=Pe(()=>_.theme==="dark"?"dark-mode":"");return(c,p)=>{const w=$e("router-view");return r(k).user.name!==""?(t(),a("div",{key:0,class:D(["wrapper",n.value])},[y(B2),y(rk),y(vk),e("div",kk,[e("section",xk,[e("div",wk,[e("div",Ck,[e("div",Sk,[e("h1",Dk,s(c.$route.name),1)]),e("div",Uk,[e("ol",Mk,[Vk,e("li",Ak,s(c.$route.name),1)])])])])]),y(w)]),y(gk)],2)):(t(),a("div",{key:1,class:D(["login-page slibg",n.value])},[y(w)],2))}}};var Tk=ge(Ek,[["__scopeId","data-v-36653638"]]);const Lk={__name:"App",setup(o){me();const k=fe(),_=Pe(()=>k.name==="Tech-Approved"),n=Pe(()=>k.name==="404 Error Page");return(c,p)=>(t(),a("div",null,[!n.value&&!_.value?(t(),ce(Tk,{key:0})):_.value?(t(),ce(at,{key:1})):(t(),ce(st,{key:2}))]))}};var Pk=ge(Lk,[["__scopeId","data-v-252b567e"]]);const Fk=ct(),Ne=mt(Pk),ot=rt({routes:k2,history:ut()});ot.beforeEach(async(o,k)=>{const _=me();if(_.user.name===""&&o.name!=="admin.login"){const n=Re();await Promise.all([_.getAuthUser(),n.getSetting()])}});Ne.use(Ct);Ne.use(Fk);Ne.use(ot);Ne.use(wt);Ne.use(et);Ne.mount("#app");
