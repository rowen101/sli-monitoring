import{_ as nt,l as Pe}from"./lodash.6f1dd969.js";import{a as V}from"./axios.82d3905a.js";import{a as dt}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.a377489c.js";import{d as Ke,c as it}from"./pinia.27c659f6.js";import{u as $e,a as Oe,c as ct,b as rt}from"./vue-router.4ee991d3.js";import{r as n,o as _e,i as a,k as e,x as s,_ as D,u as i,e as t,I as Fe,h as J,j as A,F as R,q as Q,d as xe,a0 as ne,v as Y,C as Ae,a2 as K,a3 as de,a7 as Te,p as E,w as fe,a8 as Ce,a9 as Ve,f as ie,a5 as Me,a6 as Ue,B as Xe,a1 as je,aa as ut}from"./@vue.1cef3f16.js";import{B as _t}from"./vue-chartjs.08f65f55.js";import{C as mt,p as ht,a as pt,b as vt,c as bt,d as ft,L as $t}from"./chart.js.562acd0f.js";import{S as Qe}from"./sweetalert2.ef56b979.js";import{t as Re}from"./toastr.94171567.js";import{F as De,a as G}from"./vee-validate.e717a009.js";import{f as Je}from"./flatpickr.181c7977.js";import{c as we,a as I}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as be}from"./moment.40bc58bf.js";import{a as Ye}from"./laravel-vue-pagination.7f094385.js";import{C as Ee}from"./vue-content-loader.ff97e771.js";import"./dompurify.5fe4b1c1.js";import{u as gt}from"./@vueuse.162aa6b0.js";import{L as Ie}from"./vue3-datepicker.df73fbe1.js";import{h as He}from"./html2canvas.c4a43e03.js";import{h as Ze}from"./html2pdf.js.44b835e5.js";import{V as yt}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=nt;window.axios=V;window.$=window.jQuery=dt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ce=Ke("AuthUserStore",()=>{const o=n({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await V.get("/api/profile").then(r=>{o.value=r.data})}}}),kt={class:"content"},xt={class:"container-fluid"},wt={class:"card"},Ct={class:"card-header"},St={class:"card-body"},Dt=e("div",{class:"row"},null,-1),Mt={__name:"Dashboard",setup(o){mt.register(ht,pt,vt,bt,ft,$t);const f=`${$e().name}`;ce(),n("all"),n(0);const r=n(new Date().getFullYear()),l=n({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),d=()=>{axios.get("/api/chart").then(m=>{m.data,l.value=m.data}).catch(m=>{console.error("Error fetching chart data:",m)})},_=n("today"),g=n(0),U=()=>{axios.get("/api/stats/users",{params:{date_range:_.value}}).then(m=>{g.value=m.data.totalUsersCount})};return _e(()=>{d(),U(),document.title=f}),(m,L)=>(t(),a("div",kt,[e("div",xt,[e("div",wt,[e("div",Ct," Yearly Progress - "+s(r.value),1),e("div",St,[D(i(_t),{data:l.value},null,8,["data"])])]),Dt])]))}},Ut={class:"content"},Vt={class:"container-fluid"},At={class:"row"},Tt={class:"col-lg-12"},Et={class:"d-flex justify-content-between mb-2"},Pt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),Y(" Add New Appointment")],-1),Ft={class:"btn-group"},It=e("span",{class:"mr-1"},"All",-1),Lt={class:"badge badge-pill badge-info"},Yt=["onClick"],Bt={class:"mr-1"},qt={class:"card"},Nt={class:"card-body"},Rt={class:"table table-bordered"},jt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Ht=e("td",null,null,-1),Ot=e("i",{class:"fa fa-edit mr-2"},null,-1),zt=["onClick"],Gt=e("i",{class:"fa fa-trash text-danger"},null,-1),Qt=[Gt],Wt={__name:"ListAppointments",setup(o){const f=n(),r=n([]),l=()=>{V.get("/api/appointment-status").then(L=>{r.value=L.data})},d=n([]),_=L=>{f.value=L;const c={};L&&(c.status=L),V.get("/api/appointments",{params:c}).then(b=>{d.value=b.data,console.log(b)})},g=Fe(()=>r.value.map(L=>L.count).reduce((L,c)=>L+c,0)),U=L=>{const c=d.value.data.find(u=>u.id===L).status.name,b=r.value.find(u=>u.name===c);b.count--},m=L=>{Qe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(c=>{c.isConfirmed&&V.delete(`/api/appointments/${L}`).then(b=>{U(L),d.value.data=d.value.data.filter(u=>u.id!==L),Qe.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{_(),l()}),(L,c)=>{const b=xe("router-link");return t(),a("div",Ut,[e("div",Vt,[e("div",At,[e("div",Tt,[e("div",Et,[e("div",null,[D(b,{to:"/admin/appointments/create"},{default:J(()=>[Pt]),_:1})]),e("div",Ft,[e("button",{onClick:c[0]||(c[0]=u=>_()),type:"button",class:A(["btn",[typeof f.value=="undefined"?"btn-secondary":"btn-default"]])},[It,e("span",Lt,s(g.value),1)],2),(t(!0),a(R,null,Q(r.value,u=>(t(),a("button",{onClick:y=>_(u.value),type:"button",class:A(["btn",[f.value===u.value?"btn-secondary":"btn-default"]])},[e("span",Bt,s(u.name),1),e("span",{class:A(["badge badge-pill",`badge-${u.color}`])},s(u.count),3)],10,Yt))),256))])]),e("div",qt,[e("div",Nt,[e("table",Rt,[jt,e("tbody",null,[(t(!0),a(R,null,Q(d.value.data,(u,y)=>(t(),a("tr",{key:u.id},[e("td",null,s(y+1),1),e("td",null,s(u.client.first_name)+" "+s(u.client.last_name),1),e("td",null,s(u.start_time),1),e("td",null,s(u.end_time),1),Ht,e("td",null,[D(b,{to:`/admin/appointments/${u.id}/edit`},{default:J(()=>[Ot]),_:2},1032,["to"]),e("a",{href:"#",onClick:ne(q=>m(u.id),["prevent"])},Qt,8,zt)])]))),128))])])])])])])])])}}};function re(){return Re.options.positionClass="toast-top-right",Re.options.closeButton=!0,Re.options.progressBar=!0,Re}const Kt={class:"content-header"},Xt={class:"container-fluid"},Jt={class:"row mb-2"},Zt={class:"col-sm-6"},es={class:"m-0"},ts={key:0},ss={key:1},as={class:"col-sm-6"},os={class:"breadcrumb float-sm-right"},ls={class:"breadcrumb-item"},ns={class:"breadcrumb-item"},ds={class:"breadcrumb-item active"},is={key:0},cs={key:1},rs={class:"content"},us={class:"container-fluid"},_s={class:"row"},ms={class:"col-lg-12"},hs={class:"card"},ps={class:"card-body"},vs={class:"row"},bs={class:"col-md-6"},fs={class:"form-group"},$s=e("label",{for:"title"},"Title",-1),gs={class:"invalid-feedback"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"client"},"Client Name",-1),ws=["value"],Cs={class:"invalid-feedback"},Ss={class:"row"},Ds={class:"col-md-6"},Ms={class:"form-group"},Us=e("label",{for:"start-time"},"Start Time",-1),Vs={class:"invalid-feedback"},As={class:"col-md-6"},Ts={class:"form-group"},Es=e("label",{for:"end-time"},"End Time",-1),Ps={class:"invalid-feedback"},Fs={class:"form-group"},Is=e("label",{for:"description"},"Description",-1),Ls={class:"invalid-feedback"},Ys=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),We={__name:"AppointmentForm",setup(o){const f=Oe(),r=$e(),l=re(),d=Ae({title:"",client_id:"",start_time:"",end_time:"",description:""}),_=(u,y)=>{b.value?U(u,y):g(u,y)},g=(u,y)=>{V.post("/api/appointments/create",d).then(q=>{f.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(q=>{y.setErrors(q.response.data.errors)})},U=(u,y)=>{V.put(`/api/appointments/${r.params.id}/edit`,d).then(q=>{f.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(q=>{y.setErrors(q.response.data.errors)})},m=n(),L=()=>{V.get("/api/view-clients").then(u=>{m.value=u.data})},c=()=>{V.get(`/api/appointments/${r.params.id}/edit`).then(({data:u})=>{d.title=u.title,d.client_id=u.client_id,d.start_time=u.formatted_start_time,d.end_time=u.formatted_end_time,d.description=u.description})},b=n(!1);return _e(()=>{r.name==="admin.appointments.edit"&&(b.value=!0,c()),Je(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),L()}),(u,y)=>{const q=xe("router-link");return t(),a(R,null,[e("div",Kt,[e("div",Xt,[e("div",Jt,[e("div",Zt,[e("h1",es,[b.value?(t(),a("span",ts,"Edit")):(t(),a("span",ss,"Create")),Y(" Appointment")])]),e("div",as,[e("ol",os,[e("li",ls,[D(q,{to:"/admin/dashboard"},{default:J(()=>[Y("Home")]),_:1})]),e("li",ns,[D(q,{to:"/admin/appointments"},{default:J(()=>[Y("Appointments")]),_:1})]),e("li",ds,[b.value?(t(),a("span",is,"Edit")):(t(),a("span",cs,"Create"))])])])])])]),e("div",rs,[e("div",us,[e("div",_s,[e("div",ms,[e("div",hs,[e("div",ps,[D(i(De),{onSubmit:_},{default:J(({errors:H})=>[e("div",vs,[e("div",bs,[e("div",fs,[$s,K(e("input",{"onUpdate:modelValue":y[0]||(y[0]=j=>d.title=j),type:"text",class:A(["form-control",{"is-invalid":H.title}]),id:"title",placeholder:"Enter Title"},null,2),[[de,d.title]]),e("span",gs,s(H.title),1)])]),e("div",ys,[e("div",ks,[xs,K(e("select",{"onUpdate:modelValue":y[1]||(y[1]=j=>d.client_id=j),id:"client",class:A(["form-control",{"is-invalid":H.client_id}])},[(t(!0),a(R,null,Q(m.value,j=>(t(),a("option",{value:j.id,key:j.id},s(j.first_name)+" "+s(j.last_name),9,ws))),128))],2),[[Te,d.client_id]]),e("span",Cs,s(H.client_id),1)])])]),e("div",Ss,[e("div",Ds,[e("div",Ms,[Us,K(e("input",{"onUpdate:modelValue":y[2]||(y[2]=j=>d.start_time=j),type:"text",class:A(["form-control flatpickr",{"is-invalid":H.start_time}]),id:"start-time"},null,2),[[de,d.start_time]]),e("span",Vs,s(H.start_time),1)])]),e("div",As,[e("div",Ts,[Es,K(e("input",{"onUpdate:modelValue":y[3]||(y[3]=j=>d.end_time=j),type:"text",class:A(["form-control flatpickr",{"is-invalid":H.end_time}]),id:"end-time"},null,2),[[de,d.end_time]]),e("span",Ps,s(H.end_time),1)])])]),e("div",Fs,[Is,K(e("textarea",{"onUpdate:modelValue":y[4]||(y[4]=j=>d.description=j),class:A(["form-control",{"is-invalid":H.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[de,d.description]]),e("span",Ls,s(H.description),1)]),Ys]),_:1})])])])])])])],64)}}},Bs=["checked"],qs=["value","selected"],Ns=["value","selected"],Rs=e("i",{class:"fa fa-edit"},null,-1),js=[Rs],Hs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Os=[Hs],zs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:f}){const r=re(),l=o,d=f,_=n([{name:"ADMIN",value:1},{name:"USER",value:2}]),g=n([]),U=()=>{V.get("/api/users/userlist").then(b=>{g.value=b.data}).catch(b=>{console.log(b)})},m=(b,u)=>{V.patch(`/api/users/${b.id}/change-role`,{role:u}).then(()=>{r.success("Role changed successfully!")})},L=(b,u)=>{V.patch(`/api/users/${b.id}/change-sitehead`,{sitehead_user_id:u}).then(()=>{r.success("Sitehead changed successfully!")})},c=()=>{d("toggleSelection",l.user)};return _e(()=>{U()}),(b,u)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:c},null,40,Bs)):E("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:u[0]||(u[0]=y=>m(o.user,y.target.value))},[(t(!0),a(R,null,Q(_.value,y=>(t(),a("option",{key:y.id,value:y.value,selected:o.user.role===y.name},s(y.name),9,qs))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:u[1]||(u[1]=y=>L(o.user,y.target.value))},[(t(!0),a(R,null,Q(g.value,y=>(t(),a("option",{key:y.id,value:y.id,selected:o.user.sitehead_user_id===y.id},s(y.first_name+" "+y.last_name),9,Ns))),128))],32)):E("",!0)]),e("td",null,[e("a",{href:"#",onClick:u[2]||(u[2]=ne(y=>b.$emit("editUser",o.user),["prevent"]))},js),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:u[3]||(u[3]=ne(y=>b.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Os)):E("",!0)])]))}},Gs={class:"content"},Qs={class:"container-fluid"},Ws={class:"d-flex justify-content-between mb-2"},Ks={class:"d-flex"},Xs=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Js={key:0},Zs=e("i",{class:"fa fa-trash mr-1"},null,-1),ea={class:"ml-2"},ta={class:"card"},sa={class:"card-body"},aa={class:"dispatch-table"},oa={class:"table-responsive"},la={class:"table table-bordered table-hover table-sm"},na=e("th",{style:{width:"10px"}},"#",-1),da=e("th",null,"Name",-1),ia=e("th",null,"Email",-1),ca=e("th",null,"Registered Date",-1),ra=e("th",null,"Role",-1),ua=e("th",null,"Head",-1),_a=e("th",null,"Action",-1),ma={key:0},ha={key:1},pa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),va=[pa],ba=["index"],fa={class:"card"},$a={class:"card-body"},ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Name:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Email:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Sa={class:"list-field"},Da=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ma=["onChange"],Ua=["value","selected"],Va=e("hr",null,null,-1),Aa={class:"row"},Ta={key:0,class:"col"},Ea=["onClick"],Pa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fa=["onClick"],Ia=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),Y(" Remove ")],-1),La=[Ia],Ya={key:1,class:"col"},Ba=["onClick"],qa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ra={class:"modal-dialog",role:"document"},ja={class:"modal-content"},Ha={class:"modal-header"},Oa={class:"modal-title",id:"staticBackdropLabel"},za={key:0},Ga={key:1},Qa=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wa={class:"modal-body"},Ka={class:"form-group"},Xa=e("label",{for:"name"},"Username",-1),Ja={class:"invalid-feedback"},Za={class:"d-flex justify-content-between"},eo={class:"d-flex"},to={class:"form-group"},so=e("label",{for:"email"},"Email",-1),ao={class:"invalid-feedback"},oo={class:"d-flex"},lo={class:"form-group"},no=e("label",{for:"siteDropdown"},"Gender",-1),io=e("option",{value:"",disabled:""}," Select a gender ",-1),co=["value"],ro={class:"d-flex justify-content-between"},uo={class:"d-flex"},_o={class:"form-group"},mo=e("label",{for:"first_name"},"Fist Name",-1),ho={class:"invalid-feedback"},po={class:"d-flex"},vo={class:"form-group"},bo=e("label",{for:"last_name"},"Last Name",-1),fo={class:"invalid-feedback"},$o={class:"form-group"},go=e("label",{for:"position"},"Position",-1),yo={class:"invalid-feedback"},ko={class:"form-group"},xo=e("label",{for:"password"},"Password",-1),wo={class:"invalid-feedback"},Co=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),So={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Do={class:"modal-dialog",role:"document"},Mo={class:"modal-content"},Uo=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vo={class:"modal-footer"},Ao=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),To={__name:"UserList",setup(o){const f=`${$e().name}`,r=ce(),l=re(),d=n({data:[]}),_=n(!1),g=n(),U=n(null);n([]),n(null);const m=n([{name:"Male",value:1},{name:"Female",value:2}]),L=(v=1)=>{V.get(`/api/users?page=${v}`,{params:{query:k.value}}).then(M=>{d.value=M.data,p.value=[],he.value=!1})},c=we({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().required().min(8),gender:I().required()}),b=we({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().when((v,M)=>v?M.required().min(8):M),gender:I().required()}),u=n([]),y=()=>{V.get("/api/users/userlist").then(v=>{u.value=v.data}).catch(v=>{console.log(v)})},q=(v,M)=>{V.patch(`/api/users/${v.id}/change-sitehead`,{sitehead_user_id:M}).then(()=>{l.success("Sitehead changed successfully!")})},H=(v,{resetForm:M,setErrors:w})=>{V.post("/api/users",v).then(S=>{d.value.data.unshift(S.data),$("#userFormModal").modal("hide"),M(),l.success("User created successfully!")}).catch(S=>{S.response.data.errors&&(w(S.response.data.errors),l.warning(S.response.data.errors.name))})},j=()=>{_.value=!1,$("#userFormModal").modal("show")},oe=v=>{_.value=!0,U.value.resetForm(),$("#userFormModal").modal("show"),g.value={id:v.id,name:v.name,email:v.email,sitehead_user_id:v.sitehead_user_id,first_name:v.first_name,last_name:v.last_name,gender:v.gender}},F=(v,{setErrors:M})=>{V.put("/api/users/"+g.value.id,v).then(w=>{const S=d.value.data.findIndex(pe=>pe.id===w.data.id);d.value.data[S]=w.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(w=>{M(w.response.data.errors),console.log(w)})},x=(v,M)=>{_.value?F(v,M):H(v,M)},k=n(null),p=n([]),T=v=>{const M=p.value.indexOf(v.id);M===-1?p.value.push(v.id):p.value.splice(M,1),console.log(p.value)},O=n(null),te=v=>{O.value=v,$("#deleteUserModal").modal("show")},X=()=>{V.delete(`/api/users/${O.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),d.value.data=d.value.data.filter(v=>v.id!==O.value)})},se=()=>{V.delete("/api/users",{data:{ids:p.value}}).then(v=>{d.value.data=d.value.data.filter(M=>!p.value.includes(M.id)),p.value=[],he.value=!1,l.success(v.data.message)})},he=n(!1),C=()=>{he.value?p.value=d.value.data.map(v=>v.id):p.value=[],console.log(p.value)};return fe(k,Pe.exports.debounce(()=>{L()},300)),_e(()=>{L(),y(),document.title=f}),(v,M)=>{const w=xe("font");return t(),a(R,null,[e("div",Gs,[e("div",Qs,[e("div",Ws,[e("div",Ks,[e("button",{onClick:j,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Xs,Y(" User ")]),p.value.length>0?(t(),a("div",Js,[e("button",{onClick:se,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zs,Y(" Delete Selected ")]),e("span",ea,"Selected "+s(p.value.length)+" users",1)])):E("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=S=>k.value=S),class:"form-control",placeholder:"Search..."},null,512),[[de,k.value]])])]),e("div",ta,[e("div",sa,[e("div",aa,[e("div",oa,[D(w,{size:"2"},{default:J(()=>[e("table",la,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":M[1]||(M[1]=S=>he.value=S),onChange:C},null,544),[[Ve,he.value]])]),na,da,ia,ca,ra,ua,_a])]),d.value.data.length>0?(t(),a("tbody",ma,[(t(!0),a(R,null,Q(d.value.data,(S,pe)=>(t(),ie(zs,{key:S.id,user:S,index:pe,onEditUser:oe,onConfirmUserDeletion:te,onToggleSelection:T,"select-all":he.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",ha,va))])]),_:1})])]),(t(!0),a(R,null,Q(d.value.data,(S,pe)=>(t(),a("div",{class:"dispatch-list",key:S.id,index:pe},[e("div",fa,[e("div",$a,[e("div",ga,[ya,e("span",null,s(S.first_name+" "+S.last_name),1)]),e("div",ka,[xa,e("span",null,s(S.email),1)]),e("div",wa,[Ca,e("span",null,s(S.formatted_created_at),1)]),e("div",Sa,[Da,e("span",null,[S.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:B=>q(S,B.target.value)},[(t(!0),a(R,null,Q(u.value,B=>(t(),a("option",{key:B.id,value:B.id,selected:B.sitehead_user_id===B.id},s(B.first_name+" "+B.last_name),9,Ua))),128))],40,Ma)):E("",!0)])]),Va,e("div",Aa,[i(r).user.role==="ADMIN"?(t(),a("div",Ta,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:B=>oe(S)},[Pa,Y(" Edit ")],8,Ea),e("button",{class:"btn btnsm btn-danger btn-block",onClick:B=>te(S.id)},La,8,Fa)])):E("",!0),i(r).user.role==="USER"?(t(),a("div",Ya,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:B=>oe(S)},[qa,Y(" Edit ")],8,Ba)])):E("",!0)])])])],8,ba))),128))])]),D(i(Ye),{data:d.value,onPaginationChangePage:L},null,8,["data"])])]),e("div",Na,[e("div",Ra,[e("div",ja,[e("div",Ha,[e("h5",Oa,[_.value?(t(),a("span",za,"Edit User")):(t(),a("span",Ga,"Add New User"))]),Qa]),D(i(De),{ref_key:"form",ref:U,onSubmit:x,"validation-schema":_.value?i(b):i(c),"initial-values":g.value},{default:J(({errors:S})=>[e("div",Wa,[e("div",Ka,[Xa,D(i(G),{name:"name",type:"text",class:A(["form-control",{"is-invalid":S.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ja,s(S.name),1)]),e("div",Za,[e("div",eo,[e("div",to,[so,D(i(G),{name:"email",type:"email",class:A(["form-control",{"is-invalid":S.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",ao,s(S.email),1)])]),e("div",oo,[e("div",lo,[no,D(i(G),{id:"gender",name:"gender",as:"select",class:A(["form-control",{"is-invalid":S.gender}])},{default:J(()=>[io,(t(!0),a(R,null,Q(m.value,pe=>(t(),a("option",{key:pe.name,value:pe.name},s(pe.name),9,co))),128))]),_:2},1032,["class"])])])]),e("div",ro,[e("div",uo,[e("div",_o,[mo,D(i(G),{name:"first_name",type:"text",class:A(["form-control",{"is-invalid":S.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",ho,s(S.first_name),1)])]),e("div",po,[e("div",vo,[bo,D(i(G),{name:"last_name",type:"text",class:A(["form-control",{"is-invalid":S.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",fo,s(S.last_name),1)])])]),e("div",$o,[go,D(i(G),{name:"position",type:"text",class:A(["form-control",{"is-invalid":S.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",yo,s(S.position),1)]),e("div",ko,[xo,D(i(G),{name:"password",type:"password",class:A(["form-control",{"is-invalid":S.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",wo,s(S.password),1)])]),Co]),_:1},8,["validation-schema","initial-values"])])])]),e("div",So,[e("div",Do,[e("div",Mo,[Uo,e("div",Vo,[Ao,e("button",{onClick:ne(X,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};var ye=(o,f)=>{const r=o.__vccOpts||o;for(const[l,d]of f)r[l]=d;return r};const Le=o=>(Me("data-v-222bda60"),o=o(),Ue(),o),Eo={class:"content"},Po={class:"container-fluid"},Fo={class:"row"},Io={class:"col-md-6"},Lo={class:"card"},Yo=Ce('<ul class="nav nav-tabs" id="settingsTabs" data-v-222bda60><li class="nav-item" data-v-222bda60><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-222bda60>General Settings</a></li><li class="nav-item" data-v-222bda60><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-222bda60>Site Settings</a></li></ul>',1),Bo={class:"tab-content"},qo={class:"tab-pane fade show active",id:"general"},No={class:"card-body"},Ro={class:"form-group"},jo=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),Ho={key:0,class:"text-danger text-sm"},Oo={class:"form-group"},zo=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Go=Ce('<option value="m/d/Y" data-v-222bda60> MM/DD/YYYY </option><option value="d/m/Y" data-v-222bda60> DD/MM/YYYY </option><option value="Y-m-d" data-v-222bda60> YYYY-MM-DD </option><option value="F j, Y" data-v-222bda60> Month DD, YYYY </option><option value="j F Y" data-v-222bda60> DD Month YYYY </option>',5),Qo=[Go],Wo={key:0,class:"text-danger text-sm"},Ko={class:"form-group"},Xo=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Jo={key:0,class:"text-danger text-sm"},Zo=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),Y("Save Changes ")])],-1)),el={class:"tab-pane fade",id:"site"},tl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},sl=Le(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),al=Le(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),ol={key:0,class:"list-group-item mt-2"},ll={class:"d-flex justify-content-between"},nl={class:"d-flex"},dl=["onClick"],il={class:"d-flex"},cl=["onClick"],rl={class:"m-2 list-unstyled"},ul={key:1},_l={key:0,class:"list-group-item mt-2"},ml={class:"d-flex justify-content-between"},hl={class:"d-flex"},pl=["onClick"],vl={class:"d-flex"},bl=["onClick"],fl={key:1,class:"mt-2 text-center"},$l=Le(()=>e("span",null,"No Site",-1)),gl=[$l],yl={class:"input-group"},kl=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),xl={__name:"UpdateSetting",setup(o){const f=`${$e().name}`,r=n([]),l=re(),d=n(!0),_=n([]),g=n(!1),U=n(),m=n({id:"",site_name:"",is_active:""}),L=()=>{g.value=!0,axios.get("/api/site").then(F=>{g.value=!1,_.value=F.data}).catch(F=>{console.log(F)})},c=Fe(()=>Array.isArray(_.value)?_.value.filter(F=>F.is_active===0):[]),b=Fe(()=>c.value.length),u=()=>{d.value=!d.value},y=()=>{var F,x;g.value=!0,axios.post("/api/site",{id:(F=m.value)==null?void 0:F.id,site_name:(x=m.value)==null?void 0:x.site_name,is_active:!0}).then(k=>{L(),m.value={id:null,site_name:"",is_active:!0},l.success(k.data.message),g.value=!1}).catch(k=>{k.response&&k.response.status===422&&(j.value=k.response.data.errors)})},q=F=>{m.value.is_active=F.is_active===1?0:1,axios.post("/api/site",{id:F.id,site_name:F.site_name,is_active:m.value.is_active}).then(x=>{axios.get("/api/site").then(k=>{_.value=k.data}).catch(k=>{console.error("Error fetching tasks:",k),l.error("Error fetching tasks. Please try again.")})}).catch(x=>{console.error("Error adding new task:",x),l.error("Error adding new task. Please try again.")})},H=()=>{axios.get("/api/settings").then(F=>{r.value=F.data})},j=n(),oe=()=>{j.value="",axios.post("/api/settings",r.value).then(F=>{l.success("Settings updated successfully!")}).catch(F=>{F.response&&F.response.status===422&&(j.value=F.response.data.errors)})};return _e(()=>{L(),H(),document.title=f}),(F,x)=>(t(),a("div",Eo,[e("div",Po,[e("div",Fo,[e("div",Io,[e("div",Lo,[Yo,e("div",Bo,[e("div",qo,[e("form",{onSubmit:x[3]||(x[3]=ne(k=>oe(),["prevent"]))},[e("div",No,[e("div",Ro,[jo,K(e("input",{"onUpdate:modelValue":x[0]||(x[0]=k=>r.value.app_name=k),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[de,r.value.app_name]]),j.value&&j.value.app_name?(t(),a("span",Ho,s(j.value.app_name[0]),1)):E("",!0)]),e("div",Oo,[zo,K(e("select",{"onUpdate:modelValue":x[1]||(x[1]=k=>r.value.date_format=k),class:"form-control"},Qo,512),[[Te,r.value.date_format]]),j.value&&j.value.date_format?(t(),a("span",Wo,s(j.value.date_format[0]),1)):E("",!0)]),e("div",Ko,[Xo,K(e("input",{"onUpdate:modelValue":x[2]||(x[2]=k=>r.value.pagination_limit=k),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[de,r.value.pagination_limit]]),j.value&&j.value.pagination_limit?(t(),a("span",Jo,s(j.value.pagination_limit[0]),1)):E("",!0)])]),Zo],32)]),e("div",el,[_.value.length>0?(t(),a("div",tl,[g.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[sl,al]),_:1})):E("",!0),(t(!0),a(R,null,Q(_.value,k=>(t(),a("ul",{class:"list-group",key:k.id},[k.is_active===1?(t(),a("li",ol,[e("div",ll,[e("div",nl,[e("i",{onClick:p=>q(k),class:A({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":k.is_active===1,"fa fa-circle text-primary":k.is_active===0}),style:{"font-size":"15px"}},null,10,dl),e("span",{class:A({"font-italic text-red":k.is_active===0,"":k.is_active===1})},s(k.site_name),3)]),e("div",il,[e("i",{class:"fa fa-pen text-success",onClick:p=>F.edit(k)},null,8,cl)])])])):E("",!0)]))),128)),e("li",rl,[b.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:u},[e("i",{class:A(["fa",d.value?"fa-arrow-down":"fa-arrow-right"])},null,2),Y(" \xA0Deactive List "+s(b.value),1)])):E("",!0)]),d.value?(t(),a("div",ul,[(t(!0),a(R,null,Q(_.value,k=>(t(),a("ul",{class:"list-group",key:k.id},[k.is_active===0?(t(),a("li",_l,[e("div",ml,[e("div",hl,[e("i",{onClick:p=>q(k),class:A({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":k.is_active===1,"fa fa-circle text-primary":k.is_active===0}),style:{"font-size":"15px"}},null,10,pl),e("span",{class:A({"font-italic text-red":k.is_active===0,"":k.is_active===1})},[e("del",null,s(k.site_name),1)],2)]),e("div",vl,[k.is_active===1?(t(),a("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:p=>F.edit(k)},null,8,bl)):E("",!0)])])])):E("",!0)]))),128))])):E("",!0)])):(t(),a("div",fl,gl)),D(i(De),{ref:"form",onSubmit:y,"initial-values":U.value},{default:J(()=>[D(i(G),{name:"id",modelValue:m.value.id,"onUpdate:modelValue":x[4]||(x[4]=k=>m.value.id=k),type:"text",hidden:""},null,8,["modelValue"]),e("div",yl,[D(i(G),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:m.value.site_name,"onUpdate:modelValue":x[5]||(x[5]=k=>m.value.site_name=k),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),kl])]),_:1},8,["initial-values"])])])])])])])]))}};var wl=ye(xl,[["__scopeId","data-v-222bda60"]]);const Cl={class:"content"},Sl={class:"container-fluid"},Dl={class:"row"},Ml={class:"col-md-3"},Ul={class:"card card-primary card-outline"},Vl={class:"card-body box-profile"},Al={class:"text-center"},Tl=["src"],El={class:"profile-username text-center"},Pl={class:"text-muted text-center"},Fl={class:"col-md-9"},Il={class:"card"},Ll=Ce('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Yl={class:"card-body"},Bl={class:"tab-content"},ql={class:"tab-pane active",id:"profile"},Nl={class:"form-group row"},Rl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),jl={class:"col-sm-10"},Hl={key:0,class:"text-danger text-sm"},Ol={class:"form-group row"},zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Gl={class:"col-sm-10"},Ql={key:0,class:"text-danger text-sm"},Wl={class:"form-group row"},Kl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Xl={class:"col-sm-10"},Jl={key:0,class:"text-danger text-sm"},Zl={class:"form-group row"},en=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),tn={class:"col-sm-10"},sn={key:0,class:"text-danger text-sm"},an=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),Y(" Save Changes")])])],-1),on={class:"tab-pane",id:"changePassword"},ln={class:"form-group row"},nn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),dn={class:"col-sm-9"},cn={key:0,class:"text-danger text-sm"},rn={class:"form-group row"},un=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),_n={class:"col-sm-9"},mn={key:0,class:"text-danger text-sm"},hn={class:"form-group row"},pn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),vn={class:"col-sm-9"},bn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),Y(" Save Changes")])])],-1),fn={__name:"UpdateProfile",setup(o){const f=ce(),r=re(),l=`${$e().name}`,d=n([]),_=()=>{axios.put("/api/profile",{name:f.user.name,first_name:f.user.first_name,last_name:f.user.last_name,email:f.user.email,role:f.user.role}).then(b=>{r.success("Profile updated successfully!")}).catch(b=>{b.response&&b.response.status===422&&(d.value=b.response.data.errors)})},g=Ae({currentPassword:"",password:"",passwordConfirmation:""}),U=()=>{d.value="",axios.post("/api/change-user-password",g).then(b=>{r.success(b.data.message);for(const u in g)g[u]=""}).catch(b=>{b.response&&b.response.status===422&&(d.value=b.response.data.errors)})},m=n(null),L=()=>{m.value.click()},c=b=>{const u=b.target.files[0];f.user.avatar=URL.createObjectURL(u);const y=new FormData;y.append("profile_picture",u),axios.post("/api/upload-profile-image",y).then(q=>{r.success("Image uploaded successfully!")})};return _e(()=>{document.title=l}),(b,u)=>(t(),a("div",Cl,[e("div",Sl,[e("div",Dl,[e("div",Ml,[e("div",Ul,[e("div",Vl,[e("div",Al,[e("input",{onChange:c,ref_key:"fileInput",ref:m,type:"file",class:"d-none"},null,544),e("img",{onClick:L,class:"profile-user-img img-circle",src:i(f).user.avatar,alt:"User profile picture"},null,8,Tl)]),e("h3",El,s(i(f).user.name),1),e("p",Pl,s(i(f).user.role),1)])])]),e("div",Fl,[e("div",Il,[Ll,e("div",Yl,[e("div",Bl,[e("div",ql,[e("form",{onSubmit:u[4]||(u[4]=ne(y=>_(),["prevent"])),class:"form-horizontal"},[e("div",Nl,[Rl,e("div",jl,[K(e("input",{"onUpdate:modelValue":u[0]||(u[0]=y=>i(f).user.name=y),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[de,i(f).user.name]]),d.value&&d.value.name?(t(),a("span",Hl,s(d.value.name[0]),1)):E("",!0)])]),e("div",Ol,[zl,e("div",Gl,[K(e("input",{"onUpdate:modelValue":u[1]||(u[1]=y=>i(f).user.first_name=y),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[de,i(f).user.first_name]]),d.value&&d.value.first_name?(t(),a("span",Ql,s(d.value.first_name[0]),1)):E("",!0)])]),e("div",Wl,[Kl,e("div",Xl,[K(e("input",{"onUpdate:modelValue":u[2]||(u[2]=y=>i(f).user.last_name=y),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[de,i(f).user.last_name]]),d.value&&d.value.last_name?(t(),a("span",Jl,s(d.value.last_name[0]),1)):E("",!0)])]),e("div",Zl,[en,e("div",tn,[K(e("input",{"onUpdate:modelValue":u[3]||(u[3]=y=>i(f).user.email=y),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[de,i(f).user.email]]),d.value&&d.value.email?(t(),a("span",sn,s(d.value.email[0]),1)):E("",!0)])]),an],32)]),e("div",on,[e("form",{onSubmit:ne(U,["prevent"]),class:"form-horizontal"},[e("div",ln,[nn,e("div",dn,[K(e("input",{"onUpdate:modelValue":u[5]||(u[5]=y=>g.currentPassword=y),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[de,g.currentPassword]]),d.value&&d.value.current_password?(t(),a("span",cn,s(d.value.current_password[0]),1)):E("",!0)])]),e("div",rn,[un,e("div",_n,[K(e("input",{"onUpdate:modelValue":u[6]||(u[6]=y=>g.password=y),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[de,g.password]]),d.value&&d.value.password?(t(),a("span",mn,s(d.value.password[0]),1)):E("",!0)])]),e("div",hn,[pn,e("div",vn,[K(e("input",{"onUpdate:modelValue":u[7]||(u[7]=y=>g.passwordConfirmation=y),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[de,g.passwordConfirmation]])])]),bn],32)])])])])])])])]))}};const $n={class:"login-box"},gn={class:"card card-outline card-primary"},yn=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),kn={class:"card-body"},xn={key:0,class:"alert alert-danger",role:"alert"},wn={class:"input-group mb-3"},Cn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),Sn={class:"input-group mb-3"},Dn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Mn={class:"row"},Un={class:"col-12 mb-2"},Vn=["disabled"],An={key:0,class:"spinner-border spinner-border-sm",role:"status"},Tn=e("span",{class:"sr-only"},"Loading...",-1),En=[Tn],Pn={key:1},Fn=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),In="Login",Ln={__name:"Login",setup(o){const f=re();ce();const r=Oe(),l=Ae({email:"",password:""}),d=n(!1),_=n(""),g=()=>{d.value=!0,_.value="",V.post("/login",l).then(()=>{r.push("/dashboard"),f.success("Login Success")}).catch(U=>{f.error(U.response.data.message)}).finally(()=>{d.value=!1})};return _e(()=>{document.title=In}),(U,m)=>(t(),a("div",$n,[e("div",gn,[yn,e("div",kn,[_.value?(t(),a("div",xn,s(_.value),1)):E("",!0),e("form",{onSubmit:ne(g,["prevent"])},[e("div",wn,[Cn,K(e("input",{"onUpdate:modelValue":m[0]||(m[0]=L=>l.email=L),type:"email",class:"form-control",placeholder:"Email"},null,512),[[de,l.email]])]),e("div",Sn,[Dn,K(e("input",{"onUpdate:modelValue":m[1]||(m[1]=L=>l.password=L),type:"password",class:"form-control",placeholder:"Password"},null,512),[[de,l.password]])]),e("div",Mn,[e("div",Un,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(t(),a("div",An,En)):(t(),a("span",Pn,"Sign In"))],8,Vn)])])],32),Fn])])]))}},Yn=["checked"],Bn=e("i",{class:"fa fa-edit"},null,-1),qn=[Bn],Nn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Rn=[Nn],jn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:f}){re();const r=o,l=f,d=()=>{l("toggleSelection",r.item)};return(_,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Yn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:g[0]||(g[0]=ne(U=>_.$emit("editUser",o.item),["prevent"]))},qn),e("a",{href:"#",onClick:g[1]||(g[1]=ne(U=>_.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Rn)])]))}},Hn={class:"content"},On={class:"container-fluid"},zn={class:"d-flex justify-content-between"},Gn={class:"d-flex"},Qn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Wn={key:0},Kn=e("i",{class:"fa fa-trash mr-1"},null,-1),Xn={class:"ml-2"},Jn={class:"card"},Zn={class:"card-body"},ed={class:"table table-bordered"},td=e("th",{style:{width:"10px"}},"#",-1),sd=e("th",null,"Name",-1),ad=e("th",null,"Email",-1),od=e("th",null,"Registered Date",-1),ld=e("th",null,"Options",-1),nd={key:0},dd={key:1},id=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),cd=[id],rd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ud={class:"modal-dialog",role:"document"},_d={class:"modal-content"},md={class:"modal-header"},hd={class:"modal-title",id:"staticBackdropLabel"},pd={key:0},vd={key:1},bd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),fd={class:"modal-body"},$d={class:"form-group"},gd=e("label",{for:"fist_name"},"First Name",-1),yd={class:"invalid-feedback"},kd={class:"form-group"},xd=e("label",{for:"last_name"},"Last Name",-1),wd={class:"invalid-feedback"},Cd={class:"form-group"},Sd=e("label",{for:"email"},"Email",-1),Dd={class:"invalid-feedback"},Md=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ud={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vd={class:"modal-dialog",role:"document"},Ad={class:"modal-content"},Td=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ed={class:"modal-footer"},Pd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Fd={__name:"ClientList",setup(o){const f=re(),r=n({data:[]}),l=n(!1),d=n(),_=n(null),g=(O=1)=>{V.get(`/api/clients?page=${O}`,{params:{query:q.value}}).then(te=>{r.value=te.data,H.value=[],p.value=!1})},U=we({first_name:I().required(),last_name:I().required(),email:I().email().required()}),m=we({first_name:I().required(),last_name:I().required(),email:I().email().required()}),L=(O,{resetForm:te,setErrors:X})=>{V.post("/api/clients",O).then(se=>{r.value.data.unshift(se.data),$("#clientFormModal").modal("hide"),te(),f.success("User created successfully!")}).catch(se=>{se.response.data.errors&&X(se.response.data.errors)})},c=()=>{l.value=!1,$("#clientFormModal").modal("show")},b=O=>{l.value=!0,_.value.resetForm(),$("#clientFormModal").modal("show"),d.value={id:O.id,first_name:O.first_name,last_name:O.last_name,email:O.email}},u=(O,{setErrors:te})=>{V.put("/api/clients/"+d.value.id,O).then(X=>{const se=r.value.data.findIndex(he=>he.id===X.data.id);r.value.data[se]=X.data,$("#clientFormModal").modal("hide"),f.success("Client updated successfully!")}).catch(X=>{te(X.response.data.errors),console.log(X)})},y=(O,te)=>{l.value?u(O,te):L(O,te)},q=n(null),H=n([]),j=O=>{const te=H.value.indexOf(O.id);te===-1?H.value.push(O.id):H.value.splice(te,1),console.log(H.value)},oe=n(null),F=O=>{oe.value=O,$("#deleteClientModal").modal("show")},x=()=>{V.delete(`/api/clients/${oe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),f.success("Client deleted successfully!"),r.value.data=r.value.data.filter(O=>O.id!==oe.value)})},k=()=>{V.delete("/api/clients",{data:{ids:H.value}}).then(O=>{r.value.data=r.value.data.filter(te=>!H.value.includes(te.id)),H.value=[],p.value=!1,f.success(O.data.message)})},p=n(!1),T=()=>{p.value?H.value=r.value.data.map(O=>O.id):H.value=[],console.log(H.value)};return fe(q,Pe.exports.debounce(()=>{g()},300)),_e(()=>{g()}),(O,te)=>(t(),a(R,null,[e("div",Hn,[e("div",On,[e("div",zn,[e("div",Gn,[e("button",{onClick:c,type:"button",class:"mb-2 btn btn-primary"},[Qn,Y(" Add New Client ")]),H.value.length>0?(t(),a("div",Wn,[e("button",{onClick:k,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Kn,Y(" Delete Selected ")]),e("span",Xn,"Selected "+s(H.value.length)+" clients",1)])):E("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":te[0]||(te[0]=X=>q.value=X),class:"form-control",placeholder:"Search..."},null,512),[[de,q.value]])])]),e("div",Jn,[e("div",Zn,[e("table",ed,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":te[1]||(te[1]=X=>p.value=X),onChange:T},null,544),[[Ve,p.value]])]),td,sd,ad,od,ld])]),r.value.data.length>0?(t(),a("tbody",nd,[(t(!0),a(R,null,Q(r.value.data,(X,se)=>(t(),ie(jn,{key:X.id,item:X,index:se,onEditUser:b,onConfirmUserDeletion:F,onToggleSelection:j,"select-all":p.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",dd,cd))])])]),D(i(Ye),{data:r.value,onPaginationChangePage:g},null,8,["data"])])]),e("div",rd,[e("div",ud,[e("div",_d,[e("div",md,[e("h5",hd,[l.value?(t(),a("span",pd,"Edit Client")):(t(),a("span",vd,"Add New Client"))]),bd]),D(i(De),{ref_key:"form",ref:_,onSubmit:y,"validation-schema":l.value?i(m):i(U),"initial-values":d.value},{default:J(({errors:X})=>[e("div",fd,[e("div",$d,[gd,D(i(G),{name:"first_name",type:"text",class:A(["form-control",{"is-invalid":X.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",yd,s(X.first_name),1)]),e("div",kd,[xd,D(i(G),{name:"last_name",type:"text",class:A(["form-control",{"is-invalid":X.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",wd,s(X.last_name),1)]),e("div",Cd,[Sd,D(i(G),{name:"email",type:"email",class:A(["form-control",{"is-invalid":X.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Dd,s(X.email),1)])]),Md]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ud,[e("div",Vd,[e("div",Ad,[Td,e("div",Ed,[Pd,e("button",{onClick:ne(x,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const ze=o=>(Me("data-v-36595330"),o=o(),Ue(),o),Id={style:{"text-align":"center"}},Ld={key:0},Yd=ze(()=>e("i",{class:"fa fa-edit"},null,-1)),Bd=[Yd],qd=ze(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Nd=[qd],Rd={key:1,style:{"text-align":"center"}},jd={key:0},Hd=ze(()=>e("i",{class:"fa fa-edit"},null,-1)),Od=[Hd],zd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:f}){re();const r=ce();return(l,d)=>{const _=xe("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",Id,[o.item.statusid==2?(t(),ie(_,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:A(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):E("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:A(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):E("",!0)]),e("td",null,s(o.item.created_at),1),i(r).user.role==="ADMIN"?(t(),a("td",Ld,[e("a",{href:"#",onClick:d[0]||(d[0]=ne(g=>l.$emit("editUser",o.item),["prevent"]))},Bd),e("a",{href:"#",onClick:d[1]||(d[1]=ne(g=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Nd)])):E("",!0),i(r).user.role==="USER"?(t(),a("td",Rd,[o.item.statusid!=2?(t(),a("div",jd,[o.item.created_by==i(r).user.id?(t(),a("a",{key:0,href:"#",onClick:d[2]||(d[2]=ne(g=>l.$emit("editUser",o.item),["prevent"]))},Od)):E("",!0)])):E("",!0)])):E("",!0)])}}};var Gd=ye(zd,[["__scopeId","data-v-36595330"]]);const Qd={class:"content"},Wd={class:"container-fluid"},Kd={class:"d-flex justify-content-between"},Xd={class:"d-flex"},Jd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Zd={key:0},ei=e("i",{class:"fa fa-trash mr-1"},null,-1),ti={class:"ml-2"},si={class:"card"},ai={class:"card-body"},oi=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),li=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ni=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),di=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ii={class:"dispatch-table"},ci={class:"table-responsive"},ri={class:"table table-bordered table-sm"},ui=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),_i={key:0},mi={key:1},hi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),pi=[hi],vi=["item","index"],bi={class:"card"},fi={class:"card-body"},$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"Tech #:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"User:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Branch:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Department:",-1),Di={class:"list-field"},Mi=e("span",{class:"mb-1 dis"},"Created by:",-1),Ui={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Status:",-1),Ai={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ei=e("hr",null,null,-1),Pi={class:"row"},Fi={key:0,class:"col"},Ii=["onClick"],Li=e("i",{class:"fa fa-pencil-square-o"},null,-1),Yi=["onClick"],Bi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),Y(" Remove ")],-1),qi=[Bi],Ni={key:0,class:"btn btnsm btn-success btn-block"},Ri=e("i",{class:"fa fa-pencil-square-o"},null,-1),ji={key:1,class:"col"},Hi={key:0},Oi=["onClick"],zi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Gi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qi={class:"modal-dialog modal-lg",role:"document"},Wi={class:"modal-content"},Ki={class:"modal-header"},Xi={class:"modal-title",id:"staticBackdropLabel"},Ji={key:0},Zi={key:1},ec=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),tc={class:"modal-body"},sc={class:"col-md-12"},ac={class:"row"},oc={class:"col-6"},lc={class:"form-group"},nc=e("label",{for:"branch"},"Branch",-1),dc=e("option",{value:"",disabled:""}," Select Branch ",-1),ic=["value"],cc={class:"invalid-feedback"},rc={class:"form-group"},uc=e("label",{for:"department"},"Department",-1),_c={class:"invalid-feedback"},mc={class:"form-group"},hc=e("label",{for:"warehouse"},"warehouse",-1),pc={class:"invalid-feedback"},vc={class:"form-group"},bc=e("label",{for:"user"},"User",-1),fc={class:"invalid-feedback"},$c={class:"col-6"},gc={class:"form-group"},yc=e("label",{for:"brand"},"Brand",-1),kc={class:"form-group"},xc=e("label",{for:"model"},"Model",-1),wc={class:"invalid-feedback"},Cc={class:"form-group"},Sc=e("label",{for:"assettag"},"Asset tag",-1),Dc={class:"invalid-feedback"},Mc={class:"form-group"},Uc=e("label",{for:"serialnum"},"Serial number",-1),Vc={class:"invalid-feedback"},Ac={class:"col-12"},Tc={class:"form-group"},Ec=e("label",{for:"problem"},"Report Problem",-1),Pc={class:"invalid-feedback"},Fc={class:"form-group"},Ic=e("label",{for:"assconducted"},"Assessment conducted",-1),Lc={class:"invalid-feedback"},Yc={class:"form-group"},Bc=e("label",{for:"recommendation"},"Recommendation",-1),qc={class:"invalid-feedback"},Nc={class:"modal-footer"},Rc={key:0},jc={key:0,class:"btn-group float-l ml-auto"},Hc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Oc={class:"dropdown-menu",role:"menu"},zc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Gc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Qc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Wc={class:"modal-dialog",role:"document"},Kc={class:"modal-content"},Xc=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Jc={class:"modal-footer"},Zc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),er={__name:"TechList",setup(o){const f=n(),r=n(),l=re(),d=n({data:[]});n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const _=`${$e().name}`,g=()=>{V.get("/api/getsite").then(M=>{r.value=M.data.sites}).catch(M=>{console.log(M)})},U=n(!1),m=n(!1),L=n(),c=Ae({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),b=ce();n(null);const u=(M=1)=>{U.value=!0,V.get(`/api/tech-recommendations?page=${M}`,{params:{query:p.value}}).then(w=>{U.value=!1,d.value=w.data,T.value=[],v.value=!1})},y=we({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),q=we({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),H=(M,{resetForm:w,setErrors:S})=>{V.post("/api/tech-recommendations",M).then(pe=>{d.value.data.unshift(pe.data),$("#FormModal").modal("hide"),w(),l.success("Data created successfully!")}).catch(pe=>{pe.response.data.errors&&S(pe.response.data.errors)})},j=()=>{m.value=!1,$("#FormModal").modal("show")},oe=()=>{c.id="",c.recommnum="",c.branch="",c.department="",c.warehouse="",c.user="",c.problem="",c.brand="",c.model="",c.assettag="",c.serialnum="",c.assconducted="",c.recommendation="",c.ceated_by=""},F=M=>{f.value=M.id,m.value=!0,oe(),c.id=M.id,c.branch=M.branch,c.department=M.department,c.warehouse=M.warehouse,c.user=M.user,c.problem=M.problem,c.brand=M.brand,c.model=M.model,c.assettag=M.assettag,c.serialnum=M.serialnum,c.assconducted=M.assconducted,c.recommendation=M.recommendation,c.ceated_by=M.ceated_by,c.recommnum=M.recommnum,$("#FormModal").modal("show")},x=(M,{setErrors:w})=>{V.put("/api/tech-recommendations/"+M.id,M).then(S=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(S=>{w(S.response.data.errors),console.log(S)})},k=(M,w)=>{m.value?x(c,w):H(M,w)},p=n(null),T=n([]),O=M=>{const w=T.value.indexOf(M.id);w===-1?T.value.push(M.id):T.value.splice(w,1),console.log(T.value)},te=n(null),X=M=>{te.value=M,$("#deleteClientModal").modal("show")},se=()=>{V.delete(`/api/tech-recommendations/${te.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),d.value.data=d.value.data.filter(M=>M.id!==te.value)})},he=()=>{V.delete("/api/tech-recommendations",{data:{ids:T.value}}).then(M=>{d.value.data=d.value.data.filter(w=>!T.value.includes(w.id)),T.value=[],v.value=!1,l.success(M.data.message)})},C=M=>{V.post("/api/tech-getaction",{id:f.value,status:M}).then(w=>{$("#FormModal").modal("hide"),u()}).catch(w=>{console.log(w.message)})},v=n(!1);return fe(p,Pe.exports.debounce(()=>{u()},300)),_e(()=>{u(),g(),document.title=_}),(M,w)=>{const S=xe("font"),pe=xe("router-link");return t(),a(R,null,[e("div",Qd,[e("div",Wd,[e("div",Kd,[e("div",Xd,[e("button",{onClick:j,type:"button",class:"mb-2 btn btn-primary"},[Jd,Y(" TechRecom ")]),T.value.length>0?(t(),a("div",Zd,[e("button",{onClick:he,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ei,Y(" Delete Selected ")]),e("span",ti,"Selected "+s(T.value.length)+" techrecomm",1)])):E("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=B=>p.value=B),class:"form-control",placeholder:"Search..."},null,512),[[de,p.value]])])]),e("div",si,[e("div",ai,[U.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[oi,li,ni,di]),_:1})):E("",!0),e("div",ii,[e("div",ci,[D(S,{size:"2"},{default:J(()=>[e("table",ri,[ui,d.value.data.length>0?(t(),a("tbody",_i,[(t(!0),a(R,null,Q(d.value.data,(B,W)=>(t(),ie(Gd,{key:B.id,item:B,index:W,onEditUser:F,onShowItem:M.viewItem,onConfirmUserDeletion:X,onToggleSelection:O,"select-all":v.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",mi,pi))])]),_:1})])]),(t(!0),a(R,null,Q(d.value.data,(B,W)=>(t(),a("div",{class:"dispatch-list",key:B.id,item:B,index:W},[e("div",bi,[e("div",fi,[e("div",$i,[gi,e("span",null,[e("b",null,s(B.recommnum),1)])]),e("div",yi,[ki,e("span",null,s(B.user),1)]),e("div",xi,[wi,e("span",null,s(B.branch),1)]),e("div",Ci,[Si,e("span",null,s(B.department),1)]),e("div",Di,[Mi,e("span",null,s(B.created_user),1)]),e("div",Ui,[Vi,B.statusid==2?(t(),ie(pe,{key:0,to:`/admin/tech-approved/${B.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:A(["badge",`badge-${B.status.color}`])},s(B.status.name),3)]),_:2},1032,["to"])):E("",!0),B.statusid!=2?(t(),a("span",{key:1,class:A(["badge",`badge-${B.status.color}`])},s(B.status.name),3)):E("",!0)]),e("div",Ai,[Ti,e("span",null,s(B.created_at),1)]),Ei,e("div",Pi,[i(b).user.role==="ADMIN"?(t(),a("div",Fi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:z=>F(B)},[Li,Y(" Edit ")],8,Ii),e("button",{class:"btn btnsm btn-danger btn-block",onClick:z=>X(B.id)},qi,8,Yi),B.statusid==2?(t(),a("button",Ni,[Ri,Y(" Download ")])):E("",!0)])):E("",!0),i(b).user.role==="USER"?(t(),a("div",ji,[B.statusid!=2?(t(),a("div",Hi,[B.created_by==i(b).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:z=>F(B)},[zi,Y(" Edit ")],8,Oi)):E("",!0)])):E("",!0)])):E("",!0)])])])],8,vi))),128))])]),D(i(Ye),{data:d.value,onPaginationChangePage:u},null,8,["data"])])]),e("div",Gi,[e("div",Qi,[e("div",Wi,[e("div",Ki,[e("h5",Xi,[m.value?(t(),a("span",Ji,"Edit Tech Recom.")):(t(),a("span",Zi,"Add New Tech Recom."))]),ec]),D(i(De),{onSubmit:k,"validation-schema":m.value?i(q):i(y),"initial-values":L.value},{default:J(({errors:B})=>[e("div",tc,[e("div",sc,[e("div",ac,[e("div",oc,[D(i(G),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(b).user.id,"onUpdate:modelValue":w[1]||(w[1]=W=>i(b).user.id=W)},null,8,["modelValue"]),D(i(G),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:c.recommnum,"onUpdate:modelValue":w[2]||(w[2]=W=>c.recommnum=W)},null,8,["modelValue"]),e("div",lc,[nc,D(i(G),{as:"select",name:"branch",class:A(["form-control",{"is-invalid":B.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:c.branch,"onUpdate:modelValue":w[3]||(w[3]=W=>c.branch=W)},{default:J(()=>[dc,(t(!0),a(R,null,Q(r.value,W=>(t(),a("option",{key:W.site_name,value:W.site_name},s(W.site_name),9,ic))),128))]),_:2},1032,["class","modelValue"]),e("span",cc,s(B.branch),1)]),e("div",rc,[uc,D(i(G),{name:"department",type:"text",class:A(["form-control",{"is-invalid":B.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:c.department,"onUpdate:modelValue":w[4]||(w[4]=W=>c.department=W)},null,8,["class","modelValue"]),e("span",_c,s(B.department),1)]),e("div",mc,[hc,D(i(G),{name:"warehouse",type:"text",class:A(["form-control",{"is-invalid":B.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:c.warehouse,"onUpdate:modelValue":w[5]||(w[5]=W=>c.warehouse=W)},null,8,["class","modelValue"]),e("span",pc,s(B.warehouse),1)]),e("div",vc,[bc,D(i(G),{name:"user",type:"text",class:A(["form-control",{"is-invalid":B.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:c.user,"onUpdate:modelValue":w[6]||(w[6]=W=>c.user=W)},null,8,["class","modelValue"]),e("span",fc,s(B.user),1)])]),e("div",$c,[e("div",gc,[yc,D(i(G),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:c.brand,"onUpdate:modelValue":w[7]||(w[7]=W=>c.brand=W)},null,8,["modelValue"])]),e("div",kc,[xc,D(i(G),{name:"model",type:"text",class:A(["form-control",{"is-invalid":B.model}]),id:"model",modelValue:c.model,"onUpdate:modelValue":w[8]||(w[8]=W=>c.model=W),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",wc,s(B.model),1)]),e("div",Cc,[Sc,D(i(G),{name:"assettag",type:"text",class:A(["form-control",{"is-invalid":B.assettag}]),id:"assettag",modelValue:c.assettag,"onUpdate:modelValue":w[9]||(w[9]=W=>c.assettag=W),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Dc,s(B.assettag),1)]),e("div",Mc,[Uc,K(e("input",{name:"serialnum",type:"text",class:A(["form-control",{"is-invalid":B.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":w[10]||(w[10]=W=>c.serialnum=W)},null,2),[[de,c.serialnum]]),e("span",Vc,s(B.serialnum),1)])]),e("div",Ac,[e("div",Tc,[Ec,D(i(G),{name:"problem",as:"textarea",class:A(["form-control",{"is-invalid":B.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:c.problem,"onUpdate:modelValue":w[11]||(w[11]=W=>c.problem=W)},null,8,["class","modelValue"]),e("span",Pc,s(B.problem),1)]),e("div",Fc,[Ic,D(i(G),{name:"assconducted",as:"textarea",class:A(["form-control",{"is-invalid":B.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:c.assconducted,"onUpdate:modelValue":w[12]||(w[12]=W=>c.assconducted=W)},null,8,["class","modelValue"]),e("span",Lc,s(B.assconducted),1)]),e("div",Yc,[Bc,D(i(G),{name:"recommendation",as:"textarea",class:A(["form-control",{"is-invalid":B.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:c.recommendation,"onUpdate:modelValue":w[13]||(w[13]=W=>c.recommendation=W)},null,8,["class","modelValue"]),e("span",qc,s(B.recommendation),1)])])])])]),e("div",Nc,[m.value?(t(),a("div",Rc,[i(b).user.role==="ADMIN"?(t(),a("div",jc,[e("button",{type:"button",onClick:w[14]||(w[14]=W=>C(2)),class:"btn btn-info"}," Approved "),Hc,e("div",Oc,[e("span",{onClick:w[15]||(w[15]=W=>C(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:w[16]||(w[16]=W=>C(3)),class:"dropdown-item"},"Disapproved")])])):E("",!0)])):E("",!0),zc,Gc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Qc,[e("div",Wc,[e("div",Kc,[Xc,e("div",Jc,[Zc,e("button",{onClick:ne(se,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Be=Ke("SettingStore",()=>{const o=n({app_name:""}),f=gt("SettingStore:theme",n("light"));return{setting:o,getSetting:async()=>{await V.get("/api/settings").then(d=>{o.value=d.data})},theme:f,changeTheme:()=>{f.value=f.value==="light"?"dark":"light"}}});const Z=o=>(Me("data-v-56abd651"),o=o(),Ue(),o),tr={class:"content"},sr={class:"container-fluid"},ar={class:"card"},or={class:"card-header"},lr={class:"card-title"},nr={class:"card-body"},dr={class:"col-md-12"},ir={class:"d-flex justify-content-between"},cr=Z(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),rr={class:"d-flex"},ur={class:"col-12",id:"accordion"},_r=Z(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),mr=Z(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),hr=Z(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),pr=Z(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),vr={key:1},br={key:0},fr={class:"card card-secondary"},$r={class:"card-body d-flex align-items-center justify-content-center"},gr={class:"image-container"},yr=["src"],kr=Z(()=>e("div",{class:"overlay"},null,-1)),xr={key:1},wr={class:"card-header bg-white"},Cr={class:"card-title"},Sr=["href"],Dr=["src"],Mr={class:"card-tools"},Ur=["onClick"],Vr=Z(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ar=[Vr],Tr=["disabled","onClick"],Er=["onClick"],Pr=Z(()=>e("p",{class:"float-right"},null,-1)),Fr=["id"],Ir={class:"card-body"},Lr={class:"col-md-12"},Yr={class:"dispatch-table"},Br={class:"row"},qr={class:"col-4"},Nr=Z(()=>e("b",null,"Site:",-1)),Rr=Z(()=>e("b",null,"Planned Date:",-1)),jr=Z(()=>e("b",null,"Planned End Date:",-1)),Hr={class:"col-4"},Or=Z(()=>e("b",null,"Start Date:",-1)),zr=Z(()=>e("b",null,"Accomplished Date:",-1)),Gr={class:"closestatus"},Qr=Z(()=>e("b",{style:{color:"black"}},"Type:",-1)),Wr={class:"col-4"},Kr={class:"ongoing"},Xr=Z(()=>e("b",{style:{color:"black"}},"Status:",-1)),Jr=Z(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Zr=Z(()=>e("b",null,"Remarks:",-1)),eu={style:{margin:"0.5%"}},tu=["disabled","onClick"],su=["onClick","disabled"],au={class:"dispatch-list"},ou={class:"list-group list-group-flush"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},gu={class:"badge badge-primary badge-pill"},yu=Z(()=>e("hr",null,null,-1)),ku={class:"row"},xu={class:"col"},wu=["onClick"],Cu=Z(()=>e("i",{class:"fas fa-pen"},null,-1)),Su=["onClick"],Du=Z(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),Y(" Drop ")],-1)),Mu=[Du],Uu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vu={class:"modal-dialog modal-dialog-centered",role:"document"},Au={class:"modal-content"},Tu={class:"modal-header"},Eu={class:"modal-title",id:"staticBackdropLabel"},Pu={key:0},Fu={key:1},Iu={key:2},Lu=Z(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Yu={class:"modal-body"},Bu={class:"col-md-12"},qu={class:"row"},Nu={class:"col-12"},Ru={class:"form-group"},ju=Z(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Hu=Z(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Ou=["value"],zu={key:0,class:"d-flex justify-content-between"},Gu={class:"d-flex"},Qu={class:"form-group"},Wu=Z(()=>e("label",{for:"end-time"},"Start Date",-1)),Ku={class:"form-group"},Xu=Z(()=>e("label",{for:"end-time"},"Hour",-1)),Ju=["value"],Zu=Z(()=>e("div",{class:"d-fex"},null,-1)),e_={key:1,class:"d-flex justify-content-between"},t_={class:"d-flex"},s_={class:"form-group"},a_=Z(()=>e("label",{for:"end-time"},"End Date",-1)),o_={class:"form-group"},l_=Z(()=>e("label",{for:"end-time"},"Hour",-1)),n_=["value"],d_=Z(()=>e("div",{class:"d-fex"},null,-1)),i_={class:"form-group"},c_=Z(()=>e("label",{for:"site"},"Task",-1)),r_=Z(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),u_=["value"],__=Z(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),m_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},h_={class:"modal-dialog modal-sm",role:"document"},p_={class:"modal-content"},v_={class:"modal-header"},b_={class:"modal-title",id:"staticBackdropLabel"},f_=Z(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),$_={class:"modal-body"},g_=Ce('<ul class="nav nav-tabs" id="myTabs" data-v-56abd651><li class="nav-item" data-v-56abd651><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-56abd651> Todo List</a></li><li class="nav-item" data-v-56abd651><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-56abd651> Todo</a></li></ul>',1),y_={class:"tab-content"},k_={class:"tab-pane fade show active",id:"todolist"},x_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},w_=Z(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),C_=Z(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),S_={key:0,class:"list-group-item mt-2"},D_={class:"d-flex justify-content-between"},M_={class:"d-flex"},U_=["onClick"],V_={class:"d-flex"},A_=["onClick"],T_={class:"m-2 list-unstyled"},E_={key:1},P_={key:0,class:"list-group-item mt-2"},F_={class:"d-flex justify-content-between"},I_={class:"d-flex"},L_=["onClick"],Y_={class:"d-flex"},B_=["onClick"],q_={key:1,class:"mt-2 text-center"},N_=Z(()=>e("span",null,"No Todo",-1)),R_=[N_],j_={class:"tab-pane fade",id:"formTask"},H_={class:"col-md-12"},O_={class:"row"},z_={class:"col-12"},G_={class:"m-2",style:{display:"flex","align-items":"center"}},Q_=Z(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),Y("\xA0Save ")])],-1)),W_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K_={class:"modal-dialog",role:"document"},X_={class:"modal-content"},J_=Ce('<div class="modal-header" data-v-56abd651><h5 class="modal-title" id="staticBackdropLabel" data-v-56abd651><span data-v-56abd651>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-56abd651><span aria-hidden="true" data-v-56abd651>\xD7</span></button></div><div class="modal-body" data-v-56abd651><h5 data-v-56abd651>Are you sure you want to delete this record ?</h5></div>',2),Z_={class:"modal-footer"},em=Z(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),tm={__name:"MyPrio",setup(o){const f=`${$e().name}`,r=n(!1),l=n(!1),d=Xe("$swal");Be();const _=re(),g=n({data:[]}),U=n([]);n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const m=n();n();const L=n(!0),c=n(!1);n(!1),n();const b=n(),u=n(),y=n(),q=ce();n(null),n(!1);const H=n([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),j=n(),oe=n("1:00 AM"),F=n(),x=n("1:00 AM"),k=n(Array.from({length:24},(P,N)=>{const h=N%12+1,ue=N<12?"AM":"PM";return`${h}:00 ${ue}`})),p=n(Array.from({length:24},(P,N)=>{const h=N%12+1,ue=N<12?"AM":"PM";return`${h}:00 ${ue}`})),T=Ae({dailytask_id:"",site:"",user_id:q.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});fe([j,oe],()=>{const P=new Date(j.value),N=P.getFullYear(),h=String(P.getMonth()+1).padStart(2,"0"),ue=String(P.getDate()).padStart(2,"0");T.plandate=`${N}-${h}-${ue} ${oe.value}`}),fe([j,x],()=>{const P=new Date(j.value);P.getFullYear(),String(P.getMonth()+1).padStart(2,"0"),String(P.getDate()).padStart(2,"0")}),fe([F,x],()=>{const P=new Date(F.value),N=P.getFullYear(),h=String(P.getMonth()+1).padStart(2,"0"),ue=String(P.getDate()).padStart(2,"0");T.enddates=`${N}-${h}-${ue} ${x.value}`});const O=n({id:"",dailytask_id:"",task_name:"",iscompleted:0}),te=()=>{V.get("/web/getsite").then(P=>{m.value=P.data.sites}).catch(P=>{console.log(P)})},X=()=>{r.value=!0,V.get("/api/dailytask",{params:{query:Ne.value}}).then(P=>{r.value=!1,g.value=P.data,ot.value=[]})},se=async P=>{(await d({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(r.value=!0,V.put(`/api/dailytask/drop/${P}`).then(h=>{_.success("Data drop successfully!"),r.value=!1,X()}))},he=()=>{$("#FormModalTask").modal("show")},C=P=>{he(),O.value.dailytask_id=P.dailytask_id,u.value=P.taskdate,y.value=P.startdate,l.value=!0,V.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(N=>{U.value=N.data,he(),l.value=!1}).catch(N=>{console.error("Error fetching tasks:",N)})},v=()=>{l.value=!0,V.post("/api/dailytask/addnewTask",{dailytask_id:O.value.dailytask_id,task_name:O.value.task_name,iscompleted:O.value.iscompleted}).then(P=>{_.success("Data created successfully!"),V.get(`/api/dailytask/${O.value.dailytask_id}/tasks`).then(N=>{U.value=N.data,l.value=!1}).catch(N=>{console.error("Error fetching tasks:",N),_.error("Error fetching tasks. Please try again.")}),O.value.task_name=""}).catch(P=>{console.error("Error adding new task:",P),_.error("Error adding new task. Please try again.")})},M=P=>{O.value.iscompleted=P.iscompleted===1?0:1,V.post("/api/dailytask/addnewTask",{id:P.id,dailytask_id:P.dailytask_id,task_name:P.task_name,iscompleted:O.value.iscompleted}).then(N=>{V.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(h=>{U.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),_.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),_.error("Error adding new task. Please try again.")})},w=Fe(()=>Array.isArray(U.value)?U.value.filter(P=>P.iscompleted===1):[]),S=Fe(()=>w.value.length),pe=()=>{L.value=!L.value},B=P=>{V.delete(`/api/dailytask/deleteTask/${P.id}`).then(N=>{V.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(h=>{U.value=h.data,_.success("Todo successfull Deleted")}).catch(h=>{console.error("Error fetching tasks:",h),_.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),_.error("Error adding new task. Please try again.")})};we({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()}),we({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()});const W=(P,N)=>{V.post("/api/dailytask",T).then(h=>{console.log(h.data),X(),$("#FormModal").modal("hide"),_.success("data created successfully!")}).catch(h=>{N.setErrors(h.response.data.errors)})},z=(P,N)=>{V.put("/api/dailytask/"+T.dailytask_id,T).then(h=>{console.log(h.data),X(),$("#FormModal").modal("hide"),_.success("data update successfully!")}).catch(h=>{N.setErrors(h.response.data.errors)})},ee=P=>{P&&P.dailytask_id!==null&&P.dailytask_id!==void 0?(c.value=!0,b.value=" on "+be(P.taskdate).format("MMMM D, YYYY"),T.site=P.site,T.dailytask_id=P.dailytask_id,T.plandate=P.plandate,T.planenddate=P.planenddate):c.value=!1,te(),$("#FormModal").modal("show")},ke=(P,N)=>{c.value?z(P,N):W(P,N)},le=async P=>{try{const N=await V.get(`/api/dailytask/${P.dailytask_id}/tasks`);if(U.value=N.data,!U.value||U.value.length===0){d.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await d.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ue=await V.put("/api/dailytask/onhandler/"+P.dailytask_id,P);_.success(ue.data.message),X()}}catch(N){console.error("Error fetching tasks:",N),_.error("An error occurred while updating the task.")}},Se=async P=>{if((await d({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{be(P.taskdate).format("YYYY-MM-DD")===be().format("YYYY-MM-DD")?(P.remarks="HIT",P.status="On Schedule"):(P.remarks="MISS",P.status="Behind Schedule");const ue=await V.put("/api/dailytask/onhandler/"+P.dailytask_id,P);_.success(ue.data.message),X()}catch(h){console.error(h),_.error("An error occurred while updating the task.")}},Ne=n(null),ot=n([]),Ge=n(null),lt=()=>{V.delete(`/api/tech-recommendations/${Ge.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Client deleted successfully!"),g.value.data=g.value.data.filter(P=>P.id!==Ge.value)})};return fe(Ne,Pe.exports.debounce(()=>{X()},300)),_e(()=>{Je(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),X(),document.title=f}),(P,N)=>(t(),a(R,null,[e("div",tr,[e("div",sr,[e("div",ar,[e("div",or,[e("div",lr,s(i(q).user.first_name+" "+i(q).user.last_name)+" - My Prio ",1)]),e("div",nr,[e("div",dr,[e("div",ir,[e("div",{class:"d-flex"},[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary"},[cr,Y(" Task ")])]),e("div",rr,[K(e("input",{type:"text","onUpdate:modelValue":N[0]||(N[0]=h=>Ne.value=h),class:"form-control",placeholder:"Search..."},null,512),[[de,Ne.value]])])]),e("div",ur,[r.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[_r,mr,hr,pr]),_:1})):(t(),a("div",vr,[g.value.length===0?(t(),a("div",br,[e("div",fr,[e("div",$r,[e("div",gr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,yr),kr])])])])):(t(),a("div",xr,[(t(!0),a(R,null,Q(g.value,h=>(t(),a("div",{class:"card card-primary",key:h.id},[e("div",wr,[e("h4",Cr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+h.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Dr),Y(" \xA0"),e("b",null,s(i(be)(h.taskdate).format("MMMM D, YYYY")),1)],8,Sr)]),e("div",Mr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ue=>C(h)},Ar,8,Ur),e("button",{disabled:h.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ue=>Se(h)}," End ",8,Tr),h.startdate?E("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ue=>le(h)}," Start ",8,Er)),Pr])]),e("div",{id:"collapse"+h.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Ir,[e("div",Lr,[e("div",Yr,[e("div",Br,[e("div",qr,[e("h5",null,[Nr,Y(" "+s(h.site_name),1)]),e("h5",null,[Rr,Y(" "+s(h.plandate),1)]),e("h5",null,[jr,Y(" "+s(h.planenddate),1)])]),e("div",Hr,[e("h5",null,[Or,Y(" "+s(h.startdate!==null?i(be)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[zr,Y(" "+s(h.enddate!==null?i(be)(h.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Gr,[Qr,Y(" "+s(h.tasktype?h.tasktype.join(", "):""),1)])]),e("div",Wr,[e("h5",Kr,[Xr,Y(" "+s(h.status),1)]),e("h5",null,[Jr,Y(" "+s(h.attachment),1)]),e("h5",null,[Zr,Y(" "+s(h.remarks),1)])])]),e("div",eu,[e("button",{disabled:h.startdate!==null,onClick:ue=>se(h.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,tu),e("button",{onClick:ue=>ee(h),type:"button",disabled:h.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,su)])]),e("div",au,[e("ul",ou,[e("li",lu,[Y(" Site: "),e("span",nu,s(h.site_name),1)]),e("li",du,[Y(" Planned Date: "),e("span",iu,s(h.plandate),1)]),e("li",cu,[Y(" Planned End Date: "),e("span",ru,s(h.planenddate),1)]),e("li",uu,[Y(" Start Date: "),e("span",_u,s(h.startdate!==null?i(be)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",mu,[Y(" Type: "),e("span",hu,s(h.tasktype?h.tasktype.join(", "):""),1)]),e("li",pu,[Y(" Status: "),e("span",vu,s(h.status),1)]),e("li",bu,[Y(" Attachment: "),e("span",fu,s(h.attachment),1)]),e("li",$u,[Y(" Remarks: "),e("span",gu,s(h.remarks),1)])]),yu,e("div",ku,[e("div",xu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ue=>ee(h)},[Cu,Y(" Edit ")],8,wu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ue=>se(h.dailytask_id)},Mu,8,Su)])])])])])],8,Fr)]))),128))]))]))])])])])])]),e("div",Uu,[e("div",Vu,[e("div",Au,[e("div",Tu,[e("h5",Eu,[c.value?(t(),a("span",Pu,"Edit My Task")):(t(),a("span",Fu,"Add My Task")),c.value?(t(),a("span",Iu,s(b.value),1)):E("",!0)]),Lu]),D(i(De),{onSubmit:ke},{default:J(()=>[e("div",Yu,[e("div",Bu,[e("div",qu,[e("div",Nu,[D(i(G),{modelValue:T.user_id,"onUpdate:modelValue":N[1]||(N[1]=h=>T.user_id=h),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Ru,[ju,K(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":N[2]||(N[2]=h=>T.site=h)},[Hu,(t(!0),a(R,null,Q(m.value,h=>(t(),a("option",{key:h.id,value:h.id},s(h.site_name),9,Ou))),128))],512),[[Te,T.site]])]),c.value==!1?(t(),a("div",zu,[e("div",Gu,[e("div",Qu,[Wu,D(i(Ie),{class:"form-control",modelValue:j.value,"onUpdate:modelValue":N[3]||(N[3]=h=>j.value=h)},null,8,["modelValue"])]),e("div",Ku,[Xu,K(e("select",{class:"form-control","onUpdate:modelValue":N[4]||(N[4]=h=>oe.value=h),id:"plandate"},[(t(!0),a(R,null,Q(k.value,h=>(t(),a("option",{key:h,value:h},s(h),9,Ju))),128))],512),[[Te,oe.value]])])]),Zu])):E("",!0),c.value==!1?(t(),a("div",e_,[e("div",t_,[e("div",s_,[a_,D(i(Ie),{class:"form-control",modelValue:F.value,"onUpdate:modelValue":N[5]||(N[5]=h=>F.value=h)},null,8,["modelValue"])]),e("div",o_,[l_,K(e("select",{class:"form-control","onUpdate:modelValue":N[6]||(N[6]=h=>x.value=h),id:"plandate"},[(t(!0),a(R,null,Q(p.value,h=>(t(),a("option",{key:h,value:h},s(h),9,n_))),128))],512),[[Te,x.value]])])]),d_])):E("",!0),e("div",i_,[c_,D(i(G),{name:"tasktype"},{default:J(()=>[K(e("select",{"onUpdate:modelValue":N[7]||(N[7]=h=>T.tasktype=h),class:"form-control",required:!0},[r_,(t(!0),a(R,null,Q(H.value,h=>(t(),a("option",{key:h.value,value:h.value},s(h.name),9,u_))),128))],512),[[Te,T.tasktype]])]),_:1})])])])])]),__]),_:1})])])]),e("div",m_,[e("div",h_,[e("div",p_,[e("div",v_,[e("h5",b_," My Todo of "+s(i(be)(u.value).format("MM/D/YYYY")),1),f_]),e("div",$_,[g_,e("div",y_,[e("div",k_,[U.value.length>0?(t(),a("div",x_,[l.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[w_,C_]),_:1})):E("",!0),(t(!0),a(R,null,Q(U.value,h=>(t(),a("ul",{class:"list-group",key:h.id},[h.iscompleted!==1?(t(),a("li",S_,[e("div",D_,[e("div",M_,[y.value?(t(),a("i",{key:0,onClick:ue=>M(h),class:A({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1}),style:{"font-size":"15px"}},null,10,U_)):E("",!0),e("span",{class:A({"font-italic":h.iscompleted===1,"":h.iscompleted!==1})},s(h.task_name),3)]),e("div",V_,[e("i",{class:"fa fa-trash text-danger",onClick:ue=>B(h)},null,8,A_)])])])):E("",!0)]))),128)),e("li",T_,[S.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:pe},[e("i",{class:A(["fa",L.value?"fa-arrow-down":"fa-arrow-right"])},null,2),Y(" \xA0Completed "+s(S.value),1)])):E("",!0)]),L.value?(t(),a("div",E_,[(t(!0),a(R,null,Q(U.value,h=>(t(),a("ul",{class:"list-group",key:h.id},[h.iscompleted===1?(t(),a("li",P_,[e("div",F_,[e("div",I_,[e("i",{class:A({"cursor-pointer mr-2":!0,"fa fa-check-circle":h.iscompleted===1,"fa fa-circle":h.iscompleted!==1}),style:{"font-size":"15px"},onClick:ue=>M(h)},null,10,L_),e("span",{class:A({"font-italic":h.iscompleted===1,"":h.iscompleted!==1})},[e("del",null,s(h.task_name),1)],2)]),e("div",Y_,[e("i",{class:"fa fa-trash text-danger",onClick:ue=>B(h)},null,8,B_)])])])):E("",!0)]))),128))])):E("",!0)])):(t(),a("div",q_,R_))]),e("div",j_,[D(i(De),{onSubmit:v},{default:J(()=>[e("div",H_,[e("div",O_,[e("div",z_,[D(i(G),{modelValue:O.value.dailytask_id,"onUpdate:modelValue":N[8]||(N[8]=h=>O.value.dailytask_id=h),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",G_,[D(i(G),{modelValue:O.value.task_name,"onUpdate:modelValue":N[9]||(N[9]=h=>O.value.task_name=h),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),Q_]),_:1})])])])])])]),e("div",W_,[e("div",K_,[e("div",X_,[J_,e("div",Z_,[em,e("button",{onClick:ne(lt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var sm=ye(tm,[["__scopeId","data-v-56abd651"]]);const am={class:"text-center"},om={key:0},lm={class:"text-center"},nm={key:0},dm={class:"text-center"},im={key:0},cm={key:0,class:"bg-success text-center"},rm={key:1,class:"bg-danger text-center"},um={key:2,class:"text-center"},_m={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return re(),ce(),(f,r)=>(t(),a("tr",null,[e("td",null,s(i(be)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",am,[o.item.task_lists_count!==0?(t(),a("span",om,s(o.item.task_lists_count),1)):E("",!0)]),e("td",lm,[o.item.completed_task_count!==0?(t(),a("span",nm,s(o.item.completed_task_count),1)):E("",!0)]),e("td",dm,[o.item.status!=="On Going"?(t(),a("span",im,s(o.item.status),1)):E("",!0)]),o.item.remarks==="HIT"?(t(),a("td",cm,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",rm,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",um,s(o.item.startdate!=null?"On Going!":""),1)):E("",!0),e("td",{class:A({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const ve=o=>(Me("data-v-0e97ba77"),o=o(),Ue(),o),mm={class:"content-header"},hm={class:"container-fluid"},pm={class:"col-12"},vm={class:"card",id:"captureVSCContainer"},bm={class:"card-header"},fm={class:"card-title"},$m={class:"card-tools"},gm={class:"card-body"},ym=ve(()=>e("i",{class:"fa fa-camera"},null,-1)),km=[ym],xm=ve(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),wm=ve(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Cm=ve(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Sm=ve(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Dm={key:1,class:"row"},Mm={class:"inner"},Um={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Vm=["src"],Am={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Tm={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Em={style:{"text-align":"left"}},Pm={key:0},Fm=ve(()=>e("span",{class:"text-light badge"},"Todos",-1)),Im={class:"list-group list-group-flush"},Lm={style:{display:"flex","align-items":"left"}},Ym={class:"ml-1"},Bm={class:"ml-1"},qm={key:1},Nm={class:"float-right"},Rm={id:"captureHitRateContainer",class:"card"},jm={class:"card-header"},Hm={class:"card-title"},Om={class:"card-body"},zm={class:"content"},Gm={class:"container-fluid"},Qm=ve(()=>e("i",{class:"fa fa-camera"},null,-1)),Wm=[Qm],Km={class:"dispatch-table"},Xm={class:"table-responsive"},Jm={class:"table table-bordered table-hover table-sm"},Zm=ve(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),eh=["item"],th={class:"list-field"},sh=ve(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),ah={class:"list-field"},oh=ve(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),lh={key:0},nh={class:"list-field"},dh=ve(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),ih={key:0},ch={class:"list-field"},rh=ve(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),uh={class:"list-field"},_h=ve(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),mh={class:"list-field"},hh=ve(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),ph={class:"float-right"},vh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},bh={class:"modal-dialog modal-sm",role:"document"},fh={class:"modal-content"},$h=ve(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),gh={class:"modal-body"},yh={class:"fromtocenter"},kh=ve(()=>e("label",{for:"fromDate"},"From:",-1)),xh=ve(()=>e("label",{for:"toDate"},"To:",-1)),wh=ve(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ch={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sh={class:"modal-dialog modal-sm",role:"document"},Dh={class:"modal-content"},Mh=ve(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Uh={class:"modal-body"},Vh={class:"container"},Ah={class:"row"},Th=["onClick"],Eh=ve(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Ph={__name:"MyVsc",setup(o){const f=`${$e().name}`,r=ce(),l=n(!1),d=n([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),g=n((()=>{const x={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",x)})()),U=()=>{const x=document.getElementById("captureVSCContainer");He(x).then(k=>{const p=k.toDataURL(),T=document.createElement("a");T.href=p,T.download=`${r.user.first_name+" "+r.user.last_name} - ${f}.png`,T.click()})},m=()=>{const x=document.getElementById("captureHitRateContainer");He(x).then(k=>{const p=k.toDataURL(),T=document.createElement("a");T.href=p,T.download=`${r.user.first_name+" "+r.user.last_name} - My HIT RATE.png`,T.click()})};n(null),n("today");const L=n({data:[]}),c=n({data:[]}),b=()=>{l.value=!0,axios.get("/api/myvsc").then(x=>{l.value=!1,L.value=x.data.dailyTasks,c.value=x.data.TaskList})},u=()=>{$("#FormModalfilterDate").modal("show")},y=n({start_date:"",end_date:""}),q=n(""),H=n("");fe([q],()=>{const x=new Date(q.value),k=x.getFullYear(),p=String(x.getMonth()+1).padStart(2,"0"),T=String(x.getDate()).padStart(2,"0");y.value.start_date=`${k}-${p}-${T}`}),fe([H],()=>{const x=new Date(H.value),k=x.getFullYear(),p=String(x.getMonth()+1).padStart(2,"0"),T=String(x.getDate()).padStart(2,"0");y.value.end_date=`${k}-${p}-${T}`});const j=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:y.value.start_date,end_date:y.value.end_date}}).then(x=>{l.value=!1,L.value=x.data.dailyTasks,c.value=x.data.TaskList}).catch(x=>{console.error(x)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},oe=()=>{$("#FormModalPickerThemes").modal("show")},F=x=>{if(x){const k=r.user.id;axios.post("/api/changethemes",{userid:k,background:x.background,active_background:x.active_background,font_background:x.font_background}).then(p=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(T=>{l.value=!1,L.value=T.data.dailyTasks,c.value=T.data.TaskList})}).catch(p=>{console.error(p)})}else console.error("Invalid item:",x)};return _e(()=>{b(),document.title=f}),(x,k)=>(t(),a(R,null,[e("div",mm,[e("div",hm,[e("div",pm,[e("div",vm,[e("div",bm,[e("div",fm,[e("h5",null,s(i(r).user.first_name+" "+i(r).user.last_name)+" - "+s(f),1)]),e("div",$m,[e("i",{onClick:k[0]||(k[0]=p=>oe()),class:"fas fa-palette"})])]),e("div",gm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:U,type:"button",class:"mb-2 btn btn-sm btn-success"},km)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:u})])]),l.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[xm,wm,Cm,Sm]),_:1})):(t(),a("div",Dm,[(t(!0),a(R,null,Q(L.value,p=>(t(),a("div",{class:"col-lg-3 col-6",key:p.id},[e("div",{class:"small-box",style:je("background-color: "+(i(be)(p.taskdate).format("MMMM D, YYYY")===g.value?p.active_background==""?"#72461F":p.active_background:p.background==""?"#B98D65":p.background)+";")},[e("div",Mm,[e("div",Um,[Y(s(i(be)(p.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Vm)]),e("div",Am,s(i(be)(p.taskdate).format("MMMM D, YYYY")),1),e("div",Tm,s(p.site_name),1),e("div",Em,[p.task_lists&&p.task_lists.length>0?(t(),a("div",Pm,[Fm,e("ul",Im,[(t(!0),a(R,null,Q(p.task_lists,T=>(t(),a("li",{class:"list-group-item",key:T.id},[e("div",Lm,[e("div",Ym,[e("i",{class:A(T.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Bm,s(T.task_name),1)])]))),128))])])):(t(),a("span",qm))])])],4)]))),128))])),e("div",Nm,s(g.value),1)])]),e("div",Rm,[e("div",jm,[e("div",Hm,[e("h5",null,s(i(r).user.first_name+" "+i(r).user.last_name)+" - My HIT RATE ",1)])]),e("div",Om,[e("div",zm,[e("div",Gm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:m,type:"button",class:"mb-2 btn btn-sm btn-success"},Wm)])]),e("div",Km,[e("div",Xm,[e("table",Jm,[Zm,e("tbody",null,[(t(!0),a(R,null,Q(c.value,p=>(t(),ie(_m,{key:p.id,item:p},null,8,["item"]))),128))])])])]),(t(!0),a(R,null,Q(c.value,p=>(t(),a("div",{class:"dispatch-list",key:p.id,item:p},[e("div",{class:A([{"callout callout-success":p.remarks==="HIT","callout callout-danger":p.remarks==="MISS",callout:p.remarks===null}])},[e("div",th,[sh,e("span",null,s(i(be)(p.taskdate).format("MMMM D, YYYY")),1)]),e("div",ah,[oh,p.task_lists_count!==0?(t(),a("span",lh,s(p.task_lists_count),1)):E("",!0)]),e("div",nh,[dh,p.completed_task_count!==0?(t(),a("span",ih,s(p.completed_task_count),1)):E("",!0)]),e("div",ch,[rh,e("span",null,[e("b",null,s(p.status),1)])]),e("div",uh,[_h,e("span",{class:A(["badge",p.remarks==="HIT"?"bg-success":"bg-danger"])},s(p.remarks),3)]),e("div",mh,[hh,e("span",{class:A(["badge",{"bg-danger":p.percentage_completed>=0&&p.percentage_completed<=59},{"bg-orange":p.percentage_completed>60&&p.percentage_completed<=90},{"bg-success":p.percentage_completed===100}])},s(p.percentage_completed+"%"),3)])],2)],8,eh))),128))])]),e("div",ph,s(g.value),1)])])])])]),e("div",vh,[e("div",bh,[e("div",fh,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(f)+" Summary Report")]),$h]),e("div",gh,[e("div",yh,[e("div",null,[kh,D(i(Ie),{modelValue:q.value,"onUpdate:modelValue":k[1]||(k[1]=p=>q.value=p)},null,8,["modelValue"])]),e("div",null,[xh,D(i(Ie),{modelValue:H.value,"onUpdate:modelValue":k[2]||(k[2]=p=>H.value=p)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[wh,e("button",{onClick:j,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Ch,[e("div",Sh,[e("div",Dh,[Mh,e("div",Uh,[e("div",Vh,[e("div",Ah,[(t(!0),a(R,null,Q(d.value,p=>(t(),a("div",{class:"col-md-4",key:p.background},[e("div",{class:"box",onClick:T=>F(p)},[e("div",{class:"column",style:je({"background-color":p.background})},"\xA0",4),e("div",{class:"column",style:je({"background-color":p.active_background})},"\xA0",4)],8,Th)]))),128))])])]),Eh])])])],64))}};var Fh=ye(Ph,[["__scopeId","data-v-0e97ba77"]]);const Ih={class:"text-center"},Lh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return re(),ce(),(f,r)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(i(be)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Ih,[e("span",{class:A(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Yh=ye(Lh,[["__scopeId","data-v-f22938e0"]]);const ge=o=>(Me("data-v-cf91975a"),o=o(),Ue(),o),Bh={class:"content"},qh={class:"container-fluid"},Nh={class:"card",id:"capturePrioContainer"},Rh={class:"card-header"},jh={class:"card-title"},Hh={class:"card-body"},Oh=ge(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),zh=ge(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Gh=ge(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Qh=ge(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Wh={key:1,class:"content"},Kh={class:"container-fluid"},Xh=ge(()=>e("i",{class:"fa fa-camera"},null,-1)),Jh=[Xh],Zh={class:"dispatch-table"},ep={class:"table-responsive"},tp={class:"table table-bordered table-sm table-striped table-hover"},sp=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),ap={key:0},op={key:1},lp=ge(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),np=[lp],dp=["item","index"],ip={class:"card"},cp={class:"card-body"},rp={class:"list-field"},up=ge(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),_p={class:"list-field"},mp=ge(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),hp={class:"list-field"},pp=ge(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),vp={class:"list-field"},bp=ge(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),fp={class:"list-field"},$p=ge(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),gp={class:"list-field"},yp=ge(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),kp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xp={class:"modal-dialog modal-sm",role:"document"},wp={class:"modal-content"},Cp=ge(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Sp={class:"modal-body"},Dp={class:"fromtocenter"},Mp=ge(()=>e("label",{for:"fromDate"},"From:",-1)),Up=ge(()=>e("label",{for:"toDate"},"To:",-1)),Vp=ge(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ap={__name:"MyClosePrioList",setup(o){const f=`${$e().name}`,r=n(!1);re();const l=n({data:[]}),d=n(""),_=n(""),g=ce(),U=(b=1)=>{r.value=!0,V.get(`/api/mycloseprio?page=${b}`,{params:{query:c.value}}).then(u=>{r.value=!1,l.value=u.data})},m=()=>{const b=document.getElementById("capturePrioContainer");He(b).then(u=>{const y=u.toDataURL(),q=document.createElement("a");q.href=y,q.download="MY CLOSED PRIO.png",q.click()})},L=()=>{r.value=!0,V.get("/api/filter-closeprio",{params:{start_date:d.value,end_date:_.value}}).then(b=>{r.value=!1,l.value=b.data.dailyTasks}).catch(b=>{console.error(b)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},c=n(null);return fe(c,Pe.exports.debounce(()=>{U()},300)),_e(()=>{U(),document.title=f}),(b,u)=>{const y=xe("font");return t(),a(R,null,[e("div",Bh,[e("div",qh,[e("div",Nh,[e("div",Rh,[e("div",jh,[e("h5",null,s(i(g).user.first_name+" "+i(g).user.last_name)+" - My Closed Prio ",1)])]),e("div",Hh,[r.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[Oh,zh,Gh,Qh]),_:1})):(t(),a("div",Wh,[e("div",Kh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:m,type:"button",class:"mb-2 btn btn-sm btn-success"},Jh)])]),e("div",null,[e("div",Zh,[e("div",ep,[D(y,{size:"2"},{default:J(()=>[e("table",tp,[sp,l.value.data.length>0?(t(),a("tbody",ap,[(t(!0),a(R,null,Q(l.value.data,(q,H)=>(t(),ie(Yh,{key:q.id,item:q,index:H},null,8,["item","index"]))),128))])):(t(),a("tbody",op,np))])]),_:1})])]),(t(!0),a(R,null,Q(l.value.data,(q,H)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:q.id,item:q,index:H},[e("div",ip,[e("div",cp,[e("div",rp,[up,e("span",null,s(q.sitename),1)]),e("div",_p,[mp,e("span",null,s(i(be)(q.taskdate).format("MMMM D, YYYY")),1)]),e("div",hp,[pp,e("span",null,s(q.startdate),1)]),e("div",vp,[bp,e("span",null,s(q.enddate),1)]),e("div",fp,[$p,e("span",null,s(q.tasktype.listtask),1)]),e("div",gp,[yp,e("span",{class:A(["badge",q.remarks==="HIT"?"bg-success":"bg-danger"])},s(q.remarks),3)])])])],8,dp))),128))])])]))])]),D(i(Ye),{data:l.value,onPaginationChangePage:U},null,8,["data"])])]),e("div",kp,[e("div",xp,[e("div",wp,[Cp,e("div",Sp,[e("div",Dp,[e("div",null,[Mp,D(i(Ie),{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=q=>d.value=q)},null,8,["modelValue"])]),e("div",null,[Up,D(i(Ie),{modelValue:_.value,"onUpdate:modelValue":u[1]||(u[1]=q=>_.value=q)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Vp,e("button",{onClick:L,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Tp=ye(Ap,[["__scopeId","data-v-cf91975a"]]);const Ep=["checked"],Pp={class:"text-center"},Fp=e("i",{class:"fa fa-edit"},null,-1),Ip=[Fp],Lp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:f}){re();const r=o,l=f,d=()=>{l("toggleSelection",r.user)};return(_,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Ep)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",Pp,[e("a",{href:"#",onClick:g[0]||(g[0]=ne(U=>_.$emit("editUser",o.user),["prevent"]))},Ip)])]))}},Yp={class:"content"},Bp={class:"container-fluid"},qp={class:"card"},Np={class:"card-header"},Rp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),jp={class:"card-tools"},Hp={class:"card-body"},Op={class:"table-responsive"},zp={class:"table table-bordered table-hover table-sm"},Gp=e("th",{style:{width:"10px"}},"#",-1),Qp=e("th",null,"Name",-1),Wp=e("th",null,"Email",-1),Kp=e("th",null,"Registered Date",-1),Xp=e("th",null,"Options",-1),Jp={key:0},Zp={key:1},ev=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),tv=[ev],sv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},av={class:"modal-dialog modal-sm",role:"document"},ov={class:"modal-content"},lv={class:"modal-header"},nv={class:"modal-title",id:"staticBackdropLabel"},dv={key:0},iv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),cv={class:"modal-body"},rv={class:"table table-sm"},uv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),_v={colspan:"5"},mv={class:"custom-control custom-checkbox"},hv=["value","id","checked"],pv=["for"],vv={key:0,class:"table table-sm"},bv={class:"text-danger"},fv={class:"custom-control custom-checkbox"},$v=["value","id"],gv=["for"],yv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),kv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xv={class:"modal-dialog",role:"document"},wv={class:"modal-content"},Cv=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Sv={class:"modal-footer"},Dv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Mv={__name:"UserMenuList",setup(o){const f=`${$e().name}`,r=re(),l=n({data:[]}),d=n(!1),_=n(),g=n(null),U=n(null),m=n([]),L=(F=1)=>{V.get(`/api/users?page=${F}`,{params:{query:u.value}}).then(x=>{l.value=x.data,y.value=[],selectAll.value=!1})},c=F=>{V.get("/api/usermenu",{params:{user_id:F.id}}).then(x=>{oe.value=x.data,console.log(x.data)}).catch(x=>{console.log(x)}),d.value=!0,g.value.resetForm(),$("#userFormModal").modal("show"),_.value={id:F.id,username:F.username,email:F.email,first_name:F.first_name,last_name:F.last_name},U.value=_.value.first_name+" "+_.value.last_name},b=()=>{const F={user_id:_.value.id,menu_id:m.value};console.log(F),V.post("/api/usermenu",F).then(x=>{r.success("User Menu Save successfully!")}).catch(x=>{setErrors(x.response.data.errors)})},u=n(null),y=n([]),q=F=>{const x=y.value.indexOf(F.id);x===-1?y.value.push(F.id):y.value.splice(x,1),console.log(y.value)},H=n(null),j=F=>{H.value=F,$("#deleteUserModal").modal("show")},oe=n({data:[]});return fe(u,Pe.exports.debounce(()=>{L()},300)),_e(()=>{L(),document.title=f}),(F,x)=>{const k=xe("font");return t(),a(R,null,[e("div",Yp,[e("div",Bp,[e("div",qp,[e("div",Np,[Rp,e("div",jp,[K(e("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=p=>u.value=p),class:"form-control",placeholder:"Search..."},null,512),[[de,u.value]])])]),e("div",Hp,[e("div",Op,[D(k,{size:"2"},{default:J(()=>[e("table",zp,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":x[1]||(x[1]=p=>F.selectAll=p),onChange:x[2]||(x[2]=(...p)=>F.selectAllUsers&&F.selectAllUsers(...p))},null,544),[[Ve,F.selectAll]])]),Gp,Qp,Wp,Kp,Xp])]),l.value.data.length>0?(t(),a("tbody",Jp,[(t(!0),a(R,null,Q(l.value.data,(p,T)=>(t(),ie(Lp,{key:p.id,user:p,index:T,onEditUser:c,onConfirmUserDeletion:j,onToggleSelection:q,"select-all":F.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",Zp,tv))])]),_:1})])])]),D(i(Ye),{data:l.value,onPaginationChangePage:L},null,8,["data"])])]),e("div",sv,[e("div",av,[e("div",ov,[e("div",lv,[e("h5",nv,[d.value?(t(),a("span",dv,"User Menu for "+s(U.value),1)):E("",!0)]),iv]),D(i(De),{ref_key:"form",ref:g,onSubmit:b,"initial-values":_.value},{default:J(()=>[e("div",cv,[e("table",rv,[uv,(t(!0),a(R,null,Q(oe.value,p=>(t(),a("tr",{key:p.menu_id},[e("td",_v,[e("div",mv,[K(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":x[3]||(x[3]=T=>m.value=T),value:p.menu_id,id:"menu_id_"+p.menu_id,checked:p.hasAccess},null,8,hv),[[Ve,m.value]]),e("label",{for:"menu_id_"+p.menu_id,class:"custom-control-label"},s(p.menu_title),9,pv)]),p.submenus&&p.submenus.length>0?(t(),a("table",vv,[(t(!0),a(R,null,Q(p.submenus,T=>(t(),a("tr",{key:T.id},[e("td",bv,[e("div",fv,[K(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":x[4]||(x[4]=O=>m.value=O),value:T.menu_id,id:"menu_id_"+T.menu_id},null,8,$v),[[Ve,m.value]]),e("label",{for:"menu_id_"+T.menu_id,class:"custom-control-label"},s(T.menu_title),9,gv)])])]))),128))])):E("",!0)])]))),128))])]),yv]),_:1},8,["initial-values"])])])]),e("div",kv,[e("div",xv,[e("div",wv,[Cv,e("div",Sv,[Dv,e("button",{onClick:x[5]||(x[5]=ne((...p)=>F.deleteUser&&F.deleteUser(...p),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const et=o=>(Me("data-v-8e5d6dd6"),o=o(),Ue(),o),Uv=["checked"],Vv=["innerHTML"],Av={style:{"text-align":"center"}},Tv={class:"text-center"},Ev=et(()=>e("i",{class:"fa fa-edit"},null,-1)),Pv=[Ev],Fv=et(()=>e("i",{class:"fa fa-trash"},null,-1)),Iv=[Fv],Lv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:f}){re(),ce();const r=o,l=f,d=()=>{l("toggleSelection",r.item)};return(_,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Uv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Vv),e("td",null,s(o.item.sort_order),1),e("td",Av,[e("i",{class:A({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",Tv,[e("button",{class:"btn btn-sm bg-primary",onClick:g[0]||(g[0]=ne(U=>_.$emit("editMenu",o.item),["prevent"]))},Pv),Y("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:g[1]||(g[1]=ne(U=>_.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Iv)])]))}};var Yv=ye(Lv,[["__scopeId","data-v-8e5d6dd6"]]);const Bv={class:"content"},qv={class:"container-fluid"},Nv={class:"d-flex justify-content-between"},Rv={class:"d-flex"},jv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Hv={key:0},Ov=e("i",{class:"fa fa-trash mr-1"},null,-1),zv={class:"ml-2"},Gv={class:"card"},Qv={class:"card-body"},Wv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Kv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Xv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Jv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Zv={class:"table-responsive"},e1={class:"table table-bordered table-sm"},t1=e("th",{style:{width:"10px"}},"#",-1),s1=e("th",null,"Title",-1),a1=e("th",null,"Parent Menu",-1),o1=e("th",null,"Route",-1),l1=e("th",null,"Icon",-1),n1=e("th",null,"Sort",-1),d1=e("th",null,"Active",-1),i1=e("th",null,"Date",-1),c1=e("th",null,"Action",-1),r1={key:0},u1={key:1},_1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),m1=[_1],h1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},p1={class:"modal-dialog modal-sm",role:"document"},v1={class:"modal-content"},b1={class:"modal-header"},f1={class:"modal-title",id:"staticBackdropLabel"},$1={key:0},g1={key:1},y1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),k1={class:"modal-body"},x1={class:"col-md-12"},w1={class:"row"},C1={class:"col-12"},S1={class:"form-group"},D1=e("label",{for:"user"},"Menu Title",-1),M1={class:"invalid-feedback"},U1={class:"form-group"},V1=e("label",{for:"department"},"Parent Menu",-1),A1=e("option",{value:"0"},"None",-1),T1=["value"],E1={class:"form-group"},P1=e("label",{for:"warehouse"},"Icon",-1),F1={class:"invalid-feedback"},I1={class:"form-group"},L1=e("label",{for:"user"},"Route",-1),Y1={class:"invalid-feedback"},B1={class:"form-group"},q1=e("label",{for:"user"},"Sort",-1),N1={class:"invalid-feedback"},R1={class:"form-group"},j1=e("label",{for:"is_active"},"Active",-1),H1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),O1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},z1={class:"modal-dialog",role:"document"},G1={class:"modal-content"},Q1=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),W1={class:"modal-footer"},K1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),X1={__name:"MenuList",setup(o){const f=`${$e().name}`,r=re(),l=n({data:[]}),d=n({data:[]}),_=n(!1),g=n(!1);n();const U=n(!0),m=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),L=ce();n(null);const c=n(),b=(C=1)=>{_.value=!0,V.get(`/api/menulist?page=${C}`,{params:{query:x.value}}).then(v=>{_.value=!1,l.value=v.data,k.value=[],se.value=!1})},u=()=>{V.get("/api/GetParentId").then(C=>{d.value=C.data}).catch(C=>{console.error(C)})};we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const y=C=>{m.is_active=C?1:0},q=({resetForm:C,setErrors:v})=>{V.post("/api/menulist",{menu_title:m.menu_title,parent_id:m.parent_id,menu_icon:m.menu_icon,menu_route:m.menu_route,sort_order:m.sort_order,is_active:m.is_active}).then(M=>{l.value.data.unshift(M.data),$("#FormModal").modal("hide"),C(),r.success("User created successfully!")}).catch(M=>{M.response.data.errors&&v(M.response.data.errors)})},H=()=>{g.value=!1,$("#FormModal").modal("show")},j=C=>{g.value=!0,m.menu_id=C.menu_id,m.menu_title=C.menu_title,m.parent_id=C.parent_id,m.menu_icon=C.menu_icon,m.menu_route=C.menu_route,m.sort_order=C.sort_order,m.is_active===1?U.value=!0:U.value=!1,m.is_active=C.is_active,$("#FormModal").modal("show"),c.value=C.parent_id},oe=({setErrors:C})=>{V.post("/api/menulist",m).then(v=>{b(),$("#FormModal").modal("hide"),r.success("successfully Updated!")}).catch(v=>{C(v.response.data.errors),console.log(v)})},F=(C,v)=>{g.value?oe(C):q(C)},x=n(null),k=n([]),p=C=>{const v=k.value.indexOf(C.id);v===-1?k.value.push(C.id):k.value.splice(v,1),console.log(k.value)},T=n(null),O=C=>{T.value=C,$("#deleteClientModal").modal("show")},te=()=>{V.delete(`/api/menu/${T.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(C=>C.menu_id!==T.value)})},X=()=>{V.delete("menulist",{data:{ids:k.value}}).then(C=>{l.value.data=l.value.data.filter(v=>!k.value.includes(v.id)),k.value=[],se.value=!1,r.success(C.data.message)})},se=n(!1),he=()=>{se.value?k.value=l.value.data.map(C=>C.id):k.value=[],console.log(k.value)};return fe([U],C=>{m.is_active=C?1:0}),fe(x,Pe.exports.debounce(()=>{b()},300)),_e(()=>{b(),u(),document.title=f}),(C,v)=>{const M=xe("font");return t(),a(R,null,[e("div",Bv,[e("div",qv,[e("div",Nv,[e("div",Rv,[e("button",{onClick:H,type:"button",class:"mb-2 btn btn-primary"},[jv,Y(" Menu ")]),k.value.length>0?(t(),a("div",Hv,[e("button",{onClick:X,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Ov,Y(" Delete Selected ")]),e("span",zv,"Selected "+s(k.value.length)+" Menu",1)])):E("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=w=>x.value=w),class:"form-control",placeholder:"Search..."},null,512),[[de,x.value]])])]),e("div",Gv,[e("div",Qv,[_.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[Wv,Kv,Xv,Jv]),_:1})):E("",!0),e("div",Zv,[D(M,{size:"2"},{default:J(()=>[e("table",e1,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=w=>se.value=w),onChange:he},null,544),[[Ve,se.value]])]),t1,s1,a1,o1,l1,n1,d1,i1,c1])]),l.value.data.length>0?(t(),a("tbody",r1,[(t(!0),a(R,null,Q(l.value.data,(w,S)=>(t(),ie(Yv,{key:w.id,item:w,index:S,onEditMenu:j,onConfirmDeletion:O,onToggleSelection:p,"select-all":se.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",u1,m1))])]),_:1})])])]),D(i(Ye),{data:l.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",h1,[e("div",p1,[e("div",v1,[e("div",b1,[e("h5",f1,[g.value?(t(),a("span",$1,"Edit Menu")):(t(),a("span",g1,"Add Menu"))]),y1]),D(i(De),{onSubmit:F},{default:J(({errors:w})=>[e("div",k1,[e("div",x1,[e("div",w1,[e("div",C1,[D(i(G),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(L).user.id,"onUpdate:modelValue":v[2]||(v[2]=S=>i(L).user.id=S)},null,8,["modelValue"]),e("div",S1,[D1,D(i(G),{name:"menu_title",type:"text",class:A(["form-control",{"is-invalid":w.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:m.menu_title,"onUpdate:modelValue":v[3]||(v[3]=S=>m.menu_title=S)},null,8,["class","modelValue"]),e("span",M1,s(w.menu_title),1)]),e("div",U1,[V1,K(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":v[4]||(v[4]=S=>m.parent_id=S)},[A1,(t(!0),a(R,null,Q(d.value,S=>(t(),a("option",{key:S.menu_id,value:S.menu_id},s(S.menu_title),9,T1))),128))],512),[[Te,m.parent_id]])]),e("div",E1,[P1,D(i(G),{name:"menu_icon",type:"text",class:A(["form-control",{"is-invalid":w.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:m.menu_icon,"onUpdate:modelValue":v[5]||(v[5]=S=>m.menu_icon=S)},null,8,["class","modelValue"]),e("span",F1,s(w.menu_icon),1)]),e("div",I1,[L1,D(i(G),{name:"menu_route",type:"text",class:A(["form-control",{"is-invalid":w.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:m.menu_route,"onUpdate:modelValue":v[6]||(v[6]=S=>m.menu_route=S)},null,8,["class","modelValue"]),e("span",Y1,s(w.menu_route),1)]),e("div",B1,[q1,D(i(G),{name:"sort_order",type:"text",class:A(["form-control",{"is-invalid":w.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:m.sort_order,"onUpdate:modelValue":v[7]||(v[7]=S=>m.sort_order=S)},null,8,["class","modelValue"]),e("span",N1,s(w.sort_order),1)]),e("div",R1,[j1,K(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":v[8]||(v[8]=S=>U.value=S),onChange:y},null,544),[[Ve,U.value]])])])])])]),H1]),_:1})])])]),e("div",O1,[e("div",z1,[e("div",G1,[Q1,e("div",W1,[K1,e("button",{onClick:ne(te,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},J1={class:"error-page"},Z1=Ce('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),eb=[Z1],tb="Page Not Found",tt={__name:"404",setup(o){return _e(()=>{document.title=tb}),(f,r)=>(t(),a("div",J1,eb))}};const ae=o=>(Me("data-v-18d1690e"),o=o(),Ue(),o),sb={id:"exportPDF"},ab={class:"container"},ob=ae(()=>e("br",null,null,-1)),lb={class:"header"},nb=["src"],db=["src"],ib={class:"header"},cb={class:"header-justify-space-between"},rb=ae(()=>e("br",null,null,-1)),ub=ae(()=>e("p",null,null,-1)),_b={key:0},mb=ae(()=>e("strong",null,null,-1)),hb=ae(()=>e("br",null,null,-1)),pb=ae(()=>e("br",null,null,-1)),vb=ae(()=>e("p",null,null,-1)),bb=ae(()=>e("strong",null,"Unit details",-1)),fb={class:"content"},$b={class:"header-justify-space-between"},gb=ae(()=>e("span",null,"Brand:",-1)),yb=ae(()=>e("br",null,null,-1)),kb=ae(()=>e("span",null,"Model:",-1)),xb=ae(()=>e("br",null,null,-1)),wb=ae(()=>e("div",null,null,-1)),Cb=ae(()=>e("span",null,"Serial #:",-1)),Sb=ae(()=>e("br",null,null,-1)),Db=ae(()=>e("span",null,"Asset Tag:",-1)),Mb=ae(()=>e("br",null,null,-1)),Ub=ae(()=>e("div",null,null,-1)),Vb=ae(()=>e("strong",null,"Reported problem",-1)),Ab={class:"content"},Tb=ae(()=>e("strong",null,"Assessment conducted",-1)),Eb={class:"content"},Pb=ae(()=>e("strong",null,"Recommendation",-1)),Fb={class:"content"},Ib={class:"header-justify-space-between"},Lb=ae(()=>e("strong",null,"Evaluated by:",-1)),Yb=ae(()=>e("br",null,null,-1)),Bb={class:"botoom-line"},qb=ae(()=>e("br",null,null,-1)),Nb=ae(()=>e("p",null,null,-1)),Rb=ae(()=>e("strong",null,"Noted by:",-1)),jb=ae(()=>e("br",null,null,-1)),Hb={class:"botoom-line"},Ob=ae(()=>e("br",null,null,-1)),zb=ae(()=>e("br",null,null,-1)),Gb=ae(()=>e("p",null,null,-1)),Qb={key:0},Wb={key:1},Kb={key:0,class:"fab-container"},Xb=ae(()=>e("i",{class:"fas fa-download"},null,-1)),Jb=[Xb],Zb={__name:"TechRecommApprove",setup(o){const f=`${$e().params.id}`,r=()=>{const _=document.getElementById("exportPDF");Ze().from(_).save(`${f}.pdf`)},l=Ae({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),d=()=>{V.get(`/api/tech-recommendations/${$e().params.id}`).then(_=>{l.id=_.data.id,l.recommnum=_.data.recommnum,l.branch=_.data.branch,l.company=_.data.company,l.department=_.data.department,l.warehouse=_.data.warehouse,l.user=_.data.user,l.problem=_.data.problem,l.brand=_.data.brand,l.model=_.data.model,l.assettag=_.data.assettag,l.serialnum=_.data.serialnum,l.status=_.data.status,l.assconducted=_.data.assconducted,l.recommendation=_.data.recommendation,l.createdby=_.data.createdby.cfull_name,l.updatedby=_.data.updatedby.ufull_name,l.created_at=be(_.data.created_at).format("MMMM D, YYYY"),l.updated_at=be(_.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=_.data.createdby.cposition,l.updated_position=_.data.updatedby.uposition}).catch(_=>{actions.setErrors(_.response.data.errors)})};return _e(()=>{d(),document.title=f}),(_,g)=>(t(),a(R,null,[e("div",sb,[e("div",ab,[ob,e("div",lb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,nb),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,db)]),e("div",ib,[e("span",null,[Y("Recommendation No: "),e("strong",null,s(l.recommnum),1)]),e("span",null,[Y("Date Checked: "),e("strong",null,s(l.created_at),1)])]),e("div",cb,[e("div",null,[e("span",null,[Y("Company: "),e("strong",null,s(l.company),1)]),rb,e("span",null,[Y("Branch: "),e("strong",null,s(l.branch),1)])]),ub,e("div",null,[l.warehouse==""?(t(),a("span",_b,[Y("Warehouse: "),mb,Y(s(l.warehouse),1)])):E("",!0),hb,e("span",null,[Y("User: "),e("strong",null,s(l.user),1)]),pb,e("span",null,[Y("Department: "),e("strong",null,s(l.department),1)])]),vb]),bb,e("div",fb,[e("div",$b,[e("div",null,[gb,e("strong",null,s(l.brand),1),yb,kb,e("strong",null,s(l.model),1),xb]),wb,e("div",null,[Cb,e("strong",null,s(l.serialnum),1),Sb,Db,e("strong",null,s(l.assettag),1),Mb]),Ub])]),Vb,e("div",Ab,[e("p",null,s(l.problem),1)]),Tb,e("div",Eb,[e("p",null,s(l.assconducted),1)]),Pb,e("div",Fb,[e("p",null,s(l.recommendation),1)]),e("div",Ib,[e("div",null,[Lb,Yb,e("span",Bb,s(l.createdby),1),qb,e("span",null,s(l.created_position),1)]),Nb,e("div",null,[Rb,jb,e("span",Hb,s(l.updatedby),1),Ob,e("span",null,s(l.updated_position),1),zb]),Gb]),l.status===2?(t(),a("span",Qb,"Approved date:("+s(l.updated_at)+")",1)):(t(),a("span",Wb,"Pending"))])]),l.status===2?(t(),a("div",Kb,[e("div",{class:"button iconbutton bg-success",onClick:g[0]||(g[0]=U=>r())},Jb)])):E("",!0)],64))}};var st=ye(Zb,[["__scopeId","data-v-18d1690e"]]);const ef={},tf={class:"card mx-auto",style:{"max-width":"600px"}},sf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),af={class:"card-body"},of={class:"list-unstyled"};function lf(o,f){return t(),a("div",tf,[sf,e("div",af,[e("ul",of,[e("li",{class:"nav-item dropdown",onClick:f[0]||(f[0]=(...r)=>o.fetchNotifications&&o.fetchNotifications(...r))})])])])}var nf=ye(ef,[["render",lf]]);const df=["checked"],cf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:f}){re(),ce();const r=o,l=f,d=()=>{l("toggleSelection",r.item)};return(_,g)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,df)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.location),1),e("td",null,s(o.item.paccountable),1)]))}};var rf=ye(cf,[["__scopeId","data-v-c5620630"]]);const uf={class:"content"},_f={class:"container-fluid"},mf={class:"d-flex justify-content-between"},hf={class:"d-flex"},pf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),vf={key:0},bf=e("i",{class:"fa fa-trash mr-1"},null,-1),ff={class:"ml-2"},$f={class:"card"},gf={class:"card-body"},yf=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),kf=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),xf=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),wf=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Cf={class:"table-responsive"},Sf={class:"table table-bordered table-sm table-striped hover"},Df=e("th",{style:{width:"10px"}},"#",-1),Mf=e("th",null,"Asset",-1),Uf=e("th",null,"Asset type",-1),Vf=e("th",null,"Serial",-1),Af=e("th",null,"Date Aquired",-1),Tf=e("th",null,"Suppliear",-1),Ef=e("th",null,"Unit",-1),Pf=e("th",null,"Location",-1),Ff={key:0},If={key:1},Lf=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Yf=[Lf],Bf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qf={class:"modal-dialog modal-sm",role:"document"},Nf={class:"modal-content"},Rf={class:"modal-header"},jf={class:"modal-title",id:"staticBackdropLabel"},Hf={key:0},Of={key:1},zf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Gf={class:"modal-body"},Qf={class:"col-md-12"},Wf={class:"row"},Kf={class:"col-12"},Xf={class:"form-group"},Jf=e("label",{for:"user"},"Menu Title",-1),Zf={class:"invalid-feedback"},e$={class:"form-group"},t$=e("label",{for:"department"},"Parent Menu",-1),s$=e("option",{value:"0"},"None",-1),a$=["value"],o$={class:"form-group"},l$=e("label",{for:"warehouse"},"Icon",-1),n$={class:"invalid-feedback"},d$={class:"form-group"},i$=e("label",{for:"user"},"Route",-1),c$={class:"invalid-feedback"},r$={class:"form-group"},u$=e("label",{for:"user"},"Sort",-1),_$={class:"invalid-feedback"},m$={class:"form-group"},h$=e("label",{for:"is_active"},"Active",-1),p$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),v$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},b$={class:"modal-dialog",role:"document"},f$={class:"modal-content"},$$=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),g$={class:"modal-footer"},y$=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),k$={__name:"AssetmList",setup(o){const f=`${$e().name}`,r=re(),l=n({data:[]}),d=n({data:[]}),_=n(!1),g=n(!1);n();const U=n(!0),m=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),L=ce();n(null);const c=n(),b=(C=1)=>{_.value=!0,V.get(`/web/asset-monitoring?page=${C}`,{params:{query:x.value}}).then(v=>{_.value=!1,l.value=v.data,k.value=[],se.value=!1})},u=()=>{V.get("/api/GetParentId").then(C=>{d.value=C.data}).catch(C=>{console.error(C)})};we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),we({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const y=C=>{m.is_active=C?1:0},q=({resetForm:C,setErrors:v})=>{V.post("/api/menulist",{menu_title:m.menu_title,parent_id:m.parent_id,menu_icon:m.menu_icon,menu_route:m.menu_route,sort_order:m.sort_order,is_active:m.is_active}).then(M=>{l.value.data.unshift(M.data),$("#FormModal").modal("hide"),C(),r.success("User created successfully!")}).catch(M=>{M.response.data.errors&&v(M.response.data.errors)})},H=()=>{g.value=!1,$("#FormModal").modal("show")},j=C=>{g.value=!0,m.menu_id=C.menu_id,m.menu_title=C.menu_title,m.parent_id=C.parent_id,m.menu_icon=C.menu_icon,m.menu_route=C.menu_route,m.sort_order=C.sort_order,m.is_active===1?U.value=!0:U.value=!1,m.is_active=C.is_active,$("#FormModal").modal("show"),c.value=C.parent_id},oe=({setErrors:C})=>{V.post("/api/menulist",m).then(v=>{b(),$("#FormModal").modal("hide"),r.success("successfully Updated!")}).catch(v=>{C(v.response.data.errors),console.log(v)})},F=(C,v)=>{g.value?oe(C):q(C)},x=n(null),k=n([]),p=C=>{const v=k.value.indexOf(C.id);v===-1?k.value.push(C.id):k.value.splice(v,1),console.log(k.value)},T=n(null),O=C=>{T.value=C,$("#deleteClientModal").modal("show")},te=()=>{V.delete(`/api/menu/${T.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(C=>C.menu_id!==T.value)})},X=()=>{V.delete("menulist",{data:{ids:k.value}}).then(C=>{l.value.data=l.value.data.filter(v=>!k.value.includes(v.id)),k.value=[],se.value=!1,r.success(C.data.message)})},se=n(!1),he=()=>{se.value?k.value=l.value.data.map(C=>C.id):k.value=[],console.log(k.value)};return fe([U],C=>{m.is_active=C?1:0}),fe(x,Pe.exports.debounce(()=>{b()},300)),_e(()=>{b(),u(),document.title=f}),(C,v)=>{const M=xe("font");return t(),a(R,null,[e("div",uf,[e("div",_f,[e("div",mf,[e("div",hf,[e("button",{onClick:H,type:"button",class:"mb-2 btn btn-primary"},[pf,Y(" Menu ")]),k.value.length>0?(t(),a("div",vf,[e("button",{onClick:X,type:"button",class:"ml-2 mb-2 btn btn-danger"},[bf,Y(" Delete Selected ")]),e("span",ff,"Selected "+s(k.value.length)+" techrecomm",1)])):E("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=w=>x.value=w),class:"form-control",placeholder:"Search..."},null,512),[[de,x.value]])])]),e("div",$f,[e("div",gf,[_.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[yf,kf,xf,wf]),_:1})):E("",!0),e("div",Cf,[D(M,{size:"2"},{default:J(()=>[e("table",Sf,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=w=>se.value=w),onChange:he},null,544),[[Ve,se.value]])]),Df,Mf,Uf,Vf,Af,Tf,Ef,Pf])]),l.value.data.length>0?(t(),a("tbody",Ff,[(t(!0),a(R,null,Q(l.value.data,(w,S)=>(t(),ie(rf,{key:w.id,item:w,index:S,onEditMenu:j,onConfirmDeletion:O,onToggleSelection:p,"select-all":se.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",If,Yf))])]),_:1})])])]),D(i(Ye),{data:l.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",Bf,[e("div",qf,[e("div",Nf,[e("div",Rf,[e("h5",jf,[g.value?(t(),a("span",Hf,"Edit Menu")):(t(),a("span",Of,"Add Menu"))]),zf]),D(i(De),{onSubmit:F},{default:J(({errors:w})=>[e("div",Gf,[e("div",Qf,[e("div",Wf,[e("div",Kf,[D(i(G),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(L).user.id,"onUpdate:modelValue":v[2]||(v[2]=S=>i(L).user.id=S)},null,8,["modelValue"]),e("div",Xf,[Jf,D(i(G),{name:"menu_title",type:"text",class:A(["form-control",{"is-invalid":w.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:m.menu_title,"onUpdate:modelValue":v[3]||(v[3]=S=>m.menu_title=S)},null,8,["class","modelValue"]),e("span",Zf,s(w.menu_title),1)]),e("div",e$,[t$,K(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":v[4]||(v[4]=S=>m.parent_id=S)},[s$,(t(!0),a(R,null,Q(d.value,S=>(t(),a("option",{key:S.menu_id,value:S.menu_id},s(S.menu_title),9,a$))),128))],512),[[Te,m.parent_id]])]),e("div",o$,[l$,D(i(G),{name:"menu_icon",type:"text",class:A(["form-control",{"is-invalid":w.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:m.menu_icon,"onUpdate:modelValue":v[5]||(v[5]=S=>m.menu_icon=S)},null,8,["class","modelValue"]),e("span",n$,s(w.menu_icon),1)]),e("div",d$,[i$,D(i(G),{name:"menu_route",type:"text",class:A(["form-control",{"is-invalid":w.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:m.menu_route,"onUpdate:modelValue":v[6]||(v[6]=S=>m.menu_route=S)},null,8,["class","modelValue"]),e("span",c$,s(w.menu_route),1)]),e("div",r$,[u$,D(i(G),{name:"sort_order",type:"text",class:A(["form-control",{"is-invalid":w.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:m.sort_order,"onUpdate:modelValue":v[7]||(v[7]=S=>m.sort_order=S)},null,8,["class","modelValue"]),e("span",_$,s(w.sort_order),1)]),e("div",m$,[h$,K(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":v[8]||(v[8]=S=>U.value=S),onChange:y},null,544),[[Ve,U.value]])])])])])]),p$]),_:1})])])]),e("div",v$,[e("div",b$,[e("div",f$,[$$,e("div",g$,[y$,e("button",{onClick:ne(te,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const x$=o=>(Me("data-v-67c2058e"),o=o(),Ue(),o),w$={style:{"text-align":"center"}},C$=["checked"],S$=x$(()=>e("i",{class:"fa fa-edit"},null,-1)),D$=[S$],M$={__name:"PalletItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["dataDeleted","editData","confirmDeletion"],setup(o,{emit:f}){re(),ce();const r=o,l=f,d=()=>{l("toggleSelection",r.item)};return(_,g)=>(t(),a("tr",w$,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,C$)]),e("td",null,s(i(be)(o.item.date).format("MMMM DD, YY")),1),e("td",null,s(o.item.allocatedpalletspace),1),e("td",null,s(o.item.spaceuteltotal),1),e("td",null,s(o.item.spacetotalutelpercent),1),e("td",null,s(o.item.excess),1),e("td",null,s(o.item.caseperpallet),1),e("td",null,s(o.item.cost),1),e("td",null,"EXCESS "+s(o.item.excess)+" PALLETS",1),e("td",null,[e("a",{href:"#",onClick:g[0]||(g[0]=ne(U=>_.$emit("editData",o.item),["prevent"]))},D$)])]))}};var U$=ye(M$,[["__scopeId","data-v-67c2058e"]]);const me=o=>(Me("data-v-3a98c699"),o=o(),Ue(),o),V$={class:"content"},A$={class:"container-fluid"},T$={class:"d-flex justify-content-between"},E$={class:"d-flex"},P$=me(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),F$={key:0},I$=me(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),L$={class:"ml-2"},Y$={class:"card"},B$={class:"card-header"},q$={class:"card-title"},N$={class:"form-group",style:{display:"inline-block"}},R$=me(()=>e("option",{value:"",disabled:""},"Select a site",-1)),j$=["value"],H$={class:"card-body"},O$=me(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),z$=me(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),G$=me(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Q$=me(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),W$={key:1,class:"table-responsive"},K$={class:"table table-bordered table-sm table-striped hover"},X$=me(()=>e("thead",null,[e("tr",null,[e("th"),e("th",null,"Date"),e("th",null,"Allocated Pallet Space"),e("th",null,"SPACE UTILIZATION TOTAL"),e("th",null,"Space Utilization %"),e("th",null,"Excess"),e("th",null,"Cost per Pallet"),e("th",null,"Cost"),e("th",null,"Remarks"),e("th",null,"Action")])],-1)),J$={key:0},Z$=me(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),eg={colspan:"3"},tg={key:1},sg=me(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),ag=[sg],og={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},lg={class:"modal-dialog modal-sm",role:"document"},ng={class:"modal-content"},dg={class:"modal-header"},ig={class:"modal-title",id:"staticBackdropLabel"},cg={key:0},rg={key:1},ug=me(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),_g={class:"modal-body"},mg={class:"col-md-12"},hg={class:"row"},pg={class:"col-12"},vg={class:"form-group"},bg=me(()=>e("label",{for:"date"},"Date",-1)),fg={class:"invalid-feedback"},$g={class:"form-group"},gg=me(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),yg={class:"invalid-feedback"},kg={class:"form-group"},xg=me(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),wg={class:"invalid-feedback"},Cg={class:"form-group"},Sg=me(()=>e("label",{for:"user"},"Case Per Pallet",-1)),Dg={class:"invalid-feedback"},Mg=me(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),Ug={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vg={class:"modal-dialog",role:"document"},Ag={class:"modal-content"},Tg=Ce('<div class="modal-header" data-v-3a98c699><h5 class="modal-title" id="staticBackdropLabel" data-v-3a98c699><span data-v-3a98c699>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-3a98c699><span aria-hidden="true" data-v-3a98c699>\xD7</span></button></div><div class="modal-body" data-v-3a98c699><h5 data-v-3a98c699>Are you sure you want to delete this record ?</h5></div>',2),Eg={class:"modal-footer"},Pg=me(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Fg={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ig={class:"modal-dialog modal-sm",role:"document"},Lg={class:"modal-content"},Yg=me(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Bg={class:"modal-body"},qg={class:"fromtocenter"},Ng=me(()=>e("label",{for:"fromDate"},"From:",-1)),Rg=me(()=>e("label",{for:"toDate"},"To:",-1)),jg={class:"modal-footer"},Hg=me(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Og={__name:"PalletList",setup(o){const f=Xe("$swal"),r=`${$e().name}`,l=re(),d=n({data:[]}),_=n(),g=n(!1),U=n(!1),m=ce(),L=n(!0),c=Ae({id:"",site_id:"",user_id:m.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});n(null);const b=n(),u=()=>{g.value=!0,V.get("/web/pallet",{params:{site_id:c.site_id,query:he.value}}).then(z=>{g.value=!1,d.value=z.data.data,b.value=z.data.sum,C.value=[],W.value=!1})},y=we({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),q=we({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),H=n(""),j=n(""),oe=n({start_date:"",end_date:""});fe([H],()=>{const z=new Date(H.value),ee=z.getFullYear(),ke=String(z.getMonth()+1).padStart(2,"0"),le=String(z.getDate()).padStart(2,"0");oe.value.start_date=`${ee}-${ke}-${le}`}),fe([j],()=>{const z=new Date(j.value),ee=z.getFullYear(),ke=String(z.getMonth()+1).padStart(2,"0"),le=String(z.getDate()).padStart(2,"0");oe.value.end_date=`${ee}-${ke}-${le}`});const F=()=>{g.value=!0,V.get("/web/filter-pallet",{params:{start_date:oe.value.start_date,end_date:oe.value.end_date,site_id:c.site_id}}).then(z=>{g.value=!1,d.value=z.data.data,b.value=z.data.sum}).catch(z=>{console.error(z)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},x=()=>{c.id="",c.user_id=m.user.id,c.date="",c.allocatedpalletspace="",c.spaceuteltotal="",c.caseperpallet=""},k=({resetForm:z,setErrors:ee})=>{V.post("/web/pallet",{site_id:c.site_id,user_id:c.user_id,date:c.date,allocatedpalletspace:c.allocatedpalletspace,spaceuteltotal:c.spaceuteltotal,caseperpallet:c.caseperpallet}).then(ke=>{u(),$("#FormModal").modal("hide"),x(),l.success("User created successfully!")}).catch(function(ke){ke.response?l.error(ke.response.data.message):ke.request?l.error(ke.request):l.error("Error",ke.message)})},p=()=>{V.get("/web/getsite").then(z=>{_.value=z.data.sites}).catch(z=>{console.log(z)})},T=()=>{u(c.site_id)},O=()=>{if(!c.site_id||c.site_id.length===0){f.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}U.value=!1,$("#FormModal").modal("show")},te=z=>{U.value=!0,c.id=z.id,c.user_id=z.user_id,c.site_id=z.site_id,c.date=z.date,c.allocatedpalletspace=z.allocatedpalletspace,c.spaceuteltotal=z.spaceuteltotal,c.caseperpallet=z.caseperpallet,$("#FormModal").modal("show")},X=({setErrors:z})=>{V.post("/web/pallet",c).then(ee=>{x(),u(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(ee=>{z(ee.response.data.errors),console.log(ee)})},se=(z,ee)=>{U.value?X(z):k(z)},he=n(null),C=n([]),v=z=>{const ee=C.value.indexOf(z.id);ee===-1?C.value.push(z.id):C.value.splice(ee,1),console.log(C.value)},M=n(null),w=z=>{M.value=z,$("#deleteDataModal").modal("show")},S=()=>{V.delete(`/web/pallet/${M.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),d.value.data=d.value.data.filter(z=>z.id!==M.value)})},pe=()=>{V.delete("/web/bulkDelete",{data:{ids:C.value}}).then(z=>{u(),C.value=[],W.value=!1,l.success(z.data.message)})},B=()=>{if(!c.site_id||c.site_id.length===0){f.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},W=n(!1);return fe([L],z=>{c.is_active=z?1:0}),fe(he,Pe.exports.debounce(()=>{u()},300)),_e(()=>{p(),document.title=r}),(z,ee)=>{const ke=xe("font");return t(),a(R,null,[e("div",V$,[e("div",A$,[e("div",T$,[e("div",E$,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary"},[P$,Y(" Pallet ")]),C.value.length>0?(t(),a("div",F$,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[I$,Y(" Delete Selected ")]),e("span",L$,"Selected "+s(C.value.length)+" Pallet",1)])):E("",!0)])]),e("div",Y$,[e("div",B$,[e("div",q$,[e("div",N$,[K(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":ee[0]||(ee[0]=le=>c.site_id=le),onChange:ee[1]||(ee[1]=le=>T())},[R$,(t(!0),a(R,null,Q(_.value,le=>(t(),a("option",{key:le.id,value:le.id},s(le.site_name),9,j$))),128))],544),[[Te,c.site_id]])])]),e("div",{class:"card-tools"},[e("i",{class:"fa fa-filter mr-1",onClick:B})])]),e("div",H$,[g.value?(t(),ie(i(Ee),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[O$,z$,G$,Q$]),_:1})):(t(),a("div",W$,[D(ke,{size:"2"},{default:J(()=>[e("table",K$,[X$,d.value.length>0?(t(),a("tbody",J$,[(t(!0),a(R,null,Q(d.value,(le,Se)=>(t(),ie(U$,{key:le.id,item:le,index:Se,onEditData:te,onConfirmDeletion:w,onToggleSelection:v,"select-all":W.value},null,8,["item","index","select-all"]))),128)),e("tr",null,[Z$,e("td",eg,[e("b",null,s(b.value),1)])])])):(t(),a("tbody",tg,ag))])]),_:1})]))])])])]),e("div",og,[e("div",lg,[e("div",ng,[e("div",dg,[e("h5",ig,[U.value?(t(),a("span",cg,"Edit Pallet")):(t(),a("span",rg,"Add Pallet"))]),ug]),D(i(De),{onSubmit:se,"validation-schema":U.value?i(q):i(y),"initial-values":z.formValues},{default:J(({errors:le})=>[e("div",_g,[e("div",mg,[e("div",hg,[e("div",pg,[D(i(G),{modelValue:c.user_id,"onUpdate:modelValue":ee[2]||(ee[2]=Se=>c.user_id=Se),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",vg,[bg,D(i(G),{name:"date",type:"date",class:A(["form-control",{"is-invalid":le.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:c.date,"onUpdate:modelValue":ee[3]||(ee[3]=Se=>c.date=Se)},null,8,["class","modelValue"]),e("span",fg,s(le.date),1)]),e("div",$g,[gg,D(i(G),{name:"allocatedpalletspace",type:"text",class:A(["form-control",{"is-invalid":le.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:c.allocatedpalletspace,"onUpdate:modelValue":ee[4]||(ee[4]=Se=>c.allocatedpalletspace=Se)},null,8,["class","modelValue"]),e("span",yg,s(le.allocatedpalletspace),1)]),e("div",kg,[xg,D(i(G),{name:"spaceuteltotal",type:"text",class:A(["form-control",{"is-invalid":le.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:c.spaceuteltotal,"onUpdate:modelValue":ee[5]||(ee[5]=Se=>c.spaceuteltotal=Se),required:""},null,8,["class","modelValue"]),e("span",wg,s(le.spaceuteltotal),1)]),e("div",Cg,[Sg,D(i(G),{name:"caseperpallet",type:"text",class:A(["form-control",{"is-invalid":le.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:c.caseperpallet,"onUpdate:modelValue":ee[6]||(ee[6]=Se=>c.caseperpallet=Se)},null,8,["class","modelValue"]),e("span",Dg,s(le.caseperpallet),1)])])])])]),Mg]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ug,[e("div",Vg,[e("div",Ag,[Tg,e("div",Eg,[Pg,e("button",{onClick:ne(S,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",Fg,[e("div",Ig,[e("div",Lg,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(r)+" Report")]),Yg]),e("div",Bg,[e("div",qg,[e("div",null,[Ng,D(i(Ie),{modelValue:H.value,"onUpdate:modelValue":ee[7]||(ee[7]=le=>H.value=le)},null,8,["modelValue"])]),e("div",null,[Rg,D(i(Ie),{modelValue:j.value,"onUpdate:modelValue":ee[8]||(ee[8]=le=>j.value=le)},null,8,["modelValue"])])])]),e("div",jg,[Hg,e("button",{onClick:ee[9]||(ee[9]=le=>F()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var zg=ye(Og,[["__scopeId","data-v-3a98c699"]]);const Gg=o=>(Me("data-v-2d546e88"),o=o(),Ue(),o),Qg={class:"content"},Wg={class:"container-fluid"},Kg={class:"row"},Xg={class:"col-md-6"},Jg={class:"card"},Zg={class:"card-title"},ey={class:"form-group m-3"},ty=Gg(()=>e("option",{value:"",disabled:""}," Select User ",-1)),sy=["value"],ay={class:"card-body"},oy={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},ly={class:"custom-control custom-checkbox"},ny=["value","id","checked"],dy=["for"],iy={class:"card-footer"},cy={__name:"UserSite",setup(o){ce();const f=`${$e().name}`,r=re();n({data:[]}),n({data:[]}),n(!1),n(!1),n(),n(!0);const l=Ae({user_id:""});n(null),n();const d=n(),_=n(),g=n([]),U=()=>{V.get("/api/users/userlist").then(b=>{_.value=b.data}).catch(b=>{console.log(b)})},m=b=>{b!==null?V.get(`/web/usersite/${b}`).then(u=>{d.value=u.data}).catch(u=>{console.error("Error fetching site data for user:",u)}):V.get("/web/getsitewithoutuser").then(u=>{d.value=u.data}).catch(u=>{console.error("Error fetching site data without user:",u)})},L=()=>{const b={user_id:l.user_id,site_id:g.value};console.log(b),V.post("/web/onSaveupdate",b).then(u=>{r.success("User Site Save successfully!")}).catch(u=>{setErrors(u.response.data.errors)})},c=b=>{m(b)};return _e(()=>{U(),m(),document.title=f}),(b,u)=>(t(),a("div",Qg,[e("div",Wg,[e("div",Kg,[e("div",Xg,[e("div",Jg,[e("div",Zg,[e("div",ey,[D(i(G),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":u[0]||(u[0]=y=>l.user_id=y),onChange:u[1]||(u[1]=y=>c(l.user_id))},{default:J(()=>[ty,(t(!0),a(R,null,Q(_.value,y=>(t(),a("option",{key:y.id,value:y.id},s(y.name),9,sy))),128))]),_:1},8,["modelValue"])])]),e("div",ay,[e("ul",oy,[(t(!0),a(R,null,Q(d.value,y=>(t(),a("li",{key:y.id,class:"list-group-item"},[e("div",ly,[K(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":u[2]||(u[2]=q=>g.value=q),value:y.id,id:"site_id_"+y.id,checked:y.hasAccess},null,8,ny),[[Ve,g.value]]),e("label",{for:"site_id_"+y.id,class:"custom-control-label"},s(y.site_name),9,dy)])]))),128))]),e("div",iy,[e("button",{type:"button",onClick:u[3]||(u[3]=y=>L()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var ry=ye(cy,[["__scopeId","data-v-2d546e88"]]),uy=[{path:"/login",name:"admin.login",component:Ln},{path:"/dashboard",name:"Dashboard",component:Mt},{path:"/appointments",name:"Appointments",component:Wt},{path:"/appointments/create",name:"Appointments",component:We},{path:"/appointments/:id/edit",name:"Appointments",component:We},{path:"/user",name:"User",component:To},{path:"/settings",name:"Setting",component:wl},{path:"/profile",name:"Profile",component:fn},{path:"/client",name:"Client",component:Fd},{path:"/tech-recommendation",name:"Tech Recomm",component:er},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:sm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Tp},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Fh},{path:"/usermenu",name:"User Menu",component:Mv},{path:"/menu",name:"Menu",component:X1},{path:"/:catchAll(.*)",name:"404 Error Page",component:tt},{path:"/notifications",name:"Notifications",component:nf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:st},{path:"/asset-monitoring",name:"Asset Monitoring",component:k$},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:zg},{path:"/usersite",name:"User Site",component:ry}];const _y={class:"navbar-nav"},my=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),hy={class:"nav-item d-none d-sm-inline-block"},py={class:"navbar-nav ml-auto"},vy=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),by=Ce('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),fy={class:"nav-link","data-toggle":"dropdown",href:"#"},$y=e("i",{class:"far fa-bell"},null,-1),gy={class:"badge badge-warning navbar-badge"},yy={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},ky={class:"dropdown-header"},xy=e("div",{class:"dropdown-divider"},null,-1),wy=e("i",{class:"fas fa-envelope mr-2"},null,-1),Cy={class:"float-right text-muted text-sm"},Sy={key:1,class:"text-center text-muted py-3"},Dy=e("div",{class:"dropdown-divider"},null,-1),My=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Uy=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),Vy={__name:"AppNavbar",setup(o){const f=Be(),r=n([]),l=()=>{V.get("/api/notifications").then(d=>{r.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return _e(()=>{l()}),(d,_)=>{const g=xe("router-link");return t(),a("nav",{class:A(["main-header navbar navbar-expand",i(f).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",_y,[my,e("li",hy,[e("a",{onClick:_[0]||(_[0]=ne((...U)=>i(f).changeTheme&&i(f).changeTheme(...U),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:A(["far",i(f).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",py,[vy,by,e("li",{class:"nav-item dropdown",onClick:l},[e("a",fy,[$y,e("span",gy,s(r.value.length),1)]),e("div",yy,[e("span",ky,s(r.value.length)+" Notifications",1),xy,r.value.length>0?(t(!0),a(R,{key:0},Q(r.value,U=>(t(),a("a",{key:U.id,href:"#",class:"dropdown-item"},[wy,Y(" "+s(U.data?U.data:"No message available")+" ",1),e("span",Cy,s(i(be)(U.created_at)),1)]))),128)):(t(),a("p",Sy,"No new notifications")),Dy,D(g,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:J(()=>[Y("See All Notifications")]),_:1})])]),My,Uy])],2)}}},Ay={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},Ty={href:"#",class:"brand-link"},Ey=["src"],Py={class:"brand-text font-weight-light"},Fy={class:"sidebar"},Iy={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Ly={key:0,class:"image"},Yy=["src"],By={key:1,class:"image"},qy=["src"],Ny=["src"],Ry={class:"info"},jy={href:"#",class:"d-block"},Hy={class:"mt-2"},Oy={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},zy={key:0,class:"right fas fa-angle-left"},Gy={key:0,class:"nav nav-treeview"},Qy={class:"nav-item"},Wy={class:"nav-link"},Ky=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),Xy=e("p",null,"Logout",-1),Jy=[Ky,Xy],Zy={__name:"SidebarLeft",setup(o){const f=Oe(),r=ce(),l=Be(),d=n({data:[]}),_=()=>{axios.get("/api/menu").then(m=>{d.value=m.data}).catch(m=>{console.log(m)})},g=m=>m===f.currentRoute.value.path,U=()=>{axios.post("/logout").then(m=>{r.user.name="",f.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),_()}),(m,L)=>{const c=xe("router-link");return t(),a("aside",Ay,[e("a",Ty,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Ey),e("span",Py,s(i(l).setting.app_name),1)]),e("div",Fy,[e("div",Iy,[i(r).user.avatar===""?(t(),a("div",Ly,[e("img",{src:i(r).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Yy)])):i(r).user.avatar!==""?(t(),a("div",By,[i(r).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,qy)):i(r).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Ny)):E("",!0)])):E("",!0),e("div",Ry,[e("a",jy,s(i(r).user.name),1)])]),e("nav",Hy,[e("ul",Oy,[(t(!0),a(R,null,Q(d.value,b=>(t(),a("li",{key:b.id,class:A({"nav-item":!0,"has-submenu":b.submenus&&b.submenus.length>0})},[D(c,{class:A({"nav-link":!0,active:g(b.menu_route)}),to:`${b.menu_route}`},{default:J(()=>[e("i",{class:A("nav-icon "+b.menu_icon)},null,2),e("p",null,s(b.menu_title),1),b.submenus&&b.submenus.length>0?(t(),a("i",zy)):E("",!0)]),_:2},1032,["class","to"]),b.submenus&&b.submenus.length>0?(t(),a("ul",Gy,[(t(!0),a(R,null,Q(b.submenus,u=>(t(),a("li",{key:u.id,class:"nav-item"},[D(c,{class:A({"nav-link":!0,active:g(u.menu_route)}),to:u.menu_route},{default:J(()=>[e("i",{class:A("nav-icon "+u.menu_icon)},null,2),e("p",null,s(u.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):E("",!0)],2))),128)),e("li",Qy,[e("form",Wy,[e("a",{href:"#",onClick:ne(U,["prevent"])},Jy)])])])])])])}}},e2={},t2={class:"control-sidebar control-sidebar-dark"},s2=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),a2=[s2];function o2(o,f){return t(),a("aside",t2,a2)}var l2=ye(e2,[["render",o2]]);const n2={class:"main-footer"},d2={class:"float-right d-none d-sm-block"},i2={href:"#"},c2={__name:"AppFooter",props:{settings:Object},setup(o){const f=ce(),r=n(new Date().getFullYear());return(l,d)=>{var _;return t(),a("footer",n2,[e("div",d2,s(i(f).user.name),1),e("strong",null,[Y("Copyright \xA9 "+s(r.value)+" ",1),e("a",i2,s((_=o.settings)==null?void 0:_.app_name),1),Y(".")]),Y(" All rights reserved. ")])}}};const r2=o=>(Me("data-v-36653638"),o=o(),Ue(),o),u2={class:"content-wrapper"},_2={class:"content-header"},m2={class:"container-fluid"},h2={class:"row mb-2"},p2={class:"col-sm-6"},v2={class:"m-0"},b2={class:"col-sm-6"},f2={class:"breadcrumb float-sm-right"},$2=r2(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),g2={class:"breadcrumb-item active"},y2={__name:"CustomMainLayout",setup(o){const f=ce(),r=Be(),l=Fe(()=>r.theme==="dark"?"dark-mode":"");return(d,_)=>{const g=xe("router-view");return i(f).user.name!==""?(t(),a("div",{key:0,class:A(["wrapper",l.value])},[D(Vy),D(Zy),D(l2),e("div",u2,[e("section",_2,[e("div",m2,[e("div",h2,[e("div",p2,[e("h1",v2,s(d.$route.name),1)]),e("div",b2,[e("ol",f2,[$2,e("li",g2,s(d.$route.name),1)])])])])]),D(g)]),D(c2)],2)):(t(),a("div",{key:1,class:A(["login-page slibg",l.value])},[D(g)],2))}}};var k2=ye(y2,[["__scopeId","data-v-36653638"]]);const x2={__name:"App",setup(o){ce();const f=$e(),r=Fe(()=>f.name==="Tech-Approved"),l=Fe(()=>f.name==="404 Error Page");return(d,_)=>(t(),a("div",null,[!l.value&&!r.value?(t(),ie(k2,{key:0})):r.value?(t(),ie(st,{key:1})):(t(),ie(tt,{key:2}))]))}};var w2=ye(x2,[["__scopeId","data-v-252b567e"]]);const C2=it(),qe=ut(w2),at=ct({routes:uy,history:rt()});at.beforeEach(async(o,f)=>{const r=ce();if(r.user.name===""&&o.name!=="admin.login"){const l=Be();await Promise.all([r.getAuthUser(),l.getSetting()])}});qe.use(C2);qe.use(at);qe.use(yt);qe.use(Ze);qe.mount("#app");
