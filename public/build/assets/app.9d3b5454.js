import{_ as kt,l as Ue}from"./lodash.d4ecb7e7.js";import{a as I}from"./axios.82d3905a.js";import{a as wt}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as pt,c as xt}from"./pinia.210ccde5.js";import{u as ve,a as Qe,c as Ct,b as Dt}from"./vue-router.abad5649.js";import{r,o as _e,i as o,k as e,x as t,_ as h,u as _,e as a,I as Ce,h as Z,j as P,F as O,q as ee,d as be,a0 as se,v as T,C as Me,a2 as te,a3 as ie,aa as Re,p as U,w as he,ab as De,f as re,B as Fe,a5 as ye,a6 as ge,ac as ct,ad as Le,a1 as nt,ae as St}from"./@vue.04713aa0.js";import{B as Mt}from"./vue-chartjs.50c6886f.js";import{C as Vt,p as Ut,a as At,b as Pt,c as qt,d as Tt,L as It}from"./chart.js.562acd0f.js";import{S as _t}from"./sweetalert2.c578665c.js";import{t as Xe}from"./toastr.c863df60.js";import{F as Pe,a as Q}from"./vee-validate.1443789f.js";import{f as ht}from"./flatpickr.181c7977.js";import{c as Se,a as z}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as le}from"./moment.40bc58bf.js";import{a as Ee}from"./laravel-vue-pagination.475a8c82.js";import{C as Rt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as Et}from"./@vueuse.5a8c8091.js";import{L as Ye}from"./vue3-datepicker.da50a26b.js";import Ze from"./html2canvas.4d0ab5af.js";import{h as et}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{V as Lt}from"./vue-sweetalert2.891f877f.js";import{d as Yt}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=kt;window.axios=I;window.$=window.jQuery=wt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ue=pt("AuthUserStore",()=>{const s=r({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:"",sitehead_user_id:""});return{user:s,getAuthUser:async()=>{await I.get("/api/profile").then(m=>{s.value=m.data})}}}),Ft={class:"content"},Nt={class:"container-fluid"},Bt={class:"card"},jt={class:"card-header"},Ot={class:"card-body"},Ht=e("div",{class:"row"},null,-1),zt={__name:"Dashboard",setup(s){Vt.register(Ut,At,Pt,qt,Tt,It);const v=`${ve().name}`;ue(),r("all"),r(0);const m=r(new Date().getFullYear()),l=r({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),i=()=>{axios.get("/api/chart").then(n=>{n.data,l.value=n.data}).catch(n=>{console.error("Error fetching chart data:",n)})},d=r("today"),c=r(0),p=()=>{axios.get("/api/stats/users",{params:{date_range:d.value}}).then(n=>{c.value=n.data.totalUsersCount})};return _e(()=>{i(),p(),document.title=v}),(n,g)=>(a(),o("div",Ft,[e("div",Nt,[e("div",Bt,[e("div",jt," Yearly Progress - "+t(m.value),1),e("div",Ot,[h(_(Mt),{data:l.value},null,8,["data"])])]),Ht])]))}},Jt={class:"content"},Qt={class:"container-fluid"},Gt={class:"row"},Wt={class:"col-lg-12"},Kt={class:"d-flex justify-content-between mb-2"},Xt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),T(" Add New Appointment")],-1),Zt={class:"btn-group"},es=e("span",{class:"mr-1"},"All",-1),ts={class:"badge badge-pill badge-info"},ss=["onClick"],as={class:"mr-1"},os={class:"card"},ls={class:"card-body"},ns={class:"table table-bordered"},ds=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),is=e("td",null,null,-1),cs=e("i",{class:"fa fa-edit mr-2"},null,-1),rs=["onClick"],us=e("i",{class:"fa fa-trash text-danger"},null,-1),_s=[us],ms={__name:"ListAppointments",setup(s){const v=r(),m=r([]),l=()=>{I.get("/api/appointment-status").then(g=>{m.value=g.data})},i=r([]),d=g=>{v.value=g;const b={};g&&(b.status=g),I.get("/api/appointments",{params:b}).then(S=>{i.value=S.data,console.log(S)})},c=Ce(()=>m.value.map(g=>g.count).reduce((g,b)=>g+b,0)),p=g=>{const b=i.value.data.find(u=>u.id===g).status.name,S=m.value.find(u=>u.name===b);S.count--},n=g=>{_t.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&I.delete(`/api/appointments/${g}`).then(S=>{p(g),i.value.data=i.value.data.filter(u=>u.id!==g),_t.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{d(),l()}),(g,b)=>{const S=be("router-link");return a(),o("div",Jt,[e("div",Qt,[e("div",Gt,[e("div",Wt,[e("div",Kt,[e("div",null,[h(S,{to:"/admin/appointments/create"},{default:Z(()=>[Xt]),_:1})]),e("div",Zt,[e("button",{onClick:b[0]||(b[0]=u=>d()),type:"button",class:P(["btn",[typeof v.value=="undefined"?"btn-secondary":"btn-default"]])},[es,e("span",ts,t(c.value),1)],2),(a(!0),o(O,null,ee(m.value,u=>(a(),o("button",{key:u.id,onClick:C=>d(u.value),type:"button",class:P(["btn",[v.value===u.value?"btn-secondary":"btn-default"]])},[e("span",as,t(u.name),1),e("span",{class:P(["badge badge-pill",`badge-${u.color}`])},t(u.count),3)],10,ss))),128))])]),e("div",os,[e("div",ls,[e("table",ns,[ds,e("tbody",null,[(a(!0),o(O,null,ee(i.value.data,(u,C)=>(a(),o("tr",{key:u.id},[e("td",null,t(C+1),1),e("td",null,t(u.client.first_name)+" "+t(u.client.last_name),1),e("td",null,t(u.start_time),1),e("td",null,t(u.end_time),1),is,e("td",null,[h(S,{to:`/admin/appointments/${u.id}/edit`},{default:Z(()=>[cs]),_:2},1032,["to"]),e("a",{href:"#",onClick:se(j=>n(u.id),["prevent"])},_s,8,rs)])]))),128))])])])])])])])])}}};function me(){return Xe.options.positionClass="toast-top-right",Xe.options.closeButton=!0,Xe.options.progressBar=!0,Xe}const ps={class:"content-header"},hs={class:"container-fluid"},vs={class:"row mb-2"},bs={class:"col-sm-6"},fs={class:"m-0"},$s={key:0},ys={key:1},gs={class:"col-sm-6"},ks={class:"breadcrumb float-sm-right"},ws={class:"breadcrumb-item"},xs={class:"breadcrumb-item"},Cs={class:"breadcrumb-item active"},Ds={key:0},Ss={key:1},Ms={class:"content"},Vs={class:"container-fluid"},Us={class:"row"},As={class:"col-lg-12"},Ps={class:"card"},qs={class:"card-body"},Ts={class:"row"},Is={class:"col-md-6"},Rs={class:"form-group"},Es=e("label",{for:"title"},"Title",-1),Ls={class:"invalid-feedback"},Ys={class:"col-md-6"},Fs={class:"form-group"},Ns=e("label",{for:"client"},"Client Name",-1),Bs=["value"],js={class:"invalid-feedback"},Os={class:"row"},Hs={class:"col-md-6"},zs={class:"form-group"},Js=e("label",{for:"start-time"},"Start Time",-1),Qs={class:"invalid-feedback"},Gs={class:"col-md-6"},Ws={class:"form-group"},Ks=e("label",{for:"end-time"},"End Time",-1),Xs={class:"invalid-feedback"},Zs={class:"form-group"},ea=e("label",{for:"description"},"Description",-1),ta={class:"invalid-feedback"},sa=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),mt={__name:"AppointmentForm",setup(s){const v=Qe(),m=ve(),l=me(),i=Me({title:"",client_id:"",start_time:"",end_time:"",description:""}),d=(u,C)=>{S.value?p(u,C):c(u,C)},c=(u,C)=>{I.post("/api/appointments/create",i).then(j=>{v.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(j=>{C.setErrors(j.response.data.errors)})},p=(u,C)=>{I.put(`/api/appointments/${m.params.id}/edit`,i).then(j=>{v.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(j=>{C.setErrors(j.response.data.errors)})},n=r(),g=()=>{I.get("/api/view-clients").then(u=>{n.value=u.data})},b=()=>{I.get(`/api/appointments/${m.params.id}/edit`).then(({data:u})=>{i.title=u.title,i.client_id=u.client_id,i.start_time=u.formatted_start_time,i.end_time=u.formatted_end_time,i.description=u.description})},S=r(!1);return _e(()=>{m.name==="admin.appointments.edit"&&(S.value=!0,b()),ht(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),g()}),(u,C)=>{const j=be("router-link");return a(),o(O,null,[e("div",ps,[e("div",hs,[e("div",vs,[e("div",bs,[e("h1",fs,[S.value?(a(),o("span",$s,"Edit")):(a(),o("span",ys,"Create")),T(" Appointment")])]),e("div",gs,[e("ol",ks,[e("li",ws,[h(j,{to:"/admin/dashboard"},{default:Z(()=>[T("Home")]),_:1})]),e("li",xs,[h(j,{to:"/admin/appointments"},{default:Z(()=>[T("Appointments")]),_:1})]),e("li",Cs,[S.value?(a(),o("span",Ds,"Edit")):(a(),o("span",Ss,"Create"))])])])])])]),e("div",Ms,[e("div",Vs,[e("div",Us,[e("div",As,[e("div",Ps,[e("div",qs,[h(_(Pe),{onSubmit:d},{default:Z(({errors:H})=>[e("div",Ts,[e("div",Is,[e("div",Rs,[Es,te(e("input",{"onUpdate:modelValue":C[0]||(C[0]=L=>i.title=L),type:"text",class:P(["form-control",{"is-invalid":H.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ie,i.title]]),e("span",Ls,t(H.title),1)])]),e("div",Ys,[e("div",Fs,[Ns,te(e("select",{"onUpdate:modelValue":C[1]||(C[1]=L=>i.client_id=L),id:"client",class:P(["form-control",{"is-invalid":H.client_id}])},[(a(!0),o(O,null,ee(n.value,L=>(a(),o("option",{value:L.id,key:L.id},t(L.first_name)+" "+t(L.last_name),9,Bs))),128))],2),[[Re,i.client_id]]),e("span",js,t(H.client_id),1)])])]),e("div",Os,[e("div",Hs,[e("div",zs,[Js,te(e("input",{"onUpdate:modelValue":C[2]||(C[2]=L=>i.start_time=L),type:"text",class:P(["form-control flatpickr",{"is-invalid":H.start_time}]),id:"start-time"},null,2),[[ie,i.start_time]]),e("span",Qs,t(H.start_time),1)])]),e("div",Gs,[e("div",Ws,[Ks,te(e("input",{"onUpdate:modelValue":C[3]||(C[3]=L=>i.end_time=L),type:"text",class:P(["form-control flatpickr",{"is-invalid":H.end_time}]),id:"end-time"},null,2),[[ie,i.end_time]]),e("span",Xs,t(H.end_time),1)])])]),e("div",Zs,[ea,te(e("textarea",{"onUpdate:modelValue":C[4]||(C[4]=L=>i.description=L),class:P(["form-control",{"is-invalid":H.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ie,i.description]]),e("span",ta,t(H.description),1)]),sa]),_:1})])])])])])])],64)}}},aa=["checked"],oa=["value","selected"],la=["value","selected"],na=e("i",{class:"fa fa-edit"},null,-1),da=[na],ia=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),ca=[ia],ra={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:v}){const m=me(),l=s,i=v,d=r([{name:"ADMIN",value:1},{name:"USER",value:2}]),c=r([]),p=()=>{I.get("/api/users/userlist").then(S=>{c.value=S.data}).catch(S=>{console.log(S)})},n=(S,u)=>{I.patch(`/api/users/${S.id}/change-role`,{role:u}).then(()=>{m.success("Role changed successfully!")})},g=(S,u)=>{I.patch(`/api/users/${S.id}/change-sitehead`,{sitehead_user_id:u}).then(()=>{m.success("Sitehead changed successfully!")})},b=()=>{i("toggleSelection",l.user)};return _e(()=>{p()}),(S,u)=>(a(),o("tr",null,[e("td",null,[s.user.name!="admin"?(a(),o("input",{key:0,type:"checkbox",checked:s.selectAll,onChange:b},null,40,aa)):U("",!0)]),e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:u[0]||(u[0]=C=>n(s.user,C.target.value))},[(a(!0),o(O,null,ee(d.value,C=>(a(),o("option",{key:C.id,value:C.value,selected:s.user.role===C.name},t(C.name),9,oa))),128))],32)]),e("td",null,[s.user.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:u[1]||(u[1]=C=>g(s.user,C.target.value))},[(a(!0),o(O,null,ee(c.value,C=>(a(),o("option",{key:C.id,value:C.id,selected:s.user.sitehead_user_id===C.id},t(C.first_name+" "+C.last_name),9,la))),128))],32)):U("",!0)]),e("td",null,[e("a",{href:"#",onClick:u[2]||(u[2]=se(C=>S.$emit("editUser",s.user),["prevent"]))},da),s.user.id!=1?(a(),o("a",{key:0,href:"#",onClick:u[3]||(u[3]=se(C=>S.$emit("confirmUserDeletion",s.user.id),["prevent"]))},ca)):U("",!0)])]))}},ua={class:"content"},_a={class:"container-fluid"},ma={class:"d-flex justify-content-between mb-2"},pa={class:"d-flex"},ha=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),va={key:0},ba=e("i",{class:"fa fa-trash mr-1"},null,-1),fa={class:"ml-2"},$a={class:"card"},ya={class:"card-body"},ga={class:"dispatch-table"},ka={class:"table-responsive"},wa={class:"table table-bordered table-hover table-sm"},xa=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Department Head"),e("th",null,"Action")])],-1),Ca={key:0},Da={key:1},Sa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Ma=[Sa],Va=["index"],Ua={class:"card"},Aa={class:"card-body"},Pa={class:"list-field"},qa=e("span",{class:"mb-1 dis"},"Name:",-1),Ta={class:"list-field"},Ia=e("span",{class:"mb-1 dis"},"Email:",-1),Ra={class:"list-field"},Ea=e("span",{class:"mb-1 dis"},"Registered Date:",-1),La={class:"list-field"},Ya=e("span",{class:"mb-1 dis"},"Site Head:",-1),Fa=["onChange"],Na=["value","selected"],Ba=e("hr",null,null,-1),ja={class:"row"},Oa={key:0,class:"col"},Ha=["onClick"],za=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ja=["onClick"],Qa=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),T(" Remove ")],-1),Ga=[Qa],Wa={key:1,class:"col"},Ka=["onClick"],Xa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Za={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},eo={class:"modal-dialog",role:"document"},to={class:"modal-content"},so={class:"modal-header"},ao={class:"modal-title",id:"staticBackdropLabel"},oo={key:0},lo={key:1},no=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),io={class:"modal-body"},co={class:"form-group"},ro=e("label",{for:"name"},"Username",-1),uo={class:"invalid-feedback"},_o={class:"d-flex justify-content-between"},mo={class:"d-flex"},po={class:"form-group"},ho=e("label",{for:"email"},"Email",-1),vo={class:"invalid-feedback"},bo={class:"d-flex"},fo={class:"form-group"},$o=e("label",{for:"siteDropdown"},"Gender",-1),yo=e("option",{value:"",disabled:""}," Select a gender ",-1),go=["value"],ko={class:"d-flex justify-content-between"},wo={class:"d-flex"},xo={class:"form-group"},Co=e("label",{for:"first_name"},"Fist Name",-1),Do={class:"invalid-feedback"},So={class:"d-flex"},Mo={class:"form-group"},Vo=e("label",{for:"last_name"},"Last Name",-1),Uo={class:"invalid-feedback"},Ao={class:"form-group"},Po=e("label",{for:"position"},"Position",-1),qo={class:"invalid-feedback"},To={class:"form-group"},Io=e("label",{for:"password"},"Password",-1),Ro={class:"invalid-feedback"},Eo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Lo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yo={class:"modal-dialog",role:"document"},Fo={class:"modal-content"},No=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Bo={class:"modal-footer"},jo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Oo={__name:"UserList",setup(s){const v=`${ve().name}`,m=ue(),l=me(),i=r({data:[]}),d=r(!1),c=r(),p=Me({id:"",name:"",email:"",sitehead_user_id:"",first_name:"",last_name:"",gender:"",position:""});r([]),r(null);const n=r([{name:"Male",value:1},{name:"Female",value:2}]),g=(F=1)=>{I.get(`/api/users?page=${F}`,{params:{query:N.value}}).then(M=>{i.value=M.data,k.value=[],X.value=!1})},b=Se({name:z().required(),last_name:z().required(),first_name:z().required(),email:z().email().required(),password:z().required().min(8),gender:z().required()}),S=Se({name:z().required(),last_name:z().required(),first_name:z().required(),email:z().email().required(),password:z().when((F,M)=>F?M.required().min(8):M),gender:z().required()}),u=r([]),C=()=>{I.get("/api/users/userlist").then(F=>{u.value=F.data}).catch(F=>{console.log(F)})},j=(F,M)=>{I.patch(`/api/users/${F.id}/change-sitehead`,{sitehead_user_id:M}).then(()=>{l.success("Sitehead changed successfully!")})},H=(F,{resetForm:M,setErrors:w})=>{I.post("/api/users",F).then(D=>{i.value.data.unshift(D.data),$("#userFormModal").modal("hide"),M(),l.success("User created successfully!")}).catch(D=>{D.response.data.errors&&(w(D.response.data.errors),l.warning(D.response.data.errors.name))})},L=()=>{d.value=!1,$("#userFormModal").modal("show")},J=F=>{d.value=!0,p.id=F.id,p.name=F.name,p.email=F.email,p.first_name=F.first_name,p.last_name=F.last_name,p.gender=F.gender,p.position=F.position,$("#userFormModal").modal("show")},V=(F,{setErrors:M})=>{I.put("/api/users/"+c.value.id,F).then(w=>{const D=i.value.data.findIndex(ae=>ae.id===w.data.id);i.value.data[D]=w.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(w=>{M(w.response.data.errors),console.log(w)})},q=(F,M)=>{d.value?V(F,M):H(F,M)},N=r(null),k=r([]),f=F=>{const M=k.value.indexOf(F.id);M===-1?k.value.push(F.id):k.value.splice(M,1),console.log(k.value)},B=r(null),A=F=>{B.value=F,$("#deleteUserModal").modal("show")},G=()=>{I.delete(`/api/users/${B.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),i.value.data=i.value.data.filter(F=>F.id!==B.value)})},pe=()=>{I.delete("/api/users",{data:{ids:k.value}}).then(F=>{i.value.data=i.value.data.filter(M=>!k.value.includes(M.id)),k.value=[],X.value=!1,l.success(F.data.message)})},X=r(!1);return he(N,Ue.exports.debounce(()=>{g()},300)),_e(()=>{g(),C(),document.title=`SLI-DTS - ${v}`}),(F,M)=>{const w=be("font");return a(),o(O,null,[e("div",ua,[e("div",_a,[e("div",ma,[e("div",pa,[e("button",{onClick:L,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ha,T(" User ")]),k.value.length>0?(a(),o("div",va,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ba,T(" Delete Selected ")]),e("span",fa,"Selected "+t(k.value.length)+" users",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=D=>N.value=D),class:"form-control",placeholder:"Search..."},null,512),[[ie,N.value]])])]),e("div",$a,[e("div",ya,[e("div",ga,[e("div",ka,[h(w,{size:"2"},{default:Z(()=>[e("table",wa,[xa,i.value.data.length>0?(a(),o("tbody",Ca,[(a(!0),o(O,null,ee(i.value.data,(D,ae)=>(a(),re(ra,{key:D.id,user:D,index:ae,onEditUser:J,onConfirmUserDeletion:A,onToggleSelection:f,"select-all":X.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",Da,Ma))])]),_:1})])]),(a(!0),o(O,null,ee(i.value.data,(D,ae)=>(a(),o("div",{class:"dispatch-list",key:D.id,index:ae},[e("div",Ua,[e("div",Aa,[e("div",Pa,[qa,e("span",null,t(D.first_name+" "+D.last_name),1)]),e("div",Ta,[Ia,e("span",null,t(D.email),1)]),e("div",Ra,[Ea,e("span",null,t(D.formatted_created_at),1)]),e("div",La,[Ya,e("span",null,[D.name!="admin"?(a(),o("select",{key:0,class:"form-control",onChange:de=>j(D,de.target.value)},[(a(!0),o(O,null,ee(u.value,de=>(a(),o("option",{key:de.id,value:de.id,selected:de.sitehead_user_id===de.id},t(de.first_name+" "+de.last_name),9,Na))),128))],40,Fa)):U("",!0)])]),Ba,e("div",ja,[_(m).user.role==="ADMIN"?(a(),o("div",Oa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:de=>J(D)},[za,T(" Edit ")],8,Ha),e("button",{class:"btn btnsm btn-danger btn-block",onClick:de=>A(D.id)},Ga,8,Ja)])):U("",!0),_(m).user.role==="USER"?(a(),o("div",Wa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:de=>J(D)},[Xa,T(" Edit ")],8,Ka)])):U("",!0)])])])],8,Va))),128))])]),h(_(Ee),{data:i.value,onPaginationChangePage:g},null,8,["data"])])]),e("div",Za,[e("div",eo,[e("div",to,[e("div",so,[e("h5",ao,[d.value?(a(),o("span",oo,"Edit User")):(a(),o("span",lo,"Add New User"))]),no]),h(_(Pe),{ref:"form",onSubmit:q,"validation-schema":d.value?_(S):_(b),"initial-values":c.value},{default:Z(({errors:D})=>[e("div",io,[e("div",co,[ro,h(_(Q),{name:"name",type:"text",class:P(["form-control",{"is-invalid":D.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username",modelValue:p.name,"onUpdate:modelValue":M[1]||(M[1]=ae=>p.name=ae)},null,8,["class","modelValue"]),e("span",uo,t(D.name),1)]),e("div",_o,[e("div",mo,[e("div",po,[ho,h(_(Q),{name:"email",type:"email",class:P(["form-control",{"is-invalid":D.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email",modelValue:p.email,"onUpdate:modelValue":M[2]||(M[2]=ae=>p.email=ae)},null,8,["class","modelValue"]),e("span",vo,t(D.email),1)])]),e("div",bo,[e("div",fo,[$o,h(_(Q),{id:"gender",name:"gender",as:"select",class:P(["form-control",{"is-invalid":D.gender}])},{default:Z(()=>[yo,(a(!0),o(O,null,ee(n.value,ae=>(a(),o("option",{key:ae.name,value:ae.name},t(ae.name),9,go))),128))]),_:2},1032,["class"])])])]),e("div",ko,[e("div",wo,[e("div",xo,[Co,h(_(Q),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":D.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name",modelValue:p.first_name,"onUpdate:modelValue":M[3]||(M[3]=ae=>p.first_name=ae)},null,8,["class","modelValue"]),e("span",Do,t(D.first_name),1)])]),e("div",So,[e("div",Mo,[Vo,h(_(Q),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":D.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name",modelValue:p.last_name,"onUpdate:modelValue":M[4]||(M[4]=ae=>p.last_name=ae)},null,8,["class","modelValue"]),e("span",Uo,t(D.last_name),1)])])]),e("div",Ao,[Po,h(_(Q),{name:"position",type:"text",class:P(["form-control",{"is-invalid":D.position}]),id:"position",modelValue:p.position,"onUpdate:modelValue":M[5]||(M[5]=ae=>p.position=ae),placeholder:"Enter position"},null,8,["class","modelValue"]),e("span",qo,t(D.position),1)]),e("div",To,[Io,h(_(Q),{name:"password",type:"password",class:P(["form-control",{"is-invalid":D.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Ro,t(D.password),1)])]),Eo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Lo,[e("div",Yo,[e("div",Fo,[No,e("div",Bo,[jo,e("button",{onClick:se(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Ho=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),zo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Jo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Qo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),qe={__name:"ContentLoader",setup(s){return(v,m)=>v.isloading?(a(),re(_(Rt),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Ho,zo,Jo,Qo]),_:1})):U("",!0)}};var fe=(s,v)=>{const m=s.__vccOpts||s;for(const[l,i]of v)m[l]=i;return m};const Ne=s=>(ye("data-v-965b4d94"),s=s(),ge(),s),Go={class:"content"},Wo={class:"container-fluid"},Ko={class:"row"},Xo={class:"col-md-6"},Zo={class:"card"},el=De('<ul class="nav nav-tabs" data-v-965b4d94><li class="nav-item" data-v-965b4d94><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-965b4d94>General Settings</a></li><li class="nav-item" data-v-965b4d94><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-965b4d94>Site Settings</a></li></ul>',1),tl={class:"tab-content"},sl={class:"tab-pane fade show active",id:"general-tab"},al={class:"card-body"},ol={class:"form-group"},ll=Ne(()=>e("label",{for:"appName"},"App Display Name",-1)),nl={key:0,class:"text-danger text-sm"},dl={class:"form-group"},il=Ne(()=>e("label",{for:"dateFormat"},"Date Format",-1)),cl=De('<option value="m/d/Y" data-v-965b4d94> MM/DD/YYYY </option><option value="d/m/Y" data-v-965b4d94> DD/MM/YYYY </option><option value="Y-m-d" data-v-965b4d94> YYYY-MM-DD </option><option value="F j, Y" data-v-965b4d94> Month DD, YYYY </option><option value="j F Y" data-v-965b4d94> DD Month YYYY </option>',5),rl=[cl],ul={key:0,class:"text-danger text-sm"},_l={class:"form-group"},ml=Ne(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),pl={key:0,class:"text-danger text-sm"},hl=Ne(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),T("Save Changes ")])],-1)),vl={class:"tab-pane fade",id:"site"},bl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},fl={key:0,class:"list-group-item p-0"},$l={class:"d-flex justify-content-center"},yl=["onClick"],gl={class:"ml-auto my-1 mr-1"},kl=["onClick"],wl=Ne(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),xl=[wl],Cl={class:"m-2 list-unstyled"},Dl={key:1},Sl={key:0,class:"list-group-item p-0"},Ml={class:"d-flex justify-content-center"},Vl=["onClick"],Ul={class:"ml-auto my-1 mr-1"},Al=["onClick"],Pl=Ne(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),ql=[Pl],Tl={key:1,class:"mt-2 text-center"},Il=Ne(()=>e("span",null,"No Site",-1)),Rl=[Il],El={class:"input-group"},Ll=Ne(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Yl={__name:"UpdateSetting",setup(s){const v=`${ve().name}`,m=r([]),l=me(),i=r(!0),d=r([]),c=r(!1),p=r(),n=Fe("$swal"),g=r({id:"",site_name:"",is_active:""}),b=()=>{c.value=!0,axios.get("/api/site").then(N=>{c.value=!1,d.value=N.data}).catch(N=>{console.log(N)})},S=Ce(()=>Array.isArray(d.value)?d.value.filter(N=>N.is_active===0):[]),u=Ce(()=>S.value.length),C=()=>{i.value=!i.value},j=()=>{var N,k;c.value=!0,axios.post("/api/site",{id:(N=g.value)==null?void 0:N.id,site_name:(k=g.value)==null?void 0:k.site_name,is_active:!0}).then(f=>{b(),g.value={id:null,site_name:"",is_active:!0},l.success(f.data.message),c.value=!1}).catch(f=>{f.response&&f.response.status===422&&(V.value=f.response.data.errors)})},H=N=>{g.value.is_active=N.is_active===1?0:1,axios.post("/api/site",{id:N.id,site_name:N.site_name,is_active:g.value.is_active}).then(k=>{axios.get("/api/site").then(f=>{d.value=f.data}).catch(f=>{console.error("Error fetching tasks:",f),l.error("Error fetching tasks. Please try again.")})}).catch(k=>{console.error("Error adding new task:",k),l.error("Error adding new task. Please try again.")})},L=N=>{if(N.is_active===null||N.is_active===0){n.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}g.value.id=N.id,g.value.site_name=N.site_name},J=()=>{axios.get("/api/settings").then(N=>{m.value=N.data})},V=r(),q=()=>{V.value="",axios.post("/api/settings",m.value).then(N=>{l.success("Settings updated successfully!")}).catch(N=>{N.response&&N.response.status===422&&(V.value=N.response.data.errors)})};return _e(()=>{b(),J(),document.title=`SLI-DTS - ${v}`}),(N,k)=>(a(),o("div",Go,[e("div",Wo,[e("div",Ko,[e("div",Xo,[e("div",Zo,[el,e("div",tl,[e("div",sl,[e("form",{onSubmit:k[3]||(k[3]=se(f=>q(),["prevent"]))},[e("div",al,[e("div",ol,[ll,te(e("input",{"onUpdate:modelValue":k[0]||(k[0]=f=>m.value.app_name=f),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ie,m.value.app_name]]),V.value&&V.value.app_name?(a(),o("span",nl,t(V.value.app_name[0]),1)):U("",!0)]),e("div",dl,[il,te(e("select",{"onUpdate:modelValue":k[1]||(k[1]=f=>m.value.date_format=f),class:"form-control"},rl,512),[[Re,m.value.date_format]]),V.value&&V.value.date_format?(a(),o("span",ul,t(V.value.date_format[0]),1)):U("",!0)]),e("div",_l,[ml,te(e("input",{"onUpdate:modelValue":k[2]||(k[2]=f=>m.value.pagination_limit=f),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ie,m.value.pagination_limit]]),V.value&&V.value.pagination_limit?(a(),o("span",pl,t(V.value.pagination_limit[0]),1)):U("",!0)])]),hl],32)]),e("div",vl,[d.value.length>0?(a(),o("div",bl,[c.value?(a(),re(qe,{key:0})):U("",!0),(a(!0),o(O,null,ee(d.value,f=>(a(),o("ul",{class:"list-group",key:f.id},[f.is_active===1?(a(),o("li",fl,[e("div",$l,[e("div",null,[e("span",{class:P({"btn font-italic text-red":f.is_active===0,btn:f.is_active===1})},[e("i",{onClick:B=>H(f),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":f.is_active===1,"fa fa-circle text-primary":f.is_active===0}),style:{"font-size":"15px"}},null,10,yl),T(" "+t(f.site_name),1)],2)]),e("div",gl,[e("button",{onClick:B=>L(f),class:"btn btn-outline"},xl,8,kl)])])])):U("",!0)]))),128)),e("li",Cl,[u.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-danger",onClick:C},[e("i",{class:P(["fa",i.value?"fa-arrow-down":"fa-arrow-right"])},null,2),T(" \xA0Deactive List "+t(u.value),1)])):U("",!0)]),i.value?(a(),o("div",Dl,[(a(!0),o(O,null,ee(d.value,f=>(a(),o("ul",{class:"list-group",key:f.id},[f.is_active===0?(a(),o("li",Sl,[e("div",Ml,[e("div",null,[e("span",{class:P({"btn font-italic text-red":f.is_active===0,btn:f.is_active===1})},[e("i",{onClick:B=>H(f),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":f.is_active===1,"fa fa-circle text-primary":f.is_active===0}),style:{"font-size":"15px"}},null,10,Vl),e("del",null,t(f.site_name),1)],2)]),e("div",Ul,[e("button",{onClick:B=>L(f),class:"btn btn-outline"},ql,8,Al)])])])):U("",!0)]))),128))])):U("",!0)])):(a(),o("div",Tl,Rl)),h(_(Pe),{ref:"form",onSubmit:j,"initial-values":p.value},{default:Z(()=>[h(_(Q),{name:"id",modelValue:g.value.id,"onUpdate:modelValue":k[4]||(k[4]=f=>g.value.id=f),type:"text",hidden:""},null,8,["modelValue"]),e("div",El,[h(_(Q),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:g.value.site_name,"onUpdate:modelValue":k[5]||(k[5]=f=>g.value.site_name=f),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Ll])]),_:1},8,["initial-values"])])])])])])])]))}};var Fl=fe(Yl,[["__scopeId","data-v-965b4d94"]]);const Nl={class:"content"},Bl={class:"container-fluid"},jl={class:"row"},Ol={class:"col-md-3"},Hl={class:"card card-primary card-outline"},zl={class:"card-body box-profile"},Jl={class:"text-center"},Ql=["src"],Gl={class:"profile-username text-center"},Wl={class:"text-muted text-center"},Kl={class:"col-md-9"},Xl={class:"card"},Zl=De('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),en={class:"card-body"},tn={class:"tab-content"},sn={class:"tab-pane active",id:"profile"},an={class:"form-group row"},on=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),ln={class:"col-sm-10"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),rn={class:"col-sm-10"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),pn={class:"col-sm-10"},hn={key:0,class:"text-danger text-sm"},vn={class:"form-group row"},bn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),fn={class:"col-sm-10"},$n={key:0,class:"text-danger text-sm"},yn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),T(" Save Changes")])])],-1),gn={class:"tab-pane",id:"changePassword"},kn={class:"form-group row"},wn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),xn={class:"col-sm-9"},Cn={key:0,class:"text-danger text-sm"},Dn={class:"form-group row"},Sn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),Mn={class:"col-sm-9"},Vn={key:0,class:"text-danger text-sm"},Un={class:"form-group row"},An=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),Pn={class:"col-sm-9"},qn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),T(" Save Changes")])])],-1),Tn={__name:"UpdateProfile",setup(s){const v=ue(),m=me(),l=`${ve().name}`,i=r([]),d=()=>{axios.put("/api/profile",{name:v.user.name,first_name:v.user.first_name,last_name:v.user.last_name,email:v.user.email,role:v.user.role}).then(S=>{m.success("Profile updated successfully!")}).catch(S=>{S.response&&S.response.status===422&&(i.value=S.response.data.errors)})},c=Me({currentPassword:"",password:"",passwordConfirmation:""}),p=()=>{i.value="",axios.post("/api/change-user-password",c).then(S=>{m.success(S.data.message);for(const u in c)c[u]=""}).catch(S=>{S.response&&S.response.status===422&&(i.value=S.response.data.errors)})},n=r(null),g=()=>{n.value.click()},b=S=>{const u=S.target.files[0];v.user.avatar=URL.createObjectURL(u);const C=new FormData;C.append("profile_picture",u),axios.post("/api/upload-profile-image",C).then(j=>{m.success("Image uploaded successfully!")})};return _e(()=>{document.title=`SLI-DTS - ${l}`}),(S,u)=>(a(),o("div",Nl,[e("div",Bl,[e("div",jl,[e("div",Ol,[e("div",Hl,[e("div",zl,[e("div",Jl,[e("input",{onChange:b,ref_key:"fileInput",ref:n,type:"file",class:"d-none"},null,544),e("img",{onClick:g,class:"profile-user-img img-circle",src:_(v).user.avatar,alt:"User profile picture"},null,8,Ql)]),e("h3",Gl,t(_(v).user.name),1),e("p",Wl,t(_(v).user.role),1)])])]),e("div",Kl,[e("div",Xl,[Zl,e("div",en,[e("div",tn,[e("div",sn,[e("form",{onSubmit:u[4]||(u[4]=se(C=>d(),["prevent"])),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[te(e("input",{"onUpdate:modelValue":u[0]||(u[0]=C=>_(v).user.name=C),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ie,_(v).user.name]]),i.value&&i.value.name?(a(),o("span",nn,t(i.value.name[0]),1)):U("",!0)])]),e("div",dn,[cn,e("div",rn,[te(e("input",{"onUpdate:modelValue":u[1]||(u[1]=C=>_(v).user.first_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ie,_(v).user.first_name]]),i.value&&i.value.first_name?(a(),o("span",un,t(i.value.first_name[0]),1)):U("",!0)])]),e("div",_n,[mn,e("div",pn,[te(e("input",{"onUpdate:modelValue":u[2]||(u[2]=C=>_(v).user.last_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ie,_(v).user.last_name]]),i.value&&i.value.last_name?(a(),o("span",hn,t(i.value.last_name[0]),1)):U("",!0)])]),e("div",vn,[bn,e("div",fn,[te(e("input",{"onUpdate:modelValue":u[3]||(u[3]=C=>_(v).user.email=C),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ie,_(v).user.email]]),i.value&&i.value.email?(a(),o("span",$n,t(i.value.email[0]),1)):U("",!0)])]),yn],32)]),e("div",gn,[e("form",{onSubmit:se(p,["prevent"]),class:"form-horizontal"},[e("div",kn,[wn,e("div",xn,[te(e("input",{"onUpdate:modelValue":u[5]||(u[5]=C=>c.currentPassword=C),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ie,c.currentPassword]]),i.value&&i.value.current_password?(a(),o("span",Cn,t(i.value.current_password[0]),1)):U("",!0)])]),e("div",Dn,[Sn,e("div",Mn,[te(e("input",{"onUpdate:modelValue":u[6]||(u[6]=C=>c.password=C),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ie,c.password]]),i.value&&i.value.password?(a(),o("span",Vn,t(i.value.password[0]),1)):U("",!0)])]),e("div",Un,[An,e("div",Pn,[te(e("input",{"onUpdate:modelValue":u[7]||(u[7]=C=>c.passwordConfirmation=C),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ie,c.passwordConfirmation]])])]),qn],32)])])])])])])])]))}};const Oe=s=>(ye("data-v-809e38f2"),s=s(),ge(),s),In={class:"login-box"},Rn={class:"card card-outline card-primary"},En=Oe(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Ln={class:"card-body"},Yn={key:0,class:"alert alert-danger",role:"alert"},Fn={class:"input-group mb-3"},Nn=Oe(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Bn={class:"input-group mb-3"},jn=Oe(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),On=["type"],Hn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},zn=Oe(()=>e("div",{class:"input-group mb-3"},null,-1)),Jn={class:"row"},Qn={class:"col-12 mb-2"},Gn=["disabled"],Wn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Kn=Oe(()=>e("span",{class:"sr-only"},"Loading...",-1)),Xn=[Kn],Zn={key:1},ed=Oe(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),td="Login",sd={__name:"Login",setup(s){const v=r(!1),m=me();ue();const l=Qe(),i=Me({email:"",password:""}),d=r(!1),c=r(""),p=()=>{d.value=!0,c.value="",I.post("/login",i).then(()=>{l.push("/"),m.success("Login Success")}).catch(n=>{m.error(n.response.data.message)}).finally(()=>{d.value=!1})};return _e(()=>{document.title=td}),(n,g)=>(a(),o("div",In,[e("div",Rn,[En,e("div",Ln,[c.value?(a(),o("div",Yn,t(c.value),1)):U("",!0),e("form",{onSubmit:se(p,["prevent"])},[e("div",Fn,[Nn,te(e("input",{"onUpdate:modelValue":g[0]||(g[0]=b=>i.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ie,i.email]])]),e("div",Bn,[jn,te(e("input",{"onUpdate:modelValue":g[1]||(g[1]=b=>i.password=b),class:"form-control",placeholder:"Password",type:v.value?"text":"password",onClick:g[2]||(g[2]=(...b)=>n.handleKeyClick&&n.handleKeyClick(...b))},null,8,On),[[ct,i.password]])]),e("label",Hn,[te(e("input",{type:"checkbox","onUpdate:modelValue":g[3]||(g[3]=b=>v.value=b)},null,512),[[Le,v.value]]),T(" Show Password ")]),zn,e("div",Jn,[e("div",Qn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(a(),o("div",Wn,Xn)):(a(),o("span",Zn,"Sign In"))],8,Gn)])])],32),ed])])]))}};var ad=fe(sd,[["__scopeId","data-v-809e38f2"]]);const od=["checked"],ld=e("i",{class:"fa fa-edit"},null,-1),nd=[ld],dd=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),id=[dd],cd={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:v}){me();const m=s,l=v,i=()=>{l("toggleSelection",m.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:i},null,40,od)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.first_name)+" "+t(s.item.last_name),1),e("td",null,t(s.item.email),1),e("td",null,t(s.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:c[0]||(c[0]=se(p=>d.$emit("editUser",s.item),["prevent"]))},nd),e("a",{href:"#",onClick:c[1]||(c[1]=se(p=>d.$emit("confirmUserDeletion",s.item.id),["prevent"]))},id)])]))}},rd={class:"content"},ud={class:"container-fluid"},_d={class:"d-flex justify-content-between"},md={class:"d-flex"},pd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),hd={key:0},vd=e("i",{class:"fa fa-trash mr-1"},null,-1),bd={class:"ml-2"},fd={class:"card"},$d={class:"card-body"},yd={class:"table table-bordered"},gd=e("th",{style:{width:"10px"}},"#",-1),kd=e("th",null,"Name",-1),wd=e("th",null,"Email",-1),xd=e("th",null,"Registered Date",-1),Cd=e("th",null,"Options",-1),Dd={key:0},Sd={key:1},Md=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),Vd=[Md],Ud={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ad={class:"modal-dialog",role:"document"},Pd={class:"modal-content"},qd={class:"modal-header"},Td={class:"modal-title",id:"staticBackdropLabel"},Id={key:0},Rd={key:1},Ed=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ld={class:"modal-body"},Yd={class:"form-group"},Fd=e("label",{for:"fist_name"},"First Name",-1),Nd={class:"invalid-feedback"},Bd={class:"form-group"},jd=e("label",{for:"last_name"},"Last Name",-1),Od={class:"invalid-feedback"},Hd={class:"form-group"},zd=e("label",{for:"email"},"Email",-1),Jd={class:"invalid-feedback"},Qd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Gd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Wd={class:"modal-dialog",role:"document"},Kd={class:"modal-content"},Xd=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Zd={class:"modal-footer"},ei=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),ti={__name:"ClientList",setup(s){const v=me(),m=r({data:[]}),l=r(!1),i=r(),d=r(null),c=(B=1)=>{I.get(`/api/clients?page=${B}`,{params:{query:j.value}}).then(A=>{m.value=A.data,H.value=[],k.value=!1})},p=Se({first_name:z().required(),last_name:z().required(),email:z().email().required()}),n=Se({first_name:z().required(),last_name:z().required(),email:z().email().required()}),g=(B,{resetForm:A,setErrors:G})=>{I.post("/api/clients",B).then(pe=>{m.value.data.unshift(pe.data),$("#clientFormModal").modal("hide"),A(),v.success("User created successfully!")}).catch(pe=>{pe.response.data.errors&&G(pe.response.data.errors)})},b=()=>{l.value=!1,$("#clientFormModal").modal("show")},S=B=>{l.value=!0,d.value.resetForm(),$("#clientFormModal").modal("show"),i.value={id:B.id,first_name:B.first_name,last_name:B.last_name,email:B.email}},u=(B,{setErrors:A})=>{I.put("/api/clients/"+i.value.id,B).then(G=>{const pe=m.value.data.findIndex(X=>X.id===G.data.id);m.value.data[pe]=G.data,$("#clientFormModal").modal("hide"),v.success("Client updated successfully!")}).catch(G=>{A(G.response.data.errors),console.log(G)})},C=(B,A)=>{l.value?u(B,A):g(B,A)},j=r(null),H=r([]),L=B=>{const A=H.value.indexOf(B.id);A===-1?H.value.push(B.id):H.value.splice(A,1),console.log(H.value)},J=r(null),V=B=>{J.value=B,$("#deleteClientModal").modal("show")},q=()=>{I.delete(`/api/clients/${J.value}`).then(()=>{$("#deleteClientModal").modal("hide"),v.success("Client deleted successfully!"),m.value.data=m.value.data.filter(B=>B.id!==J.value)})},N=()=>{I.delete("/api/clients",{data:{ids:H.value}}).then(B=>{m.value.data=m.value.data.filter(A=>!H.value.includes(A.id)),H.value=[],k.value=!1,v.success(B.data.message)})},k=r(!1),f=()=>{k.value?H.value=m.value.data.map(B=>B.id):H.value=[],console.log(H.value)};return he(j,Ue.exports.debounce(()=>{c()},300)),_e(()=>{c()}),(B,A)=>(a(),o(O,null,[e("div",rd,[e("div",ud,[e("div",_d,[e("div",md,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[pd,T(" Add New Client ")]),H.value.length>0?(a(),o("div",hd,[e("button",{onClick:N,type:"button",class:"ml-2 mb-2 btn btn-danger"},[vd,T(" Delete Selected ")]),e("span",bd,"Selected "+t(H.value.length)+" clients",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=G=>j.value=G),class:"form-control",placeholder:"Search..."},null,512),[[ie,j.value]])])]),e("div",fd,[e("div",$d,[e("table",yd,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":A[1]||(A[1]=G=>k.value=G),onChange:f},null,544),[[Le,k.value]])]),gd,kd,wd,xd,Cd])]),m.value.data.length>0?(a(),o("tbody",Dd,[(a(!0),o(O,null,ee(m.value.data,(G,pe)=>(a(),re(cd,{key:G.id,item:G,index:pe,onEditUser:S,onConfirmUserDeletion:V,onToggleSelection:L,"select-all":k.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Sd,Vd))])])]),h(_(Ee),{data:m.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",Ud,[e("div",Ad,[e("div",Pd,[e("div",qd,[e("h5",Td,[l.value?(a(),o("span",Id,"Edit Client")):(a(),o("span",Rd,"Add New Client"))]),Ed]),h(_(Pe),{ref_key:"form",ref:d,onSubmit:C,"validation-schema":l.value?_(n):_(p),"initial-values":i.value},{default:Z(({errors:G})=>[e("div",Ld,[e("div",Yd,[Fd,h(_(Q),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":G.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Nd,t(G.first_name),1)]),e("div",Bd,[jd,h(_(Q),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":G.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Od,t(G.last_name),1)]),e("div",Hd,[zd,h(_(Q),{name:"email",type:"email",class:P(["form-control",{"is-invalid":G.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Jd,t(G.email),1)])]),Qd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Gd,[e("div",Wd,[e("div",Kd,[Xd,e("div",Zd,[ei,e("button",{onClick:se(q,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const rt=s=>(ye("data-v-6b52e506"),s=s(),ge(),s),si={style:{"text-align":"center"}},ai={key:0},oi=rt(()=>e("i",{class:"fa fa-edit"},null,-1)),li=[oi],ni=rt(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),di=[ni],ii={key:1,style:{"text-align":"center"}},ci={key:0},ri=rt(()=>e("i",{class:"fa fa-edit"},null,-1)),ui=[ri],_i={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(s,{emit:v}){me();const m=ue();return(l,i)=>{const d=be("router-link");return a(),o("tr",null,[e("td",null,t(s.item.recommnum),1),e("td",null,t(s.item.user),1),e("td",null,t(s.item.branch),1),e("td",null,t(s.item.department),1),e("td",null,t(s.item.created_user),1),e("td",si,[s.item.statusid==2?(a(),re(d,{key:0,to:`/tech-approved/${s.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3)]),_:1},8,["to"])):(a(),o("span",{key:1,class:P(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3))]),e("td",null,t(s.item.created_at),1),_(m).user.role==="ADMIN"?(a(),o("td",ai,[e("a",{href:"#",onClick:i[0]||(i[0]=se(c=>l.$emit("editUser",s.item),["prevent"]))},li),e("a",{href:"#",onClick:i[1]||(i[1]=se(c=>l.$emit("confirmUserDeletion",s.item.id),["prevent"]))},di)])):U("",!0),_(m).user.role==="USER"?(a(),o("td",ii,[s.item.statusid!=2?(a(),o("div",ci,[s.item.created_by==_(m).user.id?(a(),o("a",{key:0,href:"#",onClick:i[2]||(i[2]=se(c=>l.$emit("editUser",s.item),["prevent"]))},ui)):U("",!0)])):U("",!0)])):U("",!0)])}}};var mi=fe(_i,[["__scopeId","data-v-6b52e506"]]);const pi={class:"content"},hi={class:"container-fluid"},vi={class:"d-flex justify-content-between"},bi={class:"d-flex"},fi=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),$i={key:0},yi=e("i",{class:"fa fa-trash mr-1"},null,-1),gi={class:"ml-2"},ki={class:"card"},wi={class:"card-body"},xi={class:"dispatch-table"},Ci={class:"table-responsive"},Di={class:"table table-bordered table-sm"},Si=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),Mi={key:0},Vi={key:1},Ui=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Ai=[Ui],Pi=["item","index"],qi={class:"card"},Ti={class:"card-body"},Ii={class:"list-field"},Ri=e("span",{class:"mb-1 dis"},"Tech #:",-1),Ei={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"User:",-1),Yi={class:"list-field"},Fi=e("span",{class:"mb-1 dis"},"Branch:",-1),Ni={class:"list-field"},Bi=e("span",{class:"mb-1 dis"},"Department:",-1),ji={class:"list-field"},Oi=e("span",{class:"mb-1 dis"},"Created by:",-1),Hi={class:"list-field"},zi=e("span",{class:"mb-1 dis"},"Status:",-1),Ji={class:"list-field"},Qi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Gi=e("hr",null,null,-1),Wi={class:"row"},Ki={key:0,class:"col"},Xi=["onClick"],Zi=e("i",{class:"fa fa-pencil-square-o"},null,-1),ec=["onClick"],tc=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),T(" Remove ")],-1),sc=[tc],ac={key:1,class:"col"},oc={key:0},lc=["onClick"],nc=e("i",{class:"fa fa-pencil-square-o"},null,-1),dc={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ic={class:"modal-dialog modal-lg",role:"document"},cc={class:"modal-content"},rc={class:"modal-header"},uc={class:"modal-title",id:"staticBackdropLabel"},_c={key:0},mc={key:1},pc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),hc={class:"modal-body"},vc={class:"col-md-12"},bc={class:"row"},fc={class:"col-6"},$c={class:"form-group"},yc=e("label",{for:"branch"},"Branch",-1),gc=e("option",{value:"",disabled:""}," Select Branch ",-1),kc=["value"],wc={class:"invalid-feedback"},xc={class:"form-group"},Cc=e("label",{for:"department"},"Department",-1),Dc={class:"invalid-feedback"},Sc={class:"form-group"},Mc=e("label",{for:"warehouse"},"warehouse",-1),Vc={class:"invalid-feedback"},Uc={class:"form-group"},Ac=e("label",{for:"user"},"User",-1),Pc={class:"invalid-feedback"},qc={class:"col-6"},Tc={class:"form-group"},Ic=e("label",{for:"brand"},"Brand",-1),Rc={class:"form-group"},Ec=e("label",{for:"model"},"Model",-1),Lc={class:"invalid-feedback"},Yc={class:"form-group"},Fc=e("label",{for:"assettag"},"Asset tag",-1),Nc={class:"invalid-feedback"},Bc={class:"form-group"},jc=e("label",{for:"serialnum"},"Serial number",-1),Oc={class:"invalid-feedback"},Hc={class:"col-12"},zc={class:"form-group"},Jc=e("label",{for:"problem"},"Report Problem",-1),Qc={class:"invalid-feedback"},Gc={class:"form-group"},Wc=e("label",{for:"assconducted"},"Assessment conducted",-1),Kc={class:"invalid-feedback"},Xc={class:"form-group"},Zc=e("label",{for:"recommendation"},"Recommendation",-1),er={class:"invalid-feedback"},tr={class:"modal-footer"},sr={key:0},ar={key:0,class:"btn-group float-l ml-auto"},or=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),lr={class:"dropdown-menu",role:"menu"},nr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),dr=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),ir={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cr={class:"modal-dialog",role:"document"},rr={class:"modal-content"},ur=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),_r={class:"modal-footer"},mr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),pr={__name:"TechList",setup(s){const v=r(),m=r(),l=me(),i=r({data:[]});r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const d=`${ve().name}`,c=()=>{I.get("/web/getsite").then(w=>{m.value=w.data.sites}).catch(w=>{console.log(w)})},p=r(!1),n=r(!1),g=r(),b=Me({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),S=ue();r(null);const u=(w=1)=>{p.value=!0,I.get(`/api/tech-recommendations?page=${w}`,{params:{query:k.value}}).then(D=>{p.value=!1,i.value=D.data,f.value=[],M.value=!1})},C=Se({branch:z().required(),department:z().required(),user:z().required(),problem:z().required(),assconducted:z().required(),brand:z().required()}),j=Se({branch:z().required(),department:z().required(),user:z().required(),problem:z().required(),assconducted:z().required(),brand:z().required()}),H=(w,{resetForm:D,setErrors:ae})=>{I.post("/api/tech-recommendations",w).then(de=>{i.value.data.unshift(de.data),$("#FormModal").modal("hide"),D(),l.success("Data created successfully!")}).catch(de=>{de.response.data.errors&&ae(de.response.data.errors)})},L=()=>{n.value=!1,$("#FormModal").modal("show")},J=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},V=w=>{v.value=w.id,n.value=!0,J(),b.id=w.id,b.branch=w.branch,b.department=w.department,b.warehouse=w.warehouse,b.user=w.user,b.problem=w.problem,b.brand=w.brand,b.model=w.model,b.assettag=w.assettag,b.serialnum=w.serialnum,b.assconducted=w.assconducted,b.recommendation=w.recommendation,b.ceated_by=w.ceated_by,b.recommnum=w.recommnum,$("#FormModal").modal("show")},q=(w,{setErrors:D})=>{I.put("/api/tech-recommendations/"+w.id,w).then(ae=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(ae=>{D(ae.response.data.errors),console.log(ae)})},N=(w,D)=>{n.value?q(b,D):H(w,D)},k=r(null),f=r([]),B=w=>{const D=f.value.indexOf(w.id);D===-1?f.value.push(w.id):f.value.splice(D,1),console.log(f.value)},A=r(null),G=w=>{A.value=w,$("#deleteClientModal").modal("show")},pe=()=>{I.delete(`/api/tech-recommendations/${A.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),i.value.data=i.value.data.filter(w=>w.id!==A.value)})},X=()=>{I.delete("/api/tech-recommendations",{data:{ids:f.value}}).then(w=>{i.value.data=i.value.data.filter(D=>!f.value.includes(D.id)),f.value=[],M.value=!1,l.success(w.data.message)})},F=w=>{I.post("/api/tech-getaction",{id:v.value,status:w}).then(D=>{$("#FormModal").modal("hide"),u()}).catch(D=>{console.log(D.message)})},M=r(!1);return he(k,Ue.exports.debounce(()=>{u()},300)),_e(()=>{u(),c(),document.title=`SLI-DTS - ${d}`}),(w,D)=>{const ae=be("font"),de=be("router-link");return a(),o(O,null,[e("div",pi,[e("div",hi,[e("div",vi,[e("div",bi,[e("button",{onClick:L,type:"button",class:"mb-2 btn btn-primary"},[fi,T(" TechRecom ")]),f.value.length>0?(a(),o("div",$i,[e("button",{onClick:X,type:"button",class:"ml-2 mb-2 btn btn-danger"},[yi,T(" Delete Selected ")]),e("span",gi,"Selected "+t(f.value.length)+" techrecomm",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=E=>k.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ie,k.value]])])]),e("div",ki,[e("div",wi,[p.value?(a(),re(qe,{key:0})):U("",!0),e("div",xi,[e("div",Ci,[h(ae,{size:"2"},{default:Z(()=>[e("table",Di,[Si,i.value.data.length>0?(a(),o("tbody",Mi,[(a(!0),o(O,null,ee(i.value.data,(E,Y)=>(a(),re(mi,{key:E.id,item:E,index:Y,onEditUser:V,onShowItem:w.viewItem,onConfirmUserDeletion:G,onToggleSelection:B,"select-all":M.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(a(),o("tbody",Vi,Ai))])]),_:1})])]),(a(!0),o(O,null,ee(i.value.data,(E,Y)=>(a(),o("div",{class:"dispatch-list",key:E.id,item:E,index:Y},[e("div",qi,[e("div",Ti,[e("div",Ii,[Ri,e("span",null,[e("b",null,t(E.recommnum),1)])]),e("div",Ei,[Li,e("span",null,t(E.user),1)]),e("div",Yi,[Fi,e("span",null,t(E.branch),1)]),e("div",Ni,[Bi,e("span",null,t(E.department),1)]),e("div",ji,[Oi,e("span",null,t(E.created_user),1)]),e("div",Hi,[zi,E.statusid==2?(a(),re(de,{key:0,to:`/tech-approved/${E.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`badge-${E.status.color}`])},t(E.status.name),3)]),_:2},1032,["to"])):U("",!0),E.statusid!=2?(a(),o("span",{key:1,class:P(["badge",`badge-${E.status.color}`])},t(E.status.name),3)):U("",!0)]),e("div",Ji,[Qi,e("span",null,t(E.created_at),1)]),Gi,e("div",Wi,[_(S).user.role==="ADMIN"?(a(),o("div",Ki,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Be=>V(E)},[Zi,T(" Edit ")],8,Xi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Be=>G(E.id)},sc,8,ec)])):U("",!0),_(S).user.role==="USER"?(a(),o("div",ac,[E.statusid!=2?(a(),o("div",oc,[E.created_by==_(S).user.id?(a(),o("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Be=>V(E)},[nc,T(" Edit ")],8,lc)):U("",!0)])):U("",!0)])):U("",!0)])])])],8,Pi))),128))])]),h(_(Ee),{data:i.value,onPaginationChangePage:u},null,8,["data"])])]),e("div",dc,[e("div",ic,[e("div",cc,[e("div",rc,[e("h5",uc,[n.value?(a(),o("span",_c,"Edit Tech Recom.")):(a(),o("span",mc,"Add New Tech Recom."))]),pc]),h(_(Pe),{onSubmit:N,"validation-schema":n.value?_(j):_(C),"initial-values":g.value},{default:Z(({errors:E})=>[e("div",hc,[e("div",vc,[e("div",bc,[e("div",fc,[h(_(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(S).user.id,"onUpdate:modelValue":D[1]||(D[1]=Y=>_(S).user.id=Y)},null,8,["modelValue"]),h(_(Q),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":D[2]||(D[2]=Y=>b.recommnum=Y)},null,8,["modelValue"]),e("div",$c,[yc,h(_(Q),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":D[3]||(D[3]=Y=>b.branch=Y)},{default:Z(()=>[gc,(a(!0),o(O,null,ee(m.value,Y=>(a(),o("option",{key:Y.name,value:Y.name},t(Y.name),9,kc))),128))]),_:2},1032,["class","modelValue"]),e("span",wc,t(E.branch),1)]),e("div",xc,[Cc,h(_(Q),{name:"department",type:"text",class:P(["form-control",{"is-invalid":E.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":D[4]||(D[4]=Y=>b.department=Y)},null,8,["class","modelValue"]),e("span",Dc,t(E.department),1)]),e("div",Sc,[Mc,h(_(Q),{name:"warehouse",type:"text",class:P(["form-control",{"is-invalid":E.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":D[5]||(D[5]=Y=>b.warehouse=Y)},null,8,["class","modelValue"]),e("span",Vc,t(E.warehouse),1)]),e("div",Uc,[Ac,h(_(Q),{name:"user",type:"text",class:P(["form-control",{"is-invalid":E.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":D[6]||(D[6]=Y=>b.user=Y)},null,8,["class","modelValue"]),e("span",Pc,t(E.user),1)])]),e("div",qc,[e("div",Tc,[Ic,h(_(Q),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":D[7]||(D[7]=Y=>b.brand=Y)},null,8,["modelValue"])]),e("div",Rc,[Ec,h(_(Q),{name:"model",type:"text",class:P(["form-control",{"is-invalid":E.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":D[8]||(D[8]=Y=>b.model=Y),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Lc,t(E.model),1)]),e("div",Yc,[Fc,h(_(Q),{name:"assettag",type:"text",class:P(["form-control",{"is-invalid":E.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":D[9]||(D[9]=Y=>b.assettag=Y),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Nc,t(E.assettag),1)]),e("div",Bc,[jc,te(e("input",{name:"serialnum",type:"text",class:P(["form-control",{"is-invalid":E.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":D[10]||(D[10]=Y=>b.serialnum=Y)},null,2),[[ie,b.serialnum]]),e("span",Oc,t(E.serialnum),1)])]),e("div",Hc,[e("div",zc,[Jc,h(_(Q),{name:"problem",as:"textarea",class:P(["form-control",{"is-invalid":E.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":D[11]||(D[11]=Y=>b.problem=Y)},null,8,["class","modelValue"]),e("span",Qc,t(E.problem),1)]),e("div",Gc,[Wc,h(_(Q),{name:"assconducted",as:"textarea",class:P(["form-control",{"is-invalid":E.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":D[12]||(D[12]=Y=>b.assconducted=Y)},null,8,["class","modelValue"]),e("span",Kc,t(E.assconducted),1)]),e("div",Xc,[Zc,h(_(Q),{name:"recommendation",as:"textarea",class:P(["form-control",{"is-invalid":E.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":D[13]||(D[13]=Y=>b.recommendation=Y)},null,8,["class","modelValue"]),e("span",er,t(E.recommendation),1)])])])])]),e("div",tr,[n.value?(a(),o("div",sr,[_(S).user.role==="ADMIN"?(a(),o("div",ar,[e("button",{type:"button",onClick:D[14]||(D[14]=Y=>F(2)),class:"btn btn-info"}," Approved "),or,e("div",lr,[e("span",{onClick:D[15]||(D[15]=Y=>F(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:D[16]||(D[16]=Y=>F(3)),class:"dropdown-item"},"Disapproved")])])):U("",!0)])):U("",!0),nr,dr])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",ir,[e("div",cr,[e("div",rr,[ur,e("div",_r,[mr,e("button",{onClick:se(pe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Ge=pt("SettingStore",()=>{const s=r({app_name:""}),v=Et("SettingStore:theme",r("light"));return{setting:s,getSetting:async()=>{await I.get("/api/settings").then(i=>{s.value=i.data})},theme:v,changeTheme:()=>{v.value=v.value==="light"?"dark":"light"}}});const oe=s=>(ye("data-v-a215d374"),s=s(),ge(),s),hr={class:"content"},vr={class:"container-fluid"},br={class:"card"},fr={class:"card-header"},$r={class:"card-title"},yr={class:"card-body"},gr={class:"col-md-12"},kr={class:"d-flex justify-content-between"},wr=oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),xr={class:"d-flex"},Cr={class:"col-12",id:"accordion"},Dr={key:1},Sr={key:0},Mr={class:"card card-secondary"},Vr={class:"card-body d-flex align-items-center justify-content-center"},Ur={class:"image-container"},Ar=["src"],Pr=oe(()=>e("div",{class:"overlay"},null,-1)),qr={key:1},Tr={class:"card-header bg-white"},Ir={class:"card-title"},Rr=["href"],Er=["src"],Lr={class:"card-tools"},Yr=["onClick"],Fr=oe(()=>e("i",{class:"fas fa-tasks"},null,-1)),Nr=[Fr],Br=["disabled","onClick"],jr=["onClick"],Or=["onClick"],Hr=oe(()=>e("p",{class:"float-right"},null,-1)),zr=["id"],Jr={class:"card-body"},Qr={class:"col-md-12"},Gr={class:"dispatch-table"},Wr={class:"row"},Kr={class:"col-4"},Xr=oe(()=>e("b",null,"Site:",-1)),Zr=oe(()=>e("b",null,"Planned Date:",-1)),eu=oe(()=>e("b",null,"Planned End Date:",-1)),tu={class:"col-4"},su=oe(()=>e("b",null,"Start Date:",-1)),au=oe(()=>e("b",null,"Accomplished Date:",-1)),ou={class:"closestatus"},lu=oe(()=>e("b",{style:{color:"black"}},"Type:",-1)),nu={class:"col-4"},du={class:"ongoing"},iu=oe(()=>e("b",{style:{color:"black"}},"Status:",-1)),cu=oe(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),ru=oe(()=>e("b",null,"Remarks:",-1)),uu={style:{margin:"0.5%"}},_u=["disabled","onClick"],mu=["onClick","disabled"],pu={class:"dispatch-list"},hu={class:"list-group list-group-flush"},vu={class:"list-group-item d-flex justify-content-between align-items-center"},bu={class:"badge badge-primary badge-pill"},fu={class:"list-group-item d-flex justify-content-between align-items-center"},$u={class:"badge badge-primary badge-pill"},yu={class:"list-group-item d-flex justify-content-between align-items-center"},gu={class:"badge badge-primary badge-pill"},ku={class:"list-group-item d-flex justify-content-between align-items-center"},wu={class:"badge badge-primary badge-pill"},xu={class:"list-group-item d-flex justify-content-between align-items-center"},Cu={class:"badge badge-primary badge-pill"},Du={class:"list-group-item d-flex justify-content-between align-items-center"},Su={class:"badge badge-primary badge-pill"},Mu={class:"list-group-item d-flex justify-content-between align-items-center"},Vu={class:"badge badge-primary badge-pill"},Uu={class:"list-group-item d-flex justify-content-between align-items-center"},Au={class:"badge badge-primary badge-pill"},Pu=oe(()=>e("hr",null,null,-1)),qu={class:"row"},Tu={class:"col"},Iu=["onClick"],Ru=oe(()=>e("i",{class:"fas fa-pen"},null,-1)),Eu=["onClick"],Lu=oe(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),T(" Drop ")],-1)),Yu=[Lu],Fu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Nu={class:"modal-dialog modal-dialog-centered",role:"document"},Bu={class:"modal-content"},ju={class:"modal-header"},Ou={class:"modal-title",id:"staticBackdropLabel"},Hu={key:0},zu={key:1},Ju={key:2},Qu=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Gu={class:"modal-body"},Wu={class:"col-md-12"},Ku={class:"row"},Xu={class:"col-12"},Zu={class:"form-group"},e_=oe(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),t_=oe(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),s_=["value"],a_={key:0,class:"d-flex justify-content-between"},o_={class:"d-flex"},l_={class:"form-group"},n_=oe(()=>e("label",{for:"end-time"},"Start Date",-1)),d_={class:"form-group"},i_=oe(()=>e("label",{for:"end-time"},"Hour",-1)),c_=["value"],r_=oe(()=>e("div",{class:"d-fex"},null,-1)),u_={key:1,class:"d-flex justify-content-between"},__={class:"d-flex"},m_={class:"form-group"},p_=oe(()=>e("label",{for:"end-time"},"End Date",-1)),h_={class:"form-group"},v_=oe(()=>e("label",{for:"end-time"},"Hour",-1)),b_=["value"],f_=oe(()=>e("div",{class:"d-fex"},null,-1)),$_={class:"form-group"},y_=oe(()=>e("label",{for:"site"},"Type",-1)),g_=oe(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),k_=["value"],w_=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),x_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},C_={class:"modal-dialog modal-sm",role:"document"},D_={class:"modal-content"},S_={class:"modal-header"},M_={class:"modal-title",id:"staticBackdropLabel"},V_=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),U_={class:"modal-body"},A_=De('<ul class="nav nav-tabs" id="myTabs" data-v-a215d374><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-a215d374> Todo List</a></li><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-a215d374> Todo</a></li></ul>',1),P_={class:"tab-content"},q_={class:"tab-pane fade show active",id:"todolist"},T_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},I_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),R_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),E_={key:0,class:"list-group-item p-0"},L_={class:"d-flex justify-content-center"},Y_=["onClick"],F_={class:"ml-auto my-1 mr-1"},N_=["onClick"],B_=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),j_=[B_],O_={class:"mt-2 mb-2 list-unstyled"},H_={key:1},z_={key:0,class:"list-group-item p-0"},J_={class:"d-flex justify-content-center"},Q_=["onClick"],G_={class:"ml-auto my-1 mr-1"},W_=["onClick"],K_=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),X_=[K_],Z_={key:1,class:"mt-2 text-center"},em=oe(()=>e("span",null,"No Todo",-1)),tm=[em],sm={class:"tab-pane fade",id:"formTask"},am={class:"col-md-12"},om={class:"row"},lm={class:"col-12"},nm={class:"m-2",style:{display:"flex","align-items":"center"}},dm=oe(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),T("\xA0Save ")])],-1)),im={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cm={class:"modal-dialog",role:"document"},rm={class:"modal-content"},um=oe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),_m={class:"modal-body"},mm={class:"col-md-12"},pm={class:"row"},hm={class:"col-12"},vm={class:"modal-footer"},bm=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),fm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},$m={class:"modal-dialog",role:"document"},ym={class:"modal-content"},gm=De('<div class="modal-header" data-v-a215d374><h5 class="modal-title" id="staticBackdropLabel" data-v-a215d374><span data-v-a215d374>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-a215d374><span aria-hidden="true" data-v-a215d374>\xD7</span></button></div><div class="modal-body" data-v-a215d374><h5 data-v-a215d374>Are you sure you want to delete this record ?</h5></div>',2),km={class:"modal-footer"},wm=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),xm={__name:"MyPrio",setup(s){const v=`${ve().name}`,m=r(!1),l=r(!1),i=Fe("$swal");Ge();const d=me(),c=r({data:[]}),p=r([]);r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),r();const n=r();r();const g=r(!0),b=r(!1);r(!1),r();const S=r(),u=r(),C=r(),j=ue();r(null),r(!1);const H=r([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),L=r(),J=r("1:00 AM"),V=r(),q=r("1:00 AM"),N=r(Array.from({length:24},(x,R)=>{const y=R%12+1,$e=R<12?"AM":"PM";return`${y}:00 ${$e}`})),k=r(Array.from({length:24},(x,R)=>{const y=R%12+1,$e=R<12?"AM":"PM";return`${y}:00 ${$e}`})),f=Me({dailytask_id:"",site:"",user_id:j.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),B=r("");he([L,J],()=>{const x=new Date(L.value),R=x.getFullYear(),y=String(x.getMonth()+1).padStart(2,"0"),$e=String(x.getDate()).padStart(2,"0");f.plandate=`${R}-${y}-${$e} ${J.value}`}),he([L,q],()=>{const x=new Date(L.value);x.getFullYear(),String(x.getMonth()+1).padStart(2,"0"),String(x.getDate()).padStart(2,"0")}),he([V,q],()=>{const x=new Date(V.value),R=x.getFullYear(),y=String(x.getMonth()+1).padStart(2,"0"),$e=String(x.getDate()).padStart(2,"0");f.enddates=`${R}-${y}-${$e} ${q.value}`});const A=r({id:"",dailytask_id:"",task_name:"",iscompleted:0}),G=()=>{I.get("/web/getsite").then(x=>{n.value=x.data.sites}).catch(x=>{console.log(x)})},pe=()=>{m.value=!0,I.get("/web/dailytask",{params:{query:K.value}}).then(x=>{m.value=!1,c.value=x.data,xe.value=[]})},X=async x=>{(await i({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(m.value=!0,I.put(`/web/dailytask/drop/${x}`).then(y=>{d.success("Data drop successfully!"),m.value=!1,pe()}))},F=()=>{$("#FormModalTask").modal("show")},M=x=>{F(),A.value.dailytask_id=x.dailytask_id,u.value=x.taskdate,C.value=x.startdate,l.value=!0,I.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(R=>{p.value=R.data,F(),l.value=!1}).catch(R=>{console.error("Error fetching tasks:",R)})},w=()=>{l.value=!0,I.post("/web/dailytask/addnewTask",{dailytask_id:A.value.dailytask_id,task_name:A.value.task_name,iscompleted:A.value.iscompleted}).then(x=>{d.success("Data created successfully!"),I.get(`/web/dailytask/${A.value.dailytask_id}/tasks`).then(R=>{p.value=R.data,l.value=!1}).catch(R=>{console.error("Error fetching tasks:",R),d.error("Error fetching tasks. Please try again.")}),A.value.task_name=""}).catch(x=>{console.error("Error adding new task:",x),d.error("Error adding new task. Please try again.")})},D=x=>{A.value.iscompleted=x.iscompleted===1?0:1,I.post("/web/dailytask/addnewTask",{id:x.id,dailytask_id:x.dailytask_id,task_name:x.task_name,iscompleted:A.value.iscompleted}).then(R=>{I.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(y=>{p.value=y.data}).catch(y=>{console.error("Error fetching tasks:",y),d.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),d.error("Error adding new task. Please try again.")})},ae=Ce(()=>Array.isArray(p.value)?p.value.filter(x=>x.iscompleted===1):[]),de=Ce(()=>ae.value.length),E=()=>{g.value=!g.value},Y=x=>{I.delete(`/web/dailytask/deleteTask/${x.id}`).then(R=>{I.get(`/web/dailytask/${x.dailytask_id}/tasks`).then(y=>{p.value=y.data,d.success("Todo successfull Deleted")}).catch(y=>{console.error("Error fetching tasks:",y),d.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),d.error("Error adding new task. Please try again.")})};Se({site:z().required(),tasktype:z().required(),plandate:z().required(),planenddate:z().required()}),Se({site:z().required(),tasktype:z().required(),plandate:z().required(),planenddate:z().required()});const Be=(x,R)=>{I.post("/web/dailytask",f).then(y=>{pe(),$("#FormModal").modal("hide"),d.success("data created successfully!")}).catch(y=>{R.setErrors(y.response.data.errors)})},st=(x,R)=>{I.put("/web/dailytask/"+f.dailytask_id,f).then(y=>{console.log(y.data),pe(),$("#FormModal").modal("hide"),d.success("data update successfully!")}).catch(y=>{R.setErrors(y.response.data.errors)})},Je=x=>{x&&x.dailytask_id!==null&&x.dailytask_id!==void 0?(b.value=!0,S.value=" on "+le(x.taskdate).format("MMMM D, YYYY"),f.site=x.site_name,f.dailytask_id=x.dailytask_id,f.plandate=x.plandate,f.planenddate=x.planenddate,f.tasktype=x.tasktype,console.log(x.site_name),console.log(x.tasktype)):b.value=!1,G(),$("#FormModal").modal("show")},at=(x,R)=>{b.value?st(x,R):Be(x,R)},je=async x=>{if((await i.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const y=await I.put("/web/dailytask/onTashHoliday/"+x.dailytask_id,x);d.success(y.data.message),pe()}},ot=async x=>{try{const R=await I.get(`/web/dailytask/${x.dailytask_id}/tasks`);if(p.value=R.data,!p.value||p.value.length===0){i.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await i.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const $e=await I.put("/web/dailytask/onhandler/"+x.dailytask_id,x);d.success($e.data.message),pe()}}catch(R){console.error("Error fetching tasks:",R),d.error("An error occurred while updating the task.")}},lt=x=>{$("#onRemarksModal").modal("show"),B.value=x},W=()=>{f.remarks===null||f.remarks==""?d.error("Remarks is required"):(le(B.value.taskdate).format("YYYY-MM-DD")===le().format("YYYY-MM-DD")?f.status="HIT":f.status="MISS",I.put("/web/dailytask/onhandler/"+B.value.dailytask_id,{startdate:B.value.startdate,remarks:f.remarks,status:f.status}).then(R=>{console.log(R.data),pe(),$("#onRemarksModal").modal("hide"),d.success(R.data.message)}))},K=r(null),xe=r([]);return r(null),he(K,Ue.exports.debounce(()=>{pe()},300)),_e(()=>{ht(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),pe(),document.title=`SLI-DTS - ${v}`}),(x,R)=>(a(),o(O,null,[e("div",hr,[e("div",vr,[e("div",br,[e("div",fr,[e("div",$r,t(_(j).user.first_name+" "+_(j).user.last_name)+" - My Prio ",1)]),e("div",yr,[e("div",gr,[e("div",kr,[e("div",{class:"d-flex"},[e("button",{onClick:Je,type:"button",class:"mb-2 btn btn-primary"},[wr,T(" Task ")])]),e("div",xr,[te(e("input",{type:"text","onUpdate:modelValue":R[0]||(R[0]=y=>K.value=y),class:"form-control",placeholder:"Search..."},null,512),[[ie,K.value]])])]),e("div",Cr,[m.value?(a(),re(qe,{key:0})):(a(),o("div",Dr,[c.value.length===0?(a(),o("div",Sr,[e("div",Mr,[e("div",Vr,[e("div",Ur,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,Ar),Pr])])])])):(a(),o("div",qr,[(a(!0),o(O,null,ee(c.value,y=>(a(),o("div",{class:"card card-primary",key:y.id},[e("div",Tr,[e("h4",Ir,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+y.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Er),T(" \xA0"),e("b",null,t(_(le)(y.taskdate).format("MMMM D, YYYY")+" - "+y.site_name),1)],8,Rr)]),e("div",Lr,[y.tasktypeid&&y.tasktypeid!==6?(a(),o("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:$e=>M(y)},Nr,8,Yr)):U("",!0),!y.enddate&&y.tasktypeid!==6?(a(),o("button",{key:1,disabled:y.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:$e=>lt(y)}," End ",8,Br)):U("",!0),y.tasktypeid&&y.tasktypeid===6?(a(),o("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:$e=>je(y)}," Complete ",8,jr)):U("",!0),!y.startdate&&y.tasktypeid!==6?(a(),o("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:$e=>ot(y)}," Start ",8,Or)):U("",!0),Hr])]),e("div",{id:"collapse"+y.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Jr,[e("div",Qr,[e("div",Gr,[e("div",Wr,[e("div",Kr,[e("h5",null,[Xr,T(" "+t(y.site_name),1)]),e("h5",null,[Zr,T(" "+t(y.plandate),1)]),e("h5",null,[eu,T(" "+t(y.planenddate),1)])]),e("div",tu,[e("h5",null,[su,T(" "+t(y.startdate!==null?_(le)(y.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[au,T(" "+t(y.enddate!==null?_(le)(y.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",ou,[lu,T(" "+t(y.tasktype?y.tasktype.join(", "):""),1)])]),e("div",nu,[e("h5",du,[iu,T(" "+t(y.status),1)]),e("h5",null,[cu,T(" "+t(y.attachment),1)]),e("h5",null,[ru,T(" "+t(y.remarks),1)])])]),e("div",uu,[e("button",{disabled:y.startdate!==null,onClick:$e=>X(y.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,_u),e("button",{onClick:$e=>Je(y),type:"button",disabled:y.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,mu)])]),e("div",pu,[e("ul",hu,[e("li",vu,[T(" Site: "),e("span",bu,t(y.site_name),1)]),e("li",fu,[T(" Planned Date: "),e("span",$u,t(y.plandate),1)]),e("li",yu,[T(" Planned End Date: "),e("span",gu,t(y.planenddate),1)]),e("li",ku,[T(" Start Date: "),e("span",wu,t(y.startdate!==null?_(le)(y.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",xu,[T(" Type: "),e("span",Cu,t(y.tasktype?y.tasktype.join(", "):""),1)]),e("li",Du,[T(" Status: "),e("span",Su,t(y.status),1)]),e("li",Mu,[T(" Attachment: "),e("span",Vu,t(y.attachment),1)]),e("li",Uu,[T(" Remarks: "),e("span",Au,t(y.remarks),1)])]),Pu,e("div",qu,[e("div",Tu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:$e=>Je(y)},[Ru,T(" Edit ")],8,Iu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:$e=>X(y.dailytask_id)},Yu,8,Eu)])])])])])],8,zr)]))),128))]))]))])])])])])]),e("div",Fu,[e("div",Nu,[e("div",Bu,[e("div",ju,[e("h5",Ou,[b.value?(a(),o("span",Hu,"Edit My Task")):(a(),o("span",zu,"Add My Task")),b.value?(a(),o("span",Ju,t(S.value),1)):U("",!0)]),Qu]),h(_(Pe),{onSubmit:at},{default:Z(()=>[e("div",Gu,[e("div",Wu,[e("div",Ku,[e("div",Xu,[h(_(Q),{modelValue:f.user_id,"onUpdate:modelValue":R[1]||(R[1]=y=>f.user_id=y),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Zu,[e_,te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":R[2]||(R[2]=y=>f.site=y)},[t_,(a(!0),o(O,null,ee(n.value,y=>(a(),o("option",{key:y.id,value:y.id},t(y.name),9,s_))),128))],512),[[Re,f.site]])]),b.value==!1?(a(),o("div",a_,[e("div",o_,[e("div",l_,[n_,h(_(Ye),{class:"form-control",modelValue:L.value,"onUpdate:modelValue":R[3]||(R[3]=y=>L.value=y)},null,8,["modelValue"])]),e("div",d_,[i_,te(e("select",{class:"form-control","onUpdate:modelValue":R[4]||(R[4]=y=>J.value=y),id:"plandate"},[(a(!0),o(O,null,ee(N.value,y=>(a(),o("option",{key:y,value:y},t(y),9,c_))),128))],512),[[Re,J.value]])])]),r_])):U("",!0),b.value==!1?(a(),o("div",u_,[e("div",__,[e("div",m_,[p_,h(_(Ye),{class:"form-control",modelValue:V.value,"onUpdate:modelValue":R[5]||(R[5]=y=>V.value=y)},null,8,["modelValue"])]),e("div",h_,[v_,te(e("select",{class:"form-control","onUpdate:modelValue":R[6]||(R[6]=y=>q.value=y),id:"plandate"},[(a(!0),o(O,null,ee(k.value,y=>(a(),o("option",{key:y,value:y},t(y),9,b_))),128))],512),[[Re,q.value]])])]),f_])):U("",!0),e("div",$_,[y_,h(_(Q),{name:"tasktype"},{default:Z(()=>[te(e("select",{"onUpdate:modelValue":R[7]||(R[7]=y=>f.tasktype=y),class:"form-control",required:!0},[g_,(a(!0),o(O,null,ee(H.value,y=>(a(),o("option",{key:y.value,value:y.value},t(y.name),9,k_))),128))],512),[[Re,f.tasktype]])]),_:1})])])])])]),w_]),_:1})])])]),e("div",x_,[e("div",C_,[e("div",D_,[e("div",S_,[e("h5",M_," My Todo of "+t(_(le)(u.value).format("MM/D/YYYY")),1),V_]),e("div",U_,[A_,e("div",P_,[e("div",q_,[p.value.length>0?(a(),o("div",T_,[l.value?(a(),re(qe,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[I_,R_]),_:1})):U("",!0),(a(!0),o(O,null,ee(p.value,y=>(a(),o("ul",{class:"list-group",key:y.id},[y.iscompleted!==1?(a(),o("li",E_,[e("div",L_,[e("div",null,[e("span",{class:P({"font-italic btn":y.iscompleted===1,btn:y.iscompleted!==1})},[C.value?(a(),o("i",{key:0,onClick:$e=>D(y),class:P({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":y.iscompleted===1,"fa fa-circle text-primary":y.iscompleted!==1})},null,10,Y_)):U("",!0),T(" "+t(y.task_name),1)],2)]),e("div",F_,[e("button",{onClick:$e=>Y(y),class:"btn btn-outline"},j_,8,N_)])])])):U("",!0)]))),128)),e("li",O_,[de.value>0?(a(),o("button",{key:0,class:"btn btn-sm bg-secondary",onClick:E},[e("i",{class:P(["fa",g.value?"fa-arrow-down":"fa-arrow-right"])},null,2),T(" \xA0Completed "+t(de.value),1)])):U("",!0)]),g.value?(a(),o("div",H_,[(a(!0),o(O,null,ee(p.value,y=>(a(),o("ul",{class:"list-group",key:y.id},[y.iscompleted===1?(a(),o("li",z_,[e("div",J_,[e("div",null,[e("span",{class:P({"font-italic btn":y.iscompleted===1,btn:y.iscompleted!==1})},[C.value?(a(),o("i",{key:0,onClick:$e=>D(y),class:P({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":y.iscompleted===1,"fa fa-circle text-primary":y.iscompleted!==1})},null,10,Q_)):U("",!0),T(" "+t(y.task_name),1)],2)]),e("div",G_,[e("button",{onClick:$e=>Y(y),class:"btn btn-outline"},X_,8,W_)])])])):U("",!0)]))),128))])):U("",!0)])):(a(),o("div",Z_,tm))]),e("div",sm,[h(_(Pe),{onSubmit:w},{default:Z(()=>[e("div",am,[e("div",om,[e("div",lm,[h(_(Q),{modelValue:A.value.dailytask_id,"onUpdate:modelValue":R[8]||(R[8]=y=>A.value.dailytask_id=y),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",nm,[h(_(Q),{modelValue:A.value.task_name,"onUpdate:modelValue":R[9]||(R[9]=y=>A.value.task_name=y),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),dm]),_:1})])])])])])]),e("div",im,[e("div",cm,[e("div",rm,[um,e("div",_m,[e("div",mm,[e("div",pm,[e("div",hm,[h(_(Q),{modelValue:f.remarks,"onUpdate:modelValue":R[10]||(R[10]=y=>f.remarks=y),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",vm,[e("button",{onClick:R[11]||(R[11]=se(y=>W(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),bm])])])]),e("div",fm,[e("div",$m,[e("div",ym,[gm,e("div",km,[e("button",{onClick:R[12]||(R[12]=se((...y)=>x.deleteUser&&x.deleteUser(...y),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),wm])])])])],64))}};var Cm=fe(xm,[["__scopeId","data-v-a215d374"]]);const Dm={class:"text-center"},Sm={key:0},Mm={class:"text-center"},Vm={key:0},Um={class:"text-center"},Am={key:0,class:"bg-success text-center"},Pm={key:1,class:"bg-danger text-center"},qm={key:2,class:"text-center"},Tm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(s){return me(),ue(),(v,m)=>(a(),o("tr",null,[e("td",null,t(_(le)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",Dm,[s.item.task_lists_count!==0?(a(),o("span",Sm,t(s.item.task_lists_count),1)):U("",!0)]),e("td",Mm,[s.item.completed_task_count!==0?(a(),o("span",Vm,t(s.item.completed_task_count),1)):U("",!0)]),e("td",Um,[e("span",null,t(s.item.remarks),1)]),s.item.status==="HIT"?(a(),o("td",Am,t(s.item.status),1)):s.item.status==="MISS"?(a(),o("td",Pm,t(s.item.status),1)):s.item.status===null||s.item.status===""?(a(),o("td",qm,t(s.item.status===null||s.item.status===""?"On Going!":""),1)):U("",!0),e("td",{class:P({"bg-danger":s.item.percentage_completed>=0&&s.item.percentage_completed<=59,"bg-orange":s.item.percentage_completed>60&&s.item.percentage_completed<=90,"bg-success":s.item.percentage_completed===100,"text-center":!0})},t(s.item.percentage_completed+"%"),3)]))}};const ke=s=>(ye("data-v-e2739d90"),s=s(),ge(),s),Im={class:"content-header"},Rm={class:"container-fluid"},Em={class:"col-12"},Lm={class:"card",id:"captureVSCContainer"},Ym={class:"card-header"},Fm={class:"card-title"},Nm={class:"card-tools"},Bm={class:"card-body"},jm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),Om=[jm],Hm={key:1,class:"row"},zm={class:"inner"},Jm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Qm=["src"],Gm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Wm={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Km={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Xm={style:{"text-align":"left"}},Zm={key:0},ep=ke(()=>e("span",{class:"text-light badge"},"Todos",-1)),tp={class:"list-group-item"},sp={style:{display:"flex","align-items":"left"}},ap={class:"ml-1"},op={class:"ml-1"},lp={class:"float-right"},np={id:"captureHitRateContainer",class:"card"},dp={class:"card-header"},ip={class:"card-title"},cp={class:"card-body"},rp={class:"content"},up={class:"container-fluid"},_p=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),mp=[_p],pp={class:"dispatch-table"},hp={class:"table-responsive"},vp={class:"table table-bordered table-hover table-sm"},bp=ke(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),fp=ke(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),$p={class:"text-center"},yp={class:"text-center"},gp=ke(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),kp=ke(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),wp=["item"],xp={class:"list-field"},Cp=ke(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Dp={class:"list-field"},Sp=ke(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Mp={key:0},Vp={class:"list-field"},Up=ke(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Ap={key:0},Pp={class:"list-field"},qp=ke(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),Tp={class:"list-field"},Ip=ke(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),Rp={class:"list-field"},Ep=ke(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),Lp={class:"float-right"},Yp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Fp={class:"modal-dialog modal-sm",role:"document"},Np={class:"modal-content"},Bp=ke(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),jp={class:"modal-body"},Op={class:"fromtocenter"},Hp=ke(()=>e("label",{for:"fromDate"},"From:",-1)),zp=ke(()=>e("label",{for:"toDate"},"To:",-1)),Jp=ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Qp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gp={class:"modal-dialog modal-sm",role:"document"},Wp={class:"modal-content"},Kp=ke(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Xp={class:"modal-body"},Zp={class:"container"},eh={class:"row"},th=["onClick"],sh=ke(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),ah={__name:"MyVsc",setup(s){const v=`${ve().name}`,m=ue(),l=r(!1),i=r(0),d=r(0),c=r(0),p=r([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),g=r((()=>{const f={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",f)})()),b=()=>{const f=document.getElementById("captureVSCContainer");Ze(f).then(B=>{const A=B.toDataURL(),G=document.createElement("a");G.href=A,G.download=`${m.user.first_name+" "+m.user.last_name} - ${v}.png`,G.click()})},S=()=>{const f=document.getElementById("captureHitRateContainer");Ze(f).then(B=>{const A=B.toDataURL(),G=document.createElement("a");G.href=A,G.download=`${m.user.first_name+" "+m.user.last_name} - My HIT RATE.png`,G.click()})};r(null),r("today");const u=r({data:[]}),C=r({data:[]}),j=()=>{l.value=!0,axios.get("/api/myvsc").then(f=>{l.value=!1,u.value=f.data.dailyTasks,C.value=f.data.TaskList,i.value=f.data.totaltasklist,d.value=f.data.totalcomplettask,c.value=f.data.totalpercentcomplete})},H=()=>{$("#FormModalfilterDate").modal("show")},L=r({start_date:"",end_date:""}),J=r(""),V=r("");he([J],()=>{const f=new Date(J.value),B=f.getFullYear(),A=String(f.getMonth()+1).padStart(2,"0"),G=String(f.getDate()).padStart(2,"0");L.value.start_date=`${B}-${A}-${G}`}),he([V],()=>{const f=new Date(V.value),B=f.getFullYear(),A=String(f.getMonth()+1).padStart(2,"0"),G=String(f.getDate()).padStart(2,"0");L.value.end_date=`${B}-${A}-${G}`});const q=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:L.value.start_date,end_date:L.value.end_date}}).then(f=>{l.value=!1,u.value=f.data.dailyTasks,C.value=f.data.TaskList}).catch(f=>{console.error(f)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},N=()=>{$("#FormModalPickerThemes").modal("show")},k=f=>{if(f){const B=m.user.id;axios.post("/api/changethemes",{userid:B,background:f.background,active_background:f.active_background,font_background:f.font_background}).then(A=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(G=>{l.value=!1,u.value=G.data.dailyTasks,C.value=G.data.TaskList})}).catch(A=>{console.error(A)})}else console.error("Invalid item:",f)};return _e(()=>{j(),document.title=`SLI-DTS - ${v}`}),(f,B)=>(a(),o(O,null,[e("div",Im,[e("div",Rm,[e("div",Em,[e("div",Lm,[e("div",Ym,[e("div",Fm,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - "+t(v),1)]),e("div",Nm,[e("i",{onClick:B[0]||(B[0]=A=>N()),class:"fas fa-palette"})])]),e("div",Bm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-sm btn-success"},Om)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:H})])]),l.value?(a(),re(qe,{key:0})):(a(),o("div",Hm,[(a(!0),o(O,null,ee(u.value,A=>(a(),o("div",{class:"col-lg-3 col-6",key:A.id},[e("div",{class:"small-box",style:nt("background-color: "+(_(le)(A.taskdate).format("MMMM D, YYYY")===g.value?A.active_background==""?"#72461F":A.active_background:A.background==""?"#B98D65":A.background)+";")},[e("div",zm,[e("div",Jm,[T(t(_(le)(A.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Qm)]),e("div",Gm,t(_(le)(A.taskdate).format("MMMM D, YYYY")),1),A.tasktype!==6?(a(),o("div",Wm,t(A.site_name),1)):U("",!0),A.tasktype===6?(a(),o("div",Km," Holiday ")):U("",!0),e("div",Xm,[A.task_lists&&A.task_lists.length>0?(a(),o("div",Zm,[ep,(a(!0),o(O,null,ee(A.task_lists,G=>(a(),o("ul",{class:"list-group list-group-flush",key:G.id},[e("li",tp,[e("div",sp,[e("div",ap,[e("i",{class:P(G.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",op,t(G.task_name),1)])])]))),128))])):U("",!0)])])],4)]))),128))])),e("div",lp,t(g.value),1)])]),e("div",np,[e("div",dp,[e("div",ip,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - My HIT RATE ",1)])]),e("div",cp,[e("div",rp,[e("div",up,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:S,type:"button",class:"mb-2 btn btn-sm btn-success"},mp)])]),e("div",pp,[e("div",hp,[e("table",vp,[bp,e("tbody",null,[(a(!0),o(O,null,ee(C.value,A=>(a(),re(Tm,{key:A.id,item:A},null,8,["item"]))),128)),e("tr",null,[fp,e("td",$p,[e("strong",null,t(i.value),1)]),e("td",yp,[e("strong",null,t(d.value),1)]),gp,kp,e("td",{class:P({"bg-danger":c.value>=0&&c.value<=59,"bg-orange":c.value>60&&c.value<=90,"bg-success":c.value===100,"text-center":!0})},[e("strong",null,t(c.value.toFixed(2)+"%"),1)],2)])])])])]),(a(!0),o(O,null,ee(C.value,A=>(a(),o("div",{class:"dispatch-list",key:A.id,item:A},[e("div",{class:P([{"callout callout-success":A.remarks==="HIT","callout callout-danger":A.remarks==="MISS",callout:A.remarks===null}])},[e("div",xp,[Cp,e("span",null,t(_(le)(A.taskdate).format("MMMM D, YYYY")),1)]),e("div",Dp,[Sp,A.task_lists_count!==0?(a(),o("span",Mp,t(A.task_lists_count),1)):U("",!0)]),e("div",Vp,[Up,A.completed_task_count!==0?(a(),o("span",Ap,t(A.completed_task_count),1)):U("",!0)]),e("div",Pp,[qp,e("span",null,t(A.remarks),1)]),e("div",Tp,[Ip,e("span",{class:P(["badge",A.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(A.status),1)],2)]),e("div",Rp,[Ep,e("span",{class:P(["badge",{"bg-danger":A.percentage_completed>=0&&A.percentage_completed<=59},{"bg-orange":A.percentage_completed>60&&A.percentage_completed<=90},{"bg-success":A.percentage_completed===100}])},t(A.percentage_completed+"%"),3)])],2)],8,wp))),128))])]),e("div",Lp,t(g.value),1)])])])])]),e("div",Yp,[e("div",Fp,[e("div",Np,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(v)+" Summary Report")]),Bp]),e("div",jp,[e("div",Op,[e("div",null,[Hp,h(_(Ye),{modelValue:J.value,"onUpdate:modelValue":B[1]||(B[1]=A=>J.value=A)},null,8,["modelValue"])]),e("div",null,[zp,h(_(Ye),{modelValue:V.value,"onUpdate:modelValue":B[2]||(B[2]=A=>V.value=A)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Jp,e("button",{onClick:q,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Qp,[e("div",Gp,[e("div",Wp,[Kp,e("div",Xp,[e("div",Zp,[e("div",eh,[(a(!0),o(O,null,ee(p.value,A=>(a(),o("div",{class:"col-md-4",key:A.background},[e("div",{class:"box",onClick:G=>k(A)},[e("div",{class:"column",style:nt({"background-color":A.background})}," \xA0 ",4),e("div",{class:"column",style:nt({"background-color":A.active_background})}," \xA0 ",4)],8,th)]))),128))])])]),sh])])])],64))}};var oh=fe(ah,[["__scopeId","data-v-e2739d90"]]);const lh={class:"text-center"},nh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(s){return me(),ue(),(v,m)=>(a(),o("tr",null,[e("td",null,t(s.item.sitename),1),e("td",null,t(_(le)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(s.item.startdate),1),e("td",null,t(s.item.enddate),1),e("td",null,t(s.item.tasktype.listtask),1),e("td",lh,[e("span",{class:P(["badge",s.item.status==="HIT"?"bg-success":"bg-danger"])},t(s.item.status),3)]),e("td",null,t(s.item.remarks),1)]))}};var dh=fe(nh,[["__scopeId","data-v-b058f1b2"]]);const Ae=s=>(ye("data-v-00887440"),s=s(),ge(),s),ih={class:"content"},ch={class:"container-fluid"},rh={class:"card",id:"capturePrioContainer"},uh={class:"card-header"},_h={class:"card-title"},mh={class:"card-body"},ph={key:1,class:"content"},hh={class:"container-fluid"},vh=Ae(()=>e("i",{class:"fa fa-camera"},null,-1)),bh=[vh],fh={class:"dispatch-table"},$h={class:"table-responsive"},yh={class:"table table-bordered table-sm table-striped table-hover"},gh=Ae(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),kh={key:0},wh={key:1},xh=Ae(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),Ch=[xh],Dh=["item","index"],Sh={class:"card"},Mh={class:"card-body"},Vh={class:"list-field"},Uh=Ae(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Ah={class:"list-field"},Ph=Ae(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),qh={class:"list-field"},Th=Ae(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),Ih={class:"list-field"},Rh=Ae(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),Eh={class:"list-field"},Lh=Ae(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),Yh={class:"list-field"},Fh=Ae(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Nh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Bh={class:"modal-dialog modal-sm",role:"document"},jh={class:"modal-content"},Oh=Ae(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Hh={class:"modal-body"},zh={class:"fromtocenter"},Jh=Ae(()=>e("label",{for:"fromDate"},"From:",-1)),Qh=Ae(()=>e("label",{for:"toDate"},"To:",-1)),Gh=Ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Wh={__name:"MyClosePrioList",setup(s){const v=`${ve().name}`,m=r(!1);me();const l=r({data:[]}),i=r(""),d=r(""),c=ue(),p=(S=1)=>{m.value=!0,I.get(`/api/mycloseprio?page=${S}`,{params:{query:b.value}}).then(u=>{m.value=!1,l.value=u.data})},n=()=>{const S=document.getElementById("capturePrioContainer");Ze(S).then(u=>{const C=u.toDataURL(),j=document.createElement("a");j.href=C,j.download="MY CLOSED PRIO.png",j.click()})},g=()=>{m.value=!0,I.get("/api/filter-closeprio",{params:{start_date:i.value,end_date:d.value}}).then(S=>{m.value=!1,l.value=S.data.dailyTasks}).catch(S=>{console.error(S)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=r(null);return he(b,Ue.exports.debounce(()=>{p()},300)),_e(()=>{p(),document.title=`SLI-DTS - ${v}`}),(S,u)=>{const C=be("font");return a(),o(O,null,[e("div",ih,[e("div",ch,[e("div",rh,[e("div",uh,[e("div",_h,[e("h5",null,t(_(c).user.first_name+" "+_(c).user.last_name)+" - My Closed Prio ",1)])]),e("div",mh,[m.value?(a(),re(qe,{key:0})):(a(),o("div",ph,[e("div",hh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:n,type:"button",class:"mb-2 btn btn-sm btn-success"},bh)])]),e("div",null,[e("div",fh,[e("div",$h,[h(C,{size:"2"},{default:Z(()=>[e("table",yh,[gh,l.value.data.length>0?(a(),o("tbody",kh,[(a(!0),o(O,null,ee(l.value.data,(j,H)=>(a(),re(dh,{key:j.id,item:j,index:H},null,8,["item","index"]))),128))])):(a(),o("tbody",wh,Ch))])]),_:1})])]),(a(!0),o(O,null,ee(l.value.data,(j,H)=>(a(),o("div",{class:"dispatch-list first-letter:shadow",key:j.id,item:j,index:H},[e("div",Sh,[e("div",Mh,[e("div",Vh,[Uh,e("span",null,t(j.sitename),1)]),e("div",Ah,[Ph,e("span",null,t(_(le)(j.taskdate).format("MMMM D, YYYY")),1)]),e("div",qh,[Th,e("span",null,t(j.startdate),1)]),e("div",Ih,[Rh,e("span",null,t(j.enddate),1)]),e("div",Eh,[Lh,e("span",null,t(j.tasktype.listtask),1)]),e("div",Yh,[Fh,e("span",{class:P(["badge",j.remarks==="HIT"?"bg-success":"bg-danger"])},t(j.remarks),3)])])])],8,Dh))),128))])])]))])]),h(_(Ee),{data:l.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",Nh,[e("div",Bh,[e("div",jh,[Oh,e("div",Hh,[e("div",zh,[e("div",null,[Jh,h(_(Ye),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=j=>i.value=j)},null,8,["modelValue"])]),e("div",null,[Qh,h(_(Ye),{modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=j=>d.value=j)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Gh,e("button",{onClick:g,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Kh=fe(Wh,[["__scopeId","data-v-00887440"]]);const Xh={class:"text-center"},Zh=e("i",{class:"fa fa-edit"},null,-1),ev=[Zh],tv={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:v}){return me(),(m,l)=>(a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",Xh,[e("a",{href:"#",onClick:l[0]||(l[0]=se(i=>m.$emit("editUser",s.user),["prevent"]))},ev)])]))}},sv={class:"content"},av={class:"container-fluid"},ov={class:"card"},lv={class:"card-header"},nv=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),dv={class:"card-tools"},iv={class:"card-body"},cv={class:"table-responsive"},rv={class:"table table-bordered table-hover table-sm"},uv=e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Action")])],-1),_v={key:0},mv={key:1},pv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),hv=[pv],vv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},bv={class:"modal-dialog modal-sm",role:"document"},fv={class:"modal-content"},$v={class:"modal-header"},yv={class:"modal-title",id:"staticBackdropLabel"},gv={key:0},kv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),wv={class:"modal-body"},xv={class:"table table-sm"},Cv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Dv={colspan:"5"},Sv={class:"custom-control custom-checkbox"},Mv=["value","id"],Vv=["for"],Uv={key:0,class:"table table-sm"},Av={class:"text-danger"},Pv={class:"custom-control custom-checkbox"},qv=["value","id"],Tv=["for"],Iv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Rv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ev={class:"modal-dialog",role:"document"},Lv={class:"modal-content"},Yv=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Fv={class:"modal-footer"},Nv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Bv={__name:"UserMenuList",setup(s){const v=`${ve().name}`,m=me(),l=r({data:[]}),i=r(!1),d=r(),c=r(null),p=r(null),n=r(),g=r([]),b=(V=1)=>{I.get(`/api/users?page=${V}`,{params:{query:C.value}}).then(q=>{l.value=q.data,j.value=[],selectAll.value=!1})},S=V=>{I.get(`/web/usermenu/${V.id}`).then(q=>{n.value=q.data,g.value=[],n.value.forEach(N=>{N.hasAccess===1&&g.value.push(N.menu_id),N.submenus.forEach(k=>{k.hasAccess===1&&g.value.push(k.menu_id)})})}).catch(q=>{console.log(q)}),i.value=!0,c.value.resetForm(),$("#userFormModal").modal("show"),d.value={id:V.id,username:V.username,email:V.email,first_name:V.first_name,last_name:V.last_name},p.value=d.value.first_name+" "+d.value.last_name},u=()=>{const V={user_id:d.value.id,menu_id:g.value};console.log(V),I.post("/web/usermenu",V).then(q=>{m.success("User Menu Save successfully!")}).catch(q=>{setErrors(q.response.data.errors)})},C=r(null),j=r([]),H=V=>{const q=j.value.indexOf(V.id);q===-1?j.value.push(V.id):j.value.splice(q,1),console.log(j.value)},L=r(null),J=V=>{L.value=V,$("#deleteUserModal").modal("show")};return he(C,Ue.exports.debounce(()=>{b()},300)),_e(()=>{b(),document.title=`SLI-DTS - ${v}`}),(V,q)=>{const N=be("font");return a(),o(O,null,[e("div",sv,[e("div",av,[e("div",ov,[e("div",lv,[nv,e("div",dv,[te(e("input",{type:"text","onUpdate:modelValue":q[0]||(q[0]=k=>C.value=k),class:"form-control",placeholder:"Search..."},null,512),[[ie,C.value]])])]),e("div",iv,[e("div",cv,[h(N,{size:"2"},{default:Z(()=>[e("table",rv,[uv,l.value.data.length>0?(a(),o("tbody",_v,[(a(!0),o(O,null,ee(l.value.data,(k,f)=>(a(),re(tv,{key:k.id,user:k,index:f,onEditUser:S,onConfirmUserDeletion:J,onToggleSelection:H,"select-all":V.selectAll},null,8,["user","index","select-all"]))),128))])):(a(),o("tbody",mv,hv))])]),_:1})])])]),h(_(Ee),{data:l.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",vv,[e("div",bv,[e("div",fv,[e("div",$v,[e("h5",yv,[i.value?(a(),o("span",gv,"User Menu for "+t(p.value),1)):U("",!0)]),kv]),h(_(Pe),{ref_key:"form",ref:c,onSubmit:u,"initial-values":d.value},{default:Z(()=>[e("div",wv,[e("table",xv,[Cv,(a(!0),o(O,null,ee(n.value,k=>(a(),o("tr",{key:k.menu_id},[e("td",Dv,[e("div",Sv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":q[1]||(q[1]=f=>g.value=f),value:k.menu_id,id:"menu_id_"+k.menu_id},null,8,Mv),[[Le,g.value]]),e("label",{for:"menu_id_"+k.menu_id,class:"custom-control-label"},t(k.menu_title),9,Vv)]),k.submenus&&k.submenus.length>0?(a(),o("table",Uv,[(a(!0),o(O,null,ee(k.submenus,f=>(a(),o("tr",{key:f.id},[e("td",Av,[e("div",Pv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":q[2]||(q[2]=B=>g.value=B),value:f.menu_id,id:"menu_id_"+f.menu_id},null,8,qv),[[Le,g.value]]),e("label",{for:"menu_id_"+f.menu_id,class:"custom-control-label"},t(f.menu_title),9,Tv)])])]))),128))])):U("",!0)])]))),128))])]),Iv]),_:1},8,["initial-values"])])])]),e("div",Rv,[e("div",Ev,[e("div",Lv,[Yv,e("div",Fv,[Nv,e("button",{onClick:q[3]||(q[3]=se((...k)=>V.deleteUser&&V.deleteUser(...k),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const vt=s=>(ye("data-v-a1892af4"),s=s(),ge(),s),jv=["checked"],Ov=["innerHTML"],Hv={style:{"text-align":"center"}},zv={class:"text-center"},Jv=vt(()=>e("i",{class:"fa fa-edit"},null,-1)),Qv=[Jv],Gv=vt(()=>e("i",{class:"fa fa-trash"},null,-1)),Wv=[Gv],Kv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(s,{emit:v}){me(),ue();const m=s,l=v,i=()=>{l("toggleSelection",m.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:i},null,40,jv)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.menu_title),1),e("td",null,t(s.item.parent_title),1),e("td",null,t(s.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${s.item.menu_icon}'></i>`},null,8,Ov),e("td",null,t(s.item.sort_order),1),e("td",Hv,[e("i",{class:P(s.item.is_active===!0?"fas fa-check":"far fa-circle")},null,2)]),e("td",null,t(s.item.created_at),1),e("td",zv,[e("button",{class:"btn btn-sm bg-primary",onClick:c[0]||(c[0]=se(p=>d.$emit("editMenu",s.item),["prevent"]))},Qv),T("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:c[1]||(c[1]=se(p=>d.$emit("confirmDeletion",s.item.menu_id),["prevent"]))},Wv)])]))}};var Xv=fe(Kv,[["__scopeId","data-v-a1892af4"]]);const Zv=["type","name","value"],eb=e("span",{class:"check"},null,-1),tb={class:"pl-2"},sb={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,l=v,i=Ce({get:()=>m.modelValue,set:c=>{l("update:modelValue",c)}}),d=Ce(()=>m.type==="radio"?"radio":"checkbox");return(c,p)=>(a(),o("label",{class:P([s.type,"mr-6 mb-3 last:mr-0"])},[te(e("input",{"onUpdate:modelValue":p[0]||(p[0]=n=>i.value=n),type:d.value,name:s.name,value:s.inputValue},null,8,Zv),[[ct,i.value]]),eb,e("span",tb,t(s.label),1)],2))}},ab={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,l=v,i=Ce({get:()=>m.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",{class:P(["flex justify-start flex-wrap -mb-3",{"flex-col":s.isColumn}])},[(a(!0),o(O,null,ee(s.options,(p,n)=>(a(),re(sb,{key:n,modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=g=>i.value=g),type:s.type,name:s.name,"input-value":n,label:p,class:P(s.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},ob={class:"content"},lb={class:"container-fluid"},nb={class:"d-flex justify-content-between"},db={class:"d-flex"},ib=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),cb={key:0},rb=e("i",{class:"fa fa-trash mr-1"},null,-1),ub={class:"ml-2"},_b={class:"card"},mb={class:"card-body"},pb={class:"table-responsive"},hb={class:"table table-bordered table-sm"},vb=e("th",{style:{width:"10px"}},"#",-1),bb=e("th",null,"Title",-1),fb=e("th",null,"Parent Menu",-1),$b=e("th",null,"Route",-1),yb=e("th",null,"Icon",-1),gb=e("th",null,"Sort",-1),kb=e("th",null,"Active",-1),wb=e("th",null,"Date",-1),xb=e("th",null,"Action",-1),Cb={key:0},Db={key:1},Sb=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Mb=[Sb],Vb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ub={class:"modal-dialog modal-sm",role:"document"},Ab={class:"modal-content"},Pb={class:"modal-header"},qb={class:"modal-title",id:"staticBackdropLabel"},Tb={key:0},Ib={key:1},Rb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Eb={class:"modal-body"},Lb={class:"col-md-12"},Yb={class:"row"},Fb={class:"col-12"},Nb={class:"form-group"},Bb=e("label",{for:"user"},"Menu Title",-1),jb={class:"invalid-feedback"},Ob={class:"form-group"},Hb=e("label",{for:"department"},"Parent Menu",-1),zb=e("option",{value:"0"},"None",-1),Jb=["value"],Qb={class:"form-group"},Gb=e("label",{for:"warehouse"},"Icon",-1),Wb={class:"invalid-feedback"},Kb={class:"form-group"},Xb=e("label",{for:"user"},"Route",-1),Zb={class:"invalid-feedback"},e1={class:"form-group"},t1=e("label",{for:"user"},"Sort",-1),s1={class:"invalid-feedback"},a1={class:"form-group"},o1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),l1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},n1={class:"modal-dialog",role:"document"},d1={class:"modal-content"},i1=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),c1={class:"modal-footer"},r1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),u1={__name:"MenuList",setup(s){const v=`${ve().name}`,m=me(),l=r({data:[]}),i=r({data:[]}),d=r(!1),c=r(!1);r();const p=r(!0),n=Me({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),g=ue();r(null);const b=r(),S=(X=1)=>{d.value=!0,I.get(`/web/menulist?page=${X}`,{params:{query:V.value}}).then(F=>{d.value=!1,l.value=F.data,q.value=[],G.value=!1})},u=()=>{I.get("/web/GetParentId").then(X=>{i.value=X.data}).catch(X=>{console.error(X)})};Se({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()}),Se({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()});const C=({resetForm:X,setErrors:F})=>{I.post("/web/menulist",{menu_title:n.menu_title,parent_id:n.parent_id,menu_icon:n.menu_icon,menu_route:n.menu_route,sort_order:n.sort_order,is_active:n.is_active}).then(M=>{l.value.data.unshift(M.data),$("#FormModal").modal("hide"),X(),m.success("User created successfully!")}).catch(M=>{M.response.data.errors&&F(M.response.data.errors)})},j=()=>{c.value=!1,$("#FormModal").modal("show")},H=X=>{c.value=!0,n.menu_id=X.menu_id,n.menu_title=X.menu_title,n.parent_id=X.parent_id,n.menu_icon=X.menu_icon,n.menu_route=X.menu_route,n.sort_order=X.sort_order,n.is_active===1?p.value=!0:p.value=!1,n.is_active=X.is_active,$("#FormModal").modal("show"),b.value=X.parent_id},L=({setErrors:X})=>{I.post("/web/menulist",n).then(F=>{S(),$("#FormModal").modal("hide"),m.success("successfully Updated!")}).catch(F=>{X(F.response.data.errors),console.log(F)})},J=(X,F)=>{c.value?L(X):C(X)},V=r(null),q=r([]),N=X=>{const F=q.value.indexOf(X.id);F===-1?q.value.push(X.id):q.value.splice(F,1),console.log(q.value)},k=r(null),f=X=>{k.value=X,$("#deleteClientModal").modal("show")},B=()=>{I.delete(`/web/menu/${k.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(X=>X.menu_id!==k.value)})},A=()=>{I.delete("menulist",{data:{ids:q.value}}).then(X=>{l.value.data=l.value.data.filter(F=>!q.value.includes(F.id)),q.value=[],G.value=!1,m.success(X.data.message)})},G=r(!1),pe=()=>{G.value?q.value=l.value.data.map(X=>X.id):q.value=[],console.log(q.value)};return he([p],X=>{n.is_active=X?1:0}),he(V,Ue.exports.debounce(()=>{S()},300)),_e(()=>{S(),u(),document.title=`SLI-DTS - ${v}`}),(X,F)=>{const M=be("font");return a(),o(O,null,[e("div",ob,[e("div",lb,[e("div",nb,[e("div",db,[e("button",{onClick:j,type:"button",class:"mb-2 btn btn-primary"},[ib,T(" Menu ")]),q.value.length>0?(a(),o("div",cb,[e("button",{onClick:A,type:"button",class:"ml-2 mb-2 btn btn-danger"},[rb,T(" Delete Selected ")]),e("span",ub,"Selected "+t(q.value.length)+" Menu",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":F[0]||(F[0]=w=>V.value=w),class:"form-control",placeholder:"Search..."},null,512),[[ie,V.value]])])]),e("div",_b,[e("div",mb,[d.value?(a(),re(qe,{key:0})):U("",!0),e("div",pb,[h(M,{size:"2"},{default:Z(()=>[e("table",hb,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":F[1]||(F[1]=w=>G.value=w),onChange:pe},null,544),[[Le,G.value]])]),vb,bb,fb,$b,yb,gb,kb,wb,xb])]),l.value.data.length>0?(a(),o("tbody",Cb,[(a(!0),o(O,null,ee(l.value.data,(w,D)=>(a(),re(Xv,{key:w.id,item:w,index:D,onEditMenu:H,onConfirmDeletion:f,onToggleSelection:N,"select-all":G.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Db,Mb))])]),_:1})])])]),h(_(Ee),{data:l.value,onPaginationChangePage:S},null,8,["data"])])]),e("div",Vb,[e("div",Ub,[e("div",Ab,[e("div",Pb,[e("h5",qb,[c.value?(a(),o("span",Tb,"Edit Menu")):(a(),o("span",Ib,"Add Menu"))]),Rb]),h(_(Pe),{onSubmit:J},{default:Z(({errors:w})=>[e("div",Eb,[e("div",Lb,[e("div",Yb,[e("div",Fb,[h(_(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(g).user.id,"onUpdate:modelValue":F[2]||(F[2]=D=>_(g).user.id=D)},null,8,["modelValue"]),e("div",Nb,[Bb,h(_(Q),{name:"menu_title",type:"text",class:P(["form-control",{"is-invalid":w.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.menu_title,"onUpdate:modelValue":F[3]||(F[3]=D=>n.menu_title=D)},null,8,["class","modelValue"]),e("span",jb,t(w.menu_title),1)]),e("div",Ob,[Hb,te(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":F[4]||(F[4]=D=>n.parent_id=D)},[zb,(a(!0),o(O,null,ee(i.value,D=>(a(),o("option",{key:D.menu_id,value:D.menu_id},t(D.menu_title),9,Jb))),128))],512),[[Re,n.parent_id]])]),e("div",Qb,[Gb,h(_(Q),{name:"menu_icon",type:"text",class:P(["form-control",{"is-invalid":w.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.menu_icon,"onUpdate:modelValue":F[5]||(F[5]=D=>n.menu_icon=D)},null,8,["class","modelValue"]),e("span",Wb,t(w.menu_icon),1)]),e("div",Kb,[Xb,h(_(Q),{name:"menu_route",type:"text",class:P(["form-control",{"is-invalid":w.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:n.menu_route,"onUpdate:modelValue":F[6]||(F[6]=D=>n.menu_route=D)},null,8,["class","modelValue"]),e("span",Zb,t(w.menu_route),1)]),e("div",e1,[t1,h(_(Q),{name:"sort_order",type:"text",class:P(["form-control",{"is-invalid":w.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:n.sort_order,"onUpdate:modelValue":F[7]||(F[7]=D=>n.sort_order=D)},null,8,["class","modelValue"]),e("span",s1,t(w.sort_order),1)]),e("div",a1,[h(ab,{modelValue:n.is_active,"onUpdate:modelValue":F[8]||(F[8]=D=>n.is_active=D),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),o1]),_:1})])])]),e("div",l1,[e("div",n1,[e("div",d1,[i1,e("div",c1,[r1,e("button",{onClick:se(B,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}},_1={class:"error-page"},m1=De('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),p1=[m1],h1="Page Not Found",bt={__name:"404",setup(s){return _e(()=>{document.title=h1}),(v,m)=>(a(),o("div",_1,p1))}};const ce=s=>(ye("data-v-5c8db172"),s=s(),ge(),s),v1={id:"exportPDF"},b1={class:"container"},f1=ce(()=>e("br",null,null,-1)),$1={class:"header"},y1=["src"],g1=["src"],k1={class:"header"},w1={class:"header-justify-space-between"},x1=ce(()=>e("br",null,null,-1)),C1=ce(()=>e("p",null,null,-1)),D1={key:0},S1=ce(()=>e("strong",null,null,-1)),M1=ce(()=>e("br",null,null,-1)),V1=ce(()=>e("br",null,null,-1)),U1=ce(()=>e("p",null,null,-1)),A1=ce(()=>e("strong",null,"Unit details",-1)),P1={class:"content"},q1={class:"header-justify-space-between"},T1=ce(()=>e("span",null,"Brand:",-1)),I1=ce(()=>e("br",null,null,-1)),R1=ce(()=>e("span",null,"Model:",-1)),E1=ce(()=>e("br",null,null,-1)),L1=ce(()=>e("div",null,null,-1)),Y1=ce(()=>e("span",null,"Serial #:",-1)),F1=ce(()=>e("br",null,null,-1)),N1=ce(()=>e("span",null,"Asset Tag:",-1)),B1=ce(()=>e("br",null,null,-1)),j1=ce(()=>e("div",null,null,-1)),O1=ce(()=>e("strong",null,"Reported problem",-1)),H1={class:"content"},z1=ce(()=>e("strong",null,"Assessment conducted",-1)),J1={class:"content"},Q1=ce(()=>e("strong",null,"Recommendation",-1)),G1={class:"content"},W1={class:"header-justify-space-between"},K1=ce(()=>e("strong",null,"Evaluated by:",-1)),X1=ce(()=>e("br",null,null,-1)),Z1={class:"botoom-line"},ef=ce(()=>e("br",null,null,-1)),tf=ce(()=>e("p",null,null,-1)),sf=ce(()=>e("strong",null,"Noted by:",-1)),af=ce(()=>e("br",null,null,-1)),of={class:"botoom-line"},lf=ce(()=>e("br",null,null,-1)),nf=ce(()=>e("br",null,null,-1)),df=ce(()=>e("p",null,null,-1)),cf={key:0},rf={key:1},uf={key:0,class:"fab-container"},_f=ce(()=>e("i",{class:"fas fa-download"},null,-1)),mf=[_f],pf={__name:"TechRecommApproved",setup(s){const v=`${ve().params.id}`,m=()=>{const d=document.getElementById("exportPDF");et().from(d).save(`${v}.pdf`)},l=Me({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),i=()=>{I.get(`/api/tech-recommendations/${ve().params.id}`).then(d=>{l.id=d.data.id,l.recommnum=d.data.recommnum,l.branch=d.data.branch,l.company=d.data.company,l.department=d.data.department,l.warehouse=d.data.warehouse,l.user=d.data.user,l.problem=d.data.problem,l.brand=d.data.brand,l.model=d.data.model,l.assettag=d.data.assettag,l.serialnum=d.data.serialnum,l.status=d.data.status,l.assconducted=d.data.assconducted,l.recommendation=d.data.recommendation,l.createdby=d.data.createdby.cfull_name,l.updatedby=d.data.updatedby.ufull_name,l.created_at=le(d.data.created_at).format("MMMM D, YYYY"),l.updated_at=le(d.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=d.data.createdby.cposition,l.updated_position=d.data.updatedby.uposition}).catch(d=>{actions.setErrors(d.response.data.errors)})};return _e(()=>{i(),document.title=v}),(d,c)=>(a(),o(O,null,[e("div",v1,[e("div",b1,[f1,e("div",$1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,y1),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,g1)]),e("div",k1,[e("span",null,[T("Recommendation No: "),e("strong",null,t(l.recommnum),1)]),e("span",null,[T("Date Checked: "),e("strong",null,t(l.created_at),1)])]),e("div",w1,[e("div",null,[e("span",null,[T("Company: "),e("strong",null,t(l.company),1)]),x1,e("span",null,[T("Branch: "),e("strong",null,t(l.branch),1)])]),C1,e("div",null,[l.warehouse==""?(a(),o("span",D1,[T("Warehouse: "),S1,T(t(l.warehouse),1)])):U("",!0),M1,e("span",null,[T("User: "),e("strong",null,t(l.user),1)]),V1,e("span",null,[T("Department: "),e("strong",null,t(l.department),1)])]),U1]),A1,e("div",P1,[e("div",q1,[e("div",null,[T1,e("strong",null,t(l.brand),1),I1,R1,e("strong",null,t(l.model),1),E1]),L1,e("div",null,[Y1,e("strong",null,t(l.serialnum),1),F1,N1,e("strong",null,t(l.assettag),1),B1]),j1])]),O1,e("div",H1,[e("p",null,t(l.problem),1)]),z1,e("div",J1,[e("p",null,t(l.assconducted),1)]),Q1,e("div",G1,[e("p",null,t(l.recommendation),1)]),e("div",W1,[e("div",null,[K1,X1,e("span",Z1,t(l.createdby),1),ef,e("span",null,t(l.created_position),1)]),tf,e("div",null,[sf,af,e("span",of,t(l.updatedby),1),lf,e("span",null,t(l.updated_position),1),nf]),df]),l.status===2?(a(),o("span",cf,"Approved date:("+t(l.updated_at)+")",1)):(a(),o("span",rf,"Pending"))])]),l.status===2?(a(),o("div",uf,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=p=>m())},mf)])):U("",!0)],64))}};var ft=fe(pf,[["__scopeId","data-v-5c8db172"]]);const hf={},vf={class:"card mx-auto",style:{"max-width":"600px"}},bf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),ff={class:"card-body"},$f={class:"list-unstyled"};function yf(s,v){return a(),o("div",vf,[bf,e("div",ff,[e("ul",$f,[e("li",{class:"nav-item dropdown",onClick:v[0]||(v[0]=(...m)=>s.fetchNotifications&&s.fetchNotifications(...m))})])])])}var gf=fe(hf,[["render",yf]]);const kf=["checked"],wf={class:"text-center"},xf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(s,{emit:v}){me(),ue();const m=s,l=v,i=()=>{l("toggleSelection",m.item)};return(d,c)=>(a(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:i},null,40,kf)]),e("td",null,t(s.index+1),1),e("td",{onClick:c[0]||(c[0]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.site_name),1),e("td",{onClick:c[1]||(c[1]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_name),1),e("td",{onClick:c[2]||(c[2]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_type),1),e("td",{onClick:c[3]||(c[3]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.serial),1),e("td",{onClick:c[4]||(c[4]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.date_acquired),1),e("td",{onClick:c[5]||(c[5]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.man_supplier),1),e("td",{onClick:c[6]||(c[6]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.unit),1),e("td",{onClick:c[7]||(c[7]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[8]||(c[8]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:c[9]||(c[9]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.created_by),1),e("td",{onClick:c[10]||(c[10]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.created_at),1),e("td",{onClick:c[11]||(c[11]=se(p=>d.$emit("viewData",s.item),["prevent"]))},t(s.item.updated_by),1),e("td",wf,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:c[12]||(c[12]=se(p=>d.$emit("editData",s.item),["prevent"]))}),T(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:c[13]||(c[13]=se(p=>d.$emit("confirmDeletion",s.item.id),["prevent"]))})])])]))}};var Cf=fe(xf,[["__scopeId","data-v-78d9436c"]]);const Df={class:"content"},Sf={class:"container-fluid"},Mf={class:"d-flex justify-content-between"},Vf={class:"d-flex"},Uf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Af={key:0},Pf=e("i",{class:"fa fa-trash mr-1"},null,-1),qf={class:"ml-2"},Tf={class:"card"},If={class:"card-body"},Rf={class:"table-responsive"},Ef={class:"table table-bordered table-sm table-striped hover"},Lf=e("th",{style:{width:"10px"}},"#",-1),Yf=e("th",null,"Site",-1),Ff=e("th",null,"Asset",-1),Nf=e("th",null,"Asset type",-1),Bf=e("th",null,"Serial",-1),jf=e("th",null,"Date Aquired",-1),Of=e("th",null,"Supplier",-1),Hf=e("th",null,"Unit",-1),zf=e("th",null,"Purchase Cost",-1),Jf=e("th",null,"Unit Value",-1),Qf=e("th",null,"Createdby",-1),Gf=e("th",null,"CreatedAt",-1),Wf=e("th",null,"Updatedby",-1),Kf=e("th",null,"Action",-1),Xf={key:0},Zf={key:1},e$=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),t$=[e$],s$={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},a$={class:"modal-dialog modal-lg",role:"document"},o$={class:"modal-content"},l$={class:"modal-header"},n$={class:"modal-title",id:"staticBackdropLabel"},d$={key:0},i$={key:1},c$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),r$={class:"modal-body"},u$={class:"col-md-12"},_$={class:"row"},m$={class:"col-6"},p$={class:"form-group"},h$=e("label",{for:"branch"},"Site",-1),v$=e("option",{value:"",disabled:""}," Select Site ",-1),b$=["value"],f$={class:"invalid-feedback"},$$={class:"form-group"},y$=e("label",{for:"department"},"Asset Name",-1),g$={class:"invalid-feedback"},k$={class:"form-group"},w$=e("label",{for:"asset_type"},"Asset Type",-1),x$={class:"invalid-feedback"},C$={class:"form-group"},D$=e("label",{for:"serial"},"Serial #:",-1),S$={class:"invalid-feedback"},M$={class:"col-6"},V$={class:"form-group"},U$=e("label",{for:"date_acquired"},"Date Acquired",-1),A$={class:"invalid-feedback"},P$={class:"form-group"},q$=e("label",{for:"man_supplier"},"Brand",-1),T$={class:"invalid-feedback"},I$={class:"form-group"},R$=e("label",{for:"unit"},"Unit",-1),E$={class:"invalid-feedback"},L$={class:"row"},Y$={class:"col-6"},F$={class:"form-group"},N$=e("label",{for:"paccountable"},"Person Accountable",-1),B$={class:"invalid-feedback"},j$={class:"col-6"},O$={class:"form-group"},H$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),z$={class:"invalid-feedback"},J$={class:"row"},Q$={class:"col-6"},G$={class:"form-group"},W$=e("label",{for:"cucodition"},"Current Condition",-1),K$=e("option",{value:"",disabled:""}," Select Condition ",-1),X$=e("option",{value:"Fair"}," FAIR ",-1),Z$=e("option",{value:"Good"}," GOOD ",-1),ey=e("option",{value:"Damange"}," DAMANGE ",-1),ty={class:"invalid-feedback"},sy={class:"form-group"},ay=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),oy={class:"col-6"},ly={class:"form-group"},ny=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),dy={class:"form-group"},iy=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),cy={class:"row"},ry={class:"col-6"},uy={class:"form-group"},_y=e("label",{for:"operationhours"},"Operating Hours",-1),my={class:"col-6"},py={class:"form-group"},hy=e("label",{for:"notes"},"Notes",-1),vy={class:"invalid-feedback"},by={class:"row"},fy={class:"col-6"},$y={class:"form-group"},yy=e("label",{for:"purchasecost"},"Purchase Cost",-1),gy={class:"input-group mb-3"},ky=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),wy={class:"form-group"},xy=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),Cy={class:"input-group mb-3"},Dy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),Sy={class:"col-6"},My={class:"form-group"},Vy=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),Uy={class:"invalid-feedback"},Ay=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Py={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qy={class:"modal-dialog",role:"document"},Ty={class:"modal-content"},Iy=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ry={class:"modal-footer"},Ey=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ly={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yy={class:"modal-dialog",role:"document"},Fy={class:"modal-content"},Ny=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),By={class:"modal-body"},jy={class:"table table-striped table-sm table-hover"},Oy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Hy=e("td",null,"Site",-1),zy=e("td",null,"Assit Name",-1),Jy=e("td",null,"Assit Type",-1),Qy=e("td",null,"Serial No.",-1),Gy=e("td",null,"Date Acquired",-1),Wy=e("td",null,"Brand",-1),Ky=e("td",null,"Unit",-1),Xy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Zy=e("td",null,"Personal Accountable",-1),eg=e("td",null,"Transfer Location",-1),tg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),sg=e("td",null,"Current Condition",-1),ag=e("td",null,"Maintenance Note",-1),og=e("td",null,"Last Maintenance",-1),lg=e("td",null,"Next Maintenance",-1),ng=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),dg=e("td",null,"Operation Hours",-1),ig=e("td",null,"Notes",-1),cg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),rg=e("td",null,"Purchase Cost",-1),ug=e("td",null,"Unit Value",-1),_g=e("td",null,"Warranty information",-1),mg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),pg={__name:"AssetmList",setup(s){ue();const v=`${ve().name}`,m=me(),l=r({data:[]});r({data:[]});const i=r(!1),d=r(!1),c=r(),p=r(!0),n=Me({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});r(null),r();const g=r(),b=(M=1)=>{i.value=!0,I.get(`/web/asset-monitoring?page=${M}`,{params:{query:N.value}}).then(w=>{i.value=!1,l.value=w.data,k.value=[],X.value=!1})},S=Se({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()}),u=Se({menu_title:z().required(),parent_id:z().required(),sort_order:z().required(),menu_icon:z().required(),menu_route:z().required()}),C=()=>{I.post("/web/asset-monitoring",n).then(M=>{$("#FormModal").modal("hide"),b(),m.success(M.data.message)}).catch(M=>{m.error(M.data.message)})},j=()=>{d.value=!1,$("#FormModal").modal("show")},H=M=>{n.site_name=M.site_name,n.id=M.id,n.site_id=M.site_id,n.asset_name=M.asset_name,n.asset_type=M.asset_type,n.serial=M.serial,n.date_acquired=M.date_acquired,n.man_supplier=M.man_supplier,n.unit=M.unit,n.location=M.location,n.paccountable=M.paccountable,n.locationchangetranfer=M.locationchangetranfer,n.cucodition=M.cucodition,n.purchasecost=M.purchasecost,n.maintenancenotes=M.maintenancenotes,n.ceated_by=M.ceated_by,n.updated_by=M.updated_by,n.Depreciationcostbyyear=M.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},L=M=>{d.value=!0,n.id=M.id,n.site_id=M.site_id,n.asset_name=M.asset_name,n.asset_type=M.asset_type,n.serial=M.serial,n.date_acquired=M.date_acquired,n.man_supplier=M.man_supplier,n.unit=M.unit,n.location=M.location,n.paccountable=M.paccountable,n.locationchangetranfer=M.locationchangetranfer,n.cucodition=M.cucodition,n.purchasecost=M.purchasecost,n.depreciationcost=M.depreciationcost,n.maintenancenotes=M.maintenancenotes,n.ceated_by=M.ceated_by,n.updated_by=M.updated_by,$("#FormModal").modal("show")},J=({setErrors:M})=>{I.post("/web/asset-monitoring",n).then(w=>{b(),$("#FormModal").modal("hide"),m.success("Data successfully Updated!")}).catch(w=>{M(w.response.data.errors),console.log(w)})},V=(M,w)=>{d.value?J(M):C()},q=()=>{I.get("/web/getsite").then(M=>{g.value=M.data.sites}).catch(M=>{console.log(M)})},N=r(null),k=r([]),f=M=>{const w=k.value.indexOf(M.id);w===-1?k.value.push(M.id):k.value.splice(w,1),console.log(k.value)},B=r(null),A=M=>{B.value=M,$("#deleteClientModal").modal("show")},G=()=>{I.delete(`/web/asset-monitoring/${B.value}`).then(M=>{$("#deleteClientModal").modal("hide"),m.success(M.data.message),b()})},pe=()=>{I.delete("/web/bulkDeleteAsset",{data:{ids:k.value}}).then(M=>{l.value.data=l.value.data.filter(w=>!k.value.includes(w.id)),k.value=[],X.value=!1,m.success(M.data.message)})},X=r(!1),F=()=>{X.value?k.value=l.value.data.map(M=>M.id):k.value=[],console.log(k.value)};return he([p],M=>{n.is_active=M?1:0}),he(N,Ue.exports.debounce(()=>{b()},300)),_e(()=>{b(),q(),document.title=`SLI-DTS - ${v}`}),(M,w)=>{const D=be("font"),ae=be("tab-content"),de=be("form-wizard");return a(),o(O,null,[e("div",Df,[e("div",Sf,[e("div",Mf,[e("div",Vf,[e("button",{onClick:j,type:"button",class:"mb-2 btn btn-primary"},[Uf,T(" Asset ")]),k.value.length>0?(a(),o("div",Af,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Pf,T(" Delete Selected ")]),e("span",qf,"Selected "+t(k.value.length)+" Record",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=E=>N.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ie,N.value]])])]),e("div",Tf,[e("div",If,[i.value?(a(),re(qe,{key:0})):U("",!0),e("div",Rf,[h(D,{size:"2"},{default:Z(()=>[e("table",Ef,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":w[1]||(w[1]=E=>X.value=E),onChange:F},null,544),[[Le,X.value]])]),Lf,Yf,Ff,Nf,Bf,jf,Of,Hf,zf,Jf,Qf,Gf,Wf,Kf])]),l.value.data.length>0?(a(),o("tbody",Xf,[(a(!0),o(O,null,ee(l.value.data,(E,Y)=>(a(),re(Cf,{key:E.id,item:E,index:Y,onViewData:H,onEditData:L,onConfirmDeletion:A,onToggleSelection:f,"select-all":X.value},null,8,["item","index","select-all"]))),128))])):(a(),o("tbody",Zf,t$))])]),_:1})])])]),h(_(Ee),{data:l.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",s$,[e("div",a$,[e("div",o$,[e("div",l$,[e("h5",n$,[d.value?(a(),o("span",d$,"Edit Asset")):(a(),o("span",i$,"Add Asset"))]),c$]),h(_(Pe),{onSubmit:V,"validation-schema":d.value?_(u):_(S),"initial-values":c.value},{default:Z(({errors:E})=>[e("div",r$,[e("div",u$,[h(de,{onOnComplete:C,color:"#094899","step-size":"xs"},{default:Z(()=>[h(ae,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",_$,[e("div",m$,[e("div",p$,[h$,h(_(Q),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:n.site_id,"onUpdate:modelValue":w[2]||(w[2]=Y=>n.site_id=Y)},{default:Z(()=>[v$,(a(!0),o(O,null,ee(g.value,Y=>(a(),o("option",{key:Y.id,value:Y.id},t(Y.name),9,b$))),128))]),_:2},1032,["class","modelValue"]),e("span",f$,t(E.branch),1)]),e("div",$$,[y$,h(_(Q),{name:"asset_name",type:"text",class:P(["form-control",{"is-invalid":E.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:n.asset_name,"onUpdate:modelValue":w[3]||(w[3]=Y=>n.asset_name=Y)},null,8,["class","modelValue"]),e("span",g$,t(E.asset_name),1)]),e("div",k$,[w$,h(_(Q),{name:"asset_type",type:"text",class:P(["form-control",{"is-invalid":E.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:n.asset_type,"onUpdate:modelValue":w[4]||(w[4]=Y=>n.asset_type=Y)},null,8,["class","modelValue"]),e("span",x$,t(E.asset_type),1)]),e("div",C$,[D$,h(_(Q),{name:"serial",type:"text",class:P(["form-control",{"is-invalid":E.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:n.serial,"onUpdate:modelValue":w[5]||(w[5]=Y=>n.serial=Y)},null,8,["class","modelValue"]),e("span",S$,t(E.serial),1)])]),e("div",M$,[e("div",V$,[U$,h(_(Q),{name:"date_acquired",type:"date",class:P(["form-control",{"is-invalid":E.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:n.date_acquired,"onUpdate:modelValue":w[6]||(w[6]=Y=>n.date_acquired=Y)},null,8,["class","modelValue"]),e("span",A$,t(E.date_acquired),1)]),e("div",P$,[q$,h(_(Q),{name:"man_supplier",type:"text",class:P(["form-control",{"is-invalid":E.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:n.man_supplier,"onUpdate:modelValue":w[7]||(w[7]=Y=>n.man_supplier=Y)},null,8,["class","modelValue"]),e("span",T$,t(E.man_supplier),1)]),e("div",I$,[R$,h(_(Q),{name:"unit",type:"number",class:P(["form-control",{"is-invalid":E.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:n.unit,"onUpdate:modelValue":w[8]||(w[8]=Y=>n.unit=Y)},null,8,["class","modelValue"]),e("span",E$,t(E.unit),1)])])])]),_:2},1024),h(ae,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",L$,[e("div",Y$,[e("div",F$,[N$,h(_(Q),{name:"paccountable",type:"text",class:P(["form-control",{"is-invalid":E.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:n.paccountable,"onUpdate:modelValue":w[9]||(w[9]=Y=>n.paccountable=Y)},null,8,["class","modelValue"]),e("span",B$,t(E.paccountable),1)])]),e("div",j$,[e("div",O$,[H$,h(_(Q),{name:"locationchangetranfer",type:"text",class:P(["form-control",{"is-invalid":E.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:n.locationchangetranfer,"onUpdate:modelValue":w[10]||(w[10]=Y=>n.locationchangetranfer=Y)},null,8,["class","modelValue"]),e("span",z$,t(E.locationchangetranfer),1)])])])]),_:2},1024),h(ae,{title:"Asset Condition"},{default:Z(()=>[e("div",J$,[e("div",Q$,[e("div",G$,[W$,h(_(Q),{as:"select",name:"cucodition",class:P(["form-control",{"is-invalid":E.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:n.cucodition,"onUpdate:modelValue":w[11]||(w[11]=Y=>n.cucodition=Y)},{default:Z(()=>[K$,X$,Z$,ey]),_:2},1032,["class","modelValue"]),e("span",ty,t(E.cucodition),1)]),e("div",sy,[ay,h(_(Q),{name:"maintenancenotes",as:"textarea",class:P(["form-control",{"is-invalid":E.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:n.maintenancenotes,"onUpdate:modelValue":w[12]||(w[12]=Y=>n.maintenancenotes=Y)},null,8,["class","modelValue"])])]),e("div",oy,[e("div",ly,[ny,h(_(Q),{name:"lastmaintenance",type:"date",class:P(["form-control",{"is-invalid":E.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:n.lastmaintenance,"onUpdate:modelValue":w[13]||(w[13]=Y=>n.lastmaintenance=Y)},null,8,["class","modelValue"])]),e("div",dy,[iy,h(_(Q),{name:"nextmaintenance",type:"date",class:P(["form-control",{"is-invalid":E.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:n.nextmaintenance,"onUpdate:modelValue":w[14]||(w[14]=Y=>n.nextmaintenance=Y)},null,8,["class","modelValue"])])])])]),_:2},1024),h(ae,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",cy,[e("div",ry,[e("div",uy,[_y,h(_(Q),{name:"operationhours",type:"number",class:P(["form-control",{"is-invalid":E.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:n.operationhours,"onUpdate:modelValue":w[15]||(w[15]=Y=>n.operationhours=Y)},null,8,["class","modelValue"])])]),e("div",my,[e("div",py,[hy,h(_(Q),{name:"notes",as:"textarea",class:P(["form-control",{"is-invalid":E.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:n.notes,"onUpdate:modelValue":w[16]||(w[16]=Y=>n.notes=Y)},null,8,["class","modelValue"]),e("span",vy,t(E.notes),1)])])])]),_:2},1024),h(ae,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",by,[e("div",fy,[e("div",$y,[yy,e("div",gy,[ky,h(_(Q),{name:"purchasecost",type:"text",class:P(["form-control",{"is-invalid":E.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:n.purchasecost,"onUpdate:modelValue":w[17]||(w[17]=Y=>n.purchasecost=Y)},null,8,["class","modelValue"])])]),e("div",wy,[xy,e("div",Cy,[Dy,h(_(Q),{name:"depreciationcost",type:"text",class:P(["form-control",{"is-invalid":E.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:n.depreciationcost,"onUpdate:modelValue":w[18]||(w[18]=Y=>n.depreciationcost=Y)},null,8,["class","modelValue"])])])]),e("div",Sy,[e("div",My,[Vy,h(_(Q),{name:"insurancewarrantyinfo",as:"textarea",class:P(["form-control",{"is-invalid":E.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:n.insurancewarrantyinfo,"onUpdate:modelValue":w[19]||(w[19]=Y=>n.insurancewarrantyinfo=Y)},null,8,["class","modelValue"]),e("span",Uy,t(E.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Ay]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Py,[e("div",qy,[e("div",Ty,[Iy,e("div",Ry,[Ey,e("button",{onClick:se(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Ly,[e("div",Yy,[e("div",Fy,[Ny,e("div",By,[e("table",jy,[e("tbody",null,[Oy,e("tr",null,[Hy,e("td",null,t(n.site_name),1)]),e("tr",null,[zy,e("td",null,t(n.asset_name),1)]),e("tr",null,[Jy,e("td",null,t(n.asset_type),1)]),e("tr",null,[Qy,e("td",null,t(n.serial),1)]),e("tr",null,[Gy,e("td",null,t(n.date_acquired),1)]),e("tr",null,[Wy,e("td",null,t(n.man_supplier),1)]),e("tr",null,[Ky,e("td",null,t(n.unit),1)]),Xy,e("tr",null,[Zy,e("td",null,t(n.paccountable),1)]),e("tr",null,[eg,e("td",null,t(n.locationchangetranfer),1)]),tg,e("tr",null,[sg,e("td",null,t(n.cucodition),1)]),e("tr",null,[ag,e("td",null,t(n.maintenancenotes),1)]),e("tr",null,[og,e("td",null,t(n.lastmaintenance),1)]),e("tr",null,[lg,e("td",null,t(n.nextmaintenance),1)]),ng,e("tr",null,[dg,e("td",null,t(n.operationhours),1)]),e("tr",null,[ig,e("td",null,t(n.notes),1)]),cg,e("tr",null,[rg,e("td",null,t("\u20B1"+n.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[ug,e("td",null,t("\u20B1"+n.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[_g,e("td",null,t(n.insurancewarrantyinfo),1)])])])]),mg])])])],64)}}};function hg(s,v,m){var l=typeof s!="object"?JSON.parse(s):s,i="";if(i+=v+`\r

`,m){var d="";for(var c in l[0])d+=c+",";d=d.slice(0,-1),i+=d+`\r
`}for(var p=0;p<l.length;p++){var d="";for(var c in l[p])d+='"'+l[p][c]+'",';d.slice(0,d.length-1),i+=d+`\r
`}if(i==""){alert("Invalid data");return}var n="MyReport_";n+=v.replace(/ /g,"_");var g="data:text/csv;charset=utf-8,"+escape(i),b=document.createElement("a");b.href=g,b.style="visibility:hidden",b.download=n+".csv",document.body.appendChild(b),b.click(),document.body.removeChild(b)}const ne=s=>(ye("data-v-79d8dd46"),s=s(),ge(),s),vg={class:"content"},bg={class:"container-fluid"},fg={class:"d-flex justify-content-between"},$g={class:"d-flex"},yg=ne(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),gg={key:0},kg=ne(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),wg={class:"ml-2"},xg={class:"d-flex"},Cg={class:"form-group"},Dg=ne(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Sg=["value"],Mg={id:"captureDiv"},Vg={class:"card"},Ug={class:"card-header"},Ag={class:"card-title"},Pg={class:"card-tools"},qg={id:"cost"},Tg={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Ig=ne(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Rg={class:"card-body"},Eg=ne(()=>e("i",{class:"fa fa-camera"},null,-1)),Lg=[Eg],Yg=ne(()=>e("i",{class:"fas fa-file-excel"},null,-1)),Fg=[Yg],Ng={key:1,class:"table-responsive"},Bg={class:"table table-bordered table-sm table-striped table-hover"},jg=ne(()=>e("th",null,null,-1)),Og=ne(()=>e("th",null,"Date",-1)),Hg=ne(()=>e("th",null,"Allocated Pallet Space",-1)),zg=ne(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Jg=ne(()=>e("th",null,"Space Utilization %",-1)),Qg=ne(()=>e("th",null,"Excess",-1)),Gg={key:0},Wg={key:1},Kg=ne(()=>e("th",null,"Remarks",-1)),Xg=ne(()=>e("th",null,"Action",-1)),Zg={key:0},e2=["item","index","select-all"],t2=["checked"],s2={key:0},a2={key:1},o2=["onClick"],l2=ne(()=>e("i",{class:"fa fa-edit"},null,-1)),n2=[l2],d2={key:0},i2=ne(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),c2={colspan:"3"},r2={key:1},u2=ne(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),_2=[u2],m2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},p2={class:"modal-dialog modal-sm",role:"document"},h2={class:"modal-content"},v2={class:"modal-header"},b2={class:"modal-title",id:"staticBackdropLabel"},f2={key:0},$2={key:1},y2=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),g2=De('<ul class="nav nav-tabs" data-v-79d8dd46><li id="bulkviewtab1" class="nav-item" data-v-79d8dd46><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-79d8dd46>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-79d8dd46><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-79d8dd46>Bulk Pallet</a></li></ul>',1),k2={class:"tab-content"},w2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},x2={class:"modal-body"},C2={class:"col-md-12"},D2={class:"row"},S2={class:"col-12"},M2={class:"form-group"},V2=ne(()=>e("label",{for:"date"},"Date",-1)),U2={class:"invalid-feedback"},A2={class:"form-group"},P2=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),q2={class:"invalid-feedback"},T2={class:"form-group"},I2=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),R2={class:"invalid-feedback"},E2={class:"form-group"},L2=ne(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),Y2={class:"invalid-feedback"},F2=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),N2={class:"tab-pane fade show",id:"bulk-pallet-tab"},B2={class:"modal-body"},j2={class:"col-md-12"},O2={class:"row"},H2={class:"col-12"},z2={class:"form-group"},J2=ne(()=>e("label",{for:"fromdate"},"From:",-1)),Q2={class:"invalid-feedback"},G2={class:"form-group"},W2=ne(()=>e("label",{for:"todate"},"To:",-1)),K2={class:"invalid-feedback"},X2={class:"form-group"},Z2=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),ek={class:"invalid-feedback"},tk={class:"form-group"},sk=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),ak={class:"invalid-feedback"},ok={class:"form-group"},lk=ne(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),nk={class:"invalid-feedback"},dk=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),ik={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ck={class:"modal-dialog",role:"document"},rk={class:"modal-content"},uk=De('<div class="modal-header" data-v-79d8dd46><h5 class="modal-title" id="staticBackdropLabel" data-v-79d8dd46><span data-v-79d8dd46>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-79d8dd46><span aria-hidden="true" data-v-79d8dd46>\xD7</span></button></div><div class="modal-body" data-v-79d8dd46><h5 data-v-79d8dd46>Are you sure you want to delete this record ?</h5></div>',2),_k={class:"modal-footer"},mk=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),pk={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hk={class:"modal-dialog modal-sm",role:"document"},vk={class:"modal-content"},bk=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),fk={class:"modal-body"},$k={class:"fromtocenter"},yk=ne(()=>e("label",{for:"fromDate"},"From:",-1)),gk=ne(()=>e("label",{for:"toDate"},"To:",-1)),kk={class:"modal-footer"},wk=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),xk={__name:"PalletList",setup(s){const v=Fe("$swal"),m=`${ve().name}`,l=me(),i=r({data:[]}),d=r(),c=r(!1),p=r(!1),n=ue(),g=r(!0),b=r(!0),S=r(),u=Me({id:"",site_id:"",user_id:n.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});r(null);const C=r(),j=()=>{c.value=!0,I.get("/web/pallet",{params:{site_id:u.site_id,query:ae.value}}).then(W=>{c.value=!1,i.value=W.data.data,C.value=W.data.sum,de.value=[],je.value=!1})},H=Se({allocatedpalletspace:z().required(),spaceuteltotal:z().required(),caseperpallet:z().required(),fromdate:z().required(),todate:z().required()}),L=Se({date:z().required(),allocatedpalletspace:z().required(),spaceuteltotal:z().required(),caseperpallet:z().required()}),J=Se({date:z().required(),allocatedpalletspace:z().required(),spaceuteltotal:z().required(),caseperpallet:z().required()}),V=r(""),q=r(""),N=r({start_date:"",end_date:""});he([V],()=>{const W=new Date(V.value),K=W.getFullYear(),xe=String(W.getMonth()+1).padStart(2,"0"),x=String(W.getDate()).padStart(2,"0");N.value.start_date=`${K}-${xe}-${x}`}),he([q],()=>{const W=new Date(q.value),K=W.getFullYear(),xe=String(W.getMonth()+1).padStart(2,"0"),x=String(W.getDate()).padStart(2,"0");N.value.end_date=`${K}-${xe}-${x}`});const k=()=>{c.value=!0,I.get("/web/filter-pallet",{params:{start_date:N.value.start_date,end_date:N.value.end_date,site_id:u.site_id}}).then(W=>{c.value=!1,i.value=W.data.data,C.value=W.data.sum}).catch(W=>{console.error(W)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},f=()=>{u.id="",u.user_id=n.user.id,u.date="",u.allocatedpalletspace="",u.spaceuteltotal="",u.caseperpallet=""},B=()=>!u.site_id||u.site_id.length===0?(v.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,A=({resetForm:W,setErrors:K})=>{I.post("/web/pallet",{site_id:u.site_id,user_id:u.user_id,date:u.date,allocatedpalletspace:u.allocatedpalletspace,spaceuteltotal:u.spaceuteltotal,caseperpallet:u.caseperpallet}).then(xe=>{j(),$("#FormModal").modal("hide"),f(),l.success("Data created successfully!")}).catch(function(xe){xe.response?l.error(xe.response.data.message):xe.request?l.error(xe.request):l.error("Error",xe.message)})},G=()=>{I.get("/web/getsite").then(W=>{d.value=W.data.sites}).catch(W=>{console.log(W)})},pe=()=>{j(u.site_id);const W=d.value.find(K=>K.id===u.site_id);S.value=W?W.site_name:""},X=()=>{B()||(p.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},F=W=>{$("#bulkviewtab2").hide(),p.value=!0,u.id=W.id,u.user_id=W.user_id,u.site_id=W.site_id,u.date=W.date,u.allocatedpalletspace=W.allocatedpalletspace,u.spaceuteltotal=W.spaceuteltotal,u.caseperpallet=W.caseperpallet,$("#FormModal").modal("show")},M=({setErrors:W})=>{I.post("/web/pallet",u).then(K=>{f(),j(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(K=>{W(K.response.data.errors),console.log(K)})},w=(W,K)=>{p.value?M(W):A(W)},D=()=>{I.post("/web/bulkCreatePallet",u).then(W=>{j(),$("#FormModal").modal("hide"),l.success(W.data.message)}).catch(W=>{l.error(W.response.data.errors)})},ae=r(null),de=r([]),E=W=>{const K=de.value.indexOf(W.id);K===-1?de.value.push(W.id):de.value.splice(K,1),console.log(de.value)},Y=r(null),Be=W=>{Y.value=W,$("#deleteDataModal").modal("show")},st=()=>{I.delete(`/web/pallet/${Y.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),i.value.data=i.value.data.filter(W=>W.id!==Y.value)})},Je=()=>{I.delete("/web/bulkDeletePallet",{data:{ids:de.value}}).then(W=>{j(),de.value=[],je.value=!1,l.success(W.data.message)})},at=()=>{B()||$("#FormModalfilterDate").modal("show")},je=r(!1),ot=()=>{if(B())return;$("#cost").hide(),$("#capturecamerafilter").hide();const W=document.getElementById("captureDiv");Ze(W).then(K=>{const xe=K.toDataURL(),x=document.createElement("a");x.href=xe,x.download=`${S.value} - ${m}.png`,x.click()}),$("#cost").show(),$("#capturecamerafilter").show()},lt=()=>{if(B())return;let W=i.value;hg(W,"PalletList",!0)};return he([b],W=>{u.is_active=W?1:0}),he(ae,Ue.exports.debounce(()=>{j()},300)),_e(()=>{G(),document.title=`SLI-DTS - ${m}`}),(W,K)=>{const xe=be("font");return a(),o(O,null,[e("div",vg,[e("div",bg,[e("div",fg,[e("div",$g,[e("button",{onClick:X,type:"button",class:"mb-2 btn btn-primary"},[yg,T(" Pallet ")]),de.value.length>0?(a(),o("div",gg,[e("button",{onClick:Je,type:"button",class:"ml-2 mb-2 btn btn-danger"},[kg,T(" Delete Selected ")]),e("span",wg,"Selected "+t(de.value.length)+" Pallet",1)])):U("",!0)]),e("div",xg,[e("div",Cg,[te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":K[0]||(K[0]=x=>u.site_id=x),onChange:K[1]||(K[1]=x=>pe())},[Dg,(a(!0),o(O,null,ee(d.value,x=>(a(),o("option",{key:x.id,value:x.id},t(x.name),9,Sg))),128))],544),[[Re,u.site_id]])])])]),e("div",Mg,[e("div",Vg,[e("div",Ug,[e("div",Ag,t(S.value||"Select a Site"),1),e("div",Pg,[e("div",qg,[e("div",Tg,[te(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":K[2]||(K[2]=x=>g.value=x)},null,512),[[Le,g.value]]),Ig])])])]),e("div",Rg,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:ot,type:"button",class:"btn btn-warning"},Lg),e("button",{onClick:lt,type:"button",class:"btn btn-success"},Fg)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:at})])])]),c.value?(a(),re(qe,{key:0})):(a(),o("div",Ng,[h(xe,{size:"2"},{default:Z(()=>[e("table",Bg,[e("thead",null,[e("tr",null,[jg,Og,Hg,zg,Jg,Qg,g.value?(a(),o("th",Gg," Cost per Pallet ")):U("",!0),g.value?(a(),o("th",Wg,"Cost")):U("",!0),Kg,Xg])]),i.value.length>0?(a(),o("tbody",Zg,[(a(!0),o(O,null,ee(i.value,(x,R)=>(a(),o("tr",{key:x.id,item:x,index:R,onConfirmDeletion:Be,onToggleSelection:E,"select-all":je.value},[e("td",null,[e("input",{type:"checkbox",checked:je.value,onChange:E},null,40,t2)]),e("td",null,t(_(le)(x.date).format("MMMM DD, YY")),1),e("td",null,t(x.allocatedpalletspace),1),e("td",null,t(x.spaceuteltotal),1),e("td",null,t(x.spacetotalutelpercent),1),e("td",null,t(x.excess),1),g.value?(a(),o("td",s2,t(x.caseperpallet),1)):U("",!0),g.value?(a(),o("td",a2,t(x.cost),1)):U("",!0),e("td",null," EXCESS "+t(x.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:y=>F(x)},n2,8,o2)])],40,e2))),128)),g.value?(a(),o("tr",d2,[i2,e("td",c2,[e("b",null,t(C.value),1)])])):U("",!0)])):(a(),o("tbody",r2,_2))])]),_:1})]))])])])])]),e("div",m2,[e("div",p2,[e("div",h2,[e("div",v2,[e("h5",b2,[p.value?(a(),o("span",f2,"Edit Pallet")):(a(),o("span",$2,"Add Pallet"))]),y2]),g2,e("div",k2,[e("div",w2,[h(_(Pe),{onSubmit:w,"validation-schema":p.value?_(J):_(L)},{default:Z(({errors:x})=>[e("div",x2,[e("div",C2,[e("div",D2,[e("div",S2,[h(_(Q),{modelValue:u.user_id,"onUpdate:modelValue":K[3]||(K[3]=R=>u.user_id=R),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",M2,[V2,h(_(Q),{name:"date",type:"date",class:P(["form-control",{"is-invalid":x.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:u.date,"onUpdate:modelValue":K[4]||(K[4]=R=>u.date=R)},null,8,["class","modelValue"]),e("span",U2,t(x.date),1)]),e("div",A2,[P2,h(_(Q),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":x.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",modelValue:u.allocatedpalletspace,"onUpdate:modelValue":K[5]||(K[5]=R=>u.allocatedpalletspace=R)},null,8,["class","modelValue"]),e("span",q2,t(x.allocatedpalletspace),1)]),e("div",T2,[I2,h(_(Q),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":x.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",modelValue:u.spaceuteltotal,"onUpdate:modelValue":K[6]||(K[6]=R=>u.spaceuteltotal=R),required:""},null,8,["class","modelValue"]),e("span",R2,t(x.spaceuteltotal),1)]),e("div",E2,[L2,h(_(Q),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":x.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",modelValue:u.caseperpallet,"onUpdate:modelValue":K[7]||(K[7]=R=>u.caseperpallet=R)},null,8,["class","modelValue"]),e("span",Y2,t(x.caseperpallet),1)])])])])]),F2]),_:1},8,["validation-schema"])]),e("div",N2,[h(_(Pe),{onSubmit:D,"validation-schema":_(H)},{default:Z(({errors:x})=>[e("div",B2,[e("div",j2,[e("div",O2,[e("div",H2,[h(_(Q),{modelValue:u.user_id,"onUpdate:modelValue":K[8]||(K[8]=R=>u.user_id=R),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",z2,[J2,h(_(Q),{name:"fromdate",type:"date",class:P(["form-control",{"is-invalid":x.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:u.fromdate,"onUpdate:modelValue":K[9]||(K[9]=R=>u.fromdate=R)},null,8,["class","modelValue"]),e("span",Q2,t(x.fromdate),1)]),e("div",G2,[W2,h(_(Q),{name:"todate",type:"date",class:P(["form-control",{"is-invalid":x.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:u.todate,"onUpdate:modelValue":K[10]||(K[10]=R=>u.todate=R)},null,8,["class","modelValue"]),e("span",K2,t(x.todate),1)]),e("div",X2,[Z2,h(_(Q),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":x.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:u.allocatedpalletspace,"onUpdate:modelValue":K[11]||(K[11]=R=>u.allocatedpalletspace=R)},null,8,["class","modelValue"]),e("span",ek,t(x.allocatedpalletspace),1)]),e("div",tk,[sk,h(_(Q),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":x.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:u.spaceuteltotal,"onUpdate:modelValue":K[12]||(K[12]=R=>u.spaceuteltotal=R),required:""},null,8,["class","modelValue"]),e("span",ak,t(x.spaceuteltotal),1)]),e("div",ok,[lk,h(_(Q),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":x.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:u.caseperpallet,"onUpdate:modelValue":K[13]||(K[13]=R=>u.caseperpallet=R)},null,8,["class","modelValue"]),e("span",nk,t(x.caseperpallet),1)])])])])]),dk]),_:1},8,["validation-schema"])])])])])]),e("div",ik,[e("div",ck,[e("div",rk,[uk,e("div",_k,[mk,e("button",{onClick:se(st,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",pk,[e("div",hk,[e("div",vk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(m)+" Report")]),bk]),e("div",fk,[e("div",$k,[e("div",null,[yk,h(_(Ye),{modelValue:V.value,"onUpdate:modelValue":K[14]||(K[14]=x=>V.value=x)},null,8,["modelValue"])]),e("div",null,[gk,h(_(Ye),{modelValue:q.value,"onUpdate:modelValue":K[15]||(K[15]=x=>q.value=x)},null,8,["modelValue"])])])]),e("div",kk,[wk,e("button",{onClick:K[16]||(K[16]=x=>k()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Ck=fe(xk,[["__scopeId","data-v-79d8dd46"]]);const Dk=s=>(ye("data-v-572c61f8"),s=s(),ge(),s),Sk={class:"content"},Mk={class:"container-fluid"},Vk={class:"row"},Uk={class:"col-md-6"},Ak={class:"card"},Pk={class:"card-title"},qk={class:"form-group m-3"},Tk=Dk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Ik=["value"],Rk={key:0,class:"card-body"},Ek={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Lk={class:"custom-control custom-checkbox"},Yk=["value","id"],Fk=["for"],Nk={class:"card-footer"},Bk={__name:"UserSite",setup(s){ue();const v=`${ve().name}`,m=me();r(!0);const l=Me({user_id:""});r(null),r();const i=r(),d=r(),c=r([]),p=()=>{I.get("/api/users/userlist").then(S=>{d.value=S.data}).catch(S=>{console.log(S)})},n=S=>{I.get(`/web/usersite/${S}`).then(u=>{i.value=u.data,c.value=i.value.filter(C=>C.hasAccess===1).map(C=>C.id)}).catch(u=>{console.error("Error fetching site data for user:",u)})},g=()=>{const S={user_id:l.user_id,site_id:c.value};console.log(S),I.post("/web/onSaveupdate",S).then(u=>{m.success("User Site Save successfully!")}).catch(u=>{setErrors(u.response.data.errors)})},b=S=>{n(S)};return _e(()=>{p(),n(),document.title=`SLI-DTS - ${v}`}),(S,u)=>(a(),o("div",Sk,[e("div",Mk,[e("div",Vk,[e("div",Uk,[e("div",Ak,[e("div",Pk,[e("div",qk,[h(_(Q),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":u[0]||(u[0]=C=>l.user_id=C),onChange:u[1]||(u[1]=C=>b(l.user_id))},{default:Z(()=>[Tk,(a(!0),o(O,null,ee(d.value,C=>(a(),o("option",{key:C.id,value:C.id},t(C.name),9,Ik))),128))]),_:1},8,["modelValue"])])]),l.user_id?(a(),o("div",Rk,[e("ul",Ek,[(a(!0),o(O,null,ee(i.value,C=>(a(),o("li",{key:C.id,class:"list-group-item"},[e("div",Lk,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":u[2]||(u[2]=j=>c.value=j),value:C.id,id:"site_id_"+C.id},null,8,Yk),[[Le,c.value]]),e("label",{for:"site_id_"+C.id,class:"custom-control-label"},t(C.site_name),9,Fk)])]))),128))]),e("div",Nk,[e("button",{type:"button",onClick:u[3]||(u[3]=C=>g()),class:"btn btn-primary"}," Submit ")])])):U("",!0)])])])])]))}};var jk=fe(Bk,[["__scopeId","data-v-572c61f8"]]);const ut=s=>(ye("data-v-1142fe58"),s=s(),ge(),s),Ok={style:{"text-align":"center"}},Hk={key:0},zk=ut(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Approved",-1)),Jk=[zk],Qk=ut(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Reject",-1)),Gk=[Qk],Wk={key:1,style:{"text-align":"center"}},Kk={key:0},Xk=ut(()=>e("i",{class:"fa fa-edit"},null,-1)),Zk=[Xk],e0={__name:"JobItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(s,{emit:v}){me();const m=ue(),l=d=>{switch(d){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},i=d=>{switch(d){case"P":return"Pending";case"A":return"Approved";case"C":return"Reject";default:return"badge-secondary"}};return(d,c)=>{const p=be("router-link");return a(),o("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.job_order_number),1),e("td",null,t(s.item.date_needed),1),e("td",null,t(s.item.commitment_date),1),e("td",Ok,[h(p,{to:`/job-order-request-approved/${s.item.job_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`${l(s.item.status)}`])},t(i(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(s.item.created_at),1),_(m).user.role==="ADMIN"||_(m).user.sitehead_user_id===_(m).user.id?(a(),o("td",Hk,[e("div",{onClick:c[0]||(c[0]=se(n=>d.$emit("approvedata",s.item),["prevent"])),style:{"background-color":"#17ad49",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Jk),e("div",{onClick:c[1]||(c[1]=se(n=>d.$emit("confirmDataDeletion",s.item),["prevent"])),style:{"background-color":"#da2f38",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Gk)])):U("",!0),_(m).user.role==="USER"?(a(),o("td",Wk,[s.item.status!="P"?(a(),o("div",Kk,[s.item.created_by==_(m).user.id?(a(),o("a",{key:0,href:"#",onClick:c[2]||(c[2]=se(n=>d.$emit("editRecord",s.item),["prevent"]))},Zk)):U("",!0)])):U("",!0)])):U("",!0)])}}};var t0=fe(e0,[["__scopeId","data-v-1142fe58"]]);const He=s=>(ye("data-v-3f7051bb"),s=s(),ge(),s),s0={key:0,class:"spinner"},a0=He(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),o0=[a0],l0={class:"content"},n0={class:"container-fluid"},d0={class:"d-flex justify-content-between"},i0={class:"d-flex"},c0=He(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),r0={key:0},u0=He(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),_0={class:"ml-2"},m0={class:"card"},p0={class:"card-body"},h0={class:"table-responsive"},v0={class:"table table-bordered table-sm"},b0=He(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Order Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),f0={key:0},$0={key:1},y0=He(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),g0=[y0],k0={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},w0={class:"modal-dialog",role:"document"},x0={class:"modal-content"},C0=De('<div class="modal-header" data-v-3f7051bb><h5 class="modal-title" id="staticBackdropLabel" data-v-3f7051bb><span data-v-3f7051bb>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-3f7051bb><span aria-hidden="true" data-v-3f7051bb>\xD7</span></button></div><div class="modal-body" data-v-3f7051bb><h5 data-v-3f7051bb>Are you sure you want to Reject this record ?</h5></div>',2),D0={class:"modal-footer"},S0=He(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),M0={__name:"JobOrderList",setup(s){const v=Fe("$swal"),m=`${ve().name}`,l=me(),i=r({data:[]});r({data:[]}),r(!1),r();const d=r(!1);ue(),r(null),r();const c=(H=1)=>{d.value=!0,I.get(`/web/job-request?page=${H}`,{params:{query:p.value}}).then(L=>{d.value=!1,i.value=L.data,n.value=[],b.value=!1}).finally(()=>{d.value=!1})},p=r(null),n=r([]),g=H=>{const L=n.value.indexOf(H.id);L===-1?n.value.push(H.id):n.value.splice(L,1),console.log(n.value)},b=r(!1),S=r(!1),u=async H=>{(await v.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(d.value=!0,I.put(`/web/job-request/${H.id}`,{status:"C"}).then(J=>{l.success("Record successfully Rejected"),c()}).catch(J=>{l.error(J.response.data.errors)}).finally(()=>{d.value=!1}))},C=async H=>{(await v.fire({title:"Are you sure you want to Approve this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(d.value=!0,I.put(`/web/job-request/${H.id}`,{status:"A"}).then(J=>{l.success("Record successfully Approved"),c()}).catch(J=>{l.error(J.data.message)}))},j=()=>{};return he(p,Ue.exports.debounce(()=>{c()},300)),_e(()=>{c(),document.title=`SLI-DTS - ${m}`}),(H,L)=>{const J=be("router-link");return a(),o(O,null,[d.value?(a(),o("div",s0,o0)):U("",!0),e("div",l0,[e("div",n0,[e("div",d0,[e("div",i0,[h(J,{class:P("mb-2 btn btn-primary"),to:{name:"Job Order Create"}},{default:Z(()=>[c0,T("Create ")]),_:1}),n.value.length>0?(a(),o("div",r0,[e("button",{onClick:L[0]||(L[0]=(...V)=>H.bulkDelete&&H.bulkDelete(...V)),type:"button",class:"ml-2 mb-2 btn btn-danger"},[u0,T(" Delete Selected ")]),e("span",_0,"Selected "+t(n.value.length)+" Menu",1)])):U("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=V=>p.value=V),class:"form-control",placeholder:"Search..."},null,512),[[ie,p.value]])])]),e("div",m0,[e("div",p0,[d.value?(a(),re(qe,{key:0})):U("",!0),e("div",h0,[e("table",v0,[b0,i.value.data.length>0?(a(),o("tbody",f0,[(a(!0),o(O,null,ee(i.value.data,(V,q)=>(a(),re(t0,{key:V.id,item:V,index:q,onApprovedata:C,onShowItem:S.value,onConfirmDataDeletion:u,onToggleSelection:g,"select-all":b.value},null,8,["item","index","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),o("tbody",$0,g0))])])])]),h(_(Ee),{data:i.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",k0,[e("div",w0,[e("div",x0,[C0,e("div",D0,[S0,e("button",{onClick:se(j,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var V0=fe(M0,[["__scopeId","data-v-3f7051bb"]]);const U0={class:"form-group row"},A0=["for"],P0={class:"col-sm-10"},q0=["type","id","name","placeholder"],T0={key:0,class:"invalid-feedback"},I0={key:0},Ie={__name:"FormTextField",props:{name:{type:String,required:!0},type:{type:String,default:"text",validator:s=>["text","number","password","email","url","tel"].includes(s)},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,l=v,i=Ce({get:()=>m.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",U0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,A0)):U("",!0),e("div",P0,[te(e("input",{"onUpdate:modelValue":c[0]||(c[0]=p=>i.value=p),type:s.type,id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""])},null,10,q0),[[ct,i.value]]),s.errors?(a(),o("span",T0,[Array.isArray(s.errors)?(a(),o("ul",I0,[(a(!0),o(O,null,ee(s.errors,(p,n)=>(a(),o("li",{key:n},t(p),1))),128))])):(a(),o(O,{key:1},[T(t(s.errors),1)],64))])):U("",!0)])]))}},R0={class:"form-group row"},E0=["for"],L0={class:"col-sm-10"},Y0=["id","name","placeholder"],F0={value:"",disabled:""},N0=["value"],B0={key:0,class:"invalid-feedback"},j0={key:0},dt={__name:"FormSelectOption",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:"Select an option"},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,l=v,i=Ce({get:()=>m.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",R0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,E0)):U("",!0),e("div",L0,[te(e("select",{"onUpdate:modelValue":c[0]||(c[0]=p=>i.value=p),id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""])},[e("option",F0,t(s.placeholder),1),(a(!0),o(O,null,ee(s.options,p=>(a(),o("option",{key:p.id,value:p.id},t(p.name),9,N0))),128))],10,Y0),[[Re,i.value]]),s.errors?(a(),o("span",B0,[Array.isArray(s.errors)?(a(),o("ul",j0,[(a(!0),o(O,null,ee(s.errors,(p,n)=>(a(),o("li",{key:n},t(p),1))),128))])):(a(),o(O,{key:1},[T(t(s.errors),1)],64))])):U("",!0)])]))}},O0={class:"form-group row"},H0=["for"],z0={class:"col-sm-10"},J0=["id","name","placeholder","rows"],Q0={key:0,class:"invalid-feedback"},G0={key:0},it={__name:"FormTextAria",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},rows:{type:[Number],default:""}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,l=v,i=Ce({get:()=>m.modelValue,set:d=>{l("update:modelValue",d)}});return(d,c)=>(a(),o("div",O0,[s.label?(a(),o("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,H0)):U("",!0),e("div",z0,[te(e("textarea",{"onUpdate:modelValue":c[0]||(c[0]=p=>i.value=p),id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""]),rows:s.rows},null,10,J0),[[ie,i.value]]),s.errors?(a(),o("span",Q0,[Array.isArray(s.errors)?(a(),o("ul",G0,[(a(!0),o(O,null,ee(s.errors,(p,n)=>(a(),o("li",{key:n},t(p),1))),128))])):(a(),o(O,{key:1},[T(t(s.errors),1)],64))])):U("",!0)])]))}};const tt=s=>(ye("data-v-674eedab"),s=s(),ge(),s),W0={class:"col-md-12"},K0={key:0,class:"spinner"},X0=tt(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Z0=[X0],e3={class:"form-group row"},t3=tt(()=>e("i",{class:"fa fa-plus"},null,-1)),s3=[t3],a3={class:"col-sm-10"},o3={class:"table"},l3=tt(()=>e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Part Number"),e("th",null,"Quantity"),e("th",null,"Action")])],-1)),n3=["onUpdate:modelValue"],d3=["onUpdate:modelValue"],i3=["onUpdate:modelValue"],c3=["onClick"],r3=tt(()=>e("i",{class:"fa fa-trash"},null,-1)),u3=[r3],_3={__name:"JobOrderAction",setup(s){const v=ve(),m=Qe(),l=r(!1),i=`${v.name}`,d=me();r(!1),r();const c=Fe("$swal"),p=ue(),n=r(!0),g=Me({id:"",site_id:null,site_name:"",job_order_number:"",end_user:"",time_requested:"",date_needed:"",noted_by:"",type_of_job:"",problem_description:"",findings_recommendations:"",commitment_date:"",status:"P",created_by:p.user.id,updated_by:"",description:"",part_number:"",quantity:"",replacement_parts:[{description:"",part_number:"",quantity:0}]}),b=()=>{g.replacement_parts.push({description:"",part_number:"",quantity:0})},S=J=>{g.replacement_parts.length>1&&g.replacement_parts.splice(J,1)};r(null);const u=r([]),C=()=>{I.get("/web/getsite").then(J=>{u.value=J.data.sites}).catch(J=>{console.log(J)})},j=r(null),H=r([{id:"Preventive Maintenance",name:"Preventive Maintenance"},{id:"Corrective Maintenance",name:"Corrective Maintenance"},{id:"Calibration",name:"Calibration"}]),L=async()=>{(await c.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(l.value=!0,I.post("/web/job-request",g).then(V=>{V.status===200?(d.success(V.data.message),m.push("/job-order-request-list")):d.error("Something went wrong. Please try again.")}).catch(V=>{d.error(V.data.message)}).finally(()=>{l.value=!1}))};return he([n],J=>{g.is_active=J?1:0}),he(j,Ue.exports.debounce(()=>{getItems()},300)),_e(()=>{C(),document.title=i}),(J,V)=>{const q=be("tab-content"),N=be("form-wizard");return a(),o("div",W0,[l.value?(a(),o("div",K0,Z0)):U("",!0),h(N,{onOnComplete:L,color:"#094899","step-size":"xs"},{default:Z(()=>[h(q,{title:"Job Information",icon:"fas fa-book"},{default:Z(()=>[h(Ie,{label:"Job Order Number",placeholder:"Job Order Number - AutoGenerate",name:"job_order_number",type:"text",id:"job_order_number",modelValue:g.job_order_number,"onUpdate:modelValue":V[0]||(V[0]=k=>g.job_order_number=k)},null,8,["modelValue"]),h(dt,{name:"branch",label:"Area / Department",modelValue:g.site_id,"onUpdate:modelValue":V[1]||(V[1]=k=>g.site_id=k),options:u.value},null,8,["modelValue","options"]),h(Ie,{label:"End User",placeholder:"End User",name:"enduser",type:"text",id:"enduser",modelValue:g.end_user,"onUpdate:modelValue":V[2]||(V[2]=k=>g.end_user=k)},null,8,["modelValue"]),h(Ie,{label:"Time Requested",placeholder:"Time Requested",name:"time_requested",type:"date",id:"time_requested",modelValue:g.time_requested,"onUpdate:modelValue":V[3]||(V[3]=k=>g.time_requested=k)},null,8,["modelValue"]),h(Ie,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:g.date_needed,"onUpdate:modelValue":V[4]||(V[4]=k=>g.date_needed=k)},null,8,["modelValue"]),h(Ie,{label:"Noted By",placeholder:"Noted By",name:"noted_by",type:"text",id:"noted_by",modelValue:g.noted_by,"onUpdate:modelValue":V[5]||(V[5]=k=>g.noted_by=k)},null,8,["modelValue"]),h(dt,{name:"type_of_job",label:"Type of Job",modelValue:g.type_of_job,"onUpdate:modelValue":V[6]||(V[6]=k=>g.type_of_job=k),options:H.value},null,8,["modelValue","options"])]),_:1}),h(q,{title:"Problem Details",icon:"fas fa-pen-alt"},{default:Z(()=>[h(it,{label:"Problem Description",id:"problem_description",name:"problem_description",rows:"3",placeholder:"Problem Description",modelValue:g.problem_description,"onUpdate:modelValue":V[7]||(V[7]=k=>g.problem_description=k)},null,8,["modelValue"]),h(it,{label:"Recommendations",id:"Recommendations",rows:"3",placeholder:"Recommendations",modelValue:g.findings_recommendations,"onUpdate:modelValue":V[8]||(V[8]=k=>g.findings_recommendations=k)},null,8,["modelValue"]),h(Ie,{label:"Commitment Date",placeholder:"Commitment Date",name:"commitment_date",type:"date",id:"commitment_date",modelValue:g.commitment_date,"onUpdate:modelValue":V[9]||(V[9]=k=>g.commitment_date=k)},null,8,["modelValue"])]),_:1}),h(q,{title:"Replacement Parts",icon:"fas fa-tools"},{default:Z(()=>[e("div",e3,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[T("Replacement Parts "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:b},s3)]),e("div",a3,[e("table",o3,[l3,e("tbody",null,[(a(!0),o(O,null,ee(g.replacement_parts,(k,f)=>(a(),o("tr",{key:f},[e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":B=>k.description=B},null,8,n3),[[ie,k.description]])]),e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Part Number","onUpdate:modelValue":B=>k.part_number=B},null,8,d3),[[ie,k.part_number]])]),e("td",null,[te(e("input",{type:"number",class:"form-control",placeholder:"Quantity","onUpdate:modelValue":B=>k.quantity=B},null,8,i3),[[ie,k.quantity]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:B=>S(f)},u3,8,c3)])]))),128))])])])])]),_:1})]),_:1})])}}};var m3=fe(_3,[["__scopeId","data-v-674eedab"]]);const we=s=>(ye("data-v-23e1722c"),s=s(),ge(),s),p3={id:"exportPDF"},h3=we(()=>e("br",null,null,-1)),v3={class:"container"},b3={class:"row align-items-center"},f3={class:"col-3 p-2 text-center"},$3={class:"header"},y3=["src"],g3=we(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),k3={class:"row border border-secondary p-2"},w3={class:"col-6 float-end"},x3={class:"mb-1"},C3=we(()=>e("strong",null,"Job Order Number :",-1)),D3={class:"row"},S3={class:"table table-bordered table-sm"},M3=we(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),V3={class:"row border"},U3={class:"col-6 p-2"},A3={class:"row"},P3={class:"col-12 p-2"},q3=we(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),T3=we(()=>e("br",null,null,-1)),I3={class:"row"},R3={class:"col-12 p-2"},E3=we(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),L3={class:"row justify-content-right"},Y3={class:"col-12 hidden-md-down border border-secondary"},F3=we(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),N3={class:"row"},B3={class:"col-12 p-2"},j3=we(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),O3={class:"row justify-content-right"},H3={class:"col-12 hidden-md-down border border-secondary"},z3={class:"row border mt-2"},J3={class:"col-6 p-2"},Q3=we(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),G3={class:"row"},W3=we(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),K3={class:"table table-bordered table-sm"},X3=we(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),Z3={class:"row border border-secondary mt-2"},ew={class:"col-6 p-2"},tw=we(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),sw=we(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),aw=we(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),ow={class:"row"},lw={class:"col-12 p-2"},nw={class:"row justify-content-right"},dw={class:"col-12 hidden-md-down border border-secondary"},iw={class:"row"},cw={class:"col-6 p-2"},rw=we(()=>e("br",null,null,-1)),uw={class:"mt-2"},_w={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},mw=we(()=>e("br",null,null,-1)),pw=we(()=>e("div",{class:"col-6 p-2"},[T(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"},[e("span",{class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},"Eden Satinitigan")])],-1)),hw={key:0,class:"fab-container"},vw=we(()=>e("i",{class:"fas fa-download"},null,-1)),bw=[vw],fw={__name:"JobOrderRequestApproved",setup(s){const v=`${ve().params.id}`,m=()=>{const d=document.getElementById("exportPDF");et().from(d).save(`${v}.pdf`)},l=Me({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",jobstatus:"",approvedPosition:""}),i=()=>{I.get(`/web/job-request/${ve().params.id}`).then(d=>{l.id=d.data.record.id,l.jobOrderNumber=d.data.record.job_order_number,l.areaDepartment=d.data.record.site_name,l.endUser=d.data.record.end_user,l.dateTimeRequested=le(d.data.record.time_requested).format("MMMM D, YYYY"),l.dateNeeded=le(d.data.record.date_needed).format("MMMM D, YYYY"),l.notedBy=d.data.record.noted_by,l.typeofjob=d.data.record.type_of_job,l.calibration=d.data.record.calibration,l.problemDescription=d.data.record.problem_description,l.findingsRecommendations=d.data.record.findings_recommendations,l.commitmentDate=le(d.data.record.commitment_date).format("MMMM D, YYYY"),l.replacementParts=d.data.record.replacement_parts,l.checkedBy=d.data.record.createdby.cfull_name,l.checkedDate=le(d.data.record.checkedDate).format("MMMM D, YYYY"),l.checkedTime=le(d.data.record.checkedTime).format("h:mm:ss a"),l.reviewedBy=d.data.record.reviewedBy,l.reviewedDate=le(d.data.record.reviewedDate).format("MMMM D, YYYY"),l.approvedBy=d.data.record.updatedby.ufull_name,l.approvedPosition=d.data.record.updatedby.uposition?d.data.record.updatedby.uposition:"",l.approvedDate=le(d.data.record.approvedDate).format("MMMM D, YYYY"),l.remarks=d.data.record.remarks,l.jobstatus=d.data.record.status,console.log(d.data.record.status)}).catch(d=>{console.log(d.message)})};return _e(()=>{i(),document.title=v}),(d,c)=>(a(),o(O,null,[e("div",p3,[h3,e("div",v3,[["P","C"].includes(l.jobstatus)?(a(),o("div",{key:0,class:P(["ribbon",{warning:l.jobstatus==="P",closed:l.jobstatus==="C"}])},[e("span",null,t(l.jobstatus==="P"?"Pending":l.jobstatus==="C"?"Reject":l.jobstatus==="P"),1)],2)):U("",!0),e("div",b3,[e("div",f3,[e("div",$3,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,y3)])]),g3]),e("div",k3,[e("div",w3,[e("p",x3,[C3,T(t(l.jobOrderNumber),1)])])]),e("div",D3,[e("table",S3,[M3,e("tbody",null,[e("tr",null,[e("td",null,t(l.areaDepartment),1),e("td",null,t(l.endUser),1),e("td",null,t(l.dateTimeRequested),1),e("td",null,t(l.dateNeeded),1)])])])]),e("div",V3,[e("div",U3,[T("Noted by:"),e("b",null,t(l.notedBy),1)])]),e("div",A3,[e("div",P3,[q3,T3,e("span",null,t(l.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),T("\xA0 "),e("span",null,t(l.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),T("\xA0 "),e("span",null,t(l.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",I3,[e("div",R3,[E3,e("div",L3,[e("div",Y3,[e("p",null,t(l.problemDescription),1)])])])]),F3,e("div",N3,[e("div",B3,[j3,e("div",O3,[e("div",H3,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",z3,[e("div",J3,[T("Commitment Date:\xA0"),e("b",null,t(l.commitmentDate),1)]),Q3]),e("div",G3,[W3,e("table",K3,[X3,e("tbody",null,[(a(!0),o(O,null,ee(l.replacementParts,(p,n)=>(a(),o("tr",{key:n},[e("td",null,t(n+1),1),e("td",null,t(p.description),1),e("td",null,t(p.part_number),1),e("td",null,t(p.quantity),1)]))),128))])])]),e("div",Z3,[e("div",ew,[T(" Checked by : "),e("b",null,t(l.checkedBy),1)]),tw,sw]),aw,e("div",ow,[e("div",lw,[T(" Remarks / Comments: "),e("div",nw,[e("div",dw,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",iw,[e("div",cw,[T(" Reviewed by: Department Manager"),rw,e("div",uw,[e("span",_w,t(l.approvedBy),1),mw,e("span",null,t(l.approvedPosition),1)])]),pw])])]),l.status==="A"?(a(),o("div",hw,[e("div",{class:"button iconbutton bg-success",onClick:c[0]||(c[0]=p=>m())},bw)])):U("",!0)],64))}};var $t=fe(fw,[["__scopeId","data-v-23e1722c"]]);const We=s=>(ye("data-v-3c16fe16"),s=s(),ge(),s),$w={key:0,class:"spinner"},yw=We(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),gw=[yw],kw={style:{"text-align":"center"}},ww={key:0},xw=We(()=>e("option",{value:"",disabled:"",selected:""},"Action",-1)),Cw=We(()=>e("option",{value:"A"},"Approved",-1)),Dw=We(()=>e("option",{value:"C"},"Reject",-1)),Sw=[xw,Cw,Dw],Mw={key:1,style:{"text-align":"center"}},Vw={key:0},Uw=We(()=>e("i",{class:"fa fa-edit"},null,-1)),Aw=[Uw],Pw={__name:"MrfItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion","toggleSelection"],setup(s,{emit:v}){me();const m=ue();Fe("$swal");const l=r(!1),i=c=>{switch(c){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},d=c=>{switch(c){case"P":return"Pending";case"A":return"Approved";case"C":return"Rejected";default:return"Unknown"}};return(c,p)=>{const n=be("router-link");return a(),o(O,null,[l.value?(a(),o("div",$w,gw)):U("",!0),e("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.mrf_order_number),1),e("td",null,t(_(le)(s.item.date_requested).format("MMMM D, YYYY")),1),e("td",null,t(_(le)(s.item.date_needed).format("MMMM D, YYYY")),1),e("td",kw,[h(n,{to:`/marial-Requisition-Approved/${s.item.mrf_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`${i(s.item.status)}`])},t(d(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(_(le)(s.item.created_at).format("MMMM D, YYYY, h:mm A")),1),_(m).user.role==="ADMIN"||_(m).user.sitehead_user_id===_(m).user.id?(a(),o("td",ww,[e("select",{class:"form-control",onChange:p[0]||(p[0]=g=>c.$emit("handleSelectChange",g,s.item))},Sw,32)])):U("",!0),_(m).user.role==="USER"?(a(),o("td",Mw,[s.item.status!="P"?(a(),o("div",Vw,[s.item.created_by==_(m).user.id?(a(),o("a",{key:0,href:"#",onClick:p[1]||(p[1]=se(g=>c.$emit("editRecord",s.item),["prevent"]))},Aw)):U("",!0)])):U("",!0)])):U("",!0)])],64)}}};var qw=fe(Pw,[["__scopeId","data-v-3c16fe16"]]);const Ke=s=>(ye("data-v-9baa10b0"),s=s(),ge(),s),Tw={key:0,class:"spinner"},Iw=Ke(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Rw=[Iw],Ew={class:"content"},Lw={class:"container-fluid"},Yw={class:"d-flex justify-content-between mb-2"},Fw={class:"d-flex"},Nw=Ke(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Bw={class:"card"},jw={class:"card-body"},Ow={class:"table-responsive"},Hw={class:"table table-bordered table-sm"},zw=Ke(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Mrf Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),Jw={key:0},Qw={key:1},Gw=Ke(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),Ww=[Gw],Kw={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xw={class:"modal-dialog",role:"document"},Zw={class:"modal-content"},e4=De('<div class="modal-header" data-v-9baa10b0><h5 class="modal-title" id="staticBackdropLabel" data-v-9baa10b0><span data-v-9baa10b0>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-9baa10b0><span aria-hidden="true" data-v-9baa10b0>\xD7</span></button></div><div class="modal-body" data-v-9baa10b0><h5 data-v-9baa10b0>Are you sure you want to Reject this record ?</h5></div>',2),t4={class:"modal-footer"},s4=Ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),a4={__name:"MrfList",setup(s){const v=Fe("$swal"),m=`${ve().name}`,l=me(),i=r({data:[]});r({data:[]}),r(!1),r();const d=r(!1);ue(),r(null),r();const c=(L=1)=>{d.value=!0,I.get(`/web/Mrf-request?page=${L}`,{params:{query:p.value}}).then(J=>{d.value=!1,i.value=J.data,n.value=[],b.value=!1}).finally(()=>{d.value=!1})},p=r(null),n=r([]),g=L=>{const J=n.value.indexOf(L.id);J===-1?n.value.push(L.id):n.value.splice(J,1),console.log(n.value)},b=r(!1),S=r(!1),u=async L=>{(await v.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(d.value=!0,I.put(`/web/Mrf-request/${L.id}`,{status:"C"}).then(V=>{l.success("Record successfully Rejected"),c()}).catch(V=>{l.error(V.response.data.errors)}).finally(()=>{d.value=!1}))},C=async(L,J)=>{var N,k;const V=J==="A"?"Are you sure you want to Approve this record?":"Are you sure you want to Reject this record?";if((await v.fire({title:V,icon:"warning",showCancelButton:!0})).isConfirmed){d.value=!0;try{await I.put(`/web/Mrf-request/${L.id}`,{status:J});const f=J==="A"?"Approved":"Rejected";l.success(`Record successfully ${f}`),c()}catch(f){l.error(((k=(N=f.response)==null?void 0:N.data)==null?void 0:k.message)||"An error occurred")}finally{d.value=!1}}},j=(L,J)=>{const V=L.target.value;V&&C(J,V)},H=()=>{};return he(p,Ue.exports.debounce(()=>{c()},300)),_e(()=>{c(),document.title=`SLI-DTS - ${m}`}),(L,J)=>{const V=be("router-link");return a(),o(O,null,[d.value?(a(),o("div",Tw,Rw)):U("",!0),e("div",Ew,[e("div",Lw,[e("div",Yw,[e("div",Fw,[h(V,{class:P(" mb-2 btn btn-primary btn-sm"),to:{path:"/Marial-Requisition/create"}},{default:Z(()=>[Nw]),_:1})]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":J[0]||(J[0]=q=>p.value=q),class:"form-control mb-2",placeholder:"Search..."},null,512),[[ie,p.value]])])]),e("div",Bw,[e("div",jw,[d.value?(a(),re(qe,{key:0})):U("",!0),e("div",Ow,[e("table",Hw,[zw,i.value.data.length>0?(a(),o("tbody",Jw,[(a(!0),o(O,null,ee(i.value.data,(q,N)=>(a(),re(qw,{key:q.id,item:q,index:N,onHandleSelectChange:k=>j(k,q),onShowItem:S.value,onConfirmDataDeletion:u,onToggleSelection:g,"select-all":b.value},null,8,["item","index","onHandleSelectChange","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),o("tbody",Qw,Ww))])])])]),h(_(Ee),{data:i.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",Kw,[e("div",Xw,[e("div",Zw,[e4,e("div",t4,[s4,e("button",{onClick:se(H,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var o4=fe(a4,[["__scopeId","data-v-9baa10b0"]]);const Ve=s=>(ye("data-v-6d543bc1"),s=s(),ge(),s),l4={class:"col-md-12"},n4={key:0,class:"spinner"},d4=Ve(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),i4=[d4],c4=Ve(()=>e("i",{class:"fa fa-plus"},null,-1)),r4=[c4],u4={class:"form-group row"},_4={class:"col-sm-12"},m4={class:"table tabl-sm table-hover table-striped"},p4=Ve(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"Particular"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"UOM"),e("th",null,"Price"),e("th",null,"Action")])],-1)),h4=["onUpdate:modelValue"],v4=["onUpdate:modelValue"],b4=["onUpdate:modelValue"],f4=["onUpdate:modelValue"],$4=["onUpdate:modelValue"],y4=["onClick"],g4=Ve(()=>e("i",{class:"fa fa-trash"},null,-1)),k4=[g4],w4=Ve(()=>e("h4",null,"Requisition Information",-1)),x4={class:"row"},C4={class:"col-md-6"},D4=Ve(()=>e("strong",null,"Area / Department:",-1)),S4=Ve(()=>e("br",null,null,-1)),M4={class:"col-md-6"},V4=Ve(()=>e("strong",null,"Date Requested:",-1)),U4=Ve(()=>e("br",null,null,-1)),A4=Ve(()=>e("strong",null,"Date Needed:",-1)),P4=Ve(()=>e("br",null,null,-1)),q4=Ve(()=>e("h4",null,"List of Materials",-1)),T4={class:"table table-sm table-hover table-striped"},I4=Ve(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"Particular"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"UOM"),e("th",null,"Price"),e("th",null,"Total Amount")])],-1)),R4={class:"row"},E4={class:"col-md-6"},L4=Ve(()=>e("strong",null,"Purpose:",-1)),Y4={__name:"MrfAction",setup(s){const v=ve(),m=Qe(),l=r(!1),i=`${v.name}`,d=me();r(!1),r();const c=Fe("$swal");ue();const p=r(!0),n=Me({id:"",site_id:null,site_name:"",mrf_order_number:"",date_requested:"",date_needed:"",purpose:"",status:"P",mrf_items_parts:[{particulars:"",description:"",quantity:0,uom:"",unit_price:0,total_amount:0}]}),g=()=>{n.mrf_items_parts.push({particulars:"",description:"",quantity:0,uom:"",unit_price:0})},b=H=>{n.mrf_items_parts.length>1&&n.mrf_items_parts.splice(H,1)};r(null);const S=r([]),u=()=>{I.get("/web/getsite").then(H=>{S.value=H.data.sites}).catch(H=>{console.log(H)})},C=r(null),j=async()=>{(await c.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(l.value=!0,I.post("/web/Mrf-request",n).then(L=>{L.status===200?(d.success(L.data.message),m.push("/Marial-Requisition")):d.error("Something went wrong. Please try again.")}).catch(L=>{d.error(L.data.message)}).finally(()=>{l.value=!1}))};return he([p],H=>{n.is_active=H?1:0}),he(C,Ue.exports.debounce(()=>{getItems()},300)),_e(()=>{u(),document.title=i}),(H,L)=>{const J=be("tab-content"),V=be("form-wizard");return a(),o("div",l4,[l.value?(a(),o("div",n4,i4)):U("",!0),h(V,{onOnComplete:j,color:"#094899","step-size":"xs"},{default:Z(()=>[h(J,{title:"Requisition Info",icon:"fas fa-book"},{default:Z(()=>[h(Ie,{label:"Material Requisition Number",placeholder:"Material Requisition Number - AutoGenerate",name:"mrf_order_number",type:"text",id:"mrf_order_number",modelValue:n.mrf_order_number,"onUpdate:modelValue":L[0]||(L[0]=q=>n.mrf_order_number=q)},null,8,["modelValue"]),h(dt,{name:"branch",label:"Area / Department",modelValue:n.site_id,"onUpdate:modelValue":L[1]||(L[1]=q=>n.site_id=q),options:S.value},null,8,["modelValue","options"]),h(Ie,{label:"Date Requested",placeholder:"Date Requested",name:"date_requested",type:"date",id:"date_requested",modelValue:n.date_requested,"onUpdate:modelValue":L[2]||(L[2]=q=>n.date_requested=q)},null,8,["modelValue"]),h(Ie,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:n.date_needed,"onUpdate:modelValue":L[3]||(L[3]=q=>n.date_needed=q)},null,8,["modelValue"]),h(it,{label:"Purpose",placeholder:"Purpose",name:"purpose",type:"text",id:"purpose",row:"3",modelValue:n.purpose,"onUpdate:modelValue":L[4]||(L[4]=q=>n.purpose=q)},null,8,["modelValue"])]),_:1}),h(J,{title:"List of Material",icon:"fas fa-tools"},{default:Z(()=>[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:g},r4)]),e("div",u4,[e("div",_4,[e("table",m4,[p4,e("tbody",null,[(a(!0),o(O,null,ee(n.mrf_items_parts,(q,N)=>(a(),o("tr",{key:N},[e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>q.particulars=k},null,8,h4),[[ie,q.particulars]])]),e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>q.description=k},null,8,v4),[[ie,q.description]])]),e("td",null,[te(e("input",{type:"number",class:"form-control","onUpdate:modelValue":k=>q.quantity=k},null,8,b4),[[ie,q.quantity]])]),e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":k=>q.uom=k},null,8,f4),[[ie,q.uom]])]),e("td",null,[te(e("input",{type:"number",class:"form-control","onUpdate:modelValue":k=>q.unit_price=k},null,8,$4),[[ie,q.unit_price]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:k=>b(N)},k4,8,y4)])]))),128))])])])])]),_:1}),h(J,{title:"Verify",icon:"fas fa-check"},{default:Z(()=>{var q;return[w4,e("div",x4,[e("div",C4,[D4,T(" "+t(((q=S.value.find(N=>N.id===n.site_id))==null?void 0:q.name)||"Not Selected"),1),S4]),e("div",M4,[V4,T(" "+t(_(le)(n.date_requested).format("MMMM D, YYYY")),1),U4,A4,T(" "+t(_(le)(n.date_needed).format("MMMM D, YYYY")),1),P4])]),q4,e("table",T4,[I4,e("tbody",null,[(a(!0),o(O,null,ee(n.mrf_items_parts,(N,k)=>(a(),o("tr",{key:k},[e("td",null,t(N.particulars),1),e("td",null,t(N.description),1),e("td",null,t(N.quantity),1),e("td",null,t(N.uom),1),e("td",null,t(N.unit_price),1),e("td",null,t(N.quantity*N.unit_price),1)]))),128))])]),e("div",R4,[e("div",E4,[L4,T(" "+t(n.purpose),1)])])]}),_:1})]),_:1})])}}};var F4=fe(Y4,[["__scopeId","data-v-6d543bc1"]]);const Te=s=>(ye("data-v-a3a8f576"),s=s(),ge(),s),N4={id:"exportPDF"},B4=Te(()=>e("br",null,null,-1)),j4={class:"container"},O4={class:"row align-items-center"},H4={class:"container-fluid"},z4={class:"row"},J4={class:"col-sm"},Q4=["src"],G4=Te(()=>e("div",{class:"col-sm"},[e("span",{class:"m-0 font-weight-bold"},"MATERIALS REQUISITION FORM")],-1)),W4={class:"col-sm font-weight-bold font-italic"},K4={class:"table table-bordered table-sm"},X4={class:"table table-bordered text-center table-sm table-striped"},Z4=Te(()=>e("thead",{class:"bg-primary"},[e("tr",null,[e("th",null,"ITEM NO."),e("th",null,"PARTICULARS"),e("th",null,"DESCRIPTION"),e("th",null,"QUANTITY"),e("th",null,"UNIT"),e("th",null,"UNIT PRICE"),e("th",null,"PRINCIPAL AMOUNT")])],-1)),ex={class:"text-right"},tx={class:"text-right"},sx={class:"font-weight-bold"},ax={class:"table table-bordered table-sm border-0"},ox={colspan:"2"},lx=Te(()=>e("tr",null,[e("td",{colspan:"2"}," Note: Procurement cut-off time of receiving requests: MWF @8AM-2PM ")],-1)),nx=Te(()=>e("tr",null,[e("td",{colspan:"2"}," *7 Days lead for consumables (Repeat Order) ")],-1)),dx=Te(()=>e("tr",null,[e("td",{colspan:"2"}," *10 Days lead time for (New Request) beyond TOR for Local Vendor ")],-1)),ix=Te(()=>e("tr",null,[e("td",{colspan:"2"}," *30 Days lead time for (New Request) beyond TOR for Foreign Vendor ")],-1)),cx={class:"signature"},rx={class:"border-bottom border-dark"},ux=Te(()=>e("br",null,null,-1)),_x={class:"signature"},mx=Te(()=>e("br",null,null,-1)),px={key:0,class:"fab-container"},hx=Te(()=>e("i",{class:"fas fa-download"},null,-1)),vx=[hx],bx={__name:"MrfRequestApproved",setup(s){const v=`${ve().params.id}`,m=()=>{const c=document.getElementById("exportPDF");et().from(c).save(`${v}.pdf`)},l=c=>c?c.toFixed(2):"0.00",i=Me({id:"",mrfOrderNumber:"",areaDepartment:"",requisitioner:"",daterequested:"",dateNeeded:"",Purpose:"",materiallist:[],checkedBy:"",checkedPosition:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",Status:"",approveby:"",approvedPosition:""}),d=()=>{I.get(`/web/Mrf-request/${ve().params.id}`).then(c=>{i.id=c.data.record.id,i.mrfOrderNumber=c.data.record.mrf_order_number,i.areaDepartment=c.data.record.site_name,i.requisitioner=c.data.record.requisitioner,i.daterequested=le(c.data.record.date_requested).format("MMMM D, YYYY"),i.dateNeeded=le(c.data.record.date_needed).format("MMMM D, YYYY"),i.Purpose=c.data.record.purpose,i.materiallist=c.data.record.mrf_items_parts,i.checkedBy=c.data.record.createdby.cfull_name,i.checkedPosition=c.data.record.createdby.cposition?c.data.record.createdby.cposition:"",i.checkedDate=le(c.data.record.checkedDate).format("MMMM D, YYYY"),i.checkedTime=le(c.data.record.checkedTime).format("h:mm:ss a"),i.reviewedBy=c.data.record.reviewedBy,i.reviewedDate=le(c.data.record.reviewedDate).format("MMMM D, YYYY"),i.approvedBy=c.data.record.updatedby.ufull_name,i.approvedPosition=c.data.record.updatedby.uposition?c.data.record.updatedby.uposition:"",i.approvedDate=le(c.data.record.approvedDate).format("MMMM D, YYYY"),i.remarks=c.data.record.remarks,i.Status=c.data.record.status,console.log(c.data.record.status)}).catch(c=>{console.log(c.message)})};return _e(()=>{d(),document.title=v}),(c,p)=>(a(),o(O,null,[e("div",N4,[B4,e("div",j4,[["P","C"].includes(i.Status)?(a(),o("div",{key:0,class:P(["ribbon",{warning:i.Status==="P",closed:i.Status==="C"}])},[e("span",null,t(i.Status==="P"?"Pending":i.Status==="C"?"Reject":i.Status==="P"),1)],2)):U("",!0),e("div",O4,[e("div",H4,[e("div",z4,[e("div",J4,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,Q4)]),G4,e("div",W4,[e("span",null,t(i.mrfOrderNumber),1)])]),e("table",K4,[e("tr",null,[e("td",null,"SITE: "+t(i.areaDepartment),1),e("td",null,"DATE REQUEST: "+t(i.daterequested),1)]),e("tr",null,[e("td",null,"REQUISITIONER: "+t(i.checkedBy),1),e("td",null,"DATE NEEDED: "+t(i.dateNeeded),1)])]),e("table",X4,[Z4,e("tbody",null,[(a(!0),o(O,null,ee(i.materiallist,(n,g)=>(a(),o("tr",{key:g},[e("td",null,t(g+1),1),e("td",null,t(n.particulars),1),e("td",null,t(n.description),1),e("td",null,t(n.quantity),1),e("td",null,t(n.uom),1),e("td",ex,"\u20B1"+t(n.unit_price),1),e("td",tx,"\u20B1"+t(l(n.quantity*n.unit_price)),1)]))),128))])]),e("p",sx,"PURPOSE: "+t(i.Purpose),1),e("table",ax,[e("tr",null,[e("td",ox,"PREPARED BY: "+t(i.checkedBy),1)]),lx,nx,dx,ix,e("tr",null,[e("td",cx,[e("span",rx,"Prepared By: "+t(i.checkedBy),1),T(),ux,T(" "+t(i.checkedPosition),1)]),e("td",_x,[T(" Noted By: "+t(i.approvedBy),1),mx,T(" "+t(i.approvedPosition),1)])])])])])])]),i.status==="A"?(a(),o("div",px,[e("div",{class:"button iconbutton bg-success",onClick:p[0]||(p[0]=n=>m())},vx)])):U("",!0)],64))}};var yt=fe(bx,[["__scopeId","data-v-a3a8f576"]]),fx=[{path:"/login",name:"admin.login",component:ad},{path:"/",name:"Dashboard",component:zt},{path:"/appointments",name:"Appointments",component:ms},{path:"/appointments/create",name:"Appointments",component:mt},{path:"/appointments/:id/edit",name:"Appointments",component:mt},{path:"/user",name:"User",component:Oo},{path:"/settings",name:"Setting",component:Fl},{path:"/profile",name:"Profile",component:Tn},{path:"/client",name:"Client",component:ti},{path:"/tech-recommendation",name:"Tech Recomm",component:pr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:Cm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Kh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:oh},{path:"/usermenu",name:"User Menu",component:Bv},{path:"/menu",name:"Menu",component:u1},{path:"/:catchAll(.*)",name:"404 Error Page",component:bt},{path:"/notifications",name:"Notifications",component:gf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:ft},{path:"/asset-monitoring",name:"Asset Monitoring",component:pg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:Ck},{path:"/usersite",name:"User Site",component:jk},{path:"/job-order-request-list",name:"Job Order Request",component:V0},{path:"/job-order-request-list/create",name:"Job Order Create",component:m3},{path:"/job-order-request-approved/:id/view",name:"Job-Order-Request-Approved",component:$t},{path:"/Marial-Requisition",name:"Material Requisition Form List",component:o4},{path:"/Marial-Requisition/create",name:"Create Material Requisition Form",component:F4},{path:"/Marial-Requisition-approved/:id/view",name:"marial-Requisition-Approved",component:yt}];const $x={class:"navbar-nav"},yx=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),gx={class:"nav-item d-none d-sm-inline-block"},kx={class:"navbar-nav ml-auto"},wx=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),xx={class:"nav-link","data-toggle":"dropdown",href:"#"},Cx=e("i",{class:"far fa-bell"},null,-1),Dx={class:"badge badge-warning navbar-badge"},Sx={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Mx={class:"dropdown-header"},Vx=e("div",{class:"dropdown-divider"},null,-1),Ux=e("i",{class:"fas fa-envelope mr-2"},null,-1),Ax={class:"float-right text-muted text-sm"},Px={key:1,class:"text-center text-muted py-3"},qx=e("div",{class:"dropdown-divider"},null,-1),Tx=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Ix={class:"nav-item dropdown"},Rx={class:"nav-link","data-toggle":"dropdown",href:"#"},Ex={class:"user-panel d-flex",style:{top:"-5px"}},Lx={class:"info"},Yx={key:0,class:"image"},Fx=["src"],Nx={key:1,class:"image"},Bx=["src"],jx=["src"],Ox={class:"dropdown-menu dropdown-menu-sg dropdown-menu-right"},Hx=e("i",{class:"fas fa-user-circle"},null,-1),zx={__name:"AppNavbar",setup(s){const v=Ge(),m=r([]),l=ue(),i=()=>{I.get("/api/notifications").then(d=>{m.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return _e(()=>{i()}),(d,c)=>{const p=be("router-link");return a(),o("nav",{class:P(["main-header navbar navbar-expand",_(v).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",$x,[yx,e("li",gx,[e("a",{onClick:c[0]||(c[0]=se((...n)=>_(v).changeTheme&&_(v).changeTheme(...n),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:P(["far",_(v).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",kx,[wx,e("li",{class:"nav-item dropdown",onClick:i},[e("a",xx,[Cx,e("span",Dx,t(m.value.length),1)]),e("div",Sx,[e("span",Mx,t(m.value.length)+" Notifications",1),Vx,m.value.length>0?(a(!0),o(O,{key:0},ee(m.value,n=>(a(),o("a",{key:n.id,href:"#",class:"dropdown-item"},[Ux,T(" "+t(n.data?n.data:"No message available")+" ",1),e("span",Ax,t(_(le)(n.created_at)),1)]))),128)):(a(),o("p",Px,"No new notifications")),qx,h(p,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[T("See All Notifications")]),_:1})])]),Tx,e("li",Ix,[e("a",Rx,[e("div",Ex,[e("div",Lx,t(_(l).user.name),1),_(l).user.avatar===""?(a(),o("div",Yx,[e("img",{src:_(l).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Fx)])):_(l).user.avatar!==""?(a(),o("div",Nx,[_(l).user.gender==="Male"?(a(),o("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Bx)):_(l).user.gender==="Female"?(a(),o("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,jx)):U("",!0)])):U("",!0)])]),e("div",Ox,[h(p,{class:"dropdown-item",to:"/profile"},{default:Z(()=>[Hx,T(" My Profile")]),_:1})])])])],2)}}},Jx={class:"main-sidebar sidebar-dark-primary elevation-4"},Qx={href:"#",class:"brand-link"},Gx=["src"],Wx={class:"brand-text font-weight-light"},Kx={class:"sidebar"},Xx={class:"mt-2"},Zx={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},e8={key:0,class:"right fas fa-angle-left"},t8={key:0,class:"nav nav-treeview"},s8={class:"nav-item"},a8={class:"nav-link"},o8=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),l8=e("p",null,"Logout",-1),n8=[o8,l8],d8={__name:"SidebarLeft",setup(s){const v=Qe(),m=ue(),l=Ge(),i=r({data:[]}),d=()=>{axios.get("/web/menu").then(n=>{i.value=n.data}).catch(n=>{console.log(n)})},c=n=>n===v.currentRoute.value.path,p=()=>{axios.post("/logout").then(n=>{m.user.name="",v.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),d()}),(n,g)=>{const b=be("router-link");return a(),o("aside",Jx,[e("a",Qx,[e("img",{src:"/img/safe1.png",alt:" Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Gx),e("span",Wx,t(_(l).setting.app_name),1)]),e("div",Kx,[e("nav",Xx,[e("ul",Zx,[(a(!0),o(O,null,ee(i.value,S=>(a(),o("li",{key:S.id,class:P({"nav-item":!0,"menu-is-opening":S.submenus&&S.submenus.length>0})},[h(b,{class:P({"nav-link":!0,active:c(S.menu_route)}),to:`${S.menu_route}`},{default:Z(()=>[e("i",{class:P("nav-icon "+S.menu_icon)},null,2),e("p",null,t(S.menu_title),1),S.submenus&&S.submenus.length>0?(a(),o("i",e8)):U("",!0)]),_:2},1032,["class","to"]),S.submenus&&S.submenus.length>0?(a(),o("ul",t8,[(a(!0),o(O,null,ee(S.submenus,u=>(a(),o("li",{key:u.id,class:"nav-item"},[h(b,{class:P({"nav-link menu-open":!0,active:c(u.menu_route)}),to:u.menu_route},{default:Z(()=>[e("i",{class:P("nav-icon "+u.menu_icon)},null,2),e("p",null,t(u.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):U("",!0)],2))),128)),e("li",s8,[e("form",a8,[e("a",{href:"#",onClick:se(p,["prevent"])},n8)])])])])])])}}},i8={},c8={class:"control-sidebar control-sidebar-dark"},r8=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),u8=[r8];function _8(s,v){return a(),o("aside",c8,u8)}var m8=fe(i8,[["render",_8]]);const p8={class:"main-footer"},h8={class:"float-right d-none d-sm-block"},v8={href:"#"},b8={__name:"AppFooter",props:{settings:Object},setup(s){const v=ue(),m=r(new Date().getFullYear());return(l,i)=>{var d;return a(),o("footer",p8,[e("div",h8,t(_(v).user.name),1),e("strong",null,[T("Copyright \xA9 "+t(m.value)+" ",1),e("a",v8,t((d=s.settings)==null?void 0:d.app_name),1),T(".")]),T(" All rights reserved. ")])}}};const f8=s=>(ye("data-v-36653638"),s=s(),ge(),s),$8={class:"content-wrapper"},y8={class:"content-header"},g8={class:"container-fluid"},k8={class:"row mb-2"},w8={class:"col-sm-6"},x8={class:"m-0"},C8={class:"col-sm-6"},D8={class:"breadcrumb float-sm-right"},S8=f8(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),M8={class:"breadcrumb-item active"},V8={__name:"CustomMainLayout",setup(s){const v=ue(),m=Ge(),l=Ce(()=>m.theme==="dark"?"dark-mode":"");return(i,d)=>{const c=be("router-view");return _(v).user.name!==""?(a(),o("div",{key:0,class:P(["wrapper",l.value])},[h(zx),h(d8),h(m8),e("div",$8,[e("section",y8,[e("div",g8,[e("div",k8,[e("div",w8,[e("h1",x8,t(i.$route.name),1)]),e("div",C8,[e("ol",D8,[S8,e("li",M8,t(i.$route.name),1)])])])])]),h(c)]),h(b8)],2)):(a(),o("div",{key:1,class:P(["login-page slibg",l.value])},[h(c)],2))}}};var U8=fe(V8,[["__scopeId","data-v-36653638"]]);const A8={__name:"App",setup(s){ue();const v=ve(),m=Ce(()=>v.name==="Tech-Approved"),l=Ce(()=>v.name==="Job-Order-Request-Approved"),i=Ce(()=>v.name==="marial-Requisition-Approved"),d=Ce(()=>v.name==="404 Error Page");return(c,p)=>(a(),o("div",null,[!d.value&&!m.value&&!l.value&&!i.value?(a(),re(U8,{key:0})):m.value?(a(),re(ft,{key:1})):l.value?(a(),re($t,{key:2})):i.value?(a(),re(yt,{key:3})):(a(),re(bt,{key:4}))]))}};var P8=fe(A8,[["__scopeId","data-v-03ab7b71"]]);const q8=xt(),ze=St(P8),gt=Ct({routes:fx,history:Dt()});gt.beforeEach(async(s,v)=>{const m=ue();if(m.user.name===""&&s.name!=="admin.login"){const l=Ge();await Promise.all([m.getAuthUser(),l.getSetting()])}});ze.use(Yt);ze.use(q8);ze.use(gt);ze.use(Lt);ze.use(et);ze.mount("#app");
