import{_ as dt,l as Ee}from"./lodash.6f1dd969.js";import{a as F}from"./axios.82d3905a.js";import{a as it}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as Ze,c as ct}from"./pinia.210ccde5.js";import{u as be,a as We,c as rt,b as ut}from"./vue-router.abad5649.js";import{r as i,o as ue,i as a,k as e,x as t,_ as g,u as c,e as s,I as Se,h as X,j as D,F as z,q as K,d as $e,a0 as ee,v as I,C as Ve,a2 as J,a3 as re,aa as Te,p as P,w as ve,ab as we,f as ie,B as Qe,a5 as De,a6 as Ue,ac as et,ad as Me,a1 as Ge,ae as _t}from"./@vue.04713aa0.js";import{B as mt}from"./vue-chartjs.50c6886f.js";import{C as pt,p as ht,a as vt,b as bt,c as ft,d as $t,L as gt}from"./chart.js.562acd0f.js";import{S as Xe}from"./sweetalert2.ef56b979.js";import{t as He}from"./toastr.94171567.js";import{F as Ce,a as R}from"./vee-validate.1443789f.js";import{f as tt}from"./flatpickr.181c7977.js";import{c as ke,a as q}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as he}from"./moment.40bc58bf.js";import{a as Le}from"./laravel-vue-pagination.475a8c82.js";import{C as yt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as kt}from"./@vueuse.5a8c8091.js";import{L as Pe}from"./vue3-datepicker.b3fccff5.js";import{h as je}from"./html2canvas.c4a43e03.js";import{h as st}from"./html2pdf.js.44b835e5.js";import{V as wt}from"./vue-sweetalert2.891f877f.js";import{d as xt}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=dt;window.axios=F;window.$=window.jQuery=it;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=Ze("AuthUserStore",()=>{const o=i({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await F.get("/api/profile").then(_=>{o.value=_.data})}}}),Ct={class:"content"},St={class:"container-fluid"},Dt={class:"card"},Ut={class:"card-header"},Vt={class:"card-body"},Mt=e("div",{class:"row"},null,-1),At={__name:"Dashboard",setup(o){pt.register(ht,vt,bt,ft,$t,gt);const k=`${be().name}`;_e(),i("all"),i(0);const _=i(new Date().getFullYear()),d=i({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),r=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},u=i("today"),h=i(0),U=()=>{axios.get("/api/stats/users",{params:{date_range:u.value}}).then(l=>{h.value=l.data.totalUsersCount})};return ue(()=>{r(),U(),document.title=k}),(l,A)=>(s(),a("div",Ct,[e("div",St,[e("div",Dt,[e("div",Ut," Yearly Progress - "+t(_.value),1),e("div",Vt,[g(c(mt),{data:d.value},null,8,["data"])])]),Mt])]))}},Et={class:"content"},Tt={class:"container-fluid"},Pt={class:"row"},Ft={class:"col-lg-12"},Lt={class:"d-flex justify-content-between mb-2"},It=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),I(" Add New Appointment")],-1),qt={class:"btn-group"},Yt=e("span",{class:"mr-1"},"All",-1),Nt={class:"badge badge-pill badge-info"},Bt=["onClick"],Rt={class:"mr-1"},Ht={class:"card"},jt={class:"card-body"},Ot={class:"table table-bordered"},zt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Gt=e("td",null,null,-1),Wt=e("i",{class:"fa fa-edit mr-2"},null,-1),Qt=["onClick"],Kt=e("i",{class:"fa fa-trash text-danger"},null,-1),Xt=[Kt],Jt={__name:"ListAppointments",setup(o){const k=i(),_=i([]),d=()=>{F.get("/api/appointment-status").then(A=>{_.value=A.data})},r=i([]),u=A=>{k.value=A;const f={};A&&(f.status=A),F.get("/api/appointments",{params:f}).then(C=>{r.value=C.data,console.log(C)})},h=Se(()=>_.value.map(A=>A.count).reduce((A,f)=>A+f,0)),U=A=>{const f=r.value.data.find(n=>n.id===A).status.name,C=_.value.find(n=>n.name===f);C.count--},l=A=>{Xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(f=>{f.isConfirmed&&F.delete(`/api/appointments/${A}`).then(C=>{U(A),r.value.data=r.value.data.filter(n=>n.id!==A),Xe.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{u(),d()}),(A,f)=>{const C=$e("router-link");return s(),a("div",Et,[e("div",Tt,[e("div",Pt,[e("div",Ft,[e("div",Lt,[e("div",null,[g(C,{to:"/admin/appointments/create"},{default:X(()=>[It]),_:1})]),e("div",qt,[e("button",{onClick:f[0]||(f[0]=n=>u()),type:"button",class:D(["btn",[typeof k.value=="undefined"?"btn-secondary":"btn-default"]])},[Yt,e("span",Nt,t(h.value),1)],2),(s(!0),a(z,null,K(_.value,n=>(s(),a("button",{key:n.id,onClick:x=>u(n.value),type:"button",class:D(["btn",[k.value===n.value?"btn-secondary":"btn-default"]])},[e("span",Rt,t(n.name),1),e("span",{class:D(["badge badge-pill",`badge-${n.color}`])},t(n.count),3)],10,Bt))),128))])]),e("div",Ht,[e("div",jt,[e("table",Ot,[zt,e("tbody",null,[(s(!0),a(z,null,K(r.value.data,(n,x)=>(s(),a("tr",{key:n.id},[e("td",null,t(x+1),1),e("td",null,t(n.client.first_name)+" "+t(n.client.last_name),1),e("td",null,t(n.start_time),1),e("td",null,t(n.end_time),1),Gt,e("td",null,[g(C,{to:`/admin/appointments/${n.id}/edit`},{default:X(()=>[Wt]),_:2},1032,["to"]),e("a",{href:"#",onClick:ee(N=>l(n.id),["prevent"])},Xt,8,Qt)])]))),128))])])])])])])])])}}};function me(){return He.options.positionClass="toast-top-right",He.options.closeButton=!0,He.options.progressBar=!0,He}const Zt={class:"content-header"},es={class:"container-fluid"},ts={class:"row mb-2"},ss={class:"col-sm-6"},as={class:"m-0"},os={key:0},ls={key:1},ns={class:"col-sm-6"},ds={class:"breadcrumb float-sm-right"},is={class:"breadcrumb-item"},cs={class:"breadcrumb-item"},rs={class:"breadcrumb-item active"},us={key:0},_s={key:1},ms={class:"content"},ps={class:"container-fluid"},hs={class:"row"},vs={class:"col-lg-12"},bs={class:"card"},fs={class:"card-body"},$s={class:"row"},gs={class:"col-md-6"},ys={class:"form-group"},ks=e("label",{for:"title"},"Title",-1),ws={class:"invalid-feedback"},xs={class:"col-md-6"},Cs={class:"form-group"},Ss=e("label",{for:"client"},"Client Name",-1),Ds=["value"],Us={class:"invalid-feedback"},Vs={class:"row"},Ms={class:"col-md-6"},As={class:"form-group"},Es=e("label",{for:"start-time"},"Start Time",-1),Ts={class:"invalid-feedback"},Ps={class:"col-md-6"},Fs={class:"form-group"},Ls=e("label",{for:"end-time"},"End Time",-1),Is={class:"invalid-feedback"},qs={class:"form-group"},Ys=e("label",{for:"description"},"Description",-1),Ns={class:"invalid-feedback"},Bs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Je={__name:"AppointmentForm",setup(o){const k=We(),_=be(),d=me(),r=Ve({title:"",client_id:"",start_time:"",end_time:"",description:""}),u=(n,x)=>{C.value?U(n,x):h(n,x)},h=(n,x)=>{F.post("/api/appointments/create",r).then(N=>{k.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(N=>{x.setErrors(N.response.data.errors)})},U=(n,x)=>{F.put(`/api/appointments/${_.params.id}/edit`,r).then(N=>{k.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(N=>{x.setErrors(N.response.data.errors)})},l=i(),A=()=>{F.get("/api/view-clients").then(n=>{l.value=n.data})},f=()=>{F.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{r.title=n.title,r.client_id=n.client_id,r.start_time=n.formatted_start_time,r.end_time=n.formatted_end_time,r.description=n.description})},C=i(!1);return ue(()=>{_.name==="admin.appointments.edit"&&(C.value=!0,f()),tt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),A()}),(n,x)=>{const N=$e("router-link");return s(),a(z,null,[e("div",Zt,[e("div",es,[e("div",ts,[e("div",ss,[e("h1",as,[C.value?(s(),a("span",os,"Edit")):(s(),a("span",ls,"Create")),I(" Appointment")])]),e("div",ns,[e("ol",ds,[e("li",is,[g(N,{to:"/admin/dashboard"},{default:X(()=>[I("Home")]),_:1})]),e("li",cs,[g(N,{to:"/admin/appointments"},{default:X(()=>[I("Appointments")]),_:1})]),e("li",rs,[C.value?(s(),a("span",us,"Edit")):(s(),a("span",_s,"Create"))])])])])])]),e("div",ms,[e("div",ps,[e("div",hs,[e("div",vs,[e("div",bs,[e("div",fs,[g(c(Ce),{onSubmit:u},{default:X(({errors:W})=>[e("div",$s,[e("div",gs,[e("div",ys,[ks,J(e("input",{"onUpdate:modelValue":x[0]||(x[0]=Z=>r.title=Z),type:"text",class:D(["form-control",{"is-invalid":W.title}]),id:"title",placeholder:"Enter Title"},null,2),[[re,r.title]]),e("span",ws,t(W.title),1)])]),e("div",xs,[e("div",Cs,[Ss,J(e("select",{"onUpdate:modelValue":x[1]||(x[1]=Z=>r.client_id=Z),id:"client",class:D(["form-control",{"is-invalid":W.client_id}])},[(s(!0),a(z,null,K(l.value,Z=>(s(),a("option",{value:Z.id,key:Z.id},t(Z.first_name)+" "+t(Z.last_name),9,Ds))),128))],2),[[Te,r.client_id]]),e("span",Us,t(W.client_id),1)])])]),e("div",Vs,[e("div",Ms,[e("div",As,[Es,J(e("input",{"onUpdate:modelValue":x[2]||(x[2]=Z=>r.start_time=Z),type:"text",class:D(["form-control flatpickr",{"is-invalid":W.start_time}]),id:"start-time"},null,2),[[re,r.start_time]]),e("span",Ts,t(W.start_time),1)])]),e("div",Ps,[e("div",Fs,[Ls,J(e("input",{"onUpdate:modelValue":x[3]||(x[3]=Z=>r.end_time=Z),type:"text",class:D(["form-control flatpickr",{"is-invalid":W.end_time}]),id:"end-time"},null,2),[[re,r.end_time]]),e("span",Is,t(W.end_time),1)])])]),e("div",qs,[Ys,J(e("textarea",{"onUpdate:modelValue":x[4]||(x[4]=Z=>r.description=Z),class:D(["form-control",{"is-invalid":W.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[re,r.description]]),e("span",Ns,t(W.description),1)]),Bs]),_:1})])])])])])])],64)}}},Rs=["checked"],Hs=["value","selected"],js=["value","selected"],Os=e("i",{class:"fa fa-edit"},null,-1),zs=[Os],Gs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ws=[Gs],Qs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){const _=me(),d=o,r=k,u=i([{name:"ADMIN",value:1},{name:"USER",value:2}]),h=i([]),U=()=>{F.get("/api/users/userlist").then(C=>{h.value=C.data}).catch(C=>{console.log(C)})},l=(C,n)=>{F.patch(`/api/users/${C.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},A=(C,n)=>{F.patch(`/api/users/${C.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},f=()=>{r("toggleSelection",d.user)};return ue(()=>{U()}),(C,n)=>(s(),a("tr",null,[e("td",null,[o.user.name!="admin"?(s(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:f},null,40,Rs)):P("",!0)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=x=>l(o.user,x.target.value))},[(s(!0),a(z,null,K(u.value,x=>(s(),a("option",{key:x.id,value:x.value,selected:o.user.role===x.name},t(x.name),9,Hs))),128))],32)]),e("td",null,[o.user.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=x=>A(o.user,x.target.value))},[(s(!0),a(z,null,K(h.value,x=>(s(),a("option",{key:x.id,value:x.id,selected:o.user.sitehead_user_id===x.id},t(x.first_name+" "+x.last_name),9,js))),128))],32)):P("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=ee(x=>C.$emit("editUser",o.user),["prevent"]))},zs),o.user.id!=1?(s(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=ee(x=>C.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ws)):P("",!0)])]))}},Ks={class:"content"},Xs={class:"container-fluid"},Js={class:"d-flex justify-content-between mb-2"},Zs={class:"d-flex"},ea=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ta={key:0},sa=e("i",{class:"fa fa-trash mr-1"},null,-1),aa={class:"ml-2"},oa={class:"card"},la={class:"card-body"},na={class:"dispatch-table"},da={class:"table-responsive"},ia={class:"table table-bordered table-hover table-sm"},ca=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),ra={key:0},ua={key:1},_a=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ma=[_a],pa=["index"],ha={class:"card"},va={class:"card-body"},ba={class:"list-field"},fa=e("span",{class:"mb-1 dis"},"Name:",-1),$a={class:"list-field"},ga=e("span",{class:"mb-1 dis"},"Email:",-1),ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ca=["onChange"],Sa=["value","selected"],Da=e("hr",null,null,-1),Ua={class:"row"},Va={key:0,class:"col"},Ma=["onClick"],Aa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ea=["onClick"],Ta=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),I(" Remove ")],-1),Pa=[Ta],Fa={key:1,class:"col"},La=["onClick"],Ia=e("i",{class:"fa fa-pencil-square-o"},null,-1),qa={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ya={class:"modal-dialog",role:"document"},Na={class:"modal-content"},Ba={class:"modal-header"},Ra={class:"modal-title",id:"staticBackdropLabel"},Ha={key:0},ja={key:1},Oa=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),za={class:"modal-body"},Ga={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Qa={class:"invalid-feedback"},Ka={class:"d-flex justify-content-between"},Xa={class:"d-flex"},Ja={class:"form-group"},Za=e("label",{for:"email"},"Email",-1),eo={class:"invalid-feedback"},to={class:"d-flex"},so={class:"form-group"},ao=e("label",{for:"siteDropdown"},"Gender",-1),oo=e("option",{value:"",disabled:""}," Select a gender ",-1),lo=["value"],no={class:"d-flex justify-content-between"},io={class:"d-flex"},co={class:"form-group"},ro=e("label",{for:"first_name"},"Fist Name",-1),uo={class:"invalid-feedback"},_o={class:"d-flex"},mo={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),ho={class:"invalid-feedback"},vo={class:"form-group"},bo=e("label",{for:"position"},"Position",-1),fo={class:"invalid-feedback"},$o={class:"form-group"},go=e("label",{for:"password"},"Password",-1),yo={class:"invalid-feedback"},ko=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xo={class:"modal-dialog",role:"document"},Co={class:"modal-content"},So=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Do={class:"modal-footer"},Uo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vo={__name:"UserList",setup(o){const k=`${be().name}`,_=_e(),d=me(),r=i({data:[]}),u=i(!1),h=i(),U=i(null);i([]),i(null);const l=i([{name:"Male",value:1},{name:"Female",value:2}]),A=(L=1)=>{F.get(`/api/users?page=${L}`,{params:{query:Y.value}}).then(S=>{r.value=S.data,m.value=[],G.value=!1})},f=ke({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().required().min(8),gender:q().required()}),C=ke({name:q().required(),last_name:q().required(),first_name:q().required(),email:q().email().required(),password:q().when((L,S)=>L?S.required().min(8):S),gender:q().required()}),n=i([]),x=()=>{F.get("/api/users/userlist").then(L=>{n.value=L.data}).catch(L=>{console.log(L)})},N=(L,S)=>{F.patch(`/api/users/${L.id}/change-sitehead`,{sitehead_user_id:S}).then(()=>{d.success("Sitehead changed successfully!")})},W=(L,{resetForm:S,setErrors:b})=>{F.post("/api/users",L).then(y=>{r.value.data.unshift(y.data),$("#userFormModal").modal("hide"),S(),d.success("User created successfully!")}).catch(y=>{y.response.data.errors&&(b(y.response.data.errors),d.warning(y.response.data.errors.name))})},Z=()=>{u.value=!1,$("#userFormModal").modal("show")},ne=L=>{u.value=!0,U.value.resetForm(),$("#userFormModal").modal("show"),h.value={id:L.id,name:L.name,email:L.email,sitehead_user_id:L.sitehead_user_id,first_name:L.first_name,last_name:L.last_name,gender:L.gender}},B=(L,{setErrors:S})=>{F.put("/api/users/"+h.value.id,L).then(b=>{const y=r.value.data.findIndex(te=>te.id===b.data.id);r.value.data[y]=b.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},M=(L,S)=>{u.value?B(L,S):W(L,S)},Y=i(null),m=i([]),w=L=>{const S=m.value.indexOf(L.id);S===-1?m.value.push(L.id):m.value.splice(S,1),console.log(m.value)},H=i(null),ae=L=>{H.value=L,$("#deleteUserModal").modal("show")},Q=()=>{F.delete(`/api/users/${H.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),r.value.data=r.value.data.filter(L=>L.id!==H.value)})},pe=()=>{F.delete("/api/users",{data:{ids:m.value}}).then(L=>{r.value.data=r.value.data.filter(S=>!m.value.includes(S.id)),m.value=[],G.value=!1,d.success(L.data.message)})},G=i(!1);return ve(Y,Ee.exports.debounce(()=>{A()},300)),ue(()=>{A(),x(),document.title=k}),(L,S)=>{const b=$e("font");return s(),a(z,null,[e("div",Ks,[e("div",Xs,[e("div",Js,[e("div",Zs,[e("button",{onClick:Z,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ea,I(" User ")]),m.value.length>0?(s(),a("div",ta,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[sa,I(" Delete Selected ")]),e("span",aa,"Selected "+t(m.value.length)+" users",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=y=>Y.value=y),class:"form-control",placeholder:"Search..."},null,512),[[re,Y.value]])])]),e("div",oa,[e("div",la,[e("div",na,[e("div",da,[g(b,{size:"2"},{default:X(()=>[e("table",ia,[ca,r.value.data.length>0?(s(),a("tbody",ra,[(s(!0),a(z,null,K(r.value.data,(y,te)=>(s(),ie(Qs,{key:y.id,user:y,index:te,onEditUser:ne,onConfirmUserDeletion:ae,onToggleSelection:w,"select-all":G.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",ua,ma))])]),_:1})])]),(s(!0),a(z,null,K(r.value.data,(y,te)=>(s(),a("div",{class:"dispatch-list",key:y.id,index:te},[e("div",ha,[e("div",va,[e("div",ba,[fa,e("span",null,t(y.first_name+" "+y.last_name),1)]),e("div",$a,[ga,e("span",null,t(y.email),1)]),e("div",ya,[ka,e("span",null,t(y.formatted_created_at),1)]),e("div",wa,[xa,e("span",null,[y.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:de=>N(y,de.target.value)},[(s(!0),a(z,null,K(n.value,de=>(s(),a("option",{key:de.id,value:de.id,selected:de.sitehead_user_id===de.id},t(de.first_name+" "+de.last_name),9,Sa))),128))],40,Ca)):P("",!0)])]),Da,e("div",Ua,[c(_).user.role==="ADMIN"?(s(),a("div",Va,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:de=>ne(y)},[Aa,I(" Edit ")],8,Ma),e("button",{class:"btn btnsm btn-danger btn-block",onClick:de=>ae(y.id)},Pa,8,Ea)])):P("",!0),c(_).user.role==="USER"?(s(),a("div",Fa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:de=>ne(y)},[Ia,I(" Edit ")],8,La)])):P("",!0)])])])],8,pa))),128))])]),g(c(Le),{data:r.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",qa,[e("div",Ya,[e("div",Na,[e("div",Ba,[e("h5",Ra,[u.value?(s(),a("span",Ha,"Edit User")):(s(),a("span",ja,"Add New User"))]),Oa]),g(c(Ce),{ref_key:"form",ref:U,onSubmit:M,"validation-schema":u.value?c(C):c(f),"initial-values":h.value},{default:X(({errors:y})=>[e("div",za,[e("div",Ga,[Wa,g(c(R),{name:"name",type:"text",class:D(["form-control",{"is-invalid":y.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Qa,t(y.name),1)]),e("div",Ka,[e("div",Xa,[e("div",Ja,[Za,g(c(R),{name:"email",type:"email",class:D(["form-control",{"is-invalid":y.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",eo,t(y.email),1)])]),e("div",to,[e("div",so,[ao,g(c(R),{id:"gender",name:"gender",as:"select",class:D(["form-control",{"is-invalid":y.gender}])},{default:X(()=>[oo,(s(!0),a(z,null,K(l.value,te=>(s(),a("option",{key:te.name,value:te.name},t(te.name),9,lo))),128))]),_:2},1032,["class"])])])]),e("div",no,[e("div",io,[e("div",co,[ro,g(c(R),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":y.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",uo,t(y.first_name),1)])]),e("div",_o,[e("div",mo,[po,g(c(R),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":y.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",ho,t(y.last_name),1)])])]),e("div",vo,[bo,g(c(R),{name:"position",type:"text",class:D(["form-control",{"is-invalid":y.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",fo,t(y.position),1)]),e("div",$o,[go,g(c(R),{name:"password",type:"password",class:D(["form-control",{"is-invalid":y.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",yo,t(y.password),1)])]),ko]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",xo,[e("div",Co,[So,e("div",Do,[Uo,e("button",{onClick:ee(Q,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Mo=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ao=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Eo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ae={__name:"ContentLoader",setup(o){return(k,_)=>k.isloading?(s(),ie(c(yt),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[Mo,Ao,Eo,To]),_:1})):P("",!0)}};var ge=(o,k)=>{const _=o.__vccOpts||o;for(const[d,r]of k)_[d]=r;return _};const Fe=o=>(De("data-v-9bd7df0a"),o=o(),Ue(),o),Po={class:"content"},Fo={class:"container-fluid"},Lo={class:"row"},Io={class:"col-md-6"},qo={class:"card"},Yo=we('<ul class="nav nav-tabs" data-v-9bd7df0a><li class="nav-item" data-v-9bd7df0a><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-9bd7df0a>General Settings</a></li><li class="nav-item" data-v-9bd7df0a><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-9bd7df0a>Site Settings</a></li></ul>',1),No={class:"tab-content"},Bo={class:"tab-pane fade show active",id:"general-tab"},Ro={class:"card-body"},Ho={class:"form-group"},jo=Fe(()=>e("label",{for:"appName"},"App Display Name",-1)),Oo={key:0,class:"text-danger text-sm"},zo={class:"form-group"},Go=Fe(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Wo=we('<option value="m/d/Y" data-v-9bd7df0a> MM/DD/YYYY </option><option value="d/m/Y" data-v-9bd7df0a> DD/MM/YYYY </option><option value="Y-m-d" data-v-9bd7df0a> YYYY-MM-DD </option><option value="F j, Y" data-v-9bd7df0a> Month DD, YYYY </option><option value="j F Y" data-v-9bd7df0a> DD Month YYYY </option>',5),Qo=[Wo],Ko={key:0,class:"text-danger text-sm"},Xo={class:"form-group"},Jo=Fe(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Zo={key:0,class:"text-danger text-sm"},el=Fe(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),I("Save Changes ")])],-1)),tl={class:"tab-pane fade",id:"site"},sl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},al={key:0,class:"list-group-item p-0"},ol={class:"d-flex justify-content-center"},ll=["onClick"],nl={class:"ml-auto my-1 mr-1"},dl=["onClick"],il=Fe(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),cl=[il],rl={class:"m-2 list-unstyled"},ul={key:1},_l={key:0,class:"list-group-item p-0"},ml={class:"d-flex justify-content-center"},pl=["onClick"],hl={class:"ml-auto my-1 mr-1"},vl=["onClick"],bl=Fe(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),fl=[bl],$l={key:1,class:"mt-2 text-center"},gl=Fe(()=>e("span",null,"No Site",-1)),yl=[gl],kl={class:"input-group"},wl=Fe(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),xl={__name:"UpdateSetting",setup(o){const k=`${be().name}`,_=i([]),d=me(),r=i(!0),u=i([]),h=i(!1),U=i(),l=Qe("$swal"),A=i({id:"",site_name:"",is_active:""}),f=()=>{h.value=!0,axios.get("/api/site").then(Y=>{h.value=!1,u.value=Y.data}).catch(Y=>{console.log(Y)})},C=Se(()=>Array.isArray(u.value)?u.value.filter(Y=>Y.is_active===0):[]),n=Se(()=>C.value.length),x=()=>{r.value=!r.value},N=()=>{var Y,m;h.value=!0,axios.post("/api/site",{id:(Y=A.value)==null?void 0:Y.id,site_name:(m=A.value)==null?void 0:m.site_name,is_active:!0}).then(w=>{f(),A.value={id:null,site_name:"",is_active:!0},d.success(w.data.message),h.value=!1}).catch(w=>{w.response&&w.response.status===422&&(B.value=w.response.data.errors)})},W=Y=>{A.value.is_active=Y.is_active===1?0:1,axios.post("/api/site",{id:Y.id,site_name:Y.site_name,is_active:A.value.is_active}).then(m=>{axios.get("/api/site").then(w=>{u.value=w.data}).catch(w=>{console.error("Error fetching tasks:",w),d.error("Error fetching tasks. Please try again.")})}).catch(m=>{console.error("Error adding new task:",m),d.error("Error adding new task. Please try again.")})},Z=Y=>{if(Y.is_active===null||Y.is_active===0){l.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}A.value.id=Y.id,A.value.site_name=Y.site_name},ne=()=>{axios.get("/api/settings").then(Y=>{_.value=Y.data})},B=i(),M=()=>{B.value="",axios.post("/api/settings",_.value).then(Y=>{d.success("Settings updated successfully!")}).catch(Y=>{Y.response&&Y.response.status===422&&(B.value=Y.response.data.errors)})};return ue(()=>{f(),ne(),document.title=k}),(Y,m)=>(s(),a("div",Po,[e("div",Fo,[e("div",Lo,[e("div",Io,[e("div",qo,[Yo,e("div",No,[e("div",Bo,[e("form",{onSubmit:m[3]||(m[3]=ee(w=>M(),["prevent"]))},[e("div",Ro,[e("div",Ho,[jo,J(e("input",{"onUpdate:modelValue":m[0]||(m[0]=w=>_.value.app_name=w),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[re,_.value.app_name]]),B.value&&B.value.app_name?(s(),a("span",Oo,t(B.value.app_name[0]),1)):P("",!0)]),e("div",zo,[Go,J(e("select",{"onUpdate:modelValue":m[1]||(m[1]=w=>_.value.date_format=w),class:"form-control"},Qo,512),[[Te,_.value.date_format]]),B.value&&B.value.date_format?(s(),a("span",Ko,t(B.value.date_format[0]),1)):P("",!0)]),e("div",Xo,[Jo,J(e("input",{"onUpdate:modelValue":m[2]||(m[2]=w=>_.value.pagination_limit=w),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[re,_.value.pagination_limit]]),B.value&&B.value.pagination_limit?(s(),a("span",Zo,t(B.value.pagination_limit[0]),1)):P("",!0)])]),el],32)]),e("div",tl,[u.value.length>0?(s(),a("div",sl,[h.value?(s(),ie(Ae,{key:0})):P("",!0),(s(!0),a(z,null,K(u.value,w=>(s(),a("ul",{class:"list-group",key:w.id},[w.is_active===1?(s(),a("li",al,[e("div",ol,[e("div",null,[e("span",{class:D({"btn font-italic text-red":w.is_active===0,btn:w.is_active===1})},[e("i",{onClick:H=>W(w),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":w.is_active===1,"fa fa-circle text-primary":w.is_active===0}),style:{"font-size":"15px"}},null,10,ll),I(" "+t(w.site_name),1)],2)]),e("div",nl,[e("button",{onClick:H=>Z(w),class:"btn btn-outline"},cl,8,dl)])])])):P("",!0)]))),128)),e("li",rl,[n.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:x},[e("i",{class:D(["fa",r.value?"fa-arrow-down":"fa-arrow-right"])},null,2),I(" \xA0Deactive List "+t(n.value),1)])):P("",!0)]),r.value?(s(),a("div",ul,[(s(!0),a(z,null,K(u.value,w=>(s(),a("ul",{class:"list-group",key:w.id},[w.is_active===0?(s(),a("li",_l,[e("div",ml,[e("div",null,[e("span",{class:D({"btn font-italic text-red":w.is_active===0,btn:w.is_active===1})},[e("i",{onClick:H=>W(w),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":w.is_active===1,"fa fa-circle text-primary":w.is_active===0}),style:{"font-size":"15px"}},null,10,pl),e("del",null,t(w.site_name),1)],2)]),e("div",hl,[e("button",{onClick:H=>Z(w),class:"btn btn-outline"},fl,8,vl)])])])):P("",!0)]))),128))])):P("",!0)])):(s(),a("div",$l,yl)),g(c(Ce),{ref:"form",onSubmit:N,"initial-values":U.value},{default:X(()=>[g(c(R),{name:"id",modelValue:A.value.id,"onUpdate:modelValue":m[4]||(m[4]=w=>A.value.id=w),type:"text",hidden:""},null,8,["modelValue"]),e("div",kl,[g(c(R),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:A.value.site_name,"onUpdate:modelValue":m[5]||(m[5]=w=>A.value.site_name=w),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),wl])]),_:1},8,["initial-values"])])])])])])])]))}};var Cl=ge(xl,[["__scopeId","data-v-9bd7df0a"]]);const Sl={class:"content"},Dl={class:"container-fluid"},Ul={class:"row"},Vl={class:"col-md-3"},Ml={class:"card card-primary card-outline"},Al={class:"card-body box-profile"},El={class:"text-center"},Tl=["src"],Pl={class:"profile-username text-center"},Fl={class:"text-muted text-center"},Ll={class:"col-md-9"},Il={class:"card"},ql=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Yl={class:"card-body"},Nl={class:"tab-content"},Bl={class:"tab-pane active",id:"profile"},Rl={class:"form-group row"},Hl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),jl={class:"col-sm-10"},Ol={key:0,class:"text-danger text-sm"},zl={class:"form-group row"},Gl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Wl={class:"col-sm-10"},Ql={key:0,class:"text-danger text-sm"},Kl={class:"form-group row"},Xl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Jl={class:"col-sm-10"},Zl={key:0,class:"text-danger text-sm"},en={class:"form-group row"},tn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),sn={class:"col-sm-10"},an={key:0,class:"text-danger text-sm"},on=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),I(" Save Changes")])])],-1),ln={class:"tab-pane",id:"changePassword"},nn={class:"form-group row"},dn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),cn={class:"col-sm-9"},rn={key:0,class:"text-danger text-sm"},un={class:"form-group row"},_n=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),mn={class:"col-sm-9"},pn={key:0,class:"text-danger text-sm"},hn={class:"form-group row"},vn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),bn={class:"col-sm-9"},fn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),I(" Save Changes")])])],-1),$n={__name:"UpdateProfile",setup(o){const k=_e(),_=me(),d=`${be().name}`,r=i([]),u=()=>{axios.put("/api/profile",{name:k.user.name,first_name:k.user.first_name,last_name:k.user.last_name,email:k.user.email,role:k.user.role}).then(C=>{_.success("Profile updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(r.value=C.response.data.errors)})},h=Ve({currentPassword:"",password:"",passwordConfirmation:""}),U=()=>{r.value="",axios.post("/api/change-user-password",h).then(C=>{_.success(C.data.message);for(const n in h)h[n]=""}).catch(C=>{C.response&&C.response.status===422&&(r.value=C.response.data.errors)})},l=i(null),A=()=>{l.value.click()},f=C=>{const n=C.target.files[0];k.user.avatar=URL.createObjectURL(n);const x=new FormData;x.append("profile_picture",n),axios.post("/api/upload-profile-image",x).then(N=>{_.success("Image uploaded successfully!")})};return ue(()=>{document.title=d}),(C,n)=>(s(),a("div",Sl,[e("div",Dl,[e("div",Ul,[e("div",Vl,[e("div",Ml,[e("div",Al,[e("div",El,[e("input",{onChange:f,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:A,class:"profile-user-img img-circle",src:c(k).user.avatar,alt:"User profile picture"},null,8,Tl)]),e("h3",Pl,t(c(k).user.name),1),e("p",Fl,t(c(k).user.role),1)])])]),e("div",Ll,[e("div",Il,[ql,e("div",Yl,[e("div",Nl,[e("div",Bl,[e("form",{onSubmit:n[4]||(n[4]=ee(x=>u(),["prevent"])),class:"form-horizontal"},[e("div",Rl,[Hl,e("div",jl,[J(e("input",{"onUpdate:modelValue":n[0]||(n[0]=x=>c(k).user.name=x),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[re,c(k).user.name]]),r.value&&r.value.name?(s(),a("span",Ol,t(r.value.name[0]),1)):P("",!0)])]),e("div",zl,[Gl,e("div",Wl,[J(e("input",{"onUpdate:modelValue":n[1]||(n[1]=x=>c(k).user.first_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[re,c(k).user.first_name]]),r.value&&r.value.first_name?(s(),a("span",Ql,t(r.value.first_name[0]),1)):P("",!0)])]),e("div",Kl,[Xl,e("div",Jl,[J(e("input",{"onUpdate:modelValue":n[2]||(n[2]=x=>c(k).user.last_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[re,c(k).user.last_name]]),r.value&&r.value.last_name?(s(),a("span",Zl,t(r.value.last_name[0]),1)):P("",!0)])]),e("div",en,[tn,e("div",sn,[J(e("input",{"onUpdate:modelValue":n[3]||(n[3]=x=>c(k).user.email=x),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[re,c(k).user.email]]),r.value&&r.value.email?(s(),a("span",an,t(r.value.email[0]),1)):P("",!0)])]),on],32)]),e("div",ln,[e("form",{onSubmit:ee(U,["prevent"]),class:"form-horizontal"},[e("div",nn,[dn,e("div",cn,[J(e("input",{"onUpdate:modelValue":n[5]||(n[5]=x=>h.currentPassword=x),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[re,h.currentPassword]]),r.value&&r.value.current_password?(s(),a("span",rn,t(r.value.current_password[0]),1)):P("",!0)])]),e("div",un,[_n,e("div",mn,[J(e("input",{"onUpdate:modelValue":n[6]||(n[6]=x=>h.password=x),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[re,h.password]]),r.value&&r.value.password?(s(),a("span",pn,t(r.value.password[0]),1)):P("",!0)])]),e("div",hn,[vn,e("div",bn,[J(e("input",{"onUpdate:modelValue":n[7]||(n[7]=x=>h.passwordConfirmation=x),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[re,h.passwordConfirmation]])])]),fn],32)])])])])])])])]))}};const Ye=o=>(De("data-v-5c930933"),o=o(),Ue(),o),gn={class:"login-box"},yn={class:"card card-outline card-primary"},kn=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),wn={class:"card-body"},xn={key:0,class:"alert alert-danger",role:"alert"},Cn={class:"input-group mb-3"},Sn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Dn={class:"input-group mb-3"},Un=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Vn=["type"],Mn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},An=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),En={class:"row"},Tn={class:"col-12 mb-2"},Pn=["disabled"],Fn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Ln=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),In=[Ln],qn={key:1},Yn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Nn="Login",Bn={__name:"Login",setup(o){const k=i(!1),_=me();_e();const d=We(),r=Ve({email:"",password:""}),u=i(!1),h=i(""),U=()=>{u.value=!0,h.value="",F.post("/login",r).then(()=>{d.push("/"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{u.value=!1})};return ue(()=>{document.title=Nn}),(l,A)=>(s(),a("div",gn,[e("div",yn,[kn,e("div",wn,[h.value?(s(),a("div",xn,t(h.value),1)):P("",!0),e("form",{onSubmit:ee(U,["prevent"])},[e("div",Cn,[Sn,J(e("input",{"onUpdate:modelValue":A[0]||(A[0]=f=>r.email=f),type:"email",class:"form-control",placeholder:"Email"},null,512),[[re,r.email]])]),e("div",Dn,[Un,J(e("input",{"onUpdate:modelValue":A[1]||(A[1]=f=>r.password=f),class:"form-control",placeholder:"Password",type:k.value?"text":"password",onClick:A[2]||(A[2]=(...f)=>l.handleKeyClick&&l.handleKeyClick(...f))},null,8,Vn),[[et,r.password]])]),e("label",Mn,[J(e("input",{type:"checkbox","onUpdate:modelValue":A[3]||(A[3]=f=>k.value=f)},null,512),[[Me,k.value]]),I(" Show Password ")]),An,e("div",En,[e("div",Tn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:u.value},[u.value?(s(),a("div",Fn,In)):(s(),a("span",qn,"Sign In"))],8,Pn)])])],32),Yn])])]))}};var Rn=ge(Bn,[["__scopeId","data-v-5c930933"]]);const Hn=["checked"],jn=e("i",{class:"fa fa-edit"},null,-1),On=[jn],zn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Gn=[zn],Wn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){me();const _=o,d=k,r=()=>{d("toggleSelection",_.item)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Hn)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.first_name)+" "+t(o.item.last_name),1),e("td",null,t(o.item.email),1),e("td",null,t(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:h[0]||(h[0]=ee(U=>u.$emit("editUser",o.item),["prevent"]))},On),e("a",{href:"#",onClick:h[1]||(h[1]=ee(U=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Gn)])]))}},Qn={class:"content"},Kn={class:"container-fluid"},Xn={class:"d-flex justify-content-between"},Jn={class:"d-flex"},Zn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ed={key:0},td=e("i",{class:"fa fa-trash mr-1"},null,-1),sd={class:"ml-2"},ad={class:"card"},od={class:"card-body"},ld={class:"table table-bordered"},nd=e("th",{style:{width:"10px"}},"#",-1),dd=e("th",null,"Name",-1),id=e("th",null,"Email",-1),cd=e("th",null,"Registered Date",-1),rd=e("th",null,"Options",-1),ud={key:0},_d={key:1},md=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),pd=[md],hd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vd={class:"modal-dialog",role:"document"},bd={class:"modal-content"},fd={class:"modal-header"},$d={class:"modal-title",id:"staticBackdropLabel"},gd={key:0},yd={key:1},kd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),wd={class:"modal-body"},xd={class:"form-group"},Cd=e("label",{for:"fist_name"},"First Name",-1),Sd={class:"invalid-feedback"},Dd={class:"form-group"},Ud=e("label",{for:"last_name"},"Last Name",-1),Vd={class:"invalid-feedback"},Md={class:"form-group"},Ad=e("label",{for:"email"},"Email",-1),Ed={class:"invalid-feedback"},Td=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Pd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Fd={class:"modal-dialog",role:"document"},Ld={class:"modal-content"},Id=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),qd={class:"modal-footer"},Yd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Nd={__name:"ClientList",setup(o){const k=me(),_=i({data:[]}),d=i(!1),r=i(),u=i(null),h=(H=1)=>{F.get(`/api/clients?page=${H}`,{params:{query:N.value}}).then(ae=>{_.value=ae.data,W.value=[],m.value=!1})},U=ke({first_name:q().required(),last_name:q().required(),email:q().email().required()}),l=ke({first_name:q().required(),last_name:q().required(),email:q().email().required()}),A=(H,{resetForm:ae,setErrors:Q})=>{F.post("/api/clients",H).then(pe=>{_.value.data.unshift(pe.data),$("#clientFormModal").modal("hide"),ae(),k.success("User created successfully!")}).catch(pe=>{pe.response.data.errors&&Q(pe.response.data.errors)})},f=()=>{d.value=!1,$("#clientFormModal").modal("show")},C=H=>{d.value=!0,u.value.resetForm(),$("#clientFormModal").modal("show"),r.value={id:H.id,first_name:H.first_name,last_name:H.last_name,email:H.email}},n=(H,{setErrors:ae})=>{F.put("/api/clients/"+r.value.id,H).then(Q=>{const pe=_.value.data.findIndex(G=>G.id===Q.data.id);_.value.data[pe]=Q.data,$("#clientFormModal").modal("hide"),k.success("Client updated successfully!")}).catch(Q=>{ae(Q.response.data.errors),console.log(Q)})},x=(H,ae)=>{d.value?n(H,ae):A(H,ae)},N=i(null),W=i([]),Z=H=>{const ae=W.value.indexOf(H.id);ae===-1?W.value.push(H.id):W.value.splice(ae,1),console.log(W.value)},ne=i(null),B=H=>{ne.value=H,$("#deleteClientModal").modal("show")},M=()=>{F.delete(`/api/clients/${ne.value}`).then(()=>{$("#deleteClientModal").modal("hide"),k.success("Client deleted successfully!"),_.value.data=_.value.data.filter(H=>H.id!==ne.value)})},Y=()=>{F.delete("/api/clients",{data:{ids:W.value}}).then(H=>{_.value.data=_.value.data.filter(ae=>!W.value.includes(ae.id)),W.value=[],m.value=!1,k.success(H.data.message)})},m=i(!1),w=()=>{m.value?W.value=_.value.data.map(H=>H.id):W.value=[],console.log(W.value)};return ve(N,Ee.exports.debounce(()=>{h()},300)),ue(()=>{h()}),(H,ae)=>(s(),a(z,null,[e("div",Qn,[e("div",Kn,[e("div",Xn,[e("div",Jn,[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-primary"},[Zn,I(" Add New Client ")]),W.value.length>0?(s(),a("div",ed,[e("button",{onClick:Y,type:"button",class:"ml-2 mb-2 btn btn-danger"},[td,I(" Delete Selected ")]),e("span",sd,"Selected "+t(W.value.length)+" clients",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":ae[0]||(ae[0]=Q=>N.value=Q),class:"form-control",placeholder:"Search..."},null,512),[[re,N.value]])])]),e("div",ad,[e("div",od,[e("table",ld,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":ae[1]||(ae[1]=Q=>m.value=Q),onChange:w},null,544),[[Me,m.value]])]),nd,dd,id,cd,rd])]),_.value.data.length>0?(s(),a("tbody",ud,[(s(!0),a(z,null,K(_.value.data,(Q,pe)=>(s(),ie(Wn,{key:Q.id,item:Q,index:pe,onEditUser:C,onConfirmUserDeletion:B,onToggleSelection:Z,"select-all":m.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",_d,pd))])])]),g(c(Le),{data:_.value,onPaginationChangePage:h},null,8,["data"])])]),e("div",hd,[e("div",vd,[e("div",bd,[e("div",fd,[e("h5",$d,[d.value?(s(),a("span",gd,"Edit Client")):(s(),a("span",yd,"Add New Client"))]),kd]),g(c(Ce),{ref_key:"form",ref:u,onSubmit:x,"validation-schema":d.value?c(l):c(U),"initial-values":r.value},{default:X(({errors:Q})=>[e("div",wd,[e("div",xd,[Cd,g(c(R),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":Q.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Sd,t(Q.first_name),1)]),e("div",Dd,[Ud,g(c(R),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":Q.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Vd,t(Q.last_name),1)]),e("div",Md,[Ad,g(c(R),{name:"email",type:"email",class:D(["form-control",{"is-invalid":Q.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ed,t(Q.email),1)])]),Td]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Pd,[e("div",Fd,[e("div",Ld,[Id,e("div",qd,[Yd,e("button",{onClick:ee(M,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Ke=o=>(De("data-v-36595330"),o=o(),Ue(),o),Bd={style:{"text-align":"center"}},Rd={key:0},Hd=Ke(()=>e("i",{class:"fa fa-edit"},null,-1)),jd=[Hd],Od=Ke(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),zd=[Od],Gd={key:1,style:{"text-align":"center"}},Wd={key:0},Qd=Ke(()=>e("i",{class:"fa fa-edit"},null,-1)),Kd=[Qd],Xd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:k}){me();const _=_e();return(d,r)=>{const u=$e("router-link");return s(),a("tr",null,[e("td",null,t(o.item.recommnum),1),e("td",null,t(o.item.user),1),e("td",null,t(o.item.branch),1),e("td",null,t(o.item.department),1),e("td",null,t(o.item.created_user),1),e("td",Bd,[o.item.statusid==2?(s(),ie(u,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:D(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)]),_:1},8,["to"])):P("",!0),o.item.statusid!=2?(s(),a("span",{key:1,class:D(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)):P("",!0)]),e("td",null,t(o.item.created_at),1),c(_).user.role==="ADMIN"?(s(),a("td",Rd,[e("a",{href:"#",onClick:r[0]||(r[0]=ee(h=>d.$emit("editUser",o.item),["prevent"]))},jd),e("a",{href:"#",onClick:r[1]||(r[1]=ee(h=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},zd)])):P("",!0),c(_).user.role==="USER"?(s(),a("td",Gd,[o.item.statusid!=2?(s(),a("div",Wd,[o.item.created_by==c(_).user.id?(s(),a("a",{key:0,href:"#",onClick:r[2]||(r[2]=ee(h=>d.$emit("editUser",o.item),["prevent"]))},Kd)):P("",!0)])):P("",!0)])):P("",!0)])}}};var Jd=ge(Xd,[["__scopeId","data-v-36595330"]]);const Zd={class:"content"},ei={class:"container-fluid"},ti={class:"d-flex justify-content-between"},si={class:"d-flex"},ai=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),oi={key:0},li=e("i",{class:"fa fa-trash mr-1"},null,-1),ni={class:"ml-2"},di={class:"card"},ii={class:"card-body"},ci={class:"dispatch-table"},ri={class:"table-responsive"},ui={class:"table table-bordered table-sm"},_i=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),mi={key:0},pi={key:1},hi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),vi=[hi],bi=["item","index"],fi={class:"card"},$i={class:"card-body"},gi={class:"list-field"},yi=e("span",{class:"mb-1 dis"},"Tech #:",-1),ki={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"User:",-1),xi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"Branch:",-1),Si={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Department:",-1),Ui={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Created by:",-1),Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Status:",-1),Ei={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"Created Date:",-1),Pi=e("hr",null,null,-1),Fi={class:"row"},Li={key:0,class:"col"},Ii=["onClick"],qi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Yi=["onClick"],Ni=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),I(" Remove ")],-1),Bi=[Ni],Ri={key:0,class:"btn btnsm btn-success btn-block"},Hi=e("i",{class:"fa fa-pencil-square-o"},null,-1),ji={key:1,class:"col"},Oi={key:0},zi=["onClick"],Gi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Wi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qi={class:"modal-dialog modal-lg",role:"document"},Ki={class:"modal-content"},Xi={class:"modal-header"},Ji={class:"modal-title",id:"staticBackdropLabel"},Zi={key:0},ec={key:1},tc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),sc={class:"modal-body"},ac={class:"col-md-12"},oc={class:"row"},lc={class:"col-6"},nc={class:"form-group"},dc=e("label",{for:"branch"},"Branch",-1),ic=e("option",{value:"",disabled:""}," Select Branch ",-1),cc=["value"],rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"department"},"Department",-1),mc={class:"invalid-feedback"},pc={class:"form-group"},hc=e("label",{for:"warehouse"},"warehouse",-1),vc={class:"invalid-feedback"},bc={class:"form-group"},fc=e("label",{for:"user"},"User",-1),$c={class:"invalid-feedback"},gc={class:"col-6"},yc={class:"form-group"},kc=e("label",{for:"brand"},"Brand",-1),wc={class:"form-group"},xc=e("label",{for:"model"},"Model",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"assettag"},"Asset tag",-1),Uc={class:"invalid-feedback"},Vc={class:"form-group"},Mc=e("label",{for:"serialnum"},"Serial number",-1),Ac={class:"invalid-feedback"},Ec={class:"col-12"},Tc={class:"form-group"},Pc=e("label",{for:"problem"},"Report Problem",-1),Fc={class:"invalid-feedback"},Lc={class:"form-group"},Ic=e("label",{for:"assconducted"},"Assessment conducted",-1),qc={class:"invalid-feedback"},Yc={class:"form-group"},Nc=e("label",{for:"recommendation"},"Recommendation",-1),Bc={class:"invalid-feedback"},Rc={class:"modal-footer"},Hc={key:0},jc={key:0,class:"btn-group float-l ml-auto"},Oc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),zc={class:"dropdown-menu",role:"menu"},Gc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Wc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Qc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Kc={class:"modal-dialog",role:"document"},Xc={class:"modal-content"},Jc=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Zc={class:"modal-footer"},er=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),tr={__name:"TechList",setup(o){const k=i(),_=i(),d=me(),r=i({data:[]});i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=`${be().name}`,h=()=>{F.get("/api/getsite").then(b=>{_.value=b.data.sites}).catch(b=>{console.log(b)})},U=i(!1),l=i(!1),A=i(),f=Ve({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),C=_e();i(null);const n=(b=1)=>{U.value=!0,F.get(`/api/tech-recommendations?page=${b}`,{params:{query:m.value}}).then(y=>{U.value=!1,r.value=y.data,w.value=[],S.value=!1})},x=ke({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),N=ke({branch:q().required(),department:q().required(),user:q().required(),problem:q().required(),assconducted:q().required(),brand:q().required()}),W=(b,{resetForm:y,setErrors:te})=>{F.post("/api/tech-recommendations",b).then(de=>{r.value.data.unshift(de.data),$("#FormModal").modal("hide"),y(),d.success("Data created successfully!")}).catch(de=>{de.response.data.errors&&te(de.response.data.errors)})},Z=()=>{l.value=!1,$("#FormModal").modal("show")},ne=()=>{f.id="",f.recommnum="",f.branch="",f.department="",f.warehouse="",f.user="",f.problem="",f.brand="",f.model="",f.assettag="",f.serialnum="",f.assconducted="",f.recommendation="",f.ceated_by=""},B=b=>{k.value=b.id,l.value=!0,ne(),f.id=b.id,f.branch=b.branch,f.department=b.department,f.warehouse=b.warehouse,f.user=b.user,f.problem=b.problem,f.brand=b.brand,f.model=b.model,f.assettag=b.assettag,f.serialnum=b.serialnum,f.assconducted=b.assconducted,f.recommendation=b.recommendation,f.ceated_by=b.ceated_by,f.recommnum=b.recommnum,$("#FormModal").modal("show")},M=(b,{setErrors:y})=>{F.put("/api/tech-recommendations/"+b.id,b).then(te=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(te=>{y(te.response.data.errors),console.log(te)})},Y=(b,y)=>{l.value?M(f,y):W(b,y)},m=i(null),w=i([]),H=b=>{const y=w.value.indexOf(b.id);y===-1?w.value.push(b.id):w.value.splice(y,1),console.log(w.value)},ae=i(null),Q=b=>{ae.value=b,$("#deleteClientModal").modal("show")},pe=()=>{F.delete(`/api/tech-recommendations/${ae.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),r.value.data=r.value.data.filter(b=>b.id!==ae.value)})},G=()=>{F.delete("/api/tech-recommendations",{data:{ids:w.value}}).then(b=>{r.value.data=r.value.data.filter(y=>!w.value.includes(y.id)),w.value=[],S.value=!1,d.success(b.data.message)})},L=b=>{F.post("/api/tech-getaction",{id:k.value,status:b}).then(y=>{$("#FormModal").modal("hide"),n()}).catch(y=>{console.log(y.message)})},S=i(!1);return ve(m,Ee.exports.debounce(()=>{n()},300)),ue(()=>{n(),h(),document.title=u}),(b,y)=>{const te=$e("font"),de=$e("router-link");return s(),a(z,null,[e("div",Zd,[e("div",ei,[e("div",ti,[e("div",si,[e("button",{onClick:Z,type:"button",class:"mb-2 btn btn-primary"},[ai,I(" TechRecom ")]),w.value.length>0?(s(),a("div",oi,[e("button",{onClick:G,type:"button",class:"ml-2 mb-2 btn btn-danger"},[li,I(" Delete Selected ")]),e("span",ni,"Selected "+t(w.value.length)+" techrecomm",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=V=>m.value=V),class:"form-control",placeholder:"Search..."},null,512),[[re,m.value]])])]),e("div",di,[e("div",ii,[U.value?(s(),ie(Ae,{key:0})):P("",!0),e("div",ci,[e("div",ri,[g(te,{size:"2"},{default:X(()=>[e("table",ui,[_i,r.value.data.length>0?(s(),a("tbody",mi,[(s(!0),a(z,null,K(r.value.data,(V,T)=>(s(),ie(Jd,{key:V.id,item:V,index:T,onEditUser:B,onShowItem:b.viewItem,onConfirmUserDeletion:Q,onToggleSelection:H,"select-all":S.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",pi,vi))])]),_:1})])]),(s(!0),a(z,null,K(r.value.data,(V,T)=>(s(),a("div",{class:"dispatch-list",key:V.id,item:V,index:T},[e("div",fi,[e("div",$i,[e("div",gi,[yi,e("span",null,[e("b",null,t(V.recommnum),1)])]),e("div",ki,[wi,e("span",null,t(V.user),1)]),e("div",xi,[Ci,e("span",null,t(V.branch),1)]),e("div",Si,[Di,e("span",null,t(V.department),1)]),e("div",Ui,[Vi,e("span",null,t(V.created_user),1)]),e("div",Mi,[Ai,V.statusid==2?(s(),ie(de,{key:0,to:`/admin/tech-approved/${V.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:D(["badge",`badge-${V.status.color}`])},t(V.status.name),3)]),_:2},1032,["to"])):P("",!0),V.statusid!=2?(s(),a("span",{key:1,class:D(["badge",`badge-${V.status.color}`])},t(V.status.name),3)):P("",!0)]),e("div",Ei,[Ti,e("span",null,t(V.created_at),1)]),Pi,e("div",Fi,[c(C).user.role==="ADMIN"?(s(),a("div",Li,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>B(V)},[qi,I(" Edit ")],8,Ii),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>Q(V.id)},Bi,8,Yi),V.statusid==2?(s(),a("button",Ri,[Hi,I(" Download ")])):P("",!0)])):P("",!0),c(C).user.role==="USER"?(s(),a("div",ji,[V.statusid!=2?(s(),a("div",Oi,[V.created_by==c(C).user.id?(s(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>B(V)},[Gi,I(" Edit ")],8,zi)):P("",!0)])):P("",!0)])):P("",!0)])])])],8,bi))),128))])]),g(c(Le),{data:r.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Wi,[e("div",Qi,[e("div",Ki,[e("div",Xi,[e("h5",Ji,[l.value?(s(),a("span",Zi,"Edit Tech Recom.")):(s(),a("span",ec,"Add New Tech Recom."))]),tc]),g(c(Ce),{onSubmit:Y,"validation-schema":l.value?c(N):c(x),"initial-values":A.value},{default:X(({errors:V})=>[e("div",sc,[e("div",ac,[e("div",oc,[e("div",lc,[g(c(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(C).user.id,"onUpdate:modelValue":y[1]||(y[1]=T=>c(C).user.id=T)},null,8,["modelValue"]),g(c(R),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:f.recommnum,"onUpdate:modelValue":y[2]||(y[2]=T=>f.recommnum=T)},null,8,["modelValue"]),e("div",nc,[dc,g(c(R),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":V.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:f.branch,"onUpdate:modelValue":y[3]||(y[3]=T=>f.branch=T)},{default:X(()=>[ic,(s(!0),a(z,null,K(_.value,T=>(s(),a("option",{key:T.site_name,value:T.site_name},t(T.site_name),9,cc))),128))]),_:2},1032,["class","modelValue"]),e("span",rc,t(V.branch),1)]),e("div",uc,[_c,g(c(R),{name:"department",type:"text",class:D(["form-control",{"is-invalid":V.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:f.department,"onUpdate:modelValue":y[4]||(y[4]=T=>f.department=T)},null,8,["class","modelValue"]),e("span",mc,t(V.department),1)]),e("div",pc,[hc,g(c(R),{name:"warehouse",type:"text",class:D(["form-control",{"is-invalid":V.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:f.warehouse,"onUpdate:modelValue":y[5]||(y[5]=T=>f.warehouse=T)},null,8,["class","modelValue"]),e("span",vc,t(V.warehouse),1)]),e("div",bc,[fc,g(c(R),{name:"user",type:"text",class:D(["form-control",{"is-invalid":V.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:f.user,"onUpdate:modelValue":y[6]||(y[6]=T=>f.user=T)},null,8,["class","modelValue"]),e("span",$c,t(V.user),1)])]),e("div",gc,[e("div",yc,[kc,g(c(R),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:f.brand,"onUpdate:modelValue":y[7]||(y[7]=T=>f.brand=T)},null,8,["modelValue"])]),e("div",wc,[xc,g(c(R),{name:"model",type:"text",class:D(["form-control",{"is-invalid":V.model}]),id:"model",modelValue:f.model,"onUpdate:modelValue":y[8]||(y[8]=T=>f.model=T),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Cc,t(V.model),1)]),e("div",Sc,[Dc,g(c(R),{name:"assettag",type:"text",class:D(["form-control",{"is-invalid":V.assettag}]),id:"assettag",modelValue:f.assettag,"onUpdate:modelValue":y[9]||(y[9]=T=>f.assettag=T),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Uc,t(V.assettag),1)]),e("div",Vc,[Mc,J(e("input",{name:"serialnum",type:"text",class:D(["form-control",{"is-invalid":V.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":y[10]||(y[10]=T=>f.serialnum=T)},null,2),[[re,f.serialnum]]),e("span",Ac,t(V.serialnum),1)])]),e("div",Ec,[e("div",Tc,[Pc,g(c(R),{name:"problem",as:"textarea",class:D(["form-control",{"is-invalid":V.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:f.problem,"onUpdate:modelValue":y[11]||(y[11]=T=>f.problem=T)},null,8,["class","modelValue"]),e("span",Fc,t(V.problem),1)]),e("div",Lc,[Ic,g(c(R),{name:"assconducted",as:"textarea",class:D(["form-control",{"is-invalid":V.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:f.assconducted,"onUpdate:modelValue":y[12]||(y[12]=T=>f.assconducted=T)},null,8,["class","modelValue"]),e("span",qc,t(V.assconducted),1)]),e("div",Yc,[Nc,g(c(R),{name:"recommendation",as:"textarea",class:D(["form-control",{"is-invalid":V.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:f.recommendation,"onUpdate:modelValue":y[13]||(y[13]=T=>f.recommendation=T)},null,8,["class","modelValue"]),e("span",Bc,t(V.recommendation),1)])])])])]),e("div",Rc,[l.value?(s(),a("div",Hc,[c(C).user.role==="ADMIN"?(s(),a("div",jc,[e("button",{type:"button",onClick:y[14]||(y[14]=T=>L(2)),class:"btn btn-info"}," Approved "),Oc,e("div",zc,[e("span",{onClick:y[15]||(y[15]=T=>L(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:y[16]||(y[16]=T=>L(3)),class:"dropdown-item"},"Disapproved")])])):P("",!0)])):P("",!0),Gc,Wc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Qc,[e("div",Kc,[e("div",Xc,[Jc,e("div",Zc,[er,e("button",{onClick:ee(pe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Re=Ze("SettingStore",()=>{const o=i({app_name:""}),k=kt("SettingStore:theme",i("light"));return{setting:o,getSetting:async()=>{await F.get("/api/settings").then(r=>{o.value=r.data})},theme:k,changeTheme:()=>{k.value=k.value==="light"?"dark":"light"}}});const se=o=>(De("data-v-e7025706"),o=o(),Ue(),o),sr={class:"content"},ar={class:"container-fluid"},or={class:"card"},lr={class:"card-header"},nr={class:"card-title"},dr={class:"card-body"},ir={class:"col-md-12"},cr={class:"d-flex justify-content-between"},rr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ur={class:"d-flex"},_r={class:"col-12",id:"accordion"},mr={key:1},pr={key:0},hr={class:"card card-secondary"},vr={class:"card-body d-flex align-items-center justify-content-center"},br={class:"image-container"},fr=["src"],$r=se(()=>e("div",{class:"overlay"},null,-1)),gr={key:1},yr={class:"card-header bg-white"},kr={class:"card-title"},wr=["href"],xr=["src"],Cr={class:"card-tools"},Sr=["onClick"],Dr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ur=[Dr],Vr=["disabled","onClick"],Mr=["onClick"],Ar=["onClick"],Er=se(()=>e("p",{class:"float-right"},null,-1)),Tr=["id"],Pr={class:"card-body"},Fr={class:"col-md-12"},Lr={class:"dispatch-table"},Ir={class:"row"},qr={class:"col-4"},Yr=se(()=>e("b",null,"Site:",-1)),Nr=se(()=>e("b",null,"Planned Date:",-1)),Br=se(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},Hr=se(()=>e("b",null,"Start Date:",-1)),jr=se(()=>e("b",null,"Accomplished Date:",-1)),Or={class:"closestatus"},zr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Gr={class:"col-4"},Wr={class:"ongoing"},Qr=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),Kr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Xr=se(()=>e("b",null,"Remarks:",-1)),Jr={style:{margin:"0.5%"}},Zr=["disabled","onClick"],eu=["onClick","disabled"],tu={class:"dispatch-list"},su={class:"list-group list-group-flush"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u=se(()=>e("hr",null,null,-1)),gu={class:"row"},yu={class:"col"},ku=["onClick"],wu=se(()=>e("i",{class:"fas fa-pen"},null,-1)),xu=["onClick"],Cu=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),I(" Drop ")],-1)),Su=[Cu],Du={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uu={class:"modal-dialog modal-dialog-centered",role:"document"},Vu={class:"modal-content"},Mu={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Eu={key:0},Tu={key:1},Pu={key:2},Fu=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Lu={class:"modal-body"},Iu={class:"col-md-12"},qu={class:"row"},Yu={class:"col-12"},Nu={class:"form-group"},Bu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Hu=["value"],ju={key:0,class:"d-flex justify-content-between"},Ou={class:"d-flex"},zu={class:"form-group"},Gu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),Wu={class:"form-group"},Qu=se(()=>e("label",{for:"end-time"},"Hour",-1)),Ku=["value"],Xu=se(()=>e("div",{class:"d-fex"},null,-1)),Ju={key:1,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=se(()=>e("label",{for:"end-time"},"End Date",-1)),s_={class:"form-group"},a_=se(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=se(()=>e("div",{class:"d-fex"},null,-1)),n_={class:"form-group"},d_=se(()=>e("label",{for:"site"},"Type",-1)),i_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),c_=["value"],r_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),u_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},__={class:"modal-dialog modal-sm",role:"document"},m_={class:"modal-content"},p_={class:"modal-header"},h_={class:"modal-title",id:"staticBackdropLabel"},v_=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),b_={class:"modal-body"},f_=we('<ul class="nav nav-tabs" id="myTabs" data-v-e7025706><li class="nav-item" data-v-e7025706><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-e7025706> Todo List</a></li><li class="nav-item" data-v-e7025706><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-e7025706> Todo</a></li></ul>',1),$_={class:"tab-content"},g_={class:"tab-pane fade show active",id:"todolist"},y_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},k_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),w_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_={key:0,class:"list-group-item p-0"},C_={class:"d-flex justify-content-center"},S_=["onClick"],D_={class:"ml-auto my-1 mr-1"},U_=["onClick"],V_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),M_=[V_],A_={class:"mt-2 mb-2 list-unstyled"},E_={key:1},T_={key:0,class:"list-group-item p-0"},P_={class:"d-flex justify-content-center"},F_=["onClick"],L_={class:"ml-auto my-1 mr-1"},I_=["onClick"],q_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),Y_=[q_],N_={key:1,class:"mt-2 text-center"},B_=se(()=>e("span",null,"No Todo",-1)),R_=[B_],H_={class:"tab-pane fade",id:"formTask"},j_={class:"col-md-12"},O_={class:"row"},z_={class:"col-12"},G_={class:"m-2",style:{display:"flex","align-items":"center"}},W_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),I("\xA0Save ")])],-1)),Q_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K_={class:"modal-dialog",role:"document"},X_={class:"modal-content"},J_=we('<div class="modal-header" data-v-e7025706><h5 class="modal-title" id="staticBackdropLabel" data-v-e7025706><span data-v-e7025706>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-e7025706><span aria-hidden="true" data-v-e7025706>\xD7</span></button></div><div class="modal-body" data-v-e7025706><h5 data-v-e7025706>Are you sure you want to delete this record ?</h5></div>',2),Z_={class:"modal-footer"},em=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),tm={__name:"MyPrio",setup(o){const k=`${be().name}`,_=i(!1),d=i(!1),r=Qe("$swal");Re();const u=me(),h=i({data:[]}),U=i([]);i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const l=i();i();const A=i(!0),f=i(!1);i(!1),i();const C=i(),n=i(),x=i(),N=_e();i(null),i(!1);const W=i([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),Z=i(),ne=i("1:00 AM"),B=i(),M=i("1:00 AM"),Y=i(Array.from({length:24},(v,E)=>{const p=E%12+1,ce=E<12?"AM":"PM";return`${p}:00 ${ce}`})),m=i(Array.from({length:24},(v,E)=>{const p=E%12+1,ce=E<12?"AM":"PM";return`${p}:00 ${ce}`})),w=Ve({dailytask_id:"",site:"",user_id:N.user.id,tasktype:"",plandate:"",planenddate:"",enddates:""});ve([Z,ne],()=>{const v=new Date(Z.value),E=v.getFullYear(),p=String(v.getMonth()+1).padStart(2,"0"),ce=String(v.getDate()).padStart(2,"0");w.plandate=`${E}-${p}-${ce} ${ne.value}`}),ve([Z,M],()=>{const v=new Date(Z.value);v.getFullYear(),String(v.getMonth()+1).padStart(2,"0"),String(v.getDate()).padStart(2,"0")}),ve([B,M],()=>{const v=new Date(B.value),E=v.getFullYear(),p=String(v.getMonth()+1).padStart(2,"0"),ce=String(v.getDate()).padStart(2,"0");w.enddates=`${E}-${p}-${ce} ${M.value}`});const H=i({id:"",dailytask_id:"",task_name:"",iscompleted:0}),ae=()=>{F.get("/web/getsite").then(v=>{l.value=v.data.sites}).catch(v=>{console.log(v)})},Q=()=>{_.value=!0,F.get("/web/dailytask",{params:{query:O.value}}).then(v=>{_.value=!1,h.value=v.data,fe.value=[]})},pe=async v=>{(await r({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,F.put(`/web/dailytask/drop/${v}`).then(p=>{u.success("Data drop successfully!"),_.value=!1,Q()}))},G=()=>{$("#FormModalTask").modal("show")},L=v=>{G(),H.value.dailytask_id=v.dailytask_id,n.value=v.taskdate,x.value=v.startdate,d.value=!0,F.get(`/web/dailytask/${v.dailytask_id}/tasks`).then(E=>{U.value=E.data,G(),d.value=!1}).catch(E=>{console.error("Error fetching tasks:",E)})},S=()=>{d.value=!0,F.post("/web/dailytask/addnewTask",{dailytask_id:H.value.dailytask_id,task_name:H.value.task_name,iscompleted:H.value.iscompleted}).then(v=>{u.success("Data created successfully!"),F.get(`/web/dailytask/${H.value.dailytask_id}/tasks`).then(E=>{U.value=E.data,d.value=!1}).catch(E=>{console.error("Error fetching tasks:",E),u.error("Error fetching tasks. Please try again.")}),H.value.task_name=""}).catch(v=>{console.error("Error adding new task:",v),u.error("Error adding new task. Please try again.")})},b=v=>{H.value.iscompleted=v.iscompleted===1?0:1,F.post("/web/dailytask/addnewTask",{id:v.id,dailytask_id:v.dailytask_id,task_name:v.task_name,iscompleted:H.value.iscompleted}).then(E=>{F.get(`/web/dailytask/${v.dailytask_id}/tasks`).then(p=>{U.value=p.data}).catch(p=>{console.error("Error fetching tasks:",p),u.error("Error fetching tasks. Please try again.")})}).catch(E=>{console.error("Error adding new task:",E),u.error("Error adding new task. Please try again.")})},y=Se(()=>Array.isArray(U.value)?U.value.filter(v=>v.iscompleted===1):[]),te=Se(()=>y.value.length),de=()=>{A.value=!A.value},V=v=>{F.delete(`/web/dailytask/deleteTask/${v.id}`).then(E=>{F.get(`/web/dailytask/${v.dailytask_id}/tasks`).then(p=>{U.value=p.data,u.success("Todo successfull Deleted")}).catch(p=>{console.error("Error fetching tasks:",p),u.error("Error fetching tasks. Please try again.")})}).catch(E=>{console.error("Error adding new task:",E),u.error("Error adding new task. Please try again.")})};ke({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()}),ke({site:q().required(),tasktype:q().required(),plandate:q().required(),planenddate:q().required()});const T=(v,E)=>{F.post("/web/dailytask",w).then(p=>{Q(),$("#FormModal").modal("hide"),u.success("data created successfully!")}).catch(p=>{E.setErrors(p.response.data.errors)})},Ie=(v,E)=>{F.put("/web/dailytask/"+w.dailytask_id,w).then(p=>{console.log(p.data),Q(),$("#FormModal").modal("hide"),u.success("data update successfully!")}).catch(p=>{E.setErrors(p.response.data.errors)})},Be=v=>{v&&v.dailytask_id!==null&&v.dailytask_id!==void 0?(f.value=!0,C.value=" on "+he(v.taskdate).format("MMMM D, YYYY"),w.site=v.site_name,w.dailytask_id=v.dailytask_id,w.plandate=v.plandate,w.planenddate=v.planenddate,w.tasktype=v.tasktype,console.log(v.site_name),console.log(v.tasktype)):f.value=!1,ae(),$("#FormModal").modal("show")},Oe=(v,E)=>{f.value?Ie(v,E):T(v,E)},qe=async v=>{if((await r.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const p=await F.put("/web/dailytask/onTashHoliday/"+v.dailytask_id,v);u.success(p.data.message),Q()}},ze=async v=>{try{const E=await F.get(`/web/dailytask/${v.dailytask_id}/tasks`);if(U.value=E.data,!U.value||U.value.length===0){r.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await r.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ce=await F.put("/web/dailytask/onhandler/"+v.dailytask_id,v);u.success(ce.data.message),Q()}}catch(E){console.error("Error fetching tasks:",E),u.error("An error occurred while updating the task.")}},j=async v=>{if((await r({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{he(v.taskdate).format("YYYY-MM-DD")===he().format("YYYY-MM-DD")?(v.remarks="HIT",v.status="On Schedule"):(v.remarks="MISS",v.status="Behind Schedule");const ce=await F.put("/web/dailytask/onhandler/"+v.dailytask_id,v);u.success(ce.data.message),Q()}catch(p){console.error(p),u.error("An error occurred while updating the task.")}},O=i(null),fe=i([]);return i(null),ve(O,Ee.exports.debounce(()=>{Q()},300)),ue(()=>{tt(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),Q(),document.title=k}),(v,E)=>(s(),a(z,null,[e("div",sr,[e("div",ar,[e("div",or,[e("div",lr,[e("div",nr,t(c(N).user.first_name+" "+c(N).user.last_name)+" - My Prio ",1)]),e("div",dr,[e("div",ir,[e("div",cr,[e("div",{class:"d-flex"},[e("button",{onClick:Be,type:"button",class:"mb-2 btn btn-primary"},[rr,I(" Task ")])]),e("div",ur,[J(e("input",{type:"text","onUpdate:modelValue":E[0]||(E[0]=p=>O.value=p),class:"form-control",placeholder:"Search..."},null,512),[[re,O.value]])])]),e("div",_r,[_.value?(s(),ie(Ae,{key:0})):(s(),a("div",mr,[h.value.length===0?(s(),a("div",pr,[e("div",hr,[e("div",vr,[e("div",br,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,fr),$r])])])])):(s(),a("div",gr,[(s(!0),a(z,null,K(h.value,p=>(s(),a("div",{class:"card card-primary",key:p.id},[e("div",yr,[e("h4",kr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+p.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,xr),I(" \xA0"),e("b",null,t(c(he)(p.taskdate).format("MMMM D, YYYY")+" - "+p.site_name),1)],8,wr)]),e("div",Cr,[p.tasktypeid&&p.tasktypeid!==6?(s(),a("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ce=>L(p)},Ur,8,Sr)):P("",!0),!p.enddate&&p.tasktypeid!==6?(s(),a("button",{key:1,disabled:p.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ce=>j(p)}," End ",8,Vr)):P("",!0),p.tasktypeid&&p.tasktypeid===6?(s(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ce=>qe(p)}," Complete ",8,Mr)):P("",!0),!p.startdate&&p.tasktypeid!==6?(s(),a("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ce=>ze(p)}," Start ",8,Ar)):P("",!0),Er])]),e("div",{id:"collapse"+p.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Pr,[e("div",Fr,[e("div",Lr,[e("div",Ir,[e("div",qr,[e("h5",null,[Yr,I(" "+t(p.site_name),1)]),e("h5",null,[Nr,I(" "+t(p.plandate),1)]),e("h5",null,[Br,I(" "+t(p.planenddate),1)])]),e("div",Rr,[e("h5",null,[Hr,I(" "+t(p.startdate!==null?c(he)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[jr,I(" "+t(p.enddate!==null?c(he)(p.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Or,[zr,I(" "+t(p.tasktype?p.tasktype.join(", "):""),1)])]),e("div",Gr,[e("h5",Wr,[Qr,I(" "+t(p.status),1)]),e("h5",null,[Kr,I(" "+t(p.attachment),1)]),e("h5",null,[Xr,I(" "+t(p.remarks),1)])])]),e("div",Jr,[e("button",{disabled:p.startdate!==null,onClick:ce=>pe(p.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Zr),e("button",{onClick:ce=>Be(p),type:"button",disabled:p.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,eu)])]),e("div",tu,[e("ul",su,[e("li",au,[I(" Site: "),e("span",ou,t(p.site_name),1)]),e("li",lu,[I(" Planned Date: "),e("span",nu,t(p.plandate),1)]),e("li",du,[I(" Planned End Date: "),e("span",iu,t(p.planenddate),1)]),e("li",cu,[I(" Start Date: "),e("span",ru,t(p.startdate!==null?c(he)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",uu,[I(" Type: "),e("span",_u,t(p.tasktype?p.tasktype.join(", "):""),1)]),e("li",mu,[I(" Status: "),e("span",pu,t(p.status),1)]),e("li",hu,[I(" Attachment: "),e("span",vu,t(p.attachment),1)]),e("li",bu,[I(" Remarks: "),e("span",fu,t(p.remarks),1)])]),$u,e("div",gu,[e("div",yu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ce=>Be(p)},[wu,I(" Edit ")],8,ku),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ce=>pe(p.dailytask_id)},Su,8,xu)])])])])])],8,Tr)]))),128))]))]))])])])])])]),e("div",Du,[e("div",Uu,[e("div",Vu,[e("div",Mu,[e("h5",Au,[f.value?(s(),a("span",Eu,"Edit My Task")):(s(),a("span",Tu,"Add My Task")),f.value?(s(),a("span",Pu,t(C.value),1)):P("",!0)]),Fu]),g(c(Ce),{onSubmit:Oe},{default:X(()=>[e("div",Lu,[e("div",Iu,[e("div",qu,[e("div",Yu,[g(c(R),{modelValue:w.user_id,"onUpdate:modelValue":E[1]||(E[1]=p=>w.user_id=p),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Nu,[Bu,J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":E[2]||(E[2]=p=>w.site=p)},[Ru,(s(!0),a(z,null,K(l.value,p=>(s(),a("option",{key:p.id,value:p.id},t(p.site_name),9,Hu))),128))],512),[[Te,w.site]])]),f.value==!1?(s(),a("div",ju,[e("div",Ou,[e("div",zu,[Gu,g(c(Pe),{class:"form-control",modelValue:Z.value,"onUpdate:modelValue":E[3]||(E[3]=p=>Z.value=p)},null,8,["modelValue"])]),e("div",Wu,[Qu,J(e("select",{class:"form-control","onUpdate:modelValue":E[4]||(E[4]=p=>ne.value=p),id:"plandate"},[(s(!0),a(z,null,K(Y.value,p=>(s(),a("option",{key:p,value:p},t(p),9,Ku))),128))],512),[[Te,ne.value]])])]),Xu])):P("",!0),f.value==!1?(s(),a("div",Ju,[e("div",Zu,[e("div",e_,[t_,g(c(Pe),{class:"form-control",modelValue:B.value,"onUpdate:modelValue":E[5]||(E[5]=p=>B.value=p)},null,8,["modelValue"])]),e("div",s_,[a_,J(e("select",{class:"form-control","onUpdate:modelValue":E[6]||(E[6]=p=>M.value=p),id:"plandate"},[(s(!0),a(z,null,K(m.value,p=>(s(),a("option",{key:p,value:p},t(p),9,o_))),128))],512),[[Te,M.value]])])]),l_])):P("",!0),e("div",n_,[d_,g(c(R),{name:"tasktype"},{default:X(()=>[J(e("select",{"onUpdate:modelValue":E[7]||(E[7]=p=>w.tasktype=p),class:"form-control",required:!0},[i_,(s(!0),a(z,null,K(W.value,p=>(s(),a("option",{key:p.value,value:p.value},t(p.name),9,c_))),128))],512),[[Te,w.tasktype]])]),_:1})])])])])]),r_]),_:1})])])]),e("div",u_,[e("div",__,[e("div",m_,[e("div",p_,[e("h5",h_," My Todo of "+t(c(he)(n.value).format("MM/D/YYYY")),1),v_]),e("div",b_,[f_,e("div",$_,[e("div",g_,[U.value.length>0?(s(),a("div",y_,[d.value?(s(),ie(Ae,{key:0,viewBox:"0 0 250 110"},{default:X(()=>[k_,w_]),_:1})):P("",!0),(s(!0),a(z,null,K(U.value,p=>(s(),a("ul",{class:"list-group",key:p.id},[p.iscompleted!==1?(s(),a("li",x_,[e("div",C_,[e("div",null,[e("span",{class:D({"font-italic btn":p.iscompleted===1,btn:p.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:ce=>b(p),class:D({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1})},null,10,S_)):P("",!0),I(" "+t(p.task_name),1)],2)]),e("div",D_,[e("button",{onClick:ce=>V(p),class:"btn btn-outline"},M_,8,U_)])])])):P("",!0)]))),128)),e("li",A_,[te.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:de},[e("i",{class:D(["fa",A.value?"fa-arrow-down":"fa-arrow-right"])},null,2),I(" \xA0Completed "+t(te.value),1)])):P("",!0)]),A.value?(s(),a("div",E_,[(s(!0),a(z,null,K(U.value,p=>(s(),a("ul",{class:"list-group",key:p.id},[p.iscompleted===1?(s(),a("li",T_,[e("div",P_,[e("div",null,[e("span",{class:D({"font-italic btn":p.iscompleted===1,btn:p.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:ce=>b(p),class:D({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1})},null,10,F_)):P("",!0),I(" "+t(p.task_name),1)],2)]),e("div",L_,[e("button",{onClick:ce=>V(p),class:"btn btn-outline"},Y_,8,I_)])])])):P("",!0)]))),128))])):P("",!0)])):(s(),a("div",N_,R_))]),e("div",H_,[g(c(Ce),{onSubmit:S},{default:X(()=>[e("div",j_,[e("div",O_,[e("div",z_,[g(c(R),{modelValue:H.value.dailytask_id,"onUpdate:modelValue":E[8]||(E[8]=p=>H.value.dailytask_id=p),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",G_,[g(c(R),{modelValue:H.value.task_name,"onUpdate:modelValue":E[9]||(E[9]=p=>H.value.task_name=p),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),W_]),_:1})])])])])])]),e("div",Q_,[e("div",K_,[e("div",X_,[J_,e("div",Z_,[em,e("button",{onClick:E[10]||(E[10]=ee((...p)=>v.deleteUser&&v.deleteUser(...p),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var sm=ge(tm,[["__scopeId","data-v-e7025706"]]);const am={class:"text-center"},om={key:0},lm={class:"text-center"},nm={key:0},dm={class:"text-center"},im={key:0},cm={key:0,class:"bg-success text-center"},rm={key:1,class:"bg-danger text-center"},um={key:2,class:"text-center"},_m={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return me(),_e(),(k,_)=>(s(),a("tr",null,[e("td",null,t(c(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",am,[o.item.task_lists_count!==0?(s(),a("span",om,t(o.item.task_lists_count),1)):P("",!0)]),e("td",lm,[o.item.completed_task_count!==0?(s(),a("span",nm,t(o.item.completed_task_count),1)):P("",!0)]),e("td",dm,[o.item.status!=="On Going"?(s(),a("span",im,t(o.item.status),1)):P("",!0)]),o.item.remarks==="HIT"?(s(),a("td",cm,t(o.item.remarks),1)):o.item.remarks==="MISS"?(s(),a("td",rm,t(o.item.remarks),1)):o.item.remarks===null?(s(),a("td",um,t(o.item.startdate!=null?"On Going!":""),1)):P("",!0),e("td",{class:D({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},t(o.item.percentage_completed+"%"),3)]))}};const ye=o=>(De("data-v-03a0910c"),o=o(),Ue(),o),mm={class:"content-header"},pm={class:"container-fluid"},hm={class:"col-12"},vm={class:"card",id:"captureVSCContainer"},bm={class:"card-header"},fm={class:"card-title"},$m={class:"card-tools"},gm={class:"card-body"},ym=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),km=[ym],wm={key:1,class:"row"},xm={class:"inner"},Cm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Sm=["src"],Dm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Um={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Vm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Mm={style:{"text-align":"left"}},Am={key:0},Em=ye(()=>e("span",{class:"text-light badge"},"Todos",-1)),Tm={class:"list-group-item"},Pm={style:{display:"flex","align-items":"left"}},Fm={class:"ml-1"},Lm={class:"ml-1"},Im={class:"float-right"},qm={id:"captureHitRateContainer",class:"card"},Ym={class:"card-header"},Nm={class:"card-title"},Bm={class:"card-body"},Rm={class:"content"},Hm={class:"container-fluid"},jm=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),Om=[jm],zm={class:"dispatch-table"},Gm={class:"table-responsive"},Wm={class:"table table-bordered table-hover table-sm"},Qm=ye(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Km=["item"],Xm={class:"list-field"},Jm=ye(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Zm={class:"list-field"},ep=ye(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),tp={key:0},sp={class:"list-field"},ap=ye(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),op={key:0},lp={class:"list-field"},np=ye(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),dp={class:"list-field"},ip=ye(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),cp={class:"list-field"},rp=ye(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),up={class:"float-right"},_p={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},mp={class:"modal-dialog modal-sm",role:"document"},pp={class:"modal-content"},hp=ye(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),vp={class:"modal-body"},bp={class:"fromtocenter"},fp=ye(()=>e("label",{for:"fromDate"},"From:",-1)),$p=ye(()=>e("label",{for:"toDate"},"To:",-1)),gp=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),yp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kp={class:"modal-dialog modal-sm",role:"document"},wp={class:"modal-content"},xp=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Cp={class:"modal-body"},Sp={class:"container"},Dp={class:"row"},Up=["onClick"],Vp=ye(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Mp={__name:"MyVsc",setup(o){const k=`${be().name}`,_=_e(),d=i(!1),r=i([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),h=i((()=>{const M={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",M)})()),U=()=>{const M=document.getElementById("captureVSCContainer");je(M).then(Y=>{const m=Y.toDataURL(),w=document.createElement("a");w.href=m,w.download=`${_.user.first_name+" "+_.user.last_name} - ${k}.png`,w.click()})},l=()=>{const M=document.getElementById("captureHitRateContainer");je(M).then(Y=>{const m=Y.toDataURL(),w=document.createElement("a");w.href=m,w.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,w.click()})};i(null),i("today");const A=i({data:[]}),f=i({data:[]}),C=()=>{d.value=!0,axios.get("/api/myvsc").then(M=>{d.value=!1,A.value=M.data.dailyTasks,f.value=M.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},x=i({start_date:"",end_date:""}),N=i(""),W=i("");ve([N],()=>{const M=new Date(N.value),Y=M.getFullYear(),m=String(M.getMonth()+1).padStart(2,"0"),w=String(M.getDate()).padStart(2,"0");x.value.start_date=`${Y}-${m}-${w}`}),ve([W],()=>{const M=new Date(W.value),Y=M.getFullYear(),m=String(M.getMonth()+1).padStart(2,"0"),w=String(M.getDate()).padStart(2,"0");x.value.end_date=`${Y}-${m}-${w}`});const Z=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:x.value.start_date,end_date:x.value.end_date}}).then(M=>{d.value=!1,A.value=M.data.dailyTasks,f.value=M.data.TaskList}).catch(M=>{console.error(M)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},ne=()=>{$("#FormModalPickerThemes").modal("show")},B=M=>{if(M){const Y=_.user.id;axios.post("/api/changethemes",{userid:Y,background:M.background,active_background:M.active_background,font_background:M.font_background}).then(m=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(w=>{d.value=!1,A.value=w.data.dailyTasks,f.value=w.data.TaskList})}).catch(m=>{console.error(m)})}else console.error("Invalid item:",M)};return ue(()=>{C(),document.title=k}),(M,Y)=>(s(),a(z,null,[e("div",mm,[e("div",pm,[e("div",hm,[e("div",vm,[e("div",bm,[e("div",fm,[e("h5",null,t(c(_).user.first_name+" "+c(_).user.last_name)+" - "+t(k),1)]),e("div",$m,[e("i",{onClick:Y[0]||(Y[0]=m=>ne()),class:"fas fa-palette"})])]),e("div",gm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:U,type:"button",class:"mb-2 btn btn-sm btn-success"},km)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(s(),ie(Ae,{key:0})):(s(),a("div",wm,[(s(!0),a(z,null,K(A.value,m=>(s(),a("div",{class:"col-lg-3 col-6",key:m.id},[e("div",{class:"small-box",style:Ge("background-color: "+(c(he)(m.taskdate).format("MMMM D, YYYY")===h.value?m.active_background==""?"#72461F":m.active_background:m.background==""?"#B98D65":m.background)+";")},[e("div",xm,[e("div",Cm,[I(t(c(he)(m.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Sm)]),e("div",Dm,t(c(he)(m.taskdate).format("MMMM D, YYYY")),1),m.tasktype!==6?(s(),a("div",Um,t(m.site_name),1)):P("",!0),m.tasktype===6?(s(),a("div",Vm," Holiday ")):P("",!0),e("div",Mm,[m.task_lists&&m.task_lists.length>0?(s(),a("div",Am,[Em,(s(!0),a(z,null,K(m.task_lists,w=>(s(),a("ul",{class:"list-group list-group-flush",key:w.id},[e("li",Tm,[e("div",Pm,[e("div",Fm,[e("i",{class:D(w.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Lm,t(w.task_name),1)])])]))),128))])):P("",!0)])])],4)]))),128))])),e("div",Im,t(h.value),1)])]),e("div",qm,[e("div",Ym,[e("div",Nm,[e("h5",null,t(c(_).user.first_name+" "+c(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Bm,[e("div",Rm,[e("div",Hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},Om)])]),e("div",zm,[e("div",Gm,[e("table",Wm,[Qm,e("tbody",null,[(s(!0),a(z,null,K(f.value,m=>(s(),ie(_m,{key:m.id,item:m},null,8,["item"]))),128))])])])]),(s(!0),a(z,null,K(f.value,m=>(s(),a("div",{class:"dispatch-list",key:m.id,item:m},[e("div",{class:D([{"callout callout-success":m.remarks==="HIT","callout callout-danger":m.remarks==="MISS",callout:m.remarks===null}])},[e("div",Xm,[Jm,e("span",null,t(c(he)(m.taskdate).format("MMMM D, YYYY")),1)]),e("div",Zm,[ep,m.task_lists_count!==0?(s(),a("span",tp,t(m.task_lists_count),1)):P("",!0)]),e("div",sp,[ap,m.completed_task_count!==0?(s(),a("span",op,t(m.completed_task_count),1)):P("",!0)]),e("div",lp,[np,e("span",null,[e("b",null,t(m.status),1)])]),e("div",dp,[ip,e("span",{class:D(["badge",m.remarks==="HIT"?"bg-success":"bg-danger"])},t(m.remarks),3)]),e("div",cp,[rp,e("span",{class:D(["badge",{"bg-danger":m.percentage_completed>=0&&m.percentage_completed<=59},{"bg-orange":m.percentage_completed>60&&m.percentage_completed<=90},{"bg-success":m.percentage_completed===100}])},t(m.percentage_completed+"%"),3)])],2)],8,Km))),128))])]),e("div",up,t(h.value),1)])])])])]),e("div",_p,[e("div",mp,[e("div",pp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(k)+" Summary Report")]),hp]),e("div",vp,[e("div",bp,[e("div",null,[fp,g(c(Pe),{modelValue:N.value,"onUpdate:modelValue":Y[1]||(Y[1]=m=>N.value=m)},null,8,["modelValue"])]),e("div",null,[$p,g(c(Pe),{modelValue:W.value,"onUpdate:modelValue":Y[2]||(Y[2]=m=>W.value=m)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[gp,e("button",{onClick:Z,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",yp,[e("div",kp,[e("div",wp,[xp,e("div",Cp,[e("div",Sp,[e("div",Dp,[(s(!0),a(z,null,K(r.value,m=>(s(),a("div",{class:"col-md-4",key:m.background},[e("div",{class:"box",onClick:w=>B(m)},[e("div",{class:"column",style:Ge({"background-color":m.background})}," \xA0 ",4),e("div",{class:"column",style:Ge({"background-color":m.active_background})}," \xA0 ",4)],8,Up)]))),128))])])]),Vp])])])],64))}};var Ap=ge(Mp,[["__scopeId","data-v-03a0910c"]]);const Ep={class:"text-center"},Tp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return me(),_e(),(k,_)=>(s(),a("tr",null,[e("td",null,t(o.item.sitename),1),e("td",null,t(c(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(o.item.startdate),1),e("td",null,t(o.item.enddate),1),e("td",null,t(o.item.tasktype.listtask),1),e("td",null,t(o.item.status),1),e("td",Ep,[e("span",{class:D(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},t(o.item.remarks),3)])]))}};var Pp=ge(Tp,[["__scopeId","data-v-f22938e0"]]);const xe=o=>(De("data-v-029f6d88"),o=o(),Ue(),o),Fp={class:"content"},Lp={class:"container-fluid"},Ip={class:"card",id:"capturePrioContainer"},qp={class:"card-header"},Yp={class:"card-title"},Np={class:"card-body"},Bp={key:1,class:"content"},Rp={class:"container-fluid"},Hp=xe(()=>e("i",{class:"fa fa-camera"},null,-1)),jp=[Hp],Op={class:"dispatch-table"},zp={class:"table-responsive"},Gp={class:"table table-bordered table-sm table-striped table-hover"},Wp=xe(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Qp={key:0},Kp={key:1},Xp=xe(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),Jp=[Xp],Zp=["item","index"],eh={class:"card"},th={class:"card-body"},sh={class:"list-field"},ah=xe(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),oh={class:"list-field"},lh=xe(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),nh={class:"list-field"},dh=xe(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),ih={class:"list-field"},ch=xe(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),rh={class:"list-field"},uh=xe(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),_h={class:"list-field"},mh=xe(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),ph={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hh={class:"modal-dialog modal-sm",role:"document"},vh={class:"modal-content"},bh=xe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),fh={class:"modal-body"},$h={class:"fromtocenter"},gh=xe(()=>e("label",{for:"fromDate"},"From:",-1)),yh=xe(()=>e("label",{for:"toDate"},"To:",-1)),kh=xe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),wh={__name:"MyClosePrioList",setup(o){const k=`${be().name}`,_=i(!1);me();const d=i({data:[]}),r=i(""),u=i(""),h=_e(),U=(C=1)=>{_.value=!0,F.get(`/api/mycloseprio?page=${C}`,{params:{query:f.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const C=document.getElementById("capturePrioContainer");je(C).then(n=>{const x=n.toDataURL(),N=document.createElement("a");N.href=x,N.download="MY CLOSED PRIO.png",N.click()})},A=()=>{_.value=!0,F.get("/api/filter-closeprio",{params:{start_date:r.value,end_date:u.value}}).then(C=>{_.value=!1,d.value=C.data.dailyTasks}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},f=i(null);return ve(f,Ee.exports.debounce(()=>{U()},300)),ue(()=>{U(),document.title=k}),(C,n)=>{const x=$e("font");return s(),a(z,null,[e("div",Fp,[e("div",Lp,[e("div",Ip,[e("div",qp,[e("div",Yp,[e("h5",null,t(c(h).user.first_name+" "+c(h).user.last_name)+" - My Closed Prio ",1)])]),e("div",Np,[_.value?(s(),ie(Ae,{key:0})):(s(),a("div",Bp,[e("div",Rp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},jp)])]),e("div",null,[e("div",Op,[e("div",zp,[g(x,{size:"2"},{default:X(()=>[e("table",Gp,[Wp,d.value.data.length>0?(s(),a("tbody",Qp,[(s(!0),a(z,null,K(d.value.data,(N,W)=>(s(),ie(Pp,{key:N.id,item:N,index:W},null,8,["item","index"]))),128))])):(s(),a("tbody",Kp,Jp))])]),_:1})])]),(s(!0),a(z,null,K(d.value.data,(N,W)=>(s(),a("div",{class:"dispatch-list first-letter:shadow",key:N.id,item:N,index:W},[e("div",eh,[e("div",th,[e("div",sh,[ah,e("span",null,t(N.sitename),1)]),e("div",oh,[lh,e("span",null,t(c(he)(N.taskdate).format("MMMM D, YYYY")),1)]),e("div",nh,[dh,e("span",null,t(N.startdate),1)]),e("div",ih,[ch,e("span",null,t(N.enddate),1)]),e("div",rh,[uh,e("span",null,t(N.tasktype.listtask),1)]),e("div",_h,[mh,e("span",{class:D(["badge",N.remarks==="HIT"?"bg-success":"bg-danger"])},t(N.remarks),3)])])])],8,Zp))),128))])])]))])]),g(c(Le),{data:d.value,onPaginationChangePage:U},null,8,["data"])])]),e("div",ph,[e("div",hh,[e("div",vh,[bh,e("div",fh,[e("div",$h,[e("div",null,[gh,g(c(Pe),{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=N=>r.value=N)},null,8,["modelValue"])]),e("div",null,[yh,g(c(Pe),{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=N=>u.value=N)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[kh,e("button",{onClick:A,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var xh=ge(wh,[["__scopeId","data-v-029f6d88"]]);const Ch=["checked"],Sh={class:"text-center"},Dh=e("i",{class:"fa fa-edit"},null,-1),Uh=[Dh],Vh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){me();const _=o,d=k,r=()=>{d("toggleSelection",_.user)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Ch)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",Sh,[e("a",{href:"#",onClick:h[0]||(h[0]=ee(U=>u.$emit("editUser",o.user),["prevent"]))},Uh)])]))}},Mh={class:"content"},Ah={class:"container-fluid"},Eh={class:"card"},Th={class:"card-header"},Ph=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Fh={class:"card-tools"},Lh={class:"card-body"},Ih={class:"table-responsive"},qh={class:"table table-bordered table-hover table-sm"},Yh=e("th",{style:{width:"10px"}},"#",-1),Nh=e("th",null,"Name",-1),Bh=e("th",null,"Email",-1),Rh=e("th",null,"Registered Date",-1),Hh=e("th",null,"Options",-1),jh={key:0},Oh={key:1},zh=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Gh=[zh],Wh={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qh={class:"modal-dialog modal-sm",role:"document"},Kh={class:"modal-content"},Xh={class:"modal-header"},Jh={class:"modal-title",id:"staticBackdropLabel"},Zh={key:0},ev=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),tv={class:"modal-body"},sv={class:"table table-sm"},av=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),ov={colspan:"5"},lv={class:"custom-control custom-checkbox"},nv=["value","id","checked"],dv=["for"],iv={key:0,class:"table table-sm"},cv={class:"text-danger"},rv={class:"custom-control custom-checkbox"},uv=["value","id"],_v=["for"],mv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),pv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hv={class:"modal-dialog",role:"document"},vv={class:"modal-content"},bv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),fv={class:"modal-footer"},$v=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),gv={__name:"UserMenuList",setup(o){const k=`${be().name}`,_=me(),d=i({data:[]}),r=i(!1),u=i(),h=i(null),U=i(null),l=i([]),A=(B=1)=>{F.get(`/api/users?page=${B}`,{params:{query:n.value}}).then(M=>{d.value=M.data,x.value=[],selectAll.value=!1})},f=B=>{F.get("/api/usermenu",{params:{user_id:B.id}}).then(M=>{ne.value=M.data,console.log(M.data)}).catch(M=>{console.log(M)}),r.value=!0,h.value.resetForm(),$("#userFormModal").modal("show"),u.value={id:B.id,username:B.username,email:B.email,first_name:B.first_name,last_name:B.last_name},U.value=u.value.first_name+" "+u.value.last_name},C=()=>{const B={user_id:u.value.id,menu_id:l.value};console.log(B),F.post("/api/usermenu",B).then(M=>{_.success("User Menu Save successfully!")}).catch(M=>{setErrors(M.response.data.errors)})},n=i(null),x=i([]),N=B=>{const M=x.value.indexOf(B.id);M===-1?x.value.push(B.id):x.value.splice(M,1),console.log(x.value)},W=i(null),Z=B=>{W.value=B,$("#deleteUserModal").modal("show")},ne=i({data:[]});return ve(n,Ee.exports.debounce(()=>{A()},300)),ue(()=>{A(),document.title=k}),(B,M)=>{const Y=$e("font");return s(),a(z,null,[e("div",Mh,[e("div",Ah,[e("div",Eh,[e("div",Th,[Ph,e("div",Fh,[J(e("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=m=>n.value=m),class:"form-control",placeholder:"Search..."},null,512),[[re,n.value]])])]),e("div",Lh,[e("div",Ih,[g(Y,{size:"2"},{default:X(()=>[e("table",qh,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":M[1]||(M[1]=m=>B.selectAll=m),onChange:M[2]||(M[2]=(...m)=>B.selectAllUsers&&B.selectAllUsers(...m))},null,544),[[Me,B.selectAll]])]),Yh,Nh,Bh,Rh,Hh])]),d.value.data.length>0?(s(),a("tbody",jh,[(s(!0),a(z,null,K(d.value.data,(m,w)=>(s(),ie(Vh,{key:m.id,user:m,index:w,onEditUser:f,onConfirmUserDeletion:Z,onToggleSelection:N,"select-all":B.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),a("tbody",Oh,Gh))])]),_:1})])])]),g(c(Le),{data:d.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",Wh,[e("div",Qh,[e("div",Kh,[e("div",Xh,[e("h5",Jh,[r.value?(s(),a("span",Zh,"User Menu for "+t(U.value),1)):P("",!0)]),ev]),g(c(Ce),{ref_key:"form",ref:h,onSubmit:C,"initial-values":u.value},{default:X(()=>[e("div",tv,[e("table",sv,[av,(s(!0),a(z,null,K(ne.value,m=>(s(),a("tr",{key:m.menu_id},[e("td",ov,[e("div",lv,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":M[3]||(M[3]=w=>l.value=w),value:m.menu_id,id:"menu_id_"+m.menu_id,checked:m.hasAccess},null,8,nv),[[Me,l.value]]),e("label",{for:"menu_id_"+m.menu_id,class:"custom-control-label"},t(m.menu_title),9,dv)]),m.submenus&&m.submenus.length>0?(s(),a("table",iv,[(s(!0),a(z,null,K(m.submenus,w=>(s(),a("tr",{key:w.id},[e("td",cv,[e("div",rv,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":M[4]||(M[4]=H=>l.value=H),value:w.menu_id,id:"menu_id_"+w.menu_id},null,8,uv),[[Me,l.value]]),e("label",{for:"menu_id_"+w.menu_id,class:"custom-control-label"},t(w.menu_title),9,_v)])])]))),128))])):P("",!0)])]))),128))])]),mv]),_:1},8,["initial-values"])])])]),e("div",pv,[e("div",hv,[e("div",vv,[bv,e("div",fv,[$v,e("button",{onClick:M[5]||(M[5]=ee((...m)=>B.deleteUser&&B.deleteUser(...m),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const at=o=>(De("data-v-8e5d6dd6"),o=o(),Ue(),o),yv=["checked"],kv=["innerHTML"],wv={style:{"text-align":"center"}},xv={class:"text-center"},Cv=at(()=>e("i",{class:"fa fa-edit"},null,-1)),Sv=[Cv],Dv=at(()=>e("i",{class:"fa fa-trash"},null,-1)),Uv=[Dv],Vv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:k}){me(),_e();const _=o,d=k,r=()=>{d("toggleSelection",_.item)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,yv)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.menu_title),1),e("td",null,t(o.item.parent_title),1),e("td",null,t(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,kv),e("td",null,t(o.item.sort_order),1),e("td",wv,[e("i",{class:D({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,t(o.item.created_at),1),e("td",xv,[e("button",{class:"btn btn-sm bg-primary",onClick:h[0]||(h[0]=ee(U=>u.$emit("editMenu",o.item),["prevent"]))},Sv),I("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:h[1]||(h[1]=ee(U=>u.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Uv)])]))}};var Mv=ge(Vv,[["__scopeId","data-v-8e5d6dd6"]]);const Av=["type","name","value"],Ev=e("span",{class:"check"},null,-1),Tv={class:"pl-2"},Pv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:k}){const _=o,d=k,r=Se({get:()=>_.modelValue,set:h=>{d("update:modelValue",h)}}),u=Se(()=>_.type==="radio"?"radio":"checkbox");return(h,U)=>(s(),a("label",{class:D([o.type,"mr-6 mb-3 last:mr-0"])},[J(e("input",{"onUpdate:modelValue":U[0]||(U[0]=l=>r.value=l),type:u.value,name:o.name,value:o.inputValue},null,8,Av),[[et,r.value]]),Ev,e("span",Tv,t(o.label),1)],2))}},Fv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:k}){const _=o,d=k,r=Se({get:()=>_.modelValue,set:u=>{d("update:modelValue",u)}});return(u,h)=>(s(),a("div",{class:D(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(s(!0),a(z,null,K(o.options,(U,l)=>(s(),ie(Pv,{key:l,modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=A=>r.value=A),type:o.type,name:o.name,"input-value":l,label:U,class:D(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Lv={class:"content"},Iv={class:"container-fluid"},qv={class:"d-flex justify-content-between"},Yv={class:"d-flex"},Nv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Bv={key:0},Rv=e("i",{class:"fa fa-trash mr-1"},null,-1),Hv={class:"ml-2"},jv={class:"card"},Ov={class:"card-body"},zv={class:"table-responsive"},Gv={class:"table table-bordered table-sm"},Wv=e("th",{style:{width:"10px"}},"#",-1),Qv=e("th",null,"Title",-1),Kv=e("th",null,"Parent Menu",-1),Xv=e("th",null,"Route",-1),Jv=e("th",null,"Icon",-1),Zv=e("th",null,"Sort",-1),e1=e("th",null,"Active",-1),t1=e("th",null,"Date",-1),s1=e("th",null,"Action",-1),a1={key:0},o1={key:1},l1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),n1=[l1],d1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},i1={class:"modal-dialog modal-sm",role:"document"},c1={class:"modal-content"},r1={class:"modal-header"},u1={class:"modal-title",id:"staticBackdropLabel"},_1={key:0},m1={key:1},p1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),h1={class:"modal-body"},v1={class:"col-md-12"},b1={class:"row"},f1={class:"col-12"},$1={class:"form-group"},g1=e("label",{for:"user"},"Menu Title",-1),y1={class:"invalid-feedback"},k1={class:"form-group"},w1=e("label",{for:"department"},"Parent Menu",-1),x1=e("option",{value:"0"},"None",-1),C1=["value"],S1={class:"form-group"},D1=e("label",{for:"warehouse"},"Icon",-1),U1={class:"invalid-feedback"},V1={class:"form-group"},M1=e("label",{for:"user"},"Route",-1),A1={class:"invalid-feedback"},E1={class:"form-group"},T1=e("label",{for:"user"},"Sort",-1),P1={class:"invalid-feedback"},F1={class:"form-group"},L1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),I1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},q1={class:"modal-dialog",role:"document"},Y1={class:"modal-content"},N1=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),B1={class:"modal-footer"},R1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),H1={__name:"MenuList",setup(o){const k=`${be().name}`,_=me(),d=i({data:[]}),r=i({data:[]}),u=i(!1),h=i(!1);i();const U=i(!0),l=Ve({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),A=_e();i(null);const f=i(),C=(G=1)=>{u.value=!0,F.get(`/api/menulist?page=${G}`,{params:{query:B.value}}).then(L=>{u.value=!1,d.value=L.data,M.value=[],Q.value=!1})},n=()=>{F.get("/api/GetParentId").then(G=>{r.value=G.data}).catch(G=>{console.error(G)})};ke({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),ke({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()});const x=({resetForm:G,setErrors:L})=>{F.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(S=>{d.value.data.unshift(S.data),$("#FormModal").modal("hide"),G(),_.success("User created successfully!")}).catch(S=>{S.response.data.errors&&L(S.response.data.errors)})},N=()=>{h.value=!1,$("#FormModal").modal("show")},W=G=>{h.value=!0,l.menu_id=G.menu_id,l.menu_title=G.menu_title,l.parent_id=G.parent_id,l.menu_icon=G.menu_icon,l.menu_route=G.menu_route,l.sort_order=G.sort_order,l.is_active===1?U.value=!0:U.value=!1,l.is_active=G.is_active,$("#FormModal").modal("show"),f.value=G.parent_id},Z=({setErrors:G})=>{F.post("/api/menulist",l).then(L=>{C(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(L=>{G(L.response.data.errors),console.log(L)})},ne=(G,L)=>{h.value?Z(G):x(G)},B=i(null),M=i([]),Y=G=>{const L=M.value.indexOf(G.id);L===-1?M.value.push(G.id):M.value.splice(L,1),console.log(M.value)},m=i(null),w=G=>{m.value=G,$("#deleteClientModal").modal("show")},H=()=>{F.delete(`/api/menu/${m.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(G=>G.menu_id!==m.value)})},ae=()=>{F.delete("menulist",{data:{ids:M.value}}).then(G=>{d.value.data=d.value.data.filter(L=>!M.value.includes(L.id)),M.value=[],Q.value=!1,_.success(G.data.message)})},Q=i(!1),pe=()=>{Q.value?M.value=d.value.data.map(G=>G.id):M.value=[],console.log(M.value)};return ve([U],G=>{l.is_active=G?1:0}),ve(B,Ee.exports.debounce(()=>{C()},300)),ue(()=>{C(),n(),document.title=k}),(G,L)=>{const S=$e("font");return s(),a(z,null,[e("div",Lv,[e("div",Iv,[e("div",qv,[e("div",Yv,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[Nv,I(" Menu ")]),M.value.length>0?(s(),a("div",Bv,[e("button",{onClick:ae,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Rv,I(" Delete Selected ")]),e("span",Hv,"Selected "+t(M.value.length)+" Menu",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":L[0]||(L[0]=b=>B.value=b),class:"form-control",placeholder:"Search..."},null,512),[[re,B.value]])])]),e("div",jv,[e("div",Ov,[u.value?(s(),ie(Ae,{key:0})):P("",!0),e("div",zv,[g(S,{size:"2"},{default:X(()=>[e("table",Gv,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":L[1]||(L[1]=b=>Q.value=b),onChange:pe},null,544),[[Me,Q.value]])]),Wv,Qv,Kv,Xv,Jv,Zv,e1,t1,s1])]),d.value.data.length>0?(s(),a("tbody",a1,[(s(!0),a(z,null,K(d.value.data,(b,y)=>(s(),ie(Mv,{key:b.id,item:b,index:y,onEditMenu:W,onConfirmDeletion:w,onToggleSelection:Y,"select-all":Q.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",o1,n1))])]),_:1})])])]),g(c(Le),{data:d.value,onPaginationChangePage:C},null,8,["data"])])]),e("div",d1,[e("div",i1,[e("div",c1,[e("div",r1,[e("h5",u1,[h.value?(s(),a("span",_1,"Edit Menu")):(s(),a("span",m1,"Add Menu"))]),p1]),g(c(Ce),{onSubmit:ne},{default:X(({errors:b})=>[e("div",h1,[e("div",v1,[e("div",b1,[e("div",f1,[g(c(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(A).user.id,"onUpdate:modelValue":L[2]||(L[2]=y=>c(A).user.id=y)},null,8,["modelValue"]),e("div",$1,[g1,g(c(R),{name:"menu_title",type:"text",class:D(["form-control",{"is-invalid":b.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":L[3]||(L[3]=y=>l.menu_title=y)},null,8,["class","modelValue"]),e("span",y1,t(b.menu_title),1)]),e("div",k1,[w1,J(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":L[4]||(L[4]=y=>l.parent_id=y)},[x1,(s(!0),a(z,null,K(r.value,y=>(s(),a("option",{key:y.menu_id,value:y.menu_id},t(y.menu_title),9,C1))),128))],512),[[Te,l.parent_id]])]),e("div",S1,[D1,g(c(R),{name:"menu_icon",type:"text",class:D(["form-control",{"is-invalid":b.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":L[5]||(L[5]=y=>l.menu_icon=y)},null,8,["class","modelValue"]),e("span",U1,t(b.menu_icon),1)]),e("div",V1,[M1,g(c(R),{name:"menu_route",type:"text",class:D(["form-control",{"is-invalid":b.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":L[6]||(L[6]=y=>l.menu_route=y)},null,8,["class","modelValue"]),e("span",A1,t(b.menu_route),1)]),e("div",E1,[T1,g(c(R),{name:"sort_order",type:"text",class:D(["form-control",{"is-invalid":b.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":L[7]||(L[7]=y=>l.sort_order=y)},null,8,["class","modelValue"]),e("span",P1,t(b.sort_order),1)]),e("div",F1,[g(Fv,{modelValue:l.is_active,"onUpdate:modelValue":L[8]||(L[8]=y=>l.is_active=y),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),L1]),_:1})])])]),e("div",I1,[e("div",q1,[e("div",Y1,[N1,e("div",B1,[R1,e("button",{onClick:ee(H,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},j1={class:"error-page"},O1=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),z1=[O1],G1="Page Not Found",ot={__name:"404",setup(o){return ue(()=>{document.title=G1}),(k,_)=>(s(),a("div",j1,z1))}};const le=o=>(De("data-v-18d1690e"),o=o(),Ue(),o),W1={id:"exportPDF"},Q1={class:"container"},K1=le(()=>e("br",null,null,-1)),X1={class:"header"},J1=["src"],Z1=["src"],eb={class:"header"},tb={class:"header-justify-space-between"},sb=le(()=>e("br",null,null,-1)),ab=le(()=>e("p",null,null,-1)),ob={key:0},lb=le(()=>e("strong",null,null,-1)),nb=le(()=>e("br",null,null,-1)),db=le(()=>e("br",null,null,-1)),ib=le(()=>e("p",null,null,-1)),cb=le(()=>e("strong",null,"Unit details",-1)),rb={class:"content"},ub={class:"header-justify-space-between"},_b=le(()=>e("span",null,"Brand:",-1)),mb=le(()=>e("br",null,null,-1)),pb=le(()=>e("span",null,"Model:",-1)),hb=le(()=>e("br",null,null,-1)),vb=le(()=>e("div",null,null,-1)),bb=le(()=>e("span",null,"Serial #:",-1)),fb=le(()=>e("br",null,null,-1)),$b=le(()=>e("span",null,"Asset Tag:",-1)),gb=le(()=>e("br",null,null,-1)),yb=le(()=>e("div",null,null,-1)),kb=le(()=>e("strong",null,"Reported problem",-1)),wb={class:"content"},xb=le(()=>e("strong",null,"Assessment conducted",-1)),Cb={class:"content"},Sb=le(()=>e("strong",null,"Recommendation",-1)),Db={class:"content"},Ub={class:"header-justify-space-between"},Vb=le(()=>e("strong",null,"Evaluated by:",-1)),Mb=le(()=>e("br",null,null,-1)),Ab={class:"botoom-line"},Eb=le(()=>e("br",null,null,-1)),Tb=le(()=>e("p",null,null,-1)),Pb=le(()=>e("strong",null,"Noted by:",-1)),Fb=le(()=>e("br",null,null,-1)),Lb={class:"botoom-line"},Ib=le(()=>e("br",null,null,-1)),qb=le(()=>e("br",null,null,-1)),Yb=le(()=>e("p",null,null,-1)),Nb={key:0},Bb={key:1},Rb={key:0,class:"fab-container"},Hb=le(()=>e("i",{class:"fas fa-download"},null,-1)),jb=[Hb],Ob={__name:"TechRecommApprove",setup(o){const k=`${be().params.id}`,_=()=>{const u=document.getElementById("exportPDF");st().from(u).save(`${k}.pdf`)},d=Ve({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),r=()=>{F.get(`/api/tech-recommendations/${be().params.id}`).then(u=>{d.id=u.data.id,d.recommnum=u.data.recommnum,d.branch=u.data.branch,d.company=u.data.company,d.department=u.data.department,d.warehouse=u.data.warehouse,d.user=u.data.user,d.problem=u.data.problem,d.brand=u.data.brand,d.model=u.data.model,d.assettag=u.data.assettag,d.serialnum=u.data.serialnum,d.status=u.data.status,d.assconducted=u.data.assconducted,d.recommendation=u.data.recommendation,d.createdby=u.data.createdby.cfull_name,d.updatedby=u.data.updatedby.ufull_name,d.created_at=he(u.data.created_at).format("MMMM D, YYYY"),d.updated_at=he(u.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=u.data.createdby.cposition,d.updated_position=u.data.updatedby.uposition}).catch(u=>{actions.setErrors(u.response.data.errors)})};return ue(()=>{r(),document.title=k}),(u,h)=>(s(),a(z,null,[e("div",W1,[e("div",Q1,[K1,e("div",X1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,J1),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,Z1)]),e("div",eb,[e("span",null,[I("Recommendation No: "),e("strong",null,t(d.recommnum),1)]),e("span",null,[I("Date Checked: "),e("strong",null,t(d.created_at),1)])]),e("div",tb,[e("div",null,[e("span",null,[I("Company: "),e("strong",null,t(d.company),1)]),sb,e("span",null,[I("Branch: "),e("strong",null,t(d.branch),1)])]),ab,e("div",null,[d.warehouse==""?(s(),a("span",ob,[I("Warehouse: "),lb,I(t(d.warehouse),1)])):P("",!0),nb,e("span",null,[I("User: "),e("strong",null,t(d.user),1)]),db,e("span",null,[I("Department: "),e("strong",null,t(d.department),1)])]),ib]),cb,e("div",rb,[e("div",ub,[e("div",null,[_b,e("strong",null,t(d.brand),1),mb,pb,e("strong",null,t(d.model),1),hb]),vb,e("div",null,[bb,e("strong",null,t(d.serialnum),1),fb,$b,e("strong",null,t(d.assettag),1),gb]),yb])]),kb,e("div",wb,[e("p",null,t(d.problem),1)]),xb,e("div",Cb,[e("p",null,t(d.assconducted),1)]),Sb,e("div",Db,[e("p",null,t(d.recommendation),1)]),e("div",Ub,[e("div",null,[Vb,Mb,e("span",Ab,t(d.createdby),1),Eb,e("span",null,t(d.created_position),1)]),Tb,e("div",null,[Pb,Fb,e("span",Lb,t(d.updatedby),1),Ib,e("span",null,t(d.updated_position),1),qb]),Yb]),d.status===2?(s(),a("span",Nb,"Approved date:("+t(d.updated_at)+")",1)):(s(),a("span",Bb,"Pending"))])]),d.status===2?(s(),a("div",Rb,[e("div",{class:"button iconbutton bg-success",onClick:h[0]||(h[0]=U=>_())},jb)])):P("",!0)],64))}};var lt=ge(Ob,[["__scopeId","data-v-18d1690e"]]);const zb={},Gb={class:"card mx-auto",style:{"max-width":"600px"}},Wb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),Qb={class:"card-body"},Kb={class:"list-unstyled"};function Xb(o,k){return s(),a("div",Gb,[Wb,e("div",Qb,[e("ul",Kb,[e("li",{class:"nav-item dropdown",onClick:k[0]||(k[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var Jb=ge(zb,[["render",Xb]]);const Zb=["checked"],ef={class:"text-center"},tf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:k}){me(),_e();const _=o,d=k,r=()=>{d("toggleSelection",_.item)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Zb)]),e("td",null,t(o.index+1),1),e("td",{onClick:h[0]||(h[0]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.site_name),1),e("td",{onClick:h[1]||(h[1]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_name),1),e("td",{onClick:h[2]||(h[2]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_type),1),e("td",{onClick:h[3]||(h[3]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.serial),1),e("td",{onClick:h[4]||(h[4]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.date_acquired),1),e("td",{onClick:h[5]||(h[5]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.man_supplier),1),e("td",{onClick:h[6]||(h[6]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.unit),1),e("td",{onClick:h[7]||(h[7]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.purchasecost),1),e("td",{onClick:h[8]||(h[8]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.depreciationcostbyyear),1),e("td",{onClick:h[9]||(h[9]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_by),1),e("td",{onClick:h[10]||(h[10]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_at),1),e("td",{onClick:h[11]||(h[11]=ee(U=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.updated_by),1),e("td",ef,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:h[12]||(h[12]=ee(U=>u.$emit("editData",o.item),["prevent"]))}),I(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:h[13]||(h[13]=ee(U=>u.$emit("confirmDeletion",o.item.id),["prevent"]))})])])]))}};var sf=ge(tf,[["__scopeId","data-v-769d0a2c"]]);const af={class:"content"},of={class:"container-fluid"},lf={class:"d-flex justify-content-between"},nf={class:"d-flex"},df=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),cf={key:0},rf=e("i",{class:"fa fa-trash mr-1"},null,-1),uf={class:"ml-2"},_f={class:"card"},mf={class:"card-body"},pf={class:"table-responsive"},hf={class:"table table-bordered table-sm table-striped hover"},vf=e("th",{style:{width:"10px"}},"#",-1),bf=e("th",null,"Site",-1),ff=e("th",null,"Asset",-1),$f=e("th",null,"Asset type",-1),gf=e("th",null,"Serial",-1),yf=e("th",null,"Date Aquired",-1),kf=e("th",null,"Supplier",-1),wf=e("th",null,"Unit",-1),xf=e("th",null,"Purchase Cost",-1),Cf=e("th",null,"Depreciation Cost",-1),Sf=e("th",null,"Createdby",-1),Df=e("th",null,"CreatedAt",-1),Uf=e("th",null,"Updatedby",-1),Vf=e("th",null,"Action",-1),Mf={key:0},Af={key:1},Ef=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Tf=[Ef],Pf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ff={class:"modal-dialog modal-lg",role:"document"},Lf={class:"modal-content"},If={class:"modal-header"},qf={class:"modal-title",id:"staticBackdropLabel"},Yf={key:0},Nf={key:1},Bf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Rf={class:"modal-body"},Hf={class:"col-md-12"},jf={class:"row"},Of={class:"col-6"},zf={class:"form-group"},Gf=e("label",{for:"branch"},"Site",-1),Wf=e("option",{value:"",disabled:""}," Select Site ",-1),Qf=["value"],Kf={class:"invalid-feedback"},Xf={class:"form-group"},Jf=e("label",{for:"department"},"Asset Name",-1),Zf={class:"invalid-feedback"},e$={class:"form-group"},t$=e("label",{for:"asset_type"},"Asset Type",-1),s$={class:"invalid-feedback"},a$={class:"form-group"},o$=e("label",{for:"serial"},"Serial #:",-1),l$={class:"invalid-feedback"},n$={class:"col-6"},d$={class:"form-group"},i$=e("label",{for:"date_acquired"},"Date Acquired",-1),c$={class:"invalid-feedback"},r$={class:"form-group"},u$=e("label",{for:"man_supplier"},"Brand",-1),_$={class:"invalid-feedback"},m$={class:"form-group"},p$=e("label",{for:"unit"},"Unit",-1),h$={class:"invalid-feedback"},v$={class:"row"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"paccountable"},"Person Accountable",-1),g$={class:"invalid-feedback"},y$={class:"col-6"},k$={class:"form-group"},w$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),x$={class:"invalid-feedback"},C$={class:"row"},S$={class:"col-6"},D$={class:"form-group"},U$=e("label",{for:"cucodition"},"Current Condition",-1),V$=e("option",{value:"",disabled:""}," Select Condition ",-1),M$=e("option",{value:"Fair"}," FAIR ",-1),A$=e("option",{value:"Good"}," GOOD ",-1),E$=e("option",{value:"Damange"}," DAMANGE ",-1),T$={class:"invalid-feedback"},P$={class:"form-group"},F$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),L$={class:"col-6"},I$={class:"form-group"},q$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),Y$={class:"form-group"},N$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),B$={class:"row"},R$={class:"col-6"},H$={class:"form-group"},j$=e("label",{for:"operationhours"},"Operating Hours",-1),O$={class:"col-6"},z$={class:"form-group"},G$=e("label",{for:"notes"},"Notes",-1),W$={class:"invalid-feedback"},Q$={class:"row"},K$={class:"col-6"},X$={class:"form-group"},J$=e("label",{for:"purchasecost"},"Purchase Cost",-1),Z$={class:"input-group mb-3"},eg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),tg={class:"form-group"},sg=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),ag={class:"input-group mb-3"},og=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),lg={class:"col-6"},ng={class:"form-group"},dg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),ig={class:"invalid-feedback"},cg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),rg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ug={class:"modal-dialog",role:"document"},_g={class:"modal-content"},mg=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),pg={class:"modal-footer"},hg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),vg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},bg={class:"modal-dialog",role:"document"},fg={class:"modal-content"},$g=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),gg={class:"modal-body"},yg={class:"table table-striped table-sm table-hover"},kg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),wg=e("td",null,"Site",-1),xg=e("td",null,"Assit Name",-1),Cg=e("td",null,"Assit Type",-1),Sg=e("td",null,"Serial No.",-1),Dg=e("td",null,"Date Acquired",-1),Ug=e("td",null,"Brand",-1),Vg=e("td",null,"Unit",-1),Mg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Ag=e("td",null,"Personal Accountable",-1),Eg=e("td",null,"Transfer Location",-1),Tg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Pg=e("td",null,"Current Condition",-1),Fg=e("td",null,"Maintenance Note",-1),Lg=e("td",null,"Last Maintenance",-1),Ig=e("td",null,"Next Maintenance",-1),qg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),Yg=e("td",null,"Operation Hours",-1),Ng=e("td",null,"Notes",-1),Bg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),Rg=e("td",null,"Purchase Cost",-1),Hg=e("td",null,"Depreciation Cost by yr",-1),jg=e("td",null,"Warranty information",-1),Og=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),zg={__name:"AssetmList",setup(o){_e();const k=`${be().name}`,_=me(),d=i({data:[]});i({data:[]});const r=i(!1),u=i(!1),h=i(),U=i(!0),l=Ve({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});i(null),i();const A=i(),f=(S=1)=>{r.value=!0,F.get(`/web/asset-monitoring?page=${S}`,{params:{query:Y.value}}).then(b=>{r.value=!1,d.value=b.data,m.value=[],G.value=!1})},C=ke({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),n=ke({menu_title:q().required(),parent_id:q().required(),sort_order:q().required(),menu_icon:q().required(),menu_route:q().required()}),x=()=>{F.post("/web/asset-monitoring",l).then(S=>{$("#FormModal").modal("hide"),f(),_.success(S.data.message)}).catch(S=>{_.error(S.data.message)})},N=()=>{u.value=!1,$("#FormModal").modal("show")},W=S=>{l.site_name=S.site_name,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,l.Depreciationcostbyyear=S.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},Z=S=>{u.value=!0,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.depreciationcost=S.depreciationcost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,$("#FormModal").modal("show")},ne=({setErrors:S})=>{F.post("/web/asset-monitoring",l).then(b=>{f(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},B=(S,b)=>{u.value?ne(S):x()},M=()=>{F.get("/web/getsite").then(S=>{A.value=S.data.sites}).catch(S=>{console.log(S)})},Y=i(null),m=i([]),w=S=>{const b=m.value.indexOf(S.id);b===-1?m.value.push(S.id):m.value.splice(b,1),console.log(m.value)},H=i(null),ae=S=>{H.value=S,$("#deleteClientModal").modal("show")},Q=()=>{F.delete(`/web/asset-monitoring/${H.value}`).then(S=>{$("#deleteClientModal").modal("hide"),_.success(S.data.message),f()})},pe=()=>{F.delete("/web/bulkDeleteAsset",{data:{ids:m.value}}).then(S=>{d.value.data=d.value.data.filter(b=>!m.value.includes(b.id)),m.value=[],G.value=!1,_.success(S.data.message)})},G=i(!1),L=()=>{G.value?m.value=d.value.data.map(S=>S.id):m.value=[],console.log(m.value)};return ve([U],S=>{l.is_active=S?1:0}),ve(Y,Ee.exports.debounce(()=>{f()},300)),ue(()=>{f(),M(),document.title=k}),(S,b)=>{const y=$e("font"),te=$e("tab-content"),de=$e("form-wizard");return s(),a(z,null,[e("div",af,[e("div",of,[e("div",lf,[e("div",nf,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[df,I(" Asset ")]),m.value.length>0?(s(),a("div",cf,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[rf,I(" Delete Selected ")]),e("span",uf,"Selected "+t(m.value.length)+" Record",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=V=>Y.value=V),class:"form-control",placeholder:"Search..."},null,512),[[re,Y.value]])])]),e("div",_f,[e("div",mf,[r.value?(s(),ie(Ae,{key:0})):P("",!0),e("div",pf,[g(y,{size:"2"},{default:X(()=>[e("table",hf,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":b[1]||(b[1]=V=>G.value=V),onChange:L},null,544),[[Me,G.value]])]),vf,bf,ff,$f,gf,yf,kf,wf,xf,Cf,Sf,Df,Uf,Vf])]),d.value.data.length>0?(s(),a("tbody",Mf,[(s(!0),a(z,null,K(d.value.data,(V,T)=>(s(),ie(sf,{key:V.id,item:V,index:T,onViewData:W,onEditData:Z,onConfirmDeletion:ae,onToggleSelection:w,"select-all":G.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",Af,Tf))])]),_:1})])])]),g(c(Le),{data:d.value,onPaginationChangePage:f},null,8,["data"])])]),e("div",Pf,[e("div",Ff,[e("div",Lf,[e("div",If,[e("h5",qf,[u.value?(s(),a("span",Yf,"Edit Asset")):(s(),a("span",Nf,"Add Asset"))]),Bf]),g(c(Ce),{onSubmit:B,"validation-schema":u.value?c(n):c(C),"initial-values":h.value},{default:X(({errors:V})=>[e("div",Rf,[e("div",Hf,[g(de,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:X(()=>[g(te,{title:"Asset Information",icon:"fas fa-book"},{default:X(()=>[e("div",jf,[e("div",Of,[e("div",zf,[Gf,g(c(R),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":V.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":b[2]||(b[2]=T=>l.site_id=T)},{default:X(()=>[Wf,(s(!0),a(z,null,K(A.value,T=>(s(),a("option",{key:T.id,value:T.id},t(T.site_name),9,Qf))),128))]),_:2},1032,["class","modelValue"]),e("span",Kf,t(V.branch),1)]),e("div",Xf,[Jf,g(c(R),{name:"asset_name",type:"text",class:D(["form-control",{"is-invalid":V.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":b[3]||(b[3]=T=>l.asset_name=T)},null,8,["class","modelValue"]),e("span",Zf,t(V.asset_name),1)]),e("div",e$,[t$,g(c(R),{name:"asset_type",type:"text",class:D(["form-control",{"is-invalid":V.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":b[4]||(b[4]=T=>l.asset_type=T)},null,8,["class","modelValue"]),e("span",s$,t(V.asset_type),1)]),e("div",a$,[o$,g(c(R),{name:"serial",type:"text",class:D(["form-control",{"is-invalid":V.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":b[5]||(b[5]=T=>l.serial=T)},null,8,["class","modelValue"]),e("span",l$,t(V.serial),1)])]),e("div",n$,[e("div",d$,[i$,g(c(R),{name:"date_acquired",type:"date",class:D(["form-control",{"is-invalid":V.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":b[6]||(b[6]=T=>l.date_acquired=T)},null,8,["class","modelValue"]),e("span",c$,t(V.date_acquired),1)]),e("div",r$,[u$,g(c(R),{name:"man_supplier",type:"text",class:D(["form-control",{"is-invalid":V.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":b[7]||(b[7]=T=>l.man_supplier=T)},null,8,["class","modelValue"]),e("span",_$,t(V.man_supplier),1)]),e("div",m$,[p$,g(c(R),{name:"unit",type:"number",class:D(["form-control",{"is-invalid":V.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":b[8]||(b[8]=T=>l.unit=T)},null,8,["class","modelValue"]),e("span",h$,t(V.unit),1)])])])]),_:2},1024),g(te,{title:"Asset Allocation",icon:"fa fa-map"},{default:X(()=>[e("div",v$,[e("div",b$,[e("div",f$,[$$,g(c(R),{name:"paccountable",type:"text",class:D(["form-control",{"is-invalid":V.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":b[9]||(b[9]=T=>l.paccountable=T)},null,8,["class","modelValue"]),e("span",g$,t(V.paccountable),1)])]),e("div",y$,[e("div",k$,[w$,g(c(R),{name:"locationchangetranfer",type:"text",class:D(["form-control",{"is-invalid":V.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":b[10]||(b[10]=T=>l.locationchangetranfer=T)},null,8,["class","modelValue"]),e("span",x$,t(V.locationchangetranfer),1)])])])]),_:2},1024),g(te,{title:"Asset Condition"},{default:X(()=>[e("div",C$,[e("div",S$,[e("div",D$,[U$,g(c(R),{as:"select",name:"cucodition",class:D(["form-control",{"is-invalid":V.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":b[11]||(b[11]=T=>l.cucodition=T)},{default:X(()=>[V$,M$,A$,E$]),_:2},1032,["class","modelValue"]),e("span",T$,t(V.cucodition),1)]),e("div",P$,[F$,g(c(R),{name:"maintenancenotes",as:"textarea",class:D(["form-control",{"is-invalid":V.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":b[12]||(b[12]=T=>l.maintenancenotes=T)},null,8,["class","modelValue"])])]),e("div",L$,[e("div",I$,[q$,g(c(R),{name:"lastmaintenance",type:"date",class:D(["form-control",{"is-invalid":V.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":b[13]||(b[13]=T=>l.lastmaintenance=T)},null,8,["class","modelValue"])]),e("div",Y$,[N$,g(c(R),{name:"nextmaintenance",type:"date",class:D(["form-control",{"is-invalid":V.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":b[14]||(b[14]=T=>l.nextmaintenance=T)},null,8,["class","modelValue"])])])])]),_:2},1024),g(te,{title:"Utilization & Ussage"},{default:X(()=>[e("div",B$,[e("div",R$,[e("div",H$,[j$,g(c(R),{name:"operationhours",type:"number",class:D(["form-control",{"is-invalid":V.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":b[15]||(b[15]=T=>l.operationhours=T)},null,8,["class","modelValue"])])]),e("div",O$,[e("div",z$,[G$,g(c(R),{name:"notes",as:"textarea",class:D(["form-control",{"is-invalid":V.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":b[16]||(b[16]=T=>l.notes=T)},null,8,["class","modelValue"]),e("span",W$,t(V.notes),1)])])])]),_:2},1024),g(te,{title:"Financial Information",icon:"fas fa-receipt"},{default:X(()=>[e("div",Q$,[e("div",K$,[e("div",X$,[J$,e("div",Z$,[eg,g(c(R),{name:"purchasecost",type:"text",class:D(["form-control",{"is-invalid":V.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":b[17]||(b[17]=T=>l.purchasecost=T)},null,8,["class","modelValue"])])]),e("div",tg,[sg,e("div",ag,[og,g(c(R),{name:"depreciationcost",type:"text",class:D(["form-control",{"is-invalid":V.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":b[18]||(b[18]=T=>l.depreciationcost=T)},null,8,["class","modelValue"])])])]),e("div",lg,[e("div",ng,[dg,g(c(R),{name:"insurancewarrantyinfo",as:"textarea",class:D(["form-control",{"is-invalid":V.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":b[19]||(b[19]=T=>l.insurancewarrantyinfo=T)},null,8,["class","modelValue"]),e("span",ig,t(V.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),cg]),_:1},8,["validation-schema","initial-values"])])])]),e("div",rg,[e("div",ug,[e("div",_g,[mg,e("div",pg,[hg,e("button",{onClick:ee(Q,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",vg,[e("div",bg,[e("div",fg,[$g,e("div",gg,[e("table",yg,[e("tbody",null,[kg,e("tr",null,[wg,e("td",null,t(l.site_name),1)]),e("tr",null,[xg,e("td",null,t(l.asset_name),1)]),e("tr",null,[Cg,e("td",null,t(l.asset_type),1)]),e("tr",null,[Sg,e("td",null,t(l.serial),1)]),e("tr",null,[Dg,e("td",null,t(l.date_acquired),1)]),e("tr",null,[Ug,e("td",null,t(l.man_supplier),1)]),e("tr",null,[Vg,e("td",null,t(l.unit),1)]),Mg,e("tr",null,[Ag,e("td",null,t(l.paccountable),1)]),e("tr",null,[Eg,e("td",null,t(l.locationchangetranfer),1)]),Tg,e("tr",null,[Pg,e("td",null,t(l.cucodition),1)]),e("tr",null,[Fg,e("td",null,t(l.maintenancenotes),1)]),e("tr",null,[Lg,e("td",null,t(l.lastmaintenance),1)]),e("tr",null,[Ig,e("td",null,t(l.nextmaintenance),1)]),qg,e("tr",null,[Yg,e("td",null,t(l.operationhours),1)]),e("tr",null,[Ng,e("td",null,t(l.notes),1)]),Bg,e("tr",null,[Rg,e("td",null,t("\u20B1"+l.purchasecost),1)]),e("tr",null,[Hg,e("td",null,t("\u20B1"+l.Depreciationcostbyyear),1)]),e("tr",null,[jg,e("td",null,t(l.insurancewarrantyinfo),1)])])])]),Og])])])],64)}}};const oe=o=>(De("data-v-550095c3"),o=o(),Ue(),o),Gg={class:"content"},Wg={class:"container-fluid"},Qg={class:"d-flex justify-content-between"},Kg={class:"d-flex"},Xg=oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Jg={key:0},Zg=oe(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),ey={class:"ml-2"},ty={class:"d-flex"},sy={class:"form-group"},ay=oe(()=>e("option",{value:"",disabled:""},"Select a site",-1)),oy=["value"],ly={id:"captureDiv"},ny={class:"card"},dy={class:"card-header"},iy={class:"card-title"},cy={class:"card-tools"},ry={id:"cost"},uy={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},_y=oe(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),my={class:"card-body"},py=oe(()=>e("i",{class:"fa fa-camera"},null,-1)),hy=[py],vy={key:1,class:"table-responsive"},by={class:"table table-bordered table-sm table-striped table-hover"},fy=oe(()=>e("th",null,null,-1)),$y=oe(()=>e("th",null,"Date",-1)),gy=oe(()=>e("th",null,"Allocated Pallet Space",-1)),yy=oe(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),ky=oe(()=>e("th",null,"Space Utilization %",-1)),wy=oe(()=>e("th",null,"Excess",-1)),xy={key:0},Cy={key:1},Sy=oe(()=>e("th",null,"Remarks",-1)),Dy=oe(()=>e("th",null,"Action",-1)),Uy={key:0},Vy=["item","index","select-all"],My=["checked"],Ay={key:0},Ey={key:1},Ty=["onClick"],Py=oe(()=>e("i",{class:"fa fa-edit"},null,-1)),Fy=[Py],Ly={key:0},Iy=oe(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),qy={colspan:"3"},Yy={key:1},Ny=oe(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),By=[Ny],Ry={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hy={class:"modal-dialog modal-sm",role:"document"},jy={class:"modal-content"},Oy={class:"modal-header"},zy={class:"modal-title",id:"staticBackdropLabel"},Gy={key:0},Wy={key:1},Qy=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Ky=we('<ul class="nav nav-tabs" data-v-550095c3><li id="bulkviewtab1" class="nav-item" data-v-550095c3><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-550095c3>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-550095c3><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-550095c3>Bulk Pallet</a></li></ul>',1),Xy={class:"tab-content"},Jy={class:"tab-pane fade show active",id:"sigle-pallet-tab"},Zy={class:"modal-body"},e2={class:"col-md-12"},t2={class:"row"},s2={class:"col-12"},a2={class:"form-group"},o2=oe(()=>e("label",{for:"date"},"Date",-1)),l2={class:"invalid-feedback"},n2={class:"form-group"},d2=oe(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),i2={class:"invalid-feedback"},c2={class:"form-group"},r2=oe(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),u2={class:"invalid-feedback"},_2={class:"form-group"},m2=oe(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),p2={class:"invalid-feedback"},h2=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),v2={class:"tab-pane fade show",id:"bulk-pallet-tab"},b2={class:"modal-body"},f2={class:"col-md-12"},$2={class:"row"},g2={class:"col-12"},y2={class:"form-group"},k2=oe(()=>e("label",{for:"fromdate"},"From:",-1)),w2={class:"invalid-feedback"},x2={class:"form-group"},C2=oe(()=>e("label",{for:"todate"},"To:",-1)),S2={class:"invalid-feedback"},D2={class:"form-group"},U2=oe(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),V2={class:"invalid-feedback"},M2={class:"form-group"},A2=oe(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),E2={class:"invalid-feedback"},T2={class:"form-group"},P2=oe(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),F2={class:"invalid-feedback"},L2=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),I2={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},q2={class:"modal-dialog",role:"document"},Y2={class:"modal-content"},N2=we('<div class="modal-header" data-v-550095c3><h5 class="modal-title" id="staticBackdropLabel" data-v-550095c3><span data-v-550095c3>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-550095c3><span aria-hidden="true" data-v-550095c3>\xD7</span></button></div><div class="modal-body" data-v-550095c3><h5 data-v-550095c3>Are you sure you want to delete this record ?</h5></div>',2),B2={class:"modal-footer"},R2=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),H2={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j2={class:"modal-dialog modal-sm",role:"document"},O2={class:"modal-content"},z2=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),G2={class:"modal-body"},W2={class:"fromtocenter"},Q2=oe(()=>e("label",{for:"fromDate"},"From:",-1)),K2=oe(()=>e("label",{for:"toDate"},"To:",-1)),X2={class:"modal-footer"},J2=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Z2={__name:"PalletList",setup(o){const k=Qe("$swal"),_=`${be().name}`,d=me(),r=i({data:[]}),u=i(),h=i(!1),U=i(!1),l=_e(),A=i(!0),f=i(!0),C=i(),n=Ve({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});i(null);const x=i(),N=()=>{h.value=!0,F.get("/web/pallet",{params:{site_id:n.site_id,query:y.value}}).then(j=>{h.value=!1,r.value=j.data.data,x.value=j.data.sum,te.value=[],qe.value=!1})},W=ke({allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required(),fromdate:q().required(),todate:q().required()}),Z=ke({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),ne=ke({date:q().required(),allocatedpalletspace:q().required(),spaceuteltotal:q().required(),caseperpallet:q().required()}),B=i(""),M=i(""),Y=i({start_date:"",end_date:""});ve([B],()=>{const j=new Date(B.value),O=j.getFullYear(),fe=String(j.getMonth()+1).padStart(2,"0"),v=String(j.getDate()).padStart(2,"0");Y.value.start_date=`${O}-${fe}-${v}`}),ve([M],()=>{const j=new Date(M.value),O=j.getFullYear(),fe=String(j.getMonth()+1).padStart(2,"0"),v=String(j.getDate()).padStart(2,"0");Y.value.end_date=`${O}-${fe}-${v}`});const m=()=>{h.value=!0,F.get("/web/filter-pallet",{params:{start_date:Y.value.start_date,end_date:Y.value.end_date,site_id:n.site_id}}).then(j=>{h.value=!1,r.value=j.data.data,x.value=j.data.sum}).catch(j=>{console.error(j)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},w=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},H=({resetForm:j,setErrors:O})=>{F.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then(fe=>{N(),$("#FormModal").modal("hide"),w(),d.success("Data created successfully!")}).catch(function(fe){fe.response?d.error(fe.response.data.message):fe.request?d.error(fe.request):d.error("Error",fe.message)})},ae=()=>{F.get("/web/getsite").then(j=>{u.value=j.data.sites}).catch(j=>{console.log(j)})},Q=()=>{N(n.site_id);const j=u.value.find(O=>O.id===n.site_id);C.value=j?j.site_name:""},pe=()=>{if(!n.site_id||n.site_id.length===0){k.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}U.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show()},G=j=>{$("#bulkviewtab2").hide(),U.value=!0,n.id=j.id,n.user_id=j.user_id,n.site_id=j.site_id,n.date=j.date,n.allocatedpalletspace=j.allocatedpalletspace,n.spaceuteltotal=j.spaceuteltotal,n.caseperpallet=j.caseperpallet,$("#FormModal").modal("show")},L=({setErrors:j})=>{F.post("/web/pallet",n).then(O=>{w(),N(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(O=>{j(O.response.data.errors),console.log(O)})},S=(j,O)=>{U.value?L(j):H(j)},b=()=>{F.post("/web/bulkCreatePallet",n).then(j=>{N(),$("#FormModal").modal("hide"),d.success(j.data.message)}).catch(j=>{d.error(j.response.data.errors)})},y=i(null),te=i([]),de=j=>{const O=te.value.indexOf(j.id);O===-1?te.value.push(j.id):te.value.splice(O,1),console.log(te.value)},V=i(null),T=j=>{V.value=j,$("#deleteDataModal").modal("show")},Ie=()=>{F.delete(`/web/pallet/${V.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),r.value.data=r.value.data.filter(j=>j.id!==V.value)})},Be=()=>{F.delete("/web/bulkDeletePallet",{data:{ids:te.value}}).then(j=>{N(),te.value=[],qe.value=!1,d.success(j.data.message)})},Oe=()=>{if(!n.site_id||n.site_id.length===0){k.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},qe=i(!1),ze=()=>{$("#cost").hide(),$("#capturecamerafilter").hide();const j=document.getElementById("captureDiv");je(j).then(O=>{const fe=O.toDataURL(),v=document.createElement("a");v.href=fe,v.download=`${C.value} - ${_}.png`,v.click()}),$("#cost").show(),$("#capturecamerafilter").show()};return ve([f],j=>{n.is_active=j?1:0}),ve(y,Ee.exports.debounce(()=>{N()},300)),ue(()=>{ae(),document.title=_}),(j,O)=>{const fe=$e("font");return s(),a(z,null,[e("div",Gg,[e("div",Wg,[e("div",Qg,[e("div",Kg,[e("button",{onClick:pe,type:"button",class:"mb-2 btn btn-primary"},[Xg,I(" Pallet ")]),te.value.length>0?(s(),a("div",Jg,[e("button",{onClick:Be,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zg,I(" Delete Selected ")]),e("span",ey,"Selected "+t(te.value.length)+" Pallet",1)])):P("",!0)]),e("div",ty,[e("div",sy,[J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":O[0]||(O[0]=v=>n.site_id=v),onChange:O[1]||(O[1]=v=>Q())},[ay,(s(!0),a(z,null,K(u.value,v=>(s(),a("option",{key:v.id,value:v.id},t(v.site_name),9,oy))),128))],544),[[Te,n.site_id]])])])]),e("div",ly,[e("div",ny,[e("div",dy,[e("div",iy,t(C.value||"Select a Site"),1),e("div",cy,[e("div",ry,[e("div",uy,[J(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":O[2]||(O[2]=v=>A.value=v)},null,512),[[Me,A.value]]),_y])])])]),e("div",my,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:ze,type:"button",class:"mb-2 btn btn-sm btn-success"},hy)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:Oe})])])]),h.value?(s(),ie(Ae,{key:0})):(s(),a("div",vy,[g(fe,{size:"2"},{default:X(()=>[e("table",by,[e("thead",null,[e("tr",null,[fy,$y,gy,yy,ky,wy,A.value?(s(),a("th",xy,"Cost per Pallet")):P("",!0),A.value?(s(),a("th",Cy,"Cost")):P("",!0),Sy,Dy])]),r.value.length>0?(s(),a("tbody",Uy,[(s(!0),a(z,null,K(r.value,(v,E)=>(s(),a("tr",{key:v.id,item:v,index:E,onConfirmDeletion:T,onToggleSelection:de,"select-all":qe.value},[e("td",null,[e("input",{type:"checkbox",checked:qe.value,onChange:de},null,40,My)]),e("td",null,t(c(he)(v.date).format("MMMM DD, YY")),1),e("td",null,t(v.allocatedpalletspace),1),e("td",null,t(v.spaceuteltotal),1),e("td",null,t(v.spacetotalutelpercent),1),e("td",null,t(v.excess),1),A.value?(s(),a("td",Ay,t(v.caseperpallet),1)):P("",!0),A.value?(s(),a("td",Ey,t(v.cost),1)):P("",!0),e("td",null," EXCESS "+t(v.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:p=>G(v)},Fy,8,Ty)])],40,Vy))),128)),A.value?(s(),a("tr",Ly,[Iy,e("td",qy,[e("b",null,t(x.value),1)])])):P("",!0)])):(s(),a("tbody",Yy,By))])]),_:1})]))])])])])]),e("div",Ry,[e("div",Hy,[e("div",jy,[e("div",Oy,[e("h5",zy,[U.value?(s(),a("span",Gy,"Edit Pallet")):(s(),a("span",Wy,"Add Pallet"))]),Qy]),Ky,e("div",Xy,[e("div",Jy,[g(c(Ce),{onSubmit:S,"validation-schema":U.value?c(ne):c(Z)},{default:X(({errors:v})=>[e("div",Zy,[e("div",e2,[e("div",t2,[e("div",s2,[g(c(R),{modelValue:n.user_id,"onUpdate:modelValue":O[3]||(O[3]=E=>n.user_id=E),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",a2,[o2,g(c(R),{name:"date",type:"date",class:D(["form-control",{"is-invalid":v.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":O[4]||(O[4]=E=>n.date=E)},null,8,["class","modelValue"]),e("span",l2,t(v.date),1)]),e("div",n2,[d2,g(c(R),{name:"allocatedpalletspace",type:"text",class:D(["form-control",{"is-invalid":v.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":O[5]||(O[5]=E=>n.allocatedpalletspace=E)},null,8,["class","modelValue"]),e("span",i2,t(v.allocatedpalletspace),1)]),e("div",c2,[r2,g(c(R),{name:"spaceuteltotal",type:"text",class:D(["form-control",{"is-invalid":v.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":O[6]||(O[6]=E=>n.spaceuteltotal=E),required:""},null,8,["class","modelValue"]),e("span",u2,t(v.spaceuteltotal),1)]),e("div",_2,[m2,g(c(R),{name:"caseperpallet",type:"text",class:D(["form-control",{"is-invalid":v.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":O[7]||(O[7]=E=>n.caseperpallet=E)},null,8,["class","modelValue"]),e("span",p2,t(v.caseperpallet),1)])])])])]),h2]),_:1},8,["validation-schema"])]),e("div",v2,[g(c(Ce),{onSubmit:b,"validation-schema":c(W)},{default:X(({errors:v})=>[e("div",b2,[e("div",f2,[e("div",$2,[e("div",g2,[g(c(R),{modelValue:n.user_id,"onUpdate:modelValue":O[8]||(O[8]=E=>n.user_id=E),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",y2,[k2,g(c(R),{name:"fromdate",type:"date",class:D(["form-control",{"is-invalid":v.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.fromdate,"onUpdate:modelValue":O[9]||(O[9]=E=>n.fromdate=E)},null,8,["class","modelValue"]),I(),e("span",w2,t(v.fromdate),1)]),e("div",x2,[C2,g(c(R),{name:"todate",type:"date",class:D(["form-control",{"is-invalid":v.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.todate,"onUpdate:modelValue":O[10]||(O[10]=E=>n.todate=E)},null,8,["class","modelValue"]),e("span",S2,t(v.todate),1)]),e("div",D2,[U2,g(c(R),{name:"allocatedpalletspace",type:"text",class:D(["form-control",{"is-invalid":v.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":O[11]||(O[11]=E=>n.allocatedpalletspace=E)},null,8,["class","modelValue"]),e("span",V2,t(v.allocatedpalletspace),1)]),e("div",M2,[A2,g(c(R),{name:"spaceuteltotal",type:"text",class:D(["form-control",{"is-invalid":v.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":O[12]||(O[12]=E=>n.spaceuteltotal=E),required:""},null,8,["class","modelValue"]),e("span",E2,t(v.spaceuteltotal),1)]),e("div",T2,[P2,g(c(R),{name:"caseperpallet",type:"text",class:D(["form-control",{"is-invalid":v.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":O[13]||(O[13]=E=>n.caseperpallet=E)},null,8,["class","modelValue"]),e("span",F2,t(v.caseperpallet),1)])])])])]),L2]),_:1},8,["validation-schema"])])])])])]),e("div",I2,[e("div",q2,[e("div",Y2,[N2,e("div",B2,[R2,e("button",{onClick:ee(Ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",H2,[e("div",j2,[e("div",O2,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(_)+" Report")]),z2]),e("div",G2,[e("div",W2,[e("div",null,[Q2,g(c(Pe),{modelValue:B.value,"onUpdate:modelValue":O[14]||(O[14]=v=>B.value=v)},null,8,["modelValue"])]),e("div",null,[K2,g(c(Pe),{modelValue:M.value,"onUpdate:modelValue":O[15]||(O[15]=v=>M.value=v)},null,8,["modelValue"])])])]),e("div",X2,[J2,e("button",{onClick:O[16]||(O[16]=v=>m()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var ek=ge(Z2,[["__scopeId","data-v-550095c3"]]);const tk=o=>(De("data-v-298b68f9"),o=o(),Ue(),o),sk={class:"content"},ak={class:"container-fluid"},ok={class:"row"},lk={class:"col-md-6"},nk={class:"card"},dk={class:"card-title"},ik={class:"form-group m-3"},ck=tk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),rk=["value"],uk={class:"card-body"},_k={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},mk={class:"custom-control custom-checkbox"},pk=["value","id","checked"],hk=["for"],vk={class:"card-footer"},bk={__name:"UserSite",setup(o){_e();const k=`${be().name}`,_=me();i(!0);const d=Ve({user_id:""});i(null),i();const r=i(),u=i(),h=i([]),U=()=>{F.get("/api/users/userlist").then(C=>{u.value=C.data}).catch(C=>{console.log(C)})},l=C=>{C!==null?F.get(`/web/usersite/${C}`).then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):F.get("/web/getsitewithoutuser").then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},A=()=>{const C={user_id:d.user_id,site_id:h.value};console.log(C),F.post("/web/onSaveupdate",C).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},f=C=>{l(C)};return ue(()=>{U(),l(),document.title=k}),(C,n)=>(s(),a("div",sk,[e("div",ak,[e("div",ok,[e("div",lk,[e("div",nk,[e("div",dk,[e("div",ik,[g(c(R),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=x=>d.user_id=x),onChange:n[1]||(n[1]=x=>f(d.user_id))},{default:X(()=>[ck,(s(!0),a(z,null,K(u.value,x=>(s(),a("option",{key:x.id,value:x.id},t(x.name),9,rk))),128))]),_:1},8,["modelValue"])])]),e("div",uk,[e("ul",_k,[(s(!0),a(z,null,K(r.value,x=>(s(),a("li",{key:x.id,class:"list-group-item"},[e("div",mk,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=N=>h.value=N),value:x.id,id:"site_id_"+x.id,checked:x.hasAccess},null,8,pk),[[Me,h.value]]),e("label",{for:"site_id_"+x.id,class:"custom-control-label"},t(x.site_name),9,hk)])]))),128))]),e("div",vk,[e("button",{type:"button",onClick:n[3]||(n[3]=x=>A()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var fk=ge(bk,[["__scopeId","data-v-298b68f9"]]),$k=[{path:"/login",name:"admin.login",component:Rn},{path:"/",name:"Dashboard",component:At},{path:"/appointments",name:"Appointments",component:Jt},{path:"/appointments/create",name:"Appointments",component:Je},{path:"/appointments/:id/edit",name:"Appointments",component:Je},{path:"/user",name:"User",component:Vo},{path:"/settings",name:"Setting",component:Cl},{path:"/profile",name:"Profile",component:$n},{path:"/client",name:"Client",component:Nd},{path:"/tech-recommendation",name:"Tech Recomm",component:tr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:sm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:xh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Ap},{path:"/usermenu",name:"User Menu",component:gv},{path:"/menu",name:"Menu",component:H1},{path:"/:catchAll(.*)",name:"404 Error Page",component:ot},{path:"/notifications",name:"Notifications",component:Jb},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:lt},{path:"/asset-monitoring",name:"Asset Monitoring",component:zg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:ek},{path:"/usersite",name:"User Site",component:fk}];const gk={class:"navbar-nav"},yk=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),kk={class:"nav-item d-none d-sm-inline-block"},wk={class:"navbar-nav ml-auto"},xk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Ck=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),Sk={class:"nav-link","data-toggle":"dropdown",href:"#"},Dk=e("i",{class:"far fa-bell"},null,-1),Uk={class:"badge badge-warning navbar-badge"},Vk={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Mk={class:"dropdown-header"},Ak=e("div",{class:"dropdown-divider"},null,-1),Ek=e("i",{class:"fas fa-envelope mr-2"},null,-1),Tk={class:"float-right text-muted text-sm"},Pk={key:1,class:"text-center text-muted py-3"},Fk=e("div",{class:"dropdown-divider"},null,-1),Lk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Ik=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),qk={__name:"AppNavbar",setup(o){const k=Re(),_=i([]),d=()=>{F.get("/api/notifications").then(r=>{_.value=r.data.notifications}).catch(r=>{console.error("Error fetching notifications",r)})};return ue(()=>{d()}),(r,u)=>{const h=$e("router-link");return s(),a("nav",{class:D(["main-header navbar navbar-expand",c(k).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",gk,[yk,e("li",kk,[e("a",{onClick:u[0]||(u[0]=ee((...U)=>c(k).changeTheme&&c(k).changeTheme(...U),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:D(["far",c(k).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",wk,[xk,Ck,e("li",{class:"nav-item dropdown",onClick:d},[e("a",Sk,[Dk,e("span",Uk,t(_.value.length),1)]),e("div",Vk,[e("span",Mk,t(_.value.length)+" Notifications",1),Ak,_.value.length>0?(s(!0),a(z,{key:0},K(_.value,U=>(s(),a("a",{key:U.id,href:"#",class:"dropdown-item"},[Ek,I(" "+t(U.data?U.data:"No message available")+" ",1),e("span",Tk,t(c(he)(U.created_at)),1)]))),128)):(s(),a("p",Pk,"No new notifications")),Fk,g(h,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:X(()=>[I("See All Notifications")]),_:1})])]),Lk,Ik])],2)}}},Yk={class:"main-sidebar sidebar-dark-primary elevation-4"},Nk={href:"#",class:"brand-link"},Bk=["src"],Rk={class:"brand-text font-weight-light"},Hk={class:"sidebar"},jk={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Ok={key:0,class:"image"},zk=["src"],Gk={key:1,class:"image"},Wk=["src"],Qk=["src"],Kk={class:"info"},Xk={href:"#",class:"d-block"},Jk={class:"mt-2"},Zk={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},e0={key:0,class:"right fas fa-angle-left"},t0={key:0,class:"nav nav-treeview"},s0={class:"nav-item"},a0={class:"nav-link"},o0=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),l0=e("p",null,"Logout",-1),n0=[o0,l0],d0={__name:"SidebarLeft",setup(o){const k=We(),_=_e(),d=Re(),r=i({data:[]}),u=()=>{axios.get("/api/menu").then(l=>{r.value=l.data}).catch(l=>{console.log(l)})},h=l=>l===k.currentRoute.value.path,U=()=>{axios.post("/logout").then(l=>{_.user.name="",k.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),u()}),(l,A)=>{const f=$e("router-link");return s(),a("aside",Yk,[e("a",Nk,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Bk),e("span",Rk,t(c(d).setting.app_name),1)]),e("div",Hk,[e("div",jk,[c(_).user.avatar===""?(s(),a("div",Ok,[e("img",{src:c(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,zk)])):c(_).user.avatar!==""?(s(),a("div",Gk,[c(_).user.gender==="Male"?(s(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Wk)):c(_).user.gender==="Female"?(s(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Qk)):P("",!0)])):P("",!0),e("div",Kk,[e("a",Xk,t(c(_).user.name),1)])]),e("nav",Jk,[e("ul",Zk,[(s(!0),a(z,null,K(r.value,C=>(s(),a("li",{key:C.id,class:D({"nav-item":!0,"menu-is-opening":C.submenus&&C.submenus.length>0})},[g(f,{class:D({"nav-link":!0,active:h(C.menu_route)}),to:`${C.menu_route}`},{default:X(()=>[e("i",{class:D("nav-icon "+C.menu_icon)},null,2),e("p",null,t(C.menu_title),1),C.submenus&&C.submenus.length>0?(s(),a("i",e0)):P("",!0)]),_:2},1032,["class","to"]),C.submenus&&C.submenus.length>0?(s(),a("ul",t0,[(s(!0),a(z,null,K(C.submenus,n=>(s(),a("li",{key:n.id,class:"nav-item"},[g(f,{class:D({"nav-link menu-open":!0,active:h(n.menu_route)}),to:n.menu_route},{default:X(()=>[e("i",{class:D("nav-icon "+n.menu_icon)},null,2),e("p",null,t(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):P("",!0)],2))),128)),e("li",s0,[e("form",a0,[e("a",{href:"#",onClick:ee(U,["prevent"])},n0)])])])])])])}}},i0={},c0={class:"control-sidebar control-sidebar-dark"},r0=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),u0=[r0];function _0(o,k){return s(),a("aside",c0,u0)}var m0=ge(i0,[["render",_0]]);const p0={class:"main-footer"},h0={class:"float-right d-none d-sm-block"},v0={href:"#"},b0={__name:"AppFooter",props:{settings:Object},setup(o){const k=_e(),_=i(new Date().getFullYear());return(d,r)=>{var u;return s(),a("footer",p0,[e("div",h0,t(c(k).user.name),1),e("strong",null,[I("Copyright \xA9 "+t(_.value)+" ",1),e("a",v0,t((u=o.settings)==null?void 0:u.app_name),1),I(".")]),I(" All rights reserved. ")])}}};const f0=o=>(De("data-v-36653638"),o=o(),Ue(),o),$0={class:"content-wrapper"},g0={class:"content-header"},y0={class:"container-fluid"},k0={class:"row mb-2"},w0={class:"col-sm-6"},x0={class:"m-0"},C0={class:"col-sm-6"},S0={class:"breadcrumb float-sm-right"},D0=f0(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),U0={class:"breadcrumb-item active"},V0={__name:"CustomMainLayout",setup(o){const k=_e(),_=Re(),d=Se(()=>_.theme==="dark"?"dark-mode":"");return(r,u)=>{const h=$e("router-view");return c(k).user.name!==""?(s(),a("div",{key:0,class:D(["wrapper",d.value])},[g(qk),g(d0),g(m0),e("div",$0,[e("section",g0,[e("div",y0,[e("div",k0,[e("div",w0,[e("h1",x0,t(r.$route.name),1)]),e("div",C0,[e("ol",S0,[D0,e("li",U0,t(r.$route.name),1)])])])])]),g(h)]),g(b0)],2)):(s(),a("div",{key:1,class:D(["login-page slibg",d.value])},[g(h)],2))}}};var M0=ge(V0,[["__scopeId","data-v-36653638"]]);const A0={__name:"App",setup(o){_e();const k=be(),_=Se(()=>k.name==="Tech-Approved"),d=Se(()=>k.name==="404 Error Page");return(r,u)=>(s(),a("div",null,[!d.value&&!_.value?(s(),ie(M0,{key:0})):_.value?(s(),ie(lt,{key:1})):(s(),ie(ot,{key:2}))]))}};var E0=ge(A0,[["__scopeId","data-v-252b567e"]]);const T0=ct(),Ne=_t(E0),nt=rt({routes:$k,history:ut()});nt.beforeEach(async(o,k)=>{const _=_e();if(_.user.name===""&&o.name!=="admin.login"){const d=Re();await Promise.all([_.getAuthUser(),d.getSetting()])}});Ne.use(xt);Ne.use(T0);Ne.use(nt);Ne.use(wt);Ne.use(st);Ne.mount("#app");
