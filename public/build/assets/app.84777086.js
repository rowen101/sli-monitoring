import{_ as st,l as we}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as at}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.6c11729d.js";import{d as je,c as ot}from"./pinia.177553b5.js";import{u as Ye,a as Pe,c as lt,b as nt}from"./vue-router.ea66a290.js";import{r as c,o as re,i as s,k as e,_ as w,u as i,e as t,I as fe,h as ee,j as V,x as a,F as q,q as z,d as Ce,a0 as se,v as E,C as De,a2 as W,a3 as ae,a7 as ke,p as A,w as pe,a8 as Ue,a9 as _e,f as ne,a5 as $e,a6 as ge,B as dt,a1 as Ie,aa as it}from"./@vue.4ae0f184.js";import{B as ct}from"./vue-chartjs.a660a76a.js";import{C as rt,p as ut,a as _t,b as mt,c as ht,d as pt,L as vt}from"./chart.js.562acd0f.js";import{S as Re}from"./sweetalert2.ef56b979.js";import{t as Fe}from"./toastr.94171567.js";import{F as be,a as X}from"./vee-validate.2167efee.js";import{f as He}from"./flatpickr.181c7977.js";import{c as ve,a as R}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ce}from"./moment.40bc58bf.js";import{a as Ae}from"./laravel-vue-pagination.441da446.js";import{C as xe}from"./vue-content-loader.1bd220f1.js";import"./dompurify.5fe4b1c1.js";import{u as bt}from"./@vueuse.38a26bf2.js";import{L as Me}from"./vue3-datepicker.d98707a6.js";import{h as Le}from"./html2canvas.c4a43e03.js";import{h as Oe}from"./html2pdf.js.44b835e5.js";import{V as ft}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=st;window.axios=T;window.$=window.jQuery=at;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const de=je("AuthUserStore",()=>{const o=c({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(n=>{o.value=n.data})}}}),$t={class:"content"},gt={class:"container-fluid"},yt={class:"card"},kt=e("div",{class:"card-header"}," Yearly Progress ",-1),xt={class:"card-body"},wt=e("div",{class:"row"},null,-1),Ct={__name:"Dashboard",setup(o){rt.register(ut,_t,mt,ht,pt,vt),de(),c("all"),c(0);const r=c({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),n=()=>{axios.get("/api/chart").then(k=>{k.data,r.value=k.data}).catch(k=>{console.error("Error fetching chart data:",k)})},l=c("today"),d=c(0),h=()=>{axios.get("/api/stats/users",{params:{date_range:l.value}}).then(k=>{d.value=k.data.totalUsersCount})};return re(()=>{n(),h()}),(k,M)=>(t(),s("div",$t,[e("div",gt,[e("div",yt,[kt,e("div",xt,[w(i(ct),{data:r.value},null,8,["data"])])]),wt])]))}},St={class:"content"},Ut={class:"container-fluid"},Mt={class:"row"},Dt={class:"col-lg-12"},At={class:"d-flex justify-content-between mb-2"},Vt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),E(" Add New Appointment")],-1),Et={class:"btn-group"},Tt=e("span",{class:"mr-1"},"All",-1),Ft={class:"badge badge-pill badge-info"},Pt=["onClick"],It={class:"mr-1"},Lt={class:"card"},Yt={class:"card-body"},Bt={class:"table table-bordered"},Nt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Rt=e("td",null,null,-1),qt=e("i",{class:"fa fa-edit mr-2"},null,-1),jt=["onClick"],Ht=e("i",{class:"fa fa-trash text-danger"},null,-1),Ot=[Ht],zt={__name:"ListAppointments",setup(o){const r=c(),n=c([]),l=()=>{T.get("/api/appointment-status").then(m=>{n.value=m.data})},d=c([]),h=m=>{r.value=m;const C={};m&&(C.status=m),T.get("/api/appointments",{params:C}).then(b=>{d.value=b.data,console.log(b)})},k=fe(()=>n.value.map(m=>m.count).reduce((m,C)=>m+C,0)),M=m=>{const C=d.value.data.find(u=>u.id===m).status.name,b=n.value.find(u=>u.name===C);b.count--},N=m=>{Re.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(C=>{C.isConfirmed&&T.delete(`/api/appointments/${m}`).then(b=>{M(m),d.value.data=d.value.data.filter(u=>u.id!==m),Re.fire("Deleted!","Your file has been deleted.","success")})})};return re(()=>{h(),l()}),(m,C)=>{const b=Ce("router-link");return t(),s("div",St,[e("div",Ut,[e("div",Mt,[e("div",Dt,[e("div",At,[e("div",null,[w(b,{to:"/admin/appointments/create"},{default:ee(()=>[Vt]),_:1})]),e("div",Et,[e("button",{onClick:C[0]||(C[0]=u=>h()),type:"button",class:V(["btn",[typeof r.value=="undefined"?"btn-secondary":"btn-default"]])},[Tt,e("span",Ft,a(k.value),1)],2),(t(!0),s(q,null,z(n.value,u=>(t(),s("button",{onClick:S=>h(u.value),type:"button",class:V(["btn",[r.value===u.value?"btn-secondary":"btn-default"]])},[e("span",It,a(u.name),1),e("span",{class:V(["badge badge-pill",`badge-${u.color}`])},a(u.count),3)],10,Pt))),256))])]),e("div",Lt,[e("div",Yt,[e("table",Bt,[Nt,e("tbody",null,[(t(!0),s(q,null,z(d.value.data,(u,S)=>(t(),s("tr",{key:u.id},[e("td",null,a(S+1),1),e("td",null,a(u.client.first_name)+" "+a(u.client.last_name),1),e("td",null,a(u.start_time),1),e("td",null,a(u.end_time),1),Rt,e("td",null,[w(b,{to:`/admin/appointments/${u.id}/edit`},{default:ee(()=>[qt]),_:2},1032,["to"]),e("a",{href:"#",onClick:se(K=>N(u.id),["prevent"])},Ot,8,jt)])]))),128))])])])])])])])])}}};function ie(){return Fe.options.positionClass="toast-top-right",Fe.options.closeButton=!0,Fe.options.progressBar=!0,Fe}const Gt={class:"content-header"},Qt={class:"container-fluid"},Wt={class:"row mb-2"},Kt={class:"col-sm-6"},Xt={class:"m-0"},Jt={key:0},Zt={key:1},es={class:"col-sm-6"},ts={class:"breadcrumb float-sm-right"},ss={class:"breadcrumb-item"},as={class:"breadcrumb-item"},os={class:"breadcrumb-item active"},ls={key:0},ns={key:1},ds={class:"content"},is={class:"container-fluid"},cs={class:"row"},rs={class:"col-lg-12"},us={class:"card"},_s={class:"card-body"},ms={class:"row"},hs={class:"col-md-6"},ps={class:"form-group"},vs=e("label",{for:"title"},"Title",-1),bs={class:"invalid-feedback"},fs={class:"col-md-6"},$s={class:"form-group"},gs=e("label",{for:"client"},"Client Name",-1),ys=["value"],ks={class:"invalid-feedback"},xs={class:"row"},ws={class:"col-md-6"},Cs={class:"form-group"},Ss=e("label",{for:"start-time"},"Start Time",-1),Us={class:"invalid-feedback"},Ms={class:"col-md-6"},Ds={class:"form-group"},As=e("label",{for:"end-time"},"End Time",-1),Vs={class:"invalid-feedback"},Es={class:"form-group"},Ts=e("label",{for:"description"},"Description",-1),Fs={class:"invalid-feedback"},Ps=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),qe={__name:"AppointmentForm",setup(o){const r=Ye(),n=Pe(),l=ie(),d=De({title:"",client_id:"",start_time:"",end_time:"",description:""}),h=(u,S)=>{b.value?M(u,S):k(u,S)},k=(u,S)=>{T.post("/api/appointments/create",d).then(K=>{r.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(K=>{S.setErrors(K.response.data.errors)})},M=(u,S)=>{T.put(`/api/appointments/${n.params.id}/edit`,d).then(K=>{r.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(K=>{S.setErrors(K.response.data.errors)})},N=c(),m=()=>{T.get("/api/view-clients").then(u=>{N.value=u.data})},C=()=>{T.get(`/api/appointments/${n.params.id}/edit`).then(({data:u})=>{d.title=u.title,d.client_id=u.client_id,d.start_time=u.formatted_start_time,d.end_time=u.formatted_end_time,d.description=u.description})},b=c(!1);return re(()=>{n.name==="admin.appointments.edit"&&(b.value=!0,C()),He(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),m()}),(u,S)=>{const K=Ce("router-link");return t(),s(q,null,[e("div",Gt,[e("div",Qt,[e("div",Wt,[e("div",Kt,[e("h1",Xt,[b.value?(t(),s("span",Jt,"Edit")):(t(),s("span",Zt,"Create")),E(" Appointment")])]),e("div",es,[e("ol",ts,[e("li",ss,[w(K,{to:"/admin/dashboard"},{default:ee(()=>[E("Home")]),_:1})]),e("li",as,[w(K,{to:"/admin/appointments"},{default:ee(()=>[E("Appointments")]),_:1})]),e("li",os,[b.value?(t(),s("span",ls,"Edit")):(t(),s("span",ns,"Create"))])])])])])]),e("div",ds,[e("div",is,[e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[w(i(be),{onSubmit:h},{default:ee(({errors:Y})=>[e("div",ms,[e("div",hs,[e("div",ps,[vs,W(e("input",{"onUpdate:modelValue":S[0]||(S[0]=G=>d.title=G),type:"text",class:V(["form-control",{"is-invalid":Y.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ae,d.title]]),e("span",bs,a(Y.title),1)])]),e("div",fs,[e("div",$s,[gs,W(e("select",{"onUpdate:modelValue":S[1]||(S[1]=G=>d.client_id=G),id:"client",class:V(["form-control",{"is-invalid":Y.client_id}])},[(t(!0),s(q,null,z(N.value,G=>(t(),s("option",{value:G.id,key:G.id},a(G.first_name)+" "+a(G.last_name),9,ys))),128))],2),[[ke,d.client_id]]),e("span",ks,a(Y.client_id),1)])])]),e("div",xs,[e("div",ws,[e("div",Cs,[Ss,W(e("input",{"onUpdate:modelValue":S[2]||(S[2]=G=>d.start_time=G),type:"text",class:V(["form-control flatpickr",{"is-invalid":Y.start_time}]),id:"start-time"},null,2),[[ae,d.start_time]]),e("span",Us,a(Y.start_time),1)])]),e("div",Ms,[e("div",Ds,[As,W(e("input",{"onUpdate:modelValue":S[3]||(S[3]=G=>d.end_time=G),type:"text",class:V(["form-control flatpickr",{"is-invalid":Y.end_time}]),id:"end-time"},null,2),[[ae,d.end_time]]),e("span",Vs,a(Y.end_time),1)])])]),e("div",Es,[Ts,W(e("textarea",{"onUpdate:modelValue":S[4]||(S[4]=G=>d.description=G),class:V(["form-control",{"is-invalid":Y.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ae,d.description]]),e("span",Fs,a(Y.description),1)]),Ps]),_:1})])])])])])])],64)}}},Is=["checked"],Ls=["value","selected"],Ys=["value","selected"],Bs=e("i",{class:"fa fa-edit"},null,-1),Ns=[Bs],Rs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),qs=[Rs],js={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:r}){const n=ie(),l=o,d=r,h=c([{name:"ADMIN",value:1},{name:"USER",value:2}]),k=c([]),M=()=>{T.get("/api/users/userlist").then(b=>{k.value=b.data}).catch(b=>{console.log(b)})},N=(b,u)=>{T.patch(`/api/users/${b.id}/change-role`,{role:u}).then(()=>{n.success("Role changed successfully!")})},m=(b,u)=>{T.patch(`/api/users/${b.id}/change-sitehead`,{sitehead_user_id:u}).then(()=>{n.success("Sitehead changed successfully!")})},C=()=>{d("toggleSelection",l.user)};return re(()=>{M()}),(b,u)=>(t(),s("tr",null,[e("td",null,[o.user.name!="admin"?(t(),s("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:C},null,40,Is)):A("",!0)]),e("td",null,a(o.index+1),1),e("td",null,a(o.user.first_name+" "+o.user.last_name),1),e("td",null,a(o.user.email),1),e("td",null,a(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:u[0]||(u[0]=S=>N(o.user,S.target.value))},[(t(!0),s(q,null,z(h.value,S=>(t(),s("option",{key:S.id,value:S.value,selected:o.user.role===S.name},a(S.name),9,Ls))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),s("select",{key:0,class:"form-control",onChange:u[1]||(u[1]=S=>m(o.user,S.target.value))},[(t(!0),s(q,null,z(k.value,S=>(t(),s("option",{key:S.id,value:S.id,selected:o.user.sitehead_user_id===S.id},a(S.first_name+" "+S.last_name),9,Ys))),128))],32)):A("",!0)]),e("td",null,[e("a",{href:"#",onClick:u[2]||(u[2]=se(S=>b.$emit("editUser",o.user),["prevent"]))},Ns),o.user.id!=1?(t(),s("a",{key:0,href:"#",onClick:u[3]||(u[3]=se(S=>b.$emit("confirmUserDeletion",o.user.id),["prevent"]))},qs)):A("",!0)])]))}},Hs={class:"content"},Os={class:"container-fluid"},zs={class:"d-flex justify-content-between mb-2"},Gs={class:"d-flex"},Qs=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Ws={key:0},Ks=e("i",{class:"fa fa-trash mr-1"},null,-1),Xs={class:"ml-2"},Js={class:"card"},Zs={class:"card-body"},ea={class:"dispatch-table"},ta={class:"table-responsive"},sa={class:"table table-bordered table-hover table-sm"},aa=e("th",{style:{width:"10px"}},"#",-1),oa=e("th",null,"Name",-1),la=e("th",null,"Email",-1),na=e("th",null,"Registered Date",-1),da=e("th",null,"Role",-1),ia=e("th",null,"Head",-1),ca=e("th",null,"Action",-1),ra={key:0},ua={key:1},_a=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ma=[_a],ha=["index"],pa={class:"card"},va={class:"card-body"},ba={class:"list-field"},fa=e("span",{class:"mb-1 dis"},"Name:",-1),$a={class:"list-field"},ga=e("span",{class:"mb-1 dis"},"Email:",-1),ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Registered Date:",-1),xa={class:"list-field"},wa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ca=["onChange"],Sa=["value","selected"],Ua=e("hr",null,null,-1),Ma={class:"row"},Da={key:0,class:"col"},Aa=["onClick"],Va=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ea=["onClick"],Ta=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),E(" Remove ")],-1),Fa=[Ta],Pa={key:1,class:"col"},Ia=["onClick"],La=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ya={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Na={class:"modal-content"},Ra={class:"modal-header"},qa={class:"modal-title",id:"staticBackdropLabel"},ja={key:0},Ha={key:1},Oa=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),za={class:"modal-body"},Ga={class:"form-group"},Qa=e("label",{for:"name"},"Username",-1),Wa={class:"invalid-feedback"},Ka={class:"d-flex justify-content-between"},Xa={class:"d-flex"},Ja={class:"form-group"},Za=e("label",{for:"email"},"Email",-1),eo={class:"invalid-feedback"},to={class:"d-flex"},so={class:"form-group"},ao=e("label",{for:"siteDropdown"},"Gender",-1),oo=e("option",{value:"",disabled:""}," Select a gender ",-1),lo=["value"],no={class:"d-flex justify-content-between"},io={class:"d-flex"},co={class:"form-group"},ro=e("label",{for:"first_name"},"Fist Name",-1),uo={class:"invalid-feedback"},_o={class:"d-flex"},mo={class:"form-group"},ho=e("label",{for:"last_name"},"Last Name",-1),po={class:"invalid-feedback"},vo={class:"form-group"},bo=e("label",{for:"position"},"Position",-1),fo={class:"invalid-feedback"},$o={class:"form-group"},go=e("label",{for:"password"},"Password",-1),yo={class:"invalid-feedback"},ko=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),xo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wo={class:"modal-dialog",role:"document"},Co={class:"modal-content"},So=_e('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Do={__name:"UserList",setup(o){const r=de(),n=ie(),l=c({data:[]}),d=c(!1),h=c(),k=c(null);c([]),c(null);const M=c([{name:"Male",value:1},{name:"Female",value:2}]),N=(U=1)=>{T.get(`/api/users?page=${U}`,{params:{query:p.value}}).then(f=>{l.value=f.data,v.value=[],oe.value=!1})},m=ve({name:R().required(),last_name:R().required(),first_name:R().required(),email:R().email().required(),password:R().required().min(8),gender:R().required()}),C=ve({name:R().required(),last_name:R().required(),first_name:R().required(),email:R().email().required(),password:R().when((U,f)=>U?f.required().min(8):f),gender:R().required()}),b=c([]),u=()=>{T.get("/api/users/userlist").then(U=>{b.value=U.data}).catch(U=>{console.log(U)})},S=(U,f)=>{T.patch(`/api/users/${U.id}/change-sitehead`,{sitehead_user_id:f}).then(()=>{n.success("Sitehead changed successfully!")})},K=(U,{resetForm:f,setErrors:_})=>{T.post("/api/users",U).then(te=>{l.value.data.unshift(te.data),$("#userFormModal").modal("hide"),f(),n.success("User created successfully!")}).catch(te=>{te.response.data.errors&&(_(te.response.data.errors),n.warning(te.response.data.errors.name))})},Y=()=>{d.value=!1,$("#userFormModal").modal("show")},G=U=>{d.value=!0,k.value.resetForm(),$("#userFormModal").modal("show"),h.value={id:U.id,name:U.name,email:U.email,sitehead_user_id:U.sitehead_user_id,first_name:U.first_name,last_name:U.last_name,gender:U.gender}},D=(U,{setErrors:f})=>{T.put("/api/users/"+h.value.id,U).then(_=>{const te=l.value.data.findIndex(x=>x.id===_.data.id);l.value.data[te]=_.data,$("#userFormModal").modal("hide"),n.success("User updated successfully!")}).catch(_=>{f(_.response.data.errors),console.log(_)})},y=(U,f)=>{d.value?D(U,f):K(U,f)},p=c(null),v=c([]),F=U=>{const f=v.value.indexOf(U.id);f===-1?v.value.push(U.id):v.value.splice(f,1),console.log(v.value)},he=c(null),j=U=>{he.value=U,$("#deleteUserModal").modal("show")},Z=()=>{T.delete(`/api/users/${he.value}`).then(()=>{$("#deleteUserModal").modal("hide"),n.success("User deleted successfully!"),l.value.data=l.value.data.filter(U=>U.id!==he.value)})},Q=()=>{T.delete("/api/users",{data:{ids:v.value}}).then(U=>{l.value.data=l.value.data.filter(f=>!v.value.includes(f.id)),v.value=[],oe.value=!1,n.success(U.data.message)})},oe=c(!1),I=()=>{oe.value?v.value=l.value.data.map(U=>U.id):v.value=[],console.log(v.value)};return pe(p,we.exports.debounce(()=>{N()},300)),re(()=>{N(),u()}),(U,f)=>(t(),s(q,null,[e("div",Hs,[e("div",Os,[e("div",zs,[e("div",Gs,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Qs,E(" User ")]),v.value.length>0?(t(),s("div",Ws,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Ks,E(" Delete Selected ")]),e("span",Xs,"Selected "+a(v.value.length)+" users",1)])):A("",!0)]),e("div",null,[W(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=_=>p.value=_),class:"form-control",placeholder:"Search..."},null,512),[[ae,p.value]])])]),e("div",Js,[e("div",Zs,[e("div",ea,[e("div",ta,[e("table",sa,[e("thead",null,[e("tr",null,[e("th",null,[W(e("input",{type:"checkbox","onUpdate:modelValue":f[1]||(f[1]=_=>oe.value=_),onChange:I},null,544),[[Ue,oe.value]])]),aa,oa,la,na,da,ia,ca])]),l.value.data.length>0?(t(),s("tbody",ra,[(t(!0),s(q,null,z(l.value.data,(_,te)=>(t(),ne(js,{key:_.id,user:_,index:te,onEditUser:G,onConfirmUserDeletion:j,onToggleSelection:F,"select-all":oe.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),s("tbody",ua,ma))])])]),(t(!0),s(q,null,z(l.value.data,(_,te)=>(t(),s("div",{class:"dispatch-list",key:_.id,index:te},[e("div",pa,[e("div",va,[e("div",ba,[fa,e("span",null,a(_.first_name+" "+_.last_name),1)]),e("div",$a,[ga,e("span",null,a(_.email),1)]),e("div",ya,[ka,e("span",null,a(_.formatted_created_at),1)]),e("div",xa,[wa,e("span",null,[_.name!="admin"?(t(),s("select",{key:0,class:"form-control",onChange:x=>S(_,x.target.value)},[(t(!0),s(q,null,z(b.value,x=>(t(),s("option",{key:x.id,value:x.id,selected:x.sitehead_user_id===x.id},a(x.first_name+" "+x.last_name),9,Sa))),128))],40,Ca)):A("",!0)])]),Ua,e("div",Ma,[i(r).user.role==="ADMIN"?(t(),s("div",Da,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:x=>G(_)},[Va,E(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:x=>j(_.id)},Fa,8,Ea)])):A("",!0),i(r).user.role==="USER"?(t(),s("div",Pa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:x=>G(_)},[La,E(" Edit ")],8,Ia)])):A("",!0)])])])],8,ha))),128))])]),w(i(Ae),{data:l.value,onPaginationChangePage:N},null,8,["data"])])]),e("div",Ya,[e("div",Ba,[e("div",Na,[e("div",Ra,[e("h5",qa,[d.value?(t(),s("span",ja,"Edit User")):(t(),s("span",Ha,"Add New User"))]),Oa]),w(i(be),{ref_key:"form",ref:k,onSubmit:y,"validation-schema":d.value?i(C):i(m),"initial-values":h.value},{default:ee(({errors:_})=>[e("div",za,[e("div",Ga,[Qa,w(i(X),{name:"name",type:"text",class:V(["form-control",{"is-invalid":_.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Wa,a(_.name),1)]),e("div",Ka,[e("div",Xa,[e("div",Ja,[Za,w(i(X),{name:"email",type:"email",class:V(["form-control",{"is-invalid":_.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",eo,a(_.email),1)])]),e("div",to,[e("div",so,[ao,w(i(X),{id:"gender",name:"gender",as:"select",class:V(["form-control",{"is-invalid":_.gender}])},{default:ee(()=>[oo,(t(!0),s(q,null,z(M.value,te=>(t(),s("option",{key:te.name,value:te.name},a(te.name),9,lo))),128))]),_:2},1032,["class"])])])]),e("div",no,[e("div",io,[e("div",co,[ro,w(i(X),{name:"first_name",type:"text",class:V(["form-control",{"is-invalid":_.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",uo,a(_.first_name),1)])]),e("div",_o,[e("div",mo,[ho,w(i(X),{name:"last_name",type:"text",class:V(["form-control",{"is-invalid":_.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",po,a(_.last_name),1)])])]),e("div",vo,[bo,w(i(X),{name:"position",type:"text",class:V(["form-control",{"is-invalid":_.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",fo,a(_.position),1)]),e("div",$o,[go,w(i(X),{name:"password",type:"password",class:V(["form-control",{"is-invalid":_.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",yo,a(_.password),1)])]),ko]),_:1},8,["validation-schema","initial-values"])])])]),e("div",xo,[e("div",wo,[e("div",Co,[So,e("div",Uo,[Mo,e("button",{onClick:se(Z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var me=(o,r)=>{const n=o.__vccOpts||o;for(const[l,d]of r)n[l]=d;return n};const ye=o=>($e("data-v-18830715"),o=o(),ge(),o),Ao={class:"content"},Vo={class:"container-fluid"},Eo={class:"row"},To={class:"col-md-6"},Fo={class:"card"},Po=_e('<ul class="nav nav-tabs" id="settingsTabs" data-v-18830715><li class="nav-item" data-v-18830715><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-18830715>General Settings</a></li><li class="nav-item" data-v-18830715><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-18830715>Site Settings</a></li></ul>',1),Io={class:"tab-content"},Lo={class:"tab-pane fade show active",id:"general"},Yo={class:"card-body"},Bo={class:"form-group"},No=ye(()=>e("label",{for:"appName"},"App Display Name",-1)),Ro={key:0,class:"text-danger text-sm"},qo={class:"form-group"},jo=ye(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Ho=_e('<option value="m/d/Y" data-v-18830715> MM/DD/YYYY </option><option value="d/m/Y" data-v-18830715> DD/MM/YYYY </option><option value="Y-m-d" data-v-18830715> YYYY-MM-DD </option><option value="F j, Y" data-v-18830715> Month DD, YYYY </option><option value="j F Y" data-v-18830715> DD Month YYYY </option>',5),Oo=[Ho],zo={key:0,class:"text-danger text-sm"},Go={class:"form-group"},Qo=ye(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Wo={key:0,class:"text-danger text-sm"},Ko=ye(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),E("Save Changes ")])],-1)),Xo={class:"tab-pane fade",id:"site"},Jo={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},Zo=ye(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),el=ye(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),tl={key:0,class:"list-group-item mt-2"},sl={class:"d-flex justify-content-between"},al={class:"d-flex"},ol=["onClick"],ll={class:"d-flex"},nl=["onClick"],dl={class:"m-2 list-unstyled"},il={key:1},cl={key:0,class:"list-group-item mt-2"},rl={class:"d-flex justify-content-between"},ul={class:"d-flex"},_l=["onClick"],ml={class:"d-flex"},hl=["onClick"],pl={key:1,class:"mt-2 text-center"},vl=ye(()=>e("span",null,"No Site",-1)),bl=[vl],fl={class:"input-group"},$l=ye(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),gl={__name:"UpdateSetting",setup(o){const r=c([]),n=ie(),l=c(!0),d=c([]),h=c(!1),k=c(),M=c({id:"",site_name:"",is_active:""}),N=()=>{h.value=!0,axios.get("/api/site").then(D=>{h.value=!1,d.value=D.data}).catch(D=>{console.log(D)})},m=fe(()=>Array.isArray(d.value)?d.value.filter(D=>D.is_active===0):[]),C=fe(()=>m.value.length),b=()=>{l.value=!l.value},u=()=>{var D,y;h.value=!0,axios.post("/api/site",{id:(D=M.value)==null?void 0:D.id,site_name:(y=M.value)==null?void 0:y.site_name,is_active:!0}).then(p=>{N(),M.value={id:null,site_name:"",is_active:!0},n.success(p.data.message),h.value=!1}).catch(p=>{p.response&&p.response.status===422&&(Y.value=p.response.data.errors)})},S=D=>{M.value.is_active=D.is_active===1?0:1,axios.post("/api/site",{id:D.id,site_name:D.site_name,is_active:M.value.is_active}).then(y=>{axios.get("/api/site").then(p=>{d.value=p.data}).catch(p=>{console.error("Error fetching tasks:",p),n.error("Error fetching tasks. Please try again.")})}).catch(y=>{console.error("Error adding new task:",y),n.error("Error adding new task. Please try again.")})},K=()=>{axios.get("/api/settings").then(D=>{r.value=D.data})},Y=c(),G=()=>{Y.value="",axios.post("/api/settings",r.value).then(D=>{n.success("Settings updated successfully!")}).catch(D=>{D.response&&D.response.status===422&&(Y.value=D.response.data.errors)})};return re(()=>{N(),K()}),(D,y)=>(t(),s("div",Ao,[e("div",Vo,[e("div",Eo,[e("div",To,[e("div",Fo,[Po,e("div",Io,[e("div",Lo,[e("form",{onSubmit:y[3]||(y[3]=se(p=>G(),["prevent"]))},[e("div",Yo,[e("div",Bo,[No,W(e("input",{"onUpdate:modelValue":y[0]||(y[0]=p=>r.value.app_name=p),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ae,r.value.app_name]]),Y.value&&Y.value.app_name?(t(),s("span",Ro,a(Y.value.app_name[0]),1)):A("",!0)]),e("div",qo,[jo,W(e("select",{"onUpdate:modelValue":y[1]||(y[1]=p=>r.value.date_format=p),class:"form-control"},Oo,512),[[ke,r.value.date_format]]),Y.value&&Y.value.date_format?(t(),s("span",zo,a(Y.value.date_format[0]),1)):A("",!0)]),e("div",Go,[Qo,W(e("input",{"onUpdate:modelValue":y[2]||(y[2]=p=>r.value.pagination_limit=p),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ae,r.value.pagination_limit]]),Y.value&&Y.value.pagination_limit?(t(),s("span",Wo,a(Y.value.pagination_limit[0]),1)):A("",!0)])]),Ko],32)]),e("div",Xo,[d.value.length>0?(t(),s("div",Jo,[h.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[Zo,el]),_:1})):A("",!0),(t(!0),s(q,null,z(d.value,p=>(t(),s("ul",{class:"list-group",key:p.id},[p.is_active===1?(t(),s("li",tl,[e("div",sl,[e("div",al,[e("i",{onClick:v=>S(p),class:V({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":p.is_active===1,"fa fa-circle text-primary":p.is_active===0}),style:{"font-size":"15px"}},null,10,ol),e("span",{class:V({"font-italic text-red":p.is_active===0,"":p.is_active===1})},a(p.site_name),3)]),e("div",ll,[e("i",{class:"fa fa-pen text-success",onClick:v=>D.edit(p)},null,8,nl)])])])):A("",!0)]))),128)),e("li",dl,[C.value>0?(t(),s("button",{key:0,class:"btn btn-sm bg-danger",onClick:b},[e("i",{class:V(["fa",l.value?"fa-arrow-down":"fa-arrow-right"])},null,2),E(" \xA0Deactive List "+a(C.value),1)])):A("",!0)]),l.value?(t(),s("div",il,[(t(!0),s(q,null,z(d.value,p=>(t(),s("ul",{class:"list-group",key:p.id},[p.is_active===0?(t(),s("li",cl,[e("div",rl,[e("div",ul,[e("i",{onClick:v=>S(p),class:V({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":p.is_active===1,"fa fa-circle text-primary":p.is_active===0}),style:{"font-size":"15px"}},null,10,_l),e("span",{class:V({"font-italic text-red":p.is_active===0,"":p.is_active===1})},[e("del",null,a(p.site_name),1)],2)]),e("div",ml,[p.is_active===1?(t(),s("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:v=>D.edit(p)},null,8,hl)):A("",!0)])])])):A("",!0)]))),128))])):A("",!0)])):(t(),s("div",pl,bl)),w(i(be),{ref:"form",onSubmit:u,"initial-values":k.value},{default:ee(()=>[w(i(X),{name:"id",modelValue:M.value.id,"onUpdate:modelValue":y[4]||(y[4]=p=>M.value.id=p),type:"text",hidden:""},null,8,["modelValue"]),e("div",fl,[w(i(X),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:M.value.site_name,"onUpdate:modelValue":y[5]||(y[5]=p=>M.value.site_name=p),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),$l])]),_:1},8,["initial-values"])])])])])])])]))}};var yl=me(gl,[["__scopeId","data-v-18830715"]]);const kl={class:"content"},xl={class:"container-fluid"},wl={class:"row"},Cl={class:"col-md-3"},Sl={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Ml={class:"text-center"},Dl=["src"],Al={class:"profile-username text-center"},Vl={class:"text-muted text-center"},El={class:"col-md-9"},Tl={class:"card"},Fl=_e('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Pl={class:"card-body"},Il={class:"tab-content"},Ll={class:"tab-pane active",id:"profile"},Yl={class:"form-group row"},Bl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Nl={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},ql={class:"form-group row"},jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Hl={class:"col-sm-10"},Ol={key:0,class:"text-danger text-sm"},zl={class:"form-group row"},Gl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Ql={class:"col-sm-10"},Wl={key:0,class:"text-danger text-sm"},Kl={class:"form-group row"},Xl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Jl={class:"col-sm-10"},Zl={key:0,class:"text-danger text-sm"},en=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),E(" Save Changes")])])],-1),tn={class:"tab-pane",id:"changePassword"},sn={class:"form-group row"},an=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),on={class:"col-sm-9"},ln={key:0,class:"text-danger text-sm"},nn={class:"form-group row"},dn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),cn={class:"col-sm-9"},rn={key:0,class:"text-danger text-sm"},un={class:"form-group row"},_n=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),mn={class:"col-sm-9"},hn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),E(" Save Changes")])])],-1),pn={__name:"UpdateProfile",setup(o){const r=de(),n=ie(),l=c([]),d=()=>{axios.put("/api/profile",{name:r.user.name,first_name:r.user.first_name,last_name:r.user.last_name,email:r.user.email,role:r.user.role}).then(C=>{n.success("Profile updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(l.value=C.response.data.errors)})},h=De({currentPassword:"",password:"",passwordConfirmation:""}),k=()=>{l.value="",axios.post("/api/change-user-password",h).then(C=>{n.success(C.data.message);for(const b in h)h[b]=""}).catch(C=>{C.response&&C.response.status===422&&(l.value=C.response.data.errors)})},M=c(null),N=()=>{M.value.click()},m=C=>{const b=C.target.files[0];r.user.avatar=URL.createObjectURL(b);const u=new FormData;u.append("profile_picture",b),axios.post("/api/upload-profile-image",u).then(S=>{n.success("Image uploaded successfully!")})};return(C,b)=>(t(),s("div",kl,[e("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Ul,[e("div",Ml,[e("input",{onChange:m,ref_key:"fileInput",ref:M,type:"file",class:"d-none"},null,544),e("img",{onClick:N,class:"profile-user-img img-circle",src:i(r).user.avatar,alt:"User profile picture"},null,8,Dl)]),e("h3",Al,a(i(r).user.name),1),e("p",Vl,a(i(r).user.role),1)])])]),e("div",El,[e("div",Tl,[Fl,e("div",Pl,[e("div",Il,[e("div",Ll,[e("form",{onSubmit:b[4]||(b[4]=se(u=>d(),["prevent"])),class:"form-horizontal"},[e("div",Yl,[Bl,e("div",Nl,[W(e("input",{"onUpdate:modelValue":b[0]||(b[0]=u=>i(r).user.name=u),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ae,i(r).user.name]]),l.value&&l.value.name?(t(),s("span",Rl,a(l.value.name[0]),1)):A("",!0)])]),e("div",ql,[jl,e("div",Hl,[W(e("input",{"onUpdate:modelValue":b[1]||(b[1]=u=>i(r).user.first_name=u),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ae,i(r).user.first_name]]),l.value&&l.value.first_name?(t(),s("span",Ol,a(l.value.first_name[0]),1)):A("",!0)])]),e("div",zl,[Gl,e("div",Ql,[W(e("input",{"onUpdate:modelValue":b[2]||(b[2]=u=>i(r).user.last_name=u),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ae,i(r).user.last_name]]),l.value&&l.value.last_name?(t(),s("span",Wl,a(l.value.last_name[0]),1)):A("",!0)])]),e("div",Kl,[Xl,e("div",Jl,[W(e("input",{"onUpdate:modelValue":b[3]||(b[3]=u=>i(r).user.email=u),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ae,i(r).user.email]]),l.value&&l.value.email?(t(),s("span",Zl,a(l.value.email[0]),1)):A("",!0)])]),en],32)]),e("div",tn,[e("form",{onSubmit:se(k,["prevent"]),class:"form-horizontal"},[e("div",sn,[an,e("div",on,[W(e("input",{"onUpdate:modelValue":b[5]||(b[5]=u=>h.currentPassword=u),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ae,h.currentPassword]]),l.value&&l.value.current_password?(t(),s("span",ln,a(l.value.current_password[0]),1)):A("",!0)])]),e("div",nn,[dn,e("div",cn,[W(e("input",{"onUpdate:modelValue":b[6]||(b[6]=u=>h.password=u),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ae,h.password]]),l.value&&l.value.password?(t(),s("span",rn,a(l.value.password[0]),1)):A("",!0)])]),e("div",un,[_n,e("div",mn,[W(e("input",{"onUpdate:modelValue":b[7]||(b[7]=u=>h.passwordConfirmation=u),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ae,h.passwordConfirmation]])])]),hn],32)])])])])])])])]))}};const vn={class:"login-box"},bn={class:"card card-outline card-primary"},fn=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),$n={class:"card-body"},gn={key:0,class:"alert alert-danger",role:"alert"},yn={class:"input-group mb-3"},kn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),xn={class:"input-group mb-3"},wn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Cn={class:"row"},Sn={class:"col-12 mb-2"},Un=["disabled"],Mn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Dn=e("span",{class:"sr-only"},"Loading...",-1),An=[Dn],Vn={key:1},En=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"#",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),Tn={__name:"Login",setup(o){const r=ie();de();const n=Ye(),l=De({email:"",password:""}),d=c(!1),h=c(""),k=()=>{d.value=!0,h.value="",T.post("/login",l).then(()=>{n.push("/admin/dashboard"),r.success("Login Success")}).catch(M=>{r.error(M.response.data.message)}).finally(()=>{d.value=!1})};return(M,N)=>(t(),s("div",vn,[e("div",bn,[fn,e("div",$n,[h.value?(t(),s("div",gn,a(h.value),1)):A("",!0),e("form",{onSubmit:se(k,["prevent"])},[e("div",yn,[kn,W(e("input",{"onUpdate:modelValue":N[0]||(N[0]=m=>l.email=m),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ae,l.email]])]),e("div",xn,[wn,W(e("input",{"onUpdate:modelValue":N[1]||(N[1]=m=>l.password=m),type:"password",class:"form-control",placeholder:"Password"},null,512),[[ae,l.password]])]),e("div",Cn,[e("div",Sn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(t(),s("div",Mn,An)):(t(),s("span",Vn,"Sign In"))],8,Un)])])],32),En])])]))}},Fn=["checked"],Pn=e("i",{class:"fa fa-edit"},null,-1),In=[Pn],Ln=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Yn=[Ln],Bn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:r}){ie();const n=o,l=r,d=()=>{l("toggleSelection",n.item)};return(h,k)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Fn)]),e("td",null,a(o.index+1),1),e("td",null,a(o.item.first_name)+" "+a(o.item.last_name),1),e("td",null,a(o.item.email),1),e("td",null,a(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:k[0]||(k[0]=se(M=>h.$emit("editUser",o.item),["prevent"]))},In),e("a",{href:"#",onClick:k[1]||(k[1]=se(M=>h.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Yn)])]))}},Nn={class:"content"},Rn={class:"container-fluid"},qn={class:"d-flex justify-content-between"},jn={class:"d-flex"},Hn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),On={key:0},zn=e("i",{class:"fa fa-trash mr-1"},null,-1),Gn={class:"ml-2"},Qn={class:"card"},Wn={class:"card-body"},Kn={class:"table table-bordered"},Xn=e("th",{style:{width:"10px"}},"#",-1),Jn=e("th",null,"Name",-1),Zn=e("th",null,"Email",-1),ed=e("th",null,"Registered Date",-1),td=e("th",null,"Options",-1),sd={key:0},ad={key:1},od=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),ld=[od],nd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dd={class:"modal-dialog",role:"document"},id={class:"modal-content"},cd={class:"modal-header"},rd={class:"modal-title",id:"staticBackdropLabel"},ud={key:0},_d={key:1},md=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),hd={class:"modal-body"},pd={class:"form-group"},vd=e("label",{for:"fist_name"},"First Name",-1),bd={class:"invalid-feedback"},fd={class:"form-group"},$d=e("label",{for:"last_name"},"Last Name",-1),gd={class:"invalid-feedback"},yd={class:"form-group"},kd=e("label",{for:"email"},"Email",-1),xd={class:"invalid-feedback"},wd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Cd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sd={class:"modal-dialog",role:"document"},Ud={class:"modal-content"},Md=_e('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Dd={class:"modal-footer"},Ad=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Vd={__name:"ClientList",setup(o){const r=ie(),n=c({data:[]}),l=c(!1),d=c(),h=c(null),k=(j=1)=>{T.get(`/api/clients?page=${j}`,{params:{query:K.value}}).then(Z=>{n.value=Z.data,Y.value=[],F.value=!1})},M=ve({first_name:R().required(),last_name:R().required(),email:R().email().required()}),N=ve({first_name:R().required(),last_name:R().required(),email:R().email().required()}),m=(j,{resetForm:Z,setErrors:Q})=>{T.post("/api/clients",j).then(oe=>{n.value.data.unshift(oe.data),$("#clientFormModal").modal("hide"),Z(),r.success("User created successfully!")}).catch(oe=>{oe.response.data.errors&&Q(oe.response.data.errors)})},C=()=>{l.value=!1,$("#clientFormModal").modal("show")},b=j=>{l.value=!0,h.value.resetForm(),$("#clientFormModal").modal("show"),d.value={id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}},u=(j,{setErrors:Z})=>{T.put("/api/clients/"+d.value.id,j).then(Q=>{const oe=n.value.data.findIndex(I=>I.id===Q.data.id);n.value.data[oe]=Q.data,$("#clientFormModal").modal("hide"),r.success("Client updated successfully!")}).catch(Q=>{Z(Q.response.data.errors),console.log(Q)})},S=(j,Z)=>{l.value?u(j,Z):m(j,Z)},K=c(null),Y=c([]),G=j=>{const Z=Y.value.indexOf(j.id);Z===-1?Y.value.push(j.id):Y.value.splice(Z,1),console.log(Y.value)},D=c(null),y=j=>{D.value=j,$("#deleteClientModal").modal("show")},p=()=>{T.delete(`/api/clients/${D.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Client deleted successfully!"),n.value.data=n.value.data.filter(j=>j.id!==D.value)})},v=()=>{T.delete("/api/clients",{data:{ids:Y.value}}).then(j=>{n.value.data=n.value.data.filter(Z=>!Y.value.includes(Z.id)),Y.value=[],F.value=!1,r.success(j.data.message)})},F=c(!1),he=()=>{F.value?Y.value=n.value.data.map(j=>j.id):Y.value=[],console.log(Y.value)};return pe(K,we.exports.debounce(()=>{k()},300)),re(()=>{k()}),(j,Z)=>(t(),s(q,null,[e("div",Nn,[e("div",Rn,[e("div",qn,[e("div",jn,[e("button",{onClick:C,type:"button",class:"mb-2 btn btn-primary"},[Hn,E(" Add New Client ")]),Y.value.length>0?(t(),s("div",On,[e("button",{onClick:v,type:"button",class:"ml-2 mb-2 btn btn-danger"},[zn,E(" Delete Selected ")]),e("span",Gn,"Selected "+a(Y.value.length)+" clients",1)])):A("",!0)]),e("div",null,[W(e("input",{type:"text","onUpdate:modelValue":Z[0]||(Z[0]=Q=>K.value=Q),class:"form-control",placeholder:"Search..."},null,512),[[ae,K.value]])])]),e("div",Qn,[e("div",Wn,[e("table",Kn,[e("thead",null,[e("tr",null,[e("th",null,[W(e("input",{type:"checkbox","onUpdate:modelValue":Z[1]||(Z[1]=Q=>F.value=Q),onChange:he},null,544),[[Ue,F.value]])]),Xn,Jn,Zn,ed,td])]),n.value.data.length>0?(t(),s("tbody",sd,[(t(!0),s(q,null,z(n.value.data,(Q,oe)=>(t(),ne(Bn,{key:Q.id,item:Q,index:oe,onEditUser:b,onConfirmUserDeletion:y,onToggleSelection:G,"select-all":F.value},null,8,["item","index","select-all"]))),128))])):(t(),s("tbody",ad,ld))])])]),w(i(Ae),{data:n.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",nd,[e("div",dd,[e("div",id,[e("div",cd,[e("h5",rd,[l.value?(t(),s("span",ud,"Edit Client")):(t(),s("span",_d,"Add New Client"))]),md]),w(i(be),{ref_key:"form",ref:h,onSubmit:S,"validation-schema":l.value?i(N):i(M),"initial-values":d.value},{default:ee(({errors:Q})=>[e("div",hd,[e("div",pd,[vd,w(i(X),{name:"first_name",type:"text",class:V(["form-control",{"is-invalid":Q.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",bd,a(Q.first_name),1)]),e("div",fd,[$d,w(i(X),{name:"last_name",type:"text",class:V(["form-control",{"is-invalid":Q.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",gd,a(Q.last_name),1)]),e("div",yd,[kd,w(i(X),{name:"email",type:"email",class:V(["form-control",{"is-invalid":Q.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",xd,a(Q.email),1)])]),wd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Cd,[e("div",Sd,[e("div",Ud,[Md,e("div",Dd,[Ad,e("button",{onClick:se(p,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Be=o=>($e("data-v-36595330"),o=o(),ge(),o),Ed={style:{"text-align":"center"}},Td={key:0},Fd=Be(()=>e("i",{class:"fa fa-edit"},null,-1)),Pd=[Fd],Id=Be(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Ld=[Id],Yd={key:1,style:{"text-align":"center"}},Bd={key:0},Nd=Be(()=>e("i",{class:"fa fa-edit"},null,-1)),Rd=[Nd],qd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:r}){ie();const n=de();return(l,d)=>{const h=Ce("router-link");return t(),s("tr",null,[e("td",null,a(o.item.recommnum),1),e("td",null,a(o.item.user),1),e("td",null,a(o.item.branch),1),e("td",null,a(o.item.department),1),e("td",null,a(o.item.created_user),1),e("td",Ed,[o.item.statusid==2?(t(),ne(h,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:ee(()=>[e("span",{class:V(["badge",`badge-${o.item.status.color}`])},a(o.item.status.name),3)]),_:1},8,["to"])):A("",!0),o.item.statusid!=2?(t(),s("span",{key:1,class:V(["badge",`badge-${o.item.status.color}`])},a(o.item.status.name),3)):A("",!0)]),e("td",null,a(o.item.created_at),1),i(n).user.role==="ADMIN"?(t(),s("td",Td,[e("a",{href:"#",onClick:d[0]||(d[0]=se(k=>l.$emit("editUser",o.item),["prevent"]))},Pd),e("a",{href:"#",onClick:d[1]||(d[1]=se(k=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Ld)])):A("",!0),i(n).user.role==="USER"?(t(),s("td",Yd,[o.item.statusid!=2?(t(),s("div",Bd,[o.item.created_by==i(n).user.id?(t(),s("a",{key:0,href:"#",onClick:d[2]||(d[2]=se(k=>l.$emit("editUser",o.item),["prevent"]))},Rd)):A("",!0)])):A("",!0)])):A("",!0)])}}};var jd=me(qd,[["__scopeId","data-v-36595330"]]);const Hd={class:"content"},Od={class:"container-fluid"},zd={class:"d-flex justify-content-between"},Gd={class:"d-flex"},Qd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Wd={key:0},Kd=e("i",{class:"fa fa-trash mr-1"},null,-1),Xd={class:"ml-2"},Jd={class:"card"},Zd={class:"card-body"},ei=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ti=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),si=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ai=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),oi={class:"dispatch-table"},li={class:"table-responsive"},ni={class:"table table-bordered table-sm"},di=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ii={key:0},ci={key:1},ri=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),ui=[ri],_i=["item","index"],mi={class:"card"},hi={class:"card-body"},pi={class:"list-field"},vi=e("span",{class:"mb-1 dis"},"Tech #:",-1),bi={class:"list-field"},fi=e("span",{class:"mb-1 dis"},"User:",-1),$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"Branch:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Department:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Created by:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Status:",-1),Ui={class:"list-field"},Mi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Di=e("hr",null,null,-1),Ai={class:"row"},Vi={key:0,class:"col"},Ei=["onClick"],Ti=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fi=["onClick"],Pi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),E(" Remove ")],-1),Ii=[Pi],Li={key:0,class:"btn btnsm btn-success btn-block"},Yi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Bi={key:1,class:"col"},Ni={key:0},Ri=["onClick"],qi=e("i",{class:"fa fa-pencil-square-o"},null,-1),ji={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hi={class:"modal-dialog modal-lg",role:"document"},Oi={class:"modal-content"},zi={class:"modal-header"},Gi={class:"modal-title",id:"staticBackdropLabel"},Qi={key:0},Wi={key:1},Ki=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Xi={class:"modal-body"},Ji={class:"col-md-12"},Zi={class:"row"},ec={class:"col-6"},tc={class:"form-group"},sc=e("label",{for:"branch"},"Branch",-1),ac=e("option",{value:"",disabled:""}," Select Branch ",-1),oc=["value"],lc={class:"invalid-feedback"},nc={class:"form-group"},dc=e("label",{for:"department"},"Department",-1),ic={class:"invalid-feedback"},cc={class:"form-group"},rc=e("label",{for:"warehouse"},"warehouse",-1),uc={class:"invalid-feedback"},_c={class:"form-group"},mc=e("label",{for:"user"},"User",-1),hc={class:"invalid-feedback"},pc={class:"col-6"},vc={class:"form-group"},bc=e("label",{for:"brand"},"Brand",-1),fc={class:"form-group"},$c=e("label",{for:"model"},"Model",-1),gc={class:"invalid-feedback"},yc={class:"form-group"},kc=e("label",{for:"assettag"},"Asset tag",-1),xc={class:"invalid-feedback"},wc={class:"form-group"},Cc=e("label",{for:"serialnum"},"Serial number",-1),Sc={class:"invalid-feedback"},Uc={class:"col-12"},Mc={class:"form-group"},Dc=e("label",{for:"problem"},"Report Problem",-1),Ac={class:"invalid-feedback"},Vc={class:"form-group"},Ec=e("label",{for:"assconducted"},"Assessment conducted",-1),Tc={class:"invalid-feedback"},Fc={class:"form-group"},Pc=e("label",{for:"recommendation"},"Recommendation",-1),Ic={class:"invalid-feedback"},Lc={class:"modal-footer"},Yc={key:0},Bc={key:0,class:"btn-group float-l ml-auto"},Nc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Rc={class:"dropdown-menu",role:"menu"},qc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),jc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Hc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Oc={class:"modal-dialog",role:"document"},zc={class:"modal-content"},Gc=_e('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Qc={class:"modal-footer"},Wc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Kc={__name:"TechList",setup(o){const r=c(),n=c(),l=ie(),d=c({data:[]});c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const h=()=>{T.get("/api/getsite").then(f=>{n.value=f.data.sites}).catch(f=>{console.log(f)})},k=c(!1),M=c(!1),N=c(),m=De({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),C=de();c(null);const b=(f=1)=>{k.value=!0,T.get(`/api/tech-recommendations?page=${f}`,{params:{query:v.value}}).then(_=>{k.value=!1,d.value=_.data,F.value=[],U.value=!1})},u=ve({branch:R().required(),department:R().required(),user:R().required(),problem:R().required(),assconducted:R().required(),brand:R().required()}),S=ve({branch:R().required(),department:R().required(),user:R().required(),problem:R().required(),assconducted:R().required(),brand:R().required()}),K=(f,{resetForm:_,setErrors:te})=>{T.post("/api/tech-recommendations",f).then(x=>{d.value.data.unshift(x.data),$("#FormModal").modal("hide"),_(),l.success("Data created successfully!")}).catch(x=>{x.response.data.errors&&te(x.response.data.errors)})},Y=()=>{M.value=!1,$("#FormModal").modal("show")},G=()=>{m.id="",m.recommnum="",m.branch="",m.department="",m.warehouse="",m.user="",m.problem="",m.brand="",m.model="",m.assettag="",m.serialnum="",m.assconducted="",m.recommendation="",m.ceated_by=""},D=f=>{r.value=f.id,M.value=!0,G(),m.id=f.id,m.branch=f.branch,m.department=f.department,m.warehouse=f.warehouse,m.user=f.user,m.problem=f.problem,m.brand=f.brand,m.model=f.model,m.assettag=f.assettag,m.serialnum=f.serialnum,m.assconducted=f.assconducted,m.recommendation=f.recommendation,m.ceated_by=f.ceated_by,m.recommnum=f.recommnum,$("#FormModal").modal("show")},y=(f,{setErrors:_})=>{T.put("/api/tech-recommendations/"+f.id,f).then(te=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(te=>{_(te.response.data.errors),console.log(te)})},p=(f,_)=>{M.value?y(m,_):K(f,_)},v=c(null),F=c([]),he=f=>{const _=F.value.indexOf(f.id);_===-1?F.value.push(f.id):F.value.splice(_,1),console.log(F.value)},j=c(null),Z=f=>{j.value=f,$("#deleteClientModal").modal("show")},Q=()=>{T.delete(`/api/tech-recommendations/${j.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),d.value.data=d.value.data.filter(f=>f.id!==j.value)})},oe=()=>{T.delete("/api/tech-recommendations",{data:{ids:F.value}}).then(f=>{d.value.data=d.value.data.filter(_=>!F.value.includes(_.id)),F.value=[],U.value=!1,l.success(f.data.message)})},I=f=>{T.post("/api/tech-getaction",{id:r.value,status:f}).then(_=>{$("#FormModal").modal("hide"),b()}).catch(_=>{console.log(_.message)})},U=c(!1);return pe(v,we.exports.debounce(()=>{b()},300)),re(()=>{b(),h()}),(f,_)=>{const te=Ce("router-link");return t(),s(q,null,[e("div",Hd,[e("div",Od,[e("div",zd,[e("div",Gd,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[Qd,E(" TechRecom ")]),F.value.length>0?(t(),s("div",Wd,[e("button",{onClick:oe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Kd,E(" Delete Selected ")]),e("span",Xd,"Selected "+a(F.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[W(e("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=x=>v.value=x),class:"form-control",placeholder:"Search..."},null,512),[[ae,v.value]])])]),e("div",Jd,[e("div",Zd,[k.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[ei,ti,si,ai]),_:1})):A("",!0),e("div",oi,[e("div",li,[e("table",ni,[di,d.value.data.length>0?(t(),s("tbody",ii,[(t(!0),s(q,null,z(d.value.data,(x,H)=>(t(),ne(jd,{key:x.id,item:x,index:H,onEditUser:D,onShowItem:f.viewItem,onConfirmUserDeletion:Z,onToggleSelection:he,"select-all":U.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),s("tbody",ci,ui))])])]),(t(!0),s(q,null,z(d.value.data,(x,H)=>(t(),s("div",{class:"dispatch-list",key:x.id,item:x,index:H},[e("div",mi,[e("div",hi,[e("div",pi,[vi,e("span",null,[e("b",null,a(x.recommnum),1)])]),e("div",bi,[fi,e("span",null,a(x.user),1)]),e("div",$i,[gi,e("span",null,a(x.branch),1)]),e("div",yi,[ki,e("span",null,a(x.department),1)]),e("div",xi,[wi,e("span",null,a(x.created_user),1)]),e("div",Ci,[Si,x.statusid==2?(t(),ne(te,{key:0,to:`/admin/tech-approved/${x.recommnum}/view`,target:"_blank"},{default:ee(()=>[e("span",{class:V(["badge",`badge-${x.status.color}`])},a(x.status.name),3)]),_:2},1032,["to"])):A("",!0),x.statusid!=2?(t(),s("span",{key:1,class:V(["badge",`badge-${x.status.color}`])},a(x.status.name),3)):A("",!0)]),e("div",Ui,[Mi,e("span",null,a(x.created_at),1)]),Di,e("div",Ai,[i(C).user.role==="ADMIN"?(t(),s("div",Vi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Se=>D(x)},[Ti,E(" Edit ")],8,Ei),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Se=>Z(x.id)},Ii,8,Fi),x.statusid==2?(t(),s("button",Li,[Yi,E(" Download ")])):A("",!0)])):A("",!0),i(C).user.role==="USER"?(t(),s("div",Bi,[x.statusid!=2?(t(),s("div",Ni,[x.created_by==i(C).user.id?(t(),s("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Se=>D(x)},[qi,E(" Edit ")],8,Ri)):A("",!0)])):A("",!0)])):A("",!0)])])])],8,_i))),128))])]),w(i(Ae),{data:d.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",ji,[e("div",Hi,[e("div",Oi,[e("div",zi,[e("h5",Gi,[M.value?(t(),s("span",Qi,"Edit Tech Recom.")):(t(),s("span",Wi,"Add New Tech Recom."))]),Ki]),w(i(be),{onSubmit:p,"validation-schema":M.value?i(S):i(u),"initial-values":N.value},{default:ee(({errors:x})=>[e("div",Xi,[e("div",Ji,[e("div",Zi,[e("div",ec,[w(i(X),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(C).user.id,"onUpdate:modelValue":_[1]||(_[1]=H=>i(C).user.id=H)},null,8,["modelValue"]),w(i(X),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:m.recommnum,"onUpdate:modelValue":_[2]||(_[2]=H=>m.recommnum=H)},null,8,["modelValue"]),e("div",tc,[sc,w(i(X),{as:"select",name:"branch",class:V(["form-control",{"is-invalid":x.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:m.branch,"onUpdate:modelValue":_[3]||(_[3]=H=>m.branch=H)},{default:ee(()=>[ac,(t(!0),s(q,null,z(n.value,H=>(t(),s("option",{key:H.site_name,value:H.site_name},a(H.site_name),9,oc))),128))]),_:2},1032,["class","modelValue"]),e("span",lc,a(x.branch),1)]),e("div",nc,[dc,w(i(X),{name:"department",type:"text",class:V(["form-control",{"is-invalid":x.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:m.department,"onUpdate:modelValue":_[4]||(_[4]=H=>m.department=H)},null,8,["class","modelValue"]),e("span",ic,a(x.department),1)]),e("div",cc,[rc,w(i(X),{name:"warehouse",type:"text",class:V(["form-control",{"is-invalid":x.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:m.warehouse,"onUpdate:modelValue":_[5]||(_[5]=H=>m.warehouse=H)},null,8,["class","modelValue"]),e("span",uc,a(x.warehouse),1)]),e("div",_c,[mc,w(i(X),{name:"user",type:"text",class:V(["form-control",{"is-invalid":x.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:m.user,"onUpdate:modelValue":_[6]||(_[6]=H=>m.user=H)},null,8,["class","modelValue"]),e("span",hc,a(x.user),1)])]),e("div",pc,[e("div",vc,[bc,w(i(X),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:m.brand,"onUpdate:modelValue":_[7]||(_[7]=H=>m.brand=H)},null,8,["modelValue"])]),e("div",fc,[$c,w(i(X),{name:"model",type:"text",class:V(["form-control",{"is-invalid":x.model}]),id:"model",modelValue:m.model,"onUpdate:modelValue":_[8]||(_[8]=H=>m.model=H),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",gc,a(x.model),1)]),e("div",yc,[kc,w(i(X),{name:"assettag",type:"text",class:V(["form-control",{"is-invalid":x.assettag}]),id:"assettag",modelValue:m.assettag,"onUpdate:modelValue":_[9]||(_[9]=H=>m.assettag=H),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",xc,a(x.assettag),1)]),e("div",wc,[Cc,W(e("input",{name:"serialnum",type:"text",class:V(["form-control",{"is-invalid":x.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":_[10]||(_[10]=H=>m.serialnum=H)},null,2),[[ae,m.serialnum]]),e("span",Sc,a(x.serialnum),1)])]),e("div",Uc,[e("div",Mc,[Dc,w(i(X),{name:"problem",as:"textarea",class:V(["form-control",{"is-invalid":x.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:m.problem,"onUpdate:modelValue":_[11]||(_[11]=H=>m.problem=H)},null,8,["class","modelValue"]),e("span",Ac,a(x.problem),1)]),e("div",Vc,[Ec,w(i(X),{name:"assconducted",as:"textarea",class:V(["form-control",{"is-invalid":x.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:m.assconducted,"onUpdate:modelValue":_[12]||(_[12]=H=>m.assconducted=H)},null,8,["class","modelValue"]),e("span",Tc,a(x.assconducted),1)]),e("div",Fc,[Pc,w(i(X),{name:"recommendation",as:"textarea",class:V(["form-control",{"is-invalid":x.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:m.recommendation,"onUpdate:modelValue":_[13]||(_[13]=H=>m.recommendation=H)},null,8,["class","modelValue"]),e("span",Ic,a(x.recommendation),1)])])])])]),e("div",Lc,[M.value?(t(),s("div",Yc,[i(C).user.role==="ADMIN"?(t(),s("div",Bc,[e("button",{type:"button",onClick:_[14]||(_[14]=H=>I(2)),class:"btn btn-info"}," Approved "),Nc,e("div",Rc,[e("span",{onClick:_[15]||(_[15]=H=>I(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:_[16]||(_[16]=H=>I(3)),class:"dropdown-item"},"Disapproved")])])):A("",!0)])):A("",!0),qc,jc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Hc,[e("div",Oc,[e("div",zc,[Gc,e("div",Qc,[Wc,e("button",{onClick:se(Q,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Ve=je("SettingStore",()=>{const o=c({app_name:""}),r=bt("SettingStore:theme",c("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(d=>{o.value=d.data})},theme:r,changeTheme:()=>{r.value=r.value==="light"?"dark":"light"}}});const O=o=>($e("data-v-ef236600"),o=o(),ge(),o),Xc={class:"content"},Jc={class:"container-fluid"},Zc={class:"card"},er={class:"card-header"},tr={class:"card-title"},sr={class:"card-body"},ar={class:"col-md-12"},or={class:"d-flex justify-content-between"},lr=O(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),nr={class:"d-flex"},dr={class:"col-12",id:"accordion"},ir=O(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),cr=O(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),rr=O(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ur=O(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),_r={key:1},mr={key:0},hr={class:"card card-secondary"},pr={class:"card-body d-flex align-items-center justify-content-center"},vr={class:"image-container"},br=["src"],fr=O(()=>e("div",{class:"overlay"},null,-1)),$r={key:1},gr={class:"card-header bg-white"},yr={class:"card-title"},kr=["href"],xr=["src"],wr={class:"card-tools"},Cr=["onClick"],Sr=O(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ur=[Sr],Mr=["disabled","onClick"],Dr=["onClick"],Ar=O(()=>e("p",{class:"float-right"},null,-1)),Vr=["id"],Er={class:"card-body"},Tr={class:"col-md-12"},Fr={class:"dispatch-table"},Pr={class:"row"},Ir={class:"col-4"},Lr=O(()=>e("b",null,"Site:",-1)),Yr=O(()=>e("b",null,"Planned Date:",-1)),Br=O(()=>e("b",null,"Planned End Date:",-1)),Nr={class:"col-4"},Rr=O(()=>e("b",null,"Start Date:",-1)),qr=O(()=>e("b",null,"Accomplished Date:",-1)),jr={class:"closestatus"},Hr=O(()=>e("b",{style:{color:"black"}},"Type:",-1)),Or={class:"col-4"},zr={class:"ongoing"},Gr=O(()=>e("b",{style:{color:"black"}},"Status:",-1)),Qr=O(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Wr=O(()=>e("b",null,"Remarks:",-1)),Kr={style:{margin:"0.5%"}},Xr=["disabled","onClick"],Jr=["onClick","disabled"],Zr={class:"dispatch-list"},eu={class:"list-group list-group-flush"},tu={class:"list-group-item d-flex justify-content-between align-items-center"},su={class:"badge badge-primary badge-pill"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu=O(()=>e("hr",null,null,-1)),fu={class:"row"},$u={class:"col"},gu=["onClick"],yu=O(()=>e("i",{class:"fas fa-pen"},null,-1)),ku=["onClick"],xu=O(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),E(" Remove ")],-1)),wu=[xu],Cu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Su={class:"modal-dialog modal-dialog-centered",role:"document"},Uu={class:"modal-content"},Mu={class:"modal-header"},Du={class:"modal-title",id:"staticBackdropLabel"},Au={key:0},Vu={key:1},Eu=O(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Tu={class:"modal-body"},Fu={class:"col-md-12"},Pu={class:"row"},Iu={class:"col-12"},Lu={class:"form-group"},Yu=O(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Bu=O(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Nu=["value"],Ru={class:"d-flex justify-content-between"},qu={class:"d-flex"},ju={class:"form-group"},Hu=O(()=>e("label",{for:"end-time"},"Start Date",-1)),Ou={class:"form-group"},zu=O(()=>e("label",{for:"end-time"},"Hour",-1)),Gu=["value"],Qu=O(()=>e("div",{class:"d-fex"},null,-1)),Wu={class:"d-flex justify-content-between"},Ku={class:"d-flex"},Xu={class:"form-group"},Ju=O(()=>e("label",{for:"end-time"},"End Date",-1)),Zu={class:"form-group"},e_=O(()=>e("label",{for:"end-time"},"Hour",-1)),t_=["value"],s_=O(()=>e("div",{class:"d-fex"},null,-1)),a_={class:"form-group"},o_=O(()=>e("label",{for:"site"},"Task",-1)),l_=O(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),n_=["value"],d_=O(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),i_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},c_={class:"modal-dialog modal-sm",role:"document"},r_={class:"modal-content"},u_={class:"modal-header"},__={class:"modal-title",id:"staticBackdropLabel"},m_=O(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),h_={class:"modal-body"},p_=_e('<ul class="nav nav-tabs" id="myTabs" data-v-ef236600><li class="nav-item" data-v-ef236600><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-ef236600> Todo List</a></li><li class="nav-item" data-v-ef236600><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-ef236600> Todo</a></li></ul>',1),v_={class:"tab-content"},b_={class:"tab-pane fade show active",id:"todolist"},f_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},$_=O(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),g_=O(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),y_={key:0,class:"list-group-item mt-2"},k_={class:"d-flex justify-content-between"},x_={class:"d-flex"},w_=["onClick"],C_={class:"d-flex"},S_=["onClick"],U_={class:"m-2 list-unstyled"},M_={key:1},D_={key:0,class:"list-group-item mt-2"},A_={class:"d-flex justify-content-between"},V_={class:"d-flex"},E_=["onClick"],T_={class:"d-flex"},F_=["onClick"],P_={key:1,class:"mt-2 text-center"},I_=O(()=>e("span",null,"No Todo",-1)),L_=[I_],Y_={class:"tab-pane fade",id:"formTask"},B_={class:"col-md-12"},N_={class:"row"},R_={class:"col-12"},q_={class:"m-2",style:{display:"flex","align-items":"center"}},j_=O(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),E("\xA0Save ")])],-1)),H_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},O_={class:"modal-dialog",role:"document"},z_={class:"modal-content"},G_=_e('<div class="modal-header" data-v-ef236600><h5 class="modal-title" id="staticBackdropLabel" data-v-ef236600><span data-v-ef236600>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-ef236600><span aria-hidden="true" data-v-ef236600>\xD7</span></button></div><div class="modal-body" data-v-ef236600><h5 data-v-ef236600>Are you sure you want to delete this record ?</h5></div>',2),Q_={class:"modal-footer"},W_=O(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),K_={__name:"MyPrio",setup(o){const r=c(!1),n=c(!1),l=dt("$swal");Ve();const d=ie(),h=c({data:[]}),k=c([]);c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const M=c();c();const N=c(!0),m=c(!1);c(!1),c();const C=c(),b=c(),u=de();c(null),c(!1);const S=c([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"VSC",value:4},{name:"WORK FROM HOME",value:6}]),K=c(),Y=c("1:00 AM"),G=c(),D=c("1:00 AM"),y=c(Array.from({length:24},(P,L)=>{const g=L%12+1,B=L<12?"AM":"PM";return`${g}:00 ${B}`})),p=c(Array.from({length:24},(P,L)=>{const g=L%12+1,B=L<12?"AM":"PM";return`${g}:00 ${B}`})),v=De({site:"",user_id:u.user.id,tasktype:0,plandate:"",planenddate:""});pe([K,Y],()=>{const P=new Date(K.value),L=P.getFullYear(),g=String(P.getMonth()+1).padStart(2,"0"),B=String(P.getDate()).padStart(2,"0");v.plandate=`${L}-${g}-${B} ${Y.value}`}),pe([G,D],()=>{const P=new Date(G.value),L=P.getFullYear(),g=String(P.getMonth()+1).padStart(2,"0"),B=String(P.getDate()).padStart(2,"0");v.planenddate=`${L}-${g}-${B} ${D.value}`});const F=c({id:"",dailytask_id:"",task_name:"",iscompleted:0}),he=()=>{T.get("/api/getsite").then(P=>{M.value=P.data.sites}).catch(P=>{console.log(P)})},j=()=>{r.value=!0,T.get("/api/dailytask",{params:{query:Te.value}}).then(P=>{r.value=!1,h.value=P.data,et.value=[]})},Z=async P=>{(await l({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(r.value=!0,T.put(`/api/dailytask/drop/${P}`).then(g=>{d.success("Data drop successfully!"),r.value=!1,j()}))},Q=()=>{$("#FormModalTask").modal("show")},oe=P=>{Q(),F.value.dailytask_id=P.dailytask_id,C.value=P.taskdate,b.value=P.startdate,n.value=!0,T.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(L=>{k.value=L.data,Q(),n.value=!1}).catch(L=>{console.error("Error fetching tasks:",L)})},I=()=>{n.value=!0,T.post("/api/dailytask/addnewTask",{dailytask_id:F.value.dailytask_id,task_name:F.value.task_name,iscompleted:F.value.iscompleted}).then(P=>{d.success("Data created successfully!"),T.get(`/api/dailytask/${F.value.dailytask_id}/tasks`).then(L=>{k.value=L.data,n.value=!1}).catch(L=>{console.error("Error fetching tasks:",L),d.error("Error fetching tasks. Please try again.")}),F.value.task_name=""}).catch(P=>{console.error("Error adding new task:",P),d.error("Error adding new task. Please try again.")})},U=P=>{F.value.iscompleted=P.iscompleted===1?0:1,T.post("/api/dailytask/addnewTask",{id:P.id,dailytask_id:P.dailytask_id,task_name:P.task_name,iscompleted:F.value.iscompleted}).then(L=>{T.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(g=>{k.value=g.data}).catch(g=>{console.error("Error fetching tasks:",g),d.error("Error fetching tasks. Please try again.")})}).catch(L=>{console.error("Error adding new task:",L),d.error("Error adding new task. Please try again.")})},f=fe(()=>Array.isArray(k.value)?k.value.filter(P=>P.iscompleted===1):[]),_=fe(()=>f.value.length),te=()=>{N.value=!N.value},x=P=>{T.delete(`/api/dailytask/deleteTask/${P.id}`).then(L=>{T.get(`/api/dailytask/${P.dailytask_id}/tasks`).then(g=>{k.value=g.data,d.success("Todo successfull Deleted")}).catch(g=>{console.error("Error fetching tasks:",g),d.error("Error fetching tasks. Please try again.")})}).catch(L=>{console.error("Error adding new task:",L),d.error("Error adding new task. Please try again.")})};ve({site:R().required(),tasktype:R().required(),plandate:R().required(),planenddate:R().required()}),ve({site:R().required(),tasktype:R().required(),plandate:R().required(),planenddate:R().required()});const H=(P,L)=>{T.post("/api/dailytask",v).then(g=>{console.log(g.data),j(),$("#FormModal").modal("hide"),d.success("data created successfully!")}).catch(g=>{L.setErrors(g.response.data.errors)})},Se=P=>{he(),m.value=P.id!=null,$("#FormModal").modal("show")},Ke=c(!1),Xe=(P,L)=>{Ke.value?updateData(P,L):H(P,L)},Je=async P=>{try{const L=await T.get(`/api/dailytask/${P.dailytask_id}/tasks`);if(k.value=L.data,!k.value||k.value.length===0){l.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await l.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const B=await T.put("/api/dailytask/onhandler/"+P.dailytask_id,P);d.success(B.data.message),j()}}catch(L){console.error("Error fetching tasks:",L),d.error("An error occurred while updating the task.")}},Ze=async P=>{if((await l({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ce(P.taskdate).format("YYYY-MM-DD")===ce().format("YYYY-MM-DD")?(P.remarks="HIT",P.status="On Schedule"):(P.remarks="MISS",P.status="Behind Schedule");const B=await T.put("/api/dailytask/onhandler/"+P.dailytask_id,P);d.success(B.data.message),j()}catch(g){console.error(g),d.error("An error occurred while updating the task.")}},Te=c(null),et=c([]),Ne=c(null),tt=()=>{T.delete(`/api/tech-recommendations/${Ne.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),h.value.data=h.value.data.filter(P=>P.id!==Ne.value)})};return pe(Te,we.exports.debounce(()=>{j()},300)),re(()=>{He(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),j()}),(P,L)=>(t(),s(q,null,[e("div",Xc,[e("div",Jc,[e("div",Zc,[e("div",er,[e("div",tr,a(i(u).user.first_name+" "+i(u).user.last_name)+" - My Prio ",1)]),e("div",sr,[e("div",ar,[e("div",or,[e("div",{class:"d-flex"},[e("button",{onClick:Se,type:"button",class:"mb-2 btn btn-primary"},[lr,E(" Task ")])]),e("div",nr,[W(e("input",{type:"text","onUpdate:modelValue":L[0]||(L[0]=g=>Te.value=g),class:"form-control",placeholder:"Search..."},null,512),[[ae,Te.value]])])]),e("div",dr,[r.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[ir,cr,rr,ur]),_:1})):(t(),s("div",_r,[h.value.length===0?(t(),s("div",mr,[e("div",hr,[e("div",pr,[e("div",vr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,br),fr])])])])):(t(),s("div",$r,[(t(!0),s(q,null,z(h.value,g=>(t(),s("div",{class:"card card-primary",key:g.id},[e("div",gr,[e("h4",yr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+g.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,xr),E(" \xA0"),e("b",null,a(i(ce)(g.taskdate).format("MMMM D, YYYY")),1)],8,kr)]),e("div",wr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:B=>oe(g)},Ur,8,Cr),e("button",{disabled:g.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:B=>Ze(g)}," End ",8,Mr),g.startdate?A("",!0):(t(),s("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:B=>Je(g)}," Start ",8,Dr)),Ar])]),e("div",{id:"collapse"+g.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Er,[e("div",Tr,[e("div",Fr,[e("div",Pr,[e("div",Ir,[e("h5",null,[Lr,E(" "+a(g.site_name),1)]),e("h5",null,[Yr,E(" "+a(g.plandate),1)]),e("h5",null,[Br,E(" "+a(g.planenddate),1)])]),e("div",Nr,[e("h5",null,[Rr,E(" "+a(g.startdate!==null?i(ce)(g.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[qr,E(" "+a(g.enddate!==null?i(ce)(g.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",jr,[Hr,E(" "+a(g.tasktype?g.tasktype.join(", "):""),1)])]),e("div",Or,[e("h5",zr,[Gr,E(" "+a(g.status),1)]),e("h5",null,[Qr,E(" "+a(g.attachment),1)]),e("h5",null,[Wr,E(" "+a(g.remarks),1)])])]),e("div",Kr,[e("button",{disabled:g.startdate!==null,onClick:B=>Z(g.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," \xA0Drop",8,Xr),e("button",{onClick:B=>Se(g),type:"button",disabled:g.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit",8,Jr)])]),e("div",Zr,[e("ul",eu,[e("li",tu,[E(" Site: "),e("span",su,a(g.site_name),1)]),e("li",au,[E(" Planned Date: "),e("span",ou,a(g.plandate),1)]),e("li",lu,[E(" Planned End Date: "),e("span",nu,a(g.planenddate),1)]),e("li",du,[E(" Start Date: "),e("span",iu,a(g.startdate!==null?i(ce)(g.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",cu,[E(" Type: "),e("span",ru,a(g.tasktype?g.tasktype.join(", "):""),1)]),e("li",uu,[E(" Status: "),e("span",_u,a(g.status),1)]),e("li",mu,[E(" Attachment: "),e("span",hu,a(g.attachment),1)]),e("li",pu,[E(" Remarks: "),e("span",vu,a(g.remarks),1)])]),bu,e("div",fu,[e("div",$u,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:B=>Se(g)},[yu,E(" Edit ")],8,gu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:B=>Z(g.dailytask_id)},wu,8,ku)])])])])])],8,Vr)]))),128))]))]))])])])])])]),e("div",Cu,[e("div",Su,[e("div",Uu,[e("div",Mu,[e("h5",Du,[m.value?(t(),s("span",Au,"Edit My Scheduled")):(t(),s("span",Vu,"Add My Scheduled"))]),Eu]),w(i(be),{onSubmit:Xe},{default:ee(({errors:g})=>[e("div",Tu,[e("div",Fu,[e("div",Pu,[e("div",Iu,[w(i(X),{modelValue:v.user_id,"onUpdate:modelValue":L[1]||(L[1]=B=>v.user_id=B),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Lu,[Yu,W(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":L[2]||(L[2]=B=>v.site=B)},[Bu,(t(!0),s(q,null,z(M.value,B=>(t(),s("option",{key:B.id,value:B.id},a(B.site_name),9,Nu))),128))],512),[[ke,v.site]])]),e("div",Ru,[e("div",qu,[e("div",ju,[Hu,w(i(Me),{class:"form-control",modelValue:K.value,"onUpdate:modelValue":L[3]||(L[3]=B=>K.value=B)},null,8,["modelValue"])]),e("div",Ou,[zu,W(e("select",{class:"form-control","onUpdate:modelValue":L[4]||(L[4]=B=>Y.value=B),id:"plandate"},[(t(!0),s(q,null,z(y.value,B=>(t(),s("option",{key:B,value:B},a(B),9,Gu))),128))],512),[[ke,Y.value]])])]),Qu]),e("div",Wu,[e("div",Ku,[e("div",Xu,[Ju,w(i(Me),{class:"form-control",modelValue:G.value,"onUpdate:modelValue":L[5]||(L[5]=B=>G.value=B)},null,8,["modelValue"])]),e("div",Zu,[e_,W(e("select",{class:"form-control","onUpdate:modelValue":L[6]||(L[6]=B=>D.value=B),id:"plandate"},[(t(!0),s(q,null,z(p.value,B=>(t(),s("option",{key:B,value:B},a(B),9,t_))),128))],512),[[ke,D.value]])])]),s_]),e("div",a_,[o_,w(i(X),{name:"tasktype"},{default:ee(()=>[W(e("select",{"onUpdate:modelValue":L[7]||(L[7]=B=>v.tasktype=B),class:"form-control",required:!0},[l_,(t(!0),s(q,null,z(S.value,B=>(t(),s("option",{key:B.value,value:B.value},a(B.name),9,n_))),128))],512),[[ke,v.tasktype]])]),_:1})])])])])]),d_]),_:1})])])]),e("div",i_,[e("div",c_,[e("div",r_,[e("div",u_,[e("h5",__," My Todo of "+a(i(ce)(C.value).format("MM/D/YYYY")),1),m_]),e("div",h_,[p_,e("div",v_,[e("div",b_,[k.value.length>0?(t(),s("div",f_,[n.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[$_,g_]),_:1})):A("",!0),(t(!0),s(q,null,z(k.value,g=>(t(),s("ul",{class:"list-group",key:g.id},[g.iscompleted!==1?(t(),s("li",y_,[e("div",k_,[e("div",x_,[b.value?(t(),s("i",{key:0,onClick:B=>U(g),class:V({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.iscompleted===1,"fa fa-circle text-primary":g.iscompleted!==1}),style:{"font-size":"15px"}},null,10,w_)):A("",!0),e("span",{class:V({"font-italic":g.iscompleted===1,"":g.iscompleted!==1})},a(g.task_name),3)]),e("div",C_,[e("i",{class:"fa fa-trash text-danger",onClick:B=>x(g)},null,8,S_)])])])):A("",!0)]))),128)),e("li",U_,[_.value>0?(t(),s("button",{key:0,class:"btn btn-sm bg-secondary",onClick:te},[e("i",{class:V(["fa",N.value?"fa-arrow-down":"fa-arrow-right"])},null,2),E(" \xA0Completed "+a(_.value),1)])):A("",!0)]),N.value?(t(),s("div",M_,[(t(!0),s(q,null,z(k.value,g=>(t(),s("ul",{class:"list-group",key:g.id},[g.iscompleted===1?(t(),s("li",D_,[e("div",A_,[e("div",V_,[e("i",{class:V({"cursor-pointer mr-2":!0,"fa fa-check-circle":g.iscompleted===1,"fa fa-circle":g.iscompleted!==1}),style:{"font-size":"15px"},onClick:B=>U(g)},null,10,E_),e("span",{class:V({"font-italic":g.iscompleted===1,"":g.iscompleted!==1})},[e("del",null,a(g.task_name),1)],2)]),e("div",T_,[e("i",{class:"fa fa-trash text-danger",onClick:B=>x(g)},null,8,F_)])])])):A("",!0)]))),128))])):A("",!0)])):(t(),s("div",P_,L_))]),e("div",Y_,[w(i(be),{onSubmit:I},{default:ee(()=>[e("div",B_,[e("div",N_,[e("div",R_,[w(i(X),{modelValue:F.value.dailytask_id,"onUpdate:modelValue":L[8]||(L[8]=g=>F.value.dailytask_id=g),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",q_,[w(i(X),{modelValue:F.value.task_name,"onUpdate:modelValue":L[9]||(L[9]=g=>F.value.task_name=g),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),j_]),_:1})])])])])])]),e("div",H_,[e("div",O_,[e("div",z_,[G_,e("div",Q_,[W_,e("button",{onClick:se(tt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var X_=me(K_,[["__scopeId","data-v-ef236600"]]);const J_={class:"text-center"},Z_={key:0},em={class:"text-center"},tm={key:0},sm={class:"text-center"},am={key:0},om={key:0,class:"bg-success text-center"},lm={key:1,class:"bg-danger text-center"},nm={key:2,class:"text-center"},dm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return ie(),de(),(r,n)=>(t(),s("tr",null,[e("td",null,a(i(ce)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",J_,[o.item.task_lists_count!==0?(t(),s("span",Z_,a(o.item.task_lists_count),1)):A("",!0)]),e("td",em,[o.item.completed_task_count!==0?(t(),s("span",tm,a(o.item.completed_task_count),1)):A("",!0)]),e("td",sm,[o.item.status!=="On Going"?(t(),s("span",am,a(o.item.status),1)):A("",!0)]),o.item.remarks==="HIT"?(t(),s("td",om,a(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),s("td",lm,a(o.item.remarks),1)):o.item.remarks===null?(t(),s("td",nm,a(o.item.startdate!=null?"On Going!":""),1)):A("",!0),e("td",{class:V({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},a(o.item.percentage_completed+"%"),3)]))}};const le=o=>($e("data-v-6e644549"),o=o(),ge(),o),im={class:"content-header"},cm={class:"container-fluid"},rm={class:"col-12"},um={class:"card",id:"captureVSCContainer"},_m={class:"card-header"},mm={class:"card-title"},hm={class:"card-tools"},pm={class:"card-body"},vm=le(()=>e("i",{class:"fa fa-camera"},null,-1)),bm=[vm],fm=le(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),$m=le(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),gm=le(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ym=le(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),km={key:1,class:"row"},xm={class:"inner"},wm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Cm=["src"],Sm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Um={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Mm={style:{"text-align":"left"}},Dm={key:0},Am=le(()=>e("span",{class:"text-light badge"},"Todos",-1)),Vm={class:"list-group list-group-flush"},Em={style:{display:"flex","align-items":"left"}},Tm={class:"ml-1"},Fm={class:"ml-1"},Pm={key:1},Im={class:"float-right"},Lm={id:"captureHitRateContainer",class:"card"},Ym={class:"card-header"},Bm={class:"card-title"},Nm={class:"card-body"},Rm={class:"content"},qm={class:"container-fluid"},jm=le(()=>e("i",{class:"fa fa-camera"},null,-1)),Hm=[jm],Om={class:"dispatch-table"},zm={class:"table-responsive"},Gm={class:"table table-bordered table-hover table-sm"},Qm=le(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Wm=["item"],Km={class:"list-field"},Xm=le(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Jm={class:"list-field"},Zm=le(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),eh={key:0},th={class:"list-field"},sh=le(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),ah={key:0},oh={class:"list-field"},lh=le(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),nh={class:"list-field"},dh=le(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),ih={class:"list-field"},ch=le(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),rh={class:"float-right"},uh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_h={class:"modal-dialog modal-sm",role:"document"},mh={class:"modal-content"},hh=le(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My VSC Summary Report")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),ph={class:"modal-body"},vh={class:"fromtocenter"},bh=le(()=>e("label",{for:"fromDate"},"From:",-1)),fh=le(()=>e("label",{for:"toDate"},"To:",-1)),$h=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),gh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},yh={class:"modal-dialog modal-sm",role:"document"},kh={class:"modal-content"},xh=le(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),wh={class:"modal-body"},Ch={class:"container"},Sh={class:"row"},Uh=["onClick"],Mh=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Dh={__name:"MyVsc",setup(o){const r=de(),n=c(!1),l=c([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),h=c((()=>{const y={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",y)})()),k=()=>{const y=document.getElementById("captureVSCContainer");Le(y).then(p=>{const v=p.toDataURL(),F=document.createElement("a");F.href=v,F.download="My VSC.png",F.click()})},M=()=>{const y=document.getElementById("captureHitRateContainer");Le(y).then(p=>{const v=p.toDataURL(),F=document.createElement("a");F.href=v,F.download="My HITRATE.png",F.click()})};c(null),c("today");const N=c({data:[]}),m=c({data:[]}),C=()=>{n.value=!0,axios.get("/api/myvsc").then(y=>{n.value=!1,N.value=y.data.dailyTasks,m.value=y.data.TaskList})},b=()=>{$("#FormModalfilterDate").modal("show")},u=c({start_date:"",end_date:""}),S=c(""),K=c("");pe([S],()=>{const y=new Date(S.value),p=y.getFullYear(),v=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");u.value.start_date=`${p}-${v}-${F}`}),pe([K],()=>{const y=new Date(K.value),p=y.getFullYear(),v=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");u.value.end_date=`${p}-${v}-${F}`});const Y=()=>{n.value=!0,axios.get("/api/filter-vsc",{params:{start_date:u.value.start_date,end_date:u.value.end_date}}).then(y=>{n.value=!1,N.value=y.data.dailyTasks,m.value=y.data.TaskList}).catch(y=>{console.error(y)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},G=()=>{$("#FormModalPickerThemes").modal("show")},D=y=>{if(y){const p=r.user.id;axios.post("/api/changethemes",{userid:p,background:y.background,active_background:y.active_background,font_background:y.font_background}).then(v=>{$("#FormModalPickerThemes").modal("hide"),n.value=!0,axios.get("/api/myvsc").then(F=>{n.value=!1,N.value=F.data.dailyTasks,m.value=F.data.TaskList})}).catch(v=>{console.error(v)})}else console.error("Invalid item:",y)};return re(()=>{C()}),(y,p)=>(t(),s(q,null,[e("div",im,[e("div",cm,[e("div",rm,[e("div",um,[e("div",_m,[e("div",mm,[e("h5",null,a(i(r).user.first_name+" "+i(r).user.last_name)+" - My VSC ",1)]),e("div",hm,[e("i",{onClick:p[0]||(p[0]=v=>G()),class:"fas fa-palette"})])]),e("div",pm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:k,type:"button",class:"mb-2 btn btn-sm btn-success"},bm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:b})])]),n.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[fm,$m,gm,ym]),_:1})):(t(),s("div",km,[(t(!0),s(q,null,z(N.value,v=>(t(),s("div",{class:"col-lg-3 col-6",key:v.id},[e("div",{class:"small-box",style:Ie("background-color: "+(i(ce)(v.taskdate).format("MMMM D, YYYY")===h.value?v.active_background==""?"#72461F":v.active_background:v.background==""?"#B98D65":v.background)+";")},[e("div",xm,[e("div",wm,[E(a(i(ce)(v.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Cm)]),e("div",Sm,a(i(ce)(v.taskdate).format("MMMM D, YYYY")),1),e("div",Um,a(v.site_name),1),e("div",Mm,[v.task_lists&&v.task_lists.length>0?(t(),s("div",Dm,[Am,e("ul",Vm,[(t(!0),s(q,null,z(v.task_lists,F=>(t(),s("li",{class:"list-group-item",key:F.id},[e("div",Em,[e("div",Tm,[e("i",{class:V(F.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Fm,a(F.task_name),1)])]))),128))])])):(t(),s("span",Pm))])])],4)]))),128))])),e("div",Im,a(h.value),1)])]),e("div",Lm,[e("div",Ym,[e("div",Bm,[e("h5",null,a(i(r).user.first_name+" "+i(r).user.last_name)+" - My HIT RATE ",1)])]),e("div",Nm,[e("div",Rm,[e("div",qm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:M,type:"button",class:"mb-2 btn btn-sm btn-success"},Hm)])]),e("div",Om,[e("div",zm,[e("table",Gm,[Qm,e("tbody",null,[(t(!0),s(q,null,z(m.value,v=>(t(),ne(dm,{key:v.id,item:v},null,8,["item"]))),128))])])])]),(t(!0),s(q,null,z(m.value,v=>(t(),s("div",{class:"dispatch-list",key:v.id,item:v},[e("div",{class:V([{"callout callout-success":v.remarks==="HIT","callout callout-danger":v.remarks==="MISS",callout:v.remarks===null}])},[e("div",Km,[Xm,e("span",null,a(i(ce)(v.taskdate).format("MMMM D, YYYY")),1)]),e("div",Jm,[Zm,v.task_lists_count!==0?(t(),s("span",eh,a(v.task_lists_count),1)):A("",!0)]),e("div",th,[sh,v.completed_task_count!==0?(t(),s("span",ah,a(v.completed_task_count),1)):A("",!0)]),e("div",oh,[lh,e("span",null,[e("b",null,a(v.status),1)])]),e("div",nh,[dh,e("span",{class:V(["badge",v.remarks==="HIT"?"bg-success":"bg-danger"])},a(v.remarks),3)]),e("div",ih,[ch,e("span",{class:V(["badge",{"bg-danger":v.percentage_completed>=0&&v.percentage_completed<=59},{"bg-orange":v.percentage_completed>60&&v.percentage_completed<=90},{"bg-success":v.percentage_completed===100}])},a(v.percentage_completed+"%"),3)])],2)],8,Wm))),128))])]),e("div",rh,a(h.value),1)])])])])]),e("div",uh,[e("div",_h,[e("div",mh,[hh,e("div",ph,[e("div",vh,[e("div",null,[bh,w(i(Me),{modelValue:S.value,"onUpdate:modelValue":p[1]||(p[1]=v=>S.value=v)},null,8,["modelValue"])]),e("div",null,[fh,w(i(Me),{modelValue:K.value,"onUpdate:modelValue":p[2]||(p[2]=v=>K.value=v)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[$h,e("button",{onClick:Y,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",gh,[e("div",yh,[e("div",kh,[xh,e("div",wh,[e("div",Ch,[e("div",Sh,[(t(!0),s(q,null,z(l.value,v=>(t(),s("div",{class:"col-md-4",key:v.background},[e("div",{class:"box",onClick:F=>D(v)},[e("div",{class:"column",style:Ie({"background-color":v.background})},"\xA0",4),e("div",{class:"column",style:Ie({"background-color":v.active_background})},"\xA0",4)],8,Uh)]))),128))])])]),Mh])])])],64))}};var Ah=me(Dh,[["__scopeId","data-v-6e644549"]]);const Vh={class:"text-center"},Eh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return ie(),de(),(r,n)=>(t(),s("tr",null,[e("td",null,a(o.item.sitename),1),e("td",null,a(i(ce)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,a(o.item.startdate),1),e("td",null,a(o.item.enddate),1),e("td",null,a(o.item.tasktype.listtask),1),e("td",null,a(o.item.status),1),e("td",Vh,[e("span",{class:V(["badge",o.item.remarks==="HIT"?"bg-primary":"bg-danger"])},a(o.item.remarks),3)])]))}};var Th=me(Eh,[["__scopeId","data-v-50315b62"]]);const ue=o=>($e("data-v-368dbe6c"),o=o(),ge(),o),Fh={class:"content"},Ph={class:"container-fluid"},Ih={class:"card",id:"capturePrioContainer"},Lh={class:"card-header"},Yh={class:"card-title"},Bh={class:"card-body"},Nh=ue(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Rh=ue(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),qh=ue(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),jh=ue(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Hh={key:1,class:"content"},Oh={class:"container-fluid"},zh=ue(()=>e("i",{class:"fa fa-camera"},null,-1)),Gh=[zh],Qh={class:"dispatch-table"},Wh={class:"table-responsive"},Kh={class:"table table-bordered table-sm table-striped table-hover"},Xh=ue(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Jh={key:0},Zh={key:1},ep=ue(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),tp=[ep],sp=["item","index"],ap={class:"card"},op={class:"card-body"},lp={class:"list-field"},np=ue(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),dp={class:"list-field"},ip=ue(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),cp={class:"list-field"},rp=ue(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),up={class:"list-field"},_p=ue(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),mp={class:"list-field"},hp=ue(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),pp={class:"list-field"},vp=ue(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),bp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fp={class:"modal-dialog modal-sm",role:"document"},$p={class:"modal-content"},gp=ue(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),yp={class:"modal-body"},kp={class:"fromtocenter"},xp=ue(()=>e("label",{for:"fromDate"},"From:",-1)),wp=ue(()=>e("label",{for:"toDate"},"To:",-1)),Cp=ue(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Sp={__name:"MyClosePrioList",setup(o){const r=c(!1);ie();const n=c({data:[]}),l=c(""),d=c(""),h=de(),k=(C=1)=>{r.value=!0,T.get(`/api/mycloseprio?page=${C}`,{params:{query:m.value}}).then(b=>{r.value=!1,n.value=b.data})},M=()=>{const C=document.getElementById("capturePrioContainer");Le(C).then(b=>{const u=b.toDataURL(),S=document.createElement("a");S.href=u,S.download="MY CLOSED PRIO.png",S.click()})},N=()=>{r.value=!0,T.get("/api/filter-closeprio",{params:{start_date:l.value,end_date:d.value}}).then(C=>{r.value=!1,n.value=C.data.dailyTasks}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},m=c(null);return pe(m,we.exports.debounce(()=>{k()},300)),re(()=>{k()}),(C,b)=>(t(),s(q,null,[e("div",Fh,[e("div",Ph,[e("div",Ih,[e("div",Lh,[e("div",Yh,[e("h5",null,a(i(h).user.first_name+" "+i(h).user.last_name)+" - My Closed Prio ",1)])]),e("div",Bh,[r.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[Nh,Rh,qh,jh]),_:1})):(t(),s("div",Hh,[e("div",Oh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:M,type:"button",class:"mb-2 btn btn-sm btn-success"},Gh)])]),e("div",null,[e("div",Qh,[e("div",Wh,[e("table",Kh,[Xh,n.value.data.length>0?(t(),s("tbody",Jh,[(t(!0),s(q,null,z(n.value.data,(u,S)=>(t(),ne(Th,{key:u.id,item:u,index:S},null,8,["item","index"]))),128))])):(t(),s("tbody",Zh,tp))])])]),(t(!0),s(q,null,z(n.value.data,(u,S)=>(t(),s("div",{class:"dispatch-list first-letter:shadow",key:u.id,item:u,index:S},[e("div",ap,[e("div",op,[e("div",lp,[np,e("span",null,a(u.sitename),1)]),e("div",dp,[ip,e("span",null,a(i(ce)(u.taskdate).format("MMMM D, YYYY")),1)]),e("div",cp,[rp,e("span",null,a(u.startdate),1)]),e("div",up,[_p,e("span",null,a(u.enddate),1)]),e("div",mp,[hp,e("span",null,a(u.tasktype.listtask),1)]),e("div",pp,[vp,e("span",{class:V(["badge",u.remarks==="HIT"?"bg-success":"bg-danger"])},a(u.remarks),3)])])])],8,sp))),128))])])]))])]),w(i(Ae),{data:n.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",bp,[e("div",fp,[e("div",$p,[gp,e("div",yp,[e("div",kp,[e("div",null,[xp,w(i(Me),{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=u=>l.value=u)},null,8,["modelValue"])]),e("div",null,[wp,w(i(Me),{modelValue:d.value,"onUpdate:modelValue":b[1]||(b[1]=u=>d.value=u)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Cp,e("button",{onClick:N,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64))}};var Up=me(Sp,[["__scopeId","data-v-368dbe6c"]]);const Mp=["checked"],Dp={class:"text-center"},Ap=e("i",{class:"fa fa-edit"},null,-1),Vp=[Ap],Ep={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:r}){ie();const n=o,l=r,d=()=>{l("toggleSelection",n.user)};return(h,k)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Mp)]),e("td",null,a(o.index+1),1),e("td",null,a(o.user.first_name+" "+o.user.last_name),1),e("td",null,a(o.user.email),1),e("td",null,a(o.user.formatted_created_at),1),e("td",Dp,[e("a",{href:"#",onClick:k[0]||(k[0]=se(M=>h.$emit("editUser",o.user),["prevent"]))},Vp)])]))}},Tp={class:"content"},Fp={class:"container-fluid"},Pp={class:"card"},Ip={class:"card-header"},Lp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Yp={class:"card-tools"},Bp={class:"card-body"},Np={class:"table-responsive"},Rp={class:"table table-bordered table-hover table-sm"},qp=e("th",{style:{width:"10px"}},"#",-1),jp=e("th",null,"Name",-1),Hp=e("th",null,"Email",-1),Op=e("th",null,"Registered Date",-1),zp=e("th",null,"Options",-1),Gp={key:0},Qp={key:1},Wp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Kp=[Wp],Xp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Jp={class:"modal-dialog modal-sm",role:"document"},Zp={class:"modal-content"},ev={class:"modal-header"},tv={class:"modal-title",id:"staticBackdropLabel"},sv={key:0},av=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),ov={class:"modal-body"},lv={class:"table table-sm"},nv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),dv={colspan:"5"},iv={class:"custom-control custom-checkbox"},cv=["value","id","checked"],rv=["for"],uv={key:0,class:"table table-sm"},_v={class:"text-danger"},mv={class:"custom-control custom-checkbox"},hv=["value","id"],pv=["for"],vv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),bv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fv={class:"modal-dialog",role:"document"},$v={class:"modal-content"},gv=_e('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),yv={class:"modal-footer"},kv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),xv={__name:"UserMenuList",setup(o){const r=ie(),n=c({data:[]}),l=c(!1),d=c(),h=c(null),k=c(null),M=c([]),N=(D=1)=>{T.get(`/api/users?page=${D}`,{params:{query:b.value}}).then(y=>{n.value=y.data,u.value=[],selectAll.value=!1})},m=D=>{T.get("/api/showusermenu",{params:{user_id:D.id}}).then(y=>{G.value=y.data,console.log(y.data)}).catch(y=>{console.log(y)}),l.value=!0,h.value.resetForm(),$("#userFormModal").modal("show"),d.value={id:D.id,username:D.username,email:D.email,first_name:D.first_name,last_name:D.last_name},k.value=d.value.first_name+" "+d.value.last_name},C=()=>{const D={user_id:d.value.id,menu_id:M.value};T.post("/api/usermenu",D).then(y=>{r.success("User Menu Save successfully!")}).catch(y=>{setErrors(y.response.data.errors)})},b=c(null),u=c([]),S=D=>{const y=u.value.indexOf(D.id);y===-1?u.value.push(D.id):u.value.splice(y,1),console.log(u.value)},K=c(null),Y=D=>{K.value=D,$("#deleteUserModal").modal("show")},G=c({data:[]});return pe(b,we.exports.debounce(()=>{N()},300)),re(()=>{N()}),(D,y)=>(t(),s(q,null,[e("div",Tp,[e("div",Fp,[e("div",Pp,[e("div",Ip,[Lp,e("div",Yp,[W(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=p=>b.value=p),class:"form-control",placeholder:"Search..."},null,512),[[ae,b.value]])])]),e("div",Bp,[e("div",Np,[e("table",Rp,[e("thead",null,[e("tr",null,[e("th",null,[W(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=p=>D.selectAll=p),onChange:y[2]||(y[2]=(...p)=>D.selectAllUsers&&D.selectAllUsers(...p))},null,544),[[Ue,D.selectAll]])]),qp,jp,Hp,Op,zp])]),n.value.data.length>0?(t(),s("tbody",Gp,[(t(!0),s(q,null,z(n.value.data,(p,v)=>(t(),ne(Ep,{key:p.id,user:p,index:v,onEditUser:m,onConfirmUserDeletion:Y,onToggleSelection:S,"select-all":D.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),s("tbody",Qp,Kp))])])])]),w(i(Ae),{data:n.value,onPaginationChangePage:N},null,8,["data"])])]),e("div",Xp,[e("div",Jp,[e("div",Zp,[e("div",ev,[e("h5",tv,[l.value?(t(),s("span",sv,"User Menu for "+a(k.value),1)):A("",!0)]),av]),w(i(be),{ref_key:"form",ref:h,onSubmit:C,"initial-values":d.value},{default:ee(()=>[e("div",ov,[e("table",lv,[nv,(t(!0),s(q,null,z(G.value,p=>(t(),s("tr",{key:p.menu_id},[e("td",dv,[e("div",iv,[W(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=v=>M.value=v),value:p.menu_id,id:"menu_id_"+p.menu_id,checked:p.hasAccess},null,8,cv),[[Ue,M.value]]),e("label",{for:"menu_id_"+p.menu_id,class:"custom-control-label"},a(p.menu_title),9,rv)]),p.submenus&&p.submenus.length>0?(t(),s("table",uv,[(t(!0),s(q,null,z(p.submenus,v=>(t(),s("tr",{key:v.id},[e("td",_v,[e("div",mv,[W(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[4]||(y[4]=F=>M.value=F),value:v.menu_id,id:"menu_id_"+v.menu_id},null,8,hv),[[Ue,M.value]]),e("label",{for:"menu_id_"+v.menu_id,class:"custom-control-label"},a(v.menu_title),9,pv)])])]))),128))])):A("",!0)])]))),128))])]),vv]),_:1},8,["initial-values"])])])]),e("div",bv,[e("div",fv,[e("div",$v,[gv,e("div",yv,[kv,e("button",{onClick:y[5]||(y[5]=se((...p)=>D.deleteUser&&D.deleteUser(...p),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};const ze=o=>($e("data-v-815a1ea6"),o=o(),ge(),o),wv=["checked"],Cv=["innerHTML"],Sv={style:{"text-align":"center"}},Uv={class:"text-center"},Mv=ze(()=>e("i",{class:"fa fa-edit"},null,-1)),Dv=[Mv],Av=ze(()=>e("i",{class:"fa fa-trash"},null,-1)),Vv=[Av],Ev={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:r}){ie(),de();const n=o,l=r,d=()=>{l("toggleSelection",n.item)};return(h,k)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,wv)]),e("td",null,a(o.index+1),1),e("td",null,a(o.item.menu_title),1),e("td",null,a(o.item.parent_title),1),e("td",null,a(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Cv),e("td",null,a(o.item.sort_order),1),e("td",Sv,[e("i",{class:V({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,a(o.item.created_at),1),e("td",Uv,[e("button",{class:"btn btn-sm bg-primary",onClick:k[0]||(k[0]=se(M=>h.$emit("editUser",o.item),["prevent"]))},Dv),E("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:k[1]||(k[1]=se(M=>h.$emit("trash",o.item),["prevent"]))},Vv)])]))}};var Tv=me(Ev,[["__scopeId","data-v-815a1ea6"]]);const Fv={class:"content"},Pv={class:"container-fluid"},Iv={class:"d-flex justify-content-between"},Lv={class:"d-flex"},Yv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Bv={key:0},Nv=e("i",{class:"fa fa-trash mr-1"},null,-1),Rv={class:"ml-2"},qv={class:"card"},jv={class:"card-body"},Hv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ov=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),zv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Gv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Qv={class:"table-responsive"},Wv={class:"table table-bordered table-sm"},Kv=e("th",{style:{width:"10px"}},"#",-1),Xv=e("th",null,"Title",-1),Jv=e("th",null,"Parent Menu",-1),Zv=e("th",null,"Route",-1),e1=e("th",null,"Icon",-1),t1=e("th",null,"Sort",-1),s1=e("th",null,"Active",-1),a1=e("th",null,"Date",-1),o1=e("th",null,"Action",-1),l1={key:0},n1={key:1},d1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),i1=[d1],c1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},r1={class:"modal-dialog modal-sm",role:"document"},u1={class:"modal-content"},_1={class:"modal-header"},m1={class:"modal-title",id:"staticBackdropLabel"},h1={key:0},p1={key:1},v1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),b1={class:"modal-body"},f1={class:"col-md-12"},$1={class:"row"},g1={class:"col-12"},y1={class:"form-group"},k1=e("label",{for:"user"},"Menu Title",-1),x1={class:"invalid-feedback"},w1={class:"form-group"},C1=e("label",{for:"department"},"Parent Menu",-1),S1=e("option",{value:"0"},"None",-1),U1=["value"],M1={class:"form-group"},D1=e("label",{for:"warehouse"},"Icon",-1),A1={class:"invalid-feedback"},V1={class:"form-group"},E1=e("label",{for:"user"},"Route",-1),T1={class:"invalid-feedback"},F1={class:"form-group"},P1=e("label",{for:"user"},"Sort",-1),I1={class:"invalid-feedback"},L1={class:"form-group"},Y1=e("label",{for:"user"},"Active",-1),B1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),N1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},R1={class:"modal-dialog",role:"document"},q1={class:"modal-content"},j1=_e('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),H1={class:"modal-footer"},O1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),z1={__name:"MenuList",setup(o){const r=ie(),n=c({data:[]}),l=c({data:[]}),d=c(!1),h=c(!1),k=c(),M=c(null),N=de();c(null);const m=c(),C=(I=1)=>{d.value=!0,T.get(`/api/menulist?page=${I}`,{params:{query:y.value}}).then(U=>{d.value=!1,n.value=U.data,p.value=[],Q.value=!1})},b=()=>{T.get("/api/GetParentId").then(I=>{l.value=I.data}).catch(I=>{console.error(I)})};ve({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()}),ve({menu_title:R().required(),parent_id:R().required(),sort_order:R().required(),menu_icon:R().required(),menu_route:R().required()});const u=(I,{resetForm:U,setErrors:f})=>{T.post("/api/menulist",{menu_title:I.menu_title,parent_id:m.value,menu_icon:I.menu_icon,menu_route:I.menu_route,sort_order:I.sort_order,is_active:I.is_active}).then(_=>{n.value.data.unshift(_.data),$("#FormModal").modal("hide"),U(),r.success("User created successfully!")}).catch(_=>{_.response.data.errors&&f(_.response.data.errors)})},S=()=>{h.value=!1,$("#FormModal").modal("show")},K=I=>{h.value=!0,M.value.resetForm(),$("#FormModal").modal("show"),k.value={menu_id:I.menu_id,menu_title:I.menu_title,menu_icon:I.menu_icon,parent_id:I.parent_id,menu_route:I.menu_route,sort_order:I.sort_order,is_active:I.is_active},m.value=I.parent_id},Y=I=>{h.value=!0,M.value.resetForm(),$("#FormModalView").modal("show"),k.value={menu_id:I.menu_id,menu_title:I.menu_title,menu_icon:I.menu_icon,parent_id:I.parent_id,menu_route:I.menu_route,sort_order:I.sort_order,is_active:I.is_active}},G=(I,{setErrors:U})=>{T.post("/api/menulist",I).then(f=>{C(),$("#FormModal").modal("hide"),r.success("successfully Updated!")}).catch(f=>{U(f.response.data.errors),console.log(f)})},D=(I,U)=>{h.value?G(I,U):u(I,U)},y=c(null),p=c([]),v=I=>{const U=p.value.indexOf(I.id);U===-1?p.value.push(I.id):p.value.splice(U,1),console.log(p.value)},F=c(null),he=I=>{F.value=I,$("#deleteClientModal").modal("show")},j=()=>{T.delete(`menulist/${F.value}`).then(()=>{$("#deleteClientModal").modal("hide"),r.success("Client deleted successfully!"),n.value.data=n.value.data.filter(I=>I.id!==F.value)})},Z=()=>{T.delete("menulist",{data:{ids:p.value}}).then(I=>{n.value.data=n.value.data.filter(U=>!p.value.includes(U.id)),p.value=[],Q.value=!1,r.success(I.data.message)})},Q=c(!1),oe=()=>{Q.value?p.value=n.value.data.map(I=>I.id):p.value=[],console.log(p.value)};return pe(y,we.exports.debounce(()=>{C()},300)),re(()=>{C(),b()}),(I,U)=>(t(),s(q,null,[e("div",Fv,[e("div",Pv,[e("div",Iv,[e("div",Lv,[e("button",{onClick:S,type:"button",class:"mb-2 btn btn-primary"},[Yv,E(" Menu ")]),p.value.length>0?(t(),s("div",Bv,[e("button",{onClick:Z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Nv,E(" Delete Selected ")]),e("span",Rv,"Selected "+a(p.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[W(e("input",{type:"text","onUpdate:modelValue":U[0]||(U[0]=f=>y.value=f),class:"form-control",placeholder:"Search..."},null,512),[[ae,y.value]])])]),e("div",qv,[e("div",jv,[d.value?(t(),ne(i(xe),{key:0,viewBox:"0 0 250 110"},{default:ee(()=>[Hv,Ov,zv,Gv]),_:1})):A("",!0),e("div",Qv,[e("table",Wv,[e("thead",null,[e("tr",null,[e("th",null,[W(e("input",{type:"checkbox","onUpdate:modelValue":U[1]||(U[1]=f=>Q.value=f),onChange:oe},null,544),[[Ue,Q.value]])]),Kv,Xv,Jv,Zv,e1,t1,s1,a1,o1])]),n.value.data.length>0?(t(),s("tbody",l1,[(t(!0),s(q,null,z(n.value.data,(f,_)=>(t(),ne(Tv,{key:f.id,item:f,index:_,onEditUser:K,onShowItem:Y,onConfirmUserDeletion:he,onToggleSelection:v,"select-all":Q.value},null,8,["item","index","select-all"]))),128))])):(t(),s("tbody",n1,i1))])])])]),w(i(Ae),{data:n.value,onPaginationChangePage:C},null,8,["data"])])]),e("div",c1,[e("div",r1,[e("div",u1,[e("div",_1,[e("h5",m1,[h.value?(t(),s("span",h1,"Edit Menu")):(t(),s("span",p1,"Add Menu"))]),v1]),w(i(be),{ref_key:"form",ref:M,onSubmit:D,"initial-values":k.value},{default:ee(({errors:f})=>[e("div",b1,[e("div",f1,[e("div",$1,[e("div",g1,[w(i(X),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(N).user.id,"onUpdate:modelValue":U[2]||(U[2]=_=>i(N).user.id=_)},null,8,["modelValue"]),e("div",y1,[k1,w(i(X),{name:"menu_title",type:"text",class:V(["form-control",{"is-invalid":f.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title"},null,8,["class"]),e("span",x1,a(f.menu_title),1)]),e("div",w1,[C1,W(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":U[3]||(U[3]=_=>m.value=_)},[S1,(t(!0),s(q,null,z(l.value,_=>(t(),s("option",{key:_.menu_id,value:_.menu_id},a(_.menu_title),9,U1))),128))],512),[[ke,m.value]])]),e("div",M1,[D1,w(i(X),{name:"menu_icon",type:"text",class:V(["form-control",{"is-invalid":f.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon"},null,8,["class"]),e("span",A1,a(f.menu_icon),1)]),e("div",V1,[E1,w(i(X),{name:"menu_route",type:"text",class:V(["form-control",{"is-invalid":f.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route"},null,8,["class"]),e("span",T1,a(f.menu_route),1)]),e("div",F1,[P1,w(i(X),{name:"sort_order",type:"text",class:V(["form-control",{"is-invalid":f.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order"},null,8,["class"]),e("span",I1,a(f.sort_order),1)]),e("div",L1,[Y1,w(i(X),{name:"is_active",type:"checkbox"})])])])])]),B1]),_:1},8,["initial-values"])])])]),e("div",N1,[e("div",R1,[e("div",q1,[j1,e("div",H1,[O1,e("button",{onClick:se(j,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}},G1={class:"error-page"},Q1=_e('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),W1=[Q1],K1="Page Not Found",Ge={__name:"404",setup(o){return re(()=>{document.title=K1}),(r,n)=>(t(),s("div",G1,W1))}};const J=o=>($e("data-v-18d1690e"),o=o(),ge(),o),X1={id:"exportPDF"},J1={class:"container"},Z1=J(()=>e("br",null,null,-1)),eb={class:"header"},tb=["src"],sb=["src"],ab={class:"header"},ob={class:"header-justify-space-between"},lb=J(()=>e("br",null,null,-1)),nb=J(()=>e("p",null,null,-1)),db={key:0},ib=J(()=>e("strong",null,null,-1)),cb=J(()=>e("br",null,null,-1)),rb=J(()=>e("br",null,null,-1)),ub=J(()=>e("p",null,null,-1)),_b=J(()=>e("strong",null,"Unit details",-1)),mb={class:"content"},hb={class:"header-justify-space-between"},pb=J(()=>e("span",null,"Brand:",-1)),vb=J(()=>e("br",null,null,-1)),bb=J(()=>e("span",null,"Model:",-1)),fb=J(()=>e("br",null,null,-1)),$b=J(()=>e("div",null,null,-1)),gb=J(()=>e("span",null,"Serial #:",-1)),yb=J(()=>e("br",null,null,-1)),kb=J(()=>e("span",null,"Asset Tag:",-1)),xb=J(()=>e("br",null,null,-1)),wb=J(()=>e("div",null,null,-1)),Cb=J(()=>e("strong",null,"Reported problem",-1)),Sb={class:"content"},Ub=J(()=>e("strong",null,"Assessment conducted",-1)),Mb={class:"content"},Db=J(()=>e("strong",null,"Recommendation",-1)),Ab={class:"content"},Vb={class:"header-justify-space-between"},Eb=J(()=>e("strong",null,"Evaluated by:",-1)),Tb=J(()=>e("br",null,null,-1)),Fb={class:"botoom-line"},Pb=J(()=>e("br",null,null,-1)),Ib=J(()=>e("p",null,null,-1)),Lb=J(()=>e("strong",null,"Noted by:",-1)),Yb=J(()=>e("br",null,null,-1)),Bb={class:"botoom-line"},Nb=J(()=>e("br",null,null,-1)),Rb=J(()=>e("br",null,null,-1)),qb=J(()=>e("p",null,null,-1)),jb={key:0},Hb={key:1},Ob={key:0,class:"fab-container"},zb=J(()=>e("i",{class:"fas fa-download"},null,-1)),Gb=[zb],Qb={__name:"TechRecommApprove",setup(o){const r=`${Pe().params.id}`,n=()=>{const h=document.getElementById("exportPDF");Oe().from(h).save(`${r}.pdf`)},l=De({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),d=()=>{T.get(`/api/tech-recommendations/${Pe().params.id}`).then(h=>{l.id=h.data.id,l.recommnum=h.data.recommnum,l.branch=h.data.branch,l.company=h.data.company,l.department=h.data.department,l.warehouse=h.data.warehouse,l.user=h.data.user,l.problem=h.data.problem,l.brand=h.data.brand,l.model=h.data.model,l.assettag=h.data.assettag,l.serialnum=h.data.serialnum,l.status=h.data.status,l.assconducted=h.data.assconducted,l.recommendation=h.data.recommendation,l.createdby=h.data.createdby.cfull_name,l.updatedby=h.data.updatedby.ufull_name,l.created_at=ce(h.data.created_at).format("MMMM D, YYYY"),l.updated_at=ce(h.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=h.data.createdby.cposition,l.updated_position=h.data.updatedby.uposition}).catch(h=>{actions.setErrors(h.response.data.errors)})};return re(()=>{d(),document.title=r}),(h,k)=>(t(),s(q,null,[e("div",X1,[e("div",J1,[Z1,e("div",eb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,tb),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,sb)]),e("div",ab,[e("span",null,[E("Recommendation No: "),e("strong",null,a(l.recommnum),1)]),e("span",null,[E("Date Checked: "),e("strong",null,a(l.created_at),1)])]),e("div",ob,[e("div",null,[e("span",null,[E("Company: "),e("strong",null,a(l.company),1)]),lb,e("span",null,[E("Branch: "),e("strong",null,a(l.branch),1)])]),nb,e("div",null,[l.warehouse==""?(t(),s("span",db,[E("Warehouse: "),ib,E(a(l.warehouse),1)])):A("",!0),cb,e("span",null,[E("User: "),e("strong",null,a(l.user),1)]),rb,e("span",null,[E("Department: "),e("strong",null,a(l.department),1)])]),ub]),_b,e("div",mb,[e("div",hb,[e("div",null,[pb,e("strong",null,a(l.brand),1),vb,bb,e("strong",null,a(l.model),1),fb]),$b,e("div",null,[gb,e("strong",null,a(l.serialnum),1),yb,kb,e("strong",null,a(l.assettag),1),xb]),wb])]),Cb,e("div",Sb,[e("p",null,a(l.problem),1)]),Ub,e("div",Mb,[e("p",null,a(l.assconducted),1)]),Db,e("div",Ab,[e("p",null,a(l.recommendation),1)]),e("div",Vb,[e("div",null,[Eb,Tb,e("span",Fb,a(l.createdby),1),Pb,e("span",null,a(l.created_position),1)]),Ib,e("div",null,[Lb,Yb,e("span",Bb,a(l.updatedby),1),Nb,e("span",null,a(l.updated_position),1),Rb]),qb]),l.status===2?(t(),s("span",jb,"Approved date:("+a(l.updated_at)+")",1)):(t(),s("span",Hb,"Pending"))])]),l.status===2?(t(),s("div",Ob,[e("div",{class:"button iconbutton bg-success",onClick:k[0]||(k[0]=M=>n())},Gb)])):A("",!0)],64))}};var Qe=me(Qb,[["__scopeId","data-v-18d1690e"]]);const Wb={},Kb={class:"card mx-auto",style:{"max-width":"600px"}},Xb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),Jb={class:"card-body"},Zb={class:"list-unstyled"};function ef(o,r){return t(),s("div",Kb,[Xb,e("div",Jb,[e("ul",Zb,[e("li",{class:"nav-item dropdown",onClick:r[0]||(r[0]=(...n)=>o.fetchNotifications&&o.fetchNotifications(...n))})])])])}var tf=me(Wb,[["render",ef]]),sf=[{path:"/login",name:"admin.login",component:Tn},{path:"/admin/dashboard",name:"Dashboard",component:Ct},{path:"/admin/appointments",name:"Appointments",component:zt},{path:"/admin/appointments/create",name:"Appointments",component:qe},{path:"/admin/appointments/:id/edit",name:"Appointments",component:qe},{path:"/admin/user",name:"User",component:Do},{path:"/admin/settings",name:"Setting",component:yl},{path:"/admin/profile",name:"Profile",component:pn},{path:"/admin/client",name:"Client",component:Vd},{path:"/admin/tech-recommendation",name:"Tech Recomm",component:Kc},{path:"/admin/weekly-task-schedule/myprio",name:"My Prio",component:X_},{path:"/admin/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Up},{path:"/admin/weekly-task-schedule/myvsc",name:"My VSC",component:Ah},{path:"/admin/usermenu",name:"User Menu",component:xv},{path:"/admin/menu",name:"Menu",component:z1},{path:"/:catchAll(.*)",name:"404 Error Page",component:Ge},{path:"/admin/notifications",name:"Notifications",component:tf},{path:"/admin/tech-approved/:id/view",name:"Tech-Approved",component:Qe}];const af={class:"navbar-nav"},of=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),lf={class:"nav-item d-none d-sm-inline-block"},nf={class:"navbar-nav ml-auto"},df=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),cf=_e('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),rf={class:"nav-link","data-toggle":"dropdown",href:"#"},uf=e("i",{class:"far fa-bell"},null,-1),_f={class:"badge badge-warning navbar-badge"},mf={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},hf={class:"dropdown-header"},pf=e("div",{class:"dropdown-divider"},null,-1),vf=e("i",{class:"fas fa-envelope mr-2"},null,-1),bf={class:"float-right text-muted text-sm"},ff={key:1,class:"text-center text-muted py-3"},$f=e("div",{class:"dropdown-divider"},null,-1),gf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),yf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),kf={__name:"AppNavbar",setup(o){const r=Ve(),n=c([]),l=()=>{T.get("/api/notifications").then(d=>{n.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return re(()=>{l()}),(d,h)=>{const k=Ce("router-link");return t(),s("nav",{class:V(["main-header navbar navbar-expand",i(r).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",af,[of,e("li",lf,[e("a",{onClick:h[0]||(h[0]=se((...M)=>i(r).changeTheme&&i(r).changeTheme(...M),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:V(["far",i(r).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",nf,[df,cf,e("li",{class:"nav-item dropdown",onClick:l},[e("a",rf,[uf,e("span",_f,a(n.value.length),1)]),e("div",mf,[e("span",hf,a(n.value.length)+" Notifications",1),pf,n.value.length>0?(t(!0),s(q,{key:0},z(n.value,M=>(t(),s("a",{key:M.id,href:"#",class:"dropdown-item"},[vf,E(" "+a(M.data?M.data:"No message available")+" ",1),e("span",bf,a(i(ce)(M.created_at)),1)]))),128)):(t(),s("p",ff,"No new notifications")),$f,w(k,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:ee(()=>[E("See All Notifications")]),_:1})])]),gf,yf])],2)}}},xf={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},wf={href:"#",class:"brand-link"},Cf=["src"],Sf={class:"brand-text font-weight-light"},Uf={class:"sidebar"},Mf={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Df={key:0,class:"image"},Af=["src"],Vf={key:1,class:"image"},Ef=["src"],Tf=["src"],Ff={class:"info"},Pf={href:"#",class:"d-block"},If={class:"mt-2"},Lf={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},Yf={key:0,class:"right fas fa-angle-left"},Bf={key:0,class:"nav nav-treeview"},Nf={class:"nav-item"},Rf={class:"nav-link"},qf=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),jf=e("p",null,"Logout",-1),Hf=[qf,jf],Of={__name:"SidebarLeft",setup(o){const r=Ye(),n=de(),l=Ve(),d=c({data:[]}),h=()=>{axios.get("/api/menu").then(N=>{d.value=N.data}).catch(N=>{console.log(N)})},k=N=>N===r.currentRoute.value.path,M=()=>{axios.post("/logout").then(N=>{n.user.name="",r.push("/login")})};return re(()=>{$('[data-widget="treeview"]').Treeview("init"),h()}),(N,m)=>{const C=Ce("router-link");return t(),s("aside",xf,[e("a",wf,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Cf),e("span",Sf,a(i(l).setting.app_name),1)]),e("div",Uf,[e("div",Mf,[i(n).user.avatar===""?(t(),s("div",Df,[e("img",{src:i(n).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Af)])):i(n).user.avatar!==""?(t(),s("div",Vf,[i(n).user.gender==="Male"?(t(),s("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Ef)):i(n).user.gender==="Female"?(t(),s("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Tf)):A("",!0)])):A("",!0),e("div",Ff,[e("a",Pf,a(i(n).user.name),1)])]),e("nav",If,[e("ul",Lf,[(t(!0),s(q,null,z(d.value,b=>(t(),s("li",{key:b.id,class:V({"nav-item":!0,"has-submenu":b.submenus&&b.submenus.length>0})},[w(C,{class:V({"nav-link":!0,active:k(b.menu_route)}),to:`${b.menu_route}`},{default:ee(()=>[e("i",{class:V("nav-icon "+b.menu_icon)},null,2),e("p",null,a(b.menu_title),1),b.submenus&&b.submenus.length>0?(t(),s("i",Yf)):A("",!0)]),_:2},1032,["class","to"]),b.submenus&&b.submenus.length>0?(t(),s("ul",Bf,[(t(!0),s(q,null,z(b.submenus,u=>(t(),s("li",{key:u.id,class:"nav-item"},[w(C,{class:V({"nav-link":!0,active:k(u.menu_route)}),to:u.menu_route},{default:ee(()=>[e("i",{class:V("nav-icon "+u.menu_icon)},null,2),e("p",null,a(u.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):A("",!0)],2))),128)),e("li",Nf,[e("form",Rf,[e("a",{href:"#",onClick:se(M,["prevent"])},Hf)])])])])])])}}},zf={},Gf={class:"control-sidebar control-sidebar-dark"},Qf=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),Wf=[Qf];function Kf(o,r){return t(),s("aside",Gf,Wf)}var Xf=me(zf,[["render",Kf]]);const Jf={class:"main-footer"},Zf={class:"float-right d-none d-sm-block"},e$={href:"#"},t$={__name:"AppFooter",props:{settings:Object},setup(o){const r=de();return(n,l)=>{var d;return t(),s("footer",Jf,[e("div",Zf,a(i(r).user.name),1),e("strong",null,[E("Copyright \xA9 2023 "),e("a",e$,a((d=o.settings)==null?void 0:d.app_name),1),E(".")]),E(" All rights reserved. ")])}}};const s$=o=>($e("data-v-36653638"),o=o(),ge(),o),a$={class:"content-wrapper"},o$={class:"content-header"},l$={class:"container-fluid"},n$={class:"row mb-2"},d$={class:"col-sm-6"},i$={class:"m-0"},c$={class:"col-sm-6"},r$={class:"breadcrumb float-sm-right"},u$=s$(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),_$={class:"breadcrumb-item active"},m$={__name:"CustomMainLayout",setup(o){const r=de(),n=Ve(),l=fe(()=>n.theme==="dark"?"dark-mode":"");return(d,h)=>{const k=Ce("router-view");return i(r).user.name!==""?(t(),s("div",{key:0,class:V(["wrapper",l.value])},[w(kf),w(Of),w(Xf),e("div",a$,[e("section",o$,[e("div",l$,[e("div",n$,[e("div",d$,[e("h1",i$,a(d.$route.name),1)]),e("div",c$,[e("ol",r$,[u$,e("li",_$,a(d.$route.name),1)])])])])]),w(k)]),w(t$)],2)):(t(),s("div",{key:1,class:V(["login-page slibg",l.value])},[w(k)],2))}}};var h$=me(m$,[["__scopeId","data-v-36653638"]]);const p$={__name:"App",setup(o){de();const r=Pe(),n=fe(()=>r.name==="Tech-Approved"),l=fe(()=>r.name==="404 Error Page");return(d,h)=>(t(),s("div",null,[!l.value&&!n.value?(t(),ne(h$,{key:0})):n.value?(t(),ne(Qe,{key:1})):(t(),ne(Ge,{key:2}))]))}};var v$=me(p$,[["__scopeId","data-v-252b567e"]]);const b$=ot(),Ee=it(v$),We=lt({routes:sf,history:nt()});We.beforeEach(async(o,r)=>{const n=de();if(n.user.name===""&&o.name!=="admin.login"){const l=Ve();await Promise.all([n.getAuthUser(),l.getSetting()])}});Ee.use(b$);Ee.use(We);Ee.use(ft);Ee.use(Oe);Ee.mount("#app");
