import{_ as at,l as Ce}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as ot}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.6c11729d.js";import{d as He,c as lt}from"./pinia.177553b5.js";import{u as Be,a as Ie,c as nt,b as dt}from"./vue-router.ea66a290.js";import{r as i,o as ue,i as s,k as e,x as a,_ as M,u as c,e as t,I as fe,h as Z,j as E,F as R,q as H,d as Se,a0 as te,v as I,C as Ue,a2 as G,a3 as le,a7 as ke,p as A,w as me,a8 as xe,a9 as he,f as de,a5 as $e,a6 as ge,B as it,a1 as Le,aa as ct}from"./@vue.4ae0f184.js";import{B as rt}from"./vue-chartjs.a660a76a.js";import{C as ut,p as _t,a as mt,b as ht,c as pt,d as vt,L as bt}from"./chart.js.562acd0f.js";import{S as qe}from"./sweetalert2.ef56b979.js";import{t as Fe}from"./toastr.94171567.js";import{F as be,a as K}from"./vee-validate.2167efee.js";import{f as Oe}from"./flatpickr.181c7977.js";import{c as ve,a as N}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ie}from"./moment.40bc58bf.js";import{a as De}from"./laravel-vue-pagination.441da446.js";import{C as we}from"./vue-content-loader.1bd220f1.js";import"./dompurify.5fe4b1c1.js";import{u as ft}from"./@vueuse.38a26bf2.js";import{L as Me}from"./vue3-datepicker.d98707a6.js";import{h as Ye}from"./html2canvas.c4a43e03.js";import{h as ze}from"./html2pdf.js.44b835e5.js";import{V as $t}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=at;window.axios=T;window.$=window.jQuery=ot;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ce=He("AuthUserStore",()=>{const o=i({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(n=>{o.value=n.data})}}}),gt={class:"content"},yt={class:"container-fluid"},kt={class:"card"},xt={class:"card-header"},wt={class:"card-body"},Ct=e("div",{class:"row"},null,-1),St={__name:"Dashboard",setup(o){ut.register(_t,mt,ht,pt,vt,bt),ce(),i("all"),i(0);const u=i(new Date().getFullYear()),n=i({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),l=()=>{axios.get("/api/chart").then(b=>{b.data,n.value=b.data}).catch(b=>{console.error("Error fetching chart data:",b)})},d=i("today"),p=i(0),x=()=>{axios.get("/api/stats/users",{params:{date_range:d.value}}).then(b=>{p.value=b.data.totalUsersCount})};return ue(()=>{l(),x()}),(b,Y)=>(t(),s("div",gt,[e("div",yt,[e("div",kt,[e("div",xt," Yearly Progress - "+a(u.value),1),e("div",wt,[M(c(rt),{data:n.value},null,8,["data"])])]),Ct])]))}},Ut={class:"content"},Mt={class:"container-fluid"},Dt={class:"row"},At={class:"col-lg-12"},Vt={class:"d-flex justify-content-between mb-2"},Et=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),I(" Add New Appointment")],-1),Tt={class:"btn-group"},Ft=e("span",{class:"mr-1"},"All",-1),It={class:"badge badge-pill badge-info"},Pt=["onClick"],Lt={class:"mr-1"},Yt={class:"card"},Bt={class:"card-body"},Nt={class:"table table-bordered"},Rt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),qt=e("td",null,null,-1),jt=e("i",{class:"fa fa-edit mr-2"},null,-1),Ht=["onClick"],Ot=e("i",{class:"fa fa-trash text-danger"},null,-1),zt=[Ot],Gt={__name:"ListAppointments",setup(o){const u=i(),n=i([]),l=()=>{T.get("/api/appointment-status").then(h=>{n.value=h.data})},d=i([]),p=h=>{u.value=h;const D={};h&&(D.status=h),T.get("/api/appointments",{params:D}).then(g=>{d.value=g.data,console.log(g)})},x=fe(()=>n.value.map(h=>h.count).reduce((h,D)=>h+D,0)),b=h=>{const D=d.value.data.find(_=>_.id===h).status.name,g=n.value.find(_=>_.name===D);g.count--},Y=h=>{qe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(D=>{D.isConfirmed&&T.delete(`/api/appointments/${h}`).then(g=>{b(h),d.value.data=d.value.data.filter(_=>_.id!==h),qe.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{p(),l()}),(h,D)=>{const g=Se("router-link");return t(),s("div",Ut,[e("div",Mt,[e("div",Dt,[e("div",At,[e("div",Vt,[e("div",null,[M(g,{to:"/admin/appointments/create"},{default:Z(()=>[Et]),_:1})]),e("div",Tt,[e("button",{onClick:D[0]||(D[0]=_=>p()),type:"button",class:E(["btn",[typeof u.value=="undefined"?"btn-secondary":"btn-default"]])},[Ft,e("span",It,a(x.value),1)],2),(t(!0),s(R,null,H(n.value,_=>(t(),s("button",{onClick:S=>p(_.value),type:"button",class:E(["btn",[u.value===_.value?"btn-secondary":"btn-default"]])},[e("span",Lt,a(_.name),1),e("span",{class:E(["badge badge-pill",`badge-${_.color}`])},a(_.count),3)],10,Pt))),256))])]),e("div",Yt,[e("div",Bt,[e("table",Nt,[Rt,e("tbody",null,[(t(!0),s(R,null,H(d.value.data,(_,S)=>(t(),s("tr",{key:_.id},[e("td",null,a(S+1),1),e("td",null,a(_.client.first_name)+" "+a(_.client.last_name),1),e("td",null,a(_.start_time),1),e("td",null,a(_.end_time),1),qt,e("td",null,[M(g,{to:`/admin/appointments/${_.id}/edit`},{default:Z(()=>[jt]),_:2},1032,["to"]),e("a",{href:"#",onClick:te(X=>Y(_.id),["prevent"])},zt,8,Ht)])]))),128))])])])])])])])])}}};function re(){return Fe.options.positionClass="toast-top-right",Fe.options.closeButton=!0,Fe.options.progressBar=!0,Fe}const Qt={class:"content-header"},Wt={class:"container-fluid"},Kt={class:"row mb-2"},Xt={class:"col-sm-6"},Jt={class:"m-0"},Zt={key:0},es={key:1},ts={class:"col-sm-6"},ss={class:"breadcrumb float-sm-right"},as={class:"breadcrumb-item"},os={class:"breadcrumb-item"},ls={class:"breadcrumb-item active"},ns={key:0},ds={key:1},is={class:"content"},cs={class:"container-fluid"},rs={class:"row"},us={class:"col-lg-12"},_s={class:"card"},ms={class:"card-body"},hs={class:"row"},ps={class:"col-md-6"},vs={class:"form-group"},bs=e("label",{for:"title"},"Title",-1),fs={class:"invalid-feedback"},$s={class:"col-md-6"},gs={class:"form-group"},ys=e("label",{for:"client"},"Client Name",-1),ks=["value"],xs={class:"invalid-feedback"},ws={class:"row"},Cs={class:"col-md-6"},Ss={class:"form-group"},Us=e("label",{for:"start-time"},"Start Time",-1),Ms={class:"invalid-feedback"},Ds={class:"col-md-6"},As={class:"form-group"},Vs=e("label",{for:"end-time"},"End Time",-1),Es={class:"invalid-feedback"},Ts={class:"form-group"},Fs=e("label",{for:"description"},"Description",-1),Is={class:"invalid-feedback"},Ps=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),je={__name:"AppointmentForm",setup(o){const u=Be(),n=Ie(),l=re(),d=Ue({title:"",client_id:"",start_time:"",end_time:"",description:""}),p=(_,S)=>{g.value?b(_,S):x(_,S)},x=(_,S)=>{T.post("/api/appointments/create",d).then(X=>{u.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(X=>{S.setErrors(X.response.data.errors)})},b=(_,S)=>{T.put(`/api/appointments/${n.params.id}/edit`,d).then(X=>{u.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(X=>{S.setErrors(X.response.data.errors)})},Y=i(),h=()=>{T.get("/api/view-clients").then(_=>{Y.value=_.data})},D=()=>{T.get(`/api/appointments/${n.params.id}/edit`).then(({data:_})=>{d.title=_.title,d.client_id=_.client_id,d.start_time=_.formatted_start_time,d.end_time=_.formatted_end_time,d.description=_.description})},g=i(!1);return ue(()=>{n.name==="admin.appointments.edit"&&(g.value=!0,D()),Oe(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),h()}),(_,S)=>{const X=Se("router-link");return t(),s(R,null,[e("div",Qt,[e("div",Wt,[e("div",Kt,[e("div",Xt,[e("h1",Jt,[g.value?(t(),s("span",Zt,"Edit")):(t(),s("span",es,"Create")),I(" Appointment")])]),e("div",ts,[e("ol",ss,[e("li",as,[M(X,{to:"/admin/dashboard"},{default:Z(()=>[I("Home")]),_:1})]),e("li",os,[M(X,{to:"/admin/appointments"},{default:Z(()=>[I("Appointments")]),_:1})]),e("li",ls,[g.value?(t(),s("span",ns,"Edit")):(t(),s("span",ds,"Create"))])])])])])]),e("div",is,[e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[e("div",ms,[M(c(be),{onSubmit:p},{default:Z(({errors:L})=>[e("div",hs,[e("div",ps,[e("div",vs,[bs,G(e("input",{"onUpdate:modelValue":S[0]||(S[0]=O=>d.title=O),type:"text",class:E(["form-control",{"is-invalid":L.title}]),id:"title",placeholder:"Enter Title"},null,2),[[le,d.title]]),e("span",fs,a(L.title),1)])]),e("div",$s,[e("div",gs,[ys,G(e("select",{"onUpdate:modelValue":S[1]||(S[1]=O=>d.client_id=O),id:"client",class:E(["form-control",{"is-invalid":L.client_id}])},[(t(!0),s(R,null,H(Y.value,O=>(t(),s("option",{value:O.id,key:O.id},a(O.first_name)+" "+a(O.last_name),9,ks))),128))],2),[[ke,d.client_id]]),e("span",xs,a(L.client_id),1)])])]),e("div",ws,[e("div",Cs,[e("div",Ss,[Us,G(e("input",{"onUpdate:modelValue":S[2]||(S[2]=O=>d.start_time=O),type:"text",class:E(["form-control flatpickr",{"is-invalid":L.start_time}]),id:"start-time"},null,2),[[le,d.start_time]]),e("span",Ms,a(L.start_time),1)])]),e("div",Ds,[e("div",As,[Vs,G(e("input",{"onUpdate:modelValue":S[3]||(S[3]=O=>d.end_time=O),type:"text",class:E(["form-control flatpickr",{"is-invalid":L.end_time}]),id:"end-time"},null,2),[[le,d.end_time]]),e("span",Es,a(L.end_time),1)])])]),e("div",Ts,[Fs,G(e("textarea",{"onUpdate:modelValue":S[4]||(S[4]=O=>d.description=O),class:E(["form-control",{"is-invalid":L.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[le,d.description]]),e("span",Is,a(L.description),1)]),Ps]),_:1})])])])])])])],64)}}},Ls=["checked"],Ys=["value","selected"],Bs=["value","selected"],Ns=e("i",{class:"fa fa-edit"},null,-1),Rs=[Ns],qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),js=[qs],Hs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:u}){const n=re(),l=o,d=u,p=i([{name:"ADMIN",value:1},{name:"USER",value:2}]),x=i([]),b=()=>{T.get("/api/users/userlist").then(g=>{x.value=g.data}).catch(g=>{console.log(g)})},Y=(g,_)=>{T.patch(`/api/users/${g.id}/change-role`,{role:_}).then(()=>{n.success("Role changed successfully!")})},h=(g,_)=>{T.patch(`/api/users/${g.id}/change-sitehead`,{sitehead_user_id:_}).then(()=>{n.success("Sitehead changed successfully!")})},D=()=>{d("toggleSelection",l.user)};return ue(()=>{b()}),(g,_)=>(t(),s("tr",null,[e("td",null,[o.user.name!="admin"?(t(),s("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:D},null,40,Ls)):A("",!0)]),e("td",null,a(o.index+1),1),e("td",null,a(o.user.first_name+" "+o.user.last_name),1),e("td",null,a(o.user.email),1),e("td",null,a(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:_[0]||(_[0]=S=>Y(o.user,S.target.value))},[(t(!0),s(R,null,H(p.value,S=>(t(),s("option",{key:S.id,value:S.value,selected:o.user.role===S.name},a(S.name),9,Ys))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),s("select",{key:0,class:"form-control",onChange:_[1]||(_[1]=S=>h(o.user,S.target.value))},[(t(!0),s(R,null,H(x.value,S=>(t(),s("option",{key:S.id,value:S.id,selected:o.user.sitehead_user_id===S.id},a(S.first_name+" "+S.last_name),9,Bs))),128))],32)):A("",!0)]),e("td",null,[e("a",{href:"#",onClick:_[2]||(_[2]=te(S=>g.$emit("editUser",o.user),["prevent"]))},Rs),o.user.id!=1?(t(),s("a",{key:0,href:"#",onClick:_[3]||(_[3]=te(S=>g.$emit("confirmUserDeletion",o.user.id),["prevent"]))},js)):A("",!0)])]))}},Os={class:"content"},zs={class:"container-fluid"},Gs={class:"d-flex justify-content-between mb-2"},Qs={class:"d-flex"},Ws=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Ks={key:0},Xs=e("i",{class:"fa fa-trash mr-1"},null,-1),Js={class:"ml-2"},Zs={class:"card"},ea={class:"card-body"},ta={class:"dispatch-table"},sa={class:"table-responsive"},aa={class:"table table-bordered table-hover table-sm"},oa=e("th",{style:{width:"10px"}},"#",-1),la=e("th",null,"Name",-1),na=e("th",null,"Email",-1),da=e("th",null,"Registered Date",-1),ia=e("th",null,"Role",-1),ca=e("th",null,"Head",-1),ra=e("th",null,"Action",-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[ma],pa=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Ua=["value","selected"],Ma=e("hr",null,null,-1),Da={class:"row"},Aa={key:0,class:"col"},Va=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],Fa=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),I(" Remove ")],-1),Ia=[Fa],Pa={key:1,class:"col"},La=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ba={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Na={class:"modal-dialog",role:"document"},Ra={class:"modal-content"},qa={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Ha={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},ho={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Uo=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Mo={class:"modal-footer"},Do=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ao={__name:"UserList",setup(o){const u=ce(),n=re(),l=i({data:[]}),d=i(!1),p=i(),x=i(null);i([]),i(null);const b=i([{name:"Male",value:1},{name:"Female",value:2}]),Y=(w=1)=>{T.get(`/api/users?page=${w}`,{params:{query:v.value}}).then(k=>{l.value=k.data,f.value=[],ae.value=!1})},h=ve({name:N().required(),last_name:N().required(),first_name:N().required(),email:N().email().required(),password:N().required().min(8),gender:N().required()}),D=ve({name:N().required(),last_name:N().required(),first_name:N().required(),email:N().email().required(),password:N().when((w,k)=>w?k.required().min(8):k),gender:N().required()}),g=i([]),_=()=>{T.get("/api/users/userlist").then(w=>{g.value=w.data}).catch(w=>{console.log(w)})},S=(w,k)=>{T.patch(`/api/users/${w.id}/change-sitehead`,{sitehead_user_id:k}).then(()=>{n.success("Sitehead changed successfully!")})},X=(w,{resetForm:k,setErrors:m})=>{T.post("/api/users",w).then(ee=>{l.value.data.unshift(ee.data),$("#userFormModal").modal("hide"),k(),n.success("User created successfully!")}).catch(ee=>{ee.response.data.errors&&(m(ee.response.data.errors),n.warning(ee.response.data.errors.name))})},L=()=>{d.value=!1,$("#userFormModal").modal("show")},O=w=>{d.value=!0,x.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:w.id,name:w.name,email:w.email,sitehead_user_id:w.sitehead_user_id,first_name:w.first_name,last_name:w.last_name,gender:w.gender}},V=(w,{setErrors:k})=>{T.put("/api/users/"+p.value.id,w).then(m=>{const ee=l.value.data.findIndex(U=>U.id===m.data.id);l.value.data[ee]=m.data,$("#userFormModal").modal("hide"),n.success("User updated successfully!")}).catch(m=>{k(m.response.data.errors),console.log(m)})},y=(w,k)=>{d.value?V(w,k):X(w,k)},v=i(null),f=i([]),F=w=>{const k=f.value.indexOf(w.id);k===-1?f.value.push(w.id):f.value.splice(k,1),console.log(f.value)},se=i(null),z=w=>{se.value=w,$("#deleteUserModal").modal("show")},W=()=>{T.delete(`/api/users/${se.value}`).then(()=>{$("#deleteUserModal").modal("hide"),n.success("User deleted successfully!"),l.value.data=l.value.data.filter(w=>w.id!==se.value)})},Q=()=>{T.delete("/api/users",{data:{ids:f.value}}).then(w=>{l.value.data=l.value.data.filter(k=>!f.value.includes(k.id)),f.value=[],ae.value=!1,n.success(w.data.message)})},ae=i(!1),B=()=>{ae.value?f.value=l.value.data.map(w=>w.id):f.value=[],console.log(f.value)};return me(v,Ce.exports.debounce(()=>{Y()},300)),ue(()=>{Y(),_()}),(w,k)=>(t(),s(R,null,[e("div",Os,[e("div",zs,[e("div",Gs,[e("div",Qs,[e("button",{onClick:L,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Ws,I(" User ")]),f.value.length>0?(t(),s("div",Ks,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xs,I(" Delete Selected ")]),e("span",Js,"Selected "+a(f.value.length)+" users",1)])):A("",!0)]),e("div",null,[G(e("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=m=>v.value=m),class:"form-control",placeholder:"Search..."},null,512),[[le,v.value]])])]),e("div",Zs,[e("div",ea,[e("div",ta,[e("div",sa,[e("table",aa,[e("thead",null,[e("tr",null,[e("th",null,[G(e("input",{type:"checkbox","onUpdate:modelValue":k[1]||(k[1]=m=>ae.value=m),onChange:B},null,544),[[xe,ae.value]])]),oa,la,na,da,ia,ca,ra])]),l.value.data.length>0?(t(),s("tbody",ua,[(t(!0),s(R,null,H(l.value.data,(m,ee)=>(t(),de(Hs,{key:m.id,user:m,index:ee,onEditUser:O,onConfirmUserDeletion:z,onToggleSelection:F,"select-all":ae.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),s("tbody",_a,ha))])])]),(t(!0),s(R,null,H(l.value.data,(m,ee)=>(t(),s("div",{class:"dispatch-list",key:m.id,index:ee},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,a(m.first_name+" "+m.last_name),1)]),e("div",ga,[ya,e("span",null,a(m.email),1)]),e("div",ka,[xa,e("span",null,a(m.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[m.name!="admin"?(t(),s("select",{key:0,class:"form-control",onChange:U=>S(m,U.target.value)},[(t(!0),s(R,null,H(g.value,U=>(t(),s("option",{key:U.id,value:U.id,selected:U.sitehead_user_id===U.id},a(U.first_name+" "+U.last_name),9,Ua))),128))],40,Sa)):A("",!0)])]),Ma,e("div",Da,[c(u).user.role==="ADMIN"?(t(),s("div",Aa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:U=>O(m)},[Ea,I(" Edit ")],8,Va),e("button",{class:"btn btnsm btn-danger btn-block",onClick:U=>z(m.id)},Ia,8,Ta)])):A("",!0),c(u).user.role==="USER"?(t(),s("div",Pa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:U=>O(m)},[Ya,I(" Edit ")],8,La)])):A("",!0)])])])],8,pa))),128))])]),M(c(De),{data:l.value,onPaginationChangePage:Y},null,8,["data"])])]),e("div",Ba,[e("div",Na,[e("div",Ra,[e("div",qa,[e("h5",ja,[d.value?(t(),s("span",Ha,"Edit User")):(t(),s("span",Oa,"Add New User"))]),za]),M(c(be),{ref_key:"form",ref:x,onSubmit:y,"validation-schema":d.value?c(D):c(h),"initial-values":p.value},{default:Z(({errors:m})=>[e("div",Ga,[e("div",Qa,[Wa,M(c(K),{name:"name",type:"text",class:E(["form-control",{"is-invalid":m.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,a(m.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,M(c(K),{name:"email",type:"email",class:E(["form-control",{"is-invalid":m.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,a(m.email),1)])]),e("div",so,[e("div",ao,[oo,M(c(K),{id:"gender",name:"gender",as:"select",class:E(["form-control",{"is-invalid":m.gender}])},{default:Z(()=>[lo,(t(!0),s(R,null,H(b.value,ee=>(t(),s("option",{key:ee.name,value:ee.name},a(ee.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,M(c(K),{name:"first_name",type:"text",class:E(["form-control",{"is-invalid":m.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,a(m.first_name),1)])]),e("div",mo,[e("div",ho,[po,M(c(K),{name:"last_name",type:"text",class:E(["form-control",{"is-invalid":m.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,a(m.last_name),1)])])]),e("div",bo,[fo,M(c(K),{name:"position",type:"text",class:E(["form-control",{"is-invalid":m.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,a(m.position),1)]),e("div",go,[yo,M(c(K),{name:"password",type:"password",class:E(["form-control",{"is-invalid":m.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,a(m.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Uo,e("div",Mo,[Do,e("button",{onClick:te(W,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var pe=(o,u)=>{const n=o.__vccOpts||o;for(const[l,d]of u)n[l]=d;return n};const ye=o=>($e("data-v-340371f4"),o=o(),ge(),o),Vo={class:"content"},Eo={class:"container-fluid"},To={class:"row"},Fo={class:"col-md-6"},Io={class:"card"},Po=he('<ul class="nav nav-tabs" id="settingsTabs" data-v-340371f4><li class="nav-item" data-v-340371f4><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-340371f4>General Settings</a></li><li class="nav-item" data-v-340371f4><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-340371f4>Site Settings</a></li></ul>',1),Lo={class:"tab-content"},Yo={class:"tab-pane fade show active",id:"general"},Bo={class:"card-body"},No={class:"form-group"},Ro=ye(()=>e("label",{for:"appName"},"App Display Name",-1)),qo={key:0,class:"text-danger text-sm"},jo={class:"form-group"},Ho=ye(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Oo=he('<option value="m/d/Y" data-v-340371f4> MM/DD/YYYY </option><option value="d/m/Y" data-v-340371f4> DD/MM/YYYY </option><option value="Y-m-d" data-v-340371f4> YYYY-MM-DD </option><option value="F j, Y" data-v-340371f4> Month DD, YYYY </option><option value="j F Y" data-v-340371f4> DD Month YYYY </option>',5),zo=[Oo],Go={key:0,class:"text-danger text-sm"},Qo={class:"form-group"},Wo=ye(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Ko={key:0,class:"text-danger text-sm"},Xo=ye(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),I("Save Changes ")])],-1)),Jo={class:"tab-pane fade",id:"site"},Zo={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},el=ye(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),tl=ye(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),sl={key:0,class:"list-group-item mt-2"},al={class:"d-flex justify-content-between"},ol={class:"d-flex"},ll=["onClick"],nl={class:"d-flex"},dl=["onClick"],il={class:"m-2 list-unstyled"},cl={key:1},rl={key:0,class:"list-group-item mt-2"},ul={class:"d-flex justify-content-between"},_l={class:"d-flex"},ml=["onClick"],hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=ye(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=ye(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const u=i([]),n=re(),l=i(!0),d=i([]),p=i(!1),x=i(),b=i({id:"",site_name:"",is_active:""}),Y=()=>{p.value=!0,axios.get("/api/site").then(V=>{p.value=!1,d.value=V.data}).catch(V=>{console.log(V)})},h=fe(()=>Array.isArray(d.value)?d.value.filter(V=>V.is_active===0):[]),D=fe(()=>h.value.length),g=()=>{l.value=!l.value},_=()=>{var V,y;p.value=!0,axios.post("/api/site",{id:(V=b.value)==null?void 0:V.id,site_name:(y=b.value)==null?void 0:y.site_name,is_active:!0}).then(v=>{Y(),b.value={id:null,site_name:"",is_active:!0},n.success(v.data.message),p.value=!1}).catch(v=>{v.response&&v.response.status===422&&(L.value=v.response.data.errors)})},S=V=>{b.value.is_active=V.is_active===1?0:1,axios.post("/api/site",{id:V.id,site_name:V.site_name,is_active:b.value.is_active}).then(y=>{axios.get("/api/site").then(v=>{d.value=v.data}).catch(v=>{console.error("Error fetching tasks:",v),n.error("Error fetching tasks. Please try again.")})}).catch(y=>{console.error("Error adding new task:",y),n.error("Error adding new task. Please try again.")})},X=()=>{axios.get("/api/settings").then(V=>{u.value=V.data})},L=i(),O=()=>{L.value="",axios.post("/api/settings",u.value).then(V=>{n.success("Settings updated successfully!")}).catch(V=>{V.response&&V.response.status===422&&(L.value=V.response.data.errors)})};return ue(()=>{Y(),X()}),(V,y)=>(t(),s("div",Vo,[e("div",Eo,[e("div",To,[e("div",Fo,[e("div",Io,[Po,e("div",Lo,[e("div",Yo,[e("form",{onSubmit:y[3]||(y[3]=te(v=>O(),["prevent"]))},[e("div",Bo,[e("div",No,[Ro,G(e("input",{"onUpdate:modelValue":y[0]||(y[0]=v=>u.value.app_name=v),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[le,u.value.app_name]]),L.value&&L.value.app_name?(t(),s("span",qo,a(L.value.app_name[0]),1)):A("",!0)]),e("div",jo,[Ho,G(e("select",{"onUpdate:modelValue":y[1]||(y[1]=v=>u.value.date_format=v),class:"form-control"},zo,512),[[ke,u.value.date_format]]),L.value&&L.value.date_format?(t(),s("span",Go,a(L.value.date_format[0]),1)):A("",!0)]),e("div",Qo,[Wo,G(e("input",{"onUpdate:modelValue":y[2]||(y[2]=v=>u.value.pagination_limit=v),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[le,u.value.pagination_limit]]),L.value&&L.value.pagination_limit?(t(),s("span",Ko,a(L.value.pagination_limit[0]),1)):A("",!0)])]),Xo],32)]),e("div",Jo,[d.value.length>0?(t(),s("div",Zo,[p.value?(t(),de(c(we),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[el,tl]),_:1})):A("",!0),(t(!0),s(R,null,H(d.value,v=>(t(),s("ul",{class:"list-group",key:v.id},[v.is_active===1?(t(),s("li",sl,[e("div",al,[e("div",ol,[e("i",{onClick:f=>S(v),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.is_active===1,"fa fa-circle text-primary":v.is_active===0}),style:{"font-size":"15px"}},null,10,ll),e("span",{class:E({"font-italic text-red":v.is_active===0,"":v.is_active===1})},a(v.site_name),3)]),e("div",nl,[e("i",{class:"fa fa-pen text-success",onClick:f=>V.edit(v)},null,8,dl)])])])):A("",!0)]))),128)),e("li",il,[D.value>0?(t(),s("button",{key:0,class:"btn btn-sm bg-danger",onClick:g},[e("i",{class:E(["fa",l.value?"fa-arrow-down":"fa-arrow-right"])},null,2),I(" \xA0Deactive List "+a(D.value),1)])):A("",!0)]),l.value?(t(),s("div",cl,[(t(!0),s(R,null,H(d.value,v=>(t(),s("ul",{class:"list-group",key:v.id},[v.is_active===0?(t(),s("li",rl,[e("div",ul,[e("div",_l,[e("i",{onClick:f=>S(v),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.is_active===1,"fa fa-circle text-primary":v.is_active===0}),style:{"font-size":"15px"}},null,10,ml),e("span",{class:E({"font-italic text-red":v.is_active===0,"":v.is_active===1})},[e("del",null,a(v.site_name),1)],2)]),e("div",hl,[v.is_active===1?(t(),s("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:f=>V.edit(v)},null,8,pl)):A("",!0)])])])):A("",!0)]))),128))])):A("",!0)])):(t(),s("div",vl,fl)),M(c(be),{ref:"form",onSubmit:_,"initial-values":x.value},{default:Z(()=>[M(c(K),{name:"id",modelValue:b.value.id,"onUpdate:modelValue":y[4]||(y[4]=v=>b.value.id=v),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[M(c(K),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:b.value.site_name,"onUpdate:modelValue":y[5]||(y[5]=v=>b.value.site_name=v),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=pe(yl,[["__scopeId","data-v-340371f4"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Ul={class:"card card-primary card-outline"},Ml={class:"card-body box-profile"},Dl={class:"text-center"},Al=["src"],Vl={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Fl={class:"card"},Il=he('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Pl={class:"card-body"},Ll={class:"tab-content"},Yl={class:"tab-pane active",id:"profile"},Bl={class:"form-group row"},Nl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Rl={class:"col-sm-10"},ql={key:0,class:"text-danger text-sm"},jl={class:"form-group row"},Hl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),I(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),I(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const u=ce(),n=re(),l=i([]),d=()=>{axios.put("/api/profile",{name:u.user.name,first_name:u.user.first_name,last_name:u.user.last_name,email:u.user.email,role:u.user.role}).then(D=>{n.success("Profile updated successfully!")}).catch(D=>{D.response&&D.response.status===422&&(l.value=D.response.data.errors)})},p=Ue({currentPassword:"",password:"",passwordConfirmation:""}),x=()=>{l.value="",axios.post("/api/change-user-password",p).then(D=>{n.success(D.data.message);for(const g in p)p[g]=""}).catch(D=>{D.response&&D.response.status===422&&(l.value=D.response.data.errors)})},b=i(null),Y=()=>{b.value.click()},h=D=>{const g=D.target.files[0];u.user.avatar=URL.createObjectURL(g);const _=new FormData;_.append("profile_picture",g),axios.post("/api/upload-profile-image",_).then(S=>{n.success("Image uploaded successfully!")})};return(D,g)=>(t(),s("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Ul,[e("div",Ml,[e("div",Dl,[e("input",{onChange:h,ref_key:"fileInput",ref:b,type:"file",class:"d-none"},null,544),e("img",{onClick:Y,class:"profile-user-img img-circle",src:c(u).user.avatar,alt:"User profile picture"},null,8,Al)]),e("h3",Vl,a(c(u).user.name),1),e("p",El,a(c(u).user.role),1)])])]),e("div",Tl,[e("div",Fl,[Il,e("div",Pl,[e("div",Ll,[e("div",Yl,[e("form",{onSubmit:g[4]||(g[4]=te(_=>d(),["prevent"])),class:"form-horizontal"},[e("div",Bl,[Nl,e("div",Rl,[G(e("input",{"onUpdate:modelValue":g[0]||(g[0]=_=>c(u).user.name=_),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[le,c(u).user.name]]),l.value&&l.value.name?(t(),s("span",ql,a(l.value.name[0]),1)):A("",!0)])]),e("div",jl,[Hl,e("div",Ol,[G(e("input",{"onUpdate:modelValue":g[1]||(g[1]=_=>c(u).user.first_name=_),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[le,c(u).user.first_name]]),l.value&&l.value.first_name?(t(),s("span",zl,a(l.value.first_name[0]),1)):A("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[G(e("input",{"onUpdate:modelValue":g[2]||(g[2]=_=>c(u).user.last_name=_),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[le,c(u).user.last_name]]),l.value&&l.value.last_name?(t(),s("span",Kl,a(l.value.last_name[0]),1)):A("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[G(e("input",{"onUpdate:modelValue":g[3]||(g[3]=_=>c(u).user.email=_),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[le,c(u).user.email]]),l.value&&l.value.email?(t(),s("span",en,a(l.value.email[0]),1)):A("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:te(x,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[G(e("input",{"onUpdate:modelValue":g[5]||(g[5]=_=>p.currentPassword=_),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[le,p.currentPassword]]),l.value&&l.value.current_password?(t(),s("span",nn,a(l.value.current_password[0]),1)):A("",!0)])]),e("div",dn,[cn,e("div",rn,[G(e("input",{"onUpdate:modelValue":g[6]||(g[6]=_=>p.password=_),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[le,p.password]]),l.value&&l.value.password?(t(),s("span",un,a(l.value.password[0]),1)):A("",!0)])]),e("div",_n,[mn,e("div",hn,[G(e("input",{"onUpdate:modelValue":g[7]||(g[7]=_=>p.passwordConfirmation=_),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[le,p.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),wn={class:"input-group mb-3"},Cn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Sn={class:"row"},Un={class:"col-12 mb-2"},Mn=["disabled"],Dn={key:0,class:"spinner-border spinner-border-sm",role:"status"},An=e("span",{class:"sr-only"},"Loading...",-1),Vn=[An],En={key:1},Tn=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"#",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),Fn={__name:"Login",setup(o){const u=re();ce();const n=Be(),l=Ue({email:"",password:""}),d=i(!1),p=i(""),x=()=>{d.value=!0,p.value="",T.post("/login",l).then(()=>{n.push("/admin/dashboard"),u.success("Login Success")}).catch(b=>{u.error(b.response.data.message)}).finally(()=>{d.value=!1})};return(b,Y)=>(t(),s("div",bn,[e("div",fn,[$n,e("div",gn,[p.value?(t(),s("div",yn,a(p.value),1)):A("",!0),e("form",{onSubmit:te(x,["prevent"])},[e("div",kn,[xn,G(e("input",{"onUpdate:modelValue":Y[0]||(Y[0]=h=>l.email=h),type:"email",class:"form-control",placeholder:"Email"},null,512),[[le,l.email]])]),e("div",wn,[Cn,G(e("input",{"onUpdate:modelValue":Y[1]||(Y[1]=h=>l.password=h),type:"password",class:"form-control",placeholder:"Password"},null,512),[[le,l.password]])]),e("div",Sn,[e("div",Un,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(t(),s("div",Dn,Vn)):(t(),s("span",En,"Sign In"))],8,Mn)])])],32),Tn])])]))}},In=["checked"],Pn=e("i",{class:"fa fa-edit"},null,-1),Ln=[Pn],Yn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Bn=[Yn],Nn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:u}){re();const n=o,l=u,d=()=>{l("toggleSelection",n.item)};return(p,x)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,In)]),e("td",null,a(o.index+1),1),e("td",null,a(o.item.first_name)+" "+a(o.item.last_name),1),e("td",null,a(o.item.email),1),e("td",null,a(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:x[0]||(x[0]=te(b=>p.$emit("editUser",o.item),["prevent"]))},Ln),e("a",{href:"#",onClick:x[1]||(x[1]=te(b=>p.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Bn)])]))}},Rn={class:"content"},qn={class:"container-fluid"},jn={class:"d-flex justify-content-between"},Hn={class:"d-flex"},On=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),zn={key:0},Gn=e("i",{class:"fa fa-trash mr-1"},null,-1),Qn={class:"ml-2"},Wn={class:"card"},Kn={class:"card-body"},Xn={class:"table table-bordered"},Jn=e("th",{style:{width:"10px"}},"#",-1),Zn=e("th",null,"Name",-1),ed=e("th",null,"Email",-1),td=e("th",null,"Registered Date",-1),sd=e("th",null,"Options",-1),ad={key:0},od={key:1},ld=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),nd=[ld],dd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},id={class:"modal-dialog",role:"document"},cd={class:"modal-content"},rd={class:"modal-header"},ud={class:"modal-title",id:"staticBackdropLabel"},_d={key:0},md={key:1},hd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),pd={class:"modal-body"},vd={class:"form-group"},bd=e("label",{for:"fist_name"},"First Name",-1),fd={class:"invalid-feedback"},$d={class:"form-group"},gd=e("label",{for:"last_name"},"Last Name",-1),yd={class:"invalid-feedback"},kd={class:"form-group"},xd=e("label",{for:"email"},"Email",-1),wd={class:"invalid-feedback"},Cd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Sd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ud={class:"modal-dialog",role:"document"},Md={class:"modal-content"},Dd=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ad={class:"modal-footer"},Vd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Ed={__name:"ClientList",setup(o){const u=re(),n=i({data:[]}),l=i(!1),d=i(),p=i(null),x=(z=1)=>{T.get(`/api/clients?page=${z}`,{params:{query:X.value}}).then(W=>{n.value=W.data,L.value=[],F.value=!1})},b=ve({first_name:N().required(),last_name:N().required(),email:N().email().required()}),Y=ve({first_name:N().required(),last_name:N().required(),email:N().email().required()}),h=(z,{resetForm:W,setErrors:Q})=>{T.post("/api/clients",z).then(ae=>{n.value.data.unshift(ae.data),$("#clientFormModal").modal("hide"),W(),u.success("User created successfully!")}).catch(ae=>{ae.response.data.errors&&Q(ae.response.data.errors)})},D=()=>{l.value=!1,$("#clientFormModal").modal("show")},g=z=>{l.value=!0,p.value.resetForm(),$("#clientFormModal").modal("show"),d.value={id:z.id,first_name:z.first_name,last_name:z.last_name,email:z.email}},_=(z,{setErrors:W})=>{T.put("/api/clients/"+d.value.id,z).then(Q=>{const ae=n.value.data.findIndex(B=>B.id===Q.data.id);n.value.data[ae]=Q.data,$("#clientFormModal").modal("hide"),u.success("Client updated successfully!")}).catch(Q=>{W(Q.response.data.errors),console.log(Q)})},S=(z,W)=>{l.value?_(z,W):h(z,W)},X=i(null),L=i([]),O=z=>{const W=L.value.indexOf(z.id);W===-1?L.value.push(z.id):L.value.splice(W,1),console.log(L.value)},V=i(null),y=z=>{V.value=z,$("#deleteClientModal").modal("show")},v=()=>{T.delete(`/api/clients/${V.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Client deleted successfully!"),n.value.data=n.value.data.filter(z=>z.id!==V.value)})},f=()=>{T.delete("/api/clients",{data:{ids:L.value}}).then(z=>{n.value.data=n.value.data.filter(W=>!L.value.includes(W.id)),L.value=[],F.value=!1,u.success(z.data.message)})},F=i(!1),se=()=>{F.value?L.value=n.value.data.map(z=>z.id):L.value=[],console.log(L.value)};return me(X,Ce.exports.debounce(()=>{x()},300)),ue(()=>{x()}),(z,W)=>(t(),s(R,null,[e("div",Rn,[e("div",qn,[e("div",jn,[e("div",Hn,[e("button",{onClick:D,type:"button",class:"mb-2 btn btn-primary"},[On,I(" Add New Client ")]),L.value.length>0?(t(),s("div",zn,[e("button",{onClick:f,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Gn,I(" Delete Selected ")]),e("span",Qn,"Selected "+a(L.value.length)+" clients",1)])):A("",!0)]),e("div",null,[G(e("input",{type:"text","onUpdate:modelValue":W[0]||(W[0]=Q=>X.value=Q),class:"form-control",placeholder:"Search..."},null,512),[[le,X.value]])])]),e("div",Wn,[e("div",Kn,[e("table",Xn,[e("thead",null,[e("tr",null,[e("th",null,[G(e("input",{type:"checkbox","onUpdate:modelValue":W[1]||(W[1]=Q=>F.value=Q),onChange:se},null,544),[[xe,F.value]])]),Jn,Zn,ed,td,sd])]),n.value.data.length>0?(t(),s("tbody",ad,[(t(!0),s(R,null,H(n.value.data,(Q,ae)=>(t(),de(Nn,{key:Q.id,item:Q,index:ae,onEditUser:g,onConfirmUserDeletion:y,onToggleSelection:O,"select-all":F.value},null,8,["item","index","select-all"]))),128))])):(t(),s("tbody",od,nd))])])]),M(c(De),{data:n.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",dd,[e("div",id,[e("div",cd,[e("div",rd,[e("h5",ud,[l.value?(t(),s("span",_d,"Edit Client")):(t(),s("span",md,"Add New Client"))]),hd]),M(c(be),{ref_key:"form",ref:p,onSubmit:S,"validation-schema":l.value?c(Y):c(b),"initial-values":d.value},{default:Z(({errors:Q})=>[e("div",pd,[e("div",vd,[bd,M(c(K),{name:"first_name",type:"text",class:E(["form-control",{"is-invalid":Q.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",fd,a(Q.first_name),1)]),e("div",$d,[gd,M(c(K),{name:"last_name",type:"text",class:E(["form-control",{"is-invalid":Q.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",yd,a(Q.last_name),1)]),e("div",kd,[xd,M(c(K),{name:"email",type:"email",class:E(["form-control",{"is-invalid":Q.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",wd,a(Q.email),1)])]),Cd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Sd,[e("div",Ud,[e("div",Md,[Dd,e("div",Ad,[Vd,e("button",{onClick:te(v,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Ne=o=>($e("data-v-36595330"),o=o(),ge(),o),Td={style:{"text-align":"center"}},Fd={key:0},Id=Ne(()=>e("i",{class:"fa fa-edit"},null,-1)),Pd=[Id],Ld=Ne(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Yd=[Ld],Bd={key:1,style:{"text-align":"center"}},Nd={key:0},Rd=Ne(()=>e("i",{class:"fa fa-edit"},null,-1)),qd=[Rd],jd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:u}){re();const n=ce();return(l,d)=>{const p=Se("router-link");return t(),s("tr",null,[e("td",null,a(o.item.recommnum),1),e("td",null,a(o.item.user),1),e("td",null,a(o.item.branch),1),e("td",null,a(o.item.department),1),e("td",null,a(o.item.created_user),1),e("td",Td,[o.item.statusid==2?(t(),de(p,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:E(["badge",`badge-${o.item.status.color}`])},a(o.item.status.name),3)]),_:1},8,["to"])):A("",!0),o.item.statusid!=2?(t(),s("span",{key:1,class:E(["badge",`badge-${o.item.status.color}`])},a(o.item.status.name),3)):A("",!0)]),e("td",null,a(o.item.created_at),1),c(n).user.role==="ADMIN"?(t(),s("td",Fd,[e("a",{href:"#",onClick:d[0]||(d[0]=te(x=>l.$emit("editUser",o.item),["prevent"]))},Pd),e("a",{href:"#",onClick:d[1]||(d[1]=te(x=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Yd)])):A("",!0),c(n).user.role==="USER"?(t(),s("td",Bd,[o.item.statusid!=2?(t(),s("div",Nd,[o.item.created_by==c(n).user.id?(t(),s("a",{key:0,href:"#",onClick:d[2]||(d[2]=te(x=>l.$emit("editUser",o.item),["prevent"]))},qd)):A("",!0)])):A("",!0)])):A("",!0)])}}};var Hd=pe(jd,[["__scopeId","data-v-36595330"]]);const Od={class:"content"},zd={class:"container-fluid"},Gd={class:"d-flex justify-content-between"},Qd={class:"d-flex"},Wd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Kd={key:0},Xd=e("i",{class:"fa fa-trash mr-1"},null,-1),Jd={class:"ml-2"},Zd={class:"card"},ei={class:"card-body"},ti=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),si=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ai=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),oi=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),li={class:"dispatch-table"},ni={class:"table-responsive"},di={class:"table table-bordered table-sm"},ii=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ci={key:0},ri={key:1},ui=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),_i=[ui],mi=["item","index"],hi={class:"card"},pi={class:"card-body"},vi={class:"list-field"},bi=e("span",{class:"mb-1 dis"},"Tech #:",-1),fi={class:"list-field"},$i=e("span",{class:"mb-1 dis"},"User:",-1),gi={class:"list-field"},yi=e("span",{class:"mb-1 dis"},"Branch:",-1),ki={class:"list-field"},xi=e("span",{class:"mb-1 dis"},"Department:",-1),wi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"Created by:",-1),Si={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Status:",-1),Mi={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Vi={class:"row"},Ei={key:0,class:"col"},Ti=["onClick"],Fi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ii=["onClick"],Pi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),I(" Remove ")],-1),Li=[Pi],Yi={key:0,class:"btn btnsm btn-success btn-block"},Bi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni={key:1,class:"col"},Ri={key:0},qi=["onClick"],ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Hi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Oi={class:"modal-dialog modal-lg",role:"document"},zi={class:"modal-content"},Gi={class:"modal-header"},Qi={class:"modal-title",id:"staticBackdropLabel"},Wi={key:0},Ki={key:1},Xi=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ji={class:"modal-body"},Zi={class:"col-md-12"},ec={class:"row"},tc={class:"col-6"},sc={class:"form-group"},ac=e("label",{for:"branch"},"Branch",-1),oc=e("option",{value:"",disabled:""}," Select Branch ",-1),lc=["value"],nc={class:"invalid-feedback"},dc={class:"form-group"},ic=e("label",{for:"department"},"Department",-1),cc={class:"invalid-feedback"},rc={class:"form-group"},uc=e("label",{for:"warehouse"},"warehouse",-1),_c={class:"invalid-feedback"},mc={class:"form-group"},hc=e("label",{for:"user"},"User",-1),pc={class:"invalid-feedback"},vc={class:"col-6"},bc={class:"form-group"},fc=e("label",{for:"brand"},"Brand",-1),$c={class:"form-group"},gc=e("label",{for:"model"},"Model",-1),yc={class:"invalid-feedback"},kc={class:"form-group"},xc=e("label",{for:"assettag"},"Asset tag",-1),wc={class:"invalid-feedback"},Cc={class:"form-group"},Sc=e("label",{for:"serialnum"},"Serial number",-1),Uc={class:"invalid-feedback"},Mc={class:"col-12"},Dc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Vc={class:"invalid-feedback"},Ec={class:"form-group"},Tc=e("label",{for:"assconducted"},"Assessment conducted",-1),Fc={class:"invalid-feedback"},Ic={class:"form-group"},Pc=e("label",{for:"recommendation"},"Recommendation",-1),Lc={class:"invalid-feedback"},Yc={class:"modal-footer"},Bc={key:0},Nc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),qc={class:"dropdown-menu",role:"menu"},jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Hc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Oc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zc={class:"modal-dialog",role:"document"},Gc={class:"modal-content"},Qc=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Wc={class:"modal-footer"},Kc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Xc={__name:"TechList",setup(o){const u=i(),n=i(),l=re(),d=i({data:[]});i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const p=()=>{T.get("/api/getsite").then(k=>{n.value=k.data.sites}).catch(k=>{console.log(k)})},x=i(!1),b=i(!1),Y=i(),h=Ue({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),D=ce();i(null);const g=(k=1)=>{x.value=!0,T.get(`/api/tech-recommendations?page=${k}`,{params:{query:f.value}}).then(m=>{x.value=!1,d.value=m.data,F.value=[],w.value=!1})},_=ve({branch:N().required(),department:N().required(),user:N().required(),problem:N().required(),assconducted:N().required(),brand:N().required()}),S=ve({branch:N().required(),department:N().required(),user:N().required(),problem:N().required(),assconducted:N().required(),brand:N().required()}),X=(k,{resetForm:m,setErrors:ee})=>{T.post("/api/tech-recommendations",k).then(U=>{d.value.data.unshift(U.data),$("#FormModal").modal("hide"),m(),l.success("Data created successfully!")}).catch(U=>{U.response.data.errors&&ee(U.response.data.errors)})},L=()=>{b.value=!1,$("#FormModal").modal("show")},O=()=>{h.id="",h.recommnum="",h.branch="",h.department="",h.warehouse="",h.user="",h.problem="",h.brand="",h.model="",h.assettag="",h.serialnum="",h.assconducted="",h.recommendation="",h.ceated_by=""},V=k=>{u.value=k.id,b.value=!0,O(),h.id=k.id,h.branch=k.branch,h.department=k.department,h.warehouse=k.warehouse,h.user=k.user,h.problem=k.problem,h.brand=k.brand,h.model=k.model,h.assettag=k.assettag,h.serialnum=k.serialnum,h.assconducted=k.assconducted,h.recommendation=k.recommendation,h.ceated_by=k.ceated_by,h.recommnum=k.recommnum,$("#FormModal").modal("show")},y=(k,{setErrors:m})=>{T.put("/api/tech-recommendations/"+k.id,k).then(ee=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(ee=>{m(ee.response.data.errors),console.log(ee)})},v=(k,m)=>{b.value?y(h,m):X(k,m)},f=i(null),F=i([]),se=k=>{const m=F.value.indexOf(k.id);m===-1?F.value.push(k.id):F.value.splice(m,1),console.log(F.value)},z=i(null),W=k=>{z.value=k,$("#deleteClientModal").modal("show")},Q=()=>{T.delete(`/api/tech-recommendations/${z.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),d.value.data=d.value.data.filter(k=>k.id!==z.value)})},ae=()=>{T.delete("/api/tech-recommendations",{data:{ids:F.value}}).then(k=>{d.value.data=d.value.data.filter(m=>!F.value.includes(m.id)),F.value=[],w.value=!1,l.success(k.data.message)})},B=k=>{T.post("/api/tech-getaction",{id:u.value,status:k}).then(m=>{$("#FormModal").modal("hide"),g()}).catch(m=>{console.log(m.message)})},w=i(!1);return me(f,Ce.exports.debounce(()=>{g()},300)),ue(()=>{g(),p()}),(k,m)=>{const ee=Se("router-link");return t(),s(R,null,[e("div",Od,[e("div",zd,[e("div",Gd,[e("div",Qd,[e("button",{onClick:L,type:"button",class:"mb-2 btn btn-primary"},[Wd,I(" TechRecom ")]),F.value.length>0?(t(),s("div",Kd,[e("button",{onClick:ae,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xd,I(" Delete Selected ")]),e("span",Jd,"Selected "+a(F.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[G(e("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=U=>f.value=U),class:"form-control",placeholder:"Search..."},null,512),[[le,f.value]])])]),e("div",Zd,[e("div",ei,[x.value?(t(),de(c(we),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[ti,si,ai,oi]),_:1})):A("",!0),e("div",li,[e("div",ni,[e("table",di,[ii,d.value.data.length>0?(t(),s("tbody",ci,[(t(!0),s(R,null,H(d.value.data,(U,q)=>(t(),de(Hd,{key:U.id,item:U,index:q,onEditUser:V,onShowItem:k.viewItem,onConfirmUserDeletion:W,onToggleSelection:se,"select-all":w.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),s("tbody",ri,_i))])])]),(t(!0),s(R,null,H(d.value.data,(U,q)=>(t(),s("div",{class:"dispatch-list",key:U.id,item:U,index:q},[e("div",hi,[e("div",pi,[e("div",vi,[bi,e("span",null,[e("b",null,a(U.recommnum),1)])]),e("div",fi,[$i,e("span",null,a(U.user),1)]),e("div",gi,[yi,e("span",null,a(U.branch),1)]),e("div",ki,[xi,e("span",null,a(U.department),1)]),e("div",wi,[Ci,e("span",null,a(U.created_user),1)]),e("div",Si,[Ui,U.statusid==2?(t(),de(ee,{key:0,to:`/admin/tech-approved/${U.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:E(["badge",`badge-${U.status.color}`])},a(U.status.name),3)]),_:2},1032,["to"])):A("",!0),U.statusid!=2?(t(),s("span",{key:1,class:E(["badge",`badge-${U.status.color}`])},a(U.status.name),3)):A("",!0)]),e("div",Mi,[Di,e("span",null,a(U.created_at),1)]),Ai,e("div",Vi,[c(D).user.role==="ADMIN"?(t(),s("div",Ei,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ee=>V(U)},[Fi,I(" Edit ")],8,Ti),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ee=>W(U.id)},Li,8,Ii),U.statusid==2?(t(),s("button",Yi,[Bi,I(" Download ")])):A("",!0)])):A("",!0),c(D).user.role==="USER"?(t(),s("div",Ni,[U.statusid!=2?(t(),s("div",Ri,[U.created_by==c(D).user.id?(t(),s("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ee=>V(U)},[ji,I(" Edit ")],8,qi)):A("",!0)])):A("",!0)])):A("",!0)])])])],8,mi))),128))])]),M(c(De),{data:d.value,onPaginationChangePage:g},null,8,["data"])])]),e("div",Hi,[e("div",Oi,[e("div",zi,[e("div",Gi,[e("h5",Qi,[b.value?(t(),s("span",Wi,"Edit Tech Recom.")):(t(),s("span",Ki,"Add New Tech Recom."))]),Xi]),M(c(be),{onSubmit:v,"validation-schema":b.value?c(S):c(_),"initial-values":Y.value},{default:Z(({errors:U})=>[e("div",Ji,[e("div",Zi,[e("div",ec,[e("div",tc,[M(c(K),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(D).user.id,"onUpdate:modelValue":m[1]||(m[1]=q=>c(D).user.id=q)},null,8,["modelValue"]),M(c(K),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:h.recommnum,"onUpdate:modelValue":m[2]||(m[2]=q=>h.recommnum=q)},null,8,["modelValue"]),e("div",sc,[ac,M(c(K),{as:"select",name:"branch",class:E(["form-control",{"is-invalid":U.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:h.branch,"onUpdate:modelValue":m[3]||(m[3]=q=>h.branch=q)},{default:Z(()=>[oc,(t(!0),s(R,null,H(n.value,q=>(t(),s("option",{key:q.site_name,value:q.site_name},a(q.site_name),9,lc))),128))]),_:2},1032,["class","modelValue"]),e("span",nc,a(U.branch),1)]),e("div",dc,[ic,M(c(K),{name:"department",type:"text",class:E(["form-control",{"is-invalid":U.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:h.department,"onUpdate:modelValue":m[4]||(m[4]=q=>h.department=q)},null,8,["class","modelValue"]),e("span",cc,a(U.department),1)]),e("div",rc,[uc,M(c(K),{name:"warehouse",type:"text",class:E(["form-control",{"is-invalid":U.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:h.warehouse,"onUpdate:modelValue":m[5]||(m[5]=q=>h.warehouse=q)},null,8,["class","modelValue"]),e("span",_c,a(U.warehouse),1)]),e("div",mc,[hc,M(c(K),{name:"user",type:"text",class:E(["form-control",{"is-invalid":U.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:h.user,"onUpdate:modelValue":m[6]||(m[6]=q=>h.user=q)},null,8,["class","modelValue"]),e("span",pc,a(U.user),1)])]),e("div",vc,[e("div",bc,[fc,M(c(K),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:h.brand,"onUpdate:modelValue":m[7]||(m[7]=q=>h.brand=q)},null,8,["modelValue"])]),e("div",$c,[gc,M(c(K),{name:"model",type:"text",class:E(["form-control",{"is-invalid":U.model}]),id:"model",modelValue:h.model,"onUpdate:modelValue":m[8]||(m[8]=q=>h.model=q),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",yc,a(U.model),1)]),e("div",kc,[xc,M(c(K),{name:"assettag",type:"text",class:E(["form-control",{"is-invalid":U.assettag}]),id:"assettag",modelValue:h.assettag,"onUpdate:modelValue":m[9]||(m[9]=q=>h.assettag=q),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",wc,a(U.assettag),1)]),e("div",Cc,[Sc,G(e("input",{name:"serialnum",type:"text",class:E(["form-control",{"is-invalid":U.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":m[10]||(m[10]=q=>h.serialnum=q)},null,2),[[le,h.serialnum]]),e("span",Uc,a(U.serialnum),1)])]),e("div",Mc,[e("div",Dc,[Ac,M(c(K),{name:"problem",as:"textarea",class:E(["form-control",{"is-invalid":U.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:h.problem,"onUpdate:modelValue":m[11]||(m[11]=q=>h.problem=q)},null,8,["class","modelValue"]),e("span",Vc,a(U.problem),1)]),e("div",Ec,[Tc,M(c(K),{name:"assconducted",as:"textarea",class:E(["form-control",{"is-invalid":U.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:h.assconducted,"onUpdate:modelValue":m[12]||(m[12]=q=>h.assconducted=q)},null,8,["class","modelValue"]),e("span",Fc,a(U.assconducted),1)]),e("div",Ic,[Pc,M(c(K),{name:"recommendation",as:"textarea",class:E(["form-control",{"is-invalid":U.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:h.recommendation,"onUpdate:modelValue":m[13]||(m[13]=q=>h.recommendation=q)},null,8,["class","modelValue"]),e("span",Lc,a(U.recommendation),1)])])])])]),e("div",Yc,[b.value?(t(),s("div",Bc,[c(D).user.role==="ADMIN"?(t(),s("div",Nc,[e("button",{type:"button",onClick:m[14]||(m[14]=q=>B(2)),class:"btn btn-info"}," Approved "),Rc,e("div",qc,[e("span",{onClick:m[15]||(m[15]=q=>B(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:m[16]||(m[16]=q=>B(3)),class:"dropdown-item"},"Disapproved")])])):A("",!0)])):A("",!0),jc,Hc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Oc,[e("div",zc,[e("div",Gc,[Qc,e("div",Wc,[Kc,e("button",{onClick:te(Q,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Ae=He("SettingStore",()=>{const o=i({app_name:""}),u=ft("SettingStore:theme",i("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(d=>{o.value=d.data})},theme:u,changeTheme:()=>{u.value=u.value==="light"?"dark":"light"}}});const j=o=>($e("data-v-21bb19fc"),o=o(),ge(),o),Jc={class:"content"},Zc={class:"container-fluid"},er={class:"card"},tr={class:"card-header"},sr={class:"card-title"},ar={class:"card-body"},or={class:"col-md-12"},lr={class:"d-flex justify-content-between"},nr=j(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),dr={class:"d-flex"},ir={class:"col-12",id:"accordion"},cr=j(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),rr=j(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ur=j(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),_r=j(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),mr={key:1},hr={key:0},pr={class:"card card-secondary"},vr={class:"card-body d-flex align-items-center justify-content-center"},br={class:"image-container"},fr=["src"],$r=j(()=>e("div",{class:"overlay"},null,-1)),gr={key:1},yr={class:"card-header bg-white"},kr={class:"card-title"},xr=["href"],wr=["src"],Cr={class:"card-tools"},Sr=["onClick"],Ur=j(()=>e("i",{class:"fas fa-tasks"},null,-1)),Mr=[Ur],Dr=["disabled","onClick"],Ar=["onClick"],Vr=j(()=>e("p",{class:"float-right"},null,-1)),Er=["id"],Tr={class:"card-body"},Fr={class:"col-md-12"},Ir={class:"dispatch-table"},Pr={class:"row"},Lr={class:"col-4"},Yr=j(()=>e("b",null,"Site:",-1)),Br=j(()=>e("b",null,"Planned Date:",-1)),Nr=j(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},qr=j(()=>e("b",null,"Start Date:",-1)),jr=j(()=>e("b",null,"Accomplished Date:",-1)),Hr={class:"closestatus"},Or=j(()=>e("b",{style:{color:"black"}},"Type:",-1)),zr={class:"col-4"},Gr={class:"ongoing"},Qr=j(()=>e("b",{style:{color:"black"}},"Status:",-1)),Wr=j(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Kr=j(()=>e("b",null,"Remarks:",-1)),Xr={style:{margin:"0.5%"}},Jr=["disabled","onClick"],Zr=["onClick","disabled"],eu={class:"dispatch-list"},tu={class:"list-group list-group-flush"},su={class:"list-group-item d-flex justify-content-between align-items-center"},au={class:"badge badge-primary badge-pill"},ou={class:"list-group-item d-flex justify-content-between align-items-center"},lu={class:"badge badge-primary badge-pill"},nu={class:"list-group-item d-flex justify-content-between align-items-center"},du={class:"badge badge-primary badge-pill"},iu={class:"list-group-item d-flex justify-content-between align-items-center"},cu={class:"badge badge-primary badge-pill"},ru={class:"list-group-item d-flex justify-content-between align-items-center"},uu={class:"badge badge-primary badge-pill"},_u={class:"list-group-item d-flex justify-content-between align-items-center"},mu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},vu={class:"list-group-item d-flex justify-content-between align-items-center"},bu={class:"badge badge-primary badge-pill"},fu=j(()=>e("hr",null,null,-1)),$u={class:"row"},gu={class:"col"},yu=["onClick"],ku=j(()=>e("i",{class:"fas fa-pen"},null,-1)),xu=["onClick"],wu=j(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),I(" Drop ")],-1)),Cu=[wu],Su={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uu={class:"modal-dialog modal-dialog-centered",role:"document"},Mu={class:"modal-content"},Du={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Vu={key:0},Eu={key:1},Tu={key:2},Fu=j(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Iu={class:"modal-body"},Pu={class:"col-md-12"},Lu={class:"row"},Yu={class:"col-12"},Bu={class:"form-group"},Nu=j(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=j(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),qu=["value"],ju={key:0,class:"d-flex justify-content-between"},Hu={class:"d-flex"},Ou={class:"form-group"},zu=j(()=>e("label",{for:"end-time"},"Start Date",-1)),Gu={class:"form-group"},Qu=j(()=>e("label",{for:"end-time"},"Hour",-1)),Wu=["value"],Ku=j(()=>e("div",{class:"d-fex"},null,-1)),Xu={key:1,class:"d-flex justify-content-between"},Ju={class:"d-flex"},Zu={class:"form-group"},e_=j(()=>e("label",{for:"end-time"},"End Date",-1)),t_={class:"form-group"},s_=j(()=>e("label",{for:"end-time"},"Hour",-1)),a_=["value"],o_=j(()=>e("div",{class:"d-fex"},null,-1)),l_={class:"form-group"},n_=j(()=>e("label",{for:"site"},"Task",-1)),d_=j(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),i_=["value"],c_=j(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),r_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},u_={class:"modal-dialog modal-sm",role:"document"},__={class:"modal-content"},m_={class:"modal-header"},h_={class:"modal-title",id:"staticBackdropLabel"},p_=j(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),v_={class:"modal-body"},b_=he('<ul class="nav nav-tabs" id="myTabs" data-v-21bb19fc><li class="nav-item" data-v-21bb19fc><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-21bb19fc> Todo List</a></li><li class="nav-item" data-v-21bb19fc><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-21bb19fc> Todo</a></li></ul>',1),f_={class:"tab-content"},$_={class:"tab-pane fade show active",id:"todolist"},g_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},y_=j(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),k_=j(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_={key:0,class:"list-group-item mt-2"},w_={class:"d-flex justify-content-between"},C_={class:"d-flex"},S_=["onClick"],U_={class:"d-flex"},M_=["onClick"],D_={class:"m-2 list-unstyled"},A_={key:1},V_={key:0,class:"list-group-item mt-2"},E_={class:"d-flex justify-content-between"},T_={class:"d-flex"},F_=["onClick"],I_={class:"d-flex"},P_=["onClick"],L_={key:1,class:"mt-2 text-center"},Y_=j(()=>e("span",null,"No Todo",-1)),B_=[Y_],N_={class:"tab-pane fade",id:"formTask"},R_={class:"col-md-12"},q_={class:"row"},j_={class:"col-12"},H_={class:"m-2",style:{display:"flex","align-items":"center"}},O_=j(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),I("\xA0Save ")])],-1)),z_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},G_={class:"modal-dialog",role:"document"},Q_={class:"modal-content"},W_=he('<div class="modal-header" data-v-21bb19fc><h5 class="modal-title" id="staticBackdropLabel" data-v-21bb19fc><span data-v-21bb19fc>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-21bb19fc><span aria-hidden="true" data-v-21bb19fc>\xD7</span></button></div><div class="modal-body" data-v-21bb19fc><h5 data-v-21bb19fc>Are you sure you want to delete this record ?</h5></div>',2),K_={class:"modal-footer"},X_=j(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),J_={__name:"MyPrio",setup(o){const u=i(!1),n=i(!1),l=it("$swal");Ae();const d=re(),p=i({data:[]}),x=i([]);i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const b=i();i();const Y=i(!0),h=i(!1);i(!1),i();const D=i(),g=i(),_=i(),S=ce();i(null),i(!1);const X=i([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"VSC",value:4},{name:"WORK FROM HOME",value:6}]),L=i(),O=i("1:00 AM"),V=i(),y=i("1:00 AM"),v=i(Array.from({length:24},(C,P)=>{const r=P%12+1,oe=P<12?"AM":"PM";return`${r}:00 ${oe}`})),f=i(Array.from({length:24},(C,P)=>{const r=P%12+1,oe=P<12?"AM":"PM";return`${r}:00 ${oe}`})),F=Ue({dailytask_id:"",site:"",user_id:S.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});me([L,O],()=>{const C=new Date(L.value),P=C.getFullYear(),r=String(C.getMonth()+1).padStart(2,"0"),oe=String(C.getDate()).padStart(2,"0");F.plandate=`${P}-${r}-${oe} ${O.value}`}),me([L,y],()=>{const C=new Date(L.value);C.getFullYear(),String(C.getMonth()+1).padStart(2,"0"),String(C.getDate()).padStart(2,"0")}),me([V,y],()=>{const C=new Date(V.value),P=C.getFullYear(),r=String(C.getMonth()+1).padStart(2,"0"),oe=String(C.getDate()).padStart(2,"0");F.enddates=`${P}-${r}-${oe} ${y.value}`});const se=i({id:"",dailytask_id:"",task_name:"",iscompleted:0}),z=()=>{T.get("/api/getsite").then(C=>{b.value=C.data.sites}).catch(C=>{console.log(C)})},W=()=>{u.value=!0,T.get("/api/dailytask",{params:{query:Te.value}}).then(C=>{u.value=!1,p.value=C.data,tt.value=[]})},Q=async C=>{(await l({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(u.value=!0,T.put(`/api/dailytask/drop/${C}`).then(r=>{d.success("Data drop successfully!"),u.value=!1,W()}))},ae=()=>{$("#FormModalTask").modal("show")},B=C=>{ae(),se.value.dailytask_id=C.dailytask_id,g.value=C.taskdate,_.value=C.startdate,n.value=!0,T.get(`/api/dailytask/${C.dailytask_id}/tasks`).then(P=>{x.value=P.data,ae(),n.value=!1}).catch(P=>{console.error("Error fetching tasks:",P)})},w=()=>{n.value=!0,T.post("/api/dailytask/addnewTask",{dailytask_id:se.value.dailytask_id,task_name:se.value.task_name,iscompleted:se.value.iscompleted}).then(C=>{d.success("Data created successfully!"),T.get(`/api/dailytask/${se.value.dailytask_id}/tasks`).then(P=>{x.value=P.data,n.value=!1}).catch(P=>{console.error("Error fetching tasks:",P),d.error("Error fetching tasks. Please try again.")}),se.value.task_name=""}).catch(C=>{console.error("Error adding new task:",C),d.error("Error adding new task. Please try again.")})},k=C=>{se.value.iscompleted=C.iscompleted===1?0:1,T.post("/api/dailytask/addnewTask",{id:C.id,dailytask_id:C.dailytask_id,task_name:C.task_name,iscompleted:se.value.iscompleted}).then(P=>{T.get(`/api/dailytask/${C.dailytask_id}/tasks`).then(r=>{x.value=r.data}).catch(r=>{console.error("Error fetching tasks:",r),d.error("Error fetching tasks. Please try again.")})}).catch(P=>{console.error("Error adding new task:",P),d.error("Error adding new task. Please try again.")})},m=fe(()=>Array.isArray(x.value)?x.value.filter(C=>C.iscompleted===1):[]),ee=fe(()=>m.value.length),U=()=>{Y.value=!Y.value},q=C=>{T.delete(`/api/dailytask/deleteTask/${C.id}`).then(P=>{T.get(`/api/dailytask/${C.dailytask_id}/tasks`).then(r=>{x.value=r.data,d.success("Todo successfull Deleted")}).catch(r=>{console.error("Error fetching tasks:",r),d.error("Error fetching tasks. Please try again.")})}).catch(P=>{console.error("Error adding new task:",P),d.error("Error adding new task. Please try again.")})};ve({site:N().required(),tasktype:N().required(),plandate:N().required(),planenddate:N().required()}),ve({site:N().required(),tasktype:N().required(),plandate:N().required(),planenddate:N().required()});const Ee=(C,P)=>{T.post("/api/dailytask",F).then(r=>{console.log(r.data),W(),$("#FormModal").modal("hide"),d.success("data created successfully!")}).catch(r=>{P.setErrors(r.response.data.errors)})},Xe=(C,P)=>{T.put("/api/dailytask/"+F.dailytask_id,F).then(r=>{console.log(r.data),W(),$("#FormModal").modal("hide"),d.success("data update successfully!")}).catch(r=>{P.setErrors(r.response.data.errors)})},Pe=C=>{C&&C.dailytask_id!==null&&C.dailytask_id!==void 0?(h.value=!0,D.value=" on "+ie(C.taskdate).format("MMMM D, YYYY"),F.site=C.site,F.dailytask_id=C.dailytask_id,F.plandate=C.plandate,F.planenddate=C.planenddate):h.value=!1,z(),$("#FormModal").modal("show")},Je=(C,P)=>{h.value?Xe(C,P):Ee(C,P)},Ze=async C=>{try{const P=await T.get(`/api/dailytask/${C.dailytask_id}/tasks`);if(x.value=P.data,!x.value||x.value.length===0){l.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await l.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const oe=await T.put("/api/dailytask/onhandler/"+C.dailytask_id,C);d.success(oe.data.message),W()}}catch(P){console.error("Error fetching tasks:",P),d.error("An error occurred while updating the task.")}},et=async C=>{if((await l({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ie(C.taskdate).format("YYYY-MM-DD")===ie().format("YYYY-MM-DD")?(C.remarks="HIT",C.status="On Schedule"):(C.remarks="MISS",C.status="Behind Schedule");const oe=await T.put("/api/dailytask/onhandler/"+C.dailytask_id,C);d.success(oe.data.message),W()}catch(r){console.error(r),d.error("An error occurred while updating the task.")}},Te=i(null),tt=i([]),Re=i(null),st=()=>{T.delete(`/api/tech-recommendations/${Re.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),p.value.data=p.value.data.filter(C=>C.id!==Re.value)})};return me(Te,Ce.exports.debounce(()=>{W()},300)),ue(()=>{Oe(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),W()}),(C,P)=>(t(),s(R,null,[e("div",Jc,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,a(c(S).user.first_name+" "+c(S).user.last_name)+" - My Prio ",1)]),e("div",ar,[e("div",or,[e("div",lr,[e("div",{class:"d-flex"},[e("button",{onClick:Pe,type:"button",class:"mb-2 btn btn-primary"},[nr,I(" Task ")])]),e("div",dr,[G(e("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=r=>Te.value=r),class:"form-control",placeholder:"Search..."},null,512),[[le,Te.value]])])]),e("div",ir,[u.value?(t(),de(c(we),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[cr,rr,ur,_r]),_:1})):(t(),s("div",mr,[p.value.length===0?(t(),s("div",hr,[e("div",pr,[e("div",vr,[e("div",br,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,fr),$r])])])])):(t(),s("div",gr,[(t(!0),s(R,null,H(p.value,r=>(t(),s("div",{class:"card card-primary",key:r.id},[e("div",yr,[e("h4",kr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+r.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,wr),I(" \xA0"),e("b",null,a(c(ie)(r.taskdate).format("MMMM D, YYYY")),1)],8,xr)]),e("div",Cr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:oe=>B(r)},Mr,8,Sr),e("button",{disabled:r.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:oe=>et(r)}," End ",8,Dr),r.startdate?A("",!0):(t(),s("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:oe=>Ze(r)}," Start ",8,Ar)),Vr])]),e("div",{id:"collapse"+r.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Tr,[e("div",Fr,[e("div",Ir,[e("div",Pr,[e("div",Lr,[e("h5",null,[Yr,I(" "+a(r.site_name),1)]),e("h5",null,[Br,I(" "+a(r.plandate),1)]),e("h5",null,[Nr,I(" "+a(r.planenddate),1)])]),e("div",Rr,[e("h5",null,[qr,I(" "+a(r.startdate!==null?c(ie)(r.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[jr,I(" "+a(r.enddate!==null?c(ie)(r.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Hr,[Or,I(" "+a(r.tasktype?r.tasktype.join(", "):""),1)])]),e("div",zr,[e("h5",Gr,[Qr,I(" "+a(r.status),1)]),e("h5",null,[Wr,I(" "+a(r.attachment),1)]),e("h5",null,[Kr,I(" "+a(r.remarks),1)])])]),e("div",Xr,[e("button",{disabled:r.startdate!==null,onClick:oe=>Q(r.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Jr),e("button",{onClick:oe=>Pe(r),type:"button",disabled:r.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,Zr)])]),e("div",eu,[e("ul",tu,[e("li",su,[I(" Site: "),e("span",au,a(r.site_name),1)]),e("li",ou,[I(" Planned Date: "),e("span",lu,a(r.plandate),1)]),e("li",nu,[I(" Planned End Date: "),e("span",du,a(r.planenddate),1)]),e("li",iu,[I(" Start Date: "),e("span",cu,a(r.startdate!==null?c(ie)(r.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",ru,[I(" Type: "),e("span",uu,a(r.tasktype?r.tasktype.join(", "):""),1)]),e("li",_u,[I(" Status: "),e("span",mu,a(r.status),1)]),e("li",hu,[I(" Attachment: "),e("span",pu,a(r.attachment),1)]),e("li",vu,[I(" Remarks: "),e("span",bu,a(r.remarks),1)])]),fu,e("div",$u,[e("div",gu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:oe=>Pe(r)},[ku,I(" Edit ")],8,yu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:oe=>Q(r.dailytask_id)},Cu,8,xu)])])])])])],8,Er)]))),128))]))]))])])])])])]),e("div",Su,[e("div",Uu,[e("div",Mu,[e("div",Du,[e("h5",Au,[h.value?(t(),s("span",Vu,"Edit My Task")):(t(),s("span",Eu,"Add My Task")),h.value?(t(),s("span",Tu,a(D.value),1)):A("",!0)]),Fu]),M(c(be),{onSubmit:Je},{default:Z(()=>[e("div",Iu,[e("div",Pu,[e("div",Lu,[e("div",Yu,[M(c(K),{modelValue:F.user_id,"onUpdate:modelValue":P[1]||(P[1]=r=>F.user_id=r),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Bu,[Nu,G(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":P[2]||(P[2]=r=>F.site=r)},[Ru,(t(!0),s(R,null,H(b.value,r=>(t(),s("option",{key:r.id,value:r.id},a(r.site_name),9,qu))),128))],512),[[ke,F.site]])]),h.value==!1?(t(),s("div",ju,[e("div",Hu,[e("div",Ou,[zu,M(c(Me),{class:"form-control",modelValue:L.value,"onUpdate:modelValue":P[3]||(P[3]=r=>L.value=r)},null,8,["modelValue"])]),e("div",Gu,[Qu,G(e("select",{class:"form-control","onUpdate:modelValue":P[4]||(P[4]=r=>O.value=r),id:"plandate"},[(t(!0),s(R,null,H(v.value,r=>(t(),s("option",{key:r,value:r},a(r),9,Wu))),128))],512),[[ke,O.value]])])]),Ku])):A("",!0),h.value==!1?(t(),s("div",Xu,[e("div",Ju,[e("div",Zu,[e_,M(c(Me),{class:"form-control",modelValue:V.value,"onUpdate:modelValue":P[5]||(P[5]=r=>V.value=r)},null,8,["modelValue"])]),e("div",t_,[s_,G(e("select",{class:"form-control","onUpdate:modelValue":P[6]||(P[6]=r=>y.value=r),id:"plandate"},[(t(!0),s(R,null,H(f.value,r=>(t(),s("option",{key:r,value:r},a(r),9,a_))),128))],512),[[ke,y.value]])])]),o_])):A("",!0),e("div",l_,[n_,M(c(K),{name:"tasktype"},{default:Z(()=>[G(e("select",{"onUpdate:modelValue":P[7]||(P[7]=r=>F.tasktype=r),class:"form-control",required:!0},[d_,(t(!0),s(R,null,H(X.value,r=>(t(),s("option",{key:r.value,value:r.value},a(r.name),9,i_))),128))],512),[[ke,F.tasktype]])]),_:1})])])])])]),c_]),_:1})])])]),e("div",r_,[e("div",u_,[e("div",__,[e("div",m_,[e("h5",h_," My Todo of "+a(c(ie)(g.value).format("MM/D/YYYY")),1),p_]),e("div",v_,[b_,e("div",f_,[e("div",$_,[x.value.length>0?(t(),s("div",g_,[n.value?(t(),de(c(we),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[y_,k_]),_:1})):A("",!0),(t(!0),s(R,null,H(x.value,r=>(t(),s("ul",{class:"list-group",key:r.id},[r.iscompleted!==1?(t(),s("li",x_,[e("div",w_,[e("div",C_,[_.value?(t(),s("i",{key:0,onClick:oe=>k(r),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":r.iscompleted===1,"fa fa-circle text-primary":r.iscompleted!==1}),style:{"font-size":"15px"}},null,10,S_)):A("",!0),e("span",{class:E({"font-italic":r.iscompleted===1,"":r.iscompleted!==1})},a(r.task_name),3)]),e("div",U_,[e("i",{class:"fa fa-trash text-danger",onClick:oe=>q(r)},null,8,M_)])])])):A("",!0)]))),128)),e("li",D_,[ee.value>0?(t(),s("button",{key:0,class:"btn btn-sm bg-secondary",onClick:U},[e("i",{class:E(["fa",Y.value?"fa-arrow-down":"fa-arrow-right"])},null,2),I(" \xA0Completed "+a(ee.value),1)])):A("",!0)]),Y.value?(t(),s("div",A_,[(t(!0),s(R,null,H(x.value,r=>(t(),s("ul",{class:"list-group",key:r.id},[r.iscompleted===1?(t(),s("li",V_,[e("div",E_,[e("div",T_,[e("i",{class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle":r.iscompleted===1,"fa fa-circle":r.iscompleted!==1}),style:{"font-size":"15px"},onClick:oe=>k(r)},null,10,F_),e("span",{class:E({"font-italic":r.iscompleted===1,"":r.iscompleted!==1})},[e("del",null,a(r.task_name),1)],2)]),e("div",I_,[e("i",{class:"fa fa-trash text-danger",onClick:oe=>q(r)},null,8,P_)])])])):A("",!0)]))),128))])):A("",!0)])):(t(),s("div",L_,B_))]),e("div",N_,[M(c(be),{onSubmit:w},{default:Z(()=>[e("div",R_,[e("div",q_,[e("div",j_,[M(c(K),{modelValue:se.value.dailytask_id,"onUpdate:modelValue":P[8]||(P[8]=r=>se.value.dailytask_id=r),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",H_,[M(c(K),{modelValue:se.value.task_name,"onUpdate:modelValue":P[9]||(P[9]=r=>se.value.task_name=r),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),O_]),_:1})])])])])])]),e("div",z_,[e("div",G_,[e("div",Q_,[W_,e("div",K_,[X_,e("button",{onClick:te(st,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var Z_=pe(J_,[["__scopeId","data-v-21bb19fc"]]);const em={class:"text-center"},tm={key:0},sm={class:"text-center"},am={key:0},om={class:"text-center"},lm={key:0},nm={key:0,class:"bg-success text-center"},dm={key:1,class:"bg-danger text-center"},im={key:2,class:"text-center"},cm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return re(),ce(),(u,n)=>(t(),s("tr",null,[e("td",null,a(c(ie)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",em,[o.item.task_lists_count!==0?(t(),s("span",tm,a(o.item.task_lists_count),1)):A("",!0)]),e("td",sm,[o.item.completed_task_count!==0?(t(),s("span",am,a(o.item.completed_task_count),1)):A("",!0)]),e("td",om,[o.item.status!=="On Going"?(t(),s("span",lm,a(o.item.status),1)):A("",!0)]),o.item.remarks==="HIT"?(t(),s("td",nm,a(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),s("td",dm,a(o.item.remarks),1)):o.item.remarks===null?(t(),s("td",im,a(o.item.startdate!=null?"On Going!":""),1)):A("",!0),e("td",{class:E({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},a(o.item.percentage_completed+"%"),3)]))}};const ne=o=>($e("data-v-6e644549"),o=o(),ge(),o),rm={class:"content-header"},um={class:"container-fluid"},_m={class:"col-12"},mm={class:"card",id:"captureVSCContainer"},hm={class:"card-header"},pm={class:"card-title"},vm={class:"card-tools"},bm={class:"card-body"},fm=ne(()=>e("i",{class:"fa fa-camera"},null,-1)),$m=[fm],gm=ne(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ym=ne(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),km=ne(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),xm=ne(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),wm={key:1,class:"row"},Cm={class:"inner"},Sm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Um=["src"],Mm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Dm={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Am={style:{"text-align":"left"}},Vm={key:0},Em=ne(()=>e("span",{class:"text-light badge"},"Todos",-1)),Tm={class:"list-group list-group-flush"},Fm={style:{display:"flex","align-items":"left"}},Im={class:"ml-1"},Pm={class:"ml-1"},Lm={key:1},Ym={class:"float-right"},Bm={id:"captureHitRateContainer",class:"card"},Nm={class:"card-header"},Rm={class:"card-title"},qm={class:"card-body"},jm={class:"content"},Hm={class:"container-fluid"},Om=ne(()=>e("i",{class:"fa fa-camera"},null,-1)),zm=[Om],Gm={class:"dispatch-table"},Qm={class:"table-responsive"},Wm={class:"table table-bordered table-hover table-sm"},Km=ne(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Xm=["item"],Jm={class:"list-field"},Zm=ne(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),eh={class:"list-field"},th=ne(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),sh={key:0},ah={class:"list-field"},oh=ne(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),lh={key:0},nh={class:"list-field"},dh=ne(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),ih={class:"list-field"},ch=ne(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),rh={class:"list-field"},uh=ne(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),_h={class:"float-right"},mh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hh={class:"modal-dialog modal-sm",role:"document"},ph={class:"modal-content"},vh=ne(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My VSC Summary Report")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),bh={class:"modal-body"},fh={class:"fromtocenter"},$h=ne(()=>e("label",{for:"fromDate"},"From:",-1)),gh=ne(()=>e("label",{for:"toDate"},"To:",-1)),yh=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),kh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xh={class:"modal-dialog modal-sm",role:"document"},wh={class:"modal-content"},Ch=ne(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Sh={class:"modal-body"},Uh={class:"container"},Mh={class:"row"},Dh=["onClick"],Ah=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Vh={__name:"MyVsc",setup(o){const u=ce(),n=i(!1),l=i([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),p=i((()=>{const y={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",y)})()),x=()=>{const y=document.getElementById("captureVSCContainer");Ye(y).then(v=>{const f=v.toDataURL(),F=document.createElement("a");F.href=f,F.download="My VSC.png",F.click()})},b=()=>{const y=document.getElementById("captureHitRateContainer");Ye(y).then(v=>{const f=v.toDataURL(),F=document.createElement("a");F.href=f,F.download="My HITRATE.png",F.click()})};i(null),i("today");const Y=i({data:[]}),h=i({data:[]}),D=()=>{n.value=!0,axios.get("/api/myvsc").then(y=>{n.value=!1,Y.value=y.data.dailyTasks,h.value=y.data.TaskList})},g=()=>{$("#FormModalfilterDate").modal("show")},_=i({start_date:"",end_date:""}),S=i(""),X=i("");me([S],()=>{const y=new Date(S.value),v=y.getFullYear(),f=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");_.value.start_date=`${v}-${f}-${F}`}),me([X],()=>{const y=new Date(X.value),v=y.getFullYear(),f=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");_.value.end_date=`${v}-${f}-${F}`});const L=()=>{n.value=!0,axios.get("/api/filter-vsc",{params:{start_date:_.value.start_date,end_date:_.value.end_date}}).then(y=>{n.value=!1,Y.value=y.data.dailyTasks,h.value=y.data.TaskList}).catch(y=>{console.error(y)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},O=()=>{$("#FormModalPickerThemes").modal("show")},V=y=>{if(y){const v=u.user.id;axios.post("/api/changethemes",{userid:v,background:y.background,active_background:y.active_background,font_background:y.font_background}).then(f=>{$("#FormModalPickerThemes").modal("hide"),n.value=!0,axios.get("/api/myvsc").then(F=>{n.value=!1,Y.value=F.data.dailyTasks,h.value=F.data.TaskList})}).catch(f=>{console.error(f)})}else console.error("Invalid item:",y)};return ue(()=>{D()}),(y,v)=>(t(),s(R,null,[e("div",rm,[e("div",um,[e("div",_m,[e("div",mm,[e("div",hm,[e("div",pm,[e("h5",null,a(c(u).user.first_name+" "+c(u).user.last_name)+" - My VSC ",1)]),e("div",vm,[e("i",{onClick:v[0]||(v[0]=f=>O()),class:"fas fa-palette"})])]),e("div",bm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:x,type:"button",class:"mb-2 btn btn-sm btn-success"},$m)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:g})])]),n.value?(t(),de(c(we),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[gm,ym,km,xm]),_:1})):(t(),s("div",wm,[(t(!0),s(R,null,H(Y.value,f=>(t(),s("div",{class:"col-lg-3 col-6",key:f.id},[e("div",{class:"small-box",style:Le("background-color: "+(c(ie)(f.taskdate).format("MMMM D, YYYY")===p.value?f.active_background==""?"#72461F":f.active_background:f.background==""?"#B98D65":f.background)+";")},[e("div",Cm,[e("div",Sm,[I(a(c(ie)(f.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Um)]),e("div",Mm,a(c(ie)(f.taskdate).format("MMMM D, YYYY")),1),e("div",Dm,a(f.site_name),1),e("div",Am,[f.task_lists&&f.task_lists.length>0?(t(),s("div",Vm,[Em,e("ul",Tm,[(t(!0),s(R,null,H(f.task_lists,F=>(t(),s("li",{class:"list-group-item",key:F.id},[e("div",Fm,[e("div",Im,[e("i",{class:E(F.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Pm,a(F.task_name),1)])]))),128))])])):(t(),s("span",Lm))])])],4)]))),128))])),e("div",Ym,a(p.value),1)])]),e("div",Bm,[e("div",Nm,[e("div",Rm,[e("h5",null,a(c(u).user.first_name+" "+c(u).user.last_name)+" - My HIT RATE ",1)])]),e("div",qm,[e("div",jm,[e("div",Hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-sm btn-success"},zm)])]),e("div",Gm,[e("div",Qm,[e("table",Wm,[Km,e("tbody",null,[(t(!0),s(R,null,H(h.value,f=>(t(),de(cm,{key:f.id,item:f},null,8,["item"]))),128))])])])]),(t(!0),s(R,null,H(h.value,f=>(t(),s("div",{class:"dispatch-list",key:f.id,item:f},[e("div",{class:E([{"callout callout-success":f.remarks==="HIT","callout callout-danger":f.remarks==="MISS",callout:f.remarks===null}])},[e("div",Jm,[Zm,e("span",null,a(c(ie)(f.taskdate).format("MMMM D, YYYY")),1)]),e("div",eh,[th,f.task_lists_count!==0?(t(),s("span",sh,a(f.task_lists_count),1)):A("",!0)]),e("div",ah,[oh,f.completed_task_count!==0?(t(),s("span",lh,a(f.completed_task_count),1)):A("",!0)]),e("div",nh,[dh,e("span",null,[e("b",null,a(f.status),1)])]),e("div",ih,[ch,e("span",{class:E(["badge",f.remarks==="HIT"?"bg-success":"bg-danger"])},a(f.remarks),3)]),e("div",rh,[uh,e("span",{class:E(["badge",{"bg-danger":f.percentage_completed>=0&&f.percentage_completed<=59},{"bg-orange":f.percentage_completed>60&&f.percentage_completed<=90},{"bg-success":f.percentage_completed===100}])},a(f.percentage_completed+"%"),3)])],2)],8,Xm))),128))])]),e("div",_h,a(p.value),1)])])])])]),e("div",mh,[e("div",hh,[e("div",ph,[vh,e("div",bh,[e("div",fh,[e("div",null,[$h,M(c(Me),{modelValue:S.value,"onUpdate:modelValue":v[1]||(v[1]=f=>S.value=f)},null,8,["modelValue"])]),e("div",null,[gh,M(c(Me),{modelValue:X.value,"onUpdate:modelValue":v[2]||(v[2]=f=>X.value=f)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[yh,e("button",{onClick:L,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",kh,[e("div",xh,[e("div",wh,[Ch,e("div",Sh,[e("div",Uh,[e("div",Mh,[(t(!0),s(R,null,H(l.value,f=>(t(),s("div",{class:"col-md-4",key:f.background},[e("div",{class:"box",onClick:F=>V(f)},[e("div",{class:"column",style:Le({"background-color":f.background})},"\xA0",4),e("div",{class:"column",style:Le({"background-color":f.active_background})},"\xA0",4)],8,Dh)]))),128))])])]),Ah])])])],64))}};var Eh=pe(Vh,[["__scopeId","data-v-6e644549"]]);const Th={class:"text-center"},Fh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return re(),ce(),(u,n)=>(t(),s("tr",null,[e("td",null,a(o.item.sitename),1),e("td",null,a(c(ie)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,a(o.item.startdate),1),e("td",null,a(o.item.enddate),1),e("td",null,a(o.item.tasktype.listtask),1),e("td",null,a(o.item.status),1),e("td",Th,[e("span",{class:E(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},a(o.item.remarks),3)])]))}};var Ih=pe(Fh,[["__scopeId","data-v-f22938e0"]]);const _e=o=>($e("data-v-368dbe6c"),o=o(),ge(),o),Ph={class:"content"},Lh={class:"container-fluid"},Yh={class:"card",id:"capturePrioContainer"},Bh={class:"card-header"},Nh={class:"card-title"},Rh={class:"card-body"},qh=_e(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),jh=_e(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Hh=_e(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Oh=_e(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),zh={key:1,class:"content"},Gh={class:"container-fluid"},Qh=_e(()=>e("i",{class:"fa fa-camera"},null,-1)),Wh=[Qh],Kh={class:"dispatch-table"},Xh={class:"table-responsive"},Jh={class:"table table-bordered table-sm table-striped table-hover"},Zh=_e(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),ep={key:0},tp={key:1},sp=_e(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),ap=[sp],op=["item","index"],lp={class:"card"},np={class:"card-body"},dp={class:"list-field"},ip=_e(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),cp={class:"list-field"},rp=_e(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),up={class:"list-field"},_p=_e(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),mp={class:"list-field"},hp=_e(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),pp={class:"list-field"},vp=_e(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),bp={class:"list-field"},fp=_e(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),$p={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gp={class:"modal-dialog modal-sm",role:"document"},yp={class:"modal-content"},kp=_e(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),xp={class:"modal-body"},wp={class:"fromtocenter"},Cp=_e(()=>e("label",{for:"fromDate"},"From:",-1)),Sp=_e(()=>e("label",{for:"toDate"},"To:",-1)),Up=_e(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Mp={__name:"MyClosePrioList",setup(o){const u=i(!1);re();const n=i({data:[]}),l=i(""),d=i(""),p=ce(),x=(D=1)=>{u.value=!0,T.get(`/api/mycloseprio?page=${D}`,{params:{query:h.value}}).then(g=>{u.value=!1,n.value=g.data})},b=()=>{const D=document.getElementById("capturePrioContainer");Ye(D).then(g=>{const _=g.toDataURL(),S=document.createElement("a");S.href=_,S.download="MY CLOSED PRIO.png",S.click()})},Y=()=>{u.value=!0,T.get("/api/filter-closeprio",{params:{start_date:l.value,end_date:d.value}}).then(D=>{u.value=!1,n.value=D.data.dailyTasks}).catch(D=>{console.error(D)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},h=i(null);return me(h,Ce.exports.debounce(()=>{x()},300)),ue(()=>{x()}),(D,g)=>(t(),s(R,null,[e("div",Ph,[e("div",Lh,[e("div",Yh,[e("div",Bh,[e("div",Nh,[e("h5",null,a(c(p).user.first_name+" "+c(p).user.last_name)+" - My Closed Prio ",1)])]),e("div",Rh,[u.value?(t(),de(c(we),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[qh,jh,Hh,Oh]),_:1})):(t(),s("div",zh,[e("div",Gh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-sm btn-success"},Wh)])]),e("div",null,[e("div",Kh,[e("div",Xh,[e("table",Jh,[Zh,n.value.data.length>0?(t(),s("tbody",ep,[(t(!0),s(R,null,H(n.value.data,(_,S)=>(t(),de(Ih,{key:_.id,item:_,index:S},null,8,["item","index"]))),128))])):(t(),s("tbody",tp,ap))])])]),(t(!0),s(R,null,H(n.value.data,(_,S)=>(t(),s("div",{class:"dispatch-list first-letter:shadow",key:_.id,item:_,index:S},[e("div",lp,[e("div",np,[e("div",dp,[ip,e("span",null,a(_.sitename),1)]),e("div",cp,[rp,e("span",null,a(c(ie)(_.taskdate).format("MMMM D, YYYY")),1)]),e("div",up,[_p,e("span",null,a(_.startdate),1)]),e("div",mp,[hp,e("span",null,a(_.enddate),1)]),e("div",pp,[vp,e("span",null,a(_.tasktype.listtask),1)]),e("div",bp,[fp,e("span",{class:E(["badge",_.remarks==="HIT"?"bg-success":"bg-danger"])},a(_.remarks),3)])])])],8,op))),128))])])]))])]),M(c(De),{data:n.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",$p,[e("div",gp,[e("div",yp,[kp,e("div",xp,[e("div",wp,[e("div",null,[Cp,M(c(Me),{modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=_=>l.value=_)},null,8,["modelValue"])]),e("div",null,[Sp,M(c(Me),{modelValue:d.value,"onUpdate:modelValue":g[1]||(g[1]=_=>d.value=_)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Up,e("button",{onClick:Y,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64))}};var Dp=pe(Mp,[["__scopeId","data-v-368dbe6c"]]);const Ap=["checked"],Vp={class:"text-center"},Ep=e("i",{class:"fa fa-edit"},null,-1),Tp=[Ep],Fp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:u}){re();const n=o,l=u,d=()=>{l("toggleSelection",n.user)};return(p,x)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Ap)]),e("td",null,a(o.index+1),1),e("td",null,a(o.user.first_name+" "+o.user.last_name),1),e("td",null,a(o.user.email),1),e("td",null,a(o.user.formatted_created_at),1),e("td",Vp,[e("a",{href:"#",onClick:x[0]||(x[0]=te(b=>p.$emit("editUser",o.user),["prevent"]))},Tp)])]))}},Ip={class:"content"},Pp={class:"container-fluid"},Lp={class:"card"},Yp={class:"card-header"},Bp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Np={class:"card-tools"},Rp={class:"card-body"},qp={class:"table-responsive"},jp={class:"table table-bordered table-hover table-sm"},Hp=e("th",{style:{width:"10px"}},"#",-1),Op=e("th",null,"Name",-1),zp=e("th",null,"Email",-1),Gp=e("th",null,"Registered Date",-1),Qp=e("th",null,"Options",-1),Wp={key:0},Kp={key:1},Xp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Jp=[Xp],Zp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ev={class:"modal-dialog modal-sm",role:"document"},tv={class:"modal-content"},sv={class:"modal-header"},av={class:"modal-title",id:"staticBackdropLabel"},ov={key:0},lv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),nv={class:"modal-body"},dv={class:"table table-sm"},iv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),cv={colspan:"5"},rv={class:"custom-control custom-checkbox"},uv=["value","id","checked"],_v=["for"],mv={key:0,class:"table table-sm"},hv={class:"text-danger"},pv={class:"custom-control custom-checkbox"},vv=["value","id"],bv=["for"],fv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),$v={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gv={class:"modal-dialog",role:"document"},yv={class:"modal-content"},kv=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),xv={class:"modal-footer"},wv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Cv={__name:"UserMenuList",setup(o){const u=re(),n=i({data:[]}),l=i(!1),d=i(),p=i(null),x=i(null),b=i([]),Y=(V=1)=>{T.get(`/api/users?page=${V}`,{params:{query:g.value}}).then(y=>{n.value=y.data,_.value=[],selectAll.value=!1})},h=V=>{T.get("/api/usermenu",{params:{user_id:V.id}}).then(y=>{O.value=y.data,console.log(y.data)}).catch(y=>{console.log(y)}),l.value=!0,p.value.resetForm(),$("#userFormModal").modal("show"),d.value={id:V.id,username:V.username,email:V.email,first_name:V.first_name,last_name:V.last_name},x.value=d.value.first_name+" "+d.value.last_name},D=()=>{const V={user_id:d.value.id,menu_id:b.value};console.log(V),T.post("/api/usermenu",V).then(y=>{u.success("User Menu Save successfully!")}).catch(y=>{setErrors(y.response.data.errors)})},g=i(null),_=i([]),S=V=>{const y=_.value.indexOf(V.id);y===-1?_.value.push(V.id):_.value.splice(y,1),console.log(_.value)},X=i(null),L=V=>{X.value=V,$("#deleteUserModal").modal("show")},O=i({data:[]});return me(g,Ce.exports.debounce(()=>{Y()},300)),ue(()=>{Y()}),(V,y)=>(t(),s(R,null,[e("div",Ip,[e("div",Pp,[e("div",Lp,[e("div",Yp,[Bp,e("div",Np,[G(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=v=>g.value=v),class:"form-control",placeholder:"Search..."},null,512),[[le,g.value]])])]),e("div",Rp,[e("div",qp,[e("table",jp,[e("thead",null,[e("tr",null,[e("th",null,[G(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=v=>V.selectAll=v),onChange:y[2]||(y[2]=(...v)=>V.selectAllUsers&&V.selectAllUsers(...v))},null,544),[[xe,V.selectAll]])]),Hp,Op,zp,Gp,Qp])]),n.value.data.length>0?(t(),s("tbody",Wp,[(t(!0),s(R,null,H(n.value.data,(v,f)=>(t(),de(Fp,{key:v.id,user:v,index:f,onEditUser:h,onConfirmUserDeletion:L,onToggleSelection:S,"select-all":V.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),s("tbody",Kp,Jp))])])])]),M(c(De),{data:n.value,onPaginationChangePage:Y},null,8,["data"])])]),e("div",Zp,[e("div",ev,[e("div",tv,[e("div",sv,[e("h5",av,[l.value?(t(),s("span",ov,"User Menu for "+a(x.value),1)):A("",!0)]),lv]),M(c(be),{ref_key:"form",ref:p,onSubmit:D,"initial-values":d.value},{default:Z(()=>[e("div",nv,[e("table",dv,[iv,(t(!0),s(R,null,H(O.value,v=>(t(),s("tr",{key:v.menu_id},[e("td",cv,[e("div",rv,[G(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=f=>b.value=f),value:v.menu_id,id:"menu_id_"+v.menu_id,checked:v.hasAccess},null,8,uv),[[xe,b.value]]),e("label",{for:"menu_id_"+v.menu_id,class:"custom-control-label"},a(v.menu_title),9,_v)]),v.submenus&&v.submenus.length>0?(t(),s("table",mv,[(t(!0),s(R,null,H(v.submenus,f=>(t(),s("tr",{key:f.id},[e("td",hv,[e("div",pv,[G(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[4]||(y[4]=F=>b.value=F),value:f.menu_id,id:"menu_id_"+f.menu_id},null,8,vv),[[xe,b.value]]),e("label",{for:"menu_id_"+f.menu_id,class:"custom-control-label"},a(f.menu_title),9,bv)])])]))),128))])):A("",!0)])]))),128))])]),fv]),_:1},8,["initial-values"])])])]),e("div",$v,[e("div",gv,[e("div",yv,[kv,e("div",xv,[wv,e("button",{onClick:y[5]||(y[5]=te((...v)=>V.deleteUser&&V.deleteUser(...v),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};const Ge=o=>($e("data-v-815a1ea6"),o=o(),ge(),o),Sv=["checked"],Uv=["innerHTML"],Mv={style:{"text-align":"center"}},Dv={class:"text-center"},Av=Ge(()=>e("i",{class:"fa fa-edit"},null,-1)),Vv=[Av],Ev=Ge(()=>e("i",{class:"fa fa-trash"},null,-1)),Tv=[Ev],Fv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:u}){re(),ce();const n=o,l=u,d=()=>{l("toggleSelection",n.item)};return(p,x)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Sv)]),e("td",null,a(o.index+1),1),e("td",null,a(o.item.menu_title),1),e("td",null,a(o.item.parent_title),1),e("td",null,a(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Uv),e("td",null,a(o.item.sort_order),1),e("td",Mv,[e("i",{class:E({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,a(o.item.created_at),1),e("td",Dv,[e("button",{class:"btn btn-sm bg-primary",onClick:x[0]||(x[0]=te(b=>p.$emit("editUser",o.item),["prevent"]))},Vv),I("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:x[1]||(x[1]=te(b=>p.$emit("trash",o.item),["prevent"]))},Tv)])]))}};var Iv=pe(Fv,[["__scopeId","data-v-815a1ea6"]]);const Pv={class:"content"},Lv={class:"container-fluid"},Yv={class:"d-flex justify-content-between"},Bv={class:"d-flex"},Nv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Rv={key:0},qv=e("i",{class:"fa fa-trash mr-1"},null,-1),jv={class:"ml-2"},Hv={class:"card"},Ov={class:"card-body"},zv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Gv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Qv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Wv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Kv={class:"table-responsive"},Xv={class:"table table-bordered table-sm"},Jv=e("th",{style:{width:"10px"}},"#",-1),Zv=e("th",null,"Title",-1),e1=e("th",null,"Parent Menu",-1),t1=e("th",null,"Route",-1),s1=e("th",null,"Icon",-1),a1=e("th",null,"Sort",-1),o1=e("th",null,"Active",-1),l1=e("th",null,"Date",-1),n1=e("th",null,"Action",-1),d1={key:0},i1={key:1},c1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),r1=[c1],u1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_1={class:"modal-dialog modal-sm",role:"document"},m1={class:"modal-content"},h1={class:"modal-header"},p1={class:"modal-title",id:"staticBackdropLabel"},v1={key:0},b1={key:1},f1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),$1={class:"modal-body"},g1={class:"col-md-12"},y1={class:"row"},k1={class:"col-12"},x1={class:"form-group"},w1=e("label",{for:"user"},"Menu Title",-1),C1={class:"invalid-feedback"},S1={class:"form-group"},U1=e("label",{for:"department"},"Parent Menu",-1),M1=e("option",{value:"0"},"None",-1),D1=["value"],A1={class:"form-group"},V1=e("label",{for:"warehouse"},"Icon",-1),E1={class:"invalid-feedback"},T1={class:"form-group"},F1=e("label",{for:"user"},"Route",-1),I1={class:"invalid-feedback"},P1={class:"form-group"},L1=e("label",{for:"user"},"Sort",-1),Y1={class:"invalid-feedback"},B1={class:"form-group"},N1=e("label",{for:"is_active"},"Active",-1),R1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),q1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j1={class:"modal-dialog",role:"document"},H1={class:"modal-content"},O1=he('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),z1={class:"modal-footer"},G1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Q1={__name:"MenuList",setup(o){const u=re(),n=i({data:[]}),l=i({data:[]}),d=i(!1),p=i(!1);i();const x=i(!0),b=Ue({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),Y=ce();i(null);const h=i(),D=(B=1)=>{d.value=!0,T.get(`/api/menulist?page=${B}`,{params:{query:y.value}}).then(w=>{d.value=!1,n.value=w.data,v.value=[],Q.value=!1})},g=()=>{T.get("/api/GetParentId").then(B=>{l.value=B.data}).catch(B=>{console.error(B)})};ve({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()}),ve({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()});const _=B=>{b.is_active=B?1:0,alert(b.is_active)},S=({resetForm:B,setErrors:w})=>{T.post("/api/menulist",{menu_title:b.menu_title,parent_id:b.parent_id,menu_icon:b.menu_icon,menu_route:b.menu_route,sort_order:b.sort_order,is_active:b.is_active}).then(k=>{n.value.data.unshift(k.data),$("#FormModal").modal("hide"),B(),u.success("User created successfully!")}).catch(k=>{k.response.data.errors&&w(k.response.data.errors)})},X=()=>{p.value=!1,$("#FormModal").modal("show")},L=B=>{p.value=!0,b.menu_id=B.menu_id,b.menu_title=B.menu_title,b.parent_id=B.parent_id,b.menu_icon=B.menu_icon,b.menu_route=B.menu_route,b.sort_order=B.sort_order,b.is_active===1?x.value=!0:x.value=!1,b.is_active=B.is_active,$("#FormModal").modal("show"),h.value=B.parent_id},O=({setErrors:B})=>{T.post("/api/menulist",b).then(w=>{D(),$("#FormModal").modal("hide"),u.success("successfully Updated!")}).catch(w=>{B(w.response.data.errors),console.log(w)})},V=(B,w)=>{p.value?O(B):S(B)},y=i(null),v=i([]),f=B=>{const w=v.value.indexOf(B.id);w===-1?v.value.push(B.id):v.value.splice(w,1),console.log(v.value)},F=i(null),se=B=>{F.value=B,$("#deleteClientModal").modal("show")},z=()=>{T.delete(`menulist/${F.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Client deleted successfully!"),n.value.data=n.value.data.filter(B=>B.id!==F.value)})},W=()=>{T.delete("menulist",{data:{ids:v.value}}).then(B=>{n.value.data=n.value.data.filter(w=>!v.value.includes(w.id)),v.value=[],Q.value=!1,u.success(B.data.message)})},Q=i(!1),ae=()=>{Q.value?v.value=n.value.data.map(B=>B.id):v.value=[],console.log(v.value)};return me([x],B=>{b.is_active=B?1:0}),me(y,Ce.exports.debounce(()=>{D()},300)),ue(()=>{D(),g()}),(B,w)=>(t(),s(R,null,[e("div",Pv,[e("div",Lv,[e("div",Yv,[e("div",Bv,[e("button",{onClick:X,type:"button",class:"mb-2 btn btn-primary"},[Nv,I(" Menu ")]),v.value.length>0?(t(),s("div",Rv,[e("button",{onClick:W,type:"button",class:"ml-2 mb-2 btn btn-danger"},[qv,I(" Delete Selected ")]),e("span",jv,"Selected "+a(v.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[G(e("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=k=>y.value=k),class:"form-control",placeholder:"Search..."},null,512),[[le,y.value]])])]),e("div",Hv,[e("div",Ov,[d.value?(t(),de(c(we),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[zv,Gv,Qv,Wv]),_:1})):A("",!0),e("div",Kv,[e("table",Xv,[e("thead",null,[e("tr",null,[e("th",null,[G(e("input",{type:"checkbox","onUpdate:modelValue":w[1]||(w[1]=k=>Q.value=k),onChange:ae},null,544),[[xe,Q.value]])]),Jv,Zv,e1,t1,s1,a1,o1,l1,n1])]),n.value.data.length>0?(t(),s("tbody",d1,[(t(!0),s(R,null,H(n.value.data,(k,m)=>(t(),de(Iv,{key:k.id,item:k,index:m,onEditUser:L,onShowItem:B.viewItem,onConfirmUserDeletion:se,onToggleSelection:f,"select-all":Q.value},null,8,["item","index","onShowItem","select-all"]))),128))])):(t(),s("tbody",i1,r1))])])])]),M(c(De),{data:n.value,onPaginationChangePage:D},null,8,["data"])])]),e("div",u1,[e("div",_1,[e("div",m1,[e("div",h1,[e("h5",p1,[p.value?(t(),s("span",v1,"Edit Menu")):(t(),s("span",b1,"Add Menu"))]),f1]),M(c(be),{onSubmit:V},{default:Z(({errors:k})=>[e("div",$1,[e("div",g1,[e("div",y1,[e("div",k1,[M(c(K),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(Y).user.id,"onUpdate:modelValue":w[2]||(w[2]=m=>c(Y).user.id=m)},null,8,["modelValue"]),e("div",x1,[w1,M(c(K),{name:"menu_title",type:"text",class:E(["form-control",{"is-invalid":k.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:b.menu_title,"onUpdate:modelValue":w[3]||(w[3]=m=>b.menu_title=m)},null,8,["class","modelValue"]),e("span",C1,a(k.menu_title),1)]),e("div",S1,[U1,G(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":w[4]||(w[4]=m=>b.parent_id=m)},[M1,(t(!0),s(R,null,H(l.value,m=>(t(),s("option",{key:m.menu_id,value:m.menu_id},a(m.menu_title),9,D1))),128))],512),[[ke,b.parent_id]])]),e("div",A1,[V1,M(c(K),{name:"menu_icon",type:"text",class:E(["form-control",{"is-invalid":k.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:b.menu_icon,"onUpdate:modelValue":w[5]||(w[5]=m=>b.menu_icon=m)},null,8,["class","modelValue"]),e("span",E1,a(k.menu_icon),1)]),e("div",T1,[F1,M(c(K),{name:"menu_route",type:"text",class:E(["form-control",{"is-invalid":k.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:b.menu_route,"onUpdate:modelValue":w[6]||(w[6]=m=>b.menu_route=m)},null,8,["class","modelValue"]),e("span",I1,a(k.menu_route),1)]),e("div",P1,[L1,M(c(K),{name:"sort_order",type:"text",class:E(["form-control",{"is-invalid":k.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:b.sort_order,"onUpdate:modelValue":w[7]||(w[7]=m=>b.sort_order=m)},null,8,["class","modelValue"]),e("span",Y1,a(k.sort_order),1)]),e("div",B1,[N1,G(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":w[8]||(w[8]=m=>x.value=m),onChange:_},null,544),[[xe,x.value]])])])])])]),R1]),_:1})])])]),e("div",q1,[e("div",j1,[e("div",H1,[O1,e("div",z1,[G1,e("button",{onClick:te(z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}},W1={class:"error-page"},K1=he('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),X1=[K1],J1="Page Not Found",Qe={__name:"404",setup(o){return ue(()=>{document.title=J1}),(u,n)=>(t(),s("div",W1,X1))}};const J=o=>($e("data-v-18d1690e"),o=o(),ge(),o),Z1={id:"exportPDF"},eb={class:"container"},tb=J(()=>e("br",null,null,-1)),sb={class:"header"},ab=["src"],ob=["src"],lb={class:"header"},nb={class:"header-justify-space-between"},db=J(()=>e("br",null,null,-1)),ib=J(()=>e("p",null,null,-1)),cb={key:0},rb=J(()=>e("strong",null,null,-1)),ub=J(()=>e("br",null,null,-1)),_b=J(()=>e("br",null,null,-1)),mb=J(()=>e("p",null,null,-1)),hb=J(()=>e("strong",null,"Unit details",-1)),pb={class:"content"},vb={class:"header-justify-space-between"},bb=J(()=>e("span",null,"Brand:",-1)),fb=J(()=>e("br",null,null,-1)),$b=J(()=>e("span",null,"Model:",-1)),gb=J(()=>e("br",null,null,-1)),yb=J(()=>e("div",null,null,-1)),kb=J(()=>e("span",null,"Serial #:",-1)),xb=J(()=>e("br",null,null,-1)),wb=J(()=>e("span",null,"Asset Tag:",-1)),Cb=J(()=>e("br",null,null,-1)),Sb=J(()=>e("div",null,null,-1)),Ub=J(()=>e("strong",null,"Reported problem",-1)),Mb={class:"content"},Db=J(()=>e("strong",null,"Assessment conducted",-1)),Ab={class:"content"},Vb=J(()=>e("strong",null,"Recommendation",-1)),Eb={class:"content"},Tb={class:"header-justify-space-between"},Fb=J(()=>e("strong",null,"Evaluated by:",-1)),Ib=J(()=>e("br",null,null,-1)),Pb={class:"botoom-line"},Lb=J(()=>e("br",null,null,-1)),Yb=J(()=>e("p",null,null,-1)),Bb=J(()=>e("strong",null,"Noted by:",-1)),Nb=J(()=>e("br",null,null,-1)),Rb={class:"botoom-line"},qb=J(()=>e("br",null,null,-1)),jb=J(()=>e("br",null,null,-1)),Hb=J(()=>e("p",null,null,-1)),Ob={key:0},zb={key:1},Gb={key:0,class:"fab-container"},Qb=J(()=>e("i",{class:"fas fa-download"},null,-1)),Wb=[Qb],Kb={__name:"TechRecommApprove",setup(o){const u=`${Ie().params.id}`,n=()=>{const p=document.getElementById("exportPDF");ze().from(p).save(`${u}.pdf`)},l=Ue({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),d=()=>{T.get(`/api/tech-recommendations/${Ie().params.id}`).then(p=>{l.id=p.data.id,l.recommnum=p.data.recommnum,l.branch=p.data.branch,l.company=p.data.company,l.department=p.data.department,l.warehouse=p.data.warehouse,l.user=p.data.user,l.problem=p.data.problem,l.brand=p.data.brand,l.model=p.data.model,l.assettag=p.data.assettag,l.serialnum=p.data.serialnum,l.status=p.data.status,l.assconducted=p.data.assconducted,l.recommendation=p.data.recommendation,l.createdby=p.data.createdby.cfull_name,l.updatedby=p.data.updatedby.ufull_name,l.created_at=ie(p.data.created_at).format("MMMM D, YYYY"),l.updated_at=ie(p.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=p.data.createdby.cposition,l.updated_position=p.data.updatedby.uposition}).catch(p=>{actions.setErrors(p.response.data.errors)})};return ue(()=>{d(),document.title=u}),(p,x)=>(t(),s(R,null,[e("div",Z1,[e("div",eb,[tb,e("div",sb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,ab),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,ob)]),e("div",lb,[e("span",null,[I("Recommendation No: "),e("strong",null,a(l.recommnum),1)]),e("span",null,[I("Date Checked: "),e("strong",null,a(l.created_at),1)])]),e("div",nb,[e("div",null,[e("span",null,[I("Company: "),e("strong",null,a(l.company),1)]),db,e("span",null,[I("Branch: "),e("strong",null,a(l.branch),1)])]),ib,e("div",null,[l.warehouse==""?(t(),s("span",cb,[I("Warehouse: "),rb,I(a(l.warehouse),1)])):A("",!0),ub,e("span",null,[I("User: "),e("strong",null,a(l.user),1)]),_b,e("span",null,[I("Department: "),e("strong",null,a(l.department),1)])]),mb]),hb,e("div",pb,[e("div",vb,[e("div",null,[bb,e("strong",null,a(l.brand),1),fb,$b,e("strong",null,a(l.model),1),gb]),yb,e("div",null,[kb,e("strong",null,a(l.serialnum),1),xb,wb,e("strong",null,a(l.assettag),1),Cb]),Sb])]),Ub,e("div",Mb,[e("p",null,a(l.problem),1)]),Db,e("div",Ab,[e("p",null,a(l.assconducted),1)]),Vb,e("div",Eb,[e("p",null,a(l.recommendation),1)]),e("div",Tb,[e("div",null,[Fb,Ib,e("span",Pb,a(l.createdby),1),Lb,e("span",null,a(l.created_position),1)]),Yb,e("div",null,[Bb,Nb,e("span",Rb,a(l.updatedby),1),qb,e("span",null,a(l.updated_position),1),jb]),Hb]),l.status===2?(t(),s("span",Ob,"Approved date:("+a(l.updated_at)+")",1)):(t(),s("span",zb,"Pending"))])]),l.status===2?(t(),s("div",Gb,[e("div",{class:"button iconbutton bg-success",onClick:x[0]||(x[0]=b=>n())},Wb)])):A("",!0)],64))}};var We=pe(Kb,[["__scopeId","data-v-18d1690e"]]);const Xb={},Jb={class:"card mx-auto",style:{"max-width":"600px"}},Zb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),ef={class:"card-body"},tf={class:"list-unstyled"};function sf(o,u){return t(),s("div",Jb,[Zb,e("div",ef,[e("ul",tf,[e("li",{class:"nav-item dropdown",onClick:u[0]||(u[0]=(...n)=>o.fetchNotifications&&o.fetchNotifications(...n))})])])])}var af=pe(Xb,[["render",sf]]),of=[{path:"/login",name:"admin.login",component:Fn},{path:"/admin/dashboard",name:"Dashboard",component:St},{path:"/admin/appointments",name:"Appointments",component:Gt},{path:"/admin/appointments/create",name:"Appointments",component:je},{path:"/admin/appointments/:id/edit",name:"Appointments",component:je},{path:"/admin/user",name:"User",component:Ao},{path:"/admin/settings",name:"Setting",component:kl},{path:"/admin/profile",name:"Profile",component:vn},{path:"/admin/client",name:"Client",component:Ed},{path:"/admin/tech-recommendation",name:"Tech Recomm",component:Xc},{path:"/admin/weekly-task-schedule/myprio",name:"My Prio",component:Z_},{path:"/admin/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Dp},{path:"/admin/weekly-task-schedule/myvsc",name:"My VSC",component:Eh},{path:"/admin/usermenu",name:"User Menu",component:Cv},{path:"/admin/menu",name:"Menu",component:Q1},{path:"/:catchAll(.*)",name:"404 Error Page",component:Qe},{path:"/admin/notifications",name:"Notifications",component:af},{path:"/admin/tech-approved/:id/view",name:"Tech-Approved",component:We}];const lf={class:"navbar-nav"},nf=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),df={class:"nav-item d-none d-sm-inline-block"},cf={class:"navbar-nav ml-auto"},rf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),uf=he('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),_f={class:"nav-link","data-toggle":"dropdown",href:"#"},mf=e("i",{class:"far fa-bell"},null,-1),hf={class:"badge badge-warning navbar-badge"},pf={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},vf={class:"dropdown-header"},bf=e("div",{class:"dropdown-divider"},null,-1),ff=e("i",{class:"fas fa-envelope mr-2"},null,-1),$f={class:"float-right text-muted text-sm"},gf={key:1,class:"text-center text-muted py-3"},yf=e("div",{class:"dropdown-divider"},null,-1),kf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),xf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),wf={__name:"AppNavbar",setup(o){const u=Ae(),n=i([]),l=()=>{T.get("/api/notifications").then(d=>{n.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return ue(()=>{l()}),(d,p)=>{const x=Se("router-link");return t(),s("nav",{class:E(["main-header navbar navbar-expand",c(u).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",lf,[nf,e("li",df,[e("a",{onClick:p[0]||(p[0]=te((...b)=>c(u).changeTheme&&c(u).changeTheme(...b),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:E(["far",c(u).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",cf,[rf,uf,e("li",{class:"nav-item dropdown",onClick:l},[e("a",_f,[mf,e("span",hf,a(n.value.length),1)]),e("div",pf,[e("span",vf,a(n.value.length)+" Notifications",1),bf,n.value.length>0?(t(!0),s(R,{key:0},H(n.value,b=>(t(),s("a",{key:b.id,href:"#",class:"dropdown-item"},[ff,I(" "+a(b.data?b.data:"No message available")+" ",1),e("span",$f,a(c(ie)(b.created_at)),1)]))),128)):(t(),s("p",gf,"No new notifications")),yf,M(x,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[I("See All Notifications")]),_:1})])]),kf,xf])],2)}}},Cf={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},Sf={href:"#",class:"brand-link"},Uf=["src"],Mf={class:"brand-text font-weight-light"},Df={class:"sidebar"},Af={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Vf={key:0,class:"image"},Ef=["src"],Tf={key:1,class:"image"},Ff=["src"],If=["src"],Pf={class:"info"},Lf={href:"#",class:"d-block"},Yf={class:"mt-2"},Bf={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},Nf={key:0,class:"right fas fa-angle-left"},Rf={key:0,class:"nav nav-treeview"},qf={class:"nav-item"},jf={class:"nav-link"},Hf=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),Of=e("p",null,"Logout",-1),zf=[Hf,Of],Gf={__name:"SidebarLeft",setup(o){const u=Be(),n=ce(),l=Ae(),d=i({data:[]}),p=()=>{axios.get("/api/menu").then(Y=>{d.value=Y.data}).catch(Y=>{console.log(Y)})},x=Y=>Y===u.currentRoute.value.path,b=()=>{axios.post("/logout").then(Y=>{n.user.name="",u.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),p()}),(Y,h)=>{const D=Se("router-link");return t(),s("aside",Cf,[e("a",Sf,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Uf),e("span",Mf,a(c(l).setting.app_name),1)]),e("div",Df,[e("div",Af,[c(n).user.avatar===""?(t(),s("div",Vf,[e("img",{src:c(n).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Ef)])):c(n).user.avatar!==""?(t(),s("div",Tf,[c(n).user.gender==="Male"?(t(),s("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Ff)):c(n).user.gender==="Female"?(t(),s("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,If)):A("",!0)])):A("",!0),e("div",Pf,[e("a",Lf,a(c(n).user.name),1)])]),e("nav",Yf,[e("ul",Bf,[(t(!0),s(R,null,H(d.value,g=>(t(),s("li",{key:g.id,class:E({"nav-item":!0,"has-submenu":g.submenus&&g.submenus.length>0})},[M(D,{class:E({"nav-link":!0,active:x(g.menu_route)}),to:`${g.menu_route}`},{default:Z(()=>[e("i",{class:E("nav-icon "+g.menu_icon)},null,2),e("p",null,a(g.menu_title),1),g.submenus&&g.submenus.length>0?(t(),s("i",Nf)):A("",!0)]),_:2},1032,["class","to"]),g.submenus&&g.submenus.length>0?(t(),s("ul",Rf,[(t(!0),s(R,null,H(g.submenus,_=>(t(),s("li",{key:_.id,class:"nav-item"},[M(D,{class:E({"nav-link":!0,active:x(_.menu_route)}),to:_.menu_route},{default:Z(()=>[e("i",{class:E("nav-icon "+_.menu_icon)},null,2),e("p",null,a(_.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):A("",!0)],2))),128)),e("li",qf,[e("form",jf,[e("a",{href:"#",onClick:te(b,["prevent"])},zf)])])])])])])}}},Qf={},Wf={class:"control-sidebar control-sidebar-dark"},Kf=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),Xf=[Kf];function Jf(o,u){return t(),s("aside",Wf,Xf)}var Zf=pe(Qf,[["render",Jf]]);const e$={class:"main-footer"},t$={class:"float-right d-none d-sm-block"},s$={href:"#"},a$={__name:"AppFooter",props:{settings:Object},setup(o){const u=ce(),n=i(new Date().getFullYear());return(l,d)=>{var p;return t(),s("footer",e$,[e("div",t$,a(c(u).user.name),1),e("strong",null,[I("Copyright \xA9 "+a(n.value)+" ",1),e("a",s$,a((p=o.settings)==null?void 0:p.app_name),1),I(".")]),I(" All rights reserved. ")])}}};const o$=o=>($e("data-v-36653638"),o=o(),ge(),o),l$={class:"content-wrapper"},n$={class:"content-header"},d$={class:"container-fluid"},i$={class:"row mb-2"},c$={class:"col-sm-6"},r$={class:"m-0"},u$={class:"col-sm-6"},_$={class:"breadcrumb float-sm-right"},m$=o$(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),h$={class:"breadcrumb-item active"},p$={__name:"CustomMainLayout",setup(o){const u=ce(),n=Ae(),l=fe(()=>n.theme==="dark"?"dark-mode":"");return(d,p)=>{const x=Se("router-view");return c(u).user.name!==""?(t(),s("div",{key:0,class:E(["wrapper",l.value])},[M(wf),M(Gf),M(Zf),e("div",l$,[e("section",n$,[e("div",d$,[e("div",i$,[e("div",c$,[e("h1",r$,a(d.$route.name),1)]),e("div",u$,[e("ol",_$,[m$,e("li",h$,a(d.$route.name),1)])])])])]),M(x)]),M(a$)],2)):(t(),s("div",{key:1,class:E(["login-page slibg",l.value])},[M(x)],2))}}};var v$=pe(p$,[["__scopeId","data-v-36653638"]]);const b$={__name:"App",setup(o){ce();const u=Ie(),n=fe(()=>u.name==="Tech-Approved"),l=fe(()=>u.name==="404 Error Page");return(d,p)=>(t(),s("div",null,[!l.value&&!n.value?(t(),de(v$,{key:0})):n.value?(t(),de(We,{key:1})):(t(),de(Qe,{key:2}))]))}};var f$=pe(b$,[["__scopeId","data-v-252b567e"]]);const $$=lt(),Ve=ct(f$),Ke=nt({routes:of,history:dt()});Ke.beforeEach(async(o,u)=>{const n=ce();if(n.user.name===""&&o.name!=="admin.login"){const l=Ae();await Promise.all([n.getAuthUser(),l.getSetting()])}});Ve.use($$);Ve.use(Ke);Ve.use($t);Ve.use(ze);Ve.mount("#app");
