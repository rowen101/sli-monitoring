import{_ as ct,l as Ee}from"./lodash.d4ecb7e7.js";import{a as F}from"./axios.82d3905a.js";import{a as rt}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as tt,c as ut}from"./pinia.210ccde5.js";import{u as be,a as Ke,c as _t,b as mt}from"./vue-router.abad5649.js";import{r as c,o as ue,i as a,k as e,x as t,_ as g,u as r,e as s,I as Se,h as X,j as U,F as O,q as K,d as $e,a0 as ee,v as q,C as Ve,a2 as J,a3 as re,aa as Te,p as L,w as ve,ab as we,f as ce,B as Xe,a5 as De,a6 as Ue,ac as st,ad as Me,a1 as Qe,ae as pt}from"./@vue.04713aa0.js";import{B as ht}from"./vue-chartjs.50c6886f.js";import{C as vt,p as bt,a as ft,b as $t,c as gt,d as yt,L as kt}from"./chart.js.562acd0f.js";import{S as Ze}from"./sweetalert2.c578665c.js";import{t as He}from"./toastr.c863df60.js";import{F as Ce,a as R}from"./vee-validate.1443789f.js";import{f as at}from"./flatpickr.181c7977.js";import{c as ke,a as I}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as he}from"./moment.40bc58bf.js";import{a as Pe}from"./laravel-vue-pagination.475a8c82.js";import{C as wt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Fe}from"./vue3-datepicker.da50a26b.js";import je from"./html2canvas.4d0ab5af.js";import{h as ot}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{V as Ct}from"./vue-sweetalert2.891f877f.js";import{d as St}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=ct;window.axios=F;window.$=window.jQuery=rt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=tt("AuthUserStore",()=>{const o=c({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await F.get("/api/profile").then(_=>{o.value=_.data})}}}),Dt={class:"content"},Ut={class:"container-fluid"},Vt={class:"card"},Mt={class:"card-header"},At={class:"card-body"},Et=e("div",{class:"row"},null,-1),Tt={__name:"Dashboard",setup(o){vt.register(bt,ft,$t,gt,yt,kt);const w=`${be().name}`;_e(),c("all"),c(0);const _=c(new Date().getFullYear()),d=c({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),i=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},u=c("today"),p=c(0),D=()=>{axios.get("/api/stats/users",{params:{date_range:u.value}}).then(l=>{p.value=l.data.totalUsersCount})};return ue(()=>{i(),D(),document.title=w}),(l,M)=>(s(),a("div",Dt,[e("div",Ut,[e("div",Vt,[e("div",Mt," Yearly Progress - "+t(_.value),1),e("div",At,[g(r(ht),{data:d.value},null,8,["data"])])]),Et])]))}},Ft={class:"content"},Lt={class:"container-fluid"},Pt={class:"row"},It={class:"col-lg-12"},qt={class:"d-flex justify-content-between mb-2"},Yt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),q(" Add New Appointment")],-1),Nt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Rt={class:"badge badge-pill badge-info"},Ht=["onClick"],jt={class:"mr-1"},Ot={class:"card"},zt={class:"card-body"},Gt={class:"table table-bordered"},Wt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Kt=e("i",{class:"fa fa-edit mr-2"},null,-1),Xt=["onClick"],Jt=e("i",{class:"fa fa-trash text-danger"},null,-1),Zt=[Jt],es={__name:"ListAppointments",setup(o){const w=c(),_=c([]),d=()=>{F.get("/api/appointment-status").then(M=>{_.value=M.data})},i=c([]),u=M=>{w.value=M;const v={};M&&(v.status=M),F.get("/api/appointments",{params:v}).then(C=>{i.value=C.data,console.log(C)})},p=Se(()=>_.value.map(M=>M.count).reduce((M,v)=>M+v,0)),D=M=>{const v=i.value.data.find(n=>n.id===M).status.name,C=_.value.find(n=>n.name===v);C.count--},l=M=>{Ze.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&F.delete(`/api/appointments/${M}`).then(C=>{D(M),i.value.data=i.value.data.filter(n=>n.id!==M),Ze.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{u(),d()}),(M,v)=>{const C=$e("router-link");return s(),a("div",Ft,[e("div",Lt,[e("div",Pt,[e("div",It,[e("div",qt,[e("div",null,[g(C,{to:"/admin/appointments/create"},{default:X(()=>[Yt]),_:1})]),e("div",Nt,[e("button",{onClick:v[0]||(v[0]=n=>u()),type:"button",class:U(["btn",[typeof w.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Rt,t(p.value),1)],2),(s(!0),a(O,null,K(_.value,n=>(s(),a("button",{key:n.id,onClick:x=>u(n.value),type:"button",class:U(["btn",[w.value===n.value?"btn-secondary":"btn-default"]])},[e("span",jt,t(n.name),1),e("span",{class:U(["badge badge-pill",`badge-${n.color}`])},t(n.count),3)],10,Ht))),128))])]),e("div",Ot,[e("div",zt,[e("table",Gt,[Wt,e("tbody",null,[(s(!0),a(O,null,K(i.value.data,(n,x)=>(s(),a("tr",{key:n.id},[e("td",null,t(x+1),1),e("td",null,t(n.client.first_name)+" "+t(n.client.last_name),1),e("td",null,t(n.start_time),1),e("td",null,t(n.end_time),1),Qt,e("td",null,[g(C,{to:`/admin/appointments/${n.id}/edit`},{default:X(()=>[Kt]),_:2},1032,["to"]),e("a",{href:"#",onClick:ee(N=>l(n.id),["prevent"])},Zt,8,Xt)])]))),128))])])])])])])])])}}};function me(){return He.options.positionClass="toast-top-right",He.options.closeButton=!0,He.options.progressBar=!0,He}const ts={class:"content-header"},ss={class:"container-fluid"},as={class:"row mb-2"},os={class:"col-sm-6"},ls={class:"m-0"},ns={key:0},ds={key:1},is={class:"col-sm-6"},cs={class:"breadcrumb float-sm-right"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item"},_s={class:"breadcrumb-item active"},ms={key:0},ps={key:1},hs={class:"content"},vs={class:"container-fluid"},bs={class:"row"},fs={class:"col-lg-12"},$s={class:"card"},gs={class:"card-body"},ys={class:"row"},ks={class:"col-md-6"},ws={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),Cs={class:"invalid-feedback"},Ss={class:"col-md-6"},Ds={class:"form-group"},Us=e("label",{for:"client"},"Client Name",-1),Vs=["value"],Ms={class:"invalid-feedback"},As={class:"row"},Es={class:"col-md-6"},Ts={class:"form-group"},Fs=e("label",{for:"start-time"},"Start Time",-1),Ls={class:"invalid-feedback"},Ps={class:"col-md-6"},Is={class:"form-group"},qs=e("label",{for:"end-time"},"End Time",-1),Ys={class:"invalid-feedback"},Ns={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Rs={class:"invalid-feedback"},Hs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),et={__name:"AppointmentForm",setup(o){const w=Ke(),_=be(),d=me(),i=Ve({title:"",client_id:"",start_time:"",end_time:"",description:""}),u=(n,x)=>{C.value?D(n,x):p(n,x)},p=(n,x)=>{F.post("/api/appointments/create",i).then(N=>{w.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(N=>{x.setErrors(N.response.data.errors)})},D=(n,x)=>{F.put(`/api/appointments/${_.params.id}/edit`,i).then(N=>{w.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(N=>{x.setErrors(N.response.data.errors)})},l=c(),M=()=>{F.get("/api/view-clients").then(n=>{l.value=n.data})},v=()=>{F.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{i.title=n.title,i.client_id=n.client_id,i.start_time=n.formatted_start_time,i.end_time=n.formatted_end_time,i.description=n.description})},C=c(!1);return ue(()=>{_.name==="admin.appointments.edit"&&(C.value=!0,v()),at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),M()}),(n,x)=>{const N=$e("router-link");return s(),a(O,null,[e("div",ts,[e("div",ss,[e("div",as,[e("div",os,[e("h1",ls,[C.value?(s(),a("span",ns,"Edit")):(s(),a("span",ds,"Create")),q(" Appointment")])]),e("div",is,[e("ol",cs,[e("li",rs,[g(N,{to:"/admin/dashboard"},{default:X(()=>[q("Home")]),_:1})]),e("li",us,[g(N,{to:"/admin/appointments"},{default:X(()=>[q("Appointments")]),_:1})]),e("li",_s,[C.value?(s(),a("span",ms,"Edit")):(s(),a("span",ps,"Create"))])])])])])]),e("div",hs,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[e("div",gs,[g(r(Ce),{onSubmit:u},{default:X(({errors:W})=>[e("div",ys,[e("div",ks,[e("div",ws,[xs,J(e("input",{"onUpdate:modelValue":x[0]||(x[0]=Z=>i.title=Z),type:"text",class:U(["form-control",{"is-invalid":W.title}]),id:"title",placeholder:"Enter Title"},null,2),[[re,i.title]]),e("span",Cs,t(W.title),1)])]),e("div",Ss,[e("div",Ds,[Us,J(e("select",{"onUpdate:modelValue":x[1]||(x[1]=Z=>i.client_id=Z),id:"client",class:U(["form-control",{"is-invalid":W.client_id}])},[(s(!0),a(O,null,K(l.value,Z=>(s(),a("option",{value:Z.id,key:Z.id},t(Z.first_name)+" "+t(Z.last_name),9,Vs))),128))],2),[[Te,i.client_id]]),e("span",Ms,t(W.client_id),1)])])]),e("div",As,[e("div",Es,[e("div",Ts,[Fs,J(e("input",{"onUpdate:modelValue":x[2]||(x[2]=Z=>i.start_time=Z),type:"text",class:U(["form-control flatpickr",{"is-invalid":W.start_time}]),id:"start-time"},null,2),[[re,i.start_time]]),e("span",Ls,t(W.start_time),1)])]),e("div",Ps,[e("div",Is,[qs,J(e("input",{"onUpdate:modelValue":x[3]||(x[3]=Z=>i.end_time=Z),type:"text",class:U(["form-control flatpickr",{"is-invalid":W.end_time}]),id:"end-time"},null,2),[[re,i.end_time]]),e("span",Ys,t(W.end_time),1)])])]),e("div",Ns,[Bs,J(e("textarea",{"onUpdate:modelValue":x[4]||(x[4]=Z=>i.description=Z),class:U(["form-control",{"is-invalid":W.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[re,i.description]]),e("span",Rs,t(W.description),1)]),Hs]),_:1})])])])])])])],64)}}},js=["checked"],Os=["value","selected"],zs=["value","selected"],Gs=e("i",{class:"fa fa-edit"},null,-1),Ws=[Gs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ks=[Qs],Xs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:w}){const _=me(),d=o,i=w,u=c([{name:"ADMIN",value:1},{name:"USER",value:2}]),p=c([]),D=()=>{F.get("/api/users/userlist").then(C=>{p.value=C.data}).catch(C=>{console.log(C)})},l=(C,n)=>{F.patch(`/api/users/${C.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},M=(C,n)=>{F.patch(`/api/users/${C.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},v=()=>{i("toggleSelection",d.user)};return ue(()=>{D()}),(C,n)=>(s(),a("tr",null,[e("td",null,[o.user.name!="admin"?(s(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:v},null,40,js)):L("",!0)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=x=>l(o.user,x.target.value))},[(s(!0),a(O,null,K(u.value,x=>(s(),a("option",{key:x.id,value:x.value,selected:o.user.role===x.name},t(x.name),9,Os))),128))],32)]),e("td",null,[o.user.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=x=>M(o.user,x.target.value))},[(s(!0),a(O,null,K(p.value,x=>(s(),a("option",{key:x.id,value:x.id,selected:o.user.sitehead_user_id===x.id},t(x.first_name+" "+x.last_name),9,zs))),128))],32)):L("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=ee(x=>C.$emit("editUser",o.user),["prevent"]))},Ws),o.user.id!=1?(s(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=ee(x=>C.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ks)):L("",!0)])]))}},Js={class:"content"},Zs={class:"container-fluid"},ea={class:"d-flex justify-content-between mb-2"},ta={class:"d-flex"},sa=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),aa={key:0},oa=e("i",{class:"fa fa-trash mr-1"},null,-1),la={class:"ml-2"},na={class:"card"},da={class:"card-body"},ia={class:"dispatch-table"},ca={class:"table-responsive"},ra={class:"table table-bordered table-hover table-sm"},ua=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),_a={key:0},ma={key:1},pa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[pa],va=["index"],ba={class:"card"},fa={class:"card-body"},$a={class:"list-field"},ga=e("span",{class:"mb-1 dis"},"Name:",-1),ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Email:",-1),wa={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ca={class:"list-field"},Sa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Da=["onChange"],Ua=["value","selected"],Va=e("hr",null,null,-1),Ma={class:"row"},Aa={key:0,class:"col"},Ea=["onClick"],Ta=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fa=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),Pa=[La],Ia={key:1,class:"col"},qa=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Ra={class:"modal-content"},Ha={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Oa={key:0},za={key:1},Ga=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wa={class:"modal-body"},Qa={class:"form-group"},Ka=e("label",{for:"name"},"Username",-1),Xa={class:"invalid-feedback"},Ja={class:"d-flex justify-content-between"},Za={class:"d-flex"},eo={class:"form-group"},to=e("label",{for:"email"},"Email",-1),so={class:"invalid-feedback"},ao={class:"d-flex"},oo={class:"form-group"},lo=e("label",{for:"siteDropdown"},"Gender",-1),no=e("option",{value:"",disabled:""}," Select a gender ",-1),io=["value"],co={class:"d-flex justify-content-between"},ro={class:"d-flex"},uo={class:"form-group"},_o=e("label",{for:"first_name"},"Fist Name",-1),mo={class:"invalid-feedback"},po={class:"d-flex"},ho={class:"form-group"},vo=e("label",{for:"last_name"},"Last Name",-1),bo={class:"invalid-feedback"},fo={class:"form-group"},$o=e("label",{for:"position"},"Position",-1),go={class:"invalid-feedback"},yo={class:"form-group"},ko=e("label",{for:"password"},"Password",-1),wo={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Co={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},So={class:"modal-dialog",role:"document"},Do={class:"modal-content"},Uo=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ao={__name:"UserList",setup(o){const w=`${be().name}`,_=_e(),d=me(),i=c({data:[]}),u=c(!1),p=c(),D=c(null);c([]),c(null);const l=c([{name:"Male",value:1},{name:"Female",value:2}]),M=(P=1)=>{F.get(`/api/users?page=${P}`,{params:{query:Y.value}}).then(S=>{i.value=S.data,m.value=[],z.value=!1})},v=ke({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().required().min(8),gender:I().required()}),C=ke({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().when((P,S)=>P?S.required().min(8):S),gender:I().required()}),n=c([]),x=()=>{F.get("/api/users/userlist").then(P=>{n.value=P.data}).catch(P=>{console.log(P)})},N=(P,S)=>{F.patch(`/api/users/${P.id}/change-sitehead`,{sitehead_user_id:S}).then(()=>{d.success("Sitehead changed successfully!")})},W=(P,{resetForm:S,setErrors:b})=>{F.post("/api/users",P).then(k=>{i.value.data.unshift(k.data),$("#userFormModal").modal("hide"),S(),d.success("User created successfully!")}).catch(k=>{k.response.data.errors&&(b(k.response.data.errors),d.warning(k.response.data.errors.name))})},Z=()=>{u.value=!1,$("#userFormModal").modal("show")},de=P=>{u.value=!0,D.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:P.id,name:P.name,email:P.email,sitehead_user_id:P.sitehead_user_id,first_name:P.first_name,last_name:P.last_name,gender:P.gender}},B=(P,{setErrors:S})=>{F.put("/api/users/"+p.value.id,P).then(b=>{const k=i.value.data.findIndex(ne=>ne.id===b.data.id);i.value.data[k]=b.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},A=(P,S)=>{u.value?B(P,S):W(P,S)},Y=c(null),m=c([]),y=P=>{const S=m.value.indexOf(P.id);S===-1?m.value.push(P.id):m.value.splice(S,1),console.log(m.value)},G=c(null),Q=P=>{G.value=P,$("#deleteUserModal").modal("show")},te=()=>{F.delete(`/api/users/${G.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),i.value.data=i.value.data.filter(P=>P.id!==G.value)})},ie=()=>{F.delete("/api/users",{data:{ids:m.value}}).then(P=>{i.value.data=i.value.data.filter(S=>!m.value.includes(S.id)),m.value=[],z.value=!1,d.success(P.data.message)})},z=c(!1);return ve(Y,Ee.exports.debounce(()=>{M()},300)),ue(()=>{M(),x(),document.title=w}),(P,S)=>{const b=$e("font");return s(),a(O,null,[e("div",Js,[e("div",Zs,[e("div",ea,[e("div",ta,[e("button",{onClick:Z,type:"button",class:"mb-2 btn btn-primary btn-sm"},[sa,q(" User ")]),m.value.length>0?(s(),a("div",aa,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[oa,q(" Delete Selected ")]),e("span",la,"Selected "+t(m.value.length)+" users",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=k=>Y.value=k),class:"form-control",placeholder:"Search..."},null,512),[[re,Y.value]])])]),e("div",na,[e("div",da,[e("div",ia,[e("div",ca,[g(b,{size:"2"},{default:X(()=>[e("table",ra,[ua,i.value.data.length>0?(s(),a("tbody",_a,[(s(!0),a(O,null,K(i.value.data,(k,ne)=>(s(),ce(Xs,{key:k.id,user:k,index:ne,onEditUser:de,onConfirmUserDeletion:Q,onToggleSelection:y,"select-all":z.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",ma,ha))])]),_:1})])]),(s(!0),a(O,null,K(i.value.data,(k,ne)=>(s(),a("div",{class:"dispatch-list",key:k.id,index:ne},[e("div",ba,[e("div",fa,[e("div",$a,[ga,e("span",null,t(k.first_name+" "+k.last_name),1)]),e("div",ya,[ka,e("span",null,t(k.email),1)]),e("div",wa,[xa,e("span",null,t(k.formatted_created_at),1)]),e("div",Ca,[Sa,e("span",null,[k.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:oe=>N(k,oe.target.value)},[(s(!0),a(O,null,K(n.value,oe=>(s(),a("option",{key:oe.id,value:oe.id,selected:oe.sitehead_user_id===oe.id},t(oe.first_name+" "+oe.last_name),9,Ua))),128))],40,Da)):L("",!0)])]),Va,e("div",Ma,[r(_).user.role==="ADMIN"?(s(),a("div",Aa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>de(k)},[Ta,q(" Edit ")],8,Ea),e("button",{class:"btn btnsm btn-danger btn-block",onClick:oe=>Q(k.id)},Pa,8,Fa)])):L("",!0),r(_).user.role==="USER"?(s(),a("div",Ia,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>de(k)},[Ya,q(" Edit ")],8,qa)])):L("",!0)])])])],8,va))),128))])]),g(r(Pe),{data:i.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",Na,[e("div",Ba,[e("div",Ra,[e("div",Ha,[e("h5",ja,[u.value?(s(),a("span",Oa,"Edit User")):(s(),a("span",za,"Add New User"))]),Ga]),g(r(Ce),{ref_key:"form",ref:D,onSubmit:A,"validation-schema":u.value?r(C):r(v),"initial-values":p.value},{default:X(({errors:k})=>[e("div",Wa,[e("div",Qa,[Ka,g(r(R),{name:"name",type:"text",class:U(["form-control",{"is-invalid":k.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Xa,t(k.name),1)]),e("div",Ja,[e("div",Za,[e("div",eo,[to,g(r(R),{name:"email",type:"email",class:U(["form-control",{"is-invalid":k.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",so,t(k.email),1)])]),e("div",ao,[e("div",oo,[lo,g(r(R),{id:"gender",name:"gender",as:"select",class:U(["form-control",{"is-invalid":k.gender}])},{default:X(()=>[no,(s(!0),a(O,null,K(l.value,ne=>(s(),a("option",{key:ne.name,value:ne.name},t(ne.name),9,io))),128))]),_:2},1032,["class"])])])]),e("div",co,[e("div",ro,[e("div",uo,[_o,g(r(R),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":k.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",mo,t(k.first_name),1)])]),e("div",po,[e("div",ho,[vo,g(r(R),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":k.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",bo,t(k.last_name),1)])])]),e("div",fo,[$o,g(r(R),{name:"position",type:"text",class:U(["form-control",{"is-invalid":k.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",go,t(k.position),1)]),e("div",yo,[ko,g(r(R),{name:"password",type:"password",class:U(["form-control",{"is-invalid":k.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",wo,t(k.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Co,[e("div",So,[e("div",Do,[Uo,e("div",Vo,[Mo,e("button",{onClick:ee(te,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Eo=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Fo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Lo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ae={__name:"ContentLoader",setup(o){return(w,_)=>w.isloading?(s(),ce(r(wt),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[Eo,To,Fo,Lo]),_:1})):L("",!0)}};var ge=(o,w)=>{const _=o.__vccOpts||o;for(const[d,i]of w)_[d]=i;return _};const Le=o=>(De("data-v-5b4c8080"),o=o(),Ue(),o),Po={class:"content"},Io={class:"container-fluid"},qo={class:"row"},Yo={class:"col-md-6"},No={class:"card"},Bo=we('<ul class="nav nav-tabs" data-v-5b4c8080><li class="nav-item" data-v-5b4c8080><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-5b4c8080>General Settings</a></li><li class="nav-item" data-v-5b4c8080><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-5b4c8080>Site Settings</a></li></ul>',1),Ro={class:"tab-content"},Ho={class:"tab-pane fade show active",id:"general-tab"},jo={class:"card-body"},Oo={class:"form-group"},zo=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),Go={key:0,class:"text-danger text-sm"},Wo={class:"form-group"},Qo=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Ko=we('<option value="m/d/Y" data-v-5b4c8080> MM/DD/YYYY </option><option value="d/m/Y" data-v-5b4c8080> DD/MM/YYYY </option><option value="Y-m-d" data-v-5b4c8080> YYYY-MM-DD </option><option value="F j, Y" data-v-5b4c8080> Month DD, YYYY </option><option value="j F Y" data-v-5b4c8080> DD Month YYYY </option>',5),Xo=[Ko],Jo={key:0,class:"text-danger text-sm"},Zo={class:"form-group"},el=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),tl={key:0,class:"text-danger text-sm"},sl=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),q("Save Changes ")])],-1)),al={class:"tab-pane fade",id:"site"},ol={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ll={key:0,class:"list-group-item p-0"},nl={class:"d-flex justify-content-center"},dl=["onClick"],il={class:"ml-auto my-1 mr-1"},cl=["onClick"],rl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),ul=[rl],_l={class:"m-2 list-unstyled"},ml={key:1},pl={key:0,class:"list-group-item p-0"},hl={class:"d-flex justify-content-center"},vl=["onClick"],bl={class:"ml-auto my-1 mr-1"},fl=["onClick"],$l=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),gl=[$l],yl={key:1,class:"mt-2 text-center"},kl=Le(()=>e("span",null,"No Site",-1)),wl=[kl],xl={class:"input-group"},Cl=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Sl={__name:"UpdateSetting",setup(o){const w=`${be().name}`,_=c([]),d=me(),i=c(!0),u=c([]),p=c(!1),D=c(),l=Xe("$swal"),M=c({id:"",site_name:"",is_active:""}),v=()=>{p.value=!0,axios.get("/api/site").then(Y=>{p.value=!1,u.value=Y.data}).catch(Y=>{console.log(Y)})},C=Se(()=>Array.isArray(u.value)?u.value.filter(Y=>Y.is_active===0):[]),n=Se(()=>C.value.length),x=()=>{i.value=!i.value},N=()=>{var Y,m;p.value=!0,axios.post("/api/site",{id:(Y=M.value)==null?void 0:Y.id,site_name:(m=M.value)==null?void 0:m.site_name,is_active:!0}).then(y=>{v(),M.value={id:null,site_name:"",is_active:!0},d.success(y.data.message),p.value=!1}).catch(y=>{y.response&&y.response.status===422&&(B.value=y.response.data.errors)})},W=Y=>{M.value.is_active=Y.is_active===1?0:1,axios.post("/api/site",{id:Y.id,site_name:Y.site_name,is_active:M.value.is_active}).then(m=>{axios.get("/api/site").then(y=>{u.value=y.data}).catch(y=>{console.error("Error fetching tasks:",y),d.error("Error fetching tasks. Please try again.")})}).catch(m=>{console.error("Error adding new task:",m),d.error("Error adding new task. Please try again.")})},Z=Y=>{if(Y.is_active===null||Y.is_active===0){l.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}M.value.id=Y.id,M.value.site_name=Y.site_name},de=()=>{axios.get("/api/settings").then(Y=>{_.value=Y.data})},B=c(),A=()=>{B.value="",axios.post("/api/settings",_.value).then(Y=>{d.success("Settings updated successfully!")}).catch(Y=>{Y.response&&Y.response.status===422&&(B.value=Y.response.data.errors)})};return ue(()=>{v(),de(),document.title=w}),(Y,m)=>(s(),a("div",Po,[e("div",Io,[e("div",qo,[e("div",Yo,[e("div",No,[Bo,e("div",Ro,[e("div",Ho,[e("form",{onSubmit:m[3]||(m[3]=ee(y=>A(),["prevent"]))},[e("div",jo,[e("div",Oo,[zo,J(e("input",{"onUpdate:modelValue":m[0]||(m[0]=y=>_.value.app_name=y),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[re,_.value.app_name]]),B.value&&B.value.app_name?(s(),a("span",Go,t(B.value.app_name[0]),1)):L("",!0)]),e("div",Wo,[Qo,J(e("select",{"onUpdate:modelValue":m[1]||(m[1]=y=>_.value.date_format=y),class:"form-control"},Xo,512),[[Te,_.value.date_format]]),B.value&&B.value.date_format?(s(),a("span",Jo,t(B.value.date_format[0]),1)):L("",!0)]),e("div",Zo,[el,J(e("input",{"onUpdate:modelValue":m[2]||(m[2]=y=>_.value.pagination_limit=y),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[re,_.value.pagination_limit]]),B.value&&B.value.pagination_limit?(s(),a("span",tl,t(B.value.pagination_limit[0]),1)):L("",!0)])]),sl],32)]),e("div",al,[u.value.length>0?(s(),a("div",ol,[p.value?(s(),ce(Ae,{key:0})):L("",!0),(s(!0),a(O,null,K(u.value,y=>(s(),a("ul",{class:"list-group",key:y.id},[y.is_active===1?(s(),a("li",ll,[e("div",nl,[e("div",null,[e("span",{class:U({"btn font-italic text-red":y.is_active===0,btn:y.is_active===1})},[e("i",{onClick:G=>W(y),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":y.is_active===1,"fa fa-circle text-primary":y.is_active===0}),style:{"font-size":"15px"}},null,10,dl),q(" "+t(y.site_name),1)],2)]),e("div",il,[e("button",{onClick:G=>Z(y),class:"btn btn-outline"},ul,8,cl)])])])):L("",!0)]))),128)),e("li",_l,[n.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:x},[e("i",{class:U(["fa",i.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Deactive List "+t(n.value),1)])):L("",!0)]),i.value?(s(),a("div",ml,[(s(!0),a(O,null,K(u.value,y=>(s(),a("ul",{class:"list-group",key:y.id},[y.is_active===0?(s(),a("li",pl,[e("div",hl,[e("div",null,[e("span",{class:U({"btn font-italic text-red":y.is_active===0,btn:y.is_active===1})},[e("i",{onClick:G=>W(y),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":y.is_active===1,"fa fa-circle text-primary":y.is_active===0}),style:{"font-size":"15px"}},null,10,vl),e("del",null,t(y.site_name),1)],2)]),e("div",bl,[e("button",{onClick:G=>Z(y),class:"btn btn-outline"},gl,8,fl)])])])):L("",!0)]))),128))])):L("",!0)])):(s(),a("div",yl,wl)),g(r(Ce),{ref:"form",onSubmit:N,"initial-values":D.value},{default:X(()=>[g(r(R),{name:"id",modelValue:M.value.id,"onUpdate:modelValue":m[4]||(m[4]=y=>M.value.id=y),type:"text",hidden:""},null,8,["modelValue"]),e("div",xl,[g(r(R),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:M.value.site_name,"onUpdate:modelValue":m[5]||(m[5]=y=>M.value.site_name=y),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Cl])]),_:1},8,["initial-values"])])])])])])])]))}};var Dl=ge(Sl,[["__scopeId","data-v-5b4c8080"]]);const Ul={class:"content"},Vl={class:"container-fluid"},Ml={class:"row"},Al={class:"col-md-3"},El={class:"card card-primary card-outline"},Tl={class:"card-body box-profile"},Fl={class:"text-center"},Ll=["src"],Pl={class:"profile-username text-center"},Il={class:"text-muted text-center"},ql={class:"col-md-9"},Yl={class:"card"},Nl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Bl={class:"card-body"},Rl={class:"tab-content"},Hl={class:"tab-pane active",id:"profile"},jl={class:"form-group row"},Ol=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),zl={class:"col-sm-10"},Gl={key:0,class:"text-danger text-sm"},Wl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Kl={class:"col-sm-10"},Xl={key:0,class:"text-danger text-sm"},Jl={class:"form-group row"},Zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),en={class:"col-sm-10"},tn={key:0,class:"text-danger text-sm"},sn={class:"form-group row"},an=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),on={class:"col-sm-10"},ln={key:0,class:"text-danger text-sm"},nn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),dn={class:"tab-pane",id:"changePassword"},cn={class:"form-group row"},rn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),un={class:"col-sm-9"},_n={key:0,class:"text-danger text-sm"},mn={class:"form-group row"},pn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),hn={class:"col-sm-9"},vn={key:0,class:"text-danger text-sm"},bn={class:"form-group row"},fn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),$n={class:"col-sm-9"},gn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),yn={__name:"UpdateProfile",setup(o){const w=_e(),_=me(),d=`${be().name}`,i=c([]),u=()=>{axios.put("/api/profile",{name:w.user.name,first_name:w.user.first_name,last_name:w.user.last_name,email:w.user.email,role:w.user.role}).then(C=>{_.success("Profile updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(i.value=C.response.data.errors)})},p=Ve({currentPassword:"",password:"",passwordConfirmation:""}),D=()=>{i.value="",axios.post("/api/change-user-password",p).then(C=>{_.success(C.data.message);for(const n in p)p[n]=""}).catch(C=>{C.response&&C.response.status===422&&(i.value=C.response.data.errors)})},l=c(null),M=()=>{l.value.click()},v=C=>{const n=C.target.files[0];w.user.avatar=URL.createObjectURL(n);const x=new FormData;x.append("profile_picture",n),axios.post("/api/upload-profile-image",x).then(N=>{_.success("Image uploaded successfully!")})};return ue(()=>{document.title=d}),(C,n)=>(s(),a("div",Ul,[e("div",Vl,[e("div",Ml,[e("div",Al,[e("div",El,[e("div",Tl,[e("div",Fl,[e("input",{onChange:v,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:M,class:"profile-user-img img-circle",src:r(w).user.avatar,alt:"User profile picture"},null,8,Ll)]),e("h3",Pl,t(r(w).user.name),1),e("p",Il,t(r(w).user.role),1)])])]),e("div",ql,[e("div",Yl,[Nl,e("div",Bl,[e("div",Rl,[e("div",Hl,[e("form",{onSubmit:n[4]||(n[4]=ee(x=>u(),["prevent"])),class:"form-horizontal"},[e("div",jl,[Ol,e("div",zl,[J(e("input",{"onUpdate:modelValue":n[0]||(n[0]=x=>r(w).user.name=x),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[re,r(w).user.name]]),i.value&&i.value.name?(s(),a("span",Gl,t(i.value.name[0]),1)):L("",!0)])]),e("div",Wl,[Ql,e("div",Kl,[J(e("input",{"onUpdate:modelValue":n[1]||(n[1]=x=>r(w).user.first_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[re,r(w).user.first_name]]),i.value&&i.value.first_name?(s(),a("span",Xl,t(i.value.first_name[0]),1)):L("",!0)])]),e("div",Jl,[Zl,e("div",en,[J(e("input",{"onUpdate:modelValue":n[2]||(n[2]=x=>r(w).user.last_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[re,r(w).user.last_name]]),i.value&&i.value.last_name?(s(),a("span",tn,t(i.value.last_name[0]),1)):L("",!0)])]),e("div",sn,[an,e("div",on,[J(e("input",{"onUpdate:modelValue":n[3]||(n[3]=x=>r(w).user.email=x),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[re,r(w).user.email]]),i.value&&i.value.email?(s(),a("span",ln,t(i.value.email[0]),1)):L("",!0)])]),nn],32)]),e("div",dn,[e("form",{onSubmit:ee(D,["prevent"]),class:"form-horizontal"},[e("div",cn,[rn,e("div",un,[J(e("input",{"onUpdate:modelValue":n[5]||(n[5]=x=>p.currentPassword=x),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[re,p.currentPassword]]),i.value&&i.value.current_password?(s(),a("span",_n,t(i.value.current_password[0]),1)):L("",!0)])]),e("div",mn,[pn,e("div",hn,[J(e("input",{"onUpdate:modelValue":n[6]||(n[6]=x=>p.password=x),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[re,p.password]]),i.value&&i.value.password?(s(),a("span",vn,t(i.value.password[0]),1)):L("",!0)])]),e("div",bn,[fn,e("div",$n,[J(e("input",{"onUpdate:modelValue":n[7]||(n[7]=x=>p.passwordConfirmation=x),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[re,p.passwordConfirmation]])])]),gn],32)])])])])])])])]))}};const Ye=o=>(De("data-v-809e38f2"),o=o(),Ue(),o),kn={class:"login-box"},wn={class:"card card-outline card-primary"},xn=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Cn={class:"card-body"},Sn={key:0,class:"alert alert-danger",role:"alert"},Dn={class:"input-group mb-3"},Un=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Vn={class:"input-group mb-3"},Mn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),An=["type"],En={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Tn=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),Fn={class:"row"},Ln={class:"col-12 mb-2"},Pn=["disabled"],In={key:0,class:"spinner-border spinner-border-sm",role:"status"},qn=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),Yn=[qn],Nn={key:1},Bn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Rn="Login",Hn={__name:"Login",setup(o){const w=c(!1),_=me();_e();const d=Ke(),i=Ve({email:"",password:""}),u=c(!1),p=c(""),D=()=>{u.value=!0,p.value="",F.post("/login",i).then(()=>{d.push("/"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{u.value=!1})};return ue(()=>{document.title=Rn}),(l,M)=>(s(),a("div",kn,[e("div",wn,[xn,e("div",Cn,[p.value?(s(),a("div",Sn,t(p.value),1)):L("",!0),e("form",{onSubmit:ee(D,["prevent"])},[e("div",Dn,[Un,J(e("input",{"onUpdate:modelValue":M[0]||(M[0]=v=>i.email=v),type:"email",class:"form-control",placeholder:"Email"},null,512),[[re,i.email]])]),e("div",Vn,[Mn,J(e("input",{"onUpdate:modelValue":M[1]||(M[1]=v=>i.password=v),class:"form-control",placeholder:"Password",type:w.value?"text":"password",onClick:M[2]||(M[2]=(...v)=>l.handleKeyClick&&l.handleKeyClick(...v))},null,8,An),[[st,i.password]])]),e("label",En,[J(e("input",{type:"checkbox","onUpdate:modelValue":M[3]||(M[3]=v=>w.value=v)},null,512),[[Me,w.value]]),q(" Show Password ")]),Tn,e("div",Fn,[e("div",Ln,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:u.value},[u.value?(s(),a("div",In,Yn)):(s(),a("span",Nn,"Sign In"))],8,Pn)])])],32),Bn])])]))}};var jn=ge(Hn,[["__scopeId","data-v-809e38f2"]]);const On=["checked"],zn=e("i",{class:"fa fa-edit"},null,-1),Gn=[zn],Wn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Qn=[Wn],Kn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:w}){me();const _=o,d=w,i=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,On)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.first_name)+" "+t(o.item.last_name),1),e("td",null,t(o.item.email),1),e("td",null,t(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:p[0]||(p[0]=ee(D=>u.$emit("editUser",o.item),["prevent"]))},Gn),e("a",{href:"#",onClick:p[1]||(p[1]=ee(D=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Qn)])]))}},Xn={class:"content"},Jn={class:"container-fluid"},Zn={class:"d-flex justify-content-between"},ed={class:"d-flex"},td=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sd={key:0},ad=e("i",{class:"fa fa-trash mr-1"},null,-1),od={class:"ml-2"},ld={class:"card"},nd={class:"card-body"},dd={class:"table table-bordered"},id=e("th",{style:{width:"10px"}},"#",-1),cd=e("th",null,"Name",-1),rd=e("th",null,"Email",-1),ud=e("th",null,"Registered Date",-1),_d=e("th",null,"Options",-1),md={key:0},pd={key:1},hd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),vd=[hd],bd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fd={class:"modal-dialog",role:"document"},$d={class:"modal-content"},gd={class:"modal-header"},yd={class:"modal-title",id:"staticBackdropLabel"},kd={key:0},wd={key:1},xd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Cd={class:"modal-body"},Sd={class:"form-group"},Dd=e("label",{for:"fist_name"},"First Name",-1),Ud={class:"invalid-feedback"},Vd={class:"form-group"},Md=e("label",{for:"last_name"},"Last Name",-1),Ad={class:"invalid-feedback"},Ed={class:"form-group"},Td=e("label",{for:"email"},"Email",-1),Fd={class:"invalid-feedback"},Ld=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Pd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Id={class:"modal-dialog",role:"document"},qd={class:"modal-content"},Yd=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Nd={class:"modal-footer"},Bd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Rd={__name:"ClientList",setup(o){const w=me(),_=c({data:[]}),d=c(!1),i=c(),u=c(null),p=(G=1)=>{F.get(`/api/clients?page=${G}`,{params:{query:N.value}}).then(Q=>{_.value=Q.data,W.value=[],m.value=!1})},D=ke({first_name:I().required(),last_name:I().required(),email:I().email().required()}),l=ke({first_name:I().required(),last_name:I().required(),email:I().email().required()}),M=(G,{resetForm:Q,setErrors:te})=>{F.post("/api/clients",G).then(ie=>{_.value.data.unshift(ie.data),$("#clientFormModal").modal("hide"),Q(),w.success("User created successfully!")}).catch(ie=>{ie.response.data.errors&&te(ie.response.data.errors)})},v=()=>{d.value=!1,$("#clientFormModal").modal("show")},C=G=>{d.value=!0,u.value.resetForm(),$("#clientFormModal").modal("show"),i.value={id:G.id,first_name:G.first_name,last_name:G.last_name,email:G.email}},n=(G,{setErrors:Q})=>{F.put("/api/clients/"+i.value.id,G).then(te=>{const ie=_.value.data.findIndex(z=>z.id===te.data.id);_.value.data[ie]=te.data,$("#clientFormModal").modal("hide"),w.success("Client updated successfully!")}).catch(te=>{Q(te.response.data.errors),console.log(te)})},x=(G,Q)=>{d.value?n(G,Q):M(G,Q)},N=c(null),W=c([]),Z=G=>{const Q=W.value.indexOf(G.id);Q===-1?W.value.push(G.id):W.value.splice(Q,1),console.log(W.value)},de=c(null),B=G=>{de.value=G,$("#deleteClientModal").modal("show")},A=()=>{F.delete(`/api/clients/${de.value}`).then(()=>{$("#deleteClientModal").modal("hide"),w.success("Client deleted successfully!"),_.value.data=_.value.data.filter(G=>G.id!==de.value)})},Y=()=>{F.delete("/api/clients",{data:{ids:W.value}}).then(G=>{_.value.data=_.value.data.filter(Q=>!W.value.includes(Q.id)),W.value=[],m.value=!1,w.success(G.data.message)})},m=c(!1),y=()=>{m.value?W.value=_.value.data.map(G=>G.id):W.value=[],console.log(W.value)};return ve(N,Ee.exports.debounce(()=>{p()},300)),ue(()=>{p()}),(G,Q)=>(s(),a(O,null,[e("div",Xn,[e("div",Jn,[e("div",Zn,[e("div",ed,[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-primary"},[td,q(" Add New Client ")]),W.value.length>0?(s(),a("div",sd,[e("button",{onClick:Y,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ad,q(" Delete Selected ")]),e("span",od,"Selected "+t(W.value.length)+" clients",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":Q[0]||(Q[0]=te=>N.value=te),class:"form-control",placeholder:"Search..."},null,512),[[re,N.value]])])]),e("div",ld,[e("div",nd,[e("table",dd,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":Q[1]||(Q[1]=te=>m.value=te),onChange:y},null,544),[[Me,m.value]])]),id,cd,rd,ud,_d])]),_.value.data.length>0?(s(),a("tbody",md,[(s(!0),a(O,null,K(_.value.data,(te,ie)=>(s(),ce(Kn,{key:te.id,item:te,index:ie,onEditUser:C,onConfirmUserDeletion:B,onToggleSelection:Z,"select-all":m.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",pd,vd))])])]),g(r(Pe),{data:_.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",bd,[e("div",fd,[e("div",$d,[e("div",gd,[e("h5",yd,[d.value?(s(),a("span",kd,"Edit Client")):(s(),a("span",wd,"Add New Client"))]),xd]),g(r(Ce),{ref_key:"form",ref:u,onSubmit:x,"validation-schema":d.value?r(l):r(D),"initial-values":i.value},{default:X(({errors:te})=>[e("div",Cd,[e("div",Sd,[Dd,g(r(R),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":te.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Ud,t(te.first_name),1)]),e("div",Vd,[Md,g(r(R),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":te.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ad,t(te.last_name),1)]),e("div",Ed,[Td,g(r(R),{name:"email",type:"email",class:U(["form-control",{"is-invalid":te.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Fd,t(te.email),1)])]),Ld]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Pd,[e("div",Id,[e("div",qd,[Yd,e("div",Nd,[Bd,e("button",{onClick:ee(A,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Je=o=>(De("data-v-7ef25f66"),o=o(),Ue(),o),Hd={style:{"text-align":"center"}},jd={key:0},Od=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),zd=[Od],Gd=Je(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Wd=[Gd],Qd={key:1,style:{"text-align":"center"}},Kd={key:0},Xd=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),Jd=[Xd],Zd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:w}){me();const _=_e();return(d,i)=>{const u=$e("router-link");return s(),a("tr",null,[e("td",null,t(o.item.recommnum),1),e("td",null,t(o.item.user),1),e("td",null,t(o.item.branch),1),e("td",null,t(o.item.department),1),e("td",null,t(o.item.created_user),1),e("td",Hd,[o.item.statusid==2?(s(),ce(u,{key:0,to:`/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:U(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)]),_:1},8,["to"])):L("",!0),o.item.statusid!=2?(s(),a("span",{key:1,class:U(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)):L("",!0)]),e("td",null,t(o.item.created_at),1),r(_).user.role==="ADMIN"?(s(),a("td",jd,[e("a",{href:"#",onClick:i[0]||(i[0]=ee(p=>d.$emit("editUser",o.item),["prevent"]))},zd),e("a",{href:"#",onClick:i[1]||(i[1]=ee(p=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Wd)])):L("",!0),r(_).user.role==="USER"?(s(),a("td",Qd,[o.item.statusid!=2?(s(),a("div",Kd,[o.item.created_by==r(_).user.id?(s(),a("a",{key:0,href:"#",onClick:i[2]||(i[2]=ee(p=>d.$emit("editUser",o.item),["prevent"]))},Jd)):L("",!0)])):L("",!0)])):L("",!0)])}}};var ei=ge(Zd,[["__scopeId","data-v-7ef25f66"]]);const ti={class:"content"},si={class:"container-fluid"},ai={class:"d-flex justify-content-between"},oi={class:"d-flex"},li=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ni={key:0},di=e("i",{class:"fa fa-trash mr-1"},null,-1),ii={class:"ml-2"},ci={class:"card"},ri={class:"card-body"},ui={class:"dispatch-table"},_i={class:"table-responsive"},mi={class:"table table-bordered table-sm"},pi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),hi={key:0},vi={key:1},bi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),fi=[bi],$i=["item","index"],gi={class:"card"},yi={class:"card-body"},ki={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Tech #:",-1),xi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"User:",-1),Si={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Branch:",-1),Ui={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Department:",-1),Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Created by:",-1),Ei={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"Status:",-1),Fi={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"Created Date:",-1),Pi=e("hr",null,null,-1),Ii={class:"row"},qi={key:0,class:"col"},Yi=["onClick"],Ni=e("i",{class:"fa fa-pencil-square-o"},null,-1),Bi=["onClick"],Ri=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),Hi=[Ri],ji={key:1,class:"col"},Oi={key:0},zi=["onClick"],Gi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Wi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qi={class:"modal-dialog modal-lg",role:"document"},Ki={class:"modal-content"},Xi={class:"modal-header"},Ji={class:"modal-title",id:"staticBackdropLabel"},Zi={key:0},ec={key:1},tc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),sc={class:"modal-body"},ac={class:"col-md-12"},oc={class:"row"},lc={class:"col-6"},nc={class:"form-group"},dc=e("label",{for:"branch"},"Branch",-1),ic=e("option",{value:"",disabled:""}," Select Branch ",-1),cc=["value"],rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"department"},"Department",-1),mc={class:"invalid-feedback"},pc={class:"form-group"},hc=e("label",{for:"warehouse"},"warehouse",-1),vc={class:"invalid-feedback"},bc={class:"form-group"},fc=e("label",{for:"user"},"User",-1),$c={class:"invalid-feedback"},gc={class:"col-6"},yc={class:"form-group"},kc=e("label",{for:"brand"},"Brand",-1),wc={class:"form-group"},xc=e("label",{for:"model"},"Model",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"assettag"},"Asset tag",-1),Uc={class:"invalid-feedback"},Vc={class:"form-group"},Mc=e("label",{for:"serialnum"},"Serial number",-1),Ac={class:"invalid-feedback"},Ec={class:"col-12"},Tc={class:"form-group"},Fc=e("label",{for:"problem"},"Report Problem",-1),Lc={class:"invalid-feedback"},Pc={class:"form-group"},Ic=e("label",{for:"assconducted"},"Assessment conducted",-1),qc={class:"invalid-feedback"},Yc={class:"form-group"},Nc=e("label",{for:"recommendation"},"Recommendation",-1),Bc={class:"invalid-feedback"},Rc={class:"modal-footer"},Hc={key:0},jc={key:0,class:"btn-group float-l ml-auto"},Oc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),zc={class:"dropdown-menu",role:"menu"},Gc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Wc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Qc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Kc={class:"modal-dialog",role:"document"},Xc={class:"modal-content"},Jc=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Zc={class:"modal-footer"},er=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),tr={__name:"TechList",setup(o){const w=c(),_=c(),d=me(),i=c({data:[]});c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=`${be().name}`,p=()=>{F.get("/web/getsite").then(b=>{_.value=b.data.sites}).catch(b=>{console.log(b)})},D=c(!1),l=c(!1),M=c(),v=Ve({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),C=_e();c(null);const n=(b=1)=>{D.value=!0,F.get(`/api/tech-recommendations?page=${b}`,{params:{query:m.value}}).then(k=>{D.value=!1,i.value=k.data,y.value=[],S.value=!1})},x=ke({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),N=ke({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),W=(b,{resetForm:k,setErrors:ne})=>{F.post("/api/tech-recommendations",b).then(oe=>{i.value.data.unshift(oe.data),$("#FormModal").modal("hide"),k(),d.success("Data created successfully!")}).catch(oe=>{oe.response.data.errors&&ne(oe.response.data.errors)})},Z=()=>{l.value=!1,$("#FormModal").modal("show")},de=()=>{v.id="",v.recommnum="",v.branch="",v.department="",v.warehouse="",v.user="",v.problem="",v.brand="",v.model="",v.assettag="",v.serialnum="",v.assconducted="",v.recommendation="",v.ceated_by=""},B=b=>{w.value=b.id,l.value=!0,de(),v.id=b.id,v.branch=b.branch,v.department=b.department,v.warehouse=b.warehouse,v.user=b.user,v.problem=b.problem,v.brand=b.brand,v.model=b.model,v.assettag=b.assettag,v.serialnum=b.serialnum,v.assconducted=b.assconducted,v.recommendation=b.recommendation,v.ceated_by=b.ceated_by,v.recommnum=b.recommnum,$("#FormModal").modal("show")},A=(b,{setErrors:k})=>{F.put("/api/tech-recommendations/"+b.id,b).then(ne=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(ne=>{k(ne.response.data.errors),console.log(ne)})},Y=(b,k)=>{l.value?A(v,k):W(b,k)},m=c(null),y=c([]),G=b=>{const k=y.value.indexOf(b.id);k===-1?y.value.push(b.id):y.value.splice(k,1),console.log(y.value)},Q=c(null),te=b=>{Q.value=b,$("#deleteClientModal").modal("show")},ie=()=>{F.delete(`/api/tech-recommendations/${Q.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),i.value.data=i.value.data.filter(b=>b.id!==Q.value)})},z=()=>{F.delete("/api/tech-recommendations",{data:{ids:y.value}}).then(b=>{i.value.data=i.value.data.filter(k=>!y.value.includes(k.id)),y.value=[],S.value=!1,d.success(b.data.message)})},P=b=>{F.post("/api/tech-getaction",{id:w.value,status:b}).then(k=>{$("#FormModal").modal("hide"),n()}).catch(k=>{console.log(k.message)})},S=c(!1);return ve(m,Ee.exports.debounce(()=>{n()},300)),ue(()=>{n(),p(),document.title=u}),(b,k)=>{const ne=$e("font"),oe=$e("router-link");return s(),a(O,null,[e("div",ti,[e("div",si,[e("div",ai,[e("div",oi,[e("button",{onClick:Z,type:"button",class:"mb-2 btn btn-primary"},[li,q(" TechRecom ")]),y.value.length>0?(s(),a("div",ni,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[di,q(" Delete Selected ")]),e("span",ii,"Selected "+t(y.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=E=>m.value=E),class:"form-control",placeholder:"Search..."},null,512),[[re,m.value]])])]),e("div",ci,[e("div",ri,[D.value?(s(),ce(Ae,{key:0})):L("",!0),e("div",ui,[e("div",_i,[g(ne,{size:"2"},{default:X(()=>[e("table",mi,[pi,i.value.data.length>0?(s(),a("tbody",hi,[(s(!0),a(O,null,K(i.value.data,(E,T)=>(s(),ce(ei,{key:E.id,item:E,index:T,onEditUser:B,onShowItem:b.viewItem,onConfirmUserDeletion:te,onToggleSelection:G,"select-all":S.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",vi,fi))])]),_:1})])]),(s(!0),a(O,null,K(i.value.data,(E,T)=>(s(),a("div",{class:"dispatch-list",key:E.id,item:E,index:T},[e("div",gi,[e("div",yi,[e("div",ki,[wi,e("span",null,[e("b",null,t(E.recommnum),1)])]),e("div",xi,[Ci,e("span",null,t(E.user),1)]),e("div",Si,[Di,e("span",null,t(E.branch),1)]),e("div",Ui,[Vi,e("span",null,t(E.department),1)]),e("div",Mi,[Ai,e("span",null,t(E.created_user),1)]),e("div",Ei,[Ti,E.statusid==2?(s(),ce(oe,{key:0,to:`/tech-approved/${E.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:U(["badge",`badge-${E.status.color}`])},t(E.status.name),3)]),_:2},1032,["to"])):L("",!0),E.statusid!=2?(s(),a("span",{key:1,class:U(["badge",`badge-${E.status.color}`])},t(E.status.name),3)):L("",!0)]),e("div",Fi,[Li,e("span",null,t(E.created_at),1)]),Pi,e("div",Ii,[r(C).user.role==="ADMIN"?(s(),a("div",qi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>B(E)},[Ni,q(" Edit ")],8,Yi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>te(E.id)},Hi,8,Bi)])):L("",!0),r(C).user.role==="USER"?(s(),a("div",ji,[E.statusid!=2?(s(),a("div",Oi,[E.created_by==r(C).user.id?(s(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>B(E)},[Gi,q(" Edit ")],8,zi)):L("",!0)])):L("",!0)])):L("",!0)])])])],8,$i))),128))])]),g(r(Pe),{data:i.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Wi,[e("div",Qi,[e("div",Ki,[e("div",Xi,[e("h5",Ji,[l.value?(s(),a("span",Zi,"Edit Tech Recom.")):(s(),a("span",ec,"Add New Tech Recom."))]),tc]),g(r(Ce),{onSubmit:Y,"validation-schema":l.value?r(N):r(x),"initial-values":M.value},{default:X(({errors:E})=>[e("div",sc,[e("div",ac,[e("div",oc,[e("div",lc,[g(r(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(C).user.id,"onUpdate:modelValue":k[1]||(k[1]=T=>r(C).user.id=T)},null,8,["modelValue"]),g(r(R),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:v.recommnum,"onUpdate:modelValue":k[2]||(k[2]=T=>v.recommnum=T)},null,8,["modelValue"]),e("div",nc,[dc,g(r(R),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:v.branch,"onUpdate:modelValue":k[3]||(k[3]=T=>v.branch=T)},{default:X(()=>[ic,(s(!0),a(O,null,K(_.value,T=>(s(),a("option",{key:T.site_name,value:T.site_name},t(T.site_name),9,cc))),128))]),_:2},1032,["class","modelValue"]),e("span",rc,t(E.branch),1)]),e("div",uc,[_c,g(r(R),{name:"department",type:"text",class:U(["form-control",{"is-invalid":E.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:v.department,"onUpdate:modelValue":k[4]||(k[4]=T=>v.department=T)},null,8,["class","modelValue"]),e("span",mc,t(E.department),1)]),e("div",pc,[hc,g(r(R),{name:"warehouse",type:"text",class:U(["form-control",{"is-invalid":E.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:v.warehouse,"onUpdate:modelValue":k[5]||(k[5]=T=>v.warehouse=T)},null,8,["class","modelValue"]),e("span",vc,t(E.warehouse),1)]),e("div",bc,[fc,g(r(R),{name:"user",type:"text",class:U(["form-control",{"is-invalid":E.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:v.user,"onUpdate:modelValue":k[6]||(k[6]=T=>v.user=T)},null,8,["class","modelValue"]),e("span",$c,t(E.user),1)])]),e("div",gc,[e("div",yc,[kc,g(r(R),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:v.brand,"onUpdate:modelValue":k[7]||(k[7]=T=>v.brand=T)},null,8,["modelValue"])]),e("div",wc,[xc,g(r(R),{name:"model",type:"text",class:U(["form-control",{"is-invalid":E.model}]),id:"model",modelValue:v.model,"onUpdate:modelValue":k[8]||(k[8]=T=>v.model=T),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Cc,t(E.model),1)]),e("div",Sc,[Dc,g(r(R),{name:"assettag",type:"text",class:U(["form-control",{"is-invalid":E.assettag}]),id:"assettag",modelValue:v.assettag,"onUpdate:modelValue":k[9]||(k[9]=T=>v.assettag=T),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Uc,t(E.assettag),1)]),e("div",Vc,[Mc,J(e("input",{name:"serialnum",type:"text",class:U(["form-control",{"is-invalid":E.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":k[10]||(k[10]=T=>v.serialnum=T)},null,2),[[re,v.serialnum]]),e("span",Ac,t(E.serialnum),1)])]),e("div",Ec,[e("div",Tc,[Fc,g(r(R),{name:"problem",as:"textarea",class:U(["form-control",{"is-invalid":E.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:v.problem,"onUpdate:modelValue":k[11]||(k[11]=T=>v.problem=T)},null,8,["class","modelValue"]),e("span",Lc,t(E.problem),1)]),e("div",Pc,[Ic,g(r(R),{name:"assconducted",as:"textarea",class:U(["form-control",{"is-invalid":E.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:v.assconducted,"onUpdate:modelValue":k[12]||(k[12]=T=>v.assconducted=T)},null,8,["class","modelValue"]),e("span",qc,t(E.assconducted),1)]),e("div",Yc,[Nc,g(r(R),{name:"recommendation",as:"textarea",class:U(["form-control",{"is-invalid":E.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:v.recommendation,"onUpdate:modelValue":k[13]||(k[13]=T=>v.recommendation=T)},null,8,["class","modelValue"]),e("span",Bc,t(E.recommendation),1)])])])])]),e("div",Rc,[l.value?(s(),a("div",Hc,[r(C).user.role==="ADMIN"?(s(),a("div",jc,[e("button",{type:"button",onClick:k[14]||(k[14]=T=>P(2)),class:"btn btn-info"}," Approved "),Oc,e("div",zc,[e("span",{onClick:k[15]||(k[15]=T=>P(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:k[16]||(k[16]=T=>P(3)),class:"dropdown-item"},"Disapproved")])])):L("",!0)])):L("",!0),Gc,Wc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Qc,[e("div",Kc,[e("div",Xc,[Jc,e("div",Zc,[er,e("button",{onClick:ee(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Re=tt("SettingStore",()=>{const o=c({app_name:""}),w=xt("SettingStore:theme",c("light"));return{setting:o,getSetting:async()=>{await F.get("/api/settings").then(i=>{o.value=i.data})},theme:w,changeTheme:()=>{w.value=w.value==="light"?"dark":"light"}}});const se=o=>(De("data-v-0c8371d9"),o=o(),Ue(),o),sr={class:"content"},ar={class:"container-fluid"},or={class:"card"},lr={class:"card-header"},nr={class:"card-title"},dr={class:"card-body"},ir={class:"col-md-12"},cr={class:"d-flex justify-content-between"},rr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ur={class:"d-flex"},_r={class:"col-12",id:"accordion"},mr={key:1},pr={key:0},hr={class:"card card-secondary"},vr={class:"card-body d-flex align-items-center justify-content-center"},br={class:"image-container"},fr=["src"],$r=se(()=>e("div",{class:"overlay"},null,-1)),gr={key:1},yr={class:"card-header bg-white"},kr={class:"card-title"},wr=["href"],xr=["src"],Cr={class:"card-tools"},Sr=["onClick"],Dr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ur=[Dr],Vr=["disabled","onClick"],Mr=["onClick"],Ar=["onClick"],Er=se(()=>e("p",{class:"float-right"},null,-1)),Tr=["id"],Fr={class:"card-body"},Lr={class:"col-md-12"},Pr={class:"dispatch-table"},Ir={class:"row"},qr={class:"col-4"},Yr=se(()=>e("b",null,"Site:",-1)),Nr=se(()=>e("b",null,"Planned Date:",-1)),Br=se(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},Hr=se(()=>e("b",null,"Start Date:",-1)),jr=se(()=>e("b",null,"Accomplished Date:",-1)),Or={class:"closestatus"},zr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Gr={class:"col-4"},Wr={class:"ongoing"},Qr=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),Kr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Xr=se(()=>e("b",null,"Remarks:",-1)),Jr={style:{margin:"0.5%"}},Zr=["disabled","onClick"],eu=["onClick","disabled"],tu={class:"dispatch-list"},su={class:"list-group list-group-flush"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u=se(()=>e("hr",null,null,-1)),gu={class:"row"},yu={class:"col"},ku=["onClick"],wu=se(()=>e("i",{class:"fas fa-pen"},null,-1)),xu=["onClick"],Cu=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),q(" Drop ")],-1)),Su=[Cu],Du={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uu={class:"modal-dialog modal-dialog-centered",role:"document"},Vu={class:"modal-content"},Mu={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Eu={key:0},Tu={key:1},Fu={key:2},Lu=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Pu={class:"modal-body"},Iu={class:"col-md-12"},qu={class:"row"},Yu={class:"col-12"},Nu={class:"form-group"},Bu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Hu=["value"],ju={key:0,class:"d-flex justify-content-between"},Ou={class:"d-flex"},zu={class:"form-group"},Gu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),Wu={class:"form-group"},Qu=se(()=>e("label",{for:"end-time"},"Hour",-1)),Ku=["value"],Xu=se(()=>e("div",{class:"d-fex"},null,-1)),Ju={key:1,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=se(()=>e("label",{for:"end-time"},"End Date",-1)),s_={class:"form-group"},a_=se(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=se(()=>e("div",{class:"d-fex"},null,-1)),n_={class:"form-group"},d_=se(()=>e("label",{for:"site"},"Type",-1)),i_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),c_=["value"],r_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),u_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},__={class:"modal-dialog modal-sm",role:"document"},m_={class:"modal-content"},p_={class:"modal-header"},h_={class:"modal-title",id:"staticBackdropLabel"},v_=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),b_={class:"modal-body"},f_=we('<ul class="nav nav-tabs" id="myTabs" data-v-0c8371d9><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-0c8371d9> Todo List</a></li><li class="nav-item" data-v-0c8371d9><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-0c8371d9> Todo</a></li></ul>',1),$_={class:"tab-content"},g_={class:"tab-pane fade show active",id:"todolist"},y_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},k_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),w_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_={key:0,class:"list-group-item p-0"},C_={class:"d-flex justify-content-center"},S_=["onClick"],D_={class:"ml-auto my-1 mr-1"},U_=["onClick"],V_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),M_=[V_],A_={class:"mt-2 mb-2 list-unstyled"},E_={key:1},T_={key:0,class:"list-group-item p-0"},F_={class:"d-flex justify-content-center"},L_=["onClick"],P_={class:"ml-auto my-1 mr-1"},I_=["onClick"],q_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),Y_=[q_],N_={key:1,class:"mt-2 text-center"},B_=se(()=>e("span",null,"No Todo",-1)),R_=[B_],H_={class:"tab-pane fade",id:"formTask"},j_={class:"col-md-12"},O_={class:"row"},z_={class:"col-12"},G_={class:"m-2",style:{display:"flex","align-items":"center"}},W_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),q("\xA0Save ")])],-1)),Q_={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K_={class:"modal-dialog",role:"document"},X_={class:"modal-content"},J_=se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Z_={class:"modal-body"},em={class:"col-md-12"},tm={class:"row"},sm={class:"col-12"},am={class:"modal-footer"},om=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),lm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},nm={class:"modal-dialog",role:"document"},dm={class:"modal-content"},im=we('<div class="modal-header" data-v-0c8371d9><h5 class="modal-title" id="staticBackdropLabel" data-v-0c8371d9><span data-v-0c8371d9>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-0c8371d9><span aria-hidden="true" data-v-0c8371d9>\xD7</span></button></div><div class="modal-body" data-v-0c8371d9><h5 data-v-0c8371d9>Are you sure you want to delete this record ?</h5></div>',2),cm={class:"modal-footer"},rm=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),um={__name:"MyPrio",setup(o){const w=`${be().name}`,_=c(!1),d=c(!1),i=Xe("$swal");Re();const u=me(),p=c({data:[]}),D=c([]);c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),c();const l=c();c();const M=c(!0),v=c(!1);c(!1),c();const C=c(),n=c(),x=c(),N=_e();c(null),c(!1);const W=c([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),Z=c(),de=c("1:00 AM"),B=c(),A=c("1:00 AM"),Y=c(Array.from({length:24},(f,V)=>{const h=V%12+1,pe=V<12?"AM":"PM";return`${h}:00 ${pe}`})),m=c(Array.from({length:24},(f,V)=>{const h=V%12+1,pe=V<12?"AM":"PM";return`${h}:00 ${pe}`})),y=Ve({dailytask_id:"",site:"",user_id:N.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),G=c("");ve([Z,de],()=>{const f=new Date(Z.value),V=f.getFullYear(),h=String(f.getMonth()+1).padStart(2,"0"),pe=String(f.getDate()).padStart(2,"0");y.plandate=`${V}-${h}-${pe} ${de.value}`}),ve([Z,A],()=>{const f=new Date(Z.value);f.getFullYear(),String(f.getMonth()+1).padStart(2,"0"),String(f.getDate()).padStart(2,"0")}),ve([B,A],()=>{const f=new Date(B.value),V=f.getFullYear(),h=String(f.getMonth()+1).padStart(2,"0"),pe=String(f.getDate()).padStart(2,"0");y.enddates=`${V}-${h}-${pe} ${A.value}`});const Q=c({id:"",dailytask_id:"",task_name:"",iscompleted:0}),te=()=>{F.get("/web/getsite").then(f=>{l.value=f.data.sites}).catch(f=>{console.log(f)})},ie=()=>{_.value=!0,F.get("/web/dailytask",{params:{query:j.value}}).then(f=>{_.value=!1,p.value=f.data,fe.value=[]})},z=async f=>{(await i({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,F.put(`/web/dailytask/drop/${f}`).then(h=>{u.success("Data drop successfully!"),_.value=!1,ie()}))},P=()=>{$("#FormModalTask").modal("show")},S=f=>{P(),Q.value.dailytask_id=f.dailytask_id,n.value=f.taskdate,x.value=f.startdate,d.value=!0,F.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(V=>{D.value=V.data,P(),d.value=!1}).catch(V=>{console.error("Error fetching tasks:",V)})},b=()=>{d.value=!0,F.post("/web/dailytask/addnewTask",{dailytask_id:Q.value.dailytask_id,task_name:Q.value.task_name,iscompleted:Q.value.iscompleted}).then(f=>{u.success("Data created successfully!"),F.get(`/web/dailytask/${Q.value.dailytask_id}/tasks`).then(V=>{D.value=V.data,d.value=!1}).catch(V=>{console.error("Error fetching tasks:",V),u.error("Error fetching tasks. Please try again.")}),Q.value.task_name=""}).catch(f=>{console.error("Error adding new task:",f),u.error("Error adding new task. Please try again.")})},k=f=>{Q.value.iscompleted=f.iscompleted===1?0:1,F.post("/web/dailytask/addnewTask",{id:f.id,dailytask_id:f.dailytask_id,task_name:f.task_name,iscompleted:Q.value.iscompleted}).then(V=>{F.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(h=>{D.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),u.error("Error fetching tasks. Please try again.")})}).catch(V=>{console.error("Error adding new task:",V),u.error("Error adding new task. Please try again.")})},ne=Se(()=>Array.isArray(D.value)?D.value.filter(f=>f.iscompleted===1):[]),oe=Se(()=>ne.value.length),E=()=>{M.value=!M.value},T=f=>{F.delete(`/web/dailytask/deleteTask/${f.id}`).then(V=>{F.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(h=>{D.value=h.data,u.success("Todo successfull Deleted")}).catch(h=>{console.error("Error fetching tasks:",h),u.error("Error fetching tasks. Please try again.")})}).catch(V=>{console.error("Error adding new task:",V),u.error("Error adding new task. Please try again.")})};ke({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()}),ke({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()});const Ie=(f,V)=>{F.post("/web/dailytask",y).then(h=>{ie(),$("#FormModal").modal("hide"),u.success("data created successfully!")}).catch(h=>{V.setErrors(h.response.data.errors)})},Oe=(f,V)=>{F.put("/web/dailytask/"+y.dailytask_id,y).then(h=>{console.log(h.data),ie(),$("#FormModal").modal("hide"),u.success("data update successfully!")}).catch(h=>{V.setErrors(h.response.data.errors)})},Be=f=>{f&&f.dailytask_id!==null&&f.dailytask_id!==void 0?(v.value=!0,C.value=" on "+he(f.taskdate).format("MMMM D, YYYY"),y.site=f.site_name,y.dailytask_id=f.dailytask_id,y.plandate=f.plandate,y.planenddate=f.planenddate,y.tasktype=f.tasktype,console.log(f.site_name),console.log(f.tasktype)):v.value=!1,te(),$("#FormModal").modal("show")},ze=(f,V)=>{v.value?Oe(f,V):Ie(f,V)},qe=async f=>{if((await i.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const h=await F.put("/web/dailytask/onTashHoliday/"+f.dailytask_id,f);u.success(h.data.message),ie()}},Ge=async f=>{try{const V=await F.get(`/web/dailytask/${f.dailytask_id}/tasks`);if(D.value=V.data,!D.value||D.value.length===0){i.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await i.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const pe=await F.put("/web/dailytask/onhandler/"+f.dailytask_id,f);u.success(pe.data.message),ie()}}catch(V){console.error("Error fetching tasks:",V),u.error("An error occurred while updating the task.")}},We=f=>{$("#onRemarksModal").modal("show"),G.value=f},H=()=>{y.remarks===null||y.remarks==""?u.error("Remarks is required"):(he(G.value.taskdate).format("YYYY-MM-DD")===he().format("YYYY-MM-DD")?y.status="HIT":y.status="MISS",F.put("/web/dailytask/onhandler/"+G.value.dailytask_id,{startdate:G.value.startdate,remarks:y.remarks,status:y.status}).then(V=>{console.log(V.data),ie(),$("#onRemarksModal").modal("hide"),u.success(V.data.message)}))},j=c(null),fe=c([]);return c(null),ve(j,Ee.exports.debounce(()=>{ie()},300)),ue(()=>{at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ie(),document.title=w}),(f,V)=>(s(),a(O,null,[e("div",sr,[e("div",ar,[e("div",or,[e("div",lr,[e("div",nr,t(r(N).user.first_name+" "+r(N).user.last_name)+" - My Prio ",1)]),e("div",dr,[e("div",ir,[e("div",cr,[e("div",{class:"d-flex"},[e("button",{onClick:Be,type:"button",class:"mb-2 btn btn-primary"},[rr,q(" Task ")])]),e("div",ur,[J(e("input",{type:"text","onUpdate:modelValue":V[0]||(V[0]=h=>j.value=h),class:"form-control",placeholder:"Search..."},null,512),[[re,j.value]])])]),e("div",_r,[_.value?(s(),ce(Ae,{key:0})):(s(),a("div",mr,[p.value.length===0?(s(),a("div",pr,[e("div",hr,[e("div",vr,[e("div",br,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,fr),$r])])])])):(s(),a("div",gr,[(s(!0),a(O,null,K(p.value,h=>(s(),a("div",{class:"card card-primary",key:h.id},[e("div",yr,[e("h4",kr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+h.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,xr),q(" \xA0"),e("b",null,t(r(he)(h.taskdate).format("MMMM D, YYYY")+" - "+h.site_name),1)],8,wr)]),e("div",Cr,[h.tasktypeid&&h.tasktypeid!==6?(s(),a("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:pe=>S(h)},Ur,8,Sr)):L("",!0),!h.enddate&&h.tasktypeid!==6?(s(),a("button",{key:1,disabled:h.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:pe=>We(h)}," End ",8,Vr)):L("",!0),h.tasktypeid&&h.tasktypeid===6?(s(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:pe=>qe(h)}," Complete ",8,Mr)):L("",!0),!h.startdate&&h.tasktypeid!==6?(s(),a("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:pe=>Ge(h)}," Start ",8,Ar)):L("",!0),Er])]),e("div",{id:"collapse"+h.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Fr,[e("div",Lr,[e("div",Pr,[e("div",Ir,[e("div",qr,[e("h5",null,[Yr,q(" "+t(h.site_name),1)]),e("h5",null,[Nr,q(" "+t(h.plandate),1)]),e("h5",null,[Br,q(" "+t(h.planenddate),1)])]),e("div",Rr,[e("h5",null,[Hr,q(" "+t(h.startdate!==null?r(he)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[jr,q(" "+t(h.enddate!==null?r(he)(h.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Or,[zr,q(" "+t(h.tasktype?h.tasktype.join(", "):""),1)])]),e("div",Gr,[e("h5",Wr,[Qr,q(" "+t(h.status),1)]),e("h5",null,[Kr,q(" "+t(h.attachment),1)]),e("h5",null,[Xr,q(" "+t(h.remarks),1)])])]),e("div",Jr,[e("button",{disabled:h.startdate!==null,onClick:pe=>z(h.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Zr),e("button",{onClick:pe=>Be(h),type:"button",disabled:h.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,eu)])]),e("div",tu,[e("ul",su,[e("li",au,[q(" Site: "),e("span",ou,t(h.site_name),1)]),e("li",lu,[q(" Planned Date: "),e("span",nu,t(h.plandate),1)]),e("li",du,[q(" Planned End Date: "),e("span",iu,t(h.planenddate),1)]),e("li",cu,[q(" Start Date: "),e("span",ru,t(h.startdate!==null?r(he)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",uu,[q(" Type: "),e("span",_u,t(h.tasktype?h.tasktype.join(", "):""),1)]),e("li",mu,[q(" Status: "),e("span",pu,t(h.status),1)]),e("li",hu,[q(" Attachment: "),e("span",vu,t(h.attachment),1)]),e("li",bu,[q(" Remarks: "),e("span",fu,t(h.remarks),1)])]),$u,e("div",gu,[e("div",yu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:pe=>Be(h)},[wu,q(" Edit ")],8,ku),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:pe=>z(h.dailytask_id)},Su,8,xu)])])])])])],8,Tr)]))),128))]))]))])])])])])]),e("div",Du,[e("div",Uu,[e("div",Vu,[e("div",Mu,[e("h5",Au,[v.value?(s(),a("span",Eu,"Edit My Task")):(s(),a("span",Tu,"Add My Task")),v.value?(s(),a("span",Fu,t(C.value),1)):L("",!0)]),Lu]),g(r(Ce),{onSubmit:ze},{default:X(()=>[e("div",Pu,[e("div",Iu,[e("div",qu,[e("div",Yu,[g(r(R),{modelValue:y.user_id,"onUpdate:modelValue":V[1]||(V[1]=h=>y.user_id=h),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Nu,[Bu,J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":V[2]||(V[2]=h=>y.site=h)},[Ru,(s(!0),a(O,null,K(l.value,h=>(s(),a("option",{key:h.id,value:h.id},t(h.site_name),9,Hu))),128))],512),[[Te,y.site]])]),v.value==!1?(s(),a("div",ju,[e("div",Ou,[e("div",zu,[Gu,g(r(Fe),{class:"form-control",modelValue:Z.value,"onUpdate:modelValue":V[3]||(V[3]=h=>Z.value=h)},null,8,["modelValue"])]),e("div",Wu,[Qu,J(e("select",{class:"form-control","onUpdate:modelValue":V[4]||(V[4]=h=>de.value=h),id:"plandate"},[(s(!0),a(O,null,K(Y.value,h=>(s(),a("option",{key:h,value:h},t(h),9,Ku))),128))],512),[[Te,de.value]])])]),Xu])):L("",!0),v.value==!1?(s(),a("div",Ju,[e("div",Zu,[e("div",e_,[t_,g(r(Fe),{class:"form-control",modelValue:B.value,"onUpdate:modelValue":V[5]||(V[5]=h=>B.value=h)},null,8,["modelValue"])]),e("div",s_,[a_,J(e("select",{class:"form-control","onUpdate:modelValue":V[6]||(V[6]=h=>A.value=h),id:"plandate"},[(s(!0),a(O,null,K(m.value,h=>(s(),a("option",{key:h,value:h},t(h),9,o_))),128))],512),[[Te,A.value]])])]),l_])):L("",!0),e("div",n_,[d_,g(r(R),{name:"tasktype"},{default:X(()=>[J(e("select",{"onUpdate:modelValue":V[7]||(V[7]=h=>y.tasktype=h),class:"form-control",required:!0},[i_,(s(!0),a(O,null,K(W.value,h=>(s(),a("option",{key:h.value,value:h.value},t(h.name),9,c_))),128))],512),[[Te,y.tasktype]])]),_:1})])])])])]),r_]),_:1})])])]),e("div",u_,[e("div",__,[e("div",m_,[e("div",p_,[e("h5",h_," My Todo of "+t(r(he)(n.value).format("MM/D/YYYY")),1),v_]),e("div",b_,[f_,e("div",$_,[e("div",g_,[D.value.length>0?(s(),a("div",y_,[d.value?(s(),ce(Ae,{key:0,viewBox:"0 0 250 110"},{default:X(()=>[k_,w_]),_:1})):L("",!0),(s(!0),a(O,null,K(D.value,h=>(s(),a("ul",{class:"list-group",key:h.id},[h.iscompleted!==1?(s(),a("li",x_,[e("div",C_,[e("div",null,[e("span",{class:U({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:pe=>k(h),class:U({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,S_)):L("",!0),q(" "+t(h.task_name),1)],2)]),e("div",D_,[e("button",{onClick:pe=>T(h),class:"btn btn-outline"},M_,8,U_)])])])):L("",!0)]))),128)),e("li",A_,[oe.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:E},[e("i",{class:U(["fa",M.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Completed "+t(oe.value),1)])):L("",!0)]),M.value?(s(),a("div",E_,[(s(!0),a(O,null,K(D.value,h=>(s(),a("ul",{class:"list-group",key:h.id},[h.iscompleted===1?(s(),a("li",T_,[e("div",F_,[e("div",null,[e("span",{class:U({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:pe=>k(h),class:U({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,L_)):L("",!0),q(" "+t(h.task_name),1)],2)]),e("div",P_,[e("button",{onClick:pe=>T(h),class:"btn btn-outline"},Y_,8,I_)])])])):L("",!0)]))),128))])):L("",!0)])):(s(),a("div",N_,R_))]),e("div",H_,[g(r(Ce),{onSubmit:b},{default:X(()=>[e("div",j_,[e("div",O_,[e("div",z_,[g(r(R),{modelValue:Q.value.dailytask_id,"onUpdate:modelValue":V[8]||(V[8]=h=>Q.value.dailytask_id=h),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",G_,[g(r(R),{modelValue:Q.value.task_name,"onUpdate:modelValue":V[9]||(V[9]=h=>Q.value.task_name=h),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),W_]),_:1})])])])])])]),e("div",Q_,[e("div",K_,[e("div",X_,[J_,e("div",Z_,[e("div",em,[e("div",tm,[e("div",sm,[g(r(R),{modelValue:y.remarks,"onUpdate:modelValue":V[10]||(V[10]=h=>y.remarks=h),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",am,[e("button",{onClick:V[11]||(V[11]=ee(h=>H(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),om])])])]),e("div",lm,[e("div",nm,[e("div",dm,[im,e("div",cm,[e("button",{onClick:V[12]||(V[12]=ee((...h)=>f.deleteUser&&f.deleteUser(...h),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),rm])])])])],64))}};var _m=ge(um,[["__scopeId","data-v-0c8371d9"]]);const mm={class:"text-center"},pm={key:0},hm={class:"text-center"},vm={key:0},bm={class:"text-center"},fm={key:0,class:"bg-success text-center"},$m={key:1,class:"bg-danger text-center"},gm={key:2,class:"text-center"},ym={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return me(),_e(),(w,_)=>(s(),a("tr",null,[e("td",null,t(r(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",mm,[o.item.task_lists_count!==0?(s(),a("span",pm,t(o.item.task_lists_count),1)):L("",!0)]),e("td",hm,[o.item.completed_task_count!==0?(s(),a("span",vm,t(o.item.completed_task_count),1)):L("",!0)]),e("td",bm,[e("span",null,t(o.item.remarks),1)]),o.item.status==="HIT"?(s(),a("td",fm,t(o.item.status),1)):o.item.status==="MISS"?(s(),a("td",$m,t(o.item.status),1)):o.item.status===null||o.item.status===""?(s(),a("td",gm,t(o.item.status===null||o.item.status===""?"On Going!":""),1)):L("",!0),e("td",{class:U({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},t(o.item.percentage_completed+"%"),3)]))}};const ye=o=>(De("data-v-29653439"),o=o(),Ue(),o),km={class:"content-header"},wm={class:"container-fluid"},xm={class:"col-12"},Cm={class:"card",id:"captureVSCContainer"},Sm={class:"card-header"},Dm={class:"card-title"},Um={class:"card-tools"},Vm={class:"card-body"},Mm=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),Am=[Mm],Em={key:1,class:"row"},Tm={class:"inner"},Fm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Lm=["src"],Pm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Im={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},qm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Ym={style:{"text-align":"left"}},Nm={key:0},Bm=ye(()=>e("span",{class:"text-light badge"},"Todos",-1)),Rm={class:"list-group-item"},Hm={style:{display:"flex","align-items":"left"}},jm={class:"ml-1"},Om={class:"ml-1"},zm={class:"float-right"},Gm={id:"captureHitRateContainer",class:"card"},Wm={class:"card-header"},Qm={class:"card-title"},Km={class:"card-body"},Xm={class:"content"},Jm={class:"container-fluid"},Zm=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),ep=[Zm],tp={class:"dispatch-table"},sp={class:"table-responsive"},ap={class:"table table-bordered table-hover table-sm"},op=ye(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),lp=["item"],np={class:"list-field"},dp=ye(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),ip={class:"list-field"},cp=ye(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),rp={key:0},up={class:"list-field"},_p=ye(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),mp={key:0},pp={class:"list-field"},hp=ye(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),vp={class:"list-field"},bp=ye(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),fp={class:"list-field"},$p=ye(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),gp={class:"float-right"},yp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kp={class:"modal-dialog modal-sm",role:"document"},wp={class:"modal-content"},xp=ye(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Cp={class:"modal-body"},Sp={class:"fromtocenter"},Dp=ye(()=>e("label",{for:"fromDate"},"From:",-1)),Up=ye(()=>e("label",{for:"toDate"},"To:",-1)),Vp=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Mp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ap={class:"modal-dialog modal-sm",role:"document"},Ep={class:"modal-content"},Tp=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Fp={class:"modal-body"},Lp={class:"container"},Pp={class:"row"},Ip=["onClick"],qp=ye(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Yp={__name:"MyVsc",setup(o){const w=`${be().name}`,_=_e(),d=c(!1),i=c([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),p=c((()=>{const A={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",A)})()),D=()=>{const A=document.getElementById("captureVSCContainer");je(A).then(Y=>{const m=Y.toDataURL(),y=document.createElement("a");y.href=m,y.download=`${_.user.first_name+" "+_.user.last_name} - ${w}.png`,y.click()})},l=()=>{const A=document.getElementById("captureHitRateContainer");je(A).then(Y=>{const m=Y.toDataURL(),y=document.createElement("a");y.href=m,y.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,y.click()})};c(null),c("today");const M=c({data:[]}),v=c({data:[]}),C=()=>{d.value=!0,axios.get("/api/myvsc").then(A=>{d.value=!1,M.value=A.data.dailyTasks,v.value=A.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},x=c({start_date:"",end_date:""}),N=c(""),W=c("");ve([N],()=>{const A=new Date(N.value),Y=A.getFullYear(),m=String(A.getMonth()+1).padStart(2,"0"),y=String(A.getDate()).padStart(2,"0");x.value.start_date=`${Y}-${m}-${y}`}),ve([W],()=>{const A=new Date(W.value),Y=A.getFullYear(),m=String(A.getMonth()+1).padStart(2,"0"),y=String(A.getDate()).padStart(2,"0");x.value.end_date=`${Y}-${m}-${y}`});const Z=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:x.value.start_date,end_date:x.value.end_date}}).then(A=>{d.value=!1,M.value=A.data.dailyTasks,v.value=A.data.TaskList}).catch(A=>{console.error(A)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},de=()=>{$("#FormModalPickerThemes").modal("show")},B=A=>{if(A){const Y=_.user.id;axios.post("/api/changethemes",{userid:Y,background:A.background,active_background:A.active_background,font_background:A.font_background}).then(m=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(y=>{d.value=!1,M.value=y.data.dailyTasks,v.value=y.data.TaskList})}).catch(m=>{console.error(m)})}else console.error("Invalid item:",A)};return ue(()=>{C(),document.title=w}),(A,Y)=>(s(),a(O,null,[e("div",km,[e("div",wm,[e("div",xm,[e("div",Cm,[e("div",Sm,[e("div",Dm,[e("h5",null,t(r(_).user.first_name+" "+r(_).user.last_name)+" - "+t(w),1)]),e("div",Um,[e("i",{onClick:Y[0]||(Y[0]=m=>de()),class:"fas fa-palette"})])]),e("div",Vm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:D,type:"button",class:"mb-2 btn btn-sm btn-success"},Am)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(s(),ce(Ae,{key:0})):(s(),a("div",Em,[(s(!0),a(O,null,K(M.value,m=>(s(),a("div",{class:"col-lg-3 col-6",key:m.id},[e("div",{class:"small-box",style:Qe("background-color: "+(r(he)(m.taskdate).format("MMMM D, YYYY")===p.value?m.active_background==""?"#72461F":m.active_background:m.background==""?"#B98D65":m.background)+";")},[e("div",Tm,[e("div",Fm,[q(t(r(he)(m.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Lm)]),e("div",Pm,t(r(he)(m.taskdate).format("MMMM D, YYYY")),1),m.tasktype!==6?(s(),a("div",Im,t(m.site_name),1)):L("",!0),m.tasktype===6?(s(),a("div",qm," Holiday ")):L("",!0),e("div",Ym,[m.task_lists&&m.task_lists.length>0?(s(),a("div",Nm,[Bm,(s(!0),a(O,null,K(m.task_lists,y=>(s(),a("ul",{class:"list-group list-group-flush",key:y.id},[e("li",Rm,[e("div",Hm,[e("div",jm,[e("i",{class:U(y.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Om,t(y.task_name),1)])])]))),128))])):L("",!0)])])],4)]))),128))])),e("div",zm,t(p.value),1)])]),e("div",Gm,[e("div",Wm,[e("div",Qm,[e("h5",null,t(r(_).user.first_name+" "+r(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Km,[e("div",Xm,[e("div",Jm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},ep)])]),e("div",tp,[e("div",sp,[e("table",ap,[op,e("tbody",null,[(s(!0),a(O,null,K(v.value,m=>(s(),ce(ym,{key:m.id,item:m},null,8,["item"]))),128))])])])]),(s(!0),a(O,null,K(v.value,m=>(s(),a("div",{class:"dispatch-list",key:m.id,item:m},[e("div",{class:U([{"callout callout-success":m.remarks==="HIT","callout callout-danger":m.remarks==="MISS",callout:m.remarks===null}])},[e("div",np,[dp,e("span",null,t(r(he)(m.taskdate).format("MMMM D, YYYY")),1)]),e("div",ip,[cp,m.task_lists_count!==0?(s(),a("span",rp,t(m.task_lists_count),1)):L("",!0)]),e("div",up,[_p,m.completed_task_count!==0?(s(),a("span",mp,t(m.completed_task_count),1)):L("",!0)]),e("div",pp,[hp,e("span",null,t(m.remarks),1)]),e("div",vp,[bp,e("span",{class:U(["badge",m.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(m.status),1)],2)]),e("div",fp,[$p,e("span",{class:U(["badge",{"bg-danger":m.percentage_completed>=0&&m.percentage_completed<=59},{"bg-orange":m.percentage_completed>60&&m.percentage_completed<=90},{"bg-success":m.percentage_completed===100}])},t(m.percentage_completed+"%"),3)])],2)],8,lp))),128))])]),e("div",gp,t(p.value),1)])])])])]),e("div",yp,[e("div",kp,[e("div",wp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(w)+" Summary Report")]),xp]),e("div",Cp,[e("div",Sp,[e("div",null,[Dp,g(r(Fe),{modelValue:N.value,"onUpdate:modelValue":Y[1]||(Y[1]=m=>N.value=m)},null,8,["modelValue"])]),e("div",null,[Up,g(r(Fe),{modelValue:W.value,"onUpdate:modelValue":Y[2]||(Y[2]=m=>W.value=m)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Vp,e("button",{onClick:Z,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Mp,[e("div",Ap,[e("div",Ep,[Tp,e("div",Fp,[e("div",Lp,[e("div",Pp,[(s(!0),a(O,null,K(i.value,m=>(s(),a("div",{class:"col-md-4",key:m.background},[e("div",{class:"box",onClick:y=>B(m)},[e("div",{class:"column",style:Qe({"background-color":m.background})}," \xA0 ",4),e("div",{class:"column",style:Qe({"background-color":m.active_background})}," \xA0 ",4)],8,Ip)]))),128))])])]),qp])])])],64))}};var Np=ge(Yp,[["__scopeId","data-v-29653439"]]);const Bp={class:"text-center"},Rp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return me(),_e(),(w,_)=>(s(),a("tr",null,[e("td",null,t(o.item.sitename),1),e("td",null,t(r(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(o.item.startdate),1),e("td",null,t(o.item.enddate),1),e("td",null,t(o.item.tasktype.listtask),1),e("td",Bp,[e("span",{class:U(["badge",o.item.status==="HIT"?"bg-success":"bg-danger"])},t(o.item.status),3)]),e("td",null,t(o.item.remarks),1)]))}};var Hp=ge(Rp,[["__scopeId","data-v-b058f1b2"]]);const xe=o=>(De("data-v-65d2a690"),o=o(),Ue(),o),jp={class:"content"},Op={class:"container-fluid"},zp={class:"card",id:"capturePrioContainer"},Gp={class:"card-header"},Wp={class:"card-title"},Qp={class:"card-body"},Kp={key:1,class:"content"},Xp={class:"container-fluid"},Jp=xe(()=>e("i",{class:"fa fa-camera"},null,-1)),Zp=[Jp],eh={class:"dispatch-table"},th={class:"table-responsive"},sh={class:"table table-bordered table-sm table-striped table-hover"},ah=xe(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),oh={key:0},lh={key:1},nh=xe(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),dh=[nh],ih=["item","index"],ch={class:"card"},rh={class:"card-body"},uh={class:"list-field"},_h=xe(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),mh={class:"list-field"},ph=xe(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),hh={class:"list-field"},vh=xe(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),bh={class:"list-field"},fh=xe(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),$h={class:"list-field"},gh=xe(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),yh={class:"list-field"},kh=xe(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),wh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xh={class:"modal-dialog modal-sm",role:"document"},Ch={class:"modal-content"},Sh=xe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Dh={class:"modal-body"},Uh={class:"fromtocenter"},Vh=xe(()=>e("label",{for:"fromDate"},"From:",-1)),Mh=xe(()=>e("label",{for:"toDate"},"To:",-1)),Ah=xe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Eh={__name:"MyClosePrioList",setup(o){const w=`${be().name}`,_=c(!1);me();const d=c({data:[]}),i=c(""),u=c(""),p=_e(),D=(C=1)=>{_.value=!0,F.get(`/api/mycloseprio?page=${C}`,{params:{query:v.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const C=document.getElementById("capturePrioContainer");je(C).then(n=>{const x=n.toDataURL(),N=document.createElement("a");N.href=x,N.download="MY CLOSED PRIO.png",N.click()})},M=()=>{_.value=!0,F.get("/api/filter-closeprio",{params:{start_date:i.value,end_date:u.value}}).then(C=>{_.value=!1,d.value=C.data.dailyTasks}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},v=c(null);return ve(v,Ee.exports.debounce(()=>{D()},300)),ue(()=>{D(),document.title=w}),(C,n)=>{const x=$e("font");return s(),a(O,null,[e("div",jp,[e("div",Op,[e("div",zp,[e("div",Gp,[e("div",Wp,[e("h5",null,t(r(p).user.first_name+" "+r(p).user.last_name)+" - My Closed Prio ",1)])]),e("div",Qp,[_.value?(s(),ce(Ae,{key:0})):(s(),a("div",Kp,[e("div",Xp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},Zp)])]),e("div",null,[e("div",eh,[e("div",th,[g(x,{size:"2"},{default:X(()=>[e("table",sh,[ah,d.value.data.length>0?(s(),a("tbody",oh,[(s(!0),a(O,null,K(d.value.data,(N,W)=>(s(),ce(Hp,{key:N.id,item:N,index:W},null,8,["item","index"]))),128))])):(s(),a("tbody",lh,dh))])]),_:1})])]),(s(!0),a(O,null,K(d.value.data,(N,W)=>(s(),a("div",{class:"dispatch-list first-letter:shadow",key:N.id,item:N,index:W},[e("div",ch,[e("div",rh,[e("div",uh,[_h,e("span",null,t(N.sitename),1)]),e("div",mh,[ph,e("span",null,t(r(he)(N.taskdate).format("MMMM D, YYYY")),1)]),e("div",hh,[vh,e("span",null,t(N.startdate),1)]),e("div",bh,[fh,e("span",null,t(N.enddate),1)]),e("div",$h,[gh,e("span",null,t(N.tasktype.listtask),1)]),e("div",yh,[kh,e("span",{class:U(["badge",N.remarks==="HIT"?"bg-success":"bg-danger"])},t(N.remarks),3)])])])],8,ih))),128))])])]))])]),g(r(Pe),{data:d.value,onPaginationChangePage:D},null,8,["data"])])]),e("div",wh,[e("div",xh,[e("div",Ch,[Sh,e("div",Dh,[e("div",Uh,[e("div",null,[Vh,g(r(Fe),{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=N=>i.value=N)},null,8,["modelValue"])]),e("div",null,[Mh,g(r(Fe),{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=N=>u.value=N)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Ah,e("button",{onClick:M,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Th=ge(Eh,[["__scopeId","data-v-65d2a690"]]);const Fh=["checked"],Lh={class:"text-center"},Ph=e("i",{class:"fa fa-edit"},null,-1),Ih=[Ph],qh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:w}){me();const _=o,d=w,i=()=>{d("toggleSelection",_.user)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,Fh)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",Lh,[e("a",{href:"#",onClick:p[0]||(p[0]=ee(D=>u.$emit("editUser",o.user),["prevent"]))},Ih)])]))}},Yh={class:"content"},Nh={class:"container-fluid"},Bh={class:"card"},Rh={class:"card-header"},Hh=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),jh={class:"card-tools"},Oh={class:"card-body"},zh={class:"table-responsive"},Gh={class:"table table-bordered table-hover table-sm"},Wh=e("th",{style:{width:"10px"}},"#",-1),Qh=e("th",null,"Name",-1),Kh=e("th",null,"Email",-1),Xh=e("th",null,"Registered Date",-1),Jh=e("th",null,"Options",-1),Zh={key:0},ev={key:1},tv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),sv=[tv],av={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ov={class:"modal-dialog modal-sm",role:"document"},lv={class:"modal-content"},nv={class:"modal-header"},dv={class:"modal-title",id:"staticBackdropLabel"},iv={key:0},cv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),rv={class:"modal-body"},uv={class:"table table-sm"},_v=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),mv={colspan:"5"},pv={class:"custom-control custom-checkbox"},hv=["value","id","checked"],vv=["for"],bv={key:0,class:"table table-sm"},fv={class:"text-danger"},$v={class:"custom-control custom-checkbox"},gv=["value","id"],yv=["for"],kv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xv={class:"modal-dialog",role:"document"},Cv={class:"modal-content"},Sv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Dv={class:"modal-footer"},Uv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vv={__name:"UserMenuList",setup(o){const w=`${be().name}`,_=me(),d=c({data:[]}),i=c(!1),u=c(),p=c(null),D=c(null),l=c([]),M=(B=1)=>{F.get(`/api/users?page=${B}`,{params:{query:n.value}}).then(A=>{d.value=A.data,x.value=[],selectAll.value=!1})},v=B=>{F.get("/api/usermenu",{params:{user_id:B.id}}).then(A=>{de.value=A.data,console.log(A.data)}).catch(A=>{console.log(A)}),i.value=!0,p.value.resetForm(),$("#userFormModal").modal("show"),u.value={id:B.id,username:B.username,email:B.email,first_name:B.first_name,last_name:B.last_name},D.value=u.value.first_name+" "+u.value.last_name},C=()=>{const B={user_id:u.value.id,menu_id:l.value};console.log(B),F.post("/api/usermenu",B).then(A=>{_.success("User Menu Save successfully!")}).catch(A=>{setErrors(A.response.data.errors)})},n=c(null),x=c([]),N=B=>{const A=x.value.indexOf(B.id);A===-1?x.value.push(B.id):x.value.splice(A,1),console.log(x.value)},W=c(null),Z=B=>{W.value=B,$("#deleteUserModal").modal("show")},de=c({data:[]});return ve(n,Ee.exports.debounce(()=>{M()},300)),ue(()=>{M(),document.title=w}),(B,A)=>{const Y=$e("font");return s(),a(O,null,[e("div",Yh,[e("div",Nh,[e("div",Bh,[e("div",Rh,[Hh,e("div",jh,[J(e("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=m=>n.value=m),class:"form-control",placeholder:"Search..."},null,512),[[re,n.value]])])]),e("div",Oh,[e("div",zh,[g(Y,{size:"2"},{default:X(()=>[e("table",Gh,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":A[1]||(A[1]=m=>B.selectAll=m),onChange:A[2]||(A[2]=(...m)=>B.selectAllUsers&&B.selectAllUsers(...m))},null,544),[[Me,B.selectAll]])]),Wh,Qh,Kh,Xh,Jh])]),d.value.data.length>0?(s(),a("tbody",Zh,[(s(!0),a(O,null,K(d.value.data,(m,y)=>(s(),ce(qh,{key:m.id,user:m,index:y,onEditUser:v,onConfirmUserDeletion:Z,onToggleSelection:N,"select-all":B.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),a("tbody",ev,sv))])]),_:1})])])]),g(r(Pe),{data:d.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",av,[e("div",ov,[e("div",lv,[e("div",nv,[e("h5",dv,[i.value?(s(),a("span",iv,"User Menu for "+t(D.value),1)):L("",!0)]),cv]),g(r(Ce),{ref_key:"form",ref:p,onSubmit:C,"initial-values":u.value},{default:X(()=>[e("div",rv,[e("table",uv,[_v,(s(!0),a(O,null,K(de.value,m=>(s(),a("tr",{key:m.menu_id},[e("td",mv,[e("div",pv,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":A[3]||(A[3]=y=>l.value=y),value:m.menu_id,id:"menu_id_"+m.menu_id,checked:m.hasAccess},null,8,hv),[[Me,l.value]]),e("label",{for:"menu_id_"+m.menu_id,class:"custom-control-label"},t(m.menu_title),9,vv)]),m.submenus&&m.submenus.length>0?(s(),a("table",bv,[(s(!0),a(O,null,K(m.submenus,y=>(s(),a("tr",{key:y.id},[e("td",fv,[e("div",$v,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":A[4]||(A[4]=G=>l.value=G),value:y.menu_id,id:"menu_id_"+y.menu_id},null,8,gv),[[Me,l.value]]),e("label",{for:"menu_id_"+y.menu_id,class:"custom-control-label"},t(y.menu_title),9,yv)])])]))),128))])):L("",!0)])]))),128))])]),kv]),_:1},8,["initial-values"])])])]),e("div",wv,[e("div",xv,[e("div",Cv,[Sv,e("div",Dv,[Uv,e("button",{onClick:A[5]||(A[5]=ee((...m)=>B.deleteUser&&B.deleteUser(...m),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const lt=o=>(De("data-v-1f6da5a7"),o=o(),Ue(),o),Mv=["checked"],Av=["innerHTML"],Ev={style:{"text-align":"center"}},Tv={class:"text-center"},Fv=lt(()=>e("i",{class:"fa fa-edit"},null,-1)),Lv=[Fv],Pv=lt(()=>e("i",{class:"fa fa-trash"},null,-1)),Iv=[Pv],qv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:w}){me(),_e();const _=o,d=w,i=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,Mv)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.menu_title),1),e("td",null,t(o.item.parent_title),1),e("td",null,t(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Av),e("td",null,t(o.item.sort_order),1),e("td",Ev,[e("i",{class:U({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,t(o.item.created_at),1),e("td",Tv,[e("button",{class:"btn btn-sm bg-primary",onClick:p[0]||(p[0]=ee(D=>u.$emit("editMenu",o.item),["prevent"]))},Lv),q("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:p[1]||(p[1]=ee(D=>u.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Iv)])]))}};var Yv=ge(qv,[["__scopeId","data-v-1f6da5a7"]]);const Nv=["type","name","value"],Bv=e("span",{class:"check"},null,-1),Rv={class:"pl-2"},Hv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:w}){const _=o,d=w,i=Se({get:()=>_.modelValue,set:p=>{d("update:modelValue",p)}}),u=Se(()=>_.type==="radio"?"radio":"checkbox");return(p,D)=>(s(),a("label",{class:U([o.type,"mr-6 mb-3 last:mr-0"])},[J(e("input",{"onUpdate:modelValue":D[0]||(D[0]=l=>i.value=l),type:u.value,name:o.name,value:o.inputValue},null,8,Nv),[[st,i.value]]),Bv,e("span",Rv,t(o.label),1)],2))}},jv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:w}){const _=o,d=w,i=Se({get:()=>_.modelValue,set:u=>{d("update:modelValue",u)}});return(u,p)=>(s(),a("div",{class:U(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(s(!0),a(O,null,K(o.options,(D,l)=>(s(),ce(Hv,{key:l,modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=M=>i.value=M),type:o.type,name:o.name,"input-value":l,label:D,class:U(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Ov={class:"content"},zv={class:"container-fluid"},Gv={class:"d-flex justify-content-between"},Wv={class:"d-flex"},Qv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Kv={key:0},Xv=e("i",{class:"fa fa-trash mr-1"},null,-1),Jv={class:"ml-2"},Zv={class:"card"},e1={class:"card-body"},t1={class:"table-responsive"},s1={class:"table table-bordered table-sm"},a1=e("th",{style:{width:"10px"}},"#",-1),o1=e("th",null,"Title",-1),l1=e("th",null,"Parent Menu",-1),n1=e("th",null,"Route",-1),d1=e("th",null,"Icon",-1),i1=e("th",null,"Sort",-1),c1=e("th",null,"Active",-1),r1=e("th",null,"Date",-1),u1=e("th",null,"Action",-1),_1={key:0},m1={key:1},p1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),h1=[p1],v1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},b1={class:"modal-dialog modal-sm",role:"document"},f1={class:"modal-content"},$1={class:"modal-header"},g1={class:"modal-title",id:"staticBackdropLabel"},y1={key:0},k1={key:1},w1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),x1={class:"modal-body"},C1={class:"col-md-12"},S1={class:"row"},D1={class:"col-12"},U1={class:"form-group"},V1=e("label",{for:"user"},"Menu Title",-1),M1={class:"invalid-feedback"},A1={class:"form-group"},E1=e("label",{for:"department"},"Parent Menu",-1),T1=e("option",{value:"0"},"None",-1),F1=["value"],L1={class:"form-group"},P1=e("label",{for:"warehouse"},"Icon",-1),I1={class:"invalid-feedback"},q1={class:"form-group"},Y1=e("label",{for:"user"},"Route",-1),N1={class:"invalid-feedback"},B1={class:"form-group"},R1=e("label",{for:"user"},"Sort",-1),H1={class:"invalid-feedback"},j1={class:"form-group"},O1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),z1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},G1={class:"modal-dialog",role:"document"},W1={class:"modal-content"},Q1=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),K1={class:"modal-footer"},X1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),J1={__name:"MenuList",setup(o){const w=`${be().name}`,_=me(),d=c({data:[]}),i=c({data:[]}),u=c(!1),p=c(!1);c();const D=c(!0),l=Ve({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),M=_e();c(null);const v=c(),C=(z=1)=>{u.value=!0,F.get(`/api/menulist?page=${z}`,{params:{query:B.value}}).then(P=>{u.value=!1,d.value=P.data,A.value=[],te.value=!1})},n=()=>{F.get("/api/GetParentId").then(z=>{i.value=z.data}).catch(z=>{console.error(z)})};ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const x=({resetForm:z,setErrors:P})=>{F.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(S=>{d.value.data.unshift(S.data),$("#FormModal").modal("hide"),z(),_.success("User created successfully!")}).catch(S=>{S.response.data.errors&&P(S.response.data.errors)})},N=()=>{p.value=!1,$("#FormModal").modal("show")},W=z=>{p.value=!0,l.menu_id=z.menu_id,l.menu_title=z.menu_title,l.parent_id=z.parent_id,l.menu_icon=z.menu_icon,l.menu_route=z.menu_route,l.sort_order=z.sort_order,l.is_active===1?D.value=!0:D.value=!1,l.is_active=z.is_active,$("#FormModal").modal("show"),v.value=z.parent_id},Z=({setErrors:z})=>{F.post("/api/menulist",l).then(P=>{C(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(P=>{z(P.response.data.errors),console.log(P)})},de=(z,P)=>{p.value?Z(z):x(z)},B=c(null),A=c([]),Y=z=>{const P=A.value.indexOf(z.id);P===-1?A.value.push(z.id):A.value.splice(P,1),console.log(A.value)},m=c(null),y=z=>{m.value=z,$("#deleteClientModal").modal("show")},G=()=>{F.delete(`/api/menu/${m.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(z=>z.menu_id!==m.value)})},Q=()=>{F.delete("menulist",{data:{ids:A.value}}).then(z=>{d.value.data=d.value.data.filter(P=>!A.value.includes(P.id)),A.value=[],te.value=!1,_.success(z.data.message)})},te=c(!1),ie=()=>{te.value?A.value=d.value.data.map(z=>z.id):A.value=[],console.log(A.value)};return ve([D],z=>{l.is_active=z?1:0}),ve(B,Ee.exports.debounce(()=>{C()},300)),ue(()=>{C(),n(),document.title=w}),(z,P)=>{const S=$e("font");return s(),a(O,null,[e("div",Ov,[e("div",zv,[e("div",Gv,[e("div",Wv,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[Qv,q(" Menu ")]),A.value.length>0?(s(),a("div",Kv,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xv,q(" Delete Selected ")]),e("span",Jv,"Selected "+t(A.value.length)+" Menu",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=b=>B.value=b),class:"form-control",placeholder:"Search..."},null,512),[[re,B.value]])])]),e("div",Zv,[e("div",e1,[u.value?(s(),ce(Ae,{key:0})):L("",!0),e("div",t1,[g(S,{size:"2"},{default:X(()=>[e("table",s1,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":P[1]||(P[1]=b=>te.value=b),onChange:ie},null,544),[[Me,te.value]])]),a1,o1,l1,n1,d1,i1,c1,r1,u1])]),d.value.data.length>0?(s(),a("tbody",_1,[(s(!0),a(O,null,K(d.value.data,(b,k)=>(s(),ce(Yv,{key:b.id,item:b,index:k,onEditMenu:W,onConfirmDeletion:y,onToggleSelection:Y,"select-all":te.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",m1,h1))])]),_:1})])])]),g(r(Pe),{data:d.value,onPaginationChangePage:C},null,8,["data"])])]),e("div",v1,[e("div",b1,[e("div",f1,[e("div",$1,[e("h5",g1,[p.value?(s(),a("span",y1,"Edit Menu")):(s(),a("span",k1,"Add Menu"))]),w1]),g(r(Ce),{onSubmit:de},{default:X(({errors:b})=>[e("div",x1,[e("div",C1,[e("div",S1,[e("div",D1,[g(r(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(M).user.id,"onUpdate:modelValue":P[2]||(P[2]=k=>r(M).user.id=k)},null,8,["modelValue"]),e("div",U1,[V1,g(r(R),{name:"menu_title",type:"text",class:U(["form-control",{"is-invalid":b.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":P[3]||(P[3]=k=>l.menu_title=k)},null,8,["class","modelValue"]),e("span",M1,t(b.menu_title),1)]),e("div",A1,[E1,J(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":P[4]||(P[4]=k=>l.parent_id=k)},[T1,(s(!0),a(O,null,K(i.value,k=>(s(),a("option",{key:k.menu_id,value:k.menu_id},t(k.menu_title),9,F1))),128))],512),[[Te,l.parent_id]])]),e("div",L1,[P1,g(r(R),{name:"menu_icon",type:"text",class:U(["form-control",{"is-invalid":b.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":P[5]||(P[5]=k=>l.menu_icon=k)},null,8,["class","modelValue"]),e("span",I1,t(b.menu_icon),1)]),e("div",q1,[Y1,g(r(R),{name:"menu_route",type:"text",class:U(["form-control",{"is-invalid":b.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":P[6]||(P[6]=k=>l.menu_route=k)},null,8,["class","modelValue"]),e("span",N1,t(b.menu_route),1)]),e("div",B1,[R1,g(r(R),{name:"sort_order",type:"text",class:U(["form-control",{"is-invalid":b.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":P[7]||(P[7]=k=>l.sort_order=k)},null,8,["class","modelValue"]),e("span",H1,t(b.sort_order),1)]),e("div",j1,[g(jv,{modelValue:l.is_active,"onUpdate:modelValue":P[8]||(P[8]=k=>l.is_active=k),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),O1]),_:1})])])]),e("div",z1,[e("div",G1,[e("div",W1,[Q1,e("div",K1,[X1,e("button",{onClick:ee(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Z1={class:"error-page"},eb=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),tb=[eb],sb="Page Not Found",nt={__name:"404",setup(o){return ue(()=>{document.title=sb}),(w,_)=>(s(),a("div",Z1,tb))}};const le=o=>(De("data-v-6a0c00fc"),o=o(),Ue(),o),ab={id:"exportPDF"},ob={class:"container"},lb=le(()=>e("br",null,null,-1)),nb={class:"header"},db=["src"],ib=["src"],cb={class:"header"},rb={class:"header-justify-space-between"},ub=le(()=>e("br",null,null,-1)),_b=le(()=>e("p",null,null,-1)),mb={key:0},pb=le(()=>e("strong",null,null,-1)),hb=le(()=>e("br",null,null,-1)),vb=le(()=>e("br",null,null,-1)),bb=le(()=>e("p",null,null,-1)),fb=le(()=>e("strong",null,"Unit details",-1)),$b={class:"content"},gb={class:"header-justify-space-between"},yb=le(()=>e("span",null,"Brand:",-1)),kb=le(()=>e("br",null,null,-1)),wb=le(()=>e("span",null,"Model:",-1)),xb=le(()=>e("br",null,null,-1)),Cb=le(()=>e("div",null,null,-1)),Sb=le(()=>e("span",null,"Serial #:",-1)),Db=le(()=>e("br",null,null,-1)),Ub=le(()=>e("span",null,"Asset Tag:",-1)),Vb=le(()=>e("br",null,null,-1)),Mb=le(()=>e("div",null,null,-1)),Ab=le(()=>e("strong",null,"Reported problem",-1)),Eb={class:"content"},Tb=le(()=>e("strong",null,"Assessment conducted",-1)),Fb={class:"content"},Lb=le(()=>e("strong",null,"Recommendation",-1)),Pb={class:"content"},Ib={class:"header-justify-space-between"},qb=le(()=>e("strong",null,"Evaluated by:",-1)),Yb=le(()=>e("br",null,null,-1)),Nb={class:"botoom-line"},Bb=le(()=>e("br",null,null,-1)),Rb=le(()=>e("p",null,null,-1)),Hb=le(()=>e("strong",null,"Noted by:",-1)),jb=le(()=>e("br",null,null,-1)),Ob={class:"botoom-line"},zb=le(()=>e("br",null,null,-1)),Gb=le(()=>e("br",null,null,-1)),Wb=le(()=>e("p",null,null,-1)),Qb={key:0},Kb={key:1},Xb={key:0,class:"fab-container"},Jb=le(()=>e("i",{class:"fas fa-download"},null,-1)),Zb=[Jb],ef={__name:"TechRecommApproved",setup(o){const w=`${be().params.id}`,_=()=>{const u=document.getElementById("exportPDF");ot().from(u).save(`${w}.pdf`)},d=Ve({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),i=()=>{F.get(`/api/tech-recommendations/${be().params.id}`).then(u=>{d.id=u.data.id,d.recommnum=u.data.recommnum,d.branch=u.data.branch,d.company=u.data.company,d.department=u.data.department,d.warehouse=u.data.warehouse,d.user=u.data.user,d.problem=u.data.problem,d.brand=u.data.brand,d.model=u.data.model,d.assettag=u.data.assettag,d.serialnum=u.data.serialnum,d.status=u.data.status,d.assconducted=u.data.assconducted,d.recommendation=u.data.recommendation,d.createdby=u.data.createdby.cfull_name,d.updatedby=u.data.updatedby.ufull_name,d.created_at=he(u.data.created_at).format("MMMM D, YYYY"),d.updated_at=he(u.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=u.data.createdby.cposition,d.updated_position=u.data.updatedby.uposition}).catch(u=>{actions.setErrors(u.response.data.errors)})};return ue(()=>{i(),document.title=w}),(u,p)=>(s(),a(O,null,[e("div",ab,[e("div",ob,[lb,e("div",nb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,db),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,ib)]),e("div",cb,[e("span",null,[q("Recommendation No: "),e("strong",null,t(d.recommnum),1)]),e("span",null,[q("Date Checked: "),e("strong",null,t(d.created_at),1)])]),e("div",rb,[e("div",null,[e("span",null,[q("Company: "),e("strong",null,t(d.company),1)]),ub,e("span",null,[q("Branch: "),e("strong",null,t(d.branch),1)])]),_b,e("div",null,[d.warehouse==""?(s(),a("span",mb,[q("Warehouse: "),pb,q(t(d.warehouse),1)])):L("",!0),hb,e("span",null,[q("User: "),e("strong",null,t(d.user),1)]),vb,e("span",null,[q("Department: "),e("strong",null,t(d.department),1)])]),bb]),fb,e("div",$b,[e("div",gb,[e("div",null,[yb,e("strong",null,t(d.brand),1),kb,wb,e("strong",null,t(d.model),1),xb]),Cb,e("div",null,[Sb,e("strong",null,t(d.serialnum),1),Db,Ub,e("strong",null,t(d.assettag),1),Vb]),Mb])]),Ab,e("div",Eb,[e("p",null,t(d.problem),1)]),Tb,e("div",Fb,[e("p",null,t(d.assconducted),1)]),Lb,e("div",Pb,[e("p",null,t(d.recommendation),1)]),e("div",Ib,[e("div",null,[qb,Yb,e("span",Nb,t(d.createdby),1),Bb,e("span",null,t(d.created_position),1)]),Rb,e("div",null,[Hb,jb,e("span",Ob,t(d.updatedby),1),zb,e("span",null,t(d.updated_position),1),Gb]),Wb]),d.status===2?(s(),a("span",Qb,"Approved date:("+t(d.updated_at)+")",1)):(s(),a("span",Kb,"Pending"))])]),d.status===2?(s(),a("div",Xb,[e("div",{class:"button iconbutton bg-success",onClick:p[0]||(p[0]=D=>_())},Zb)])):L("",!0)],64))}};var dt=ge(ef,[["__scopeId","data-v-6a0c00fc"]]);const tf={},sf={class:"card mx-auto",style:{"max-width":"600px"}},af=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),of={class:"card-body"},lf={class:"list-unstyled"};function nf(o,w){return s(),a("div",sf,[af,e("div",of,[e("ul",lf,[e("li",{class:"nav-item dropdown",onClick:w[0]||(w[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var df=ge(tf,[["render",nf]]);const cf=["checked"],rf={class:"text-center"},uf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:w}){me(),_e();const _=o,d=w,i=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,cf)]),e("td",null,t(o.index+1),1),e("td",{onClick:p[0]||(p[0]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.site_name),1),e("td",{onClick:p[1]||(p[1]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_name),1),e("td",{onClick:p[2]||(p[2]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_type),1),e("td",{onClick:p[3]||(p[3]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.serial),1),e("td",{onClick:p[4]||(p[4]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.date_acquired),1),e("td",{onClick:p[5]||(p[5]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.man_supplier),1),e("td",{onClick:p[6]||(p[6]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.unit),1),e("td",{onClick:p[7]||(p[7]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:p[8]||(p[8]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:p[9]||(p[9]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_by),1),e("td",{onClick:p[10]||(p[10]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_at),1),e("td",{onClick:p[11]||(p[11]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.updated_by),1),e("td",rf,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:p[12]||(p[12]=ee(D=>u.$emit("editData",o.item),["prevent"]))}),q(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:p[13]||(p[13]=ee(D=>u.$emit("confirmDeletion",o.item.id),["prevent"]))})])])]))}};var _f=ge(uf,[["__scopeId","data-v-78d9436c"]]);const mf={class:"content"},pf={class:"container-fluid"},hf={class:"d-flex justify-content-between"},vf={class:"d-flex"},bf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ff={key:0},$f=e("i",{class:"fa fa-trash mr-1"},null,-1),gf={class:"ml-2"},yf={class:"card"},kf={class:"card-body"},wf={class:"table-responsive"},xf={class:"table table-bordered table-sm table-striped hover"},Cf=e("th",{style:{width:"10px"}},"#",-1),Sf=e("th",null,"Site",-1),Df=e("th",null,"Asset",-1),Uf=e("th",null,"Asset type",-1),Vf=e("th",null,"Serial",-1),Mf=e("th",null,"Date Aquired",-1),Af=e("th",null,"Supplier",-1),Ef=e("th",null,"Unit",-1),Tf=e("th",null,"Purchase Cost",-1),Ff=e("th",null,"Unit Value",-1),Lf=e("th",null,"Createdby",-1),Pf=e("th",null,"CreatedAt",-1),If=e("th",null,"Updatedby",-1),qf=e("th",null,"Action",-1),Yf={key:0},Nf={key:1},Bf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Rf=[Bf],Hf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},jf={class:"modal-dialog modal-lg",role:"document"},Of={class:"modal-content"},zf={class:"modal-header"},Gf={class:"modal-title",id:"staticBackdropLabel"},Wf={key:0},Qf={key:1},Kf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Xf={class:"modal-body"},Jf={class:"col-md-12"},Zf={class:"row"},e$={class:"col-6"},t$={class:"form-group"},s$=e("label",{for:"branch"},"Site",-1),a$=e("option",{value:"",disabled:""}," Select Site ",-1),o$=["value"],l$={class:"invalid-feedback"},n$={class:"form-group"},d$=e("label",{for:"department"},"Asset Name",-1),i$={class:"invalid-feedback"},c$={class:"form-group"},r$=e("label",{for:"asset_type"},"Asset Type",-1),u$={class:"invalid-feedback"},_$={class:"form-group"},m$=e("label",{for:"serial"},"Serial #:",-1),p$={class:"invalid-feedback"},h$={class:"col-6"},v$={class:"form-group"},b$=e("label",{for:"date_acquired"},"Date Acquired",-1),f$={class:"invalid-feedback"},$$={class:"form-group"},g$=e("label",{for:"man_supplier"},"Brand",-1),y$={class:"invalid-feedback"},k$={class:"form-group"},w$=e("label",{for:"unit"},"Unit",-1),x$={class:"invalid-feedback"},C$={class:"row"},S$={class:"col-6"},D$={class:"form-group"},U$=e("label",{for:"paccountable"},"Person Accountable",-1),V$={class:"invalid-feedback"},M$={class:"col-6"},A$={class:"form-group"},E$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),T$={class:"invalid-feedback"},F$={class:"row"},L$={class:"col-6"},P$={class:"form-group"},I$=e("label",{for:"cucodition"},"Current Condition",-1),q$=e("option",{value:"",disabled:""}," Select Condition ",-1),Y$=e("option",{value:"Fair"}," FAIR ",-1),N$=e("option",{value:"Good"}," GOOD ",-1),B$=e("option",{value:"Damange"}," DAMANGE ",-1),R$={class:"invalid-feedback"},H$={class:"form-group"},j$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),O$={class:"col-6"},z$={class:"form-group"},G$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),W$={class:"form-group"},Q$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),K$={class:"row"},X$={class:"col-6"},J$={class:"form-group"},Z$=e("label",{for:"operationhours"},"Operating Hours",-1),eg={class:"col-6"},tg={class:"form-group"},sg=e("label",{for:"notes"},"Notes",-1),ag={class:"invalid-feedback"},og={class:"row"},lg={class:"col-6"},ng={class:"form-group"},dg=e("label",{for:"purchasecost"},"Purchase Cost",-1),ig={class:"input-group mb-3"},cg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),rg={class:"form-group"},ug=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),_g={class:"input-group mb-3"},mg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),pg={class:"col-6"},hg={class:"form-group"},vg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),bg={class:"invalid-feedback"},fg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),$g={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gg={class:"modal-dialog",role:"document"},yg={class:"modal-content"},kg=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),wg={class:"modal-footer"},xg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Cg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sg={class:"modal-dialog",role:"document"},Dg={class:"modal-content"},Ug=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Vg={class:"modal-body"},Mg={class:"table table-striped table-sm table-hover"},Ag=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Eg=e("td",null,"Site",-1),Tg=e("td",null,"Assit Name",-1),Fg=e("td",null,"Assit Type",-1),Lg=e("td",null,"Serial No.",-1),Pg=e("td",null,"Date Acquired",-1),Ig=e("td",null,"Brand",-1),qg=e("td",null,"Unit",-1),Yg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Ng=e("td",null,"Personal Accountable",-1),Bg=e("td",null,"Transfer Location",-1),Rg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Hg=e("td",null,"Current Condition",-1),jg=e("td",null,"Maintenance Note",-1),Og=e("td",null,"Last Maintenance",-1),zg=e("td",null,"Next Maintenance",-1),Gg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),Wg=e("td",null,"Operation Hours",-1),Qg=e("td",null,"Notes",-1),Kg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),Xg=e("td",null,"Purchase Cost",-1),Jg=e("td",null,"Unit Value",-1),Zg=e("td",null,"Warranty information",-1),ey=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),ty={__name:"AssetmList",setup(o){_e();const w=`${be().name}`,_=me(),d=c({data:[]});c({data:[]});const i=c(!1),u=c(!1),p=c(),D=c(!0),l=Ve({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});c(null),c();const M=c(),v=(S=1)=>{i.value=!0,F.get(`/web/asset-monitoring?page=${S}`,{params:{query:Y.value}}).then(b=>{i.value=!1,d.value=b.data,m.value=[],z.value=!1})},C=ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),n=ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),x=()=>{F.post("/web/asset-monitoring",l).then(S=>{$("#FormModal").modal("hide"),v(),_.success(S.data.message)}).catch(S=>{_.error(S.data.message)})},N=()=>{u.value=!1,$("#FormModal").modal("show")},W=S=>{l.site_name=S.site_name,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,l.Depreciationcostbyyear=S.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},Z=S=>{u.value=!0,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.depreciationcost=S.depreciationcost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,$("#FormModal").modal("show")},de=({setErrors:S})=>{F.post("/web/asset-monitoring",l).then(b=>{v(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},B=(S,b)=>{u.value?de(S):x()},A=()=>{F.get("/web/getsite").then(S=>{M.value=S.data.sites}).catch(S=>{console.log(S)})},Y=c(null),m=c([]),y=S=>{const b=m.value.indexOf(S.id);b===-1?m.value.push(S.id):m.value.splice(b,1),console.log(m.value)},G=c(null),Q=S=>{G.value=S,$("#deleteClientModal").modal("show")},te=()=>{F.delete(`/web/asset-monitoring/${G.value}`).then(S=>{$("#deleteClientModal").modal("hide"),_.success(S.data.message),v()})},ie=()=>{F.delete("/web/bulkDeleteAsset",{data:{ids:m.value}}).then(S=>{d.value.data=d.value.data.filter(b=>!m.value.includes(b.id)),m.value=[],z.value=!1,_.success(S.data.message)})},z=c(!1),P=()=>{z.value?m.value=d.value.data.map(S=>S.id):m.value=[],console.log(m.value)};return ve([D],S=>{l.is_active=S?1:0}),ve(Y,Ee.exports.debounce(()=>{v()},300)),ue(()=>{v(),A(),document.title=w}),(S,b)=>{const k=$e("font"),ne=$e("tab-content"),oe=$e("form-wizard");return s(),a(O,null,[e("div",mf,[e("div",pf,[e("div",hf,[e("div",vf,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[bf,q(" Asset ")]),m.value.length>0?(s(),a("div",ff,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[$f,q(" Delete Selected ")]),e("span",gf,"Selected "+t(m.value.length)+" Record",1)])):L("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=E=>Y.value=E),class:"form-control",placeholder:"Search..."},null,512),[[re,Y.value]])])]),e("div",yf,[e("div",kf,[i.value?(s(),ce(Ae,{key:0})):L("",!0),e("div",wf,[g(k,{size:"2"},{default:X(()=>[e("table",xf,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":b[1]||(b[1]=E=>z.value=E),onChange:P},null,544),[[Me,z.value]])]),Cf,Sf,Df,Uf,Vf,Mf,Af,Ef,Tf,Ff,Lf,Pf,If,qf])]),d.value.data.length>0?(s(),a("tbody",Yf,[(s(!0),a(O,null,K(d.value.data,(E,T)=>(s(),ce(_f,{key:E.id,item:E,index:T,onViewData:W,onEditData:Z,onConfirmDeletion:Q,onToggleSelection:y,"select-all":z.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",Nf,Rf))])]),_:1})])])]),g(r(Pe),{data:d.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",Hf,[e("div",jf,[e("div",Of,[e("div",zf,[e("h5",Gf,[u.value?(s(),a("span",Wf,"Edit Asset")):(s(),a("span",Qf,"Add Asset"))]),Kf]),g(r(Ce),{onSubmit:B,"validation-schema":u.value?r(n):r(C),"initial-values":p.value},{default:X(({errors:E})=>[e("div",Xf,[e("div",Jf,[g(oe,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:X(()=>[g(ne,{title:"Asset Information",icon:"fas fa-book"},{default:X(()=>[e("div",Zf,[e("div",e$,[e("div",t$,[s$,g(r(R),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":b[2]||(b[2]=T=>l.site_id=T)},{default:X(()=>[a$,(s(!0),a(O,null,K(M.value,T=>(s(),a("option",{key:T.id,value:T.id},t(T.site_name),9,o$))),128))]),_:2},1032,["class","modelValue"]),e("span",l$,t(E.branch),1)]),e("div",n$,[d$,g(r(R),{name:"asset_name",type:"text",class:U(["form-control",{"is-invalid":E.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":b[3]||(b[3]=T=>l.asset_name=T)},null,8,["class","modelValue"]),e("span",i$,t(E.asset_name),1)]),e("div",c$,[r$,g(r(R),{name:"asset_type",type:"text",class:U(["form-control",{"is-invalid":E.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":b[4]||(b[4]=T=>l.asset_type=T)},null,8,["class","modelValue"]),e("span",u$,t(E.asset_type),1)]),e("div",_$,[m$,g(r(R),{name:"serial",type:"text",class:U(["form-control",{"is-invalid":E.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":b[5]||(b[5]=T=>l.serial=T)},null,8,["class","modelValue"]),e("span",p$,t(E.serial),1)])]),e("div",h$,[e("div",v$,[b$,g(r(R),{name:"date_acquired",type:"date",class:U(["form-control",{"is-invalid":E.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":b[6]||(b[6]=T=>l.date_acquired=T)},null,8,["class","modelValue"]),e("span",f$,t(E.date_acquired),1)]),e("div",$$,[g$,g(r(R),{name:"man_supplier",type:"text",class:U(["form-control",{"is-invalid":E.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":b[7]||(b[7]=T=>l.man_supplier=T)},null,8,["class","modelValue"]),e("span",y$,t(E.man_supplier),1)]),e("div",k$,[w$,g(r(R),{name:"unit",type:"number",class:U(["form-control",{"is-invalid":E.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":b[8]||(b[8]=T=>l.unit=T)},null,8,["class","modelValue"]),e("span",x$,t(E.unit),1)])])])]),_:2},1024),g(ne,{title:"Asset Allocation",icon:"fa fa-map"},{default:X(()=>[e("div",C$,[e("div",S$,[e("div",D$,[U$,g(r(R),{name:"paccountable",type:"text",class:U(["form-control",{"is-invalid":E.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":b[9]||(b[9]=T=>l.paccountable=T)},null,8,["class","modelValue"]),e("span",V$,t(E.paccountable),1)])]),e("div",M$,[e("div",A$,[E$,g(r(R),{name:"locationchangetranfer",type:"text",class:U(["form-control",{"is-invalid":E.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":b[10]||(b[10]=T=>l.locationchangetranfer=T)},null,8,["class","modelValue"]),e("span",T$,t(E.locationchangetranfer),1)])])])]),_:2},1024),g(ne,{title:"Asset Condition"},{default:X(()=>[e("div",F$,[e("div",L$,[e("div",P$,[I$,g(r(R),{as:"select",name:"cucodition",class:U(["form-control",{"is-invalid":E.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":b[11]||(b[11]=T=>l.cucodition=T)},{default:X(()=>[q$,Y$,N$,B$]),_:2},1032,["class","modelValue"]),e("span",R$,t(E.cucodition),1)]),e("div",H$,[j$,g(r(R),{name:"maintenancenotes",as:"textarea",class:U(["form-control",{"is-invalid":E.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":b[12]||(b[12]=T=>l.maintenancenotes=T)},null,8,["class","modelValue"])])]),e("div",O$,[e("div",z$,[G$,g(r(R),{name:"lastmaintenance",type:"date",class:U(["form-control",{"is-invalid":E.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":b[13]||(b[13]=T=>l.lastmaintenance=T)},null,8,["class","modelValue"])]),e("div",W$,[Q$,g(r(R),{name:"nextmaintenance",type:"date",class:U(["form-control",{"is-invalid":E.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":b[14]||(b[14]=T=>l.nextmaintenance=T)},null,8,["class","modelValue"])])])])]),_:2},1024),g(ne,{title:"Utilization & Ussage"},{default:X(()=>[e("div",K$,[e("div",X$,[e("div",J$,[Z$,g(r(R),{name:"operationhours",type:"number",class:U(["form-control",{"is-invalid":E.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":b[15]||(b[15]=T=>l.operationhours=T)},null,8,["class","modelValue"])])]),e("div",eg,[e("div",tg,[sg,g(r(R),{name:"notes",as:"textarea",class:U(["form-control",{"is-invalid":E.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":b[16]||(b[16]=T=>l.notes=T)},null,8,["class","modelValue"]),e("span",ag,t(E.notes),1)])])])]),_:2},1024),g(ne,{title:"Financial Information",icon:"fas fa-receipt"},{default:X(()=>[e("div",og,[e("div",lg,[e("div",ng,[dg,e("div",ig,[cg,g(r(R),{name:"purchasecost",type:"text",class:U(["form-control",{"is-invalid":E.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":b[17]||(b[17]=T=>l.purchasecost=T)},null,8,["class","modelValue"])])]),e("div",rg,[ug,e("div",_g,[mg,g(r(R),{name:"depreciationcost",type:"text",class:U(["form-control",{"is-invalid":E.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":b[18]||(b[18]=T=>l.depreciationcost=T)},null,8,["class","modelValue"])])])]),e("div",pg,[e("div",hg,[vg,g(r(R),{name:"insurancewarrantyinfo",as:"textarea",class:U(["form-control",{"is-invalid":E.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":b[19]||(b[19]=T=>l.insurancewarrantyinfo=T)},null,8,["class","modelValue"]),e("span",bg,t(E.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),fg]),_:1},8,["validation-schema","initial-values"])])])]),e("div",$g,[e("div",gg,[e("div",yg,[kg,e("div",wg,[xg,e("button",{onClick:ee(te,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Cg,[e("div",Sg,[e("div",Dg,[Ug,e("div",Vg,[e("table",Mg,[e("tbody",null,[Ag,e("tr",null,[Eg,e("td",null,t(l.site_name),1)]),e("tr",null,[Tg,e("td",null,t(l.asset_name),1)]),e("tr",null,[Fg,e("td",null,t(l.asset_type),1)]),e("tr",null,[Lg,e("td",null,t(l.serial),1)]),e("tr",null,[Pg,e("td",null,t(l.date_acquired),1)]),e("tr",null,[Ig,e("td",null,t(l.man_supplier),1)]),e("tr",null,[qg,e("td",null,t(l.unit),1)]),Yg,e("tr",null,[Ng,e("td",null,t(l.paccountable),1)]),e("tr",null,[Bg,e("td",null,t(l.locationchangetranfer),1)]),Rg,e("tr",null,[Hg,e("td",null,t(l.cucodition),1)]),e("tr",null,[jg,e("td",null,t(l.maintenancenotes),1)]),e("tr",null,[Og,e("td",null,t(l.lastmaintenance),1)]),e("tr",null,[zg,e("td",null,t(l.nextmaintenance),1)]),Gg,e("tr",null,[Wg,e("td",null,t(l.operationhours),1)]),e("tr",null,[Qg,e("td",null,t(l.notes),1)]),Kg,e("tr",null,[Xg,e("td",null,t("\u20B1"+l.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[Jg,e("td",null,t("\u20B1"+l.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[Zg,e("td",null,t(l.insurancewarrantyinfo),1)])])])]),ey])])])],64)}}};function sy(o,w,_){var d=typeof o!="object"?JSON.parse(o):o,i="";if(i+=w+`\r

`,_){var u="";for(var p in d[0])u+=p+",";u=u.slice(0,-1),i+=u+`\r
`}for(var D=0;D<d.length;D++){var u="";for(var p in d[D])u+='"'+d[D][p]+'",';u.slice(0,u.length-1),i+=u+`\r
`}if(i==""){alert("Invalid data");return}var l="MyReport_";l+=w.replace(/ /g,"_");var M="data:text/csv;charset=utf-8,"+escape(i),v=document.createElement("a");v.href=M,v.style="visibility:hidden",v.download=l+".csv",document.body.appendChild(v),v.click(),document.body.removeChild(v)}const ae=o=>(De("data-v-41e0ed33"),o=o(),Ue(),o),ay={class:"content"},oy={class:"container-fluid"},ly={class:"d-flex justify-content-between"},ny={class:"d-flex"},dy=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),iy={key:0},cy=ae(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),ry={class:"ml-2"},uy={class:"d-flex"},_y={class:"form-group"},my=ae(()=>e("option",{value:"",disabled:""},"Select a site",-1)),py=["value"],hy={id:"captureDiv"},vy={class:"card"},by={class:"card-header"},fy={class:"card-title"},$y={class:"card-tools"},gy={id:"cost"},yy={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},ky=ae(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),wy={class:"card-body"},xy=ae(()=>e("i",{class:"fa fa-camera"},null,-1)),Cy=[xy],Sy=ae(()=>e("i",{class:"fas fa-file-excel"},null,-1)),Dy=[Sy],Uy={key:1,class:"table-responsive"},Vy={class:"table table-bordered table-sm table-striped table-hover"},My=ae(()=>e("th",null,null,-1)),Ay=ae(()=>e("th",null,"Date",-1)),Ey=ae(()=>e("th",null,"Allocated Pallet Space",-1)),Ty=ae(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Fy=ae(()=>e("th",null,"Space Utilization %",-1)),Ly=ae(()=>e("th",null,"Excess",-1)),Py={key:0},Iy={key:1},qy=ae(()=>e("th",null,"Remarks",-1)),Yy=ae(()=>e("th",null,"Action",-1)),Ny={key:0},By=["item","index","select-all"],Ry=["checked"],Hy={key:0},jy={key:1},Oy=["onClick"],zy=ae(()=>e("i",{class:"fa fa-edit"},null,-1)),Gy=[zy],Wy={key:0},Qy=ae(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),Ky={colspan:"3"},Xy={key:1},Jy=ae(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),Zy=[Jy],e2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},t2={class:"modal-dialog modal-sm",role:"document"},s2={class:"modal-content"},a2={class:"modal-header"},o2={class:"modal-title",id:"staticBackdropLabel"},l2={key:0},n2={key:1},d2=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),i2=we('<ul class="nav nav-tabs" data-v-41e0ed33><li id="bulkviewtab1" class="nav-item" data-v-41e0ed33><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-41e0ed33>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-41e0ed33><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-41e0ed33>Bulk Pallet</a></li></ul>',1),c2={class:"tab-content"},r2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},u2={class:"modal-body"},_2={class:"col-md-12"},m2={class:"row"},p2={class:"col-12"},h2={class:"form-group"},v2=ae(()=>e("label",{for:"date"},"Date",-1)),b2={class:"invalid-feedback"},f2={class:"form-group"},$2=ae(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),g2={class:"invalid-feedback"},y2={class:"form-group"},k2=ae(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),w2={class:"invalid-feedback"},x2={class:"form-group"},C2=ae(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),S2={class:"invalid-feedback"},D2=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),U2={class:"tab-pane fade show",id:"bulk-pallet-tab"},V2={class:"modal-body"},M2={class:"col-md-12"},A2={class:"row"},E2={class:"col-12"},T2={class:"form-group"},F2=ae(()=>e("label",{for:"fromdate"},"From:",-1)),L2={class:"invalid-feedback"},P2={class:"form-group"},I2=ae(()=>e("label",{for:"todate"},"To:",-1)),q2={class:"invalid-feedback"},Y2={class:"form-group"},N2=ae(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),B2={class:"invalid-feedback"},R2={class:"form-group"},H2=ae(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),j2={class:"invalid-feedback"},O2={class:"form-group"},z2=ae(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),G2={class:"invalid-feedback"},W2=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),Q2={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K2={class:"modal-dialog",role:"document"},X2={class:"modal-content"},J2=we('<div class="modal-header" data-v-41e0ed33><h5 class="modal-title" id="staticBackdropLabel" data-v-41e0ed33><span data-v-41e0ed33>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-41e0ed33><span aria-hidden="true" data-v-41e0ed33>\xD7</span></button></div><div class="modal-body" data-v-41e0ed33><h5 data-v-41e0ed33>Are you sure you want to delete this record ?</h5></div>',2),Z2={class:"modal-footer"},ek=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),tk={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},sk={class:"modal-dialog modal-sm",role:"document"},ak={class:"modal-content"},ok=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),lk={class:"modal-body"},nk={class:"fromtocenter"},dk=ae(()=>e("label",{for:"fromDate"},"From:",-1)),ik=ae(()=>e("label",{for:"toDate"},"To:",-1)),ck={class:"modal-footer"},rk=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),uk={__name:"PalletList",setup(o){const w=Xe("$swal"),_=`${be().name}`,d=me(),i=c({data:[]}),u=c(),p=c(!1),D=c(!1),l=_e(),M=c(!0),v=c(!0),C=c(),n=Ve({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});c(null);const x=c(),N=()=>{p.value=!0,F.get("/web/pallet",{params:{site_id:n.site_id,query:ne.value}}).then(H=>{p.value=!1,i.value=H.data.data,x.value=H.data.sum,oe.value=[],qe.value=!1})},W=ke({allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required(),fromdate:I().required(),todate:I().required()}),Z=ke({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),de=ke({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),B=c(""),A=c(""),Y=c({start_date:"",end_date:""});ve([B],()=>{const H=new Date(B.value),j=H.getFullYear(),fe=String(H.getMonth()+1).padStart(2,"0"),f=String(H.getDate()).padStart(2,"0");Y.value.start_date=`${j}-${fe}-${f}`}),ve([A],()=>{const H=new Date(A.value),j=H.getFullYear(),fe=String(H.getMonth()+1).padStart(2,"0"),f=String(H.getDate()).padStart(2,"0");Y.value.end_date=`${j}-${fe}-${f}`});const m=()=>{p.value=!0,F.get("/web/filter-pallet",{params:{start_date:Y.value.start_date,end_date:Y.value.end_date,site_id:n.site_id}}).then(H=>{p.value=!1,i.value=H.data.data,x.value=H.data.sum}).catch(H=>{console.error(H)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},y=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},G=()=>!n.site_id||n.site_id.length===0?(w.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,Q=({resetForm:H,setErrors:j})=>{F.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then(fe=>{N(),$("#FormModal").modal("hide"),y(),d.success("Data created successfully!")}).catch(function(fe){fe.response?d.error(fe.response.data.message):fe.request?d.error(fe.request):d.error("Error",fe.message)})},te=()=>{F.get("/web/getsite").then(H=>{u.value=H.data.sites}).catch(H=>{console.log(H)})},ie=()=>{N(n.site_id);const H=u.value.find(j=>j.id===n.site_id);C.value=H?H.site_name:""},z=()=>{G()||(D.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},P=H=>{$("#bulkviewtab2").hide(),D.value=!0,n.id=H.id,n.user_id=H.user_id,n.site_id=H.site_id,n.date=H.date,n.allocatedpalletspace=H.allocatedpalletspace,n.spaceuteltotal=H.spaceuteltotal,n.caseperpallet=H.caseperpallet,$("#FormModal").modal("show")},S=({setErrors:H})=>{F.post("/web/pallet",n).then(j=>{y(),N(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(j=>{H(j.response.data.errors),console.log(j)})},b=(H,j)=>{D.value?S(H):Q(H)},k=()=>{F.post("/web/bulkCreatePallet",n).then(H=>{N(),$("#FormModal").modal("hide"),d.success(H.data.message)}).catch(H=>{d.error(H.response.data.errors)})},ne=c(null),oe=c([]),E=H=>{const j=oe.value.indexOf(H.id);j===-1?oe.value.push(H.id):oe.value.splice(j,1),console.log(oe.value)},T=c(null),Ie=H=>{T.value=H,$("#deleteDataModal").modal("show")},Oe=()=>{F.delete(`/web/pallet/${T.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),i.value.data=i.value.data.filter(H=>H.id!==T.value)})},Be=()=>{F.delete("/web/bulkDeletePallet",{data:{ids:oe.value}}).then(H=>{N(),oe.value=[],qe.value=!1,d.success(H.data.message)})},ze=()=>{G()||$("#FormModalfilterDate").modal("show")},qe=c(!1),Ge=()=>{if(G())return;$("#cost").hide(),$("#capturecamerafilter").hide();const H=document.getElementById("captureDiv");je(H).then(j=>{const fe=j.toDataURL(),f=document.createElement("a");f.href=fe,f.download=`${C.value} - ${_}.png`,f.click()}),$("#cost").show(),$("#capturecamerafilter").show()},We=()=>{if(G())return;let H=i.value;sy(H,"PalletList",!0)};return ve([v],H=>{n.is_active=H?1:0}),ve(ne,Ee.exports.debounce(()=>{N()},300)),ue(()=>{te(),document.title=_}),(H,j)=>{const fe=$e("font");return s(),a(O,null,[e("div",ay,[e("div",oy,[e("div",ly,[e("div",ny,[e("button",{onClick:z,type:"button",class:"mb-2 btn btn-primary"},[dy,q(" Pallet ")]),oe.value.length>0?(s(),a("div",iy,[e("button",{onClick:Be,type:"button",class:"ml-2 mb-2 btn btn-danger"},[cy,q(" Delete Selected ")]),e("span",ry,"Selected "+t(oe.value.length)+" Pallet",1)])):L("",!0)]),e("div",uy,[e("div",_y,[J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":j[0]||(j[0]=f=>n.site_id=f),onChange:j[1]||(j[1]=f=>ie())},[my,(s(!0),a(O,null,K(u.value,f=>(s(),a("option",{key:f.id,value:f.id},t(f.site_name),9,py))),128))],544),[[Te,n.site_id]])])])]),e("div",hy,[e("div",vy,[e("div",by,[e("div",fy,t(C.value||"Select a Site"),1),e("div",$y,[e("div",gy,[e("div",yy,[J(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":j[2]||(j[2]=f=>M.value=f)},null,512),[[Me,M.value]]),ky])])])]),e("div",wy,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:Ge,type:"button",class:"btn btn-warning"},Cy),e("button",{onClick:We,type:"button",class:"btn btn-success"},Dy)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:ze})])])]),p.value?(s(),ce(Ae,{key:0})):(s(),a("div",Uy,[g(fe,{size:"2"},{default:X(()=>[e("table",Vy,[e("thead",null,[e("tr",null,[My,Ay,Ey,Ty,Fy,Ly,M.value?(s(),a("th",Py," Cost per Pallet ")):L("",!0),M.value?(s(),a("th",Iy,"Cost")):L("",!0),qy,Yy])]),i.value.length>0?(s(),a("tbody",Ny,[(s(!0),a(O,null,K(i.value,(f,V)=>(s(),a("tr",{key:f.id,item:f,index:V,onConfirmDeletion:Ie,onToggleSelection:E,"select-all":qe.value},[e("td",null,[e("input",{type:"checkbox",checked:qe.value,onChange:E},null,40,Ry)]),e("td",null,t(r(he)(f.date).format("MMMM DD, YY")),1),e("td",null,t(f.allocatedpalletspace),1),e("td",null,t(f.spaceuteltotal),1),e("td",null,t(f.spacetotalutelpercent),1),e("td",null,t(f.excess),1),M.value?(s(),a("td",Hy,t(f.caseperpallet),1)):L("",!0),M.value?(s(),a("td",jy,t(f.cost),1)):L("",!0),e("td",null," EXCESS "+t(f.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:h=>P(f)},Gy,8,Oy)])],40,By))),128)),M.value?(s(),a("tr",Wy,[Qy,e("td",Ky,[e("b",null,t(x.value),1)])])):L("",!0)])):(s(),a("tbody",Xy,Zy))])]),_:1})]))])])])])]),e("div",e2,[e("div",t2,[e("div",s2,[e("div",a2,[e("h5",o2,[D.value?(s(),a("span",l2,"Edit Pallet")):(s(),a("span",n2,"Add Pallet"))]),d2]),i2,e("div",c2,[e("div",r2,[g(r(Ce),{onSubmit:b,"validation-schema":D.value?r(de):r(Z)},{default:X(({errors:f})=>[e("div",u2,[e("div",_2,[e("div",m2,[e("div",p2,[g(r(R),{modelValue:n.user_id,"onUpdate:modelValue":j[3]||(j[3]=V=>n.user_id=V),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",h2,[v2,g(r(R),{name:"date",type:"date",class:U(["form-control",{"is-invalid":f.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":j[4]||(j[4]=V=>n.date=V)},null,8,["class","modelValue"]),e("span",b2,t(f.date),1)]),e("div",f2,[$2,g(r(R),{name:"allocatedpalletspace",type:"text",class:U(["form-control",{"is-invalid":f.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":j[5]||(j[5]=V=>n.allocatedpalletspace=V)},null,8,["class","modelValue"]),e("span",g2,t(f.allocatedpalletspace),1)]),e("div",y2,[k2,g(r(R),{name:"spaceuteltotal",type:"text",class:U(["form-control",{"is-invalid":f.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":j[6]||(j[6]=V=>n.spaceuteltotal=V),required:""},null,8,["class","modelValue"]),e("span",w2,t(f.spaceuteltotal),1)]),e("div",x2,[C2,g(r(R),{name:"caseperpallet",type:"text",class:U(["form-control",{"is-invalid":f.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":j[7]||(j[7]=V=>n.caseperpallet=V)},null,8,["class","modelValue"]),e("span",S2,t(f.caseperpallet),1)])])])])]),D2]),_:1},8,["validation-schema"])]),e("div",U2,[g(r(Ce),{onSubmit:k,"validation-schema":r(W)},{default:X(({errors:f})=>[e("div",V2,[e("div",M2,[e("div",A2,[e("div",E2,[g(r(R),{modelValue:n.user_id,"onUpdate:modelValue":j[8]||(j[8]=V=>n.user_id=V),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",T2,[F2,g(r(R),{name:"fromdate",type:"date",class:U(["form-control",{"is-invalid":f.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.fromdate,"onUpdate:modelValue":j[9]||(j[9]=V=>n.fromdate=V)},null,8,["class","modelValue"]),e("span",L2,t(f.fromdate),1)]),e("div",P2,[I2,g(r(R),{name:"todate",type:"date",class:U(["form-control",{"is-invalid":f.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.todate,"onUpdate:modelValue":j[10]||(j[10]=V=>n.todate=V)},null,8,["class","modelValue"]),e("span",q2,t(f.todate),1)]),e("div",Y2,[N2,g(r(R),{name:"allocatedpalletspace",type:"text",class:U(["form-control",{"is-invalid":f.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":j[11]||(j[11]=V=>n.allocatedpalletspace=V)},null,8,["class","modelValue"]),e("span",B2,t(f.allocatedpalletspace),1)]),e("div",R2,[H2,g(r(R),{name:"spaceuteltotal",type:"text",class:U(["form-control",{"is-invalid":f.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":j[12]||(j[12]=V=>n.spaceuteltotal=V),required:""},null,8,["class","modelValue"]),e("span",j2,t(f.spaceuteltotal),1)]),e("div",O2,[z2,g(r(R),{name:"caseperpallet",type:"text",class:U(["form-control",{"is-invalid":f.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":j[13]||(j[13]=V=>n.caseperpallet=V)},null,8,["class","modelValue"]),e("span",G2,t(f.caseperpallet),1)])])])])]),W2]),_:1},8,["validation-schema"])])])])])]),e("div",Q2,[e("div",K2,[e("div",X2,[J2,e("div",Z2,[ek,e("button",{onClick:ee(Oe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",tk,[e("div",sk,[e("div",ak,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(_)+" Report")]),ok]),e("div",lk,[e("div",nk,[e("div",null,[dk,g(r(Fe),{modelValue:B.value,"onUpdate:modelValue":j[14]||(j[14]=f=>B.value=f)},null,8,["modelValue"])]),e("div",null,[ik,g(r(Fe),{modelValue:A.value,"onUpdate:modelValue":j[15]||(j[15]=f=>A.value=f)},null,8,["modelValue"])])])]),e("div",ck,[rk,e("button",{onClick:j[16]||(j[16]=f=>m()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var _k=ge(uk,[["__scopeId","data-v-41e0ed33"]]);const mk=o=>(De("data-v-4f631a07"),o=o(),Ue(),o),pk={class:"content"},hk={class:"container-fluid"},vk={class:"row"},bk={class:"col-md-6"},fk={class:"card"},$k={class:"card-title"},gk={class:"form-group m-3"},yk=mk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),kk=["value"],wk={class:"card-body"},xk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Ck={class:"custom-control custom-checkbox"},Sk=["value","id","checked"],Dk=["for"],Uk={class:"card-footer"},Vk={__name:"UserSite",setup(o){_e();const w=`${be().name}`,_=me();c(!0);const d=Ve({user_id:""});c(null),c();const i=c(),u=c(),p=c([]),D=()=>{F.get("/api/users/userlist").then(C=>{u.value=C.data}).catch(C=>{console.log(C)})},l=C=>{C!==null?F.get(`/web/usersite/${C}`).then(n=>{i.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):F.get("/web/getsitewithoutuser").then(n=>{i.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},M=()=>{const C={user_id:d.user_id,site_id:p.value};console.log(C),F.post("/web/onSaveupdate",C).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},v=C=>{l(C)};return ue(()=>{D(),l(),document.title=w}),(C,n)=>(s(),a("div",pk,[e("div",hk,[e("div",vk,[e("div",bk,[e("div",fk,[e("div",$k,[e("div",gk,[g(r(R),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=x=>d.user_id=x),onChange:n[1]||(n[1]=x=>v(d.user_id))},{default:X(()=>[yk,(s(!0),a(O,null,K(u.value,x=>(s(),a("option",{key:x.id,value:x.id},t(x.name),9,kk))),128))]),_:1},8,["modelValue"])])]),e("div",wk,[e("ul",xk,[(s(!0),a(O,null,K(i.value,x=>(s(),a("li",{key:x.id,class:"list-group-item"},[e("div",Ck,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=N=>p.value=N),value:x.id,id:"site_id_"+x.id,checked:x.hasAccess},null,8,Sk),[[Me,p.value]]),e("label",{for:"site_id_"+x.id,class:"custom-control-label"},t(x.site_name),9,Dk)])]))),128))]),e("div",Uk,[e("button",{type:"button",onClick:n[3]||(n[3]=x=>M()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var Mk=ge(Vk,[["__scopeId","data-v-4f631a07"]]),Ak=[{path:"/login",name:"admin.login",component:jn},{path:"/",name:"Dashboard",component:Tt},{path:"/appointments",name:"Appointments",component:es},{path:"/appointments/create",name:"Appointments",component:et},{path:"/appointments/:id/edit",name:"Appointments",component:et},{path:"/user",name:"User",component:Ao},{path:"/settings",name:"Setting",component:Dl},{path:"/profile",name:"Profile",component:yn},{path:"/client",name:"Client",component:Rd},{path:"/tech-recommendation",name:"Tech Recomm",component:tr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:_m},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Th},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Np},{path:"/usermenu",name:"User Menu",component:Vv},{path:"/menu",name:"Menu",component:J1},{path:"/:catchAll(.*)",name:"404 Error Page",component:nt},{path:"/notifications",name:"Notifications",component:df},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:dt},{path:"/asset-monitoring",name:"Asset Monitoring",component:ty},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:_k},{path:"/usersite",name:"User Site",component:Mk}];const Ek={class:"navbar-nav"},Tk=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),Fk={class:"nav-item d-none d-sm-inline-block"},Lk={class:"navbar-nav ml-auto"},Pk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Ik=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),qk={class:"nav-link","data-toggle":"dropdown",href:"#"},Yk=e("i",{class:"far fa-bell"},null,-1),Nk={class:"badge badge-warning navbar-badge"},Bk={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Rk={class:"dropdown-header"},Hk=e("div",{class:"dropdown-divider"},null,-1),jk=e("i",{class:"fas fa-envelope mr-2"},null,-1),Ok={class:"float-right text-muted text-sm"},zk={key:1,class:"text-center text-muted py-3"},Gk=e("div",{class:"dropdown-divider"},null,-1),Wk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Qk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),Kk={__name:"AppNavbar",setup(o){const w=Re(),_=c([]),d=()=>{F.get("/api/notifications").then(i=>{_.value=i.data.notifications}).catch(i=>{console.error("Error fetching notifications",i)})};return ue(()=>{d()}),(i,u)=>{const p=$e("router-link");return s(),a("nav",{class:U(["main-header navbar navbar-expand",r(w).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",Ek,[Tk,e("li",Fk,[e("a",{onClick:u[0]||(u[0]=ee((...D)=>r(w).changeTheme&&r(w).changeTheme(...D),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:U(["far",r(w).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",Lk,[Pk,Ik,e("li",{class:"nav-item dropdown",onClick:d},[e("a",qk,[Yk,e("span",Nk,t(_.value.length),1)]),e("div",Bk,[e("span",Rk,t(_.value.length)+" Notifications",1),Hk,_.value.length>0?(s(!0),a(O,{key:0},K(_.value,D=>(s(),a("a",{key:D.id,href:"#",class:"dropdown-item"},[jk,q(" "+t(D.data?D.data:"No message available")+" ",1),e("span",Ok,t(r(he)(D.created_at)),1)]))),128)):(s(),a("p",zk,"No new notifications")),Gk,g(p,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:X(()=>[q("See All Notifications")]),_:1})])]),Wk,Qk])],2)}}},Xk={class:"main-sidebar sidebar-dark-primary elevation-4"},Jk={href:"#",class:"brand-link"},Zk=["src"],e0={class:"brand-text font-weight-light"},t0={class:"sidebar"},s0={class:"user-panel mt-3 pb-3 mb-3 d-flex"},a0={key:0,class:"image"},o0=["src"],l0={key:1,class:"image"},n0=["src"],d0=["src"],i0={class:"info"},c0={href:"#",class:"d-block"},r0={class:"mt-2"},u0={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},_0={key:0,class:"right fas fa-angle-left"},m0={key:0,class:"nav nav-treeview"},p0={class:"nav-item"},h0={class:"nav-link"},v0=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),b0=e("p",null,"Logout",-1),f0=[v0,b0],$0={__name:"SidebarLeft",setup(o){const w=Ke(),_=_e(),d=Re(),i=c({data:[]}),u=()=>{axios.get("/api/menu").then(l=>{i.value=l.data}).catch(l=>{console.log(l)})},p=l=>l===w.currentRoute.value.path,D=()=>{axios.post("/logout").then(l=>{_.user.name="",w.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),u()}),(l,M)=>{const v=$e("router-link");return s(),a("aside",Xk,[e("a",Jk,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Zk),e("span",e0,t(r(d).setting.app_name),1)]),e("div",t0,[e("div",s0,[r(_).user.avatar===""?(s(),a("div",a0,[e("img",{src:r(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,o0)])):r(_).user.avatar!==""?(s(),a("div",l0,[r(_).user.gender==="Male"?(s(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,n0)):r(_).user.gender==="Female"?(s(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,d0)):L("",!0)])):L("",!0),e("div",i0,[e("a",c0,t(r(_).user.name),1)])]),e("nav",r0,[e("ul",u0,[(s(!0),a(O,null,K(i.value,C=>(s(),a("li",{key:C.id,class:U({"nav-item":!0,"menu-is-opening":C.submenus&&C.submenus.length>0})},[g(v,{class:U({"nav-link":!0,active:p(C.menu_route)}),to:`${C.menu_route}`},{default:X(()=>[e("i",{class:U("nav-icon "+C.menu_icon)},null,2),e("p",null,t(C.menu_title),1),C.submenus&&C.submenus.length>0?(s(),a("i",_0)):L("",!0)]),_:2},1032,["class","to"]),C.submenus&&C.submenus.length>0?(s(),a("ul",m0,[(s(!0),a(O,null,K(C.submenus,n=>(s(),a("li",{key:n.id,class:"nav-item"},[g(v,{class:U({"nav-link menu-open":!0,active:p(n.menu_route)}),to:n.menu_route},{default:X(()=>[e("i",{class:U("nav-icon "+n.menu_icon)},null,2),e("p",null,t(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):L("",!0)],2))),128)),e("li",p0,[e("form",h0,[e("a",{href:"#",onClick:ee(D,["prevent"])},f0)])])])])])])}}},g0={},y0={class:"control-sidebar control-sidebar-dark"},k0=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),w0=[k0];function x0(o,w){return s(),a("aside",y0,w0)}var C0=ge(g0,[["render",x0]]);const S0={class:"main-footer"},D0={class:"float-right d-none d-sm-block"},U0={href:"#"},V0={__name:"AppFooter",props:{settings:Object},setup(o){const w=_e(),_=c(new Date().getFullYear());return(d,i)=>{var u;return s(),a("footer",S0,[e("div",D0,t(r(w).user.name),1),e("strong",null,[q("Copyright \xA9 "+t(_.value)+" ",1),e("a",U0,t((u=o.settings)==null?void 0:u.app_name),1),q(".")]),q(" All rights reserved. ")])}}};const M0=o=>(De("data-v-36653638"),o=o(),Ue(),o),A0={class:"content-wrapper"},E0={class:"content-header"},T0={class:"container-fluid"},F0={class:"row mb-2"},L0={class:"col-sm-6"},P0={class:"m-0"},I0={class:"col-sm-6"},q0={class:"breadcrumb float-sm-right"},Y0=M0(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),N0={class:"breadcrumb-item active"},B0={__name:"CustomMainLayout",setup(o){const w=_e(),_=Re(),d=Se(()=>_.theme==="dark"?"dark-mode":"");return(i,u)=>{const p=$e("router-view");return r(w).user.name!==""?(s(),a("div",{key:0,class:U(["wrapper",d.value])},[g(Kk),g($0),g(C0),e("div",A0,[e("section",E0,[e("div",T0,[e("div",F0,[e("div",L0,[e("h1",P0,t(i.$route.name),1)]),e("div",I0,[e("ol",q0,[Y0,e("li",N0,t(i.$route.name),1)])])])])]),g(p)]),g(V0)],2)):(s(),a("div",{key:1,class:U(["login-page slibg",d.value])},[g(p)],2))}}};var R0=ge(B0,[["__scopeId","data-v-36653638"]]);const H0={__name:"App",setup(o){_e();const w=be(),_=Se(()=>w.name==="Tech-Approved"),d=Se(()=>w.name==="404 Error Page");return(i,u)=>(s(),a("div",null,[!d.value&&!_.value?(s(),ce(R0,{key:0})):_.value?(s(),ce(dt,{key:1})):(s(),ce(nt,{key:2}))]))}};var j0=ge(H0,[["__scopeId","data-v-45d7c538"]]);const O0=ut(),Ne=pt(j0),it=_t({routes:Ak,history:mt()});it.beforeEach(async(o,w)=>{const _=_e();if(_.user.name===""&&o.name!=="admin.login"){const d=Re();await Promise.all([_.getAuthUser(),d.getSetting()])}});Ne.use(St);Ne.use(O0);Ne.use(it);Ne.use(Ct);Ne.use(ot);Ne.mount("#app");
