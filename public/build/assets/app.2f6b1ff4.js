import{_ as ct,l as Pe}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as rt}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as tt,c as ut}from"./pinia.210ccde5.js";import{u as $e,a as Ke,c as _t,b as mt}from"./vue-router.abad5649.js";import{r as i,o as me,i as a,k as e,x as t,_ as f,u as c,e as s,I as Ue,h as J,j as S,F as O,q as X,d as ye,a0 as te,v as L,C as Ae,a2 as Z,a3 as _e,aa as Fe,p as E,w as fe,ab as Ce,f as ue,B as Xe,a5 as Ve,a6 as Me,ac as st,ad as Ee,a1 as Qe,ae as pt}from"./@vue.04713aa0.js";import{B as ht}from"./vue-chartjs.50c6886f.js";import{C as vt,p as bt,a as ft,b as $t,c as gt,d as yt,L as kt}from"./chart.js.562acd0f.js";import{S as Ze}from"./sweetalert2.ef56b979.js";import{t as Oe}from"./toastr.94171567.js";import{F as De,a as R}from"./vee-validate.1443789f.js";import{f as at}from"./flatpickr.181c7977.js";import{c as xe,a as I}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as be}from"./moment.40bc58bf.js";import{a as qe}from"./laravel-vue-pagination.475a8c82.js";import{C as wt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Le}from"./vue3-datepicker.b3fccff5.js";import{h as ze}from"./html2canvas.c4a43e03.js";import{h as ot}from"./html2pdf.js.44b835e5.js";import{V as Ct}from"./vue-sweetalert2.891f877f.js";import{d as St}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=ct;window.axios=T;window.$=window.jQuery=rt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const pe=tt("AuthUserStore",()=>{const o=i({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(_=>{o.value=_.data})}}}),Dt={class:"content"},Ut={class:"container-fluid"},Vt={class:"card"},Mt={class:"card-header"},At={class:"card-body"},Et=e("div",{class:"row"},null,-1),Tt={__name:"Dashboard",setup(o){vt.register(bt,ft,$t,gt,yt,kt);const k=`${$e().name}`;pe(),i("all"),i(0);const _=i(new Date().getFullYear()),d=i({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),r=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},u=i("today"),h=i(0),D=()=>{axios.get("/api/stats/users",{params:{date_range:u.value}}).then(l=>{h.value=l.data.totalUsersCount})};return me(()=>{r(),D(),document.title=k}),(l,M)=>(s(),a("div",Dt,[e("div",Ut,[e("div",Vt,[e("div",Mt," Yearly Progress - "+t(_.value),1),e("div",At,[f(c(ht),{data:d.value},null,8,["data"])])]),Et])]))}},Pt={class:"content"},Ft={class:"container-fluid"},Lt={class:"row"},It={class:"col-lg-12"},qt={class:"d-flex justify-content-between mb-2"},Yt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),L(" Add New Appointment")],-1),Nt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Rt={class:"badge badge-pill badge-info"},Ht=["onClick"],jt={class:"mr-1"},Ot={class:"card"},zt={class:"card-body"},Gt={class:"table table-bordered"},Wt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Kt=e("i",{class:"fa fa-edit mr-2"},null,-1),Xt=["onClick"],Jt=e("i",{class:"fa fa-trash text-danger"},null,-1),Zt=[Jt],es={__name:"ListAppointments",setup(o){const k=i(),_=i([]),d=()=>{T.get("/api/appointment-status").then(M=>{_.value=M.data})},r=i([]),u=M=>{k.value=M;const b={};M&&(b.status=M),T.get("/api/appointments",{params:b}).then(x=>{r.value=x.data,console.log(x)})},h=Ue(()=>_.value.map(M=>M.count).reduce((M,b)=>M+b,0)),D=M=>{const b=r.value.data.find(n=>n.id===M).status.name,x=_.value.find(n=>n.name===b);x.count--},l=M=>{Ze.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&T.delete(`/api/appointments/${M}`).then(x=>{D(M),r.value.data=r.value.data.filter(n=>n.id!==M),Ze.fire("Deleted!","Your file has been deleted.","success")})})};return me(()=>{u(),d()}),(M,b)=>{const x=ye("router-link");return s(),a("div",Pt,[e("div",Ft,[e("div",Lt,[e("div",It,[e("div",qt,[e("div",null,[f(x,{to:"/admin/appointments/create"},{default:J(()=>[Yt]),_:1})]),e("div",Nt,[e("button",{onClick:b[0]||(b[0]=n=>u()),type:"button",class:S(["btn",[typeof k.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Rt,t(h.value),1)],2),(s(!0),a(O,null,X(_.value,n=>(s(),a("button",{key:n.id,onClick:w=>u(n.value),type:"button",class:S(["btn",[k.value===n.value?"btn-secondary":"btn-default"]])},[e("span",jt,t(n.name),1),e("span",{class:S(["badge badge-pill",`badge-${n.color}`])},t(n.count),3)],10,Ht))),128))])]),e("div",Ot,[e("div",zt,[e("table",Gt,[Wt,e("tbody",null,[(s(!0),a(O,null,X(r.value.data,(n,w)=>(s(),a("tr",{key:n.id},[e("td",null,t(w+1),1),e("td",null,t(n.client.first_name)+" "+t(n.client.last_name),1),e("td",null,t(n.start_time),1),e("td",null,t(n.end_time),1),Qt,e("td",null,[f(x,{to:`/admin/appointments/${n.id}/edit`},{default:J(()=>[Kt]),_:2},1032,["to"]),e("a",{href:"#",onClick:te(Y=>l(n.id),["prevent"])},Zt,8,Xt)])]))),128))])])])])])])])])}}};function he(){return Oe.options.positionClass="toast-top-right",Oe.options.closeButton=!0,Oe.options.progressBar=!0,Oe}const ts={class:"content-header"},ss={class:"container-fluid"},as={class:"row mb-2"},os={class:"col-sm-6"},ls={class:"m-0"},ns={key:0},ds={key:1},is={class:"col-sm-6"},cs={class:"breadcrumb float-sm-right"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item"},_s={class:"breadcrumb-item active"},ms={key:0},ps={key:1},hs={class:"content"},vs={class:"container-fluid"},bs={class:"row"},fs={class:"col-lg-12"},$s={class:"card"},gs={class:"card-body"},ys={class:"row"},ks={class:"col-md-6"},ws={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),Cs={class:"invalid-feedback"},Ss={class:"col-md-6"},Ds={class:"form-group"},Us=e("label",{for:"client"},"Client Name",-1),Vs=["value"],Ms={class:"invalid-feedback"},As={class:"row"},Es={class:"col-md-6"},Ts={class:"form-group"},Ps=e("label",{for:"start-time"},"Start Time",-1),Fs={class:"invalid-feedback"},Ls={class:"col-md-6"},Is={class:"form-group"},qs=e("label",{for:"end-time"},"End Time",-1),Ys={class:"invalid-feedback"},Ns={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Rs={class:"invalid-feedback"},Hs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),et={__name:"AppointmentForm",setup(o){const k=Ke(),_=$e(),d=he(),r=Ae({title:"",client_id:"",start_time:"",end_time:"",description:""}),u=(n,w)=>{x.value?D(n,w):h(n,w)},h=(n,w)=>{T.post("/api/appointments/create",r).then(Y=>{k.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(Y=>{w.setErrors(Y.response.data.errors)})},D=(n,w)=>{T.put(`/api/appointments/${_.params.id}/edit`,r).then(Y=>{k.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(Y=>{w.setErrors(Y.response.data.errors)})},l=i(),M=()=>{T.get("/api/view-clients").then(n=>{l.value=n.data})},b=()=>{T.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{r.title=n.title,r.client_id=n.client_id,r.start_time=n.formatted_start_time,r.end_time=n.formatted_end_time,r.description=n.description})},x=i(!1);return me(()=>{_.name==="admin.appointments.edit"&&(x.value=!0,b()),at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),M()}),(n,w)=>{const Y=ye("router-link");return s(),a(O,null,[e("div",ts,[e("div",ss,[e("div",as,[e("div",os,[e("h1",ls,[x.value?(s(),a("span",ns,"Edit")):(s(),a("span",ds,"Create")),L(" Appointment")])]),e("div",is,[e("ol",cs,[e("li",rs,[f(Y,{to:"/admin/dashboard"},{default:J(()=>[L("Home")]),_:1})]),e("li",us,[f(Y,{to:"/admin/appointments"},{default:J(()=>[L("Appointments")]),_:1})]),e("li",_s,[x.value?(s(),a("span",ms,"Edit")):(s(),a("span",ps,"Create"))])])])])])]),e("div",hs,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[e("div",gs,[f(c(De),{onSubmit:u},{default:J(({errors:W})=>[e("div",ys,[e("div",ks,[e("div",ws,[xs,Z(e("input",{"onUpdate:modelValue":w[0]||(w[0]=ee=>r.title=ee),type:"text",class:S(["form-control",{"is-invalid":W.title}]),id:"title",placeholder:"Enter Title"},null,2),[[_e,r.title]]),e("span",Cs,t(W.title),1)])]),e("div",Ss,[e("div",Ds,[Us,Z(e("select",{"onUpdate:modelValue":w[1]||(w[1]=ee=>r.client_id=ee),id:"client",class:S(["form-control",{"is-invalid":W.client_id}])},[(s(!0),a(O,null,X(l.value,ee=>(s(),a("option",{value:ee.id,key:ee.id},t(ee.first_name)+" "+t(ee.last_name),9,Vs))),128))],2),[[Fe,r.client_id]]),e("span",Ms,t(W.client_id),1)])])]),e("div",As,[e("div",Es,[e("div",Ts,[Ps,Z(e("input",{"onUpdate:modelValue":w[2]||(w[2]=ee=>r.start_time=ee),type:"text",class:S(["form-control flatpickr",{"is-invalid":W.start_time}]),id:"start-time"},null,2),[[_e,r.start_time]]),e("span",Fs,t(W.start_time),1)])]),e("div",Ls,[e("div",Is,[qs,Z(e("input",{"onUpdate:modelValue":w[3]||(w[3]=ee=>r.end_time=ee),type:"text",class:S(["form-control flatpickr",{"is-invalid":W.end_time}]),id:"end-time"},null,2),[[_e,r.end_time]]),e("span",Ys,t(W.end_time),1)])])]),e("div",Ns,[Bs,Z(e("textarea",{"onUpdate:modelValue":w[4]||(w[4]=ee=>r.description=ee),class:S(["form-control",{"is-invalid":W.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[_e,r.description]]),e("span",Rs,t(W.description),1)]),Hs]),_:1})])])])])])])],64)}}},js=["checked"],Os=["value","selected"],zs=["value","selected"],Gs=e("i",{class:"fa fa-edit"},null,-1),Ws=[Gs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ks=[Qs],Xs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){const _=he(),d=o,r=k,u=i([{name:"ADMIN",value:1},{name:"USER",value:2}]),h=i([]),D=()=>{T.get("/api/users/userlist").then(x=>{h.value=x.data}).catch(x=>{console.log(x)})},l=(x,n)=>{T.patch(`/api/users/${x.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},M=(x,n)=>{T.patch(`/api/users/${x.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},b=()=>{r("toggleSelection",d.user)};return me(()=>{D()}),(x,n)=>(s(),a("tr",null,[e("td",null,[o.user.name!="admin"?(s(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:b},null,40,js)):E("",!0)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=w=>l(o.user,w.target.value))},[(s(!0),a(O,null,X(u.value,w=>(s(),a("option",{key:w.id,value:w.value,selected:o.user.role===w.name},t(w.name),9,Os))),128))],32)]),e("td",null,[o.user.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=w=>M(o.user,w.target.value))},[(s(!0),a(O,null,X(h.value,w=>(s(),a("option",{key:w.id,value:w.id,selected:o.user.sitehead_user_id===w.id},t(w.first_name+" "+w.last_name),9,zs))),128))],32)):E("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=te(w=>x.$emit("editUser",o.user),["prevent"]))},Ws),o.user.id!=1?(s(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=te(w=>x.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ks)):E("",!0)])]))}},Js={class:"content"},Zs={class:"container-fluid"},ea={class:"d-flex justify-content-between mb-2"},ta={class:"d-flex"},sa=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),aa={key:0},oa=e("i",{class:"fa fa-trash mr-1"},null,-1),la={class:"ml-2"},na={class:"card"},da={class:"card-body"},ia={class:"dispatch-table"},ca={class:"table-responsive"},ra={class:"table table-bordered table-hover table-sm"},ua=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),_a={key:0},ma={key:1},pa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[pa],va=["index"],ba={class:"card"},fa={class:"card-body"},$a={class:"list-field"},ga=e("span",{class:"mb-1 dis"},"Name:",-1),ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Email:",-1),wa={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ca={class:"list-field"},Sa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Da=["onChange"],Ua=["value","selected"],Va=e("hr",null,null,-1),Ma={class:"row"},Aa={key:0,class:"col"},Ea=["onClick"],Ta=e("i",{class:"fa fa-pencil-square-o"},null,-1),Pa=["onClick"],Fa=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),La=[Fa],Ia={key:1,class:"col"},qa=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Ra={class:"modal-content"},Ha={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Oa={key:0},za={key:1},Ga=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wa={class:"modal-body"},Qa={class:"form-group"},Ka=e("label",{for:"name"},"Username",-1),Xa={class:"invalid-feedback"},Ja={class:"d-flex justify-content-between"},Za={class:"d-flex"},eo={class:"form-group"},to=e("label",{for:"email"},"Email",-1),so={class:"invalid-feedback"},ao={class:"d-flex"},oo={class:"form-group"},lo=e("label",{for:"siteDropdown"},"Gender",-1),no=e("option",{value:"",disabled:""}," Select a gender ",-1),io=["value"],co={class:"d-flex justify-content-between"},ro={class:"d-flex"},uo={class:"form-group"},_o=e("label",{for:"first_name"},"Fist Name",-1),mo={class:"invalid-feedback"},po={class:"d-flex"},ho={class:"form-group"},vo=e("label",{for:"last_name"},"Last Name",-1),bo={class:"invalid-feedback"},fo={class:"form-group"},$o=e("label",{for:"position"},"Position",-1),go={class:"invalid-feedback"},yo={class:"form-group"},ko=e("label",{for:"password"},"Password",-1),wo={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Co={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},So={class:"modal-dialog",role:"document"},Do={class:"modal-content"},Uo=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ao={__name:"UserList",setup(o){const k=`${$e().name}`,_=pe(),d=he(),r=i({data:[]}),u=i(!1),h=i(),D=i(null);i([]),i(null);const l=i([{name:"Male",value:1},{name:"Female",value:2}]),M=(P=1)=>{T.get(`/api/users?page=${P}`,{params:{query:q.value}}).then(C=>{r.value=C.data,m.value=[],z.value=!1})},b=xe({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().required().min(8),gender:I().required()}),x=xe({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().when((P,C)=>P?C.required().min(8):C),gender:I().required()}),n=i([]),w=()=>{T.get("/api/users/userlist").then(P=>{n.value=P.data}).catch(P=>{console.log(P)})},Y=(P,C)=>{T.patch(`/api/users/${P.id}/change-sitehead`,{sitehead_user_id:C}).then(()=>{d.success("Sitehead changed successfully!")})},W=(P,{resetForm:C,setErrors:v})=>{T.post("/api/users",P).then(y=>{r.value.data.unshift(y.data),$("#userFormModal").modal("hide"),C(),d.success("User created successfully!")}).catch(y=>{y.response.data.errors&&(v(y.response.data.errors),d.warning(y.response.data.errors.name))})},ee=()=>{u.value=!1,$("#userFormModal").modal("show")},de=P=>{u.value=!0,D.value.resetForm(),$("#userFormModal").modal("show"),h.value={id:P.id,name:P.name,email:P.email,sitehead_user_id:P.sitehead_user_id,first_name:P.first_name,last_name:P.last_name,gender:P.gender}},B=(P,{setErrors:C})=>{T.put("/api/users/"+h.value.id,P).then(v=>{const y=r.value.data.findIndex(oe=>oe.id===v.data.id);r.value.data[y]=v.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(v=>{C(v.response.data.errors),console.log(v)})},V=(P,C)=>{u.value?B(P,C):W(P,C)},q=i(null),m=i([]),g=P=>{const C=m.value.indexOf(P.id);C===-1?m.value.push(P.id):m.value.splice(C,1),console.log(m.value)},Q=i(null),K=P=>{Q.value=P,$("#deleteUserModal").modal("show")},se=()=>{T.delete(`/api/users/${Q.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),r.value.data=r.value.data.filter(P=>P.id!==Q.value)})},ie=()=>{T.delete("/api/users",{data:{ids:m.value}}).then(P=>{r.value.data=r.value.data.filter(C=>!m.value.includes(C.id)),m.value=[],z.value=!1,d.success(P.data.message)})},z=i(!1);return fe(q,Pe.exports.debounce(()=>{M()},300)),me(()=>{M(),w(),document.title=k}),(P,C)=>{const v=ye("font");return s(),a(O,null,[e("div",Js,[e("div",Zs,[e("div",ea,[e("div",ta,[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary btn-sm"},[sa,L(" User ")]),m.value.length>0?(s(),a("div",aa,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[oa,L(" Delete Selected ")]),e("span",la,"Selected "+t(m.value.length)+" users",1)])):E("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=y=>q.value=y),class:"form-control",placeholder:"Search..."},null,512),[[_e,q.value]])])]),e("div",na,[e("div",da,[e("div",ia,[e("div",ca,[f(v,{size:"2"},{default:J(()=>[e("table",ra,[ua,r.value.data.length>0?(s(),a("tbody",_a,[(s(!0),a(O,null,X(r.value.data,(y,oe)=>(s(),ue(Xs,{key:y.id,user:y,index:oe,onEditUser:de,onConfirmUserDeletion:K,onToggleSelection:g,"select-all":z.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",ma,ha))])]),_:1})])]),(s(!0),a(O,null,X(r.value.data,(y,oe)=>(s(),a("div",{class:"dispatch-list",key:y.id,index:oe},[e("div",ba,[e("div",fa,[e("div",$a,[ga,e("span",null,t(y.first_name+" "+y.last_name),1)]),e("div",ya,[ka,e("span",null,t(y.email),1)]),e("div",wa,[xa,e("span",null,t(y.formatted_created_at),1)]),e("div",Ca,[Sa,e("span",null,[y.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:ce=>Y(y,ce.target.value)},[(s(!0),a(O,null,X(n.value,ce=>(s(),a("option",{key:ce.id,value:ce.id,selected:ce.sitehead_user_id===ce.id},t(ce.first_name+" "+ce.last_name),9,Ua))),128))],40,Da)):E("",!0)])]),Va,e("div",Ma,[c(_).user.role==="ADMIN"?(s(),a("div",Aa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ce=>de(y)},[Ta,L(" Edit ")],8,Ea),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ce=>K(y.id)},La,8,Pa)])):E("",!0),c(_).user.role==="USER"?(s(),a("div",Ia,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ce=>de(y)},[Ya,L(" Edit ")],8,qa)])):E("",!0)])])])],8,va))),128))])]),f(c(qe),{data:r.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",Na,[e("div",Ba,[e("div",Ra,[e("div",Ha,[e("h5",ja,[u.value?(s(),a("span",Oa,"Edit User")):(s(),a("span",za,"Add New User"))]),Ga]),f(c(De),{ref_key:"form",ref:D,onSubmit:V,"validation-schema":u.value?c(x):c(b),"initial-values":h.value},{default:J(({errors:y})=>[e("div",Wa,[e("div",Qa,[Ka,f(c(R),{name:"name",type:"text",class:S(["form-control",{"is-invalid":y.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Xa,t(y.name),1)]),e("div",Ja,[e("div",Za,[e("div",eo,[to,f(c(R),{name:"email",type:"email",class:S(["form-control",{"is-invalid":y.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",so,t(y.email),1)])]),e("div",ao,[e("div",oo,[lo,f(c(R),{id:"gender",name:"gender",as:"select",class:S(["form-control",{"is-invalid":y.gender}])},{default:J(()=>[no,(s(!0),a(O,null,X(l.value,oe=>(s(),a("option",{key:oe.name,value:oe.name},t(oe.name),9,io))),128))]),_:2},1032,["class"])])])]),e("div",co,[e("div",ro,[e("div",uo,[_o,f(c(R),{name:"first_name",type:"text",class:S(["form-control",{"is-invalid":y.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",mo,t(y.first_name),1)])]),e("div",po,[e("div",ho,[vo,f(c(R),{name:"last_name",type:"text",class:S(["form-control",{"is-invalid":y.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",bo,t(y.last_name),1)])])]),e("div",fo,[$o,f(c(R),{name:"position",type:"text",class:S(["form-control",{"is-invalid":y.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",go,t(y.position),1)]),e("div",yo,[ko,f(c(R),{name:"password",type:"password",class:S(["form-control",{"is-invalid":y.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",wo,t(y.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Co,[e("div",So,[e("div",Do,[Uo,e("div",Vo,[Mo,e("button",{onClick:te(se,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Eo=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Po=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Fo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Te={__name:"ContentLoader",setup(o){return(k,_)=>k.isloading?(s(),ue(c(wt),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[Eo,To,Po,Fo]),_:1})):E("",!0)}};var ke=(o,k)=>{const _=o.__vccOpts||o;for(const[d,r]of k)_[d]=r;return _};const Ie=o=>(Ve("data-v-9bd7df0a"),o=o(),Me(),o),Lo={class:"content"},Io={class:"container-fluid"},qo={class:"row"},Yo={class:"col-md-6"},No={class:"card"},Bo=Ce('<ul class="nav nav-tabs" data-v-9bd7df0a><li class="nav-item" data-v-9bd7df0a><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-9bd7df0a>General Settings</a></li><li class="nav-item" data-v-9bd7df0a><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-9bd7df0a>Site Settings</a></li></ul>',1),Ro={class:"tab-content"},Ho={class:"tab-pane fade show active",id:"general-tab"},jo={class:"card-body"},Oo={class:"form-group"},zo=Ie(()=>e("label",{for:"appName"},"App Display Name",-1)),Go={key:0,class:"text-danger text-sm"},Wo={class:"form-group"},Qo=Ie(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Ko=Ce('<option value="m/d/Y" data-v-9bd7df0a> MM/DD/YYYY </option><option value="d/m/Y" data-v-9bd7df0a> DD/MM/YYYY </option><option value="Y-m-d" data-v-9bd7df0a> YYYY-MM-DD </option><option value="F j, Y" data-v-9bd7df0a> Month DD, YYYY </option><option value="j F Y" data-v-9bd7df0a> DD Month YYYY </option>',5),Xo=[Ko],Jo={key:0,class:"text-danger text-sm"},Zo={class:"form-group"},el=Ie(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),tl={key:0,class:"text-danger text-sm"},sl=Ie(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),L("Save Changes ")])],-1)),al={class:"tab-pane fade",id:"site"},ol={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ll={key:0,class:"list-group-item p-0"},nl={class:"d-flex justify-content-center"},dl=["onClick"],il={class:"ml-auto my-1 mr-1"},cl=["onClick"],rl=Ie(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),ul=[rl],_l={class:"m-2 list-unstyled"},ml={key:1},pl={key:0,class:"list-group-item p-0"},hl={class:"d-flex justify-content-center"},vl=["onClick"],bl={class:"ml-auto my-1 mr-1"},fl=["onClick"],$l=Ie(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),gl=[$l],yl={key:1,class:"mt-2 text-center"},kl=Ie(()=>e("span",null,"No Site",-1)),wl=[kl],xl={class:"input-group"},Cl=Ie(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Sl={__name:"UpdateSetting",setup(o){const k=`${$e().name}`,_=i([]),d=he(),r=i(!0),u=i([]),h=i(!1),D=i(),l=Xe("$swal"),M=i({id:"",site_name:"",is_active:""}),b=()=>{h.value=!0,axios.get("/api/site").then(q=>{h.value=!1,u.value=q.data}).catch(q=>{console.log(q)})},x=Ue(()=>Array.isArray(u.value)?u.value.filter(q=>q.is_active===0):[]),n=Ue(()=>x.value.length),w=()=>{r.value=!r.value},Y=()=>{var q,m;h.value=!0,axios.post("/api/site",{id:(q=M.value)==null?void 0:q.id,site_name:(m=M.value)==null?void 0:m.site_name,is_active:!0}).then(g=>{b(),M.value={id:null,site_name:"",is_active:!0},d.success(g.data.message),h.value=!1}).catch(g=>{g.response&&g.response.status===422&&(B.value=g.response.data.errors)})},W=q=>{M.value.is_active=q.is_active===1?0:1,axios.post("/api/site",{id:q.id,site_name:q.site_name,is_active:M.value.is_active}).then(m=>{axios.get("/api/site").then(g=>{u.value=g.data}).catch(g=>{console.error("Error fetching tasks:",g),d.error("Error fetching tasks. Please try again.")})}).catch(m=>{console.error("Error adding new task:",m),d.error("Error adding new task. Please try again.")})},ee=q=>{if(q.is_active===null||q.is_active===0){l.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}M.value.id=q.id,M.value.site_name=q.site_name},de=()=>{axios.get("/api/settings").then(q=>{_.value=q.data})},B=i(),V=()=>{B.value="",axios.post("/api/settings",_.value).then(q=>{d.success("Settings updated successfully!")}).catch(q=>{q.response&&q.response.status===422&&(B.value=q.response.data.errors)})};return me(()=>{b(),de(),document.title=k}),(q,m)=>(s(),a("div",Lo,[e("div",Io,[e("div",qo,[e("div",Yo,[e("div",No,[Bo,e("div",Ro,[e("div",Ho,[e("form",{onSubmit:m[3]||(m[3]=te(g=>V(),["prevent"]))},[e("div",jo,[e("div",Oo,[zo,Z(e("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>_.value.app_name=g),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[_e,_.value.app_name]]),B.value&&B.value.app_name?(s(),a("span",Go,t(B.value.app_name[0]),1)):E("",!0)]),e("div",Wo,[Qo,Z(e("select",{"onUpdate:modelValue":m[1]||(m[1]=g=>_.value.date_format=g),class:"form-control"},Xo,512),[[Fe,_.value.date_format]]),B.value&&B.value.date_format?(s(),a("span",Jo,t(B.value.date_format[0]),1)):E("",!0)]),e("div",Zo,[el,Z(e("input",{"onUpdate:modelValue":m[2]||(m[2]=g=>_.value.pagination_limit=g),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[_e,_.value.pagination_limit]]),B.value&&B.value.pagination_limit?(s(),a("span",tl,t(B.value.pagination_limit[0]),1)):E("",!0)])]),sl],32)]),e("div",al,[u.value.length>0?(s(),a("div",ol,[h.value?(s(),ue(Te,{key:0})):E("",!0),(s(!0),a(O,null,X(u.value,g=>(s(),a("ul",{class:"list-group",key:g.id},[g.is_active===1?(s(),a("li",ll,[e("div",nl,[e("div",null,[e("span",{class:S({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:Q=>W(g),class:S({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,dl),L(" "+t(g.site_name),1)],2)]),e("div",il,[e("button",{onClick:Q=>ee(g),class:"btn btn-outline"},ul,8,cl)])])])):E("",!0)]))),128)),e("li",_l,[n.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:w},[e("i",{class:S(["fa",r.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Deactive List "+t(n.value),1)])):E("",!0)]),r.value?(s(),a("div",ml,[(s(!0),a(O,null,X(u.value,g=>(s(),a("ul",{class:"list-group",key:g.id},[g.is_active===0?(s(),a("li",pl,[e("div",hl,[e("div",null,[e("span",{class:S({"btn font-italic text-red":g.is_active===0,btn:g.is_active===1})},[e("i",{onClick:Q=>W(g),class:S({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":g.is_active===1,"fa fa-circle text-primary":g.is_active===0}),style:{"font-size":"15px"}},null,10,vl),e("del",null,t(g.site_name),1)],2)]),e("div",bl,[e("button",{onClick:Q=>ee(g),class:"btn btn-outline"},gl,8,fl)])])])):E("",!0)]))),128))])):E("",!0)])):(s(),a("div",yl,wl)),f(c(De),{ref:"form",onSubmit:Y,"initial-values":D.value},{default:J(()=>[f(c(R),{name:"id",modelValue:M.value.id,"onUpdate:modelValue":m[4]||(m[4]=g=>M.value.id=g),type:"text",hidden:""},null,8,["modelValue"]),e("div",xl,[f(c(R),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:M.value.site_name,"onUpdate:modelValue":m[5]||(m[5]=g=>M.value.site_name=g),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Cl])]),_:1},8,["initial-values"])])])])])])])]))}};var Dl=ke(Sl,[["__scopeId","data-v-9bd7df0a"]]);const Ul={class:"content"},Vl={class:"container-fluid"},Ml={class:"row"},Al={class:"col-md-3"},El={class:"card card-primary card-outline"},Tl={class:"card-body box-profile"},Pl={class:"text-center"},Fl=["src"],Ll={class:"profile-username text-center"},Il={class:"text-muted text-center"},ql={class:"col-md-9"},Yl={class:"card"},Nl=Ce('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Bl={class:"card-body"},Rl={class:"tab-content"},Hl={class:"tab-pane active",id:"profile"},jl={class:"form-group row"},Ol=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),zl={class:"col-sm-10"},Gl={key:0,class:"text-danger text-sm"},Wl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Kl={class:"col-sm-10"},Xl={key:0,class:"text-danger text-sm"},Jl={class:"form-group row"},Zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),en={class:"col-sm-10"},tn={key:0,class:"text-danger text-sm"},sn={class:"form-group row"},an=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),on={class:"col-sm-10"},ln={key:0,class:"text-danger text-sm"},nn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),dn={class:"tab-pane",id:"changePassword"},cn={class:"form-group row"},rn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),un={class:"col-sm-9"},_n={key:0,class:"text-danger text-sm"},mn={class:"form-group row"},pn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),hn={class:"col-sm-9"},vn={key:0,class:"text-danger text-sm"},bn={class:"form-group row"},fn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),$n={class:"col-sm-9"},gn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),L(" Save Changes")])])],-1),yn={__name:"UpdateProfile",setup(o){const k=pe(),_=he(),d=`${$e().name}`,r=i([]),u=()=>{axios.put("/api/profile",{name:k.user.name,first_name:k.user.first_name,last_name:k.user.last_name,email:k.user.email,role:k.user.role}).then(x=>{_.success("Profile updated successfully!")}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},h=Ae({currentPassword:"",password:"",passwordConfirmation:""}),D=()=>{r.value="",axios.post("/api/change-user-password",h).then(x=>{_.success(x.data.message);for(const n in h)h[n]=""}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},l=i(null),M=()=>{l.value.click()},b=x=>{const n=x.target.files[0];k.user.avatar=URL.createObjectURL(n);const w=new FormData;w.append("profile_picture",n),axios.post("/api/upload-profile-image",w).then(Y=>{_.success("Image uploaded successfully!")})};return me(()=>{document.title=d}),(x,n)=>(s(),a("div",Ul,[e("div",Vl,[e("div",Ml,[e("div",Al,[e("div",El,[e("div",Tl,[e("div",Pl,[e("input",{onChange:b,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:M,class:"profile-user-img img-circle",src:c(k).user.avatar,alt:"User profile picture"},null,8,Fl)]),e("h3",Ll,t(c(k).user.name),1),e("p",Il,t(c(k).user.role),1)])])]),e("div",ql,[e("div",Yl,[Nl,e("div",Bl,[e("div",Rl,[e("div",Hl,[e("form",{onSubmit:n[4]||(n[4]=te(w=>u(),["prevent"])),class:"form-horizontal"},[e("div",jl,[Ol,e("div",zl,[Z(e("input",{"onUpdate:modelValue":n[0]||(n[0]=w=>c(k).user.name=w),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[_e,c(k).user.name]]),r.value&&r.value.name?(s(),a("span",Gl,t(r.value.name[0]),1)):E("",!0)])]),e("div",Wl,[Ql,e("div",Kl,[Z(e("input",{"onUpdate:modelValue":n[1]||(n[1]=w=>c(k).user.first_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[_e,c(k).user.first_name]]),r.value&&r.value.first_name?(s(),a("span",Xl,t(r.value.first_name[0]),1)):E("",!0)])]),e("div",Jl,[Zl,e("div",en,[Z(e("input",{"onUpdate:modelValue":n[2]||(n[2]=w=>c(k).user.last_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[_e,c(k).user.last_name]]),r.value&&r.value.last_name?(s(),a("span",tn,t(r.value.last_name[0]),1)):E("",!0)])]),e("div",sn,[an,e("div",on,[Z(e("input",{"onUpdate:modelValue":n[3]||(n[3]=w=>c(k).user.email=w),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[_e,c(k).user.email]]),r.value&&r.value.email?(s(),a("span",ln,t(r.value.email[0]),1)):E("",!0)])]),nn],32)]),e("div",dn,[e("form",{onSubmit:te(D,["prevent"]),class:"form-horizontal"},[e("div",cn,[rn,e("div",un,[Z(e("input",{"onUpdate:modelValue":n[5]||(n[5]=w=>h.currentPassword=w),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[_e,h.currentPassword]]),r.value&&r.value.current_password?(s(),a("span",_n,t(r.value.current_password[0]),1)):E("",!0)])]),e("div",mn,[pn,e("div",hn,[Z(e("input",{"onUpdate:modelValue":n[6]||(n[6]=w=>h.password=w),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[_e,h.password]]),r.value&&r.value.password?(s(),a("span",vn,t(r.value.password[0]),1)):E("",!0)])]),e("div",bn,[fn,e("div",$n,[Z(e("input",{"onUpdate:modelValue":n[7]||(n[7]=w=>h.passwordConfirmation=w),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[_e,h.passwordConfirmation]])])]),gn],32)])])])])])])])]))}};const Be=o=>(Ve("data-v-5c930933"),o=o(),Me(),o),kn={class:"login-box"},wn={class:"card card-outline card-primary"},xn=Be(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Cn={class:"card-body"},Sn={key:0,class:"alert alert-danger",role:"alert"},Dn={class:"input-group mb-3"},Un=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Vn={class:"input-group mb-3"},Mn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),An=["type"],En={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Tn=Be(()=>e("div",{class:"input-group mb-3"},null,-1)),Pn={class:"row"},Fn={class:"col-12 mb-2"},Ln=["disabled"],In={key:0,class:"spinner-border spinner-border-sm",role:"status"},qn=Be(()=>e("span",{class:"sr-only"},"Loading...",-1)),Yn=[qn],Nn={key:1},Bn=Be(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Rn="Login",Hn={__name:"Login",setup(o){const k=i(!1),_=he();pe();const d=Ke(),r=Ae({email:"",password:""}),u=i(!1),h=i(""),D=()=>{u.value=!0,h.value="",T.post("/login",r).then(()=>{d.push("/"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{u.value=!1})};return me(()=>{document.title=Rn}),(l,M)=>(s(),a("div",kn,[e("div",wn,[xn,e("div",Cn,[h.value?(s(),a("div",Sn,t(h.value),1)):E("",!0),e("form",{onSubmit:te(D,["prevent"])},[e("div",Dn,[Un,Z(e("input",{"onUpdate:modelValue":M[0]||(M[0]=b=>r.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[_e,r.email]])]),e("div",Vn,[Mn,Z(e("input",{"onUpdate:modelValue":M[1]||(M[1]=b=>r.password=b),class:"form-control",placeholder:"Password",type:k.value?"text":"password",onClick:M[2]||(M[2]=(...b)=>l.handleKeyClick&&l.handleKeyClick(...b))},null,8,An),[[st,r.password]])]),e("label",En,[Z(e("input",{type:"checkbox","onUpdate:modelValue":M[3]||(M[3]=b=>k.value=b)},null,512),[[Ee,k.value]]),L(" Show Password ")]),Tn,e("div",Pn,[e("div",Fn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:u.value},[u.value?(s(),a("div",In,Yn)):(s(),a("span",Nn,"Sign In"))],8,Ln)])])],32),Bn])])]))}};var jn=ke(Hn,[["__scopeId","data-v-5c930933"]]);const On=["checked"],zn=e("i",{class:"fa fa-edit"},null,-1),Gn=[zn],Wn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Qn=[Wn],Kn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){he();const _=o,d=k,r=()=>{d("toggleSelection",_.item)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,On)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.first_name)+" "+t(o.item.last_name),1),e("td",null,t(o.item.email),1),e("td",null,t(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:h[0]||(h[0]=te(D=>u.$emit("editUser",o.item),["prevent"]))},Gn),e("a",{href:"#",onClick:h[1]||(h[1]=te(D=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Qn)])]))}},Xn={class:"content"},Jn={class:"container-fluid"},Zn={class:"d-flex justify-content-between"},ed={class:"d-flex"},td=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sd={key:0},ad=e("i",{class:"fa fa-trash mr-1"},null,-1),od={class:"ml-2"},ld={class:"card"},nd={class:"card-body"},dd={class:"table table-bordered"},id=e("th",{style:{width:"10px"}},"#",-1),cd=e("th",null,"Name",-1),rd=e("th",null,"Email",-1),ud=e("th",null,"Registered Date",-1),_d=e("th",null,"Options",-1),md={key:0},pd={key:1},hd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),vd=[hd],bd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fd={class:"modal-dialog",role:"document"},$d={class:"modal-content"},gd={class:"modal-header"},yd={class:"modal-title",id:"staticBackdropLabel"},kd={key:0},wd={key:1},xd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Cd={class:"modal-body"},Sd={class:"form-group"},Dd=e("label",{for:"fist_name"},"First Name",-1),Ud={class:"invalid-feedback"},Vd={class:"form-group"},Md=e("label",{for:"last_name"},"Last Name",-1),Ad={class:"invalid-feedback"},Ed={class:"form-group"},Td=e("label",{for:"email"},"Email",-1),Pd={class:"invalid-feedback"},Fd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ld={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Id={class:"modal-dialog",role:"document"},qd={class:"modal-content"},Yd=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Nd={class:"modal-footer"},Bd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Rd={__name:"ClientList",setup(o){const k=he(),_=i({data:[]}),d=i(!1),r=i(),u=i(null),h=(Q=1)=>{T.get(`/api/clients?page=${Q}`,{params:{query:Y.value}}).then(K=>{_.value=K.data,W.value=[],m.value=!1})},D=xe({first_name:I().required(),last_name:I().required(),email:I().email().required()}),l=xe({first_name:I().required(),last_name:I().required(),email:I().email().required()}),M=(Q,{resetForm:K,setErrors:se})=>{T.post("/api/clients",Q).then(ie=>{_.value.data.unshift(ie.data),$("#clientFormModal").modal("hide"),K(),k.success("User created successfully!")}).catch(ie=>{ie.response.data.errors&&se(ie.response.data.errors)})},b=()=>{d.value=!1,$("#clientFormModal").modal("show")},x=Q=>{d.value=!0,u.value.resetForm(),$("#clientFormModal").modal("show"),r.value={id:Q.id,first_name:Q.first_name,last_name:Q.last_name,email:Q.email}},n=(Q,{setErrors:K})=>{T.put("/api/clients/"+r.value.id,Q).then(se=>{const ie=_.value.data.findIndex(z=>z.id===se.data.id);_.value.data[ie]=se.data,$("#clientFormModal").modal("hide"),k.success("Client updated successfully!")}).catch(se=>{K(se.response.data.errors),console.log(se)})},w=(Q,K)=>{d.value?n(Q,K):M(Q,K)},Y=i(null),W=i([]),ee=Q=>{const K=W.value.indexOf(Q.id);K===-1?W.value.push(Q.id):W.value.splice(K,1),console.log(W.value)},de=i(null),B=Q=>{de.value=Q,$("#deleteClientModal").modal("show")},V=()=>{T.delete(`/api/clients/${de.value}`).then(()=>{$("#deleteClientModal").modal("hide"),k.success("Client deleted successfully!"),_.value.data=_.value.data.filter(Q=>Q.id!==de.value)})},q=()=>{T.delete("/api/clients",{data:{ids:W.value}}).then(Q=>{_.value.data=_.value.data.filter(K=>!W.value.includes(K.id)),W.value=[],m.value=!1,k.success(Q.data.message)})},m=i(!1),g=()=>{m.value?W.value=_.value.data.map(Q=>Q.id):W.value=[],console.log(W.value)};return fe(Y,Pe.exports.debounce(()=>{h()},300)),me(()=>{h()}),(Q,K)=>(s(),a(O,null,[e("div",Xn,[e("div",Jn,[e("div",Zn,[e("div",ed,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[td,L(" Add New Client ")]),W.value.length>0?(s(),a("div",sd,[e("button",{onClick:q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ad,L(" Delete Selected ")]),e("span",od,"Selected "+t(W.value.length)+" clients",1)])):E("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":K[0]||(K[0]=se=>Y.value=se),class:"form-control",placeholder:"Search..."},null,512),[[_e,Y.value]])])]),e("div",ld,[e("div",nd,[e("table",dd,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":K[1]||(K[1]=se=>m.value=se),onChange:g},null,544),[[Ee,m.value]])]),id,cd,rd,ud,_d])]),_.value.data.length>0?(s(),a("tbody",md,[(s(!0),a(O,null,X(_.value.data,(se,ie)=>(s(),ue(Kn,{key:se.id,item:se,index:ie,onEditUser:x,onConfirmUserDeletion:B,onToggleSelection:ee,"select-all":m.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",pd,vd))])])]),f(c(qe),{data:_.value,onPaginationChangePage:h},null,8,["data"])])]),e("div",bd,[e("div",fd,[e("div",$d,[e("div",gd,[e("h5",yd,[d.value?(s(),a("span",kd,"Edit Client")):(s(),a("span",wd,"Add New Client"))]),xd]),f(c(De),{ref_key:"form",ref:u,onSubmit:w,"validation-schema":d.value?c(l):c(D),"initial-values":r.value},{default:J(({errors:se})=>[e("div",Cd,[e("div",Sd,[Dd,f(c(R),{name:"first_name",type:"text",class:S(["form-control",{"is-invalid":se.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Ud,t(se.first_name),1)]),e("div",Vd,[Md,f(c(R),{name:"last_name",type:"text",class:S(["form-control",{"is-invalid":se.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ad,t(se.last_name),1)]),e("div",Ed,[Td,f(c(R),{name:"email",type:"email",class:S(["form-control",{"is-invalid":se.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Pd,t(se.email),1)])]),Fd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ld,[e("div",Id,[e("div",qd,[Yd,e("div",Nd,[Bd,e("button",{onClick:te(V,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Je=o=>(Ve("data-v-36595330"),o=o(),Me(),o),Hd={style:{"text-align":"center"}},jd={key:0},Od=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),zd=[Od],Gd=Je(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Wd=[Gd],Qd={key:1,style:{"text-align":"center"}},Kd={key:0},Xd=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),Jd=[Xd],Zd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:k}){he();const _=pe();return(d,r)=>{const u=ye("router-link");return s(),a("tr",null,[e("td",null,t(o.item.recommnum),1),e("td",null,t(o.item.user),1),e("td",null,t(o.item.branch),1),e("td",null,t(o.item.department),1),e("td",null,t(o.item.created_user),1),e("td",Hd,[o.item.statusid==2?(s(),ue(u,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:S(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)]),_:1},8,["to"])):E("",!0),o.item.statusid!=2?(s(),a("span",{key:1,class:S(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)):E("",!0)]),e("td",null,t(o.item.created_at),1),c(_).user.role==="ADMIN"?(s(),a("td",jd,[e("a",{href:"#",onClick:r[0]||(r[0]=te(h=>d.$emit("editUser",o.item),["prevent"]))},zd),e("a",{href:"#",onClick:r[1]||(r[1]=te(h=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Wd)])):E("",!0),c(_).user.role==="USER"?(s(),a("td",Qd,[o.item.statusid!=2?(s(),a("div",Kd,[o.item.created_by==c(_).user.id?(s(),a("a",{key:0,href:"#",onClick:r[2]||(r[2]=te(h=>d.$emit("editUser",o.item),["prevent"]))},Jd)):E("",!0)])):E("",!0)])):E("",!0)])}}};var ei=ke(Zd,[["__scopeId","data-v-36595330"]]);const ti={class:"content"},si={class:"container-fluid"},ai={class:"d-flex justify-content-between"},oi={class:"d-flex"},li=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ni={key:0},di=e("i",{class:"fa fa-trash mr-1"},null,-1),ii={class:"ml-2"},ci={class:"card"},ri={class:"card-body"},ui={class:"dispatch-table"},_i={class:"table-responsive"},mi={class:"table table-bordered table-sm"},pi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),hi={key:0},vi={key:1},bi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),fi=[bi],$i=["item","index"],gi={class:"card"},yi={class:"card-body"},ki={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Tech #:",-1),xi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"User:",-1),Si={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Branch:",-1),Ui={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Department:",-1),Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Created by:",-1),Ei={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"Status:",-1),Pi={class:"list-field"},Fi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Li=e("hr",null,null,-1),Ii={class:"row"},qi={key:0,class:"col"},Yi=["onClick"],Ni=e("i",{class:"fa fa-pencil-square-o"},null,-1),Bi=["onClick"],Ri=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),L(" Remove ")],-1),Hi=[Ri],ji={key:0,class:"btn btnsm btn-success btn-block"},Oi=e("i",{class:"fa fa-pencil-square-o"},null,-1),zi={key:1,class:"col"},Gi={key:0},Wi=["onClick"],Qi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ki={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xi={class:"modal-dialog modal-lg",role:"document"},Ji={class:"modal-content"},Zi={class:"modal-header"},ec={class:"modal-title",id:"staticBackdropLabel"},tc={key:0},sc={key:1},ac=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),oc={class:"modal-body"},lc={class:"col-md-12"},nc={class:"row"},dc={class:"col-6"},ic={class:"form-group"},cc=e("label",{for:"branch"},"Branch",-1),rc=e("option",{value:"",disabled:""}," Select Branch ",-1),uc=["value"],_c={class:"invalid-feedback"},mc={class:"form-group"},pc=e("label",{for:"department"},"Department",-1),hc={class:"invalid-feedback"},vc={class:"form-group"},bc=e("label",{for:"warehouse"},"warehouse",-1),fc={class:"invalid-feedback"},$c={class:"form-group"},gc=e("label",{for:"user"},"User",-1),yc={class:"invalid-feedback"},kc={class:"col-6"},wc={class:"form-group"},xc=e("label",{for:"brand"},"Brand",-1),Cc={class:"form-group"},Sc=e("label",{for:"model"},"Model",-1),Dc={class:"invalid-feedback"},Uc={class:"form-group"},Vc=e("label",{for:"assettag"},"Asset tag",-1),Mc={class:"invalid-feedback"},Ac={class:"form-group"},Ec=e("label",{for:"serialnum"},"Serial number",-1),Tc={class:"invalid-feedback"},Pc={class:"col-12"},Fc={class:"form-group"},Lc=e("label",{for:"problem"},"Report Problem",-1),Ic={class:"invalid-feedback"},qc={class:"form-group"},Yc=e("label",{for:"assconducted"},"Assessment conducted",-1),Nc={class:"invalid-feedback"},Bc={class:"form-group"},Rc=e("label",{for:"recommendation"},"Recommendation",-1),Hc={class:"invalid-feedback"},jc={class:"modal-footer"},Oc={key:0},zc={key:0,class:"btn-group float-l ml-auto"},Gc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Wc={class:"dropdown-menu",role:"menu"},Qc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Kc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Xc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Jc={class:"modal-dialog",role:"document"},Zc={class:"modal-content"},er=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),tr={class:"modal-footer"},sr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),ar={__name:"TechList",setup(o){const k=i(),_=i(),d=he(),r=i({data:[]});i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=`${$e().name}`,h=()=>{T.get("/api/getsite").then(v=>{_.value=v.data.sites}).catch(v=>{console.log(v)})},D=i(!1),l=i(!1),M=i(),b=Ae({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),x=pe();i(null);const n=(v=1)=>{D.value=!0,T.get(`/api/tech-recommendations?page=${v}`,{params:{query:m.value}}).then(y=>{D.value=!1,r.value=y.data,g.value=[],C.value=!1})},w=xe({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),Y=xe({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),W=(v,{resetForm:y,setErrors:oe})=>{T.post("/api/tech-recommendations",v).then(ce=>{r.value.data.unshift(ce.data),$("#FormModal").modal("hide"),y(),d.success("Data created successfully!")}).catch(ce=>{ce.response.data.errors&&oe(ce.response.data.errors)})},ee=()=>{l.value=!1,$("#FormModal").modal("show")},de=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},B=v=>{k.value=v.id,l.value=!0,de(),b.id=v.id,b.branch=v.branch,b.department=v.department,b.warehouse=v.warehouse,b.user=v.user,b.problem=v.problem,b.brand=v.brand,b.model=v.model,b.assettag=v.assettag,b.serialnum=v.serialnum,b.assconducted=v.assconducted,b.recommendation=v.recommendation,b.ceated_by=v.ceated_by,b.recommnum=v.recommnum,$("#FormModal").modal("show")},V=(v,{setErrors:y})=>{T.put("/api/tech-recommendations/"+v.id,v).then(oe=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(oe=>{y(oe.response.data.errors),console.log(oe)})},q=(v,y)=>{l.value?V(b,y):W(v,y)},m=i(null),g=i([]),Q=v=>{const y=g.value.indexOf(v.id);y===-1?g.value.push(v.id):g.value.splice(y,1),console.log(g.value)},K=i(null),se=v=>{K.value=v,$("#deleteClientModal").modal("show")},ie=()=>{T.delete(`/api/tech-recommendations/${K.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),r.value.data=r.value.data.filter(v=>v.id!==K.value)})},z=()=>{T.delete("/api/tech-recommendations",{data:{ids:g.value}}).then(v=>{r.value.data=r.value.data.filter(y=>!g.value.includes(y.id)),g.value=[],C.value=!1,d.success(v.data.message)})},P=v=>{T.post("/api/tech-getaction",{id:k.value,status:v}).then(y=>{$("#FormModal").modal("hide"),n()}).catch(y=>{console.log(y.message)})},C=i(!1);return fe(m,Pe.exports.debounce(()=>{n()},300)),me(()=>{n(),h(),document.title=u}),(v,y)=>{const oe=ye("font"),ce=ye("router-link");return s(),a(O,null,[e("div",ti,[e("div",si,[e("div",ai,[e("div",oi,[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary"},[li,L(" TechRecom ")]),g.value.length>0?(s(),a("div",ni,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[di,L(" Delete Selected ")]),e("span",ii,"Selected "+t(g.value.length)+" techrecomm",1)])):E("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=U=>m.value=U),class:"form-control",placeholder:"Search..."},null,512),[[_e,m.value]])])]),e("div",ci,[e("div",ri,[D.value?(s(),ue(Te,{key:0})):E("",!0),e("div",ui,[e("div",_i,[f(oe,{size:"2"},{default:J(()=>[e("table",mi,[pi,r.value.data.length>0?(s(),a("tbody",hi,[(s(!0),a(O,null,X(r.value.data,(U,A)=>(s(),ue(ei,{key:U.id,item:U,index:A,onEditUser:B,onShowItem:v.viewItem,onConfirmUserDeletion:se,onToggleSelection:Q,"select-all":C.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",vi,fi))])]),_:1})])]),(s(!0),a(O,null,X(r.value.data,(U,A)=>(s(),a("div",{class:"dispatch-list",key:U.id,item:U,index:A},[e("div",gi,[e("div",yi,[e("div",ki,[wi,e("span",null,[e("b",null,t(U.recommnum),1)])]),e("div",xi,[Ci,e("span",null,t(U.user),1)]),e("div",Si,[Di,e("span",null,t(U.branch),1)]),e("div",Ui,[Vi,e("span",null,t(U.department),1)]),e("div",Mi,[Ai,e("span",null,t(U.created_user),1)]),e("div",Ei,[Ti,U.statusid==2?(s(),ue(ce,{key:0,to:`/admin/tech-approved/${U.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:S(["badge",`badge-${U.status.color}`])},t(U.status.name),3)]),_:2},1032,["to"])):E("",!0),U.statusid!=2?(s(),a("span",{key:1,class:S(["badge",`badge-${U.status.color}`])},t(U.status.name),3)):E("",!0)]),e("div",Pi,[Fi,e("span",null,t(U.created_at),1)]),Li,e("div",Ii,[c(x).user.role==="ADMIN"?(s(),a("div",qi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ye=>B(U)},[Ni,L(" Edit ")],8,Yi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ye=>se(U.id)},Hi,8,Bi),U.statusid==2?(s(),a("button",ji,[Oi,L(" Download ")])):E("",!0)])):E("",!0),c(x).user.role==="USER"?(s(),a("div",zi,[U.statusid!=2?(s(),a("div",Gi,[U.created_by==c(x).user.id?(s(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ye=>B(U)},[Qi,L(" Edit ")],8,Wi)):E("",!0)])):E("",!0)])):E("",!0)])])])],8,$i))),128))])]),f(c(qe),{data:r.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Ki,[e("div",Xi,[e("div",Ji,[e("div",Zi,[e("h5",ec,[l.value?(s(),a("span",tc,"Edit Tech Recom.")):(s(),a("span",sc,"Add New Tech Recom."))]),ac]),f(c(De),{onSubmit:q,"validation-schema":l.value?c(Y):c(w),"initial-values":M.value},{default:J(({errors:U})=>[e("div",oc,[e("div",lc,[e("div",nc,[e("div",dc,[f(c(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(x).user.id,"onUpdate:modelValue":y[1]||(y[1]=A=>c(x).user.id=A)},null,8,["modelValue"]),f(c(R),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":y[2]||(y[2]=A=>b.recommnum=A)},null,8,["modelValue"]),e("div",ic,[cc,f(c(R),{as:"select",name:"branch",class:S(["form-control",{"is-invalid":U.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":y[3]||(y[3]=A=>b.branch=A)},{default:J(()=>[rc,(s(!0),a(O,null,X(_.value,A=>(s(),a("option",{key:A.site_name,value:A.site_name},t(A.site_name),9,uc))),128))]),_:2},1032,["class","modelValue"]),e("span",_c,t(U.branch),1)]),e("div",mc,[pc,f(c(R),{name:"department",type:"text",class:S(["form-control",{"is-invalid":U.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":y[4]||(y[4]=A=>b.department=A)},null,8,["class","modelValue"]),e("span",hc,t(U.department),1)]),e("div",vc,[bc,f(c(R),{name:"warehouse",type:"text",class:S(["form-control",{"is-invalid":U.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":y[5]||(y[5]=A=>b.warehouse=A)},null,8,["class","modelValue"]),e("span",fc,t(U.warehouse),1)]),e("div",$c,[gc,f(c(R),{name:"user",type:"text",class:S(["form-control",{"is-invalid":U.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":y[6]||(y[6]=A=>b.user=A)},null,8,["class","modelValue"]),e("span",yc,t(U.user),1)])]),e("div",kc,[e("div",wc,[xc,f(c(R),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":y[7]||(y[7]=A=>b.brand=A)},null,8,["modelValue"])]),e("div",Cc,[Sc,f(c(R),{name:"model",type:"text",class:S(["form-control",{"is-invalid":U.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":y[8]||(y[8]=A=>b.model=A),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Dc,t(U.model),1)]),e("div",Uc,[Vc,f(c(R),{name:"assettag",type:"text",class:S(["form-control",{"is-invalid":U.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":y[9]||(y[9]=A=>b.assettag=A),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Mc,t(U.assettag),1)]),e("div",Ac,[Ec,Z(e("input",{name:"serialnum",type:"text",class:S(["form-control",{"is-invalid":U.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":y[10]||(y[10]=A=>b.serialnum=A)},null,2),[[_e,b.serialnum]]),e("span",Tc,t(U.serialnum),1)])]),e("div",Pc,[e("div",Fc,[Lc,f(c(R),{name:"problem",as:"textarea",class:S(["form-control",{"is-invalid":U.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":y[11]||(y[11]=A=>b.problem=A)},null,8,["class","modelValue"]),e("span",Ic,t(U.problem),1)]),e("div",qc,[Yc,f(c(R),{name:"assconducted",as:"textarea",class:S(["form-control",{"is-invalid":U.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":y[12]||(y[12]=A=>b.assconducted=A)},null,8,["class","modelValue"]),e("span",Nc,t(U.assconducted),1)]),e("div",Bc,[Rc,f(c(R),{name:"recommendation",as:"textarea",class:S(["form-control",{"is-invalid":U.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":y[13]||(y[13]=A=>b.recommendation=A)},null,8,["class","modelValue"]),e("span",Hc,t(U.recommendation),1)])])])])]),e("div",jc,[l.value?(s(),a("div",Oc,[c(x).user.role==="ADMIN"?(s(),a("div",zc,[e("button",{type:"button",onClick:y[14]||(y[14]=A=>P(2)),class:"btn btn-info"}," Approved "),Gc,e("div",Wc,[e("span",{onClick:y[15]||(y[15]=A=>P(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:y[16]||(y[16]=A=>P(3)),class:"dropdown-item"},"Disapproved")])])):E("",!0)])):E("",!0),Qc,Kc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Xc,[e("div",Jc,[e("div",Zc,[er,e("div",tr,[sr,e("button",{onClick:te(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const je=tt("SettingStore",()=>{const o=i({app_name:""}),k=xt("SettingStore:theme",i("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(r=>{o.value=r.data})},theme:k,changeTheme:()=>{k.value=k.value==="light"?"dark":"light"}}});const ae=o=>(Ve("data-v-25eebe99"),o=o(),Me(),o),or={class:"content"},lr={class:"container-fluid"},nr={class:"card"},dr={class:"card-header"},ir={class:"card-title"},cr={class:"card-body"},rr={class:"col-md-12"},ur={class:"d-flex justify-content-between"},_r=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),mr={class:"d-flex"},pr={class:"col-12",id:"accordion"},hr={key:1},vr={key:0},br={class:"card card-secondary"},fr={class:"card-body d-flex align-items-center justify-content-center"},$r={class:"image-container"},gr=["src"],yr=ae(()=>e("div",{class:"overlay"},null,-1)),kr={key:1},wr={class:"card-header bg-white"},xr={class:"card-title"},Cr=["href"],Sr=["src"],Dr={class:"card-tools"},Ur=["onClick"],Vr=ae(()=>e("i",{class:"fas fa-tasks"},null,-1)),Mr=[Vr],Ar=["disabled","onClick"],Er=["onClick"],Tr=["onClick"],Pr=ae(()=>e("p",{class:"float-right"},null,-1)),Fr=["id"],Lr={class:"card-body"},Ir={class:"col-md-12"},qr={class:"dispatch-table"},Yr={class:"row"},Nr={class:"col-4"},Br=ae(()=>e("b",null,"Site:",-1)),Rr=ae(()=>e("b",null,"Planned Date:",-1)),Hr=ae(()=>e("b",null,"Planned End Date:",-1)),jr={class:"col-4"},Or=ae(()=>e("b",null,"Start Date:",-1)),zr=ae(()=>e("b",null,"Accomplished Date:",-1)),Gr={class:"closestatus"},Wr=ae(()=>e("b",{style:{color:"black"}},"Type:",-1)),Qr={class:"col-4"},Kr={class:"ongoing"},Xr=ae(()=>e("b",{style:{color:"black"}},"Status:",-1)),Jr=ae(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Zr=ae(()=>e("b",null,"Remarks:",-1)),eu={style:{margin:"0.5%"}},tu=["disabled","onClick"],su=["onClick","disabled"],au={class:"dispatch-list"},ou={class:"list-group list-group-flush"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},gu={class:"badge badge-primary badge-pill"},yu=ae(()=>e("hr",null,null,-1)),ku={class:"row"},wu={class:"col"},xu=["onClick"],Cu=ae(()=>e("i",{class:"fas fa-pen"},null,-1)),Su=["onClick"],Du=ae(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),L(" Drop ")],-1)),Uu=[Du],Vu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mu={class:"modal-dialog modal-dialog-centered",role:"document"},Au={class:"modal-content"},Eu={class:"modal-header"},Tu={class:"modal-title",id:"staticBackdropLabel"},Pu={key:0},Fu={key:1},Lu={key:2},Iu=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),qu={class:"modal-body"},Yu={class:"col-md-12"},Nu={class:"row"},Bu={class:"col-12"},Ru={class:"form-group"},Hu=ae(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),ju=ae(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Ou=["value"],zu={key:0,class:"d-flex justify-content-between"},Gu={class:"d-flex"},Wu={class:"form-group"},Qu=ae(()=>e("label",{for:"end-time"},"Start Date",-1)),Ku={class:"form-group"},Xu=ae(()=>e("label",{for:"end-time"},"Hour",-1)),Ju=["value"],Zu=ae(()=>e("div",{class:"d-fex"},null,-1)),e_={key:1,class:"d-flex justify-content-between"},t_={class:"d-flex"},s_={class:"form-group"},a_=ae(()=>e("label",{for:"end-time"},"End Date",-1)),o_={class:"form-group"},l_=ae(()=>e("label",{for:"end-time"},"Hour",-1)),n_=["value"],d_=ae(()=>e("div",{class:"d-fex"},null,-1)),i_={class:"form-group"},c_=ae(()=>e("label",{for:"site"},"Type",-1)),r_=ae(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),u_=["value"],__=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),m_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},p_={class:"modal-dialog modal-sm",role:"document"},h_={class:"modal-content"},v_={class:"modal-header"},b_={class:"modal-title",id:"staticBackdropLabel"},f_=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),$_={class:"modal-body"},g_=Ce('<ul class="nav nav-tabs" id="myTabs" data-v-25eebe99><li class="nav-item" data-v-25eebe99><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-25eebe99> Todo List</a></li><li class="nav-item" data-v-25eebe99><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-25eebe99> Todo</a></li></ul>',1),y_={class:"tab-content"},k_={class:"tab-pane fade show active",id:"todolist"},w_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},x_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),C_=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),S_={key:0,class:"list-group-item p-0"},D_={class:"d-flex justify-content-center"},U_=["onClick"],V_={class:"ml-auto my-1 mr-1"},M_=["onClick"],A_=ae(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),E_=[A_],T_={class:"mt-2 mb-2 list-unstyled"},P_={key:1},F_={key:0,class:"list-group-item p-0"},L_={class:"d-flex justify-content-center"},I_=["onClick"],q_={class:"ml-auto my-1 mr-1"},Y_=["onClick"],N_=ae(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),B_=[N_],R_={key:1,class:"mt-2 text-center"},H_=ae(()=>e("span",null,"No Todo",-1)),j_=[H_],O_={class:"tab-pane fade",id:"formTask"},z_={class:"col-md-12"},G_={class:"row"},W_={class:"col-12"},Q_={class:"m-2",style:{display:"flex","align-items":"center"}},K_=ae(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),L("\xA0Save ")])],-1)),X_={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},J_={class:"modal-dialog",role:"document"},Z_={class:"modal-content"},em=ae(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),tm={class:"modal-body"},sm={class:"col-md-12"},am={class:"row"},om={class:"col-12"},lm={class:"modal-footer"},nm=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),dm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},im={class:"modal-dialog",role:"document"},cm={class:"modal-content"},rm=Ce('<div class="modal-header" data-v-25eebe99><h5 class="modal-title" id="staticBackdropLabel" data-v-25eebe99><span data-v-25eebe99>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-25eebe99><span aria-hidden="true" data-v-25eebe99>\xD7</span></button></div><div class="modal-body" data-v-25eebe99><h5 data-v-25eebe99>Are you sure you want to delete this record ?</h5></div>',2),um={class:"modal-footer"},_m=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),mm={__name:"MyPrio",setup(o){const k=`${$e().name}`,_=i(!1),d=i(!1),r=Xe("$swal");je();const u=he(),h=i({data:[]}),D=i([]);i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),i();const l=i();i();const M=i(!0),b=i(!1);i(!1),i();const x=i(),n=i(),w=i(),Y=pe();i(null),i(!1);const W=i([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),ee=i(),de=i("1:00 AM"),B=i(),V=i("1:00 AM"),q=i(Array.from({length:24},(F,N)=>{const p=N%12+1,ve=N<12?"AM":"PM";return`${p}:00 ${ve}`})),m=i(Array.from({length:24},(F,N)=>{const p=N%12+1,ve=N<12?"AM":"PM";return`${p}:00 ${ve}`})),g=Ae({dailytask_id:"",site:"",user_id:Y.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),Q=i("");fe([ee,de],()=>{const F=new Date(ee.value),N=F.getFullYear(),p=String(F.getMonth()+1).padStart(2,"0"),ve=String(F.getDate()).padStart(2,"0");g.plandate=`${N}-${p}-${ve} ${de.value}`}),fe([ee,V],()=>{const F=new Date(ee.value);F.getFullYear(),String(F.getMonth()+1).padStart(2,"0"),String(F.getDate()).padStart(2,"0")}),fe([B,V],()=>{const F=new Date(B.value),N=F.getFullYear(),p=String(F.getMonth()+1).padStart(2,"0"),ve=String(F.getDate()).padStart(2,"0");g.enddates=`${N}-${p}-${ve} ${V.value}`});const K=i({id:"",dailytask_id:"",task_name:"",iscompleted:0}),se=()=>{T.get("/web/getsite").then(F=>{l.value=F.data.sites}).catch(F=>{console.log(F)})},ie=()=>{_.value=!0,T.get("/web/dailytask",{params:{query:H.value}}).then(F=>{_.value=!1,h.value=F.data,re.value=[]})},z=async F=>{(await r({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,T.put(`/web/dailytask/drop/${F}`).then(p=>{u.success("Data drop successfully!"),_.value=!1,ie()}))},P=()=>{$("#FormModalTask").modal("show")},C=F=>{P(),K.value.dailytask_id=F.dailytask_id,n.value=F.taskdate,w.value=F.startdate,d.value=!0,T.get(`/web/dailytask/${F.dailytask_id}/tasks`).then(N=>{D.value=N.data,P(),d.value=!1}).catch(N=>{console.error("Error fetching tasks:",N)})},v=()=>{d.value=!0,T.post("/web/dailytask/addnewTask",{dailytask_id:K.value.dailytask_id,task_name:K.value.task_name,iscompleted:K.value.iscompleted}).then(F=>{u.success("Data created successfully!"),T.get(`/web/dailytask/${K.value.dailytask_id}/tasks`).then(N=>{D.value=N.data,d.value=!1}).catch(N=>{console.error("Error fetching tasks:",N),u.error("Error fetching tasks. Please try again.")}),K.value.task_name=""}).catch(F=>{console.error("Error adding new task:",F),u.error("Error adding new task. Please try again.")})},y=F=>{K.value.iscompleted=F.iscompleted===1?0:1,T.post("/web/dailytask/addnewTask",{id:F.id,dailytask_id:F.dailytask_id,task_name:F.task_name,iscompleted:K.value.iscompleted}).then(N=>{T.get(`/web/dailytask/${F.dailytask_id}/tasks`).then(p=>{D.value=p.data}).catch(p=>{console.error("Error fetching tasks:",p),u.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),u.error("Error adding new task. Please try again.")})},oe=Ue(()=>Array.isArray(D.value)?D.value.filter(F=>F.iscompleted===1):[]),ce=Ue(()=>oe.value.length),U=()=>{M.value=!M.value},A=F=>{T.delete(`/web/dailytask/deleteTask/${F.id}`).then(N=>{T.get(`/web/dailytask/${F.dailytask_id}/tasks`).then(p=>{D.value=p.data,u.success("Todo successfull Deleted")}).catch(p=>{console.error("Error fetching tasks:",p),u.error("Error fetching tasks. Please try again.")})}).catch(N=>{console.error("Error adding new task:",N),u.error("Error adding new task. Please try again.")})};xe({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()}),xe({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()});const Ye=(F,N)=>{T.post("/web/dailytask",g).then(p=>{ie(),$("#FormModal").modal("hide"),u.success("data created successfully!")}).catch(p=>{N.setErrors(p.response.data.errors)})},Ge=(F,N)=>{T.put("/web/dailytask/"+g.dailytask_id,g).then(p=>{console.log(p.data),ie(),$("#FormModal").modal("hide"),u.success("data update successfully!")}).catch(p=>{N.setErrors(p.response.data.errors)})},He=F=>{F&&F.dailytask_id!==null&&F.dailytask_id!==void 0?(b.value=!0,x.value=" on "+be(F.taskdate).format("MMMM D, YYYY"),g.site=F.site_name,g.dailytask_id=F.dailytask_id,g.plandate=F.plandate,g.planenddate=F.planenddate,g.tasktype=F.tasktype,console.log(F.site_name),console.log(F.tasktype)):b.value=!1,se(),$("#FormModal").modal("show")},Ne=(F,N)=>{b.value?Ge(F,N):Ye(F,N)},We=async F=>{if((await r.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const p=await T.put("/web/dailytask/onTashHoliday/"+F.dailytask_id,F);u.success(p.data.message),ie()}},j=async F=>{try{const N=await T.get(`/web/dailytask/${F.dailytask_id}/tasks`);if(D.value=N.data,!D.value||D.value.length===0){r.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await r.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ve=await T.put("/web/dailytask/onhandler/"+F.dailytask_id,F);u.success(ve.data.message),ie()}}catch(N){console.error("Error fetching tasks:",N),u.error("An error occurred while updating the task.")}},G=F=>{$("#onRemarksModal").modal("show"),Q.value=F},ge=()=>{g.remarks===null||g.remarks==""?u.error("Remarks is required"):(be(Q.value.taskdate).format("YYYY-MM-DD")===be().format("YYYY-MM-DD")?g.status="HIT":g.status="MISS",T.put("/web/dailytask/onhandler/"+Q.value.dailytask_id,{startdate:Q.value.startdate,remarks:g.remarks,status:g.status}).then(N=>{console.log(N.data),ie(),$("#onRemarksModal").modal("hide"),u.success(N.data.message)}))},H=i(null),re=i([]);return i(null),fe(H,Pe.exports.debounce(()=>{ie()},300)),me(()=>{at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ie(),document.title=k}),(F,N)=>(s(),a(O,null,[e("div",or,[e("div",lr,[e("div",nr,[e("div",dr,[e("div",ir,t(c(Y).user.first_name+" "+c(Y).user.last_name)+" - My Prio ",1)]),e("div",cr,[e("div",rr,[e("div",ur,[e("div",{class:"d-flex"},[e("button",{onClick:He,type:"button",class:"mb-2 btn btn-primary"},[_r,L(" Task ")])]),e("div",mr,[Z(e("input",{type:"text","onUpdate:modelValue":N[0]||(N[0]=p=>H.value=p),class:"form-control",placeholder:"Search..."},null,512),[[_e,H.value]])])]),e("div",pr,[_.value?(s(),ue(Te,{key:0})):(s(),a("div",hr,[h.value.length===0?(s(),a("div",vr,[e("div",br,[e("div",fr,[e("div",$r,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,gr),yr])])])])):(s(),a("div",kr,[(s(!0),a(O,null,X(h.value,p=>(s(),a("div",{class:"card card-primary",key:p.id},[e("div",wr,[e("h4",xr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+p.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Sr),L(" \xA0"),e("b",null,t(c(be)(p.taskdate).format("MMMM D, YYYY")+" - "+p.site_name),1)],8,Cr)]),e("div",Dr,[p.tasktypeid&&p.tasktypeid!==6?(s(),a("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>C(p)},Mr,8,Ur)):E("",!0),!p.enddate&&p.tasktypeid!==6?(s(),a("button",{key:1,disabled:p.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ve=>G(p)}," End ",8,Ar)):E("",!0),p.tasktypeid&&p.tasktypeid===6?(s(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>We(p)}," Complete ",8,Er)):E("",!0),!p.startdate&&p.tasktypeid!==6?(s(),a("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ve=>j(p)}," Start ",8,Tr)):E("",!0),Pr])]),e("div",{id:"collapse"+p.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Lr,[e("div",Ir,[e("div",qr,[e("div",Yr,[e("div",Nr,[e("h5",null,[Br,L(" "+t(p.site_name),1)]),e("h5",null,[Rr,L(" "+t(p.plandate),1)]),e("h5",null,[Hr,L(" "+t(p.planenddate),1)])]),e("div",jr,[e("h5",null,[Or,L(" "+t(p.startdate!==null?c(be)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[zr,L(" "+t(p.enddate!==null?c(be)(p.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Gr,[Wr,L(" "+t(p.tasktype?p.tasktype.join(", "):""),1)])]),e("div",Qr,[e("h5",Kr,[Xr,L(" "+t(p.status),1)]),e("h5",null,[Jr,L(" "+t(p.attachment),1)]),e("h5",null,[Zr,L(" "+t(p.remarks),1)])])]),e("div",eu,[e("button",{disabled:p.startdate!==null,onClick:ve=>z(p.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,tu),e("button",{onClick:ve=>He(p),type:"button",disabled:p.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,su)])]),e("div",au,[e("ul",ou,[e("li",lu,[L(" Site: "),e("span",nu,t(p.site_name),1)]),e("li",du,[L(" Planned Date: "),e("span",iu,t(p.plandate),1)]),e("li",cu,[L(" Planned End Date: "),e("span",ru,t(p.planenddate),1)]),e("li",uu,[L(" Start Date: "),e("span",_u,t(p.startdate!==null?c(be)(p.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",mu,[L(" Type: "),e("span",pu,t(p.tasktype?p.tasktype.join(", "):""),1)]),e("li",hu,[L(" Status: "),e("span",vu,t(p.status),1)]),e("li",bu,[L(" Attachment: "),e("span",fu,t(p.attachment),1)]),e("li",$u,[L(" Remarks: "),e("span",gu,t(p.remarks),1)])]),yu,e("div",ku,[e("div",wu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ve=>He(p)},[Cu,L(" Edit ")],8,xu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ve=>z(p.dailytask_id)},Uu,8,Su)])])])])])],8,Fr)]))),128))]))]))])])])])])]),e("div",Vu,[e("div",Mu,[e("div",Au,[e("div",Eu,[e("h5",Tu,[b.value?(s(),a("span",Pu,"Edit My Task")):(s(),a("span",Fu,"Add My Task")),b.value?(s(),a("span",Lu,t(x.value),1)):E("",!0)]),Iu]),f(c(De),{onSubmit:Ne},{default:J(()=>[e("div",qu,[e("div",Yu,[e("div",Nu,[e("div",Bu,[f(c(R),{modelValue:g.user_id,"onUpdate:modelValue":N[1]||(N[1]=p=>g.user_id=p),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Ru,[Hu,Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":N[2]||(N[2]=p=>g.site=p)},[ju,(s(!0),a(O,null,X(l.value,p=>(s(),a("option",{key:p.id,value:p.id},t(p.site_name),9,Ou))),128))],512),[[Fe,g.site]])]),b.value==!1?(s(),a("div",zu,[e("div",Gu,[e("div",Wu,[Qu,f(c(Le),{class:"form-control",modelValue:ee.value,"onUpdate:modelValue":N[3]||(N[3]=p=>ee.value=p)},null,8,["modelValue"])]),e("div",Ku,[Xu,Z(e("select",{class:"form-control","onUpdate:modelValue":N[4]||(N[4]=p=>de.value=p),id:"plandate"},[(s(!0),a(O,null,X(q.value,p=>(s(),a("option",{key:p,value:p},t(p),9,Ju))),128))],512),[[Fe,de.value]])])]),Zu])):E("",!0),b.value==!1?(s(),a("div",e_,[e("div",t_,[e("div",s_,[a_,f(c(Le),{class:"form-control",modelValue:B.value,"onUpdate:modelValue":N[5]||(N[5]=p=>B.value=p)},null,8,["modelValue"])]),e("div",o_,[l_,Z(e("select",{class:"form-control","onUpdate:modelValue":N[6]||(N[6]=p=>V.value=p),id:"plandate"},[(s(!0),a(O,null,X(m.value,p=>(s(),a("option",{key:p,value:p},t(p),9,n_))),128))],512),[[Fe,V.value]])])]),d_])):E("",!0),e("div",i_,[c_,f(c(R),{name:"tasktype"},{default:J(()=>[Z(e("select",{"onUpdate:modelValue":N[7]||(N[7]=p=>g.tasktype=p),class:"form-control",required:!0},[r_,(s(!0),a(O,null,X(W.value,p=>(s(),a("option",{key:p.value,value:p.value},t(p.name),9,u_))),128))],512),[[Fe,g.tasktype]])]),_:1})])])])])]),__]),_:1})])])]),e("div",m_,[e("div",p_,[e("div",h_,[e("div",v_,[e("h5",b_," My Todo of "+t(c(be)(n.value).format("MM/D/YYYY")),1),f_]),e("div",$_,[g_,e("div",y_,[e("div",k_,[D.value.length>0?(s(),a("div",w_,[d.value?(s(),ue(Te,{key:0,viewBox:"0 0 250 110"},{default:J(()=>[x_,C_]),_:1})):E("",!0),(s(!0),a(O,null,X(D.value,p=>(s(),a("ul",{class:"list-group",key:p.id},[p.iscompleted!==1?(s(),a("li",S_,[e("div",D_,[e("div",null,[e("span",{class:S({"font-italic btn":p.iscompleted===1,btn:p.iscompleted!==1})},[w.value?(s(),a("i",{key:0,onClick:ve=>y(p),class:S({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1})},null,10,U_)):E("",!0),L(" "+t(p.task_name),1)],2)]),e("div",V_,[e("button",{onClick:ve=>A(p),class:"btn btn-outline"},E_,8,M_)])])])):E("",!0)]))),128)),e("li",T_,[ce.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:U},[e("i",{class:S(["fa",M.value?"fa-arrow-down":"fa-arrow-right"])},null,2),L(" \xA0Completed "+t(ce.value),1)])):E("",!0)]),M.value?(s(),a("div",P_,[(s(!0),a(O,null,X(D.value,p=>(s(),a("ul",{class:"list-group",key:p.id},[p.iscompleted===1?(s(),a("li",F_,[e("div",L_,[e("div",null,[e("span",{class:S({"font-italic btn":p.iscompleted===1,btn:p.iscompleted!==1})},[w.value?(s(),a("i",{key:0,onClick:ve=>y(p),class:S({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":p.iscompleted===1,"fa fa-circle text-primary":p.iscompleted!==1})},null,10,I_)):E("",!0),L(" "+t(p.task_name),1)],2)]),e("div",q_,[e("button",{onClick:ve=>A(p),class:"btn btn-outline"},B_,8,Y_)])])])):E("",!0)]))),128))])):E("",!0)])):(s(),a("div",R_,j_))]),e("div",O_,[f(c(De),{onSubmit:v},{default:J(()=>[e("div",z_,[e("div",G_,[e("div",W_,[f(c(R),{modelValue:K.value.dailytask_id,"onUpdate:modelValue":N[8]||(N[8]=p=>K.value.dailytask_id=p),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",Q_,[f(c(R),{modelValue:K.value.task_name,"onUpdate:modelValue":N[9]||(N[9]=p=>K.value.task_name=p),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),K_]),_:1})])])])])])]),e("div",X_,[e("div",J_,[e("div",Z_,[em,e("div",tm,[e("div",sm,[e("div",am,[e("div",om,[f(c(R),{modelValue:g.remarks,"onUpdate:modelValue":N[10]||(N[10]=p=>g.remarks=p),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",lm,[e("button",{onClick:N[11]||(N[11]=te(p=>ge(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),nm])])])]),e("div",dm,[e("div",im,[e("div",cm,[rm,e("div",um,[e("button",{onClick:N[12]||(N[12]=te((...p)=>F.deleteUser&&F.deleteUser(...p),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),_m])])])])],64))}};var pm=ke(mm,[["__scopeId","data-v-25eebe99"]]);const hm={class:"text-center"},vm={key:0},bm={class:"text-center"},fm={key:0},$m={class:"text-center"},gm={key:0,class:"bg-success text-center"},ym={key:1,class:"bg-danger text-center"},km={key:2,class:"text-center"},wm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return he(),pe(),(k,_)=>(s(),a("tr",null,[e("td",null,t(c(be)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",hm,[o.item.task_lists_count!==0?(s(),a("span",vm,t(o.item.task_lists_count),1)):E("",!0)]),e("td",bm,[o.item.completed_task_count!==0?(s(),a("span",fm,t(o.item.completed_task_count),1)):E("",!0)]),e("td",$m,[e("span",null,t(o.item.remarks),1)]),o.item.status==="HIT"?(s(),a("td",gm,t(o.item.status),1)):o.item.status==="MISS"?(s(),a("td",ym,t(o.item.status),1)):o.item.status===null||o.item.status===""?(s(),a("td",km,t(o.item.status===null||o.item.status===""?"On Going!":""),1)):E("",!0),e("td",{class:S({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},t(o.item.percentage_completed+"%"),3)]))}};const we=o=>(Ve("data-v-37ef9673"),o=o(),Me(),o),xm={class:"content-header"},Cm={class:"container-fluid"},Sm={class:"col-12"},Dm={class:"card",id:"captureVSCContainer"},Um={class:"card-header"},Vm={class:"card-title"},Mm={class:"card-tools"},Am={class:"card-body"},Em=we(()=>e("i",{class:"fa fa-camera"},null,-1)),Tm=[Em],Pm={key:1,class:"row"},Fm={class:"inner"},Lm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Im=["src"],qm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Ym={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Nm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Bm={style:{"text-align":"left"}},Rm={key:0},Hm=we(()=>e("span",{class:"text-light badge"},"Todos",-1)),jm={class:"list-group-item"},Om={style:{display:"flex","align-items":"left"}},zm={class:"ml-1"},Gm={class:"ml-1"},Wm={class:"float-right"},Qm={id:"captureHitRateContainer",class:"card"},Km={class:"card-header"},Xm={class:"card-title"},Jm={class:"card-body"},Zm={class:"content"},ep={class:"container-fluid"},tp=we(()=>e("i",{class:"fa fa-camera"},null,-1)),sp=[tp],ap={class:"dispatch-table"},op={class:"table-responsive"},lp={class:"table table-bordered table-hover table-sm"},np=we(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),dp=["item"],ip={class:"list-field"},cp=we(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),rp={class:"list-field"},up=we(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),_p={key:0},mp={class:"list-field"},pp=we(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),hp={key:0},vp={class:"list-field"},bp=we(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),fp={class:"list-field"},$p=we(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),gp={class:"list-field"},yp=we(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),kp={class:"float-right"},wp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xp={class:"modal-dialog modal-sm",role:"document"},Cp={class:"modal-content"},Sp=we(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Dp={class:"modal-body"},Up={class:"fromtocenter"},Vp=we(()=>e("label",{for:"fromDate"},"From:",-1)),Mp=we(()=>e("label",{for:"toDate"},"To:",-1)),Ap=we(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ep={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Tp={class:"modal-dialog modal-sm",role:"document"},Pp={class:"modal-content"},Fp=we(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Lp={class:"modal-body"},Ip={class:"container"},qp={class:"row"},Yp=["onClick"],Np=we(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Bp={__name:"MyVsc",setup(o){const k=`${$e().name}`,_=pe(),d=i(!1),r=i([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),h=i((()=>{const V={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",V)})()),D=()=>{const V=document.getElementById("captureVSCContainer");ze(V).then(q=>{const m=q.toDataURL(),g=document.createElement("a");g.href=m,g.download=`${_.user.first_name+" "+_.user.last_name} - ${k}.png`,g.click()})},l=()=>{const V=document.getElementById("captureHitRateContainer");ze(V).then(q=>{const m=q.toDataURL(),g=document.createElement("a");g.href=m,g.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,g.click()})};i(null),i("today");const M=i({data:[]}),b=i({data:[]}),x=()=>{d.value=!0,axios.get("/api/myvsc").then(V=>{d.value=!1,M.value=V.data.dailyTasks,b.value=V.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},w=i({start_date:"",end_date:""}),Y=i(""),W=i("");fe([Y],()=>{const V=new Date(Y.value),q=V.getFullYear(),m=String(V.getMonth()+1).padStart(2,"0"),g=String(V.getDate()).padStart(2,"0");w.value.start_date=`${q}-${m}-${g}`}),fe([W],()=>{const V=new Date(W.value),q=V.getFullYear(),m=String(V.getMonth()+1).padStart(2,"0"),g=String(V.getDate()).padStart(2,"0");w.value.end_date=`${q}-${m}-${g}`});const ee=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:w.value.start_date,end_date:w.value.end_date}}).then(V=>{d.value=!1,M.value=V.data.dailyTasks,b.value=V.data.TaskList}).catch(V=>{console.error(V)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},de=()=>{$("#FormModalPickerThemes").modal("show")},B=V=>{if(V){const q=_.user.id;axios.post("/api/changethemes",{userid:q,background:V.background,active_background:V.active_background,font_background:V.font_background}).then(m=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(g=>{d.value=!1,M.value=g.data.dailyTasks,b.value=g.data.TaskList})}).catch(m=>{console.error(m)})}else console.error("Invalid item:",V)};return me(()=>{x(),document.title=k}),(V,q)=>(s(),a(O,null,[e("div",xm,[e("div",Cm,[e("div",Sm,[e("div",Dm,[e("div",Um,[e("div",Vm,[e("h5",null,t(c(_).user.first_name+" "+c(_).user.last_name)+" - "+t(k),1)]),e("div",Mm,[e("i",{onClick:q[0]||(q[0]=m=>de()),class:"fas fa-palette"})])]),e("div",Am,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:D,type:"button",class:"mb-2 btn btn-sm btn-success"},Tm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(s(),ue(Te,{key:0})):(s(),a("div",Pm,[(s(!0),a(O,null,X(M.value,m=>(s(),a("div",{class:"col-lg-3 col-6",key:m.id},[e("div",{class:"small-box",style:Qe("background-color: "+(c(be)(m.taskdate).format("MMMM D, YYYY")===h.value?m.active_background==""?"#72461F":m.active_background:m.background==""?"#B98D65":m.background)+";")},[e("div",Fm,[e("div",Lm,[L(t(c(be)(m.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Im)]),e("div",qm,t(c(be)(m.taskdate).format("MMMM D, YYYY")),1),m.tasktype!==6?(s(),a("div",Ym,t(m.site_name),1)):E("",!0),m.tasktype===6?(s(),a("div",Nm," Holiday ")):E("",!0),e("div",Bm,[m.task_lists&&m.task_lists.length>0?(s(),a("div",Rm,[Hm,(s(!0),a(O,null,X(m.task_lists,g=>(s(),a("ul",{class:"list-group list-group-flush",key:g.id},[e("li",jm,[e("div",Om,[e("div",zm,[e("i",{class:S(g.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Gm,t(g.task_name),1)])])]))),128))])):E("",!0)])])],4)]))),128))])),e("div",Wm,t(h.value),1)])]),e("div",Qm,[e("div",Km,[e("div",Xm,[e("h5",null,t(c(_).user.first_name+" "+c(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Jm,[e("div",Zm,[e("div",ep,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},sp)])]),e("div",ap,[e("div",op,[e("table",lp,[np,e("tbody",null,[(s(!0),a(O,null,X(b.value,m=>(s(),ue(wm,{key:m.id,item:m},null,8,["item"]))),128))])])])]),(s(!0),a(O,null,X(b.value,m=>(s(),a("div",{class:"dispatch-list",key:m.id,item:m},[e("div",{class:S([{"callout callout-success":m.remarks==="HIT","callout callout-danger":m.remarks==="MISS",callout:m.remarks===null}])},[e("div",ip,[cp,e("span",null,t(c(be)(m.taskdate).format("MMMM D, YYYY")),1)]),e("div",rp,[up,m.task_lists_count!==0?(s(),a("span",_p,t(m.task_lists_count),1)):E("",!0)]),e("div",mp,[pp,m.completed_task_count!==0?(s(),a("span",hp,t(m.completed_task_count),1)):E("",!0)]),e("div",vp,[bp,e("span",null,t(m.remarks),1)]),e("div",fp,[$p,e("span",{class:S(["badge",m.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(m.status),1)],2)]),e("div",gp,[yp,e("span",{class:S(["badge",{"bg-danger":m.percentage_completed>=0&&m.percentage_completed<=59},{"bg-orange":m.percentage_completed>60&&m.percentage_completed<=90},{"bg-success":m.percentage_completed===100}])},t(m.percentage_completed+"%"),3)])],2)],8,dp))),128))])]),e("div",kp,t(h.value),1)])])])])]),e("div",wp,[e("div",xp,[e("div",Cp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(k)+" Summary Report")]),Sp]),e("div",Dp,[e("div",Up,[e("div",null,[Vp,f(c(Le),{modelValue:Y.value,"onUpdate:modelValue":q[1]||(q[1]=m=>Y.value=m)},null,8,["modelValue"])]),e("div",null,[Mp,f(c(Le),{modelValue:W.value,"onUpdate:modelValue":q[2]||(q[2]=m=>W.value=m)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Ap,e("button",{onClick:ee,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Ep,[e("div",Tp,[e("div",Pp,[Fp,e("div",Lp,[e("div",Ip,[e("div",qp,[(s(!0),a(O,null,X(r.value,m=>(s(),a("div",{class:"col-md-4",key:m.background},[e("div",{class:"box",onClick:g=>B(m)},[e("div",{class:"column",style:Qe({"background-color":m.background})}," \xA0 ",4),e("div",{class:"column",style:Qe({"background-color":m.active_background})}," \xA0 ",4)],8,Yp)]))),128))])])]),Np])])])],64))}};var Rp=ke(Bp,[["__scopeId","data-v-37ef9673"]]);const Hp={class:"text-center"},jp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return he(),pe(),(k,_)=>(s(),a("tr",null,[e("td",null,t(o.item.sitename),1),e("td",null,t(c(be)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(o.item.startdate),1),e("td",null,t(o.item.enddate),1),e("td",null,t(o.item.tasktype.listtask),1),e("td",Hp,[e("span",{class:S(["badge",o.item.status==="HIT"?"bg-success":"bg-danger"])},t(o.item.status),3)]),e("td",null,t(o.item.remarks),1)]))}};var Op=ke(jp,[["__scopeId","data-v-24025b6b"]]);const Se=o=>(Ve("data-v-029f6d88"),o=o(),Me(),o),zp={class:"content"},Gp={class:"container-fluid"},Wp={class:"card",id:"capturePrioContainer"},Qp={class:"card-header"},Kp={class:"card-title"},Xp={class:"card-body"},Jp={key:1,class:"content"},Zp={class:"container-fluid"},eh=Se(()=>e("i",{class:"fa fa-camera"},null,-1)),th=[eh],sh={class:"dispatch-table"},ah={class:"table-responsive"},oh={class:"table table-bordered table-sm table-striped table-hover"},lh=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),nh={key:0},dh={key:1},ih=Se(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),ch=[ih],rh=["item","index"],uh={class:"card"},_h={class:"card-body"},mh={class:"list-field"},ph=Se(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),hh={class:"list-field"},vh=Se(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),bh={class:"list-field"},fh=Se(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),$h={class:"list-field"},gh=Se(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),yh={class:"list-field"},kh=Se(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),wh={class:"list-field"},xh=Se(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Ch={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sh={class:"modal-dialog modal-sm",role:"document"},Dh={class:"modal-content"},Uh=Se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Vh={class:"modal-body"},Mh={class:"fromtocenter"},Ah=Se(()=>e("label",{for:"fromDate"},"From:",-1)),Eh=Se(()=>e("label",{for:"toDate"},"To:",-1)),Th=Se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ph={__name:"MyClosePrioList",setup(o){const k=`${$e().name}`,_=i(!1);he();const d=i({data:[]}),r=i(""),u=i(""),h=pe(),D=(x=1)=>{_.value=!0,T.get(`/api/mycloseprio?page=${x}`,{params:{query:b.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const x=document.getElementById("capturePrioContainer");ze(x).then(n=>{const w=n.toDataURL(),Y=document.createElement("a");Y.href=w,Y.download="MY CLOSED PRIO.png",Y.click()})},M=()=>{_.value=!0,T.get("/api/filter-closeprio",{params:{start_date:r.value,end_date:u.value}}).then(x=>{_.value=!1,d.value=x.data.dailyTasks}).catch(x=>{console.error(x)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=i(null);return fe(b,Pe.exports.debounce(()=>{D()},300)),me(()=>{D(),document.title=k}),(x,n)=>{const w=ye("font");return s(),a(O,null,[e("div",zp,[e("div",Gp,[e("div",Wp,[e("div",Qp,[e("div",Kp,[e("h5",null,t(c(h).user.first_name+" "+c(h).user.last_name)+" - My Closed Prio ",1)])]),e("div",Xp,[_.value?(s(),ue(Te,{key:0})):(s(),a("div",Jp,[e("div",Zp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},th)])]),e("div",null,[e("div",sh,[e("div",ah,[f(w,{size:"2"},{default:J(()=>[e("table",oh,[lh,d.value.data.length>0?(s(),a("tbody",nh,[(s(!0),a(O,null,X(d.value.data,(Y,W)=>(s(),ue(Op,{key:Y.id,item:Y,index:W},null,8,["item","index"]))),128))])):(s(),a("tbody",dh,ch))])]),_:1})])]),(s(!0),a(O,null,X(d.value.data,(Y,W)=>(s(),a("div",{class:"dispatch-list first-letter:shadow",key:Y.id,item:Y,index:W},[e("div",uh,[e("div",_h,[e("div",mh,[ph,e("span",null,t(Y.sitename),1)]),e("div",hh,[vh,e("span",null,t(c(be)(Y.taskdate).format("MMMM D, YYYY")),1)]),e("div",bh,[fh,e("span",null,t(Y.startdate),1)]),e("div",$h,[gh,e("span",null,t(Y.enddate),1)]),e("div",yh,[kh,e("span",null,t(Y.tasktype.listtask),1)]),e("div",wh,[xh,e("span",{class:S(["badge",Y.remarks==="HIT"?"bg-success":"bg-danger"])},t(Y.remarks),3)])])])],8,rh))),128))])])]))])]),f(c(qe),{data:d.value,onPaginationChangePage:D},null,8,["data"])])]),e("div",Ch,[e("div",Sh,[e("div",Dh,[Uh,e("div",Vh,[e("div",Mh,[e("div",null,[Ah,f(c(Le),{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=Y=>r.value=Y)},null,8,["modelValue"])]),e("div",null,[Eh,f(c(Le),{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=Y=>u.value=Y)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Th,e("button",{onClick:M,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Fh=ke(Ph,[["__scopeId","data-v-029f6d88"]]);const Lh=["checked"],Ih={class:"text-center"},qh=e("i",{class:"fa fa-edit"},null,-1),Yh=[qh],Nh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:k}){he();const _=o,d=k,r=()=>{d("toggleSelection",_.user)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Lh)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",Ih,[e("a",{href:"#",onClick:h[0]||(h[0]=te(D=>u.$emit("editUser",o.user),["prevent"]))},Yh)])]))}},Bh={class:"content"},Rh={class:"container-fluid"},Hh={class:"card"},jh={class:"card-header"},Oh=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),zh={class:"card-tools"},Gh={class:"card-body"},Wh={class:"table-responsive"},Qh={class:"table table-bordered table-hover table-sm"},Kh=e("th",{style:{width:"10px"}},"#",-1),Xh=e("th",null,"Name",-1),Jh=e("th",null,"Email",-1),Zh=e("th",null,"Registered Date",-1),ev=e("th",null,"Options",-1),tv={key:0},sv={key:1},av=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ov=[av],lv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},nv={class:"modal-dialog modal-sm",role:"document"},dv={class:"modal-content"},iv={class:"modal-header"},cv={class:"modal-title",id:"staticBackdropLabel"},rv={key:0},uv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),_v={class:"modal-body"},mv={class:"table table-sm"},pv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),hv={colspan:"5"},vv={class:"custom-control custom-checkbox"},bv=["value","id","checked"],fv=["for"],$v={key:0,class:"table table-sm"},gv={class:"text-danger"},yv={class:"custom-control custom-checkbox"},kv=["value","id"],wv=["for"],xv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Cv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sv={class:"modal-dialog",role:"document"},Dv={class:"modal-content"},Uv=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vv={class:"modal-footer"},Mv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Av={__name:"UserMenuList",setup(o){const k=`${$e().name}`,_=he(),d=i({data:[]}),r=i(!1),u=i(),h=i(null),D=i(null),l=i([]),M=(B=1)=>{T.get(`/api/users?page=${B}`,{params:{query:n.value}}).then(V=>{d.value=V.data,w.value=[],selectAll.value=!1})},b=B=>{T.get("/api/usermenu",{params:{user_id:B.id}}).then(V=>{de.value=V.data,console.log(V.data)}).catch(V=>{console.log(V)}),r.value=!0,h.value.resetForm(),$("#userFormModal").modal("show"),u.value={id:B.id,username:B.username,email:B.email,first_name:B.first_name,last_name:B.last_name},D.value=u.value.first_name+" "+u.value.last_name},x=()=>{const B={user_id:u.value.id,menu_id:l.value};console.log(B),T.post("/api/usermenu",B).then(V=>{_.success("User Menu Save successfully!")}).catch(V=>{setErrors(V.response.data.errors)})},n=i(null),w=i([]),Y=B=>{const V=w.value.indexOf(B.id);V===-1?w.value.push(B.id):w.value.splice(V,1),console.log(w.value)},W=i(null),ee=B=>{W.value=B,$("#deleteUserModal").modal("show")},de=i({data:[]});return fe(n,Pe.exports.debounce(()=>{M()},300)),me(()=>{M(),document.title=k}),(B,V)=>{const q=ye("font");return s(),a(O,null,[e("div",Bh,[e("div",Rh,[e("div",Hh,[e("div",jh,[Oh,e("div",zh,[Z(e("input",{type:"text","onUpdate:modelValue":V[0]||(V[0]=m=>n.value=m),class:"form-control",placeholder:"Search..."},null,512),[[_e,n.value]])])]),e("div",Gh,[e("div",Wh,[f(q,{size:"2"},{default:J(()=>[e("table",Qh,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":V[1]||(V[1]=m=>B.selectAll=m),onChange:V[2]||(V[2]=(...m)=>B.selectAllUsers&&B.selectAllUsers(...m))},null,544),[[Ee,B.selectAll]])]),Kh,Xh,Jh,Zh,ev])]),d.value.data.length>0?(s(),a("tbody",tv,[(s(!0),a(O,null,X(d.value.data,(m,g)=>(s(),ue(Nh,{key:m.id,user:m,index:g,onEditUser:b,onConfirmUserDeletion:ee,onToggleSelection:Y,"select-all":B.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),a("tbody",sv,ov))])]),_:1})])])]),f(c(qe),{data:d.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",lv,[e("div",nv,[e("div",dv,[e("div",iv,[e("h5",cv,[r.value?(s(),a("span",rv,"User Menu for "+t(D.value),1)):E("",!0)]),uv]),f(c(De),{ref_key:"form",ref:h,onSubmit:x,"initial-values":u.value},{default:J(()=>[e("div",_v,[e("table",mv,[pv,(s(!0),a(O,null,X(de.value,m=>(s(),a("tr",{key:m.menu_id},[e("td",hv,[e("div",vv,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":V[3]||(V[3]=g=>l.value=g),value:m.menu_id,id:"menu_id_"+m.menu_id,checked:m.hasAccess},null,8,bv),[[Ee,l.value]]),e("label",{for:"menu_id_"+m.menu_id,class:"custom-control-label"},t(m.menu_title),9,fv)]),m.submenus&&m.submenus.length>0?(s(),a("table",$v,[(s(!0),a(O,null,X(m.submenus,g=>(s(),a("tr",{key:g.id},[e("td",gv,[e("div",yv,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":V[4]||(V[4]=Q=>l.value=Q),value:g.menu_id,id:"menu_id_"+g.menu_id},null,8,kv),[[Ee,l.value]]),e("label",{for:"menu_id_"+g.menu_id,class:"custom-control-label"},t(g.menu_title),9,wv)])])]))),128))])):E("",!0)])]))),128))])]),xv]),_:1},8,["initial-values"])])])]),e("div",Cv,[e("div",Sv,[e("div",Dv,[Uv,e("div",Vv,[Mv,e("button",{onClick:V[5]||(V[5]=te((...m)=>B.deleteUser&&B.deleteUser(...m),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const lt=o=>(Ve("data-v-8e5d6dd6"),o=o(),Me(),o),Ev=["checked"],Tv=["innerHTML"],Pv={style:{"text-align":"center"}},Fv={class:"text-center"},Lv=lt(()=>e("i",{class:"fa fa-edit"},null,-1)),Iv=[Lv],qv=lt(()=>e("i",{class:"fa fa-trash"},null,-1)),Yv=[qv],Nv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:k}){he(),pe();const _=o,d=k,r=()=>{d("toggleSelection",_.item)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Ev)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.menu_title),1),e("td",null,t(o.item.parent_title),1),e("td",null,t(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Tv),e("td",null,t(o.item.sort_order),1),e("td",Pv,[e("i",{class:S({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,t(o.item.created_at),1),e("td",Fv,[e("button",{class:"btn btn-sm bg-primary",onClick:h[0]||(h[0]=te(D=>u.$emit("editMenu",o.item),["prevent"]))},Iv),L("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:h[1]||(h[1]=te(D=>u.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Yv)])]))}};var Bv=ke(Nv,[["__scopeId","data-v-8e5d6dd6"]]);const Rv=["type","name","value"],Hv=e("span",{class:"check"},null,-1),jv={class:"pl-2"},Ov={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:k}){const _=o,d=k,r=Ue({get:()=>_.modelValue,set:h=>{d("update:modelValue",h)}}),u=Ue(()=>_.type==="radio"?"radio":"checkbox");return(h,D)=>(s(),a("label",{class:S([o.type,"mr-6 mb-3 last:mr-0"])},[Z(e("input",{"onUpdate:modelValue":D[0]||(D[0]=l=>r.value=l),type:u.value,name:o.name,value:o.inputValue},null,8,Rv),[[st,r.value]]),Hv,e("span",jv,t(o.label),1)],2))}},zv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:k}){const _=o,d=k,r=Ue({get:()=>_.modelValue,set:u=>{d("update:modelValue",u)}});return(u,h)=>(s(),a("div",{class:S(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(s(!0),a(O,null,X(o.options,(D,l)=>(s(),ue(Ov,{key:l,modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=M=>r.value=M),type:o.type,name:o.name,"input-value":l,label:D,class:S(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Gv={class:"content"},Wv={class:"container-fluid"},Qv={class:"d-flex justify-content-between"},Kv={class:"d-flex"},Xv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Jv={key:0},Zv=e("i",{class:"fa fa-trash mr-1"},null,-1),eb={class:"ml-2"},tb={class:"card"},sb={class:"card-body"},ab={class:"table-responsive"},ob={class:"table table-bordered table-sm"},lb=e("th",{style:{width:"10px"}},"#",-1),nb=e("th",null,"Title",-1),db=e("th",null,"Parent Menu",-1),ib=e("th",null,"Route",-1),cb=e("th",null,"Icon",-1),rb=e("th",null,"Sort",-1),ub=e("th",null,"Active",-1),_b=e("th",null,"Date",-1),mb=e("th",null,"Action",-1),pb={key:0},hb={key:1},vb=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),bb=[vb],fb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},$b={class:"modal-dialog modal-sm",role:"document"},gb={class:"modal-content"},yb={class:"modal-header"},kb={class:"modal-title",id:"staticBackdropLabel"},wb={key:0},xb={key:1},Cb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Sb={class:"modal-body"},Db={class:"col-md-12"},Ub={class:"row"},Vb={class:"col-12"},Mb={class:"form-group"},Ab=e("label",{for:"user"},"Menu Title",-1),Eb={class:"invalid-feedback"},Tb={class:"form-group"},Pb=e("label",{for:"department"},"Parent Menu",-1),Fb=e("option",{value:"0"},"None",-1),Lb=["value"],Ib={class:"form-group"},qb=e("label",{for:"warehouse"},"Icon",-1),Yb={class:"invalid-feedback"},Nb={class:"form-group"},Bb=e("label",{for:"user"},"Route",-1),Rb={class:"invalid-feedback"},Hb={class:"form-group"},jb=e("label",{for:"user"},"Sort",-1),Ob={class:"invalid-feedback"},zb={class:"form-group"},Gb=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Wb={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qb={class:"modal-dialog",role:"document"},Kb={class:"modal-content"},Xb=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Jb={class:"modal-footer"},Zb=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),e1={__name:"MenuList",setup(o){const k=`${$e().name}`,_=he(),d=i({data:[]}),r=i({data:[]}),u=i(!1),h=i(!1);i();const D=i(!0),l=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),M=pe();i(null);const b=i(),x=(z=1)=>{u.value=!0,T.get(`/api/menulist?page=${z}`,{params:{query:B.value}}).then(P=>{u.value=!1,d.value=P.data,V.value=[],se.value=!1})},n=()=>{T.get("/api/GetParentId").then(z=>{r.value=z.data}).catch(z=>{console.error(z)})};xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const w=({resetForm:z,setErrors:P})=>{T.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(C=>{d.value.data.unshift(C.data),$("#FormModal").modal("hide"),z(),_.success("User created successfully!")}).catch(C=>{C.response.data.errors&&P(C.response.data.errors)})},Y=()=>{h.value=!1,$("#FormModal").modal("show")},W=z=>{h.value=!0,l.menu_id=z.menu_id,l.menu_title=z.menu_title,l.parent_id=z.parent_id,l.menu_icon=z.menu_icon,l.menu_route=z.menu_route,l.sort_order=z.sort_order,l.is_active===1?D.value=!0:D.value=!1,l.is_active=z.is_active,$("#FormModal").modal("show"),b.value=z.parent_id},ee=({setErrors:z})=>{T.post("/api/menulist",l).then(P=>{x(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(P=>{z(P.response.data.errors),console.log(P)})},de=(z,P)=>{h.value?ee(z):w(z)},B=i(null),V=i([]),q=z=>{const P=V.value.indexOf(z.id);P===-1?V.value.push(z.id):V.value.splice(P,1),console.log(V.value)},m=i(null),g=z=>{m.value=z,$("#deleteClientModal").modal("show")},Q=()=>{T.delete(`/api/menu/${m.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(z=>z.menu_id!==m.value)})},K=()=>{T.delete("menulist",{data:{ids:V.value}}).then(z=>{d.value.data=d.value.data.filter(P=>!V.value.includes(P.id)),V.value=[],se.value=!1,_.success(z.data.message)})},se=i(!1),ie=()=>{se.value?V.value=d.value.data.map(z=>z.id):V.value=[],console.log(V.value)};return fe([D],z=>{l.is_active=z?1:0}),fe(B,Pe.exports.debounce(()=>{x()},300)),me(()=>{x(),n(),document.title=k}),(z,P)=>{const C=ye("font");return s(),a(O,null,[e("div",Gv,[e("div",Wv,[e("div",Qv,[e("div",Kv,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[Xv,L(" Menu ")]),V.value.length>0?(s(),a("div",Jv,[e("button",{onClick:K,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zv,L(" Delete Selected ")]),e("span",eb,"Selected "+t(V.value.length)+" Menu",1)])):E("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=v=>B.value=v),class:"form-control",placeholder:"Search..."},null,512),[[_e,B.value]])])]),e("div",tb,[e("div",sb,[u.value?(s(),ue(Te,{key:0})):E("",!0),e("div",ab,[f(C,{size:"2"},{default:J(()=>[e("table",ob,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":P[1]||(P[1]=v=>se.value=v),onChange:ie},null,544),[[Ee,se.value]])]),lb,nb,db,ib,cb,rb,ub,_b,mb])]),d.value.data.length>0?(s(),a("tbody",pb,[(s(!0),a(O,null,X(d.value.data,(v,y)=>(s(),ue(Bv,{key:v.id,item:v,index:y,onEditMenu:W,onConfirmDeletion:g,onToggleSelection:q,"select-all":se.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",hb,bb))])]),_:1})])])]),f(c(qe),{data:d.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",fb,[e("div",$b,[e("div",gb,[e("div",yb,[e("h5",kb,[h.value?(s(),a("span",wb,"Edit Menu")):(s(),a("span",xb,"Add Menu"))]),Cb]),f(c(De),{onSubmit:de},{default:J(({errors:v})=>[e("div",Sb,[e("div",Db,[e("div",Ub,[e("div",Vb,[f(c(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:c(M).user.id,"onUpdate:modelValue":P[2]||(P[2]=y=>c(M).user.id=y)},null,8,["modelValue"]),e("div",Mb,[Ab,f(c(R),{name:"menu_title",type:"text",class:S(["form-control",{"is-invalid":v.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":P[3]||(P[3]=y=>l.menu_title=y)},null,8,["class","modelValue"]),e("span",Eb,t(v.menu_title),1)]),e("div",Tb,[Pb,Z(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":P[4]||(P[4]=y=>l.parent_id=y)},[Fb,(s(!0),a(O,null,X(r.value,y=>(s(),a("option",{key:y.menu_id,value:y.menu_id},t(y.menu_title),9,Lb))),128))],512),[[Fe,l.parent_id]])]),e("div",Ib,[qb,f(c(R),{name:"menu_icon",type:"text",class:S(["form-control",{"is-invalid":v.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":P[5]||(P[5]=y=>l.menu_icon=y)},null,8,["class","modelValue"]),e("span",Yb,t(v.menu_icon),1)]),e("div",Nb,[Bb,f(c(R),{name:"menu_route",type:"text",class:S(["form-control",{"is-invalid":v.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":P[6]||(P[6]=y=>l.menu_route=y)},null,8,["class","modelValue"]),e("span",Rb,t(v.menu_route),1)]),e("div",Hb,[jb,f(c(R),{name:"sort_order",type:"text",class:S(["form-control",{"is-invalid":v.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":P[7]||(P[7]=y=>l.sort_order=y)},null,8,["class","modelValue"]),e("span",Ob,t(v.sort_order),1)]),e("div",zb,[f(zv,{modelValue:l.is_active,"onUpdate:modelValue":P[8]||(P[8]=y=>l.is_active=y),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),Gb]),_:1})])])]),e("div",Wb,[e("div",Qb,[e("div",Kb,[Xb,e("div",Jb,[Zb,e("button",{onClick:te(Q,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},t1={class:"error-page"},s1=Ce('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),a1=[s1],o1="Page Not Found",nt={__name:"404",setup(o){return me(()=>{document.title=o1}),(k,_)=>(s(),a("div",t1,a1))}};const ne=o=>(Ve("data-v-18d1690e"),o=o(),Me(),o),l1={id:"exportPDF"},n1={class:"container"},d1=ne(()=>e("br",null,null,-1)),i1={class:"header"},c1=["src"],r1=["src"],u1={class:"header"},_1={class:"header-justify-space-between"},m1=ne(()=>e("br",null,null,-1)),p1=ne(()=>e("p",null,null,-1)),h1={key:0},v1=ne(()=>e("strong",null,null,-1)),b1=ne(()=>e("br",null,null,-1)),f1=ne(()=>e("br",null,null,-1)),$1=ne(()=>e("p",null,null,-1)),g1=ne(()=>e("strong",null,"Unit details",-1)),y1={class:"content"},k1={class:"header-justify-space-between"},w1=ne(()=>e("span",null,"Brand:",-1)),x1=ne(()=>e("br",null,null,-1)),C1=ne(()=>e("span",null,"Model:",-1)),S1=ne(()=>e("br",null,null,-1)),D1=ne(()=>e("div",null,null,-1)),U1=ne(()=>e("span",null,"Serial #:",-1)),V1=ne(()=>e("br",null,null,-1)),M1=ne(()=>e("span",null,"Asset Tag:",-1)),A1=ne(()=>e("br",null,null,-1)),E1=ne(()=>e("div",null,null,-1)),T1=ne(()=>e("strong",null,"Reported problem",-1)),P1={class:"content"},F1=ne(()=>e("strong",null,"Assessment conducted",-1)),L1={class:"content"},I1=ne(()=>e("strong",null,"Recommendation",-1)),q1={class:"content"},Y1={class:"header-justify-space-between"},N1=ne(()=>e("strong",null,"Evaluated by:",-1)),B1=ne(()=>e("br",null,null,-1)),R1={class:"botoom-line"},H1=ne(()=>e("br",null,null,-1)),j1=ne(()=>e("p",null,null,-1)),O1=ne(()=>e("strong",null,"Noted by:",-1)),z1=ne(()=>e("br",null,null,-1)),G1={class:"botoom-line"},W1=ne(()=>e("br",null,null,-1)),Q1=ne(()=>e("br",null,null,-1)),K1=ne(()=>e("p",null,null,-1)),X1={key:0},J1={key:1},Z1={key:0,class:"fab-container"},ef=ne(()=>e("i",{class:"fas fa-download"},null,-1)),tf=[ef],sf={__name:"TechRecommApprove",setup(o){const k=`${$e().params.id}`,_=()=>{const u=document.getElementById("exportPDF");ot().from(u).save(`${k}.pdf`)},d=Ae({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),r=()=>{T.get(`/api/tech-recommendations/${$e().params.id}`).then(u=>{d.id=u.data.id,d.recommnum=u.data.recommnum,d.branch=u.data.branch,d.company=u.data.company,d.department=u.data.department,d.warehouse=u.data.warehouse,d.user=u.data.user,d.problem=u.data.problem,d.brand=u.data.brand,d.model=u.data.model,d.assettag=u.data.assettag,d.serialnum=u.data.serialnum,d.status=u.data.status,d.assconducted=u.data.assconducted,d.recommendation=u.data.recommendation,d.createdby=u.data.createdby.cfull_name,d.updatedby=u.data.updatedby.ufull_name,d.created_at=be(u.data.created_at).format("MMMM D, YYYY"),d.updated_at=be(u.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=u.data.createdby.cposition,d.updated_position=u.data.updatedby.uposition}).catch(u=>{actions.setErrors(u.response.data.errors)})};return me(()=>{r(),document.title=k}),(u,h)=>(s(),a(O,null,[e("div",l1,[e("div",n1,[d1,e("div",i1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,c1),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,r1)]),e("div",u1,[e("span",null,[L("Recommendation No: "),e("strong",null,t(d.recommnum),1)]),e("span",null,[L("Date Checked: "),e("strong",null,t(d.created_at),1)])]),e("div",_1,[e("div",null,[e("span",null,[L("Company: "),e("strong",null,t(d.company),1)]),m1,e("span",null,[L("Branch: "),e("strong",null,t(d.branch),1)])]),p1,e("div",null,[d.warehouse==""?(s(),a("span",h1,[L("Warehouse: "),v1,L(t(d.warehouse),1)])):E("",!0),b1,e("span",null,[L("User: "),e("strong",null,t(d.user),1)]),f1,e("span",null,[L("Department: "),e("strong",null,t(d.department),1)])]),$1]),g1,e("div",y1,[e("div",k1,[e("div",null,[w1,e("strong",null,t(d.brand),1),x1,C1,e("strong",null,t(d.model),1),S1]),D1,e("div",null,[U1,e("strong",null,t(d.serialnum),1),V1,M1,e("strong",null,t(d.assettag),1),A1]),E1])]),T1,e("div",P1,[e("p",null,t(d.problem),1)]),F1,e("div",L1,[e("p",null,t(d.assconducted),1)]),I1,e("div",q1,[e("p",null,t(d.recommendation),1)]),e("div",Y1,[e("div",null,[N1,B1,e("span",R1,t(d.createdby),1),H1,e("span",null,t(d.created_position),1)]),j1,e("div",null,[O1,z1,e("span",G1,t(d.updatedby),1),W1,e("span",null,t(d.updated_position),1),Q1]),K1]),d.status===2?(s(),a("span",X1,"Approved date:("+t(d.updated_at)+")",1)):(s(),a("span",J1,"Pending"))])]),d.status===2?(s(),a("div",Z1,[e("div",{class:"button iconbutton bg-success",onClick:h[0]||(h[0]=D=>_())},tf)])):E("",!0)],64))}};var dt=ke(sf,[["__scopeId","data-v-18d1690e"]]);const af={},of={class:"card mx-auto",style:{"max-width":"600px"}},lf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),nf={class:"card-body"},df={class:"list-unstyled"};function cf(o,k){return s(),a("div",of,[lf,e("div",nf,[e("ul",df,[e("li",{class:"nav-item dropdown",onClick:k[0]||(k[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var rf=ke(af,[["render",cf]]);const uf=["checked"],_f={class:"text-center"},mf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:k}){he(),pe();const _=o,d=k,r=()=>{d("toggleSelection",_.item)};return(u,h)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,uf)]),e("td",null,t(o.index+1),1),e("td",{onClick:h[0]||(h[0]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.site_name),1),e("td",{onClick:h[1]||(h[1]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_name),1),e("td",{onClick:h[2]||(h[2]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_type),1),e("td",{onClick:h[3]||(h[3]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.serial),1),e("td",{onClick:h[4]||(h[4]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.date_acquired),1),e("td",{onClick:h[5]||(h[5]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.man_supplier),1),e("td",{onClick:h[6]||(h[6]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.unit),1),e("td",{onClick:h[7]||(h[7]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.purchasecost),1),e("td",{onClick:h[8]||(h[8]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.depreciationcostbyyear),1),e("td",{onClick:h[9]||(h[9]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_by),1),e("td",{onClick:h[10]||(h[10]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_at),1),e("td",{onClick:h[11]||(h[11]=te(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.updated_by),1),e("td",_f,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:h[12]||(h[12]=te(D=>u.$emit("editData",o.item),["prevent"]))}),L(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:h[13]||(h[13]=te(D=>u.$emit("confirmDeletion",o.item.id),["prevent"]))})])])]))}};var pf=ke(mf,[["__scopeId","data-v-769d0a2c"]]);const hf={class:"content"},vf={class:"container-fluid"},bf={class:"d-flex justify-content-between"},ff={class:"d-flex"},$f=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),gf={key:0},yf=e("i",{class:"fa fa-trash mr-1"},null,-1),kf={class:"ml-2"},wf={class:"card"},xf={class:"card-body"},Cf={class:"table-responsive"},Sf={class:"table table-bordered table-sm table-striped hover"},Df=e("th",{style:{width:"10px"}},"#",-1),Uf=e("th",null,"Site",-1),Vf=e("th",null,"Asset",-1),Mf=e("th",null,"Asset type",-1),Af=e("th",null,"Serial",-1),Ef=e("th",null,"Date Aquired",-1),Tf=e("th",null,"Supplier",-1),Pf=e("th",null,"Unit",-1),Ff=e("th",null,"Purchase Cost",-1),Lf=e("th",null,"Depreciation Cost",-1),If=e("th",null,"Createdby",-1),qf=e("th",null,"CreatedAt",-1),Yf=e("th",null,"Updatedby",-1),Nf=e("th",null,"Action",-1),Bf={key:0},Rf={key:1},Hf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),jf=[Hf],Of={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zf={class:"modal-dialog modal-lg",role:"document"},Gf={class:"modal-content"},Wf={class:"modal-header"},Qf={class:"modal-title",id:"staticBackdropLabel"},Kf={key:0},Xf={key:1},Jf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zf={class:"modal-body"},e$={class:"col-md-12"},t$={class:"row"},s$={class:"col-6"},a$={class:"form-group"},o$=e("label",{for:"branch"},"Site",-1),l$=e("option",{value:"",disabled:""}," Select Site ",-1),n$=["value"],d$={class:"invalid-feedback"},i$={class:"form-group"},c$=e("label",{for:"department"},"Asset Name",-1),r$={class:"invalid-feedback"},u$={class:"form-group"},_$=e("label",{for:"asset_type"},"Asset Type",-1),m$={class:"invalid-feedback"},p$={class:"form-group"},h$=e("label",{for:"serial"},"Serial #:",-1),v$={class:"invalid-feedback"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"date_acquired"},"Date Acquired",-1),g$={class:"invalid-feedback"},y$={class:"form-group"},k$=e("label",{for:"man_supplier"},"Brand",-1),w$={class:"invalid-feedback"},x$={class:"form-group"},C$=e("label",{for:"unit"},"Unit",-1),S$={class:"invalid-feedback"},D$={class:"row"},U$={class:"col-6"},V$={class:"form-group"},M$=e("label",{for:"paccountable"},"Person Accountable",-1),A$={class:"invalid-feedback"},E$={class:"col-6"},T$={class:"form-group"},P$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),F$={class:"invalid-feedback"},L$={class:"row"},I$={class:"col-6"},q$={class:"form-group"},Y$=e("label",{for:"cucodition"},"Current Condition",-1),N$=e("option",{value:"",disabled:""}," Select Condition ",-1),B$=e("option",{value:"Fair"}," FAIR ",-1),R$=e("option",{value:"Good"}," GOOD ",-1),H$=e("option",{value:"Damange"}," DAMANGE ",-1),j$={class:"invalid-feedback"},O$={class:"form-group"},z$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),G$={class:"col-6"},W$={class:"form-group"},Q$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),K$={class:"form-group"},X$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),J$={class:"row"},Z$={class:"col-6"},eg={class:"form-group"},tg=e("label",{for:"operationhours"},"Operating Hours",-1),sg={class:"col-6"},ag={class:"form-group"},og=e("label",{for:"notes"},"Notes",-1),lg={class:"invalid-feedback"},ng={class:"row"},dg={class:"col-6"},ig={class:"form-group"},cg=e("label",{for:"purchasecost"},"Purchase Cost",-1),rg={class:"input-group mb-3"},ug=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),_g={class:"form-group"},mg=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),pg={class:"input-group mb-3"},hg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),vg={class:"col-6"},bg={class:"form-group"},fg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),$g={class:"invalid-feedback"},gg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),yg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kg={class:"modal-dialog",role:"document"},wg={class:"modal-content"},xg=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Cg={class:"modal-footer"},Sg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Dg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ug={class:"modal-dialog",role:"document"},Vg={class:"modal-content"},Mg=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Ag={class:"modal-body"},Eg={class:"table table-striped table-sm table-hover"},Tg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Pg=e("td",null,"Site",-1),Fg=e("td",null,"Assit Name",-1),Lg=e("td",null,"Assit Type",-1),Ig=e("td",null,"Serial No.",-1),qg=e("td",null,"Date Acquired",-1),Yg=e("td",null,"Brand",-1),Ng=e("td",null,"Unit",-1),Bg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Rg=e("td",null,"Personal Accountable",-1),Hg=e("td",null,"Transfer Location",-1),jg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Og=e("td",null,"Current Condition",-1),zg=e("td",null,"Maintenance Note",-1),Gg=e("td",null,"Last Maintenance",-1),Wg=e("td",null,"Next Maintenance",-1),Qg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),Kg=e("td",null,"Operation Hours",-1),Xg=e("td",null,"Notes",-1),Jg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),Zg=e("td",null,"Purchase Cost",-1),ey=e("td",null,"Depreciation Cost by yr",-1),ty=e("td",null,"Warranty information",-1),sy=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),ay={__name:"AssetmList",setup(o){pe();const k=`${$e().name}`,_=he(),d=i({data:[]});i({data:[]});const r=i(!1),u=i(!1),h=i(),D=i(!0),l=Ae({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});i(null),i();const M=i(),b=(C=1)=>{r.value=!0,T.get(`/web/asset-monitoring?page=${C}`,{params:{query:q.value}}).then(v=>{r.value=!1,d.value=v.data,m.value=[],z.value=!1})},x=xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),n=xe({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),w=()=>{T.post("/web/asset-monitoring",l).then(C=>{$("#FormModal").modal("hide"),b(),_.success(C.data.message)}).catch(C=>{_.error(C.data.message)})},Y=()=>{u.value=!1,$("#FormModal").modal("show")},W=C=>{l.site_name=C.site_name,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.purchasecost=C.purchasecost,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,l.Depreciationcostbyyear=C.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},ee=C=>{u.value=!0,l.id=C.id,l.site_id=C.site_id,l.asset_name=C.asset_name,l.asset_type=C.asset_type,l.serial=C.serial,l.date_acquired=C.date_acquired,l.man_supplier=C.man_supplier,l.unit=C.unit,l.location=C.location,l.paccountable=C.paccountable,l.locationchangetranfer=C.locationchangetranfer,l.cucodition=C.cucodition,l.purchasecost=C.purchasecost,l.depreciationcost=C.depreciationcost,l.maintenancenotes=C.maintenancenotes,l.ceated_by=C.ceated_by,l.updated_by=C.updated_by,$("#FormModal").modal("show")},de=({setErrors:C})=>{T.post("/web/asset-monitoring",l).then(v=>{b(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(v=>{C(v.response.data.errors),console.log(v)})},B=(C,v)=>{u.value?de(C):w()},V=()=>{T.get("/web/getsite").then(C=>{M.value=C.data.sites}).catch(C=>{console.log(C)})},q=i(null),m=i([]),g=C=>{const v=m.value.indexOf(C.id);v===-1?m.value.push(C.id):m.value.splice(v,1),console.log(m.value)},Q=i(null),K=C=>{Q.value=C,$("#deleteClientModal").modal("show")},se=()=>{T.delete(`/web/asset-monitoring/${Q.value}`).then(C=>{$("#deleteClientModal").modal("hide"),_.success(C.data.message),b()})},ie=()=>{T.delete("/web/bulkDeleteAsset",{data:{ids:m.value}}).then(C=>{d.value.data=d.value.data.filter(v=>!m.value.includes(v.id)),m.value=[],z.value=!1,_.success(C.data.message)})},z=i(!1),P=()=>{z.value?m.value=d.value.data.map(C=>C.id):m.value=[],console.log(m.value)};return fe([D],C=>{l.is_active=C?1:0}),fe(q,Pe.exports.debounce(()=>{b()},300)),me(()=>{b(),V(),document.title=k}),(C,v)=>{const y=ye("font"),oe=ye("tab-content"),ce=ye("form-wizard");return s(),a(O,null,[e("div",hf,[e("div",vf,[e("div",bf,[e("div",ff,[e("button",{onClick:Y,type:"button",class:"mb-2 btn btn-primary"},[$f,L(" Asset ")]),m.value.length>0?(s(),a("div",gf,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[yf,L(" Delete Selected ")]),e("span",kf,"Selected "+t(m.value.length)+" Record",1)])):E("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=U=>q.value=U),class:"form-control",placeholder:"Search..."},null,512),[[_e,q.value]])])]),e("div",wf,[e("div",xf,[r.value?(s(),ue(Te,{key:0})):E("",!0),e("div",Cf,[f(y,{size:"2"},{default:J(()=>[e("table",Sf,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=U=>z.value=U),onChange:P},null,544),[[Ee,z.value]])]),Df,Uf,Vf,Mf,Af,Ef,Tf,Pf,Ff,Lf,If,qf,Yf,Nf])]),d.value.data.length>0?(s(),a("tbody",Bf,[(s(!0),a(O,null,X(d.value.data,(U,A)=>(s(),ue(pf,{key:U.id,item:U,index:A,onViewData:W,onEditData:ee,onConfirmDeletion:K,onToggleSelection:g,"select-all":z.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",Rf,jf))])]),_:1})])])]),f(c(qe),{data:d.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",Of,[e("div",zf,[e("div",Gf,[e("div",Wf,[e("h5",Qf,[u.value?(s(),a("span",Kf,"Edit Asset")):(s(),a("span",Xf,"Add Asset"))]),Jf]),f(c(De),{onSubmit:B,"validation-schema":u.value?c(n):c(x),"initial-values":h.value},{default:J(({errors:U})=>[e("div",Zf,[e("div",e$,[f(ce,{onOnComplete:w,color:"#094899","step-size":"xs"},{default:J(()=>[f(oe,{title:"Asset Information",icon:"fas fa-book"},{default:J(()=>[e("div",t$,[e("div",s$,[e("div",a$,[o$,f(c(R),{as:"select",name:"branch",class:S(["form-control",{"is-invalid":U.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":v[2]||(v[2]=A=>l.site_id=A)},{default:J(()=>[l$,(s(!0),a(O,null,X(M.value,A=>(s(),a("option",{key:A.id,value:A.id},t(A.site_name),9,n$))),128))]),_:2},1032,["class","modelValue"]),e("span",d$,t(U.branch),1)]),e("div",i$,[c$,f(c(R),{name:"asset_name",type:"text",class:S(["form-control",{"is-invalid":U.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":v[3]||(v[3]=A=>l.asset_name=A)},null,8,["class","modelValue"]),e("span",r$,t(U.asset_name),1)]),e("div",u$,[_$,f(c(R),{name:"asset_type",type:"text",class:S(["form-control",{"is-invalid":U.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":v[4]||(v[4]=A=>l.asset_type=A)},null,8,["class","modelValue"]),e("span",m$,t(U.asset_type),1)]),e("div",p$,[h$,f(c(R),{name:"serial",type:"text",class:S(["form-control",{"is-invalid":U.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":v[5]||(v[5]=A=>l.serial=A)},null,8,["class","modelValue"]),e("span",v$,t(U.serial),1)])]),e("div",b$,[e("div",f$,[$$,f(c(R),{name:"date_acquired",type:"date",class:S(["form-control",{"is-invalid":U.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":v[6]||(v[6]=A=>l.date_acquired=A)},null,8,["class","modelValue"]),e("span",g$,t(U.date_acquired),1)]),e("div",y$,[k$,f(c(R),{name:"man_supplier",type:"text",class:S(["form-control",{"is-invalid":U.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":v[7]||(v[7]=A=>l.man_supplier=A)},null,8,["class","modelValue"]),e("span",w$,t(U.man_supplier),1)]),e("div",x$,[C$,f(c(R),{name:"unit",type:"number",class:S(["form-control",{"is-invalid":U.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":v[8]||(v[8]=A=>l.unit=A)},null,8,["class","modelValue"]),e("span",S$,t(U.unit),1)])])])]),_:2},1024),f(oe,{title:"Asset Allocation",icon:"fa fa-map"},{default:J(()=>[e("div",D$,[e("div",U$,[e("div",V$,[M$,f(c(R),{name:"paccountable",type:"text",class:S(["form-control",{"is-invalid":U.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":v[9]||(v[9]=A=>l.paccountable=A)},null,8,["class","modelValue"]),e("span",A$,t(U.paccountable),1)])]),e("div",E$,[e("div",T$,[P$,f(c(R),{name:"locationchangetranfer",type:"text",class:S(["form-control",{"is-invalid":U.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":v[10]||(v[10]=A=>l.locationchangetranfer=A)},null,8,["class","modelValue"]),e("span",F$,t(U.locationchangetranfer),1)])])])]),_:2},1024),f(oe,{title:"Asset Condition"},{default:J(()=>[e("div",L$,[e("div",I$,[e("div",q$,[Y$,f(c(R),{as:"select",name:"cucodition",class:S(["form-control",{"is-invalid":U.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":v[11]||(v[11]=A=>l.cucodition=A)},{default:J(()=>[N$,B$,R$,H$]),_:2},1032,["class","modelValue"]),e("span",j$,t(U.cucodition),1)]),e("div",O$,[z$,f(c(R),{name:"maintenancenotes",as:"textarea",class:S(["form-control",{"is-invalid":U.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":v[12]||(v[12]=A=>l.maintenancenotes=A)},null,8,["class","modelValue"])])]),e("div",G$,[e("div",W$,[Q$,f(c(R),{name:"lastmaintenance",type:"date",class:S(["form-control",{"is-invalid":U.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":v[13]||(v[13]=A=>l.lastmaintenance=A)},null,8,["class","modelValue"])]),e("div",K$,[X$,f(c(R),{name:"nextmaintenance",type:"date",class:S(["form-control",{"is-invalid":U.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":v[14]||(v[14]=A=>l.nextmaintenance=A)},null,8,["class","modelValue"])])])])]),_:2},1024),f(oe,{title:"Utilization & Ussage"},{default:J(()=>[e("div",J$,[e("div",Z$,[e("div",eg,[tg,f(c(R),{name:"operationhours",type:"number",class:S(["form-control",{"is-invalid":U.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":v[15]||(v[15]=A=>l.operationhours=A)},null,8,["class","modelValue"])])]),e("div",sg,[e("div",ag,[og,f(c(R),{name:"notes",as:"textarea",class:S(["form-control",{"is-invalid":U.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":v[16]||(v[16]=A=>l.notes=A)},null,8,["class","modelValue"]),e("span",lg,t(U.notes),1)])])])]),_:2},1024),f(oe,{title:"Financial Information",icon:"fas fa-receipt"},{default:J(()=>[e("div",ng,[e("div",dg,[e("div",ig,[cg,e("div",rg,[ug,f(c(R),{name:"purchasecost",type:"text",class:S(["form-control",{"is-invalid":U.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":v[17]||(v[17]=A=>l.purchasecost=A)},null,8,["class","modelValue"])])]),e("div",_g,[mg,e("div",pg,[hg,f(c(R),{name:"depreciationcost",type:"text",class:S(["form-control",{"is-invalid":U.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":v[18]||(v[18]=A=>l.depreciationcost=A)},null,8,["class","modelValue"])])])]),e("div",vg,[e("div",bg,[fg,f(c(R),{name:"insurancewarrantyinfo",as:"textarea",class:S(["form-control",{"is-invalid":U.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":v[19]||(v[19]=A=>l.insurancewarrantyinfo=A)},null,8,["class","modelValue"]),e("span",$g,t(U.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),gg]),_:1},8,["validation-schema","initial-values"])])])]),e("div",yg,[e("div",kg,[e("div",wg,[xg,e("div",Cg,[Sg,e("button",{onClick:te(se,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Dg,[e("div",Ug,[e("div",Vg,[Mg,e("div",Ag,[e("table",Eg,[e("tbody",null,[Tg,e("tr",null,[Pg,e("td",null,t(l.site_name),1)]),e("tr",null,[Fg,e("td",null,t(l.asset_name),1)]),e("tr",null,[Lg,e("td",null,t(l.asset_type),1)]),e("tr",null,[Ig,e("td",null,t(l.serial),1)]),e("tr",null,[qg,e("td",null,t(l.date_acquired),1)]),e("tr",null,[Yg,e("td",null,t(l.man_supplier),1)]),e("tr",null,[Ng,e("td",null,t(l.unit),1)]),Bg,e("tr",null,[Rg,e("td",null,t(l.paccountable),1)]),e("tr",null,[Hg,e("td",null,t(l.locationchangetranfer),1)]),jg,e("tr",null,[Og,e("td",null,t(l.cucodition),1)]),e("tr",null,[zg,e("td",null,t(l.maintenancenotes),1)]),e("tr",null,[Gg,e("td",null,t(l.lastmaintenance),1)]),e("tr",null,[Wg,e("td",null,t(l.nextmaintenance),1)]),Qg,e("tr",null,[Kg,e("td",null,t(l.operationhours),1)]),e("tr",null,[Xg,e("td",null,t(l.notes),1)]),Jg,e("tr",null,[Zg,e("td",null,t("\u20B1"+l.purchasecost),1)]),e("tr",null,[ey,e("td",null,t("\u20B1"+l.Depreciationcostbyyear),1)]),e("tr",null,[ty,e("td",null,t(l.insurancewarrantyinfo),1)])])])]),sy])])])],64)}}};const le=o=>(Ve("data-v-550095c3"),o=o(),Me(),o),oy={class:"content"},ly={class:"container-fluid"},ny={class:"d-flex justify-content-between"},dy={class:"d-flex"},iy=le(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),cy={key:0},ry=le(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),uy={class:"ml-2"},_y={class:"d-flex"},my={class:"form-group"},py=le(()=>e("option",{value:"",disabled:""},"Select a site",-1)),hy=["value"],vy={id:"captureDiv"},by={class:"card"},fy={class:"card-header"},$y={class:"card-title"},gy={class:"card-tools"},yy={id:"cost"},ky={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},wy=le(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),xy={class:"card-body"},Cy=le(()=>e("i",{class:"fa fa-camera"},null,-1)),Sy=[Cy],Dy={key:1,class:"table-responsive"},Uy={class:"table table-bordered table-sm table-striped table-hover"},Vy=le(()=>e("th",null,null,-1)),My=le(()=>e("th",null,"Date",-1)),Ay=le(()=>e("th",null,"Allocated Pallet Space",-1)),Ey=le(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Ty=le(()=>e("th",null,"Space Utilization %",-1)),Py=le(()=>e("th",null,"Excess",-1)),Fy={key:0},Ly={key:1},Iy=le(()=>e("th",null,"Remarks",-1)),qy=le(()=>e("th",null,"Action",-1)),Yy={key:0},Ny=["item","index","select-all"],By=["checked"],Ry={key:0},Hy={key:1},jy=["onClick"],Oy=le(()=>e("i",{class:"fa fa-edit"},null,-1)),zy=[Oy],Gy={key:0},Wy=le(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),Qy={colspan:"3"},Ky={key:1},Xy=le(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),Jy=[Xy],Zy={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},e2={class:"modal-dialog modal-sm",role:"document"},t2={class:"modal-content"},s2={class:"modal-header"},a2={class:"modal-title",id:"staticBackdropLabel"},o2={key:0},l2={key:1},n2=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),d2=Ce('<ul class="nav nav-tabs" data-v-550095c3><li id="bulkviewtab1" class="nav-item" data-v-550095c3><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-550095c3>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-550095c3><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-550095c3>Bulk Pallet</a></li></ul>',1),i2={class:"tab-content"},c2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},r2={class:"modal-body"},u2={class:"col-md-12"},_2={class:"row"},m2={class:"col-12"},p2={class:"form-group"},h2=le(()=>e("label",{for:"date"},"Date",-1)),v2={class:"invalid-feedback"},b2={class:"form-group"},f2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),$2={class:"invalid-feedback"},g2={class:"form-group"},y2=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),k2={class:"invalid-feedback"},w2={class:"form-group"},x2=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),C2={class:"invalid-feedback"},S2=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),D2={class:"tab-pane fade show",id:"bulk-pallet-tab"},U2={class:"modal-body"},V2={class:"col-md-12"},M2={class:"row"},A2={class:"col-12"},E2={class:"form-group"},T2=le(()=>e("label",{for:"fromdate"},"From:",-1)),P2={class:"invalid-feedback"},F2={class:"form-group"},L2=le(()=>e("label",{for:"todate"},"To:",-1)),I2={class:"invalid-feedback"},q2={class:"form-group"},Y2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),N2={class:"invalid-feedback"},B2={class:"form-group"},R2=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),H2={class:"invalid-feedback"},j2={class:"form-group"},O2=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),z2={class:"invalid-feedback"},G2=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),W2={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Q2={class:"modal-dialog",role:"document"},K2={class:"modal-content"},X2=Ce('<div class="modal-header" data-v-550095c3><h5 class="modal-title" id="staticBackdropLabel" data-v-550095c3><span data-v-550095c3>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-550095c3><span aria-hidden="true" data-v-550095c3>\xD7</span></button></div><div class="modal-body" data-v-550095c3><h5 data-v-550095c3>Are you sure you want to delete this record ?</h5></div>',2),J2={class:"modal-footer"},Z2=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ek={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},tk={class:"modal-dialog modal-sm",role:"document"},sk={class:"modal-content"},ak=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),ok={class:"modal-body"},lk={class:"fromtocenter"},nk=le(()=>e("label",{for:"fromDate"},"From:",-1)),dk=le(()=>e("label",{for:"toDate"},"To:",-1)),ik={class:"modal-footer"},ck=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),rk={__name:"PalletList",setup(o){const k=Xe("$swal"),_=`${$e().name}`,d=he(),r=i({data:[]}),u=i(),h=i(!1),D=i(!1),l=pe(),M=i(!0),b=i(!0),x=i(),n=Ae({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});i(null);const w=i(),Y=()=>{h.value=!0,T.get("/web/pallet",{params:{site_id:n.site_id,query:y.value}}).then(j=>{h.value=!1,r.value=j.data.data,w.value=j.data.sum,oe.value=[],Ne.value=!1})},W=xe({allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required(),fromdate:I().required(),todate:I().required()}),ee=xe({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),de=xe({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),B=i(""),V=i(""),q=i({start_date:"",end_date:""});fe([B],()=>{const j=new Date(B.value),G=j.getFullYear(),ge=String(j.getMonth()+1).padStart(2,"0"),H=String(j.getDate()).padStart(2,"0");q.value.start_date=`${G}-${ge}-${H}`}),fe([V],()=>{const j=new Date(V.value),G=j.getFullYear(),ge=String(j.getMonth()+1).padStart(2,"0"),H=String(j.getDate()).padStart(2,"0");q.value.end_date=`${G}-${ge}-${H}`});const m=()=>{h.value=!0,T.get("/web/filter-pallet",{params:{start_date:q.value.start_date,end_date:q.value.end_date,site_id:n.site_id}}).then(j=>{h.value=!1,r.value=j.data.data,w.value=j.data.sum}).catch(j=>{console.error(j)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},g=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},Q=({resetForm:j,setErrors:G})=>{T.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then(ge=>{Y(),$("#FormModal").modal("hide"),g(),d.success("Data created successfully!")}).catch(function(ge){ge.response?d.error(ge.response.data.message):ge.request?d.error(ge.request):d.error("Error",ge.message)})},K=()=>{T.get("/web/getsite").then(j=>{u.value=j.data.sites}).catch(j=>{console.log(j)})},se=()=>{Y(n.site_id);const j=u.value.find(G=>G.id===n.site_id);x.value=j?j.site_name:""},ie=()=>{if(!n.site_id||n.site_id.length===0){k.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}D.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show()},z=j=>{$("#bulkviewtab2").hide(),D.value=!0,n.id=j.id,n.user_id=j.user_id,n.site_id=j.site_id,n.date=j.date,n.allocatedpalletspace=j.allocatedpalletspace,n.spaceuteltotal=j.spaceuteltotal,n.caseperpallet=j.caseperpallet,$("#FormModal").modal("show")},P=({setErrors:j})=>{T.post("/web/pallet",n).then(G=>{g(),Y(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(G=>{j(G.response.data.errors),console.log(G)})},C=(j,G)=>{D.value?P(j):Q(j)},v=()=>{T.post("/web/bulkCreatePallet",n).then(j=>{Y(),$("#FormModal").modal("hide"),d.success(j.data.message)}).catch(j=>{d.error(j.response.data.errors)})},y=i(null),oe=i([]),ce=j=>{const G=oe.value.indexOf(j.id);G===-1?oe.value.push(j.id):oe.value.splice(G,1),console.log(oe.value)},U=i(null),A=j=>{U.value=j,$("#deleteDataModal").modal("show")},Ye=()=>{T.delete(`/web/pallet/${U.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),r.value.data=r.value.data.filter(j=>j.id!==U.value)})},Ge=()=>{T.delete("/web/bulkDeletePallet",{data:{ids:oe.value}}).then(j=>{Y(),oe.value=[],Ne.value=!1,d.success(j.data.message)})},He=()=>{if(!n.site_id||n.site_id.length===0){k.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},Ne=i(!1),We=()=>{$("#cost").hide(),$("#capturecamerafilter").hide();const j=document.getElementById("captureDiv");ze(j).then(G=>{const ge=G.toDataURL(),H=document.createElement("a");H.href=ge,H.download=`${x.value} - ${_}.png`,H.click()}),$("#cost").show(),$("#capturecamerafilter").show()};return fe([b],j=>{n.is_active=j?1:0}),fe(y,Pe.exports.debounce(()=>{Y()},300)),me(()=>{K(),document.title=_}),(j,G)=>{const ge=ye("font");return s(),a(O,null,[e("div",oy,[e("div",ly,[e("div",ny,[e("div",dy,[e("button",{onClick:ie,type:"button",class:"mb-2 btn btn-primary"},[iy,L(" Pallet ")]),oe.value.length>0?(s(),a("div",cy,[e("button",{onClick:Ge,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ry,L(" Delete Selected ")]),e("span",uy,"Selected "+t(oe.value.length)+" Pallet",1)])):E("",!0)]),e("div",_y,[e("div",my,[Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":G[0]||(G[0]=H=>n.site_id=H),onChange:G[1]||(G[1]=H=>se())},[py,(s(!0),a(O,null,X(u.value,H=>(s(),a("option",{key:H.id,value:H.id},t(H.site_name),9,hy))),128))],544),[[Fe,n.site_id]])])])]),e("div",vy,[e("div",by,[e("div",fy,[e("div",$y,t(x.value||"Select a Site"),1),e("div",gy,[e("div",yy,[e("div",ky,[Z(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":G[2]||(G[2]=H=>M.value=H)},null,512),[[Ee,M.value]]),wy])])])]),e("div",xy,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:We,type:"button",class:"mb-2 btn btn-sm btn-success"},Sy)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:He})])])]),h.value?(s(),ue(Te,{key:0})):(s(),a("div",Dy,[f(ge,{size:"2"},{default:J(()=>[e("table",Uy,[e("thead",null,[e("tr",null,[Vy,My,Ay,Ey,Ty,Py,M.value?(s(),a("th",Fy,"Cost per Pallet")):E("",!0),M.value?(s(),a("th",Ly,"Cost")):E("",!0),Iy,qy])]),r.value.length>0?(s(),a("tbody",Yy,[(s(!0),a(O,null,X(r.value,(H,re)=>(s(),a("tr",{key:H.id,item:H,index:re,onConfirmDeletion:A,onToggleSelection:ce,"select-all":Ne.value},[e("td",null,[e("input",{type:"checkbox",checked:Ne.value,onChange:ce},null,40,By)]),e("td",null,t(c(be)(H.date).format("MMMM DD, YY")),1),e("td",null,t(H.allocatedpalletspace),1),e("td",null,t(H.spaceuteltotal),1),e("td",null,t(H.spacetotalutelpercent),1),e("td",null,t(H.excess),1),M.value?(s(),a("td",Ry,t(H.caseperpallet),1)):E("",!0),M.value?(s(),a("td",Hy,t(H.cost),1)):E("",!0),e("td",null," EXCESS "+t(H.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:F=>z(H)},zy,8,jy)])],40,Ny))),128)),M.value?(s(),a("tr",Gy,[Wy,e("td",Qy,[e("b",null,t(w.value),1)])])):E("",!0)])):(s(),a("tbody",Ky,Jy))])]),_:1})]))])])])])]),e("div",Zy,[e("div",e2,[e("div",t2,[e("div",s2,[e("h5",a2,[D.value?(s(),a("span",o2,"Edit Pallet")):(s(),a("span",l2,"Add Pallet"))]),n2]),d2,e("div",i2,[e("div",c2,[f(c(De),{onSubmit:C,"validation-schema":D.value?c(de):c(ee)},{default:J(({errors:H})=>[e("div",r2,[e("div",u2,[e("div",_2,[e("div",m2,[f(c(R),{modelValue:n.user_id,"onUpdate:modelValue":G[3]||(G[3]=re=>n.user_id=re),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",p2,[h2,f(c(R),{name:"date",type:"date",class:S(["form-control",{"is-invalid":H.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":G[4]||(G[4]=re=>n.date=re)},null,8,["class","modelValue"]),e("span",v2,t(H.date),1)]),e("div",b2,[f2,f(c(R),{name:"allocatedpalletspace",type:"text",class:S(["form-control",{"is-invalid":H.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":G[5]||(G[5]=re=>n.allocatedpalletspace=re)},null,8,["class","modelValue"]),e("span",$2,t(H.allocatedpalletspace),1)]),e("div",g2,[y2,f(c(R),{name:"spaceuteltotal",type:"text",class:S(["form-control",{"is-invalid":H.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":G[6]||(G[6]=re=>n.spaceuteltotal=re),required:""},null,8,["class","modelValue"]),e("span",k2,t(H.spaceuteltotal),1)]),e("div",w2,[x2,f(c(R),{name:"caseperpallet",type:"text",class:S(["form-control",{"is-invalid":H.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":G[7]||(G[7]=re=>n.caseperpallet=re)},null,8,["class","modelValue"]),e("span",C2,t(H.caseperpallet),1)])])])])]),S2]),_:1},8,["validation-schema"])]),e("div",D2,[f(c(De),{onSubmit:v,"validation-schema":c(W)},{default:J(({errors:H})=>[e("div",U2,[e("div",V2,[e("div",M2,[e("div",A2,[f(c(R),{modelValue:n.user_id,"onUpdate:modelValue":G[8]||(G[8]=re=>n.user_id=re),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",E2,[T2,f(c(R),{name:"fromdate",type:"date",class:S(["form-control",{"is-invalid":H.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.fromdate,"onUpdate:modelValue":G[9]||(G[9]=re=>n.fromdate=re)},null,8,["class","modelValue"]),L(),e("span",P2,t(H.fromdate),1)]),e("div",F2,[L2,f(c(R),{name:"todate",type:"date",class:S(["form-control",{"is-invalid":H.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.todate,"onUpdate:modelValue":G[10]||(G[10]=re=>n.todate=re)},null,8,["class","modelValue"]),e("span",I2,t(H.todate),1)]),e("div",q2,[Y2,f(c(R),{name:"allocatedpalletspace",type:"text",class:S(["form-control",{"is-invalid":H.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":G[11]||(G[11]=re=>n.allocatedpalletspace=re)},null,8,["class","modelValue"]),e("span",N2,t(H.allocatedpalletspace),1)]),e("div",B2,[R2,f(c(R),{name:"spaceuteltotal",type:"text",class:S(["form-control",{"is-invalid":H.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":G[12]||(G[12]=re=>n.spaceuteltotal=re),required:""},null,8,["class","modelValue"]),e("span",H2,t(H.spaceuteltotal),1)]),e("div",j2,[O2,f(c(R),{name:"caseperpallet",type:"text",class:S(["form-control",{"is-invalid":H.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":G[13]||(G[13]=re=>n.caseperpallet=re)},null,8,["class","modelValue"]),e("span",z2,t(H.caseperpallet),1)])])])])]),G2]),_:1},8,["validation-schema"])])])])])]),e("div",W2,[e("div",Q2,[e("div",K2,[X2,e("div",J2,[Z2,e("button",{onClick:te(Ye,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",ek,[e("div",tk,[e("div",sk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(_)+" Report")]),ak]),e("div",ok,[e("div",lk,[e("div",null,[nk,f(c(Le),{modelValue:B.value,"onUpdate:modelValue":G[14]||(G[14]=H=>B.value=H)},null,8,["modelValue"])]),e("div",null,[dk,f(c(Le),{modelValue:V.value,"onUpdate:modelValue":G[15]||(G[15]=H=>V.value=H)},null,8,["modelValue"])])])]),e("div",ik,[ck,e("button",{onClick:G[16]||(G[16]=H=>m()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var uk=ke(rk,[["__scopeId","data-v-550095c3"]]);const _k=o=>(Ve("data-v-298b68f9"),o=o(),Me(),o),mk={class:"content"},pk={class:"container-fluid"},hk={class:"row"},vk={class:"col-md-6"},bk={class:"card"},fk={class:"card-title"},$k={class:"form-group m-3"},gk=_k(()=>e("option",{value:"",disabled:""}," Select User ",-1)),yk=["value"],kk={class:"card-body"},wk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},xk={class:"custom-control custom-checkbox"},Ck=["value","id","checked"],Sk=["for"],Dk={class:"card-footer"},Uk={__name:"UserSite",setup(o){pe();const k=`${$e().name}`,_=he();i(!0);const d=Ae({user_id:""});i(null),i();const r=i(),u=i(),h=i([]),D=()=>{T.get("/api/users/userlist").then(x=>{u.value=x.data}).catch(x=>{console.log(x)})},l=x=>{x!==null?T.get(`/web/usersite/${x}`).then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):T.get("/web/getsitewithoutuser").then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},M=()=>{const x={user_id:d.user_id,site_id:h.value};console.log(x),T.post("/web/onSaveupdate",x).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},b=x=>{l(x)};return me(()=>{D(),l(),document.title=k}),(x,n)=>(s(),a("div",mk,[e("div",pk,[e("div",hk,[e("div",vk,[e("div",bk,[e("div",fk,[e("div",$k,[f(c(R),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=w=>d.user_id=w),onChange:n[1]||(n[1]=w=>b(d.user_id))},{default:J(()=>[gk,(s(!0),a(O,null,X(u.value,w=>(s(),a("option",{key:w.id,value:w.id},t(w.name),9,yk))),128))]),_:1},8,["modelValue"])])]),e("div",kk,[e("ul",wk,[(s(!0),a(O,null,X(r.value,w=>(s(),a("li",{key:w.id,class:"list-group-item"},[e("div",xk,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=Y=>h.value=Y),value:w.id,id:"site_id_"+w.id,checked:w.hasAccess},null,8,Ck),[[Ee,h.value]]),e("label",{for:"site_id_"+w.id,class:"custom-control-label"},t(w.site_name),9,Sk)])]))),128))]),e("div",Dk,[e("button",{type:"button",onClick:n[3]||(n[3]=w=>M()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var Vk=ke(Uk,[["__scopeId","data-v-298b68f9"]]),Mk=[{path:"/login",name:"admin.login",component:jn},{path:"/",name:"Dashboard",component:Tt},{path:"/appointments",name:"Appointments",component:es},{path:"/appointments/create",name:"Appointments",component:et},{path:"/appointments/:id/edit",name:"Appointments",component:et},{path:"/user",name:"User",component:Ao},{path:"/settings",name:"Setting",component:Dl},{path:"/profile",name:"Profile",component:yn},{path:"/client",name:"Client",component:Rd},{path:"/tech-recommendation",name:"Tech Recomm",component:ar},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:pm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Fh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Rp},{path:"/usermenu",name:"User Menu",component:Av},{path:"/menu",name:"Menu",component:e1},{path:"/:catchAll(.*)",name:"404 Error Page",component:nt},{path:"/notifications",name:"Notifications",component:rf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:dt},{path:"/asset-monitoring",name:"Asset Monitoring",component:ay},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:uk},{path:"/usersite",name:"User Site",component:Vk}];const Ak={class:"navbar-nav"},Ek=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),Tk={class:"nav-item d-none d-sm-inline-block"},Pk={class:"navbar-nav ml-auto"},Fk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Lk=Ce('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),Ik={class:"nav-link","data-toggle":"dropdown",href:"#"},qk=e("i",{class:"far fa-bell"},null,-1),Yk={class:"badge badge-warning navbar-badge"},Nk={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Bk={class:"dropdown-header"},Rk=e("div",{class:"dropdown-divider"},null,-1),Hk=e("i",{class:"fas fa-envelope mr-2"},null,-1),jk={class:"float-right text-muted text-sm"},Ok={key:1,class:"text-center text-muted py-3"},zk=e("div",{class:"dropdown-divider"},null,-1),Gk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Wk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),Qk={__name:"AppNavbar",setup(o){const k=je(),_=i([]),d=()=>{T.get("/api/notifications").then(r=>{_.value=r.data.notifications}).catch(r=>{console.error("Error fetching notifications",r)})};return me(()=>{d()}),(r,u)=>{const h=ye("router-link");return s(),a("nav",{class:S(["main-header navbar navbar-expand",c(k).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",Ak,[Ek,e("li",Tk,[e("a",{onClick:u[0]||(u[0]=te((...D)=>c(k).changeTheme&&c(k).changeTheme(...D),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:S(["far",c(k).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",Pk,[Fk,Lk,e("li",{class:"nav-item dropdown",onClick:d},[e("a",Ik,[qk,e("span",Yk,t(_.value.length),1)]),e("div",Nk,[e("span",Bk,t(_.value.length)+" Notifications",1),Rk,_.value.length>0?(s(!0),a(O,{key:0},X(_.value,D=>(s(),a("a",{key:D.id,href:"#",class:"dropdown-item"},[Hk,L(" "+t(D.data?D.data:"No message available")+" ",1),e("span",jk,t(c(be)(D.created_at)),1)]))),128)):(s(),a("p",Ok,"No new notifications")),zk,f(h,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:J(()=>[L("See All Notifications")]),_:1})])]),Gk,Wk])],2)}}},Kk={class:"main-sidebar sidebar-dark-primary elevation-4"},Xk={href:"#",class:"brand-link"},Jk=["src"],Zk={class:"brand-text font-weight-light"},e0={class:"sidebar"},t0={class:"user-panel mt-3 pb-3 mb-3 d-flex"},s0={key:0,class:"image"},a0=["src"],o0={key:1,class:"image"},l0=["src"],n0=["src"],d0={class:"info"},i0={href:"#",class:"d-block"},c0={class:"mt-2"},r0={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},u0={key:0,class:"right fas fa-angle-left"},_0={key:0,class:"nav nav-treeview"},m0={class:"nav-item"},p0={class:"nav-link"},h0=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),v0=e("p",null,"Logout",-1),b0=[h0,v0],f0={__name:"SidebarLeft",setup(o){const k=Ke(),_=pe(),d=je(),r=i({data:[]}),u=()=>{axios.get("/api/menu").then(l=>{r.value=l.data}).catch(l=>{console.log(l)})},h=l=>l===k.currentRoute.value.path,D=()=>{axios.post("/logout").then(l=>{_.user.name="",k.push("/login")})};return me(()=>{$('[data-widget="treeview"]').Treeview("init"),u()}),(l,M)=>{const b=ye("router-link");return s(),a("aside",Kk,[e("a",Xk,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Jk),e("span",Zk,t(c(d).setting.app_name),1)]),e("div",e0,[e("div",t0,[c(_).user.avatar===""?(s(),a("div",s0,[e("img",{src:c(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,a0)])):c(_).user.avatar!==""?(s(),a("div",o0,[c(_).user.gender==="Male"?(s(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,l0)):c(_).user.gender==="Female"?(s(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,n0)):E("",!0)])):E("",!0),e("div",d0,[e("a",i0,t(c(_).user.name),1)])]),e("nav",c0,[e("ul",r0,[(s(!0),a(O,null,X(r.value,x=>(s(),a("li",{key:x.id,class:S({"nav-item":!0,"menu-is-opening":x.submenus&&x.submenus.length>0})},[f(b,{class:S({"nav-link":!0,active:h(x.menu_route)}),to:`${x.menu_route}`},{default:J(()=>[e("i",{class:S("nav-icon "+x.menu_icon)},null,2),e("p",null,t(x.menu_title),1),x.submenus&&x.submenus.length>0?(s(),a("i",u0)):E("",!0)]),_:2},1032,["class","to"]),x.submenus&&x.submenus.length>0?(s(),a("ul",_0,[(s(!0),a(O,null,X(x.submenus,n=>(s(),a("li",{key:n.id,class:"nav-item"},[f(b,{class:S({"nav-link menu-open":!0,active:h(n.menu_route)}),to:n.menu_route},{default:J(()=>[e("i",{class:S("nav-icon "+n.menu_icon)},null,2),e("p",null,t(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):E("",!0)],2))),128)),e("li",m0,[e("form",p0,[e("a",{href:"#",onClick:te(D,["prevent"])},b0)])])])])])])}}},$0={},g0={class:"control-sidebar control-sidebar-dark"},y0=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),k0=[y0];function w0(o,k){return s(),a("aside",g0,k0)}var x0=ke($0,[["render",w0]]);const C0={class:"main-footer"},S0={class:"float-right d-none d-sm-block"},D0={href:"#"},U0={__name:"AppFooter",props:{settings:Object},setup(o){const k=pe(),_=i(new Date().getFullYear());return(d,r)=>{var u;return s(),a("footer",C0,[e("div",S0,t(c(k).user.name),1),e("strong",null,[L("Copyright \xA9 "+t(_.value)+" ",1),e("a",D0,t((u=o.settings)==null?void 0:u.app_name),1),L(".")]),L(" All rights reserved. ")])}}};const V0=o=>(Ve("data-v-36653638"),o=o(),Me(),o),M0={class:"content-wrapper"},A0={class:"content-header"},E0={class:"container-fluid"},T0={class:"row mb-2"},P0={class:"col-sm-6"},F0={class:"m-0"},L0={class:"col-sm-6"},I0={class:"breadcrumb float-sm-right"},q0=V0(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Y0={class:"breadcrumb-item active"},N0={__name:"CustomMainLayout",setup(o){const k=pe(),_=je(),d=Ue(()=>_.theme==="dark"?"dark-mode":"");return(r,u)=>{const h=ye("router-view");return c(k).user.name!==""?(s(),a("div",{key:0,class:S(["wrapper",d.value])},[f(Qk),f(f0),f(x0),e("div",M0,[e("section",A0,[e("div",E0,[e("div",T0,[e("div",P0,[e("h1",F0,t(r.$route.name),1)]),e("div",L0,[e("ol",I0,[q0,e("li",Y0,t(r.$route.name),1)])])])])]),f(h)]),f(U0)],2)):(s(),a("div",{key:1,class:S(["login-page slibg",d.value])},[f(h)],2))}}};var B0=ke(N0,[["__scopeId","data-v-36653638"]]);const R0={__name:"App",setup(o){pe();const k=$e(),_=Ue(()=>k.name==="Tech-Approved"),d=Ue(()=>k.name==="404 Error Page");return(r,u)=>(s(),a("div",null,[!d.value&&!_.value?(s(),ue(B0,{key:0})):_.value?(s(),ue(dt,{key:1})):(s(),ue(nt,{key:2}))]))}};var H0=ke(R0,[["__scopeId","data-v-252b567e"]]);const j0=ut(),Re=pt(H0),it=_t({routes:Mk,history:mt()});it.beforeEach(async(o,k)=>{const _=pe();if(_.user.name===""&&o.name!=="admin.login"){const d=je();await Promise.all([_.getAuthUser(),d.getSetting()])}});Re.use(St);Re.use(j0);Re.use(it);Re.use(Ct);Re.use(ot);Re.mount("#app");
