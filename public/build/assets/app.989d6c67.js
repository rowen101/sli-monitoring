import{_ as gt,l as Ue}from"./lodash.d4ecb7e7.js";import{a as T}from"./axios.82d3905a.js";import{a as kt}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as pt,c as wt}from"./pinia.210ccde5.js";import{u as ve,a as Je,c as xt,b as Ct}from"./vue-router.abad5649.js";import{r as i,o as _e,i as l,k as e,x as t,_ as h,u as _,e as a,I as Se,h as Z,j as P,F as O,q as ee,d as be,a0 as se,v as q,C as Me,a2 as te,a3 as ie,aa as Re,p as M,w as he,ab as De,f as re,B as je,a5 as ye,a6 as ge,ac as it,ad as Le,a1 as lt,ae as Dt}from"./@vue.04713aa0.js";import{B as St}from"./vue-chartjs.50c6886f.js";import{C as Vt,p as Mt,a as Ut,b as At,c as Pt,d as qt,L as Tt}from"./chart.js.562acd0f.js";import{S as _t}from"./sweetalert2.c578665c.js";import{t as We}from"./toastr.c863df60.js";import{F as Pe,a as z}from"./vee-validate.1443789f.js";import{f as ht}from"./flatpickr.181c7977.js";import{c as Ve,a as H}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as de}from"./moment.40bc58bf.js";import{a as Ie}from"./laravel-vue-pagination.475a8c82.js";import{C as Rt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as It}from"./@vueuse.5a8c8091.js";import{L as Ee}from"./vue3-datepicker.da50a26b.js";import Ke from"./html2canvas.4d0ab5af.js";import{h as Xe}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{V as Lt}from"./vue-sweetalert2.891f877f.js";import{d as Et}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=gt;window.axios=T;window.$=window.jQuery=kt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ue=pt("AuthUserStore",()=>{const s=i({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:"",sitehead_user_id:""});return{user:s,getAuthUser:async()=>{await T.get("/api/profile").then(m=>{s.value=m.data})}}}),Ft={class:"content"},jt={class:"container-fluid"},Yt={class:"card"},Nt={class:"card-header"},Bt={class:"card-body"},Ot=e("div",{class:"row"},null,-1),Ht={__name:"Dashboard",setup(s){Vt.register(Mt,Ut,At,Pt,qt,Tt);const v=`${ve().name}`;ue(),i("all"),i(0);const m=i(new Date().getFullYear()),o=i({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),c=()=>{axios.get("/api/chart").then(d=>{d.data,o.value=d.data}).catch(d=>{console.error("Error fetching chart data:",d)})},n=i("today"),u=i(0),p=()=>{axios.get("/api/stats/users",{params:{date_range:n.value}}).then(d=>{u.value=d.data.totalUsersCount})};return _e(()=>{c(),p(),document.title=v}),(d,g)=>(a(),l("div",Ft,[e("div",jt,[e("div",Yt,[e("div",Nt," Yearly Progress - "+t(m.value),1),e("div",Bt,[h(_(St),{data:o.value},null,8,["data"])])]),Ot])]))}},zt={class:"content"},Jt={class:"container-fluid"},Gt={class:"row"},Qt={class:"col-lg-12"},Wt={class:"d-flex justify-content-between mb-2"},Kt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),q(" Add New Appointment")],-1),Xt={class:"btn-group"},Zt=e("span",{class:"mr-1"},"All",-1),es={class:"badge badge-pill badge-info"},ts=["onClick"],ss={class:"mr-1"},as={class:"card"},os={class:"card-body"},ls={class:"table table-bordered"},ns=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),ds=e("td",null,null,-1),is=e("i",{class:"fa fa-edit mr-2"},null,-1),cs=["onClick"],rs=e("i",{class:"fa fa-trash text-danger"},null,-1),us=[rs],_s={__name:"ListAppointments",setup(s){const v=i(),m=i([]),o=()=>{T.get("/api/appointment-status").then(g=>{m.value=g.data})},c=i([]),n=g=>{v.value=g;const b={};g&&(b.status=g),T.get("/api/appointments",{params:b}).then(S=>{c.value=S.data,console.log(S)})},u=Se(()=>m.value.map(g=>g.count).reduce((g,b)=>g+b,0)),p=g=>{const b=c.value.data.find(r=>r.id===g).status.name,S=m.value.find(r=>r.name===b);S.count--},d=g=>{_t.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&T.delete(`/api/appointments/${g}`).then(S=>{p(g),c.value.data=c.value.data.filter(r=>r.id!==g),_t.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{n(),o()}),(g,b)=>{const S=be("router-link");return a(),l("div",zt,[e("div",Jt,[e("div",Gt,[e("div",Qt,[e("div",Wt,[e("div",null,[h(S,{to:"/admin/appointments/create"},{default:Z(()=>[Kt]),_:1})]),e("div",Xt,[e("button",{onClick:b[0]||(b[0]=r=>n()),type:"button",class:P(["btn",[typeof v.value=="undefined"?"btn-secondary":"btn-default"]])},[Zt,e("span",es,t(u.value),1)],2),(a(!0),l(O,null,ee(m.value,r=>(a(),l("button",{key:r.id,onClick:C=>n(r.value),type:"button",class:P(["btn",[v.value===r.value?"btn-secondary":"btn-default"]])},[e("span",ss,t(r.name),1),e("span",{class:P(["badge badge-pill",`badge-${r.color}`])},t(r.count),3)],10,ts))),128))])]),e("div",as,[e("div",os,[e("table",ls,[ns,e("tbody",null,[(a(!0),l(O,null,ee(c.value.data,(r,C)=>(a(),l("tr",{key:r.id},[e("td",null,t(C+1),1),e("td",null,t(r.client.first_name)+" "+t(r.client.last_name),1),e("td",null,t(r.start_time),1),e("td",null,t(r.end_time),1),ds,e("td",null,[h(S,{to:`/admin/appointments/${r.id}/edit`},{default:Z(()=>[is]),_:2},1032,["to"]),e("a",{href:"#",onClick:se(B=>d(r.id),["prevent"])},us,8,cs)])]))),128))])])])])])])])])}}};function me(){return We.options.positionClass="toast-top-right",We.options.closeButton=!0,We.options.progressBar=!0,We}const ms={class:"content-header"},ps={class:"container-fluid"},hs={class:"row mb-2"},vs={class:"col-sm-6"},bs={class:"m-0"},fs={key:0},$s={key:1},ys={class:"col-sm-6"},gs={class:"breadcrumb float-sm-right"},ks={class:"breadcrumb-item"},ws={class:"breadcrumb-item"},xs={class:"breadcrumb-item active"},Cs={key:0},Ds={key:1},Ss={class:"content"},Vs={class:"container-fluid"},Ms={class:"row"},Us={class:"col-lg-12"},As={class:"card"},Ps={class:"card-body"},qs={class:"row"},Ts={class:"col-md-6"},Rs={class:"form-group"},Is=e("label",{for:"title"},"Title",-1),Ls={class:"invalid-feedback"},Es={class:"col-md-6"},Fs={class:"form-group"},js=e("label",{for:"client"},"Client Name",-1),Ys=["value"],Ns={class:"invalid-feedback"},Bs={class:"row"},Os={class:"col-md-6"},Hs={class:"form-group"},zs=e("label",{for:"start-time"},"Start Time",-1),Js={class:"invalid-feedback"},Gs={class:"col-md-6"},Qs={class:"form-group"},Ws=e("label",{for:"end-time"},"End Time",-1),Ks={class:"invalid-feedback"},Xs={class:"form-group"},Zs=e("label",{for:"description"},"Description",-1),ea={class:"invalid-feedback"},ta=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),mt={__name:"AppointmentForm",setup(s){const v=Je(),m=ve(),o=me(),c=Me({title:"",client_id:"",start_time:"",end_time:"",description:""}),n=(r,C)=>{S.value?p(r,C):u(r,C)},u=(r,C)=>{T.post("/api/appointments/create",c).then(B=>{v.push("/admin/appointments"),o.success("Appointment created successfully!")}).catch(B=>{C.setErrors(B.response.data.errors)})},p=(r,C)=>{T.put(`/api/appointments/${m.params.id}/edit`,c).then(B=>{v.push("/admin/appointments"),o.success("Appointment updated successfully!")}).catch(B=>{C.setErrors(B.response.data.errors)})},d=i(),g=()=>{T.get("/api/view-clients").then(r=>{d.value=r.data})},b=()=>{T.get(`/api/appointments/${m.params.id}/edit`).then(({data:r})=>{c.title=r.title,c.client_id=r.client_id,c.start_time=r.formatted_start_time,c.end_time=r.formatted_end_time,c.description=r.description})},S=i(!1);return _e(()=>{m.name==="admin.appointments.edit"&&(S.value=!0,b()),ht(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),g()}),(r,C)=>{const B=be("router-link");return a(),l(O,null,[e("div",ms,[e("div",ps,[e("div",hs,[e("div",vs,[e("h1",bs,[S.value?(a(),l("span",fs,"Edit")):(a(),l("span",$s,"Create")),q(" Appointment")])]),e("div",ys,[e("ol",gs,[e("li",ks,[h(B,{to:"/admin/dashboard"},{default:Z(()=>[q("Home")]),_:1})]),e("li",ws,[h(B,{to:"/admin/appointments"},{default:Z(()=>[q("Appointments")]),_:1})]),e("li",xs,[S.value?(a(),l("span",Cs,"Edit")):(a(),l("span",Ds,"Create"))])])])])])]),e("div",Ss,[e("div",Vs,[e("div",Ms,[e("div",Us,[e("div",As,[e("div",Ps,[h(_(Pe),{onSubmit:n},{default:Z(({errors:j})=>[e("div",qs,[e("div",Ts,[e("div",Rs,[Is,te(e("input",{"onUpdate:modelValue":C[0]||(C[0]=E=>c.title=E),type:"text",class:P(["form-control",{"is-invalid":j.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ie,c.title]]),e("span",Ls,t(j.title),1)])]),e("div",Es,[e("div",Fs,[js,te(e("select",{"onUpdate:modelValue":C[1]||(C[1]=E=>c.client_id=E),id:"client",class:P(["form-control",{"is-invalid":j.client_id}])},[(a(!0),l(O,null,ee(d.value,E=>(a(),l("option",{value:E.id,key:E.id},t(E.first_name)+" "+t(E.last_name),9,Ys))),128))],2),[[Re,c.client_id]]),e("span",Ns,t(j.client_id),1)])])]),e("div",Bs,[e("div",Os,[e("div",Hs,[zs,te(e("input",{"onUpdate:modelValue":C[2]||(C[2]=E=>c.start_time=E),type:"text",class:P(["form-control flatpickr",{"is-invalid":j.start_time}]),id:"start-time"},null,2),[[ie,c.start_time]]),e("span",Js,t(j.start_time),1)])]),e("div",Gs,[e("div",Qs,[Ws,te(e("input",{"onUpdate:modelValue":C[3]||(C[3]=E=>c.end_time=E),type:"text",class:P(["form-control flatpickr",{"is-invalid":j.end_time}]),id:"end-time"},null,2),[[ie,c.end_time]]),e("span",Ks,t(j.end_time),1)])])]),e("div",Xs,[Zs,te(e("textarea",{"onUpdate:modelValue":C[4]||(C[4]=E=>c.description=E),class:P(["form-control",{"is-invalid":j.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ie,c.description]]),e("span",ea,t(j.description),1)]),ta]),_:1})])])])])])])],64)}}},sa=["checked"],aa=["value","selected"],oa=["value","selected"],la=e("i",{class:"fa fa-edit"},null,-1),na=[la],da=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),ia=[da],ca={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:v}){const m=me(),o=s,c=v,n=i([{name:"ADMIN",value:1},{name:"USER",value:2}]),u=i([]),p=()=>{T.get("/api/users/userlist").then(S=>{u.value=S.data}).catch(S=>{console.log(S)})},d=(S,r)=>{T.patch(`/api/users/${S.id}/change-role`,{role:r}).then(()=>{m.success("Role changed successfully!")})},g=(S,r)=>{T.patch(`/api/users/${S.id}/change-sitehead`,{sitehead_user_id:r}).then(()=>{m.success("Sitehead changed successfully!")})},b=()=>{c("toggleSelection",o.user)};return _e(()=>{p()}),(S,r)=>(a(),l("tr",null,[e("td",null,[s.user.name!="admin"?(a(),l("input",{key:0,type:"checkbox",checked:s.selectAll,onChange:b},null,40,sa)):M("",!0)]),e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:r[0]||(r[0]=C=>d(s.user,C.target.value))},[(a(!0),l(O,null,ee(n.value,C=>(a(),l("option",{key:C.id,value:C.value,selected:s.user.role===C.name},t(C.name),9,aa))),128))],32)]),e("td",null,[s.user.name!="admin"?(a(),l("select",{key:0,class:"form-control",onChange:r[1]||(r[1]=C=>g(s.user,C.target.value))},[(a(!0),l(O,null,ee(u.value,C=>(a(),l("option",{key:C.id,value:C.id,selected:s.user.sitehead_user_id===C.id},t(C.first_name+" "+C.last_name),9,oa))),128))],32)):M("",!0)]),e("td",null,[e("a",{href:"#",onClick:r[2]||(r[2]=se(C=>S.$emit("editUser",s.user),["prevent"]))},na),s.user.id!=1?(a(),l("a",{key:0,href:"#",onClick:r[3]||(r[3]=se(C=>S.$emit("confirmUserDeletion",s.user.id),["prevent"]))},ia)):M("",!0)])]))}},ra={class:"content"},ua={class:"container-fluid"},_a={class:"d-flex justify-content-between mb-2"},ma={class:"d-flex"},pa=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ha={key:0},va=e("i",{class:"fa fa-trash mr-1"},null,-1),ba={class:"ml-2"},fa={class:"card"},$a={class:"card-body"},ya={class:"dispatch-table"},ga={class:"table-responsive"},ka={class:"table table-bordered table-hover table-sm"},wa=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Department Head"),e("th",null,"Action")])],-1),xa={key:0},Ca={key:1},Da=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Sa=[Da],Va=["index"],Ma={class:"card"},Ua={class:"card-body"},Aa={class:"list-field"},Pa=e("span",{class:"mb-1 dis"},"Name:",-1),qa={class:"list-field"},Ta=e("span",{class:"mb-1 dis"},"Email:",-1),Ra={class:"list-field"},Ia=e("span",{class:"mb-1 dis"},"Registered Date:",-1),La={class:"list-field"},Ea=e("span",{class:"mb-1 dis"},"Site Head:",-1),Fa=["onChange"],ja=["value","selected"],Ya=e("hr",null,null,-1),Na={class:"row"},Ba={key:0,class:"col"},Oa=["onClick"],Ha=e("i",{class:"fa fa-pencil-square-o"},null,-1),za=["onClick"],Ja=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),Ga=[Ja],Qa={key:1,class:"col"},Wa=["onClick"],Ka=e("i",{class:"fa fa-pencil-square-o"},null,-1),Xa={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Za={class:"modal-dialog",role:"document"},eo={class:"modal-content"},to={class:"modal-header"},so={class:"modal-title",id:"staticBackdropLabel"},ao={key:0},oo={key:1},lo=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),no={class:"modal-body"},io={class:"form-group"},co=e("label",{for:"name"},"Username",-1),ro={class:"invalid-feedback"},uo={class:"d-flex justify-content-between"},_o={class:"d-flex"},mo={class:"form-group"},po=e("label",{for:"email"},"Email",-1),ho={class:"invalid-feedback"},vo={class:"d-flex"},bo={class:"form-group"},fo=e("label",{for:"siteDropdown"},"Gender",-1),$o=e("option",{value:"",disabled:""}," Select a gender ",-1),yo=["value"],go={class:"d-flex justify-content-between"},ko={class:"d-flex"},wo={class:"form-group"},xo=e("label",{for:"first_name"},"Fist Name",-1),Co={class:"invalid-feedback"},Do={class:"d-flex"},So={class:"form-group"},Vo=e("label",{for:"last_name"},"Last Name",-1),Mo={class:"invalid-feedback"},Uo={class:"form-group"},Ao=e("label",{for:"position"},"Position",-1),Po={class:"invalid-feedback"},qo={class:"form-group"},To=e("label",{for:"password"},"Password",-1),Ro={class:"invalid-feedback"},Io=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Lo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Eo={class:"modal-dialog",role:"document"},Fo={class:"modal-content"},jo=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Yo={class:"modal-footer"},No=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Bo={__name:"UserList",setup(s){const v=`${ve().name}`,m=ue(),o=me(),c=i({data:[]}),n=i(!1),u=i(),p=Me({id:"",name:"",email:"",sitehead_user_id:"",first_name:"",last_name:"",gender:"",position:""});i([]),i(null);const d=i([{name:"Male",value:1},{name:"Female",value:2}]),g=(Y=1)=>{T.get(`/api/users?page=${Y}`,{params:{query:J.value}}).then(V=>{c.value=V.data,x.value=[],X.value=!1})},b=Ve({name:H().required(),last_name:H().required(),first_name:H().required(),email:H().email().required(),password:H().required().min(8),gender:H().required()}),S=Ve({name:H().required(),last_name:H().required(),first_name:H().required(),email:H().email().required(),password:H().when((Y,V)=>Y?V.required().min(8):V),gender:H().required()}),r=i([]),C=()=>{T.get("/api/users/userlist").then(Y=>{r.value=Y.data}).catch(Y=>{console.log(Y)})},B=(Y,V)=>{T.patch(`/api/users/${Y.id}/change-sitehead`,{sitehead_user_id:V}).then(()=>{o.success("Sitehead changed successfully!")})},j=(Y,{resetForm:V,setErrors:k})=>{T.post("/api/users",Y).then(D=>{c.value.data.unshift(D.data),$("#userFormModal").modal("hide"),V(),o.success("User created successfully!")}).catch(D=>{D.response.data.errors&&(k(D.response.data.errors),o.warning(D.response.data.errors.name))})},E=()=>{n.value=!1,$("#userFormModal").modal("show")},Q=Y=>{n.value=!0,p.id=Y.id,p.name=Y.name,p.email=Y.email,p.first_name=Y.first_name,p.last_name=Y.last_name,p.gender=Y.gender,p.position=Y.position,$("#userFormModal").modal("show")},U=(Y,{setErrors:V})=>{T.put("/api/users/"+u.value.id,Y).then(k=>{const D=c.value.data.findIndex(ae=>ae.id===k.data.id);c.value.data[D]=k.data,$("#userFormModal").modal("hide"),o.success("User updated successfully!")}).catch(k=>{V(k.response.data.errors),console.log(k)})},L=(Y,V)=>{n.value?U(Y,V):j(Y,V)},J=i(null),x=i([]),y=Y=>{const V=x.value.indexOf(Y.id);V===-1?x.value.push(Y.id):x.value.splice(V,1),console.log(x.value)},N=i(null),A=Y=>{N.value=Y,$("#deleteUserModal").modal("show")},G=()=>{T.delete(`/api/users/${N.value}`).then(()=>{$("#deleteUserModal").modal("hide"),o.success("User deleted successfully!"),c.value.data=c.value.data.filter(Y=>Y.id!==N.value)})},pe=()=>{T.delete("/api/users",{data:{ids:x.value}}).then(Y=>{c.value.data=c.value.data.filter(V=>!x.value.includes(V.id)),x.value=[],X.value=!1,o.success(Y.data.message)})},X=i(!1);return he(J,Ue.exports.debounce(()=>{g()},300)),_e(()=>{g(),C(),document.title=`SLI-DTS - ${v}`}),(Y,V)=>{const k=be("font");return a(),l(O,null,[e("div",ra,[e("div",ua,[e("div",_a,[e("div",ma,[e("button",{onClick:E,type:"button",class:"mb-2 btn btn-primary btn-sm"},[pa,q(" User ")]),x.value.length>0?(a(),l("div",ha,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[va,q(" Delete Selected ")]),e("span",ba,"Selected "+t(x.value.length)+" users",1)])):M("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":V[0]||(V[0]=D=>J.value=D),class:"form-control",placeholder:"Search..."},null,512),[[ie,J.value]])])]),e("div",fa,[e("div",$a,[e("div",ya,[e("div",ga,[h(k,{size:"2"},{default:Z(()=>[e("table",ka,[wa,c.value.data.length>0?(a(),l("tbody",xa,[(a(!0),l(O,null,ee(c.value.data,(D,ae)=>(a(),re(ca,{key:D.id,user:D,index:ae,onEditUser:Q,onConfirmUserDeletion:A,onToggleSelection:y,"select-all":X.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(a(),l("tbody",Ca,Sa))])]),_:1})])]),(a(!0),l(O,null,ee(c.value.data,(D,ae)=>(a(),l("div",{class:"dispatch-list",key:D.id,index:ae},[e("div",Ma,[e("div",Ua,[e("div",Aa,[Pa,e("span",null,t(D.first_name+" "+D.last_name),1)]),e("div",qa,[Ta,e("span",null,t(D.email),1)]),e("div",Ra,[Ia,e("span",null,t(D.formatted_created_at),1)]),e("div",La,[Ea,e("span",null,[D.name!="admin"?(a(),l("select",{key:0,class:"form-control",onChange:ne=>B(D,ne.target.value)},[(a(!0),l(O,null,ee(r.value,ne=>(a(),l("option",{key:ne.id,value:ne.id,selected:ne.sitehead_user_id===ne.id},t(ne.first_name+" "+ne.last_name),9,ja))),128))],40,Fa)):M("",!0)])]),Ya,e("div",Na,[_(m).user.role==="ADMIN"?(a(),l("div",Ba,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ne=>Q(D)},[Ha,q(" Edit ")],8,Oa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ne=>A(D.id)},Ga,8,za)])):M("",!0),_(m).user.role==="USER"?(a(),l("div",Qa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ne=>Q(D)},[Ka,q(" Edit ")],8,Wa)])):M("",!0)])])])],8,Va))),128))])]),h(_(Ie),{data:c.value,onPaginationChangePage:g},null,8,["data"])])]),e("div",Xa,[e("div",Za,[e("div",eo,[e("div",to,[e("h5",so,[n.value?(a(),l("span",ao,"Edit User")):(a(),l("span",oo,"Add New User"))]),lo]),h(_(Pe),{ref:"form",onSubmit:L,"validation-schema":n.value?_(S):_(b),"initial-values":u.value},{default:Z(({errors:D})=>[e("div",no,[e("div",io,[co,h(_(z),{name:"name",type:"text",class:P(["form-control",{"is-invalid":D.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username",modelValue:p.name,"onUpdate:modelValue":V[1]||(V[1]=ae=>p.name=ae)},null,8,["class","modelValue"]),e("span",ro,t(D.name),1)]),e("div",uo,[e("div",_o,[e("div",mo,[po,h(_(z),{name:"email",type:"email",class:P(["form-control",{"is-invalid":D.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email",modelValue:p.email,"onUpdate:modelValue":V[2]||(V[2]=ae=>p.email=ae)},null,8,["class","modelValue"]),e("span",ho,t(D.email),1)])]),e("div",vo,[e("div",bo,[fo,h(_(z),{id:"gender",name:"gender",as:"select",class:P(["form-control",{"is-invalid":D.gender}])},{default:Z(()=>[$o,(a(!0),l(O,null,ee(d.value,ae=>(a(),l("option",{key:ae.name,value:ae.name},t(ae.name),9,yo))),128))]),_:2},1032,["class"])])])]),e("div",go,[e("div",ko,[e("div",wo,[xo,h(_(z),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":D.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name",modelValue:p.first_name,"onUpdate:modelValue":V[3]||(V[3]=ae=>p.first_name=ae)},null,8,["class","modelValue"]),e("span",Co,t(D.first_name),1)])]),e("div",Do,[e("div",So,[Vo,h(_(z),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":D.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name",modelValue:p.last_name,"onUpdate:modelValue":V[4]||(V[4]=ae=>p.last_name=ae)},null,8,["class","modelValue"]),e("span",Mo,t(D.last_name),1)])])]),e("div",Uo,[Ao,h(_(z),{name:"position",type:"text",class:P(["form-control",{"is-invalid":D.position}]),id:"position",modelValue:p.position,"onUpdate:modelValue":V[5]||(V[5]=ae=>p.position=ae),placeholder:"Enter position"},null,8,["class","modelValue"]),e("span",Po,t(D.position),1)]),e("div",qo,[To,h(_(z),{name:"password",type:"password",class:P(["form-control",{"is-invalid":D.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Ro,t(D.password),1)])]),Io]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Lo,[e("div",Eo,[e("div",Fo,[jo,e("div",Yo,[No,e("button",{onClick:se(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Oo=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ho=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),zo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Jo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),qe={__name:"ContentLoader",setup(s){return(v,m)=>v.isloading?(a(),re(_(Rt),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[Oo,Ho,zo,Jo]),_:1})):M("",!0)}};var fe=(s,v)=>{const m=s.__vccOpts||s;for(const[o,c]of v)m[o]=c;return m};const Fe=s=>(ye("data-v-965b4d94"),s=s(),ge(),s),Go={class:"content"},Qo={class:"container-fluid"},Wo={class:"row"},Ko={class:"col-md-6"},Xo={class:"card"},Zo=De('<ul class="nav nav-tabs" data-v-965b4d94><li class="nav-item" data-v-965b4d94><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-965b4d94>General Settings</a></li><li class="nav-item" data-v-965b4d94><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-965b4d94>Site Settings</a></li></ul>',1),el={class:"tab-content"},tl={class:"tab-pane fade show active",id:"general-tab"},sl={class:"card-body"},al={class:"form-group"},ol=Fe(()=>e("label",{for:"appName"},"App Display Name",-1)),ll={key:0,class:"text-danger text-sm"},nl={class:"form-group"},dl=Fe(()=>e("label",{for:"dateFormat"},"Date Format",-1)),il=De('<option value="m/d/Y" data-v-965b4d94> MM/DD/YYYY </option><option value="d/m/Y" data-v-965b4d94> DD/MM/YYYY </option><option value="Y-m-d" data-v-965b4d94> YYYY-MM-DD </option><option value="F j, Y" data-v-965b4d94> Month DD, YYYY </option><option value="j F Y" data-v-965b4d94> DD Month YYYY </option>',5),cl=[il],rl={key:0,class:"text-danger text-sm"},ul={class:"form-group"},_l=Fe(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),ml={key:0,class:"text-danger text-sm"},pl=Fe(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),q("Save Changes ")])],-1)),hl={class:"tab-pane fade",id:"site"},vl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},bl={key:0,class:"list-group-item p-0"},fl={class:"d-flex justify-content-center"},$l=["onClick"],yl={class:"ml-auto my-1 mr-1"},gl=["onClick"],kl=Fe(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),wl=[kl],xl={class:"m-2 list-unstyled"},Cl={key:1},Dl={key:0,class:"list-group-item p-0"},Sl={class:"d-flex justify-content-center"},Vl=["onClick"],Ml={class:"ml-auto my-1 mr-1"},Ul=["onClick"],Al=Fe(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),Pl=[Al],ql={key:1,class:"mt-2 text-center"},Tl=Fe(()=>e("span",null,"No Site",-1)),Rl=[Tl],Il={class:"input-group"},Ll=Fe(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),El={__name:"UpdateSetting",setup(s){const v=`${ve().name}`,m=i([]),o=me(),c=i(!0),n=i([]),u=i(!1),p=i(),d=je("$swal"),g=i({id:"",site_name:"",is_active:""}),b=()=>{u.value=!0,axios.get("/api/site").then(J=>{u.value=!1,n.value=J.data}).catch(J=>{console.log(J)})},S=Se(()=>Array.isArray(n.value)?n.value.filter(J=>J.is_active===0):[]),r=Se(()=>S.value.length),C=()=>{c.value=!c.value},B=()=>{var J,x;u.value=!0,axios.post("/api/site",{id:(J=g.value)==null?void 0:J.id,site_name:(x=g.value)==null?void 0:x.site_name,is_active:!0}).then(y=>{b(),g.value={id:null,site_name:"",is_active:!0},o.success(y.data.message),u.value=!1}).catch(y=>{y.response&&y.response.status===422&&(U.value=y.response.data.errors)})},j=J=>{g.value.is_active=J.is_active===1?0:1,axios.post("/api/site",{id:J.id,site_name:J.site_name,is_active:g.value.is_active}).then(x=>{axios.get("/api/site").then(y=>{n.value=y.data}).catch(y=>{console.error("Error fetching tasks:",y),o.error("Error fetching tasks. Please try again.")})}).catch(x=>{console.error("Error adding new task:",x),o.error("Error adding new task. Please try again.")})},E=J=>{if(J.is_active===null||J.is_active===0){d.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}g.value.id=J.id,g.value.site_name=J.site_name},Q=()=>{axios.get("/api/settings").then(J=>{m.value=J.data})},U=i(),L=()=>{U.value="",axios.post("/api/settings",m.value).then(J=>{o.success("Settings updated successfully!")}).catch(J=>{J.response&&J.response.status===422&&(U.value=J.response.data.errors)})};return _e(()=>{b(),Q(),document.title=`SLI-DTS - ${v}`}),(J,x)=>(a(),l("div",Go,[e("div",Qo,[e("div",Wo,[e("div",Ko,[e("div",Xo,[Zo,e("div",el,[e("div",tl,[e("form",{onSubmit:x[3]||(x[3]=se(y=>L(),["prevent"]))},[e("div",sl,[e("div",al,[ol,te(e("input",{"onUpdate:modelValue":x[0]||(x[0]=y=>m.value.app_name=y),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ie,m.value.app_name]]),U.value&&U.value.app_name?(a(),l("span",ll,t(U.value.app_name[0]),1)):M("",!0)]),e("div",nl,[dl,te(e("select",{"onUpdate:modelValue":x[1]||(x[1]=y=>m.value.date_format=y),class:"form-control"},cl,512),[[Re,m.value.date_format]]),U.value&&U.value.date_format?(a(),l("span",rl,t(U.value.date_format[0]),1)):M("",!0)]),e("div",ul,[_l,te(e("input",{"onUpdate:modelValue":x[2]||(x[2]=y=>m.value.pagination_limit=y),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ie,m.value.pagination_limit]]),U.value&&U.value.pagination_limit?(a(),l("span",ml,t(U.value.pagination_limit[0]),1)):M("",!0)])]),pl],32)]),e("div",hl,[n.value.length>0?(a(),l("div",vl,[u.value?(a(),re(qe,{key:0})):M("",!0),(a(!0),l(O,null,ee(n.value,y=>(a(),l("ul",{class:"list-group",key:y.id},[y.is_active===1?(a(),l("li",bl,[e("div",fl,[e("div",null,[e("span",{class:P({"btn font-italic text-red":y.is_active===0,btn:y.is_active===1})},[e("i",{onClick:N=>j(y),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":y.is_active===1,"fa fa-circle text-primary":y.is_active===0}),style:{"font-size":"15px"}},null,10,$l),q(" "+t(y.site_name),1)],2)]),e("div",yl,[e("button",{onClick:N=>E(y),class:"btn btn-outline"},wl,8,gl)])])])):M("",!0)]))),128)),e("li",xl,[r.value>0?(a(),l("button",{key:0,class:"btn btn-sm bg-danger",onClick:C},[e("i",{class:P(["fa",c.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Deactive List "+t(r.value),1)])):M("",!0)]),c.value?(a(),l("div",Cl,[(a(!0),l(O,null,ee(n.value,y=>(a(),l("ul",{class:"list-group",key:y.id},[y.is_active===0?(a(),l("li",Dl,[e("div",Sl,[e("div",null,[e("span",{class:P({"btn font-italic text-red":y.is_active===0,btn:y.is_active===1})},[e("i",{onClick:N=>j(y),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":y.is_active===1,"fa fa-circle text-primary":y.is_active===0}),style:{"font-size":"15px"}},null,10,Vl),e("del",null,t(y.site_name),1)],2)]),e("div",Ml,[e("button",{onClick:N=>E(y),class:"btn btn-outline"},Pl,8,Ul)])])])):M("",!0)]))),128))])):M("",!0)])):(a(),l("div",ql,Rl)),h(_(Pe),{ref:"form",onSubmit:B,"initial-values":p.value},{default:Z(()=>[h(_(z),{name:"id",modelValue:g.value.id,"onUpdate:modelValue":x[4]||(x[4]=y=>g.value.id=y),type:"text",hidden:""},null,8,["modelValue"]),e("div",Il,[h(_(z),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:g.value.site_name,"onUpdate:modelValue":x[5]||(x[5]=y=>g.value.site_name=y),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Ll])]),_:1},8,["initial-values"])])])])])])])]))}};var Fl=fe(El,[["__scopeId","data-v-965b4d94"]]);const jl={class:"content"},Yl={class:"container-fluid"},Nl={class:"row"},Bl={class:"col-md-3"},Ol={class:"card card-primary card-outline"},Hl={class:"card-body box-profile"},zl={class:"text-center"},Jl=["src"],Gl={class:"profile-username text-center"},Ql={class:"text-muted text-center"},Wl={class:"col-md-9"},Kl={class:"card"},Xl=De('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Zl={class:"card-body"},en={class:"tab-content"},tn={class:"tab-pane active",id:"profile"},sn={class:"form-group row"},an=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),on={class:"col-sm-10"},ln={key:0,class:"text-danger text-sm"},nn={class:"form-group row"},dn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),cn={class:"col-sm-10"},rn={key:0,class:"text-danger text-sm"},un={class:"form-group row"},_n=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),mn={class:"col-sm-10"},pn={key:0,class:"text-danger text-sm"},hn={class:"form-group row"},vn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),bn={class:"col-sm-10"},fn={key:0,class:"text-danger text-sm"},$n=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),yn={class:"tab-pane",id:"changePassword"},gn={class:"form-group row"},kn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),wn={class:"col-sm-9"},xn={key:0,class:"text-danger text-sm"},Cn={class:"form-group row"},Dn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),Sn={class:"col-sm-9"},Vn={key:0,class:"text-danger text-sm"},Mn={class:"form-group row"},Un=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),An={class:"col-sm-9"},Pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),qn={__name:"UpdateProfile",setup(s){const v=ue(),m=me(),o=`${ve().name}`,c=i([]),n=()=>{axios.put("/api/profile",{name:v.user.name,first_name:v.user.first_name,last_name:v.user.last_name,email:v.user.email,role:v.user.role}).then(S=>{m.success("Profile updated successfully!")}).catch(S=>{S.response&&S.response.status===422&&(c.value=S.response.data.errors)})},u=Me({currentPassword:"",password:"",passwordConfirmation:""}),p=()=>{c.value="",axios.post("/api/change-user-password",u).then(S=>{m.success(S.data.message);for(const r in u)u[r]=""}).catch(S=>{S.response&&S.response.status===422&&(c.value=S.response.data.errors)})},d=i(null),g=()=>{d.value.click()},b=S=>{const r=S.target.files[0];v.user.avatar=URL.createObjectURL(r);const C=new FormData;C.append("profile_picture",r),axios.post("/api/upload-profile-image",C).then(B=>{m.success("Image uploaded successfully!")})};return _e(()=>{document.title=`SLI-DTS - ${o}`}),(S,r)=>(a(),l("div",jl,[e("div",Yl,[e("div",Nl,[e("div",Bl,[e("div",Ol,[e("div",Hl,[e("div",zl,[e("input",{onChange:b,ref_key:"fileInput",ref:d,type:"file",class:"d-none"},null,544),e("img",{onClick:g,class:"profile-user-img img-circle",src:_(v).user.avatar,alt:"User profile picture"},null,8,Jl)]),e("h3",Gl,t(_(v).user.name),1),e("p",Ql,t(_(v).user.role),1)])])]),e("div",Wl,[e("div",Kl,[Xl,e("div",Zl,[e("div",en,[e("div",tn,[e("form",{onSubmit:r[4]||(r[4]=se(C=>n(),["prevent"])),class:"form-horizontal"},[e("div",sn,[an,e("div",on,[te(e("input",{"onUpdate:modelValue":r[0]||(r[0]=C=>_(v).user.name=C),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ie,_(v).user.name]]),c.value&&c.value.name?(a(),l("span",ln,t(c.value.name[0]),1)):M("",!0)])]),e("div",nn,[dn,e("div",cn,[te(e("input",{"onUpdate:modelValue":r[1]||(r[1]=C=>_(v).user.first_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ie,_(v).user.first_name]]),c.value&&c.value.first_name?(a(),l("span",rn,t(c.value.first_name[0]),1)):M("",!0)])]),e("div",un,[_n,e("div",mn,[te(e("input",{"onUpdate:modelValue":r[2]||(r[2]=C=>_(v).user.last_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ie,_(v).user.last_name]]),c.value&&c.value.last_name?(a(),l("span",pn,t(c.value.last_name[0]),1)):M("",!0)])]),e("div",hn,[vn,e("div",bn,[te(e("input",{"onUpdate:modelValue":r[3]||(r[3]=C=>_(v).user.email=C),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ie,_(v).user.email]]),c.value&&c.value.email?(a(),l("span",fn,t(c.value.email[0]),1)):M("",!0)])]),$n],32)]),e("div",yn,[e("form",{onSubmit:se(p,["prevent"]),class:"form-horizontal"},[e("div",gn,[kn,e("div",wn,[te(e("input",{"onUpdate:modelValue":r[5]||(r[5]=C=>u.currentPassword=C),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ie,u.currentPassword]]),c.value&&c.value.current_password?(a(),l("span",xn,t(c.value.current_password[0]),1)):M("",!0)])]),e("div",Cn,[Dn,e("div",Sn,[te(e("input",{"onUpdate:modelValue":r[6]||(r[6]=C=>u.password=C),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ie,u.password]]),c.value&&c.value.password?(a(),l("span",Vn,t(c.value.password[0]),1)):M("",!0)])]),e("div",Mn,[Un,e("div",An,[te(e("input",{"onUpdate:modelValue":r[7]||(r[7]=C=>u.passwordConfirmation=C),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ie,u.passwordConfirmation]])])]),Pn],32)])])])])])])])]))}};const Be=s=>(ye("data-v-809e38f2"),s=s(),ge(),s),Tn={class:"login-box"},Rn={class:"card card-outline card-primary"},In=Be(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Ln={class:"card-body"},En={key:0,class:"alert alert-danger",role:"alert"},Fn={class:"input-group mb-3"},jn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Yn={class:"input-group mb-3"},Nn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Bn=["type"],On={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Hn=Be(()=>e("div",{class:"input-group mb-3"},null,-1)),zn={class:"row"},Jn={class:"col-12 mb-2"},Gn=["disabled"],Qn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Wn=Be(()=>e("span",{class:"sr-only"},"Loading...",-1)),Kn=[Wn],Xn={key:1},Zn=Be(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),ed="Login",td={__name:"Login",setup(s){const v=i(!1),m=me();ue();const o=Je(),c=Me({email:"",password:""}),n=i(!1),u=i(""),p=()=>{n.value=!0,u.value="",T.post("/login",c).then(()=>{o.push("/"),m.success("Login Success")}).catch(d=>{m.error(d.response.data.message)}).finally(()=>{n.value=!1})};return _e(()=>{document.title=ed}),(d,g)=>(a(),l("div",Tn,[e("div",Rn,[In,e("div",Ln,[u.value?(a(),l("div",En,t(u.value),1)):M("",!0),e("form",{onSubmit:se(p,["prevent"])},[e("div",Fn,[jn,te(e("input",{"onUpdate:modelValue":g[0]||(g[0]=b=>c.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ie,c.email]])]),e("div",Yn,[Nn,te(e("input",{"onUpdate:modelValue":g[1]||(g[1]=b=>c.password=b),class:"form-control",placeholder:"Password",type:v.value?"text":"password",onClick:g[2]||(g[2]=(...b)=>d.handleKeyClick&&d.handleKeyClick(...b))},null,8,Bn),[[it,c.password]])]),e("label",On,[te(e("input",{type:"checkbox","onUpdate:modelValue":g[3]||(g[3]=b=>v.value=b)},null,512),[[Le,v.value]]),q(" Show Password ")]),Hn,e("div",zn,[e("div",Jn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:n.value},[n.value?(a(),l("div",Qn,Kn)):(a(),l("span",Xn,"Sign In"))],8,Gn)])])],32),Zn])])]))}};var sd=fe(td,[["__scopeId","data-v-809e38f2"]]);const ad=["checked"],od=e("i",{class:"fa fa-edit"},null,-1),ld=[od],nd=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),dd=[nd],id={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:v}){me();const m=s,o=v,c=()=>{o("toggleSelection",m.item)};return(n,u)=>(a(),l("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:c},null,40,ad)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.first_name)+" "+t(s.item.last_name),1),e("td",null,t(s.item.email),1),e("td",null,t(s.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:u[0]||(u[0]=se(p=>n.$emit("editUser",s.item),["prevent"]))},ld),e("a",{href:"#",onClick:u[1]||(u[1]=se(p=>n.$emit("confirmUserDeletion",s.item.id),["prevent"]))},dd)])]))}},cd={class:"content"},rd={class:"container-fluid"},ud={class:"d-flex justify-content-between"},_d={class:"d-flex"},md=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),pd={key:0},hd=e("i",{class:"fa fa-trash mr-1"},null,-1),vd={class:"ml-2"},bd={class:"card"},fd={class:"card-body"},$d={class:"table table-bordered"},yd=e("th",{style:{width:"10px"}},"#",-1),gd=e("th",null,"Name",-1),kd=e("th",null,"Email",-1),wd=e("th",null,"Registered Date",-1),xd=e("th",null,"Options",-1),Cd={key:0},Dd={key:1},Sd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),Vd=[Sd],Md={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ud={class:"modal-dialog",role:"document"},Ad={class:"modal-content"},Pd={class:"modal-header"},qd={class:"modal-title",id:"staticBackdropLabel"},Td={key:0},Rd={key:1},Id=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ld={class:"modal-body"},Ed={class:"form-group"},Fd=e("label",{for:"fist_name"},"First Name",-1),jd={class:"invalid-feedback"},Yd={class:"form-group"},Nd=e("label",{for:"last_name"},"Last Name",-1),Bd={class:"invalid-feedback"},Od={class:"form-group"},Hd=e("label",{for:"email"},"Email",-1),zd={class:"invalid-feedback"},Jd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Gd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qd={class:"modal-dialog",role:"document"},Wd={class:"modal-content"},Kd=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Xd={class:"modal-footer"},Zd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),ei={__name:"ClientList",setup(s){const v=me(),m=i({data:[]}),o=i(!1),c=i(),n=i(null),u=(N=1)=>{T.get(`/api/clients?page=${N}`,{params:{query:B.value}}).then(A=>{m.value=A.data,j.value=[],x.value=!1})},p=Ve({first_name:H().required(),last_name:H().required(),email:H().email().required()}),d=Ve({first_name:H().required(),last_name:H().required(),email:H().email().required()}),g=(N,{resetForm:A,setErrors:G})=>{T.post("/api/clients",N).then(pe=>{m.value.data.unshift(pe.data),$("#clientFormModal").modal("hide"),A(),v.success("User created successfully!")}).catch(pe=>{pe.response.data.errors&&G(pe.response.data.errors)})},b=()=>{o.value=!1,$("#clientFormModal").modal("show")},S=N=>{o.value=!0,n.value.resetForm(),$("#clientFormModal").modal("show"),c.value={id:N.id,first_name:N.first_name,last_name:N.last_name,email:N.email}},r=(N,{setErrors:A})=>{T.put("/api/clients/"+c.value.id,N).then(G=>{const pe=m.value.data.findIndex(X=>X.id===G.data.id);m.value.data[pe]=G.data,$("#clientFormModal").modal("hide"),v.success("Client updated successfully!")}).catch(G=>{A(G.response.data.errors),console.log(G)})},C=(N,A)=>{o.value?r(N,A):g(N,A)},B=i(null),j=i([]),E=N=>{const A=j.value.indexOf(N.id);A===-1?j.value.push(N.id):j.value.splice(A,1),console.log(j.value)},Q=i(null),U=N=>{Q.value=N,$("#deleteClientModal").modal("show")},L=()=>{T.delete(`/api/clients/${Q.value}`).then(()=>{$("#deleteClientModal").modal("hide"),v.success("Client deleted successfully!"),m.value.data=m.value.data.filter(N=>N.id!==Q.value)})},J=()=>{T.delete("/api/clients",{data:{ids:j.value}}).then(N=>{m.value.data=m.value.data.filter(A=>!j.value.includes(A.id)),j.value=[],x.value=!1,v.success(N.data.message)})},x=i(!1),y=()=>{x.value?j.value=m.value.data.map(N=>N.id):j.value=[],console.log(j.value)};return he(B,Ue.exports.debounce(()=>{u()},300)),_e(()=>{u()}),(N,A)=>(a(),l(O,null,[e("div",cd,[e("div",rd,[e("div",ud,[e("div",_d,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[md,q(" Add New Client ")]),j.value.length>0?(a(),l("div",pd,[e("button",{onClick:J,type:"button",class:"ml-2 mb-2 btn btn-danger"},[hd,q(" Delete Selected ")]),e("span",vd,"Selected "+t(j.value.length)+" clients",1)])):M("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=G=>B.value=G),class:"form-control",placeholder:"Search..."},null,512),[[ie,B.value]])])]),e("div",bd,[e("div",fd,[e("table",$d,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":A[1]||(A[1]=G=>x.value=G),onChange:y},null,544),[[Le,x.value]])]),yd,gd,kd,wd,xd])]),m.value.data.length>0?(a(),l("tbody",Cd,[(a(!0),l(O,null,ee(m.value.data,(G,pe)=>(a(),re(id,{key:G.id,item:G,index:pe,onEditUser:S,onConfirmUserDeletion:U,onToggleSelection:E,"select-all":x.value},null,8,["item","index","select-all"]))),128))])):(a(),l("tbody",Dd,Vd))])])]),h(_(Ie),{data:m.value,onPaginationChangePage:u},null,8,["data"])])]),e("div",Md,[e("div",Ud,[e("div",Ad,[e("div",Pd,[e("h5",qd,[o.value?(a(),l("span",Td,"Edit Client")):(a(),l("span",Rd,"Add New Client"))]),Id]),h(_(Pe),{ref_key:"form",ref:n,onSubmit:C,"validation-schema":o.value?_(d):_(p),"initial-values":c.value},{default:Z(({errors:G})=>[e("div",Ld,[e("div",Ed,[Fd,h(_(z),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":G.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",jd,t(G.first_name),1)]),e("div",Yd,[Nd,h(_(z),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":G.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Bd,t(G.last_name),1)]),e("div",Od,[Hd,h(_(z),{name:"email",type:"email",class:P(["form-control",{"is-invalid":G.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",zd,t(G.email),1)])]),Jd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Gd,[e("div",Qd,[e("div",Wd,[Kd,e("div",Xd,[Zd,e("button",{onClick:se(L,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const ct=s=>(ye("data-v-6b52e506"),s=s(),ge(),s),ti={style:{"text-align":"center"}},si={key:0},ai=ct(()=>e("i",{class:"fa fa-edit"},null,-1)),oi=[ai],li=ct(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),ni=[li],di={key:1,style:{"text-align":"center"}},ii={key:0},ci=ct(()=>e("i",{class:"fa fa-edit"},null,-1)),ri=[ci],ui={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(s,{emit:v}){me();const m=ue();return(o,c)=>{const n=be("router-link");return a(),l("tr",null,[e("td",null,t(s.item.recommnum),1),e("td",null,t(s.item.user),1),e("td",null,t(s.item.branch),1),e("td",null,t(s.item.department),1),e("td",null,t(s.item.created_user),1),e("td",ti,[s.item.statusid==2?(a(),re(n,{key:0,to:`/tech-approved/${s.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3)]),_:1},8,["to"])):(a(),l("span",{key:1,class:P(["badge",`badge-${s.item.status.color}`])},t(s.item.status.name),3))]),e("td",null,t(s.item.created_at),1),_(m).user.role==="ADMIN"?(a(),l("td",si,[e("a",{href:"#",onClick:c[0]||(c[0]=se(u=>o.$emit("editUser",s.item),["prevent"]))},oi),e("a",{href:"#",onClick:c[1]||(c[1]=se(u=>o.$emit("confirmUserDeletion",s.item.id),["prevent"]))},ni)])):M("",!0),_(m).user.role==="USER"?(a(),l("td",di,[s.item.statusid!=2?(a(),l("div",ii,[s.item.created_by==_(m).user.id?(a(),l("a",{key:0,href:"#",onClick:c[2]||(c[2]=se(u=>o.$emit("editUser",s.item),["prevent"]))},ri)):M("",!0)])):M("",!0)])):M("",!0)])}}};var _i=fe(ui,[["__scopeId","data-v-6b52e506"]]);const mi={class:"content"},pi={class:"container-fluid"},hi={class:"d-flex justify-content-between"},vi={class:"d-flex"},bi=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),fi={key:0},$i=e("i",{class:"fa fa-trash mr-1"},null,-1),yi={class:"ml-2"},gi={class:"card"},ki={class:"card-body"},wi={class:"dispatch-table"},xi={class:"table-responsive"},Ci={class:"table table-bordered table-sm"},Di=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),Si={key:0},Vi={key:1},Mi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Ui=[Mi],Ai=["item","index"],Pi={class:"card"},qi={class:"card-body"},Ti={class:"list-field"},Ri=e("span",{class:"mb-1 dis"},"Tech #:",-1),Ii={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"User:",-1),Ei={class:"list-field"},Fi=e("span",{class:"mb-1 dis"},"Branch:",-1),ji={class:"list-field"},Yi=e("span",{class:"mb-1 dis"},"Department:",-1),Ni={class:"list-field"},Bi=e("span",{class:"mb-1 dis"},"Created by:",-1),Oi={class:"list-field"},Hi=e("span",{class:"mb-1 dis"},"Status:",-1),zi={class:"list-field"},Ji=e("span",{class:"mb-1 dis"},"Created Date:",-1),Gi=e("hr",null,null,-1),Qi={class:"row"},Wi={key:0,class:"col"},Ki=["onClick"],Xi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Zi=["onClick"],ec=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),tc=[ec],sc={key:1,class:"col"},ac={key:0},oc=["onClick"],lc=e("i",{class:"fa fa-pencil-square-o"},null,-1),nc={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dc={class:"modal-dialog modal-lg",role:"document"},ic={class:"modal-content"},cc={class:"modal-header"},rc={class:"modal-title",id:"staticBackdropLabel"},uc={key:0},_c={key:1},mc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),pc={class:"modal-body"},hc={class:"col-md-12"},vc={class:"row"},bc={class:"col-6"},fc={class:"form-group"},$c=e("label",{for:"branch"},"Branch",-1),yc=e("option",{value:"",disabled:""}," Select Branch ",-1),gc=["value"],kc={class:"invalid-feedback"},wc={class:"form-group"},xc=e("label",{for:"department"},"Department",-1),Cc={class:"invalid-feedback"},Dc={class:"form-group"},Sc=e("label",{for:"warehouse"},"warehouse",-1),Vc={class:"invalid-feedback"},Mc={class:"form-group"},Uc=e("label",{for:"user"},"User",-1),Ac={class:"invalid-feedback"},Pc={class:"col-6"},qc={class:"form-group"},Tc=e("label",{for:"brand"},"Brand",-1),Rc={class:"form-group"},Ic=e("label",{for:"model"},"Model",-1),Lc={class:"invalid-feedback"},Ec={class:"form-group"},Fc=e("label",{for:"assettag"},"Asset tag",-1),jc={class:"invalid-feedback"},Yc={class:"form-group"},Nc=e("label",{for:"serialnum"},"Serial number",-1),Bc={class:"invalid-feedback"},Oc={class:"col-12"},Hc={class:"form-group"},zc=e("label",{for:"problem"},"Report Problem",-1),Jc={class:"invalid-feedback"},Gc={class:"form-group"},Qc=e("label",{for:"assconducted"},"Assessment conducted",-1),Wc={class:"invalid-feedback"},Kc={class:"form-group"},Xc=e("label",{for:"recommendation"},"Recommendation",-1),Zc={class:"invalid-feedback"},er={class:"modal-footer"},tr={key:0},sr={key:0,class:"btn-group float-l ml-auto"},ar=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),or={class:"dropdown-menu",role:"menu"},lr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),nr=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),dr={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ir={class:"modal-dialog",role:"document"},cr={class:"modal-content"},rr=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),ur={class:"modal-footer"},_r=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),mr={__name:"TechList",setup(s){const v=i(),m=i(),o=me(),c=i({data:[]});i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const n=`${ve().name}`,u=()=>{T.get("/web/getsite").then(k=>{m.value=k.data.sites}).catch(k=>{console.log(k)})},p=i(!1),d=i(!1),g=i(),b=Me({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),S=ue();i(null);const r=(k=1)=>{p.value=!0,T.get(`/api/tech-recommendations?page=${k}`,{params:{query:x.value}}).then(D=>{p.value=!1,c.value=D.data,y.value=[],V.value=!1})},C=Ve({branch:H().required(),department:H().required(),user:H().required(),problem:H().required(),assconducted:H().required(),brand:H().required()}),B=Ve({branch:H().required(),department:H().required(),user:H().required(),problem:H().required(),assconducted:H().required(),brand:H().required()}),j=(k,{resetForm:D,setErrors:ae})=>{T.post("/api/tech-recommendations",k).then(ne=>{c.value.data.unshift(ne.data),$("#FormModal").modal("hide"),D(),o.success("Data created successfully!")}).catch(ne=>{ne.response.data.errors&&ae(ne.response.data.errors)})},E=()=>{d.value=!1,$("#FormModal").modal("show")},Q=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},U=k=>{v.value=k.id,d.value=!0,Q(),b.id=k.id,b.branch=k.branch,b.department=k.department,b.warehouse=k.warehouse,b.user=k.user,b.problem=k.problem,b.brand=k.brand,b.model=k.model,b.assettag=k.assettag,b.serialnum=k.serialnum,b.assconducted=k.assconducted,b.recommendation=k.recommendation,b.ceated_by=k.ceated_by,b.recommnum=k.recommnum,$("#FormModal").modal("show")},L=(k,{setErrors:D})=>{T.put("/api/tech-recommendations/"+k.id,k).then(ae=>{$("#FormModal").modal("hide"),o.success("successfully Updated!")}).catch(ae=>{D(ae.response.data.errors),console.log(ae)})},J=(k,D)=>{d.value?L(b,D):j(k,D)},x=i(null),y=i([]),N=k=>{const D=y.value.indexOf(k.id);D===-1?y.value.push(k.id):y.value.splice(D,1),console.log(y.value)},A=i(null),G=k=>{A.value=k,$("#deleteClientModal").modal("show")},pe=()=>{T.delete(`/api/tech-recommendations/${A.value}`).then(()=>{$("#deleteClientModal").modal("hide"),o.success("Client deleted successfully!"),c.value.data=c.value.data.filter(k=>k.id!==A.value)})},X=()=>{T.delete("/api/tech-recommendations",{data:{ids:y.value}}).then(k=>{c.value.data=c.value.data.filter(D=>!y.value.includes(D.id)),y.value=[],V.value=!1,o.success(k.data.message)})},Y=k=>{T.post("/api/tech-getaction",{id:v.value,status:k}).then(D=>{$("#FormModal").modal("hide"),r()}).catch(D=>{console.log(D.message)})},V=i(!1);return he(x,Ue.exports.debounce(()=>{r()},300)),_e(()=>{r(),u(),document.title=`SLI-DTS - ${n}`}),(k,D)=>{const ae=be("font"),ne=be("router-link");return a(),l(O,null,[e("div",mi,[e("div",pi,[e("div",hi,[e("div",vi,[e("button",{onClick:E,type:"button",class:"mb-2 btn btn-primary"},[bi,q(" TechRecom ")]),y.value.length>0?(a(),l("div",fi,[e("button",{onClick:X,type:"button",class:"ml-2 mb-2 btn btn-danger"},[$i,q(" Delete Selected ")]),e("span",yi,"Selected "+t(y.value.length)+" techrecomm",1)])):M("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=I=>x.value=I),class:"form-control",placeholder:"Search..."},null,512),[[ie,x.value]])])]),e("div",gi,[e("div",ki,[p.value?(a(),re(qe,{key:0})):M("",!0),e("div",wi,[e("div",xi,[h(ae,{size:"2"},{default:Z(()=>[e("table",Ci,[Di,c.value.data.length>0?(a(),l("tbody",Si,[(a(!0),l(O,null,ee(c.value.data,(I,F)=>(a(),re(_i,{key:I.id,item:I,index:F,onEditUser:U,onShowItem:k.viewItem,onConfirmUserDeletion:G,onToggleSelection:N,"select-all":V.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(a(),l("tbody",Vi,Ui))])]),_:1})])]),(a(!0),l(O,null,ee(c.value.data,(I,F)=>(a(),l("div",{class:"dispatch-list",key:I.id,item:I,index:F},[e("div",Pi,[e("div",qi,[e("div",Ti,[Ri,e("span",null,[e("b",null,t(I.recommnum),1)])]),e("div",Ii,[Li,e("span",null,t(I.user),1)]),e("div",Ei,[Fi,e("span",null,t(I.branch),1)]),e("div",ji,[Yi,e("span",null,t(I.department),1)]),e("div",Ni,[Bi,e("span",null,t(I.created_user),1)]),e("div",Oi,[Hi,I.statusid==2?(a(),re(ne,{key:0,to:`/tech-approved/${I.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`badge-${I.status.color}`])},t(I.status.name),3)]),_:2},1032,["to"])):M("",!0),I.statusid!=2?(a(),l("span",{key:1,class:P(["badge",`badge-${I.status.color}`])},t(I.status.name),3)):M("",!0)]),e("div",zi,[Ji,e("span",null,t(I.created_at),1)]),Gi,e("div",Qi,[_(S).user.role==="ADMIN"?(a(),l("div",Wi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ye=>U(I)},[Xi,q(" Edit ")],8,Ki),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ye=>G(I.id)},tc,8,Zi)])):M("",!0),_(S).user.role==="USER"?(a(),l("div",sc,[I.statusid!=2?(a(),l("div",ac,[I.created_by==_(S).user.id?(a(),l("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ye=>U(I)},[lc,q(" Edit ")],8,oc)):M("",!0)])):M("",!0)])):M("",!0)])])])],8,Ai))),128))])]),h(_(Ie),{data:c.value,onPaginationChangePage:r},null,8,["data"])])]),e("div",nc,[e("div",dc,[e("div",ic,[e("div",cc,[e("h5",rc,[d.value?(a(),l("span",uc,"Edit Tech Recom.")):(a(),l("span",_c,"Add New Tech Recom."))]),mc]),h(_(Pe),{onSubmit:J,"validation-schema":d.value?_(B):_(C),"initial-values":g.value},{default:Z(({errors:I})=>[e("div",pc,[e("div",hc,[e("div",vc,[e("div",bc,[h(_(z),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(S).user.id,"onUpdate:modelValue":D[1]||(D[1]=F=>_(S).user.id=F)},null,8,["modelValue"]),h(_(z),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":D[2]||(D[2]=F=>b.recommnum=F)},null,8,["modelValue"]),e("div",fc,[$c,h(_(z),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":I.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":D[3]||(D[3]=F=>b.branch=F)},{default:Z(()=>[yc,(a(!0),l(O,null,ee(m.value,F=>(a(),l("option",{key:F.name,value:F.name},t(F.name),9,gc))),128))]),_:2},1032,["class","modelValue"]),e("span",kc,t(I.branch),1)]),e("div",wc,[xc,h(_(z),{name:"department",type:"text",class:P(["form-control",{"is-invalid":I.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":D[4]||(D[4]=F=>b.department=F)},null,8,["class","modelValue"]),e("span",Cc,t(I.department),1)]),e("div",Dc,[Sc,h(_(z),{name:"warehouse",type:"text",class:P(["form-control",{"is-invalid":I.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":D[5]||(D[5]=F=>b.warehouse=F)},null,8,["class","modelValue"]),e("span",Vc,t(I.warehouse),1)]),e("div",Mc,[Uc,h(_(z),{name:"user",type:"text",class:P(["form-control",{"is-invalid":I.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":D[6]||(D[6]=F=>b.user=F)},null,8,["class","modelValue"]),e("span",Ac,t(I.user),1)])]),e("div",Pc,[e("div",qc,[Tc,h(_(z),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":D[7]||(D[7]=F=>b.brand=F)},null,8,["modelValue"])]),e("div",Rc,[Ic,h(_(z),{name:"model",type:"text",class:P(["form-control",{"is-invalid":I.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":D[8]||(D[8]=F=>b.model=F),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Lc,t(I.model),1)]),e("div",Ec,[Fc,h(_(z),{name:"assettag",type:"text",class:P(["form-control",{"is-invalid":I.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":D[9]||(D[9]=F=>b.assettag=F),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",jc,t(I.assettag),1)]),e("div",Yc,[Nc,te(e("input",{name:"serialnum",type:"text",class:P(["form-control",{"is-invalid":I.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":D[10]||(D[10]=F=>b.serialnum=F)},null,2),[[ie,b.serialnum]]),e("span",Bc,t(I.serialnum),1)])]),e("div",Oc,[e("div",Hc,[zc,h(_(z),{name:"problem",as:"textarea",class:P(["form-control",{"is-invalid":I.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":D[11]||(D[11]=F=>b.problem=F)},null,8,["class","modelValue"]),e("span",Jc,t(I.problem),1)]),e("div",Gc,[Qc,h(_(z),{name:"assconducted",as:"textarea",class:P(["form-control",{"is-invalid":I.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":D[12]||(D[12]=F=>b.assconducted=F)},null,8,["class","modelValue"]),e("span",Wc,t(I.assconducted),1)]),e("div",Kc,[Xc,h(_(z),{name:"recommendation",as:"textarea",class:P(["form-control",{"is-invalid":I.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":D[13]||(D[13]=F=>b.recommendation=F)},null,8,["class","modelValue"]),e("span",Zc,t(I.recommendation),1)])])])])]),e("div",er,[d.value?(a(),l("div",tr,[_(S).user.role==="ADMIN"?(a(),l("div",sr,[e("button",{type:"button",onClick:D[14]||(D[14]=F=>Y(2)),class:"btn btn-info"}," Approved "),ar,e("div",or,[e("span",{onClick:D[15]||(D[15]=F=>Y(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:D[16]||(D[16]=F=>Y(3)),class:"dropdown-item"},"Disapproved")])])):M("",!0)])):M("",!0),lr,nr])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",dr,[e("div",ir,[e("div",cr,[rr,e("div",ur,[_r,e("button",{onClick:se(pe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Ge=pt("SettingStore",()=>{const s=i({app_name:""}),v=It("SettingStore:theme",i("light"));return{setting:s,getSetting:async()=>{await T.get("/api/settings").then(c=>{s.value=c.data})},theme:v,changeTheme:()=>{v.value=v.value==="light"?"dark":"light"}}});const oe=s=>(ye("data-v-a215d374"),s=s(),ge(),s),pr={class:"content"},hr={class:"container-fluid"},vr={class:"card"},br={class:"card-header"},fr={class:"card-title"},$r={class:"card-body"},yr={class:"col-md-12"},gr={class:"d-flex justify-content-between"},kr=oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),wr={class:"d-flex"},xr={class:"col-12",id:"accordion"},Cr={key:1},Dr={key:0},Sr={class:"card card-secondary"},Vr={class:"card-body d-flex align-items-center justify-content-center"},Mr={class:"image-container"},Ur=["src"],Ar=oe(()=>e("div",{class:"overlay"},null,-1)),Pr={key:1},qr={class:"card-header bg-white"},Tr={class:"card-title"},Rr=["href"],Ir=["src"],Lr={class:"card-tools"},Er=["onClick"],Fr=oe(()=>e("i",{class:"fas fa-tasks"},null,-1)),jr=[Fr],Yr=["disabled","onClick"],Nr=["onClick"],Br=["onClick"],Or=oe(()=>e("p",{class:"float-right"},null,-1)),Hr=["id"],zr={class:"card-body"},Jr={class:"col-md-12"},Gr={class:"dispatch-table"},Qr={class:"row"},Wr={class:"col-4"},Kr=oe(()=>e("b",null,"Site:",-1)),Xr=oe(()=>e("b",null,"Planned Date:",-1)),Zr=oe(()=>e("b",null,"Planned End Date:",-1)),eu={class:"col-4"},tu=oe(()=>e("b",null,"Start Date:",-1)),su=oe(()=>e("b",null,"Accomplished Date:",-1)),au={class:"closestatus"},ou=oe(()=>e("b",{style:{color:"black"}},"Type:",-1)),lu={class:"col-4"},nu={class:"ongoing"},du=oe(()=>e("b",{style:{color:"black"}},"Status:",-1)),iu=oe(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),cu=oe(()=>e("b",null,"Remarks:",-1)),ru={style:{margin:"0.5%"}},uu=["disabled","onClick"],_u=["onClick","disabled"],mu={class:"dispatch-list"},pu={class:"list-group list-group-flush"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},yu={class:"badge badge-primary badge-pill"},gu={class:"list-group-item d-flex justify-content-between align-items-center"},ku={class:"badge badge-primary badge-pill"},wu={class:"list-group-item d-flex justify-content-between align-items-center"},xu={class:"badge badge-primary badge-pill"},Cu={class:"list-group-item d-flex justify-content-between align-items-center"},Du={class:"badge badge-primary badge-pill"},Su={class:"list-group-item d-flex justify-content-between align-items-center"},Vu={class:"badge badge-primary badge-pill"},Mu={class:"list-group-item d-flex justify-content-between align-items-center"},Uu={class:"badge badge-primary badge-pill"},Au=oe(()=>e("hr",null,null,-1)),Pu={class:"row"},qu={class:"col"},Tu=["onClick"],Ru=oe(()=>e("i",{class:"fas fa-pen"},null,-1)),Iu=["onClick"],Lu=oe(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),q(" Drop ")],-1)),Eu=[Lu],Fu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ju={class:"modal-dialog modal-dialog-centered",role:"document"},Yu={class:"modal-content"},Nu={class:"modal-header"},Bu={class:"modal-title",id:"staticBackdropLabel"},Ou={key:0},Hu={key:1},zu={key:2},Ju=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Gu={class:"modal-body"},Qu={class:"col-md-12"},Wu={class:"row"},Ku={class:"col-12"},Xu={class:"form-group"},Zu=oe(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),e_=oe(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),t_=["value"],s_={key:0,class:"d-flex justify-content-between"},a_={class:"d-flex"},o_={class:"form-group"},l_=oe(()=>e("label",{for:"end-time"},"Start Date",-1)),n_={class:"form-group"},d_=oe(()=>e("label",{for:"end-time"},"Hour",-1)),i_=["value"],c_=oe(()=>e("div",{class:"d-fex"},null,-1)),r_={key:1,class:"d-flex justify-content-between"},u_={class:"d-flex"},__={class:"form-group"},m_=oe(()=>e("label",{for:"end-time"},"End Date",-1)),p_={class:"form-group"},h_=oe(()=>e("label",{for:"end-time"},"Hour",-1)),v_=["value"],b_=oe(()=>e("div",{class:"d-fex"},null,-1)),f_={class:"form-group"},$_=oe(()=>e("label",{for:"site"},"Type",-1)),y_=oe(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),g_=["value"],k_=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),w_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},x_={class:"modal-dialog modal-sm",role:"document"},C_={class:"modal-content"},D_={class:"modal-header"},S_={class:"modal-title",id:"staticBackdropLabel"},V_=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),M_={class:"modal-body"},U_=De('<ul class="nav nav-tabs" id="myTabs" data-v-a215d374><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-a215d374> Todo List</a></li><li class="nav-item" data-v-a215d374><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-a215d374> Todo</a></li></ul>',1),A_={class:"tab-content"},P_={class:"tab-pane fade show active",id:"todolist"},q_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},T_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),R_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),I_={key:0,class:"list-group-item p-0"},L_={class:"d-flex justify-content-center"},E_=["onClick"],F_={class:"ml-auto my-1 mr-1"},j_=["onClick"],Y_=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),N_=[Y_],B_={class:"mt-2 mb-2 list-unstyled"},O_={key:1},H_={key:0,class:"list-group-item p-0"},z_={class:"d-flex justify-content-center"},J_=["onClick"],G_={class:"ml-auto my-1 mr-1"},Q_=["onClick"],W_=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),K_=[W_],X_={key:1,class:"mt-2 text-center"},Z_=oe(()=>e("span",null,"No Todo",-1)),em=[Z_],tm={class:"tab-pane fade",id:"formTask"},sm={class:"col-md-12"},am={class:"row"},om={class:"col-12"},lm={class:"m-2",style:{display:"flex","align-items":"center"}},nm=oe(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),q("\xA0Save ")])],-1)),dm={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},im={class:"modal-dialog",role:"document"},cm={class:"modal-content"},rm=oe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),um={class:"modal-body"},_m={class:"col-md-12"},mm={class:"row"},pm={class:"col-12"},hm={class:"modal-footer"},vm=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),bm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fm={class:"modal-dialog",role:"document"},$m={class:"modal-content"},ym=De('<div class="modal-header" data-v-a215d374><h5 class="modal-title" id="staticBackdropLabel" data-v-a215d374><span data-v-a215d374>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-a215d374><span aria-hidden="true" data-v-a215d374>\xD7</span></button></div><div class="modal-body" data-v-a215d374><h5 data-v-a215d374>Are you sure you want to delete this record ?</h5></div>',2),gm={class:"modal-footer"},km=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),wm={__name:"MyPrio",setup(s){const v=`${ve().name}`,m=i(!1),o=i(!1),c=je("$swal");Ge();const n=me(),u=i({data:[]}),p=i([]);i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),i();const d=i();i();const g=i(!0),b=i(!1);i(!1),i();const S=i(),r=i(),C=i(),B=ue();i(null),i(!1);const j=i([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),E=i(),Q=i("1:00 AM"),U=i(),L=i("1:00 AM"),J=i(Array.from({length:24},(w,R)=>{const f=R%12+1,$e=R<12?"AM":"PM";return`${f}:00 ${$e}`})),x=i(Array.from({length:24},(w,R)=>{const f=R%12+1,$e=R<12?"AM":"PM";return`${f}:00 ${$e}`})),y=Me({dailytask_id:"",site:"",user_id:B.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),N=i("");he([E,Q],()=>{const w=new Date(E.value),R=w.getFullYear(),f=String(w.getMonth()+1).padStart(2,"0"),$e=String(w.getDate()).padStart(2,"0");y.plandate=`${R}-${f}-${$e} ${Q.value}`}),he([E,L],()=>{const w=new Date(E.value);w.getFullYear(),String(w.getMonth()+1).padStart(2,"0"),String(w.getDate()).padStart(2,"0")}),he([U,L],()=>{const w=new Date(U.value),R=w.getFullYear(),f=String(w.getMonth()+1).padStart(2,"0"),$e=String(w.getDate()).padStart(2,"0");y.enddates=`${R}-${f}-${$e} ${L.value}`});const A=i({id:"",dailytask_id:"",task_name:"",iscompleted:0}),G=()=>{T.get("/web/getsite").then(w=>{d.value=w.data.sites}).catch(w=>{console.log(w)})},pe=()=>{m.value=!0,T.get("/web/dailytask",{params:{query:K.value}}).then(w=>{m.value=!1,u.value=w.data,Ce.value=[]})},X=async w=>{(await c({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(m.value=!0,T.put(`/web/dailytask/drop/${w}`).then(f=>{n.success("Data drop successfully!"),m.value=!1,pe()}))},Y=()=>{$("#FormModalTask").modal("show")},V=w=>{Y(),A.value.dailytask_id=w.dailytask_id,r.value=w.taskdate,C.value=w.startdate,o.value=!0,T.get(`/web/dailytask/${w.dailytask_id}/tasks`).then(R=>{p.value=R.data,Y(),o.value=!1}).catch(R=>{console.error("Error fetching tasks:",R)})},k=()=>{o.value=!0,T.post("/web/dailytask/addnewTask",{dailytask_id:A.value.dailytask_id,task_name:A.value.task_name,iscompleted:A.value.iscompleted}).then(w=>{n.success("Data created successfully!"),T.get(`/web/dailytask/${A.value.dailytask_id}/tasks`).then(R=>{p.value=R.data,o.value=!1}).catch(R=>{console.error("Error fetching tasks:",R),n.error("Error fetching tasks. Please try again.")}),A.value.task_name=""}).catch(w=>{console.error("Error adding new task:",w),n.error("Error adding new task. Please try again.")})},D=w=>{A.value.iscompleted=w.iscompleted===1?0:1,T.post("/web/dailytask/addnewTask",{id:w.id,dailytask_id:w.dailytask_id,task_name:w.task_name,iscompleted:A.value.iscompleted}).then(R=>{T.get(`/web/dailytask/${w.dailytask_id}/tasks`).then(f=>{p.value=f.data}).catch(f=>{console.error("Error fetching tasks:",f),n.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),n.error("Error adding new task. Please try again.")})},ae=Se(()=>Array.isArray(p.value)?p.value.filter(w=>w.iscompleted===1):[]),ne=Se(()=>ae.value.length),I=()=>{g.value=!g.value},F=w=>{T.delete(`/web/dailytask/deleteTask/${w.id}`).then(R=>{T.get(`/web/dailytask/${w.dailytask_id}/tasks`).then(f=>{p.value=f.data,n.success("Todo successfull Deleted")}).catch(f=>{console.error("Error fetching tasks:",f),n.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),n.error("Error adding new task. Please try again.")})};Ve({site:H().required(),tasktype:H().required(),plandate:H().required(),planenddate:H().required()}),Ve({site:H().required(),tasktype:H().required(),plandate:H().required(),planenddate:H().required()});const Ye=(w,R)=>{T.post("/web/dailytask",y).then(f=>{pe(),$("#FormModal").modal("hide"),n.success("data created successfully!")}).catch(f=>{R.setErrors(f.response.data.errors)})},tt=(w,R)=>{T.put("/web/dailytask/"+y.dailytask_id,y).then(f=>{console.log(f.data),pe(),$("#FormModal").modal("hide"),n.success("data update successfully!")}).catch(f=>{R.setErrors(f.response.data.errors)})},ze=w=>{w&&w.dailytask_id!==null&&w.dailytask_id!==void 0?(b.value=!0,S.value=" on "+de(w.taskdate).format("MMMM D, YYYY"),y.site=w.site_name,y.dailytask_id=w.dailytask_id,y.plandate=w.plandate,y.planenddate=w.planenddate,y.tasktype=w.tasktype,console.log(w.site_name),console.log(w.tasktype)):b.value=!1,G(),$("#FormModal").modal("show")},st=(w,R)=>{b.value?tt(w,R):Ye(w,R)},Ne=async w=>{if((await c.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const f=await T.put("/web/dailytask/onTashHoliday/"+w.dailytask_id,w);n.success(f.data.message),pe()}},at=async w=>{try{const R=await T.get(`/web/dailytask/${w.dailytask_id}/tasks`);if(p.value=R.data,!p.value||p.value.length===0){c.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await c.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const $e=await T.put("/web/dailytask/onhandler/"+w.dailytask_id,w);n.success($e.data.message),pe()}}catch(R){console.error("Error fetching tasks:",R),n.error("An error occurred while updating the task.")}},ot=w=>{$("#onRemarksModal").modal("show"),N.value=w},W=()=>{y.remarks===null||y.remarks==""?n.error("Remarks is required"):(de(N.value.taskdate).format("YYYY-MM-DD")===de().format("YYYY-MM-DD")?y.status="HIT":y.status="MISS",T.put("/web/dailytask/onhandler/"+N.value.dailytask_id,{startdate:N.value.startdate,remarks:y.remarks,status:y.status}).then(R=>{console.log(R.data),pe(),$("#onRemarksModal").modal("hide"),n.success(R.data.message)}))},K=i(null),Ce=i([]);return i(null),he(K,Ue.exports.debounce(()=>{pe()},300)),_e(()=>{ht(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),pe(),document.title=`SLI-DTS - ${v}`}),(w,R)=>(a(),l(O,null,[e("div",pr,[e("div",hr,[e("div",vr,[e("div",br,[e("div",fr,t(_(B).user.first_name+" "+_(B).user.last_name)+" - My Prio ",1)]),e("div",$r,[e("div",yr,[e("div",gr,[e("div",{class:"d-flex"},[e("button",{onClick:ze,type:"button",class:"mb-2 btn btn-primary"},[kr,q(" Task ")])]),e("div",wr,[te(e("input",{type:"text","onUpdate:modelValue":R[0]||(R[0]=f=>K.value=f),class:"form-control",placeholder:"Search..."},null,512),[[ie,K.value]])])]),e("div",xr,[m.value?(a(),re(qe,{key:0})):(a(),l("div",Cr,[u.value.length===0?(a(),l("div",Dr,[e("div",Sr,[e("div",Vr,[e("div",Mr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,Ur),Ar])])])])):(a(),l("div",Pr,[(a(!0),l(O,null,ee(u.value,f=>(a(),l("div",{class:"card card-primary",key:f.id},[e("div",qr,[e("h4",Tr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+f.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Ir),q(" \xA0"),e("b",null,t(_(de)(f.taskdate).format("MMMM D, YYYY")+" - "+f.site_name),1)],8,Rr)]),e("div",Lr,[f.tasktypeid&&f.tasktypeid!==6?(a(),l("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:$e=>V(f)},jr,8,Er)):M("",!0),!f.enddate&&f.tasktypeid!==6?(a(),l("button",{key:1,disabled:f.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:$e=>ot(f)}," End ",8,Yr)):M("",!0),f.tasktypeid&&f.tasktypeid===6?(a(),l("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:$e=>Ne(f)}," Complete ",8,Nr)):M("",!0),!f.startdate&&f.tasktypeid!==6?(a(),l("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:$e=>at(f)}," Start ",8,Br)):M("",!0),Or])]),e("div",{id:"collapse"+f.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",zr,[e("div",Jr,[e("div",Gr,[e("div",Qr,[e("div",Wr,[e("h5",null,[Kr,q(" "+t(f.site_name),1)]),e("h5",null,[Xr,q(" "+t(f.plandate),1)]),e("h5",null,[Zr,q(" "+t(f.planenddate),1)])]),e("div",eu,[e("h5",null,[tu,q(" "+t(f.startdate!==null?_(de)(f.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[su,q(" "+t(f.enddate!==null?_(de)(f.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",au,[ou,q(" "+t(f.tasktype?f.tasktype.join(", "):""),1)])]),e("div",lu,[e("h5",nu,[du,q(" "+t(f.status),1)]),e("h5",null,[iu,q(" "+t(f.attachment),1)]),e("h5",null,[cu,q(" "+t(f.remarks),1)])])]),e("div",ru,[e("button",{disabled:f.startdate!==null,onClick:$e=>X(f.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,uu),e("button",{onClick:$e=>ze(f),type:"button",disabled:f.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,_u)])]),e("div",mu,[e("ul",pu,[e("li",hu,[q(" Site: "),e("span",vu,t(f.site_name),1)]),e("li",bu,[q(" Planned Date: "),e("span",fu,t(f.plandate),1)]),e("li",$u,[q(" Planned End Date: "),e("span",yu,t(f.planenddate),1)]),e("li",gu,[q(" Start Date: "),e("span",ku,t(f.startdate!==null?_(de)(f.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",wu,[q(" Type: "),e("span",xu,t(f.tasktype?f.tasktype.join(", "):""),1)]),e("li",Cu,[q(" Status: "),e("span",Du,t(f.status),1)]),e("li",Su,[q(" Attachment: "),e("span",Vu,t(f.attachment),1)]),e("li",Mu,[q(" Remarks: "),e("span",Uu,t(f.remarks),1)])]),Au,e("div",Pu,[e("div",qu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:$e=>ze(f)},[Ru,q(" Edit ")],8,Tu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:$e=>X(f.dailytask_id)},Eu,8,Iu)])])])])])],8,Hr)]))),128))]))]))])])])])])]),e("div",Fu,[e("div",ju,[e("div",Yu,[e("div",Nu,[e("h5",Bu,[b.value?(a(),l("span",Ou,"Edit My Task")):(a(),l("span",Hu,"Add My Task")),b.value?(a(),l("span",zu,t(S.value),1)):M("",!0)]),Ju]),h(_(Pe),{onSubmit:st},{default:Z(()=>[e("div",Gu,[e("div",Qu,[e("div",Wu,[e("div",Ku,[h(_(z),{modelValue:y.user_id,"onUpdate:modelValue":R[1]||(R[1]=f=>y.user_id=f),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Xu,[Zu,te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":R[2]||(R[2]=f=>y.site=f)},[e_,(a(!0),l(O,null,ee(d.value,f=>(a(),l("option",{key:f.id,value:f.id},t(f.name),9,t_))),128))],512),[[Re,y.site]])]),b.value==!1?(a(),l("div",s_,[e("div",a_,[e("div",o_,[l_,h(_(Ee),{class:"form-control",modelValue:E.value,"onUpdate:modelValue":R[3]||(R[3]=f=>E.value=f)},null,8,["modelValue"])]),e("div",n_,[d_,te(e("select",{class:"form-control","onUpdate:modelValue":R[4]||(R[4]=f=>Q.value=f),id:"plandate"},[(a(!0),l(O,null,ee(J.value,f=>(a(),l("option",{key:f,value:f},t(f),9,i_))),128))],512),[[Re,Q.value]])])]),c_])):M("",!0),b.value==!1?(a(),l("div",r_,[e("div",u_,[e("div",__,[m_,h(_(Ee),{class:"form-control",modelValue:U.value,"onUpdate:modelValue":R[5]||(R[5]=f=>U.value=f)},null,8,["modelValue"])]),e("div",p_,[h_,te(e("select",{class:"form-control","onUpdate:modelValue":R[6]||(R[6]=f=>L.value=f),id:"plandate"},[(a(!0),l(O,null,ee(x.value,f=>(a(),l("option",{key:f,value:f},t(f),9,v_))),128))],512),[[Re,L.value]])])]),b_])):M("",!0),e("div",f_,[$_,h(_(z),{name:"tasktype"},{default:Z(()=>[te(e("select",{"onUpdate:modelValue":R[7]||(R[7]=f=>y.tasktype=f),class:"form-control",required:!0},[y_,(a(!0),l(O,null,ee(j.value,f=>(a(),l("option",{key:f.value,value:f.value},t(f.name),9,g_))),128))],512),[[Re,y.tasktype]])]),_:1})])])])])]),k_]),_:1})])])]),e("div",w_,[e("div",x_,[e("div",C_,[e("div",D_,[e("h5",S_," My Todo of "+t(_(de)(r.value).format("MM/D/YYYY")),1),V_]),e("div",M_,[U_,e("div",A_,[e("div",P_,[p.value.length>0?(a(),l("div",q_,[o.value?(a(),re(qe,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[T_,R_]),_:1})):M("",!0),(a(!0),l(O,null,ee(p.value,f=>(a(),l("ul",{class:"list-group",key:f.id},[f.iscompleted!==1?(a(),l("li",I_,[e("div",L_,[e("div",null,[e("span",{class:P({"font-italic btn":f.iscompleted===1,btn:f.iscompleted!==1})},[C.value?(a(),l("i",{key:0,onClick:$e=>D(f),class:P({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":f.iscompleted===1,"fa fa-circle text-primary":f.iscompleted!==1})},null,10,E_)):M("",!0),q(" "+t(f.task_name),1)],2)]),e("div",F_,[e("button",{onClick:$e=>F(f),class:"btn btn-outline"},N_,8,j_)])])])):M("",!0)]))),128)),e("li",B_,[ne.value>0?(a(),l("button",{key:0,class:"btn btn-sm bg-secondary",onClick:I},[e("i",{class:P(["fa",g.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Completed "+t(ne.value),1)])):M("",!0)]),g.value?(a(),l("div",O_,[(a(!0),l(O,null,ee(p.value,f=>(a(),l("ul",{class:"list-group",key:f.id},[f.iscompleted===1?(a(),l("li",H_,[e("div",z_,[e("div",null,[e("span",{class:P({"font-italic btn":f.iscompleted===1,btn:f.iscompleted!==1})},[C.value?(a(),l("i",{key:0,onClick:$e=>D(f),class:P({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":f.iscompleted===1,"fa fa-circle text-primary":f.iscompleted!==1})},null,10,J_)):M("",!0),q(" "+t(f.task_name),1)],2)]),e("div",G_,[e("button",{onClick:$e=>F(f),class:"btn btn-outline"},K_,8,Q_)])])])):M("",!0)]))),128))])):M("",!0)])):(a(),l("div",X_,em))]),e("div",tm,[h(_(Pe),{onSubmit:k},{default:Z(()=>[e("div",sm,[e("div",am,[e("div",om,[h(_(z),{modelValue:A.value.dailytask_id,"onUpdate:modelValue":R[8]||(R[8]=f=>A.value.dailytask_id=f),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",lm,[h(_(z),{modelValue:A.value.task_name,"onUpdate:modelValue":R[9]||(R[9]=f=>A.value.task_name=f),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),nm]),_:1})])])])])])]),e("div",dm,[e("div",im,[e("div",cm,[rm,e("div",um,[e("div",_m,[e("div",mm,[e("div",pm,[h(_(z),{modelValue:y.remarks,"onUpdate:modelValue":R[10]||(R[10]=f=>y.remarks=f),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",hm,[e("button",{onClick:R[11]||(R[11]=se(f=>W(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),vm])])])]),e("div",bm,[e("div",fm,[e("div",$m,[ym,e("div",gm,[e("button",{onClick:R[12]||(R[12]=se((...f)=>w.deleteUser&&w.deleteUser(...f),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),km])])])])],64))}};var xm=fe(wm,[["__scopeId","data-v-a215d374"]]);const Cm={class:"text-center"},Dm={key:0},Sm={class:"text-center"},Vm={key:0},Mm={class:"text-center"},Um={key:0,class:"bg-success text-center"},Am={key:1,class:"bg-danger text-center"},Pm={key:2,class:"text-center"},qm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(s){return me(),ue(),(v,m)=>(a(),l("tr",null,[e("td",null,t(_(de)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",Cm,[s.item.task_lists_count!==0?(a(),l("span",Dm,t(s.item.task_lists_count),1)):M("",!0)]),e("td",Sm,[s.item.completed_task_count!==0?(a(),l("span",Vm,t(s.item.completed_task_count),1)):M("",!0)]),e("td",Mm,[e("span",null,t(s.item.remarks),1)]),s.item.status==="HIT"?(a(),l("td",Um,t(s.item.status),1)):s.item.status==="MISS"?(a(),l("td",Am,t(s.item.status),1)):s.item.status===null||s.item.status===""?(a(),l("td",Pm,t(s.item.status===null||s.item.status===""?"On Going!":""),1)):M("",!0),e("td",{class:P({"bg-danger":s.item.percentage_completed>=0&&s.item.percentage_completed<=59,"bg-orange":s.item.percentage_completed>60&&s.item.percentage_completed<=90,"bg-success":s.item.percentage_completed===100,"text-center":!0})},t(s.item.percentage_completed+"%"),3)]))}};const ke=s=>(ye("data-v-e2739d90"),s=s(),ge(),s),Tm={class:"content-header"},Rm={class:"container-fluid"},Im={class:"col-12"},Lm={class:"card",id:"captureVSCContainer"},Em={class:"card-header"},Fm={class:"card-title"},jm={class:"card-tools"},Ym={class:"card-body"},Nm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),Bm=[Nm],Om={key:1,class:"row"},Hm={class:"inner"},zm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Jm=["src"],Gm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Qm={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Wm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Km={style:{"text-align":"left"}},Xm={key:0},Zm=ke(()=>e("span",{class:"text-light badge"},"Todos",-1)),ep={class:"list-group-item"},tp={style:{display:"flex","align-items":"left"}},sp={class:"ml-1"},ap={class:"ml-1"},op={class:"float-right"},lp={id:"captureHitRateContainer",class:"card"},np={class:"card-header"},dp={class:"card-title"},ip={class:"card-body"},cp={class:"content"},rp={class:"container-fluid"},up=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),_p=[up],mp={class:"dispatch-table"},pp={class:"table-responsive"},hp={class:"table table-bordered table-hover table-sm"},vp=ke(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),bp=ke(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),fp={class:"text-center"},$p={class:"text-center"},yp=ke(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),gp=ke(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),kp=["item"],wp={class:"list-field"},xp=ke(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Cp={class:"list-field"},Dp=ke(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Sp={key:0},Vp={class:"list-field"},Mp=ke(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Up={key:0},Ap={class:"list-field"},Pp=ke(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),qp={class:"list-field"},Tp=ke(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),Rp={class:"list-field"},Ip=ke(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),Lp={class:"float-right"},Ep={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Fp={class:"modal-dialog modal-sm",role:"document"},jp={class:"modal-content"},Yp=ke(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Np={class:"modal-body"},Bp={class:"fromtocenter"},Op=ke(()=>e("label",{for:"fromDate"},"From:",-1)),Hp=ke(()=>e("label",{for:"toDate"},"To:",-1)),zp=ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Jp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gp={class:"modal-dialog modal-sm",role:"document"},Qp={class:"modal-content"},Wp=ke(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Kp={class:"modal-body"},Xp={class:"container"},Zp={class:"row"},eh=["onClick"],th=ke(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),sh={__name:"MyVsc",setup(s){const v=`${ve().name}`,m=ue(),o=i(!1),c=i(0),n=i(0),u=i(0),p=i([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),g=i((()=>{const y={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",y)})()),b=()=>{const y=document.getElementById("captureVSCContainer");Ke(y).then(N=>{const A=N.toDataURL(),G=document.createElement("a");G.href=A,G.download=`${m.user.first_name+" "+m.user.last_name} - ${v}.png`,G.click()})},S=()=>{const y=document.getElementById("captureHitRateContainer");Ke(y).then(N=>{const A=N.toDataURL(),G=document.createElement("a");G.href=A,G.download=`${m.user.first_name+" "+m.user.last_name} - My HIT RATE.png`,G.click()})};i(null),i("today");const r=i({data:[]}),C=i({data:[]}),B=()=>{o.value=!0,axios.get("/api/myvsc").then(y=>{o.value=!1,r.value=y.data.dailyTasks,C.value=y.data.TaskList,c.value=y.data.totaltasklist,n.value=y.data.totalcomplettask,u.value=y.data.totalpercentcomplete})},j=()=>{$("#FormModalfilterDate").modal("show")},E=i({start_date:"",end_date:""}),Q=i(""),U=i("");he([Q],()=>{const y=new Date(Q.value),N=y.getFullYear(),A=String(y.getMonth()+1).padStart(2,"0"),G=String(y.getDate()).padStart(2,"0");E.value.start_date=`${N}-${A}-${G}`}),he([U],()=>{const y=new Date(U.value),N=y.getFullYear(),A=String(y.getMonth()+1).padStart(2,"0"),G=String(y.getDate()).padStart(2,"0");E.value.end_date=`${N}-${A}-${G}`});const L=()=>{o.value=!0,axios.get("/api/filter-vsc",{params:{start_date:E.value.start_date,end_date:E.value.end_date}}).then(y=>{o.value=!1,r.value=y.data.dailyTasks,C.value=y.data.TaskList}).catch(y=>{console.error(y)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},J=()=>{$("#FormModalPickerThemes").modal("show")},x=y=>{if(y){const N=m.user.id;axios.post("/api/changethemes",{userid:N,background:y.background,active_background:y.active_background,font_background:y.font_background}).then(A=>{$("#FormModalPickerThemes").modal("hide"),o.value=!0,axios.get("/api/myvsc").then(G=>{o.value=!1,r.value=G.data.dailyTasks,C.value=G.data.TaskList})}).catch(A=>{console.error(A)})}else console.error("Invalid item:",y)};return _e(()=>{B(),document.title=`SLI-DTS - ${v}`}),(y,N)=>(a(),l(O,null,[e("div",Tm,[e("div",Rm,[e("div",Im,[e("div",Lm,[e("div",Em,[e("div",Fm,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - "+t(v),1)]),e("div",jm,[e("i",{onClick:N[0]||(N[0]=A=>J()),class:"fas fa-palette"})])]),e("div",Ym,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-sm btn-success"},Bm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:j})])]),o.value?(a(),re(qe,{key:0})):(a(),l("div",Om,[(a(!0),l(O,null,ee(r.value,A=>(a(),l("div",{class:"col-lg-3 col-6",key:A.id},[e("div",{class:"small-box",style:lt("background-color: "+(_(de)(A.taskdate).format("MMMM D, YYYY")===g.value?A.active_background==""?"#72461F":A.active_background:A.background==""?"#B98D65":A.background)+";")},[e("div",Hm,[e("div",zm,[q(t(_(de)(A.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Jm)]),e("div",Gm,t(_(de)(A.taskdate).format("MMMM D, YYYY")),1),A.tasktype!==6?(a(),l("div",Qm,t(A.site_name),1)):M("",!0),A.tasktype===6?(a(),l("div",Wm," Holiday ")):M("",!0),e("div",Km,[A.task_lists&&A.task_lists.length>0?(a(),l("div",Xm,[Zm,(a(!0),l(O,null,ee(A.task_lists,G=>(a(),l("ul",{class:"list-group list-group-flush",key:G.id},[e("li",ep,[e("div",tp,[e("div",sp,[e("i",{class:P(G.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",ap,t(G.task_name),1)])])]))),128))])):M("",!0)])])],4)]))),128))])),e("div",op,t(g.value),1)])]),e("div",lp,[e("div",np,[e("div",dp,[e("h5",null,t(_(m).user.first_name+" "+_(m).user.last_name)+" - My HIT RATE ",1)])]),e("div",ip,[e("div",cp,[e("div",rp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:S,type:"button",class:"mb-2 btn btn-sm btn-success"},_p)])]),e("div",mp,[e("div",pp,[e("table",hp,[vp,e("tbody",null,[(a(!0),l(O,null,ee(C.value,A=>(a(),re(qm,{key:A.id,item:A},null,8,["item"]))),128)),e("tr",null,[bp,e("td",fp,[e("strong",null,t(c.value),1)]),e("td",$p,[e("strong",null,t(n.value),1)]),yp,gp,e("td",{class:P({"bg-danger":u.value>=0&&u.value<=59,"bg-orange":u.value>60&&u.value<=90,"bg-success":u.value===100,"text-center":!0})},[e("strong",null,t(u.value.toFixed(2)+"%"),1)],2)])])])])]),(a(!0),l(O,null,ee(C.value,A=>(a(),l("div",{class:"dispatch-list",key:A.id,item:A},[e("div",{class:P([{"callout callout-success":A.remarks==="HIT","callout callout-danger":A.remarks==="MISS",callout:A.remarks===null}])},[e("div",wp,[xp,e("span",null,t(_(de)(A.taskdate).format("MMMM D, YYYY")),1)]),e("div",Cp,[Dp,A.task_lists_count!==0?(a(),l("span",Sp,t(A.task_lists_count),1)):M("",!0)]),e("div",Vp,[Mp,A.completed_task_count!==0?(a(),l("span",Up,t(A.completed_task_count),1)):M("",!0)]),e("div",Ap,[Pp,e("span",null,t(A.remarks),1)]),e("div",qp,[Tp,e("span",{class:P(["badge",A.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(A.status),1)],2)]),e("div",Rp,[Ip,e("span",{class:P(["badge",{"bg-danger":A.percentage_completed>=0&&A.percentage_completed<=59},{"bg-orange":A.percentage_completed>60&&A.percentage_completed<=90},{"bg-success":A.percentage_completed===100}])},t(A.percentage_completed+"%"),3)])],2)],8,kp))),128))])]),e("div",Lp,t(g.value),1)])])])])]),e("div",Ep,[e("div",Fp,[e("div",jp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(v)+" Summary Report")]),Yp]),e("div",Np,[e("div",Bp,[e("div",null,[Op,h(_(Ee),{modelValue:Q.value,"onUpdate:modelValue":N[1]||(N[1]=A=>Q.value=A)},null,8,["modelValue"])]),e("div",null,[Hp,h(_(Ee),{modelValue:U.value,"onUpdate:modelValue":N[2]||(N[2]=A=>U.value=A)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[zp,e("button",{onClick:L,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Jp,[e("div",Gp,[e("div",Qp,[Wp,e("div",Kp,[e("div",Xp,[e("div",Zp,[(a(!0),l(O,null,ee(p.value,A=>(a(),l("div",{class:"col-md-4",key:A.background},[e("div",{class:"box",onClick:G=>x(A)},[e("div",{class:"column",style:lt({"background-color":A.background})}," \xA0 ",4),e("div",{class:"column",style:lt({"background-color":A.active_background})}," \xA0 ",4)],8,eh)]))),128))])])]),th])])])],64))}};var ah=fe(sh,[["__scopeId","data-v-e2739d90"]]);const oh={class:"text-center"},lh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(s){return me(),ue(),(v,m)=>(a(),l("tr",null,[e("td",null,t(s.item.sitename),1),e("td",null,t(_(de)(s.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(s.item.startdate),1),e("td",null,t(s.item.enddate),1),e("td",null,t(s.item.tasktype.listtask),1),e("td",oh,[e("span",{class:P(["badge",s.item.status==="HIT"?"bg-success":"bg-danger"])},t(s.item.status),3)]),e("td",null,t(s.item.remarks),1)]))}};var nh=fe(lh,[["__scopeId","data-v-b058f1b2"]]);const Ae=s=>(ye("data-v-00887440"),s=s(),ge(),s),dh={class:"content"},ih={class:"container-fluid"},ch={class:"card",id:"capturePrioContainer"},rh={class:"card-header"},uh={class:"card-title"},_h={class:"card-body"},mh={key:1,class:"content"},ph={class:"container-fluid"},hh=Ae(()=>e("i",{class:"fa fa-camera"},null,-1)),vh=[hh],bh={class:"dispatch-table"},fh={class:"table-responsive"},$h={class:"table table-bordered table-sm table-striped table-hover"},yh=Ae(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),gh={key:0},kh={key:1},wh=Ae(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),xh=[wh],Ch=["item","index"],Dh={class:"card"},Sh={class:"card-body"},Vh={class:"list-field"},Mh=Ae(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Uh={class:"list-field"},Ah=Ae(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),Ph={class:"list-field"},qh=Ae(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),Th={class:"list-field"},Rh=Ae(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),Ih={class:"list-field"},Lh=Ae(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),Eh={class:"list-field"},Fh=Ae(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),jh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yh={class:"modal-dialog modal-sm",role:"document"},Nh={class:"modal-content"},Bh=Ae(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Oh={class:"modal-body"},Hh={class:"fromtocenter"},zh=Ae(()=>e("label",{for:"fromDate"},"From:",-1)),Jh=Ae(()=>e("label",{for:"toDate"},"To:",-1)),Gh=Ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Qh={__name:"MyClosePrioList",setup(s){const v=`${ve().name}`,m=i(!1);me();const o=i({data:[]}),c=i(""),n=i(""),u=ue(),p=(S=1)=>{m.value=!0,T.get(`/api/mycloseprio?page=${S}`,{params:{query:b.value}}).then(r=>{m.value=!1,o.value=r.data})},d=()=>{const S=document.getElementById("capturePrioContainer");Ke(S).then(r=>{const C=r.toDataURL(),B=document.createElement("a");B.href=C,B.download="MY CLOSED PRIO.png",B.click()})},g=()=>{m.value=!0,T.get("/api/filter-closeprio",{params:{start_date:c.value,end_date:n.value}}).then(S=>{m.value=!1,o.value=S.data.dailyTasks}).catch(S=>{console.error(S)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=i(null);return he(b,Ue.exports.debounce(()=>{p()},300)),_e(()=>{p(),document.title=`SLI-DTS - ${v}`}),(S,r)=>{const C=be("font");return a(),l(O,null,[e("div",dh,[e("div",ih,[e("div",ch,[e("div",rh,[e("div",uh,[e("h5",null,t(_(u).user.first_name+" "+_(u).user.last_name)+" - My Closed Prio ",1)])]),e("div",_h,[m.value?(a(),re(qe,{key:0})):(a(),l("div",mh,[e("div",ph,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:d,type:"button",class:"mb-2 btn btn-sm btn-success"},vh)])]),e("div",null,[e("div",bh,[e("div",fh,[h(C,{size:"2"},{default:Z(()=>[e("table",$h,[yh,o.value.data.length>0?(a(),l("tbody",gh,[(a(!0),l(O,null,ee(o.value.data,(B,j)=>(a(),re(nh,{key:B.id,item:B,index:j},null,8,["item","index"]))),128))])):(a(),l("tbody",kh,xh))])]),_:1})])]),(a(!0),l(O,null,ee(o.value.data,(B,j)=>(a(),l("div",{class:"dispatch-list first-letter:shadow",key:B.id,item:B,index:j},[e("div",Dh,[e("div",Sh,[e("div",Vh,[Mh,e("span",null,t(B.sitename),1)]),e("div",Uh,[Ah,e("span",null,t(_(de)(B.taskdate).format("MMMM D, YYYY")),1)]),e("div",Ph,[qh,e("span",null,t(B.startdate),1)]),e("div",Th,[Rh,e("span",null,t(B.enddate),1)]),e("div",Ih,[Lh,e("span",null,t(B.tasktype.listtask),1)]),e("div",Eh,[Fh,e("span",{class:P(["badge",B.remarks==="HIT"?"bg-success":"bg-danger"])},t(B.remarks),3)])])])],8,Ch))),128))])])]))])]),h(_(Ie),{data:o.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",jh,[e("div",Yh,[e("div",Nh,[Bh,e("div",Oh,[e("div",Hh,[e("div",null,[zh,h(_(Ee),{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=B=>c.value=B)},null,8,["modelValue"])]),e("div",null,[Jh,h(_(Ee),{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=B=>n.value=B)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Gh,e("button",{onClick:g,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Wh=fe(Qh,[["__scopeId","data-v-00887440"]]);const Kh={class:"text-center"},Xh=e("i",{class:"fa fa-edit"},null,-1),Zh=[Xh],ev={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(s,{emit:v}){return me(),(m,o)=>(a(),l("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.user.first_name+" "+s.user.last_name),1),e("td",null,t(s.user.email),1),e("td",null,t(s.user.formatted_created_at),1),e("td",Kh,[e("a",{href:"#",onClick:o[0]||(o[0]=se(c=>m.$emit("editUser",s.user),["prevent"]))},Zh)])]))}},tv={class:"content"},sv={class:"container-fluid"},av={class:"card"},ov={class:"card-header"},lv=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),nv={class:"card-tools"},dv={class:"card-body"},iv={class:"table-responsive"},cv={class:"table table-bordered table-hover table-sm"},rv=e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Action")])],-1),uv={key:0},_v={key:1},mv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),pv=[mv],hv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vv={class:"modal-dialog modal-sm",role:"document"},bv={class:"modal-content"},fv={class:"modal-header"},$v={class:"modal-title",id:"staticBackdropLabel"},yv={key:0},gv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),kv={class:"modal-body"},wv={class:"table table-sm"},xv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Cv={colspan:"5"},Dv={class:"custom-control custom-checkbox"},Sv=["value","id"],Vv=["for"],Mv={key:0,class:"table table-sm"},Uv={class:"text-danger"},Av={class:"custom-control custom-checkbox"},Pv=["value","id"],qv=["for"],Tv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Rv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Iv={class:"modal-dialog",role:"document"},Lv={class:"modal-content"},Ev=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Fv={class:"modal-footer"},jv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Yv={__name:"UserMenuList",setup(s){const v=`${ve().name}`,m=me(),o=i({data:[]}),c=i(!1),n=i(),u=i(null),p=i(null),d=i(),g=i([]),b=(U=1)=>{T.get(`/api/users?page=${U}`,{params:{query:C.value}}).then(L=>{o.value=L.data,B.value=[],selectAll.value=!1})},S=U=>{T.get(`/web/usermenu/${U.id}`).then(L=>{d.value=L.data,g.value=[],d.value.forEach(J=>{J.hasAccess===1&&g.value.push(J.menu_id),J.submenus.forEach(x=>{x.hasAccess===1&&g.value.push(x.menu_id)})})}).catch(L=>{console.log(L)}),c.value=!0,u.value.resetForm(),$("#userFormModal").modal("show"),n.value={id:U.id,username:U.username,email:U.email,first_name:U.first_name,last_name:U.last_name},p.value=n.value.first_name+" "+n.value.last_name},r=()=>{const U={user_id:n.value.id,menu_id:g.value};console.log(U),T.post("/web/usermenu",U).then(L=>{m.success("User Menu Save successfully!")}).catch(L=>{setErrors(L.response.data.errors)})},C=i(null),B=i([]),j=U=>{const L=B.value.indexOf(U.id);L===-1?B.value.push(U.id):B.value.splice(L,1),console.log(B.value)},E=i(null),Q=U=>{E.value=U,$("#deleteUserModal").modal("show")};return he(C,Ue.exports.debounce(()=>{b()},300)),_e(()=>{b(),document.title=`SLI-DTS - ${v}`}),(U,L)=>{const J=be("font");return a(),l(O,null,[e("div",tv,[e("div",sv,[e("div",av,[e("div",ov,[lv,e("div",nv,[te(e("input",{type:"text","onUpdate:modelValue":L[0]||(L[0]=x=>C.value=x),class:"form-control",placeholder:"Search..."},null,512),[[ie,C.value]])])]),e("div",dv,[e("div",iv,[h(J,{size:"2"},{default:Z(()=>[e("table",cv,[rv,o.value.data.length>0?(a(),l("tbody",uv,[(a(!0),l(O,null,ee(o.value.data,(x,y)=>(a(),re(ev,{key:x.id,user:x,index:y,onEditUser:S,onConfirmUserDeletion:Q,onToggleSelection:j,"select-all":U.selectAll},null,8,["user","index","select-all"]))),128))])):(a(),l("tbody",_v,pv))])]),_:1})])])]),h(_(Ie),{data:o.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",hv,[e("div",vv,[e("div",bv,[e("div",fv,[e("h5",$v,[c.value?(a(),l("span",yv,"User Menu for "+t(p.value),1)):M("",!0)]),gv]),h(_(Pe),{ref_key:"form",ref:u,onSubmit:r,"initial-values":n.value},{default:Z(()=>[e("div",kv,[e("table",wv,[xv,(a(!0),l(O,null,ee(d.value,x=>(a(),l("tr",{key:x.menu_id},[e("td",Cv,[e("div",Dv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":L[1]||(L[1]=y=>g.value=y),value:x.menu_id,id:"menu_id_"+x.menu_id},null,8,Sv),[[Le,g.value]]),e("label",{for:"menu_id_"+x.menu_id,class:"custom-control-label"},t(x.menu_title),9,Vv)]),x.submenus&&x.submenus.length>0?(a(),l("table",Mv,[(a(!0),l(O,null,ee(x.submenus,y=>(a(),l("tr",{key:y.id},[e("td",Uv,[e("div",Av,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":L[2]||(L[2]=N=>g.value=N),value:y.menu_id,id:"menu_id_"+y.menu_id},null,8,Pv),[[Le,g.value]]),e("label",{for:"menu_id_"+y.menu_id,class:"custom-control-label"},t(y.menu_title),9,qv)])])]))),128))])):M("",!0)])]))),128))])]),Tv]),_:1},8,["initial-values"])])])]),e("div",Rv,[e("div",Iv,[e("div",Lv,[Ev,e("div",Fv,[jv,e("button",{onClick:L[3]||(L[3]=se((...x)=>U.deleteUser&&U.deleteUser(...x),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const vt=s=>(ye("data-v-a1892af4"),s=s(),ge(),s),Nv=["checked"],Bv=["innerHTML"],Ov={style:{"text-align":"center"}},Hv={class:"text-center"},zv=vt(()=>e("i",{class:"fa fa-edit"},null,-1)),Jv=[zv],Gv=vt(()=>e("i",{class:"fa fa-trash"},null,-1)),Qv=[Gv],Wv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(s,{emit:v}){me(),ue();const m=s,o=v,c=()=>{o("toggleSelection",m.item)};return(n,u)=>(a(),l("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:c},null,40,Nv)]),e("td",null,t(s.index+1),1),e("td",null,t(s.item.menu_title),1),e("td",null,t(s.item.parent_title),1),e("td",null,t(s.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${s.item.menu_icon}'></i>`},null,8,Bv),e("td",null,t(s.item.sort_order),1),e("td",Ov,[e("i",{class:P(s.item.is_active===!0?"fas fa-check":"far fa-circle")},null,2)]),e("td",null,t(s.item.created_at),1),e("td",Hv,[e("button",{class:"btn btn-sm bg-primary",onClick:u[0]||(u[0]=se(p=>n.$emit("editMenu",s.item),["prevent"]))},Jv),q("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:u[1]||(u[1]=se(p=>n.$emit("confirmDeletion",s.item.menu_id),["prevent"]))},Qv)])]))}};var Kv=fe(Wv,[["__scopeId","data-v-a1892af4"]]);const Xv=["type","name","value"],Zv=e("span",{class:"check"},null,-1),eb={class:"pl-2"},tb={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,o=v,c=Se({get:()=>m.modelValue,set:u=>{o("update:modelValue",u)}}),n=Se(()=>m.type==="radio"?"radio":"checkbox");return(u,p)=>(a(),l("label",{class:P([s.type,"mr-6 mb-3 last:mr-0"])},[te(e("input",{"onUpdate:modelValue":p[0]||(p[0]=d=>c.value=d),type:n.value,name:s.name,value:s.inputValue},null,8,Xv),[[it,c.value]]),Zv,e("span",eb,t(s.label),1)],2))}},sb={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:s=>["checkbox","radio","switch"].includes(s)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,o=v,c=Se({get:()=>m.modelValue,set:n=>{o("update:modelValue",n)}});return(n,u)=>(a(),l("div",{class:P(["flex justify-start flex-wrap -mb-3",{"flex-col":s.isColumn}])},[(a(!0),l(O,null,ee(s.options,(p,d)=>(a(),re(tb,{key:d,modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=g=>c.value=g),type:s.type,name:s.name,"input-value":d,label:p,class:P(s.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},ab={class:"content"},ob={class:"container-fluid"},lb={class:"d-flex justify-content-between"},nb={class:"d-flex"},db=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ib={key:0},cb=e("i",{class:"fa fa-trash mr-1"},null,-1),rb={class:"ml-2"},ub={class:"card"},_b={class:"card-body"},mb={class:"table-responsive"},pb={class:"table table-bordered table-sm"},hb=e("th",{style:{width:"10px"}},"#",-1),vb=e("th",null,"Title",-1),bb=e("th",null,"Parent Menu",-1),fb=e("th",null,"Route",-1),$b=e("th",null,"Icon",-1),yb=e("th",null,"Sort",-1),gb=e("th",null,"Active",-1),kb=e("th",null,"Date",-1),wb=e("th",null,"Action",-1),xb={key:0},Cb={key:1},Db=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Sb=[Db],Vb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mb={class:"modal-dialog modal-sm",role:"document"},Ub={class:"modal-content"},Ab={class:"modal-header"},Pb={class:"modal-title",id:"staticBackdropLabel"},qb={key:0},Tb={key:1},Rb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ib={class:"modal-body"},Lb={class:"col-md-12"},Eb={class:"row"},Fb={class:"col-12"},jb={class:"form-group"},Yb=e("label",{for:"user"},"Menu Title",-1),Nb={class:"invalid-feedback"},Bb={class:"form-group"},Ob=e("label",{for:"department"},"Parent Menu",-1),Hb=e("option",{value:"0"},"None",-1),zb=["value"],Jb={class:"form-group"},Gb=e("label",{for:"warehouse"},"Icon",-1),Qb={class:"invalid-feedback"},Wb={class:"form-group"},Kb=e("label",{for:"user"},"Route",-1),Xb={class:"invalid-feedback"},Zb={class:"form-group"},e1=e("label",{for:"user"},"Sort",-1),t1={class:"invalid-feedback"},s1={class:"form-group"},a1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),o1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},l1={class:"modal-dialog",role:"document"},n1={class:"modal-content"},d1=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),i1={class:"modal-footer"},c1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),r1={__name:"MenuList",setup(s){const v=`${ve().name}`,m=me(),o=i({data:[]}),c=i({data:[]}),n=i(!1),u=i(!1);i();const p=i(!0),d=Me({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),g=ue();i(null);const b=i(),S=(X=1)=>{n.value=!0,T.get(`/web/menulist?page=${X}`,{params:{query:U.value}}).then(Y=>{n.value=!1,o.value=Y.data,L.value=[],G.value=!1})},r=()=>{T.get("/web/GetParentId").then(X=>{c.value=X.data}).catch(X=>{console.error(X)})};Ve({menu_title:H().required(),parent_id:H().required(),sort_order:H().required(),menu_icon:H().required(),menu_route:H().required()}),Ve({menu_title:H().required(),parent_id:H().required(),sort_order:H().required(),menu_icon:H().required(),menu_route:H().required()});const C=({resetForm:X,setErrors:Y})=>{T.post("/web/menulist",{menu_title:d.menu_title,parent_id:d.parent_id,menu_icon:d.menu_icon,menu_route:d.menu_route,sort_order:d.sort_order,is_active:d.is_active}).then(V=>{o.value.data.unshift(V.data),$("#FormModal").modal("hide"),X(),m.success("User created successfully!")}).catch(V=>{V.response.data.errors&&Y(V.response.data.errors)})},B=()=>{u.value=!1,$("#FormModal").modal("show")},j=X=>{u.value=!0,d.menu_id=X.menu_id,d.menu_title=X.menu_title,d.parent_id=X.parent_id,d.menu_icon=X.menu_icon,d.menu_route=X.menu_route,d.sort_order=X.sort_order,d.is_active===1?p.value=!0:p.value=!1,d.is_active=X.is_active,$("#FormModal").modal("show"),b.value=X.parent_id},E=({setErrors:X})=>{T.post("/web/menulist",d).then(Y=>{S(),$("#FormModal").modal("hide"),m.success("successfully Updated!")}).catch(Y=>{X(Y.response.data.errors),console.log(Y)})},Q=(X,Y)=>{u.value?E(X):C(X)},U=i(null),L=i([]),J=X=>{const Y=L.value.indexOf(X.id);Y===-1?L.value.push(X.id):L.value.splice(Y,1),console.log(L.value)},x=i(null),y=X=>{x.value=X,$("#deleteClientModal").modal("show")},N=()=>{T.delete(`/web/menu/${x.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Menu deleted successfully!"),o.value.data=o.value.data.filter(X=>X.menu_id!==x.value)})},A=()=>{T.delete("menulist",{data:{ids:L.value}}).then(X=>{o.value.data=o.value.data.filter(Y=>!L.value.includes(Y.id)),L.value=[],G.value=!1,m.success(X.data.message)})},G=i(!1),pe=()=>{G.value?L.value=o.value.data.map(X=>X.id):L.value=[],console.log(L.value)};return he([p],X=>{d.is_active=X?1:0}),he(U,Ue.exports.debounce(()=>{S()},300)),_e(()=>{S(),r(),document.title=`SLI-DTS - ${v}`}),(X,Y)=>{const V=be("font");return a(),l(O,null,[e("div",ab,[e("div",ob,[e("div",lb,[e("div",nb,[e("button",{onClick:B,type:"button",class:"mb-2 btn btn-primary"},[db,q(" Menu ")]),L.value.length>0?(a(),l("div",ib,[e("button",{onClick:A,type:"button",class:"ml-2 mb-2 btn btn-danger"},[cb,q(" Delete Selected ")]),e("span",rb,"Selected "+t(L.value.length)+" Menu",1)])):M("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":Y[0]||(Y[0]=k=>U.value=k),class:"form-control",placeholder:"Search..."},null,512),[[ie,U.value]])])]),e("div",ub,[e("div",_b,[n.value?(a(),re(qe,{key:0})):M("",!0),e("div",mb,[h(V,{size:"2"},{default:Z(()=>[e("table",pb,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":Y[1]||(Y[1]=k=>G.value=k),onChange:pe},null,544),[[Le,G.value]])]),hb,vb,bb,fb,$b,yb,gb,kb,wb])]),o.value.data.length>0?(a(),l("tbody",xb,[(a(!0),l(O,null,ee(o.value.data,(k,D)=>(a(),re(Kv,{key:k.id,item:k,index:D,onEditMenu:j,onConfirmDeletion:y,onToggleSelection:J,"select-all":G.value},null,8,["item","index","select-all"]))),128))])):(a(),l("tbody",Cb,Sb))])]),_:1})])])]),h(_(Ie),{data:o.value,onPaginationChangePage:S},null,8,["data"])])]),e("div",Vb,[e("div",Mb,[e("div",Ub,[e("div",Ab,[e("h5",Pb,[u.value?(a(),l("span",qb,"Edit Menu")):(a(),l("span",Tb,"Add Menu"))]),Rb]),h(_(Pe),{onSubmit:Q},{default:Z(({errors:k})=>[e("div",Ib,[e("div",Lb,[e("div",Eb,[e("div",Fb,[h(_(z),{type:"hidden",name:"created_by",id:"created_by",modelValue:_(g).user.id,"onUpdate:modelValue":Y[2]||(Y[2]=D=>_(g).user.id=D)},null,8,["modelValue"]),e("div",jb,[Yb,h(_(z),{name:"menu_title",type:"text",class:P(["form-control",{"is-invalid":k.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:d.menu_title,"onUpdate:modelValue":Y[3]||(Y[3]=D=>d.menu_title=D)},null,8,["class","modelValue"]),e("span",Nb,t(k.menu_title),1)]),e("div",Bb,[Ob,te(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":Y[4]||(Y[4]=D=>d.parent_id=D)},[Hb,(a(!0),l(O,null,ee(c.value,D=>(a(),l("option",{key:D.menu_id,value:D.menu_id},t(D.menu_title),9,zb))),128))],512),[[Re,d.parent_id]])]),e("div",Jb,[Gb,h(_(z),{name:"menu_icon",type:"text",class:P(["form-control",{"is-invalid":k.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:d.menu_icon,"onUpdate:modelValue":Y[5]||(Y[5]=D=>d.menu_icon=D)},null,8,["class","modelValue"]),e("span",Qb,t(k.menu_icon),1)]),e("div",Wb,[Kb,h(_(z),{name:"menu_route",type:"text",class:P(["form-control",{"is-invalid":k.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:d.menu_route,"onUpdate:modelValue":Y[6]||(Y[6]=D=>d.menu_route=D)},null,8,["class","modelValue"]),e("span",Xb,t(k.menu_route),1)]),e("div",Zb,[e1,h(_(z),{name:"sort_order",type:"text",class:P(["form-control",{"is-invalid":k.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:d.sort_order,"onUpdate:modelValue":Y[7]||(Y[7]=D=>d.sort_order=D)},null,8,["class","modelValue"]),e("span",t1,t(k.sort_order),1)]),e("div",s1,[h(sb,{modelValue:d.is_active,"onUpdate:modelValue":Y[8]||(Y[8]=D=>d.is_active=D),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),a1]),_:1})])])]),e("div",o1,[e("div",l1,[e("div",n1,[d1,e("div",i1,[c1,e("button",{onClick:se(N,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}},u1={class:"error-page"},_1=De('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),m1=[_1],p1="Page Not Found",bt={__name:"404",setup(s){return _e(()=>{document.title=p1}),(v,m)=>(a(),l("div",u1,m1))}};const ce=s=>(ye("data-v-5c8db172"),s=s(),ge(),s),h1={id:"exportPDF"},v1={class:"container"},b1=ce(()=>e("br",null,null,-1)),f1={class:"header"},$1=["src"],y1=["src"],g1={class:"header"},k1={class:"header-justify-space-between"},w1=ce(()=>e("br",null,null,-1)),x1=ce(()=>e("p",null,null,-1)),C1={key:0},D1=ce(()=>e("strong",null,null,-1)),S1=ce(()=>e("br",null,null,-1)),V1=ce(()=>e("br",null,null,-1)),M1=ce(()=>e("p",null,null,-1)),U1=ce(()=>e("strong",null,"Unit details",-1)),A1={class:"content"},P1={class:"header-justify-space-between"},q1=ce(()=>e("span",null,"Brand:",-1)),T1=ce(()=>e("br",null,null,-1)),R1=ce(()=>e("span",null,"Model:",-1)),I1=ce(()=>e("br",null,null,-1)),L1=ce(()=>e("div",null,null,-1)),E1=ce(()=>e("span",null,"Serial #:",-1)),F1=ce(()=>e("br",null,null,-1)),j1=ce(()=>e("span",null,"Asset Tag:",-1)),Y1=ce(()=>e("br",null,null,-1)),N1=ce(()=>e("div",null,null,-1)),B1=ce(()=>e("strong",null,"Reported problem",-1)),O1={class:"content"},H1=ce(()=>e("strong",null,"Assessment conducted",-1)),z1={class:"content"},J1=ce(()=>e("strong",null,"Recommendation",-1)),G1={class:"content"},Q1={class:"header-justify-space-between"},W1=ce(()=>e("strong",null,"Evaluated by:",-1)),K1=ce(()=>e("br",null,null,-1)),X1={class:"botoom-line"},Z1=ce(()=>e("br",null,null,-1)),ef=ce(()=>e("p",null,null,-1)),tf=ce(()=>e("strong",null,"Noted by:",-1)),sf=ce(()=>e("br",null,null,-1)),af={class:"botoom-line"},of=ce(()=>e("br",null,null,-1)),lf=ce(()=>e("br",null,null,-1)),nf=ce(()=>e("p",null,null,-1)),df={key:0},cf={key:1},rf={key:0,class:"fab-container"},uf=ce(()=>e("i",{class:"fas fa-download"},null,-1)),_f=[uf],mf={__name:"TechRecommApproved",setup(s){const v=`${ve().params.id}`,m=()=>{const n=document.getElementById("exportPDF");Xe().from(n).save(`${v}.pdf`)},o=Me({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),c=()=>{T.get(`/api/tech-recommendations/${ve().params.id}`).then(n=>{o.id=n.data.id,o.recommnum=n.data.recommnum,o.branch=n.data.branch,o.company=n.data.company,o.department=n.data.department,o.warehouse=n.data.warehouse,o.user=n.data.user,o.problem=n.data.problem,o.brand=n.data.brand,o.model=n.data.model,o.assettag=n.data.assettag,o.serialnum=n.data.serialnum,o.status=n.data.status,o.assconducted=n.data.assconducted,o.recommendation=n.data.recommendation,o.createdby=n.data.createdby.cfull_name,o.updatedby=n.data.updatedby.ufull_name,o.created_at=de(n.data.created_at).format("MMMM D, YYYY"),o.updated_at=de(n.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),o.created_position=n.data.createdby.cposition,o.updated_position=n.data.updatedby.uposition}).catch(n=>{actions.setErrors(n.response.data.errors)})};return _e(()=>{c(),document.title=v}),(n,u)=>(a(),l(O,null,[e("div",h1,[e("div",v1,[b1,e("div",f1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,$1),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,y1)]),e("div",g1,[e("span",null,[q("Recommendation No: "),e("strong",null,t(o.recommnum),1)]),e("span",null,[q("Date Checked: "),e("strong",null,t(o.created_at),1)])]),e("div",k1,[e("div",null,[e("span",null,[q("Company: "),e("strong",null,t(o.company),1)]),w1,e("span",null,[q("Branch: "),e("strong",null,t(o.branch),1)])]),x1,e("div",null,[o.warehouse==""?(a(),l("span",C1,[q("Warehouse: "),D1,q(t(o.warehouse),1)])):M("",!0),S1,e("span",null,[q("User: "),e("strong",null,t(o.user),1)]),V1,e("span",null,[q("Department: "),e("strong",null,t(o.department),1)])]),M1]),U1,e("div",A1,[e("div",P1,[e("div",null,[q1,e("strong",null,t(o.brand),1),T1,R1,e("strong",null,t(o.model),1),I1]),L1,e("div",null,[E1,e("strong",null,t(o.serialnum),1),F1,j1,e("strong",null,t(o.assettag),1),Y1]),N1])]),B1,e("div",O1,[e("p",null,t(o.problem),1)]),H1,e("div",z1,[e("p",null,t(o.assconducted),1)]),J1,e("div",G1,[e("p",null,t(o.recommendation),1)]),e("div",Q1,[e("div",null,[W1,K1,e("span",X1,t(o.createdby),1),Z1,e("span",null,t(o.created_position),1)]),ef,e("div",null,[tf,sf,e("span",af,t(o.updatedby),1),of,e("span",null,t(o.updated_position),1),lf]),nf]),o.status===2?(a(),l("span",df,"Approved date:("+t(o.updated_at)+")",1)):(a(),l("span",cf,"Pending"))])]),o.status===2?(a(),l("div",rf,[e("div",{class:"button iconbutton bg-success",onClick:u[0]||(u[0]=p=>m())},_f)])):M("",!0)],64))}};var ft=fe(mf,[["__scopeId","data-v-5c8db172"]]);const pf={},hf={class:"card mx-auto",style:{"max-width":"600px"}},vf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),bf={class:"card-body"},ff={class:"list-unstyled"};function $f(s,v){return a(),l("div",hf,[vf,e("div",bf,[e("ul",ff,[e("li",{class:"nav-item dropdown",onClick:v[0]||(v[0]=(...m)=>s.fetchNotifications&&s.fetchNotifications(...m))})])])])}var yf=fe(pf,[["render",$f]]);const gf=["checked"],kf={class:"text-center"},wf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(s,{emit:v}){me(),ue();const m=s,o=v,c=()=>{o("toggleSelection",m.item)};return(n,u)=>(a(),l("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:s.selectAll,onChange:c},null,40,gf)]),e("td",null,t(s.index+1),1),e("td",{onClick:u[0]||(u[0]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.site_name),1),e("td",{onClick:u[1]||(u[1]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_name),1),e("td",{onClick:u[2]||(u[2]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.asset_type),1),e("td",{onClick:u[3]||(u[3]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.serial),1),e("td",{onClick:u[4]||(u[4]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.date_acquired),1),e("td",{onClick:u[5]||(u[5]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.man_supplier),1),e("td",{onClick:u[6]||(u[6]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.unit),1),e("td",{onClick:u[7]||(u[7]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:u[8]||(u[8]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t("\u20B1"+s.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:u[9]||(u[9]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.created_by),1),e("td",{onClick:u[10]||(u[10]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.created_at),1),e("td",{onClick:u[11]||(u[11]=se(p=>n.$emit("viewData",s.item),["prevent"]))},t(s.item.updated_by),1),e("td",kf,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:u[12]||(u[12]=se(p=>n.$emit("editData",s.item),["prevent"]))}),q(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:u[13]||(u[13]=se(p=>n.$emit("confirmDeletion",s.item.id),["prevent"]))})])])]))}};var xf=fe(wf,[["__scopeId","data-v-78d9436c"]]);const Cf={class:"content"},Df={class:"container-fluid"},Sf={class:"d-flex justify-content-between"},Vf={class:"d-flex"},Mf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Uf={key:0},Af=e("i",{class:"fa fa-trash mr-1"},null,-1),Pf={class:"ml-2"},qf={class:"card"},Tf={class:"card-body"},Rf={class:"table-responsive"},If={class:"table table-bordered table-sm table-striped hover"},Lf=e("th",{style:{width:"10px"}},"#",-1),Ef=e("th",null,"Site",-1),Ff=e("th",null,"Asset",-1),jf=e("th",null,"Asset type",-1),Yf=e("th",null,"Serial",-1),Nf=e("th",null,"Date Aquired",-1),Bf=e("th",null,"Supplier",-1),Of=e("th",null,"Unit",-1),Hf=e("th",null,"Purchase Cost",-1),zf=e("th",null,"Unit Value",-1),Jf=e("th",null,"Createdby",-1),Gf=e("th",null,"CreatedAt",-1),Qf=e("th",null,"Updatedby",-1),Wf=e("th",null,"Action",-1),Kf={key:0},Xf={key:1},Zf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),e$=[Zf],t$={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},s$={class:"modal-dialog modal-lg",role:"document"},a$={class:"modal-content"},o$={class:"modal-header"},l$={class:"modal-title",id:"staticBackdropLabel"},n$={key:0},d$={key:1},i$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),c$={class:"modal-body"},r$={class:"col-md-12"},u$={class:"row"},_$={class:"col-6"},m$={class:"form-group"},p$=e("label",{for:"branch"},"Site",-1),h$=e("option",{value:"",disabled:""}," Select Site ",-1),v$=["value"],b$={class:"invalid-feedback"},f$={class:"form-group"},$$=e("label",{for:"department"},"Asset Name",-1),y$={class:"invalid-feedback"},g$={class:"form-group"},k$=e("label",{for:"asset_type"},"Asset Type",-1),w$={class:"invalid-feedback"},x$={class:"form-group"},C$=e("label",{for:"serial"},"Serial #:",-1),D$={class:"invalid-feedback"},S$={class:"col-6"},V$={class:"form-group"},M$=e("label",{for:"date_acquired"},"Date Acquired",-1),U$={class:"invalid-feedback"},A$={class:"form-group"},P$=e("label",{for:"man_supplier"},"Brand",-1),q$={class:"invalid-feedback"},T$={class:"form-group"},R$=e("label",{for:"unit"},"Unit",-1),I$={class:"invalid-feedback"},L$={class:"row"},E$={class:"col-6"},F$={class:"form-group"},j$=e("label",{for:"paccountable"},"Person Accountable",-1),Y$={class:"invalid-feedback"},N$={class:"col-6"},B$={class:"form-group"},O$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),H$={class:"invalid-feedback"},z$={class:"row"},J$={class:"col-6"},G$={class:"form-group"},Q$=e("label",{for:"cucodition"},"Current Condition",-1),W$=e("option",{value:"",disabled:""}," Select Condition ",-1),K$=e("option",{value:"Fair"}," FAIR ",-1),X$=e("option",{value:"Good"}," GOOD ",-1),Z$=e("option",{value:"Damange"}," DAMANGE ",-1),ey={class:"invalid-feedback"},ty={class:"form-group"},sy=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),ay={class:"col-6"},oy={class:"form-group"},ly=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),ny={class:"form-group"},dy=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),iy={class:"row"},cy={class:"col-6"},ry={class:"form-group"},uy=e("label",{for:"operationhours"},"Operating Hours",-1),_y={class:"col-6"},my={class:"form-group"},py=e("label",{for:"notes"},"Notes",-1),hy={class:"invalid-feedback"},vy={class:"row"},by={class:"col-6"},fy={class:"form-group"},$y=e("label",{for:"purchasecost"},"Purchase Cost",-1),yy={class:"input-group mb-3"},gy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),ky={class:"form-group"},wy=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),xy={class:"input-group mb-3"},Cy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),Dy={class:"col-6"},Sy={class:"form-group"},Vy=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),My={class:"invalid-feedback"},Uy=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Ay={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Py={class:"modal-dialog",role:"document"},qy={class:"modal-content"},Ty=De('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ry={class:"modal-footer"},Iy=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ly={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ey={class:"modal-dialog",role:"document"},Fy={class:"modal-content"},jy=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Yy={class:"modal-body"},Ny={class:"table table-striped table-sm table-hover"},By=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Oy=e("td",null,"Site",-1),Hy=e("td",null,"Assit Name",-1),zy=e("td",null,"Assit Type",-1),Jy=e("td",null,"Serial No.",-1),Gy=e("td",null,"Date Acquired",-1),Qy=e("td",null,"Brand",-1),Wy=e("td",null,"Unit",-1),Ky=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Xy=e("td",null,"Personal Accountable",-1),Zy=e("td",null,"Transfer Location",-1),eg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),tg=e("td",null,"Current Condition",-1),sg=e("td",null,"Maintenance Note",-1),ag=e("td",null,"Last Maintenance",-1),og=e("td",null,"Next Maintenance",-1),lg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),ng=e("td",null,"Operation Hours",-1),dg=e("td",null,"Notes",-1),ig=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),cg=e("td",null,"Purchase Cost",-1),rg=e("td",null,"Unit Value",-1),ug=e("td",null,"Warranty information",-1),_g=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),mg={__name:"AssetmList",setup(s){ue();const v=`${ve().name}`,m=me(),o=i({data:[]});i({data:[]});const c=i(!1),n=i(!1),u=i(),p=i(!0),d=Me({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});i(null),i();const g=i(),b=(V=1)=>{c.value=!0,T.get(`/web/asset-monitoring?page=${V}`,{params:{query:J.value}}).then(k=>{c.value=!1,o.value=k.data,x.value=[],X.value=!1})},S=Ve({menu_title:H().required(),parent_id:H().required(),sort_order:H().required(),menu_icon:H().required(),menu_route:H().required()}),r=Ve({menu_title:H().required(),parent_id:H().required(),sort_order:H().required(),menu_icon:H().required(),menu_route:H().required()}),C=()=>{T.post("/web/asset-monitoring",d).then(V=>{$("#FormModal").modal("hide"),b(),m.success(V.data.message)}).catch(V=>{m.error(V.data.message)})},B=()=>{n.value=!1,$("#FormModal").modal("show")},j=V=>{d.site_name=V.site_name,d.id=V.id,d.site_id=V.site_id,d.asset_name=V.asset_name,d.asset_type=V.asset_type,d.serial=V.serial,d.date_acquired=V.date_acquired,d.man_supplier=V.man_supplier,d.unit=V.unit,d.location=V.location,d.paccountable=V.paccountable,d.locationchangetranfer=V.locationchangetranfer,d.cucodition=V.cucodition,d.purchasecost=V.purchasecost,d.maintenancenotes=V.maintenancenotes,d.ceated_by=V.ceated_by,d.updated_by=V.updated_by,d.Depreciationcostbyyear=V.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},E=V=>{n.value=!0,d.id=V.id,d.site_id=V.site_id,d.asset_name=V.asset_name,d.asset_type=V.asset_type,d.serial=V.serial,d.date_acquired=V.date_acquired,d.man_supplier=V.man_supplier,d.unit=V.unit,d.location=V.location,d.paccountable=V.paccountable,d.locationchangetranfer=V.locationchangetranfer,d.cucodition=V.cucodition,d.purchasecost=V.purchasecost,d.depreciationcost=V.depreciationcost,d.maintenancenotes=V.maintenancenotes,d.ceated_by=V.ceated_by,d.updated_by=V.updated_by,$("#FormModal").modal("show")},Q=({setErrors:V})=>{T.post("/web/asset-monitoring",d).then(k=>{b(),$("#FormModal").modal("hide"),m.success("Data successfully Updated!")}).catch(k=>{V(k.response.data.errors),console.log(k)})},U=(V,k)=>{n.value?Q(V):C()},L=()=>{T.get("/web/getsite").then(V=>{g.value=V.data.sites}).catch(V=>{console.log(V)})},J=i(null),x=i([]),y=V=>{const k=x.value.indexOf(V.id);k===-1?x.value.push(V.id):x.value.splice(k,1),console.log(x.value)},N=i(null),A=V=>{N.value=V,$("#deleteClientModal").modal("show")},G=()=>{T.delete(`/web/asset-monitoring/${N.value}`).then(V=>{$("#deleteClientModal").modal("hide"),m.success(V.data.message),b()})},pe=()=>{T.delete("/web/bulkDeleteAsset",{data:{ids:x.value}}).then(V=>{o.value.data=o.value.data.filter(k=>!x.value.includes(k.id)),x.value=[],X.value=!1,m.success(V.data.message)})},X=i(!1),Y=()=>{X.value?x.value=o.value.data.map(V=>V.id):x.value=[],console.log(x.value)};return he([p],V=>{d.is_active=V?1:0}),he(J,Ue.exports.debounce(()=>{b()},300)),_e(()=>{b(),L(),document.title=`SLI-DTS - ${v}`}),(V,k)=>{const D=be("font"),ae=be("tab-content"),ne=be("form-wizard");return a(),l(O,null,[e("div",Cf,[e("div",Df,[e("div",Sf,[e("div",Vf,[e("button",{onClick:B,type:"button",class:"mb-2 btn btn-primary"},[Mf,q(" Asset ")]),x.value.length>0?(a(),l("div",Uf,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Af,q(" Delete Selected ")]),e("span",Pf,"Selected "+t(x.value.length)+" Record",1)])):M("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=I=>J.value=I),class:"form-control",placeholder:"Search..."},null,512),[[ie,J.value]])])]),e("div",qf,[e("div",Tf,[c.value?(a(),re(qe,{key:0})):M("",!0),e("div",Rf,[h(D,{size:"2"},{default:Z(()=>[e("table",If,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":k[1]||(k[1]=I=>X.value=I),onChange:Y},null,544),[[Le,X.value]])]),Lf,Ef,Ff,jf,Yf,Nf,Bf,Of,Hf,zf,Jf,Gf,Qf,Wf])]),o.value.data.length>0?(a(),l("tbody",Kf,[(a(!0),l(O,null,ee(o.value.data,(I,F)=>(a(),re(xf,{key:I.id,item:I,index:F,onViewData:j,onEditData:E,onConfirmDeletion:A,onToggleSelection:y,"select-all":X.value},null,8,["item","index","select-all"]))),128))])):(a(),l("tbody",Xf,e$))])]),_:1})])])]),h(_(Ie),{data:o.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",t$,[e("div",s$,[e("div",a$,[e("div",o$,[e("h5",l$,[n.value?(a(),l("span",n$,"Edit Asset")):(a(),l("span",d$,"Add Asset"))]),i$]),h(_(Pe),{onSubmit:U,"validation-schema":n.value?_(r):_(S),"initial-values":u.value},{default:Z(({errors:I})=>[e("div",c$,[e("div",r$,[h(ne,{onOnComplete:C,color:"#094899","step-size":"xs"},{default:Z(()=>[h(ae,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",u$,[e("div",_$,[e("div",m$,[p$,h(_(z),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":I.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:d.site_id,"onUpdate:modelValue":k[2]||(k[2]=F=>d.site_id=F)},{default:Z(()=>[h$,(a(!0),l(O,null,ee(g.value,F=>(a(),l("option",{key:F.id,value:F.id},t(F.name),9,v$))),128))]),_:2},1032,["class","modelValue"]),e("span",b$,t(I.branch),1)]),e("div",f$,[$$,h(_(z),{name:"asset_name",type:"text",class:P(["form-control",{"is-invalid":I.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:d.asset_name,"onUpdate:modelValue":k[3]||(k[3]=F=>d.asset_name=F)},null,8,["class","modelValue"]),e("span",y$,t(I.asset_name),1)]),e("div",g$,[k$,h(_(z),{name:"asset_type",type:"text",class:P(["form-control",{"is-invalid":I.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:d.asset_type,"onUpdate:modelValue":k[4]||(k[4]=F=>d.asset_type=F)},null,8,["class","modelValue"]),e("span",w$,t(I.asset_type),1)]),e("div",x$,[C$,h(_(z),{name:"serial",type:"text",class:P(["form-control",{"is-invalid":I.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:d.serial,"onUpdate:modelValue":k[5]||(k[5]=F=>d.serial=F)},null,8,["class","modelValue"]),e("span",D$,t(I.serial),1)])]),e("div",S$,[e("div",V$,[M$,h(_(z),{name:"date_acquired",type:"date",class:P(["form-control",{"is-invalid":I.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:d.date_acquired,"onUpdate:modelValue":k[6]||(k[6]=F=>d.date_acquired=F)},null,8,["class","modelValue"]),e("span",U$,t(I.date_acquired),1)]),e("div",A$,[P$,h(_(z),{name:"man_supplier",type:"text",class:P(["form-control",{"is-invalid":I.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:d.man_supplier,"onUpdate:modelValue":k[7]||(k[7]=F=>d.man_supplier=F)},null,8,["class","modelValue"]),e("span",q$,t(I.man_supplier),1)]),e("div",T$,[R$,h(_(z),{name:"unit",type:"number",class:P(["form-control",{"is-invalid":I.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:d.unit,"onUpdate:modelValue":k[8]||(k[8]=F=>d.unit=F)},null,8,["class","modelValue"]),e("span",I$,t(I.unit),1)])])])]),_:2},1024),h(ae,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",L$,[e("div",E$,[e("div",F$,[j$,h(_(z),{name:"paccountable",type:"text",class:P(["form-control",{"is-invalid":I.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:d.paccountable,"onUpdate:modelValue":k[9]||(k[9]=F=>d.paccountable=F)},null,8,["class","modelValue"]),e("span",Y$,t(I.paccountable),1)])]),e("div",N$,[e("div",B$,[O$,h(_(z),{name:"locationchangetranfer",type:"text",class:P(["form-control",{"is-invalid":I.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:d.locationchangetranfer,"onUpdate:modelValue":k[10]||(k[10]=F=>d.locationchangetranfer=F)},null,8,["class","modelValue"]),e("span",H$,t(I.locationchangetranfer),1)])])])]),_:2},1024),h(ae,{title:"Asset Condition"},{default:Z(()=>[e("div",z$,[e("div",J$,[e("div",G$,[Q$,h(_(z),{as:"select",name:"cucodition",class:P(["form-control",{"is-invalid":I.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:d.cucodition,"onUpdate:modelValue":k[11]||(k[11]=F=>d.cucodition=F)},{default:Z(()=>[W$,K$,X$,Z$]),_:2},1032,["class","modelValue"]),e("span",ey,t(I.cucodition),1)]),e("div",ty,[sy,h(_(z),{name:"maintenancenotes",as:"textarea",class:P(["form-control",{"is-invalid":I.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:d.maintenancenotes,"onUpdate:modelValue":k[12]||(k[12]=F=>d.maintenancenotes=F)},null,8,["class","modelValue"])])]),e("div",ay,[e("div",oy,[ly,h(_(z),{name:"lastmaintenance",type:"date",class:P(["form-control",{"is-invalid":I.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:d.lastmaintenance,"onUpdate:modelValue":k[13]||(k[13]=F=>d.lastmaintenance=F)},null,8,["class","modelValue"])]),e("div",ny,[dy,h(_(z),{name:"nextmaintenance",type:"date",class:P(["form-control",{"is-invalid":I.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:d.nextmaintenance,"onUpdate:modelValue":k[14]||(k[14]=F=>d.nextmaintenance=F)},null,8,["class","modelValue"])])])])]),_:2},1024),h(ae,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",iy,[e("div",cy,[e("div",ry,[uy,h(_(z),{name:"operationhours",type:"number",class:P(["form-control",{"is-invalid":I.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:d.operationhours,"onUpdate:modelValue":k[15]||(k[15]=F=>d.operationhours=F)},null,8,["class","modelValue"])])]),e("div",_y,[e("div",my,[py,h(_(z),{name:"notes",as:"textarea",class:P(["form-control",{"is-invalid":I.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:d.notes,"onUpdate:modelValue":k[16]||(k[16]=F=>d.notes=F)},null,8,["class","modelValue"]),e("span",hy,t(I.notes),1)])])])]),_:2},1024),h(ae,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",vy,[e("div",by,[e("div",fy,[$y,e("div",yy,[gy,h(_(z),{name:"purchasecost",type:"text",class:P(["form-control",{"is-invalid":I.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:d.purchasecost,"onUpdate:modelValue":k[17]||(k[17]=F=>d.purchasecost=F)},null,8,["class","modelValue"])])]),e("div",ky,[wy,e("div",xy,[Cy,h(_(z),{name:"depreciationcost",type:"text",class:P(["form-control",{"is-invalid":I.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:d.depreciationcost,"onUpdate:modelValue":k[18]||(k[18]=F=>d.depreciationcost=F)},null,8,["class","modelValue"])])])]),e("div",Dy,[e("div",Sy,[Vy,h(_(z),{name:"insurancewarrantyinfo",as:"textarea",class:P(["form-control",{"is-invalid":I.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:d.insurancewarrantyinfo,"onUpdate:modelValue":k[19]||(k[19]=F=>d.insurancewarrantyinfo=F)},null,8,["class","modelValue"]),e("span",My,t(I.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Uy]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ay,[e("div",Py,[e("div",qy,[Ty,e("div",Ry,[Iy,e("button",{onClick:se(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Ly,[e("div",Ey,[e("div",Fy,[jy,e("div",Yy,[e("table",Ny,[e("tbody",null,[By,e("tr",null,[Oy,e("td",null,t(d.site_name),1)]),e("tr",null,[Hy,e("td",null,t(d.asset_name),1)]),e("tr",null,[zy,e("td",null,t(d.asset_type),1)]),e("tr",null,[Jy,e("td",null,t(d.serial),1)]),e("tr",null,[Gy,e("td",null,t(d.date_acquired),1)]),e("tr",null,[Qy,e("td",null,t(d.man_supplier),1)]),e("tr",null,[Wy,e("td",null,t(d.unit),1)]),Ky,e("tr",null,[Xy,e("td",null,t(d.paccountable),1)]),e("tr",null,[Zy,e("td",null,t(d.locationchangetranfer),1)]),eg,e("tr",null,[tg,e("td",null,t(d.cucodition),1)]),e("tr",null,[sg,e("td",null,t(d.maintenancenotes),1)]),e("tr",null,[ag,e("td",null,t(d.lastmaintenance),1)]),e("tr",null,[og,e("td",null,t(d.nextmaintenance),1)]),lg,e("tr",null,[ng,e("td",null,t(d.operationhours),1)]),e("tr",null,[dg,e("td",null,t(d.notes),1)]),ig,e("tr",null,[cg,e("td",null,t("\u20B1"+d.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[rg,e("td",null,t("\u20B1"+d.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[ug,e("td",null,t(d.insurancewarrantyinfo),1)])])])]),_g])])])],64)}}};function pg(s,v,m){var o=typeof s!="object"?JSON.parse(s):s,c="";if(c+=v+`\r

`,m){var n="";for(var u in o[0])n+=u+",";n=n.slice(0,-1),c+=n+`\r
`}for(var p=0;p<o.length;p++){var n="";for(var u in o[p])n+='"'+o[p][u]+'",';n.slice(0,n.length-1),c+=n+`\r
`}if(c==""){alert("Invalid data");return}var d="MyReport_";d+=v.replace(/ /g,"_");var g="data:text/csv;charset=utf-8,"+escape(c),b=document.createElement("a");b.href=g,b.style="visibility:hidden",b.download=d+".csv",document.body.appendChild(b),b.click(),document.body.removeChild(b)}const le=s=>(ye("data-v-79d8dd46"),s=s(),ge(),s),hg={class:"content"},vg={class:"container-fluid"},bg={class:"d-flex justify-content-between"},fg={class:"d-flex"},$g=le(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),yg={key:0},gg=le(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),kg={class:"ml-2"},wg={class:"d-flex"},xg={class:"form-group"},Cg=le(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Dg=["value"],Sg={id:"captureDiv"},Vg={class:"card"},Mg={class:"card-header"},Ug={class:"card-title"},Ag={class:"card-tools"},Pg={id:"cost"},qg={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Tg=le(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Rg={class:"card-body"},Ig=le(()=>e("i",{class:"fa fa-camera"},null,-1)),Lg=[Ig],Eg=le(()=>e("i",{class:"fas fa-file-excel"},null,-1)),Fg=[Eg],jg={key:1,class:"table-responsive"},Yg={class:"table table-bordered table-sm table-striped table-hover"},Ng=le(()=>e("th",null,null,-1)),Bg=le(()=>e("th",null,"Date",-1)),Og=le(()=>e("th",null,"Allocated Pallet Space",-1)),Hg=le(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),zg=le(()=>e("th",null,"Space Utilization %",-1)),Jg=le(()=>e("th",null,"Excess",-1)),Gg={key:0},Qg={key:1},Wg=le(()=>e("th",null,"Remarks",-1)),Kg=le(()=>e("th",null,"Action",-1)),Xg={key:0},Zg=["item","index","select-all"],e2=["checked"],t2={key:0},s2={key:1},a2=["onClick"],o2=le(()=>e("i",{class:"fa fa-edit"},null,-1)),l2=[o2],n2={key:0},d2=le(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),i2={colspan:"3"},c2={key:1},r2=le(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),u2=[r2],_2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},m2={class:"modal-dialog modal-sm",role:"document"},p2={class:"modal-content"},h2={class:"modal-header"},v2={class:"modal-title",id:"staticBackdropLabel"},b2={key:0},f2={key:1},$2=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),y2=De('<ul class="nav nav-tabs" data-v-79d8dd46><li id="bulkviewtab1" class="nav-item" data-v-79d8dd46><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-79d8dd46>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-79d8dd46><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-79d8dd46>Bulk Pallet</a></li></ul>',1),g2={class:"tab-content"},k2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},w2={class:"modal-body"},x2={class:"col-md-12"},C2={class:"row"},D2={class:"col-12"},S2={class:"form-group"},V2=le(()=>e("label",{for:"date"},"Date",-1)),M2={class:"invalid-feedback"},U2={class:"form-group"},A2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),P2={class:"invalid-feedback"},q2={class:"form-group"},T2=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),R2={class:"invalid-feedback"},I2={class:"form-group"},L2=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),E2={class:"invalid-feedback"},F2=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),j2={class:"tab-pane fade show",id:"bulk-pallet-tab"},Y2={class:"modal-body"},N2={class:"col-md-12"},B2={class:"row"},O2={class:"col-12"},H2={class:"form-group"},z2=le(()=>e("label",{for:"fromdate"},"From:",-1)),J2={class:"invalid-feedback"},G2={class:"form-group"},Q2=le(()=>e("label",{for:"todate"},"To:",-1)),W2={class:"invalid-feedback"},K2={class:"form-group"},X2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),Z2={class:"invalid-feedback"},ek={class:"form-group"},tk=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),sk={class:"invalid-feedback"},ak={class:"form-group"},ok=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),lk={class:"invalid-feedback"},nk=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),dk={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ik={class:"modal-dialog",role:"document"},ck={class:"modal-content"},rk=De('<div class="modal-header" data-v-79d8dd46><h5 class="modal-title" id="staticBackdropLabel" data-v-79d8dd46><span data-v-79d8dd46>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-79d8dd46><span aria-hidden="true" data-v-79d8dd46>\xD7</span></button></div><div class="modal-body" data-v-79d8dd46><h5 data-v-79d8dd46>Are you sure you want to delete this record ?</h5></div>',2),uk={class:"modal-footer"},_k=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),mk={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pk={class:"modal-dialog modal-sm",role:"document"},hk={class:"modal-content"},vk=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),bk={class:"modal-body"},fk={class:"fromtocenter"},$k=le(()=>e("label",{for:"fromDate"},"From:",-1)),yk=le(()=>e("label",{for:"toDate"},"To:",-1)),gk={class:"modal-footer"},kk=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),wk={__name:"PalletList",setup(s){const v=je("$swal"),m=`${ve().name}`,o=me(),c=i({data:[]}),n=i(),u=i(!1),p=i(!1),d=ue(),g=i(!0),b=i(!0),S=i(),r=Me({id:"",site_id:"",user_id:d.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});i(null);const C=i(),B=()=>{u.value=!0,T.get("/web/pallet",{params:{site_id:r.site_id,query:ae.value}}).then(W=>{u.value=!1,c.value=W.data.data,C.value=W.data.sum,ne.value=[],Ne.value=!1})},j=Ve({allocatedpalletspace:H().required(),spaceuteltotal:H().required(),caseperpallet:H().required(),fromdate:H().required(),todate:H().required()}),E=Ve({date:H().required(),allocatedpalletspace:H().required(),spaceuteltotal:H().required(),caseperpallet:H().required()}),Q=Ve({date:H().required(),allocatedpalletspace:H().required(),spaceuteltotal:H().required(),caseperpallet:H().required()}),U=i(""),L=i(""),J=i({start_date:"",end_date:""});he([U],()=>{const W=new Date(U.value),K=W.getFullYear(),Ce=String(W.getMonth()+1).padStart(2,"0"),w=String(W.getDate()).padStart(2,"0");J.value.start_date=`${K}-${Ce}-${w}`}),he([L],()=>{const W=new Date(L.value),K=W.getFullYear(),Ce=String(W.getMonth()+1).padStart(2,"0"),w=String(W.getDate()).padStart(2,"0");J.value.end_date=`${K}-${Ce}-${w}`});const x=()=>{u.value=!0,T.get("/web/filter-pallet",{params:{start_date:J.value.start_date,end_date:J.value.end_date,site_id:r.site_id}}).then(W=>{u.value=!1,c.value=W.data.data,C.value=W.data.sum}).catch(W=>{console.error(W)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},y=()=>{r.id="",r.user_id=d.user.id,r.date="",r.allocatedpalletspace="",r.spaceuteltotal="",r.caseperpallet=""},N=()=>!r.site_id||r.site_id.length===0?(v.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,A=({resetForm:W,setErrors:K})=>{T.post("/web/pallet",{site_id:r.site_id,user_id:r.user_id,date:r.date,allocatedpalletspace:r.allocatedpalletspace,spaceuteltotal:r.spaceuteltotal,caseperpallet:r.caseperpallet}).then(Ce=>{B(),$("#FormModal").modal("hide"),y(),o.success("Data created successfully!")}).catch(function(Ce){Ce.response?o.error(Ce.response.data.message):Ce.request?o.error(Ce.request):o.error("Error",Ce.message)})},G=()=>{T.get("/web/getsite").then(W=>{n.value=W.data.sites}).catch(W=>{console.log(W)})},pe=()=>{B(r.site_id);const W=n.value.find(K=>K.id===r.site_id);S.value=W?W.site_name:""},X=()=>{N()||(p.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},Y=W=>{$("#bulkviewtab2").hide(),p.value=!0,r.id=W.id,r.user_id=W.user_id,r.site_id=W.site_id,r.date=W.date,r.allocatedpalletspace=W.allocatedpalletspace,r.spaceuteltotal=W.spaceuteltotal,r.caseperpallet=W.caseperpallet,$("#FormModal").modal("show")},V=({setErrors:W})=>{T.post("/web/pallet",r).then(K=>{y(),B(),$("#FormModal").modal("hide"),o.success("successfully Updated!")}).catch(K=>{W(K.response.data.errors),console.log(K)})},k=(W,K)=>{p.value?V(W):A(W)},D=()=>{T.post("/web/bulkCreatePallet",r).then(W=>{B(),$("#FormModal").modal("hide"),o.success(W.data.message)}).catch(W=>{o.error(W.response.data.errors)})},ae=i(null),ne=i([]),I=W=>{const K=ne.value.indexOf(W.id);K===-1?ne.value.push(W.id):ne.value.splice(K,1),console.log(ne.value)},F=i(null),Ye=W=>{F.value=W,$("#deleteDataModal").modal("show")},tt=()=>{T.delete(`/web/pallet/${F.value}`).then(()=>{$("#deleteDataModal").modal("hide"),o.success("Pallet deleted successfully!"),c.value.data=c.value.data.filter(W=>W.id!==F.value)})},ze=()=>{T.delete("/web/bulkDeletePallet",{data:{ids:ne.value}}).then(W=>{B(),ne.value=[],Ne.value=!1,o.success(W.data.message)})},st=()=>{N()||$("#FormModalfilterDate").modal("show")},Ne=i(!1),at=()=>{if(N())return;$("#cost").hide(),$("#capturecamerafilter").hide();const W=document.getElementById("captureDiv");Ke(W).then(K=>{const Ce=K.toDataURL(),w=document.createElement("a");w.href=Ce,w.download=`${S.value} - ${m}.png`,w.click()}),$("#cost").show(),$("#capturecamerafilter").show()},ot=()=>{if(N())return;let W=c.value;pg(W,"PalletList",!0)};return he([b],W=>{r.is_active=W?1:0}),he(ae,Ue.exports.debounce(()=>{B()},300)),_e(()=>{G(),document.title=`SLI-DTS - ${m}`}),(W,K)=>{const Ce=be("font");return a(),l(O,null,[e("div",hg,[e("div",vg,[e("div",bg,[e("div",fg,[e("button",{onClick:X,type:"button",class:"mb-2 btn btn-primary"},[$g,q(" Pallet ")]),ne.value.length>0?(a(),l("div",yg,[e("button",{onClick:ze,type:"button",class:"ml-2 mb-2 btn btn-danger"},[gg,q(" Delete Selected ")]),e("span",kg,"Selected "+t(ne.value.length)+" Pallet",1)])):M("",!0)]),e("div",wg,[e("div",xg,[te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":K[0]||(K[0]=w=>r.site_id=w),onChange:K[1]||(K[1]=w=>pe())},[Cg,(a(!0),l(O,null,ee(n.value,w=>(a(),l("option",{key:w.id,value:w.id},t(w.name),9,Dg))),128))],544),[[Re,r.site_id]])])])]),e("div",Sg,[e("div",Vg,[e("div",Mg,[e("div",Ug,t(S.value||"Select a Site"),1),e("div",Ag,[e("div",Pg,[e("div",qg,[te(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":K[2]||(K[2]=w=>g.value=w)},null,512),[[Le,g.value]]),Tg])])])]),e("div",Rg,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:at,type:"button",class:"btn btn-warning"},Lg),e("button",{onClick:ot,type:"button",class:"btn btn-success"},Fg)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:st})])])]),u.value?(a(),re(qe,{key:0})):(a(),l("div",jg,[h(Ce,{size:"2"},{default:Z(()=>[e("table",Yg,[e("thead",null,[e("tr",null,[Ng,Bg,Og,Hg,zg,Jg,g.value?(a(),l("th",Gg," Cost per Pallet ")):M("",!0),g.value?(a(),l("th",Qg,"Cost")):M("",!0),Wg,Kg])]),c.value.length>0?(a(),l("tbody",Xg,[(a(!0),l(O,null,ee(c.value,(w,R)=>(a(),l("tr",{key:w.id,item:w,index:R,onConfirmDeletion:Ye,onToggleSelection:I,"select-all":Ne.value},[e("td",null,[e("input",{type:"checkbox",checked:Ne.value,onChange:I},null,40,e2)]),e("td",null,t(_(de)(w.date).format("MMMM DD, YY")),1),e("td",null,t(w.allocatedpalletspace),1),e("td",null,t(w.spaceuteltotal),1),e("td",null,t(w.spacetotalutelpercent),1),e("td",null,t(w.excess),1),g.value?(a(),l("td",t2,t(w.caseperpallet),1)):M("",!0),g.value?(a(),l("td",s2,t(w.cost),1)):M("",!0),e("td",null," EXCESS "+t(w.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:f=>Y(w)},l2,8,a2)])],40,Zg))),128)),g.value?(a(),l("tr",n2,[d2,e("td",i2,[e("b",null,t(C.value),1)])])):M("",!0)])):(a(),l("tbody",c2,u2))])]),_:1})]))])])])])]),e("div",_2,[e("div",m2,[e("div",p2,[e("div",h2,[e("h5",v2,[p.value?(a(),l("span",b2,"Edit Pallet")):(a(),l("span",f2,"Add Pallet"))]),$2]),y2,e("div",g2,[e("div",k2,[h(_(Pe),{onSubmit:k,"validation-schema":p.value?_(Q):_(E)},{default:Z(({errors:w})=>[e("div",w2,[e("div",x2,[e("div",C2,[e("div",D2,[h(_(z),{modelValue:r.user_id,"onUpdate:modelValue":K[3]||(K[3]=R=>r.user_id=R),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",S2,[V2,h(_(z),{name:"date",type:"date",class:P(["form-control",{"is-invalid":w.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:r.date,"onUpdate:modelValue":K[4]||(K[4]=R=>r.date=R)},null,8,["class","modelValue"]),e("span",M2,t(w.date),1)]),e("div",U2,[A2,h(_(z),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":w.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",modelValue:r.allocatedpalletspace,"onUpdate:modelValue":K[5]||(K[5]=R=>r.allocatedpalletspace=R)},null,8,["class","modelValue"]),e("span",P2,t(w.allocatedpalletspace),1)]),e("div",q2,[T2,h(_(z),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":w.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",modelValue:r.spaceuteltotal,"onUpdate:modelValue":K[6]||(K[6]=R=>r.spaceuteltotal=R),required:""},null,8,["class","modelValue"]),e("span",R2,t(w.spaceuteltotal),1)]),e("div",I2,[L2,h(_(z),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":w.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",modelValue:r.caseperpallet,"onUpdate:modelValue":K[7]||(K[7]=R=>r.caseperpallet=R)},null,8,["class","modelValue"]),e("span",E2,t(w.caseperpallet),1)])])])])]),F2]),_:1},8,["validation-schema"])]),e("div",j2,[h(_(Pe),{onSubmit:D,"validation-schema":_(j)},{default:Z(({errors:w})=>[e("div",Y2,[e("div",N2,[e("div",B2,[e("div",O2,[h(_(z),{modelValue:r.user_id,"onUpdate:modelValue":K[8]||(K[8]=R=>r.user_id=R),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",H2,[z2,h(_(z),{name:"fromdate",type:"date",class:P(["form-control",{"is-invalid":w.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:r.fromdate,"onUpdate:modelValue":K[9]||(K[9]=R=>r.fromdate=R)},null,8,["class","modelValue"]),e("span",J2,t(w.fromdate),1)]),e("div",G2,[Q2,h(_(z),{name:"todate",type:"date",class:P(["form-control",{"is-invalid":w.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:r.todate,"onUpdate:modelValue":K[10]||(K[10]=R=>r.todate=R)},null,8,["class","modelValue"]),e("span",W2,t(w.todate),1)]),e("div",K2,[X2,h(_(z),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":w.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:r.allocatedpalletspace,"onUpdate:modelValue":K[11]||(K[11]=R=>r.allocatedpalletspace=R)},null,8,["class","modelValue"]),e("span",Z2,t(w.allocatedpalletspace),1)]),e("div",ek,[tk,h(_(z),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":w.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:r.spaceuteltotal,"onUpdate:modelValue":K[12]||(K[12]=R=>r.spaceuteltotal=R),required:""},null,8,["class","modelValue"]),e("span",sk,t(w.spaceuteltotal),1)]),e("div",ak,[ok,h(_(z),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":w.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:r.caseperpallet,"onUpdate:modelValue":K[13]||(K[13]=R=>r.caseperpallet=R)},null,8,["class","modelValue"]),e("span",lk,t(w.caseperpallet),1)])])])])]),nk]),_:1},8,["validation-schema"])])])])])]),e("div",dk,[e("div",ik,[e("div",ck,[rk,e("div",uk,[_k,e("button",{onClick:se(tt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",mk,[e("div",pk,[e("div",hk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(m)+" Report")]),vk]),e("div",bk,[e("div",fk,[e("div",null,[$k,h(_(Ee),{modelValue:U.value,"onUpdate:modelValue":K[14]||(K[14]=w=>U.value=w)},null,8,["modelValue"])]),e("div",null,[yk,h(_(Ee),{modelValue:L.value,"onUpdate:modelValue":K[15]||(K[15]=w=>L.value=w)},null,8,["modelValue"])])])]),e("div",gk,[kk,e("button",{onClick:K[16]||(K[16]=w=>x()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var xk=fe(wk,[["__scopeId","data-v-79d8dd46"]]);const Ck=s=>(ye("data-v-572c61f8"),s=s(),ge(),s),Dk={class:"content"},Sk={class:"container-fluid"},Vk={class:"row"},Mk={class:"col-md-6"},Uk={class:"card"},Ak={class:"card-title"},Pk={class:"form-group m-3"},qk=Ck(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Tk=["value"],Rk={key:0,class:"card-body"},Ik={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Lk={class:"custom-control custom-checkbox"},Ek=["value","id"],Fk=["for"],jk={class:"card-footer"},Yk={__name:"UserSite",setup(s){ue();const v=`${ve().name}`,m=me();i(!0);const o=Me({user_id:""});i(null),i();const c=i(),n=i(),u=i([]),p=()=>{T.get("/api/users/userlist").then(S=>{n.value=S.data}).catch(S=>{console.log(S)})},d=S=>{T.get(`/web/usersite/${S}`).then(r=>{c.value=r.data,u.value=c.value.filter(C=>C.hasAccess===1).map(C=>C.id)}).catch(r=>{console.error("Error fetching site data for user:",r)})},g=()=>{const S={user_id:o.user_id,site_id:u.value};console.log(S),T.post("/web/onSaveupdate",S).then(r=>{m.success("User Site Save successfully!")}).catch(r=>{setErrors(r.response.data.errors)})},b=S=>{d(S)};return _e(()=>{p(),d(),document.title=`SLI-DTS - ${v}`}),(S,r)=>(a(),l("div",Dk,[e("div",Sk,[e("div",Vk,[e("div",Mk,[e("div",Uk,[e("div",Ak,[e("div",Pk,[h(_(z),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:o.user_id,"onUpdate:modelValue":r[0]||(r[0]=C=>o.user_id=C),onChange:r[1]||(r[1]=C=>b(o.user_id))},{default:Z(()=>[qk,(a(!0),l(O,null,ee(n.value,C=>(a(),l("option",{key:C.id,value:C.id},t(C.name),9,Tk))),128))]),_:1},8,["modelValue"])])]),o.user_id?(a(),l("div",Rk,[e("ul",Ik,[(a(!0),l(O,null,ee(c.value,C=>(a(),l("li",{key:C.id,class:"list-group-item"},[e("div",Lk,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=B=>u.value=B),value:C.id,id:"site_id_"+C.id},null,8,Ek),[[Le,u.value]]),e("label",{for:"site_id_"+C.id,class:"custom-control-label"},t(C.site_name),9,Fk)])]))),128))]),e("div",jk,[e("button",{type:"button",onClick:r[3]||(r[3]=C=>g()),class:"btn btn-primary"}," Submit ")])])):M("",!0)])])])])]))}};var Nk=fe(Yk,[["__scopeId","data-v-572c61f8"]]);const rt=s=>(ye("data-v-1142fe58"),s=s(),ge(),s),Bk={style:{"text-align":"center"}},Ok={key:0},Hk=rt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Approved",-1)),zk=[Hk],Jk=rt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Reject",-1)),Gk=[Jk],Qk={key:1,style:{"text-align":"center"}},Wk={key:0},Kk=rt(()=>e("i",{class:"fa fa-edit"},null,-1)),Xk=[Kk],Zk={__name:"JobItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(s,{emit:v}){me();const m=ue(),o=n=>{switch(n){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},c=n=>{switch(n){case"P":return"Pending";case"A":return"Approved";case"C":return"Reject";default:return"badge-secondary"}};return(n,u)=>{const p=be("router-link");return a(),l("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.job_order_number),1),e("td",null,t(s.item.date_needed),1),e("td",null,t(s.item.commitment_date),1),e("td",Bk,[h(p,{to:`/job-order-request-approved/${s.item.job_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`${o(s.item.status)}`])},t(c(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(s.item.created_at),1),_(m).user.role==="ADMIN"||_(m).user.sitehead_user_id===_(m).user.id?(a(),l("td",Ok,[e("div",{onClick:u[0]||(u[0]=se(d=>n.$emit("approvedata",s.item),["prevent"])),style:{"background-color":"#17ad49",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},zk),e("div",{onClick:u[1]||(u[1]=se(d=>n.$emit("confirmDataDeletion",s.item),["prevent"])),style:{"background-color":"#da2f38",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Gk)])):M("",!0),_(m).user.role==="USER"?(a(),l("td",Qk,[s.item.status!="P"?(a(),l("div",Wk,[s.item.created_by==_(m).user.id?(a(),l("a",{key:0,href:"#",onClick:u[2]||(u[2]=se(d=>n.$emit("editRecord",s.item),["prevent"]))},Xk)):M("",!0)])):M("",!0)])):M("",!0)])}}};var e0=fe(Zk,[["__scopeId","data-v-1142fe58"]]);const Oe=s=>(ye("data-v-3f7051bb"),s=s(),ge(),s),t0={key:0,class:"spinner"},s0=Oe(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),a0=[s0],o0={class:"content"},l0={class:"container-fluid"},n0={class:"d-flex justify-content-between"},d0={class:"d-flex"},i0=Oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),c0={key:0},r0=Oe(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),u0={class:"ml-2"},_0={class:"card"},m0={class:"card-body"},p0={class:"table-responsive"},h0={class:"table table-bordered table-sm"},v0=Oe(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Order Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),b0={key:0},f0={key:1},$0=Oe(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),y0=[$0],g0={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},k0={class:"modal-dialog",role:"document"},w0={class:"modal-content"},x0=De('<div class="modal-header" data-v-3f7051bb><h5 class="modal-title" id="staticBackdropLabel" data-v-3f7051bb><span data-v-3f7051bb>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-3f7051bb><span aria-hidden="true" data-v-3f7051bb>\xD7</span></button></div><div class="modal-body" data-v-3f7051bb><h5 data-v-3f7051bb>Are you sure you want to Reject this record ?</h5></div>',2),C0={class:"modal-footer"},D0=Oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),S0={__name:"JobOrderList",setup(s){const v=je("$swal"),m=`${ve().name}`,o=me(),c=i({data:[]});i({data:[]}),i(!1),i();const n=i(!1);ue(),i(null),i();const u=(j=1)=>{n.value=!0,T.get(`/web/job-request?page=${j}`,{params:{query:p.value}}).then(E=>{n.value=!1,c.value=E.data,d.value=[],b.value=!1}).finally(()=>{n.value=!1})},p=i(null),d=i([]),g=j=>{const E=d.value.indexOf(j.id);E===-1?d.value.push(j.id):d.value.splice(E,1),console.log(d.value)},b=i(!1),S=i(!1),r=async j=>{(await v.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,T.put(`/web/job-request/${j.id}`,{status:"C"}).then(Q=>{o.success("Record successfully Rejected"),u()}).catch(Q=>{o.error(Q.response.data.errors)}).finally(()=>{n.value=!1}))},C=async j=>{(await v.fire({title:"Are you sure you want to Approve this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,T.put(`/web/job-request/${j.id}`,{status:"A"}).then(Q=>{o.success("Record successfully Approved"),u()}).catch(Q=>{o.error(Q.data.message)}))},B=()=>{};return he(p,Ue.exports.debounce(()=>{u()},300)),_e(()=>{u(),document.title=`SLI-DTS - ${m}`}),(j,E)=>{const Q=be("router-link");return a(),l(O,null,[n.value?(a(),l("div",t0,a0)):M("",!0),e("div",o0,[e("div",l0,[e("div",n0,[e("div",d0,[h(Q,{class:P("mb-2 btn btn-primary"),to:{name:"Job Order Create"}},{default:Z(()=>[i0,q("Create ")]),_:1}),d.value.length>0?(a(),l("div",c0,[e("button",{onClick:E[0]||(E[0]=(...U)=>j.bulkDelete&&j.bulkDelete(...U)),type:"button",class:"ml-2 mb-2 btn btn-danger"},[r0,q(" Delete Selected ")]),e("span",u0,"Selected "+t(d.value.length)+" Menu",1)])):M("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":E[1]||(E[1]=U=>p.value=U),class:"form-control",placeholder:"Search..."},null,512),[[ie,p.value]])])]),e("div",_0,[e("div",m0,[n.value?(a(),re(qe,{key:0})):M("",!0),e("div",p0,[e("table",h0,[v0,c.value.data.length>0?(a(),l("tbody",b0,[(a(!0),l(O,null,ee(c.value.data,(U,L)=>(a(),re(e0,{key:U.id,item:U,index:L,onApprovedata:C,onShowItem:S.value,onConfirmDataDeletion:r,onToggleSelection:g,"select-all":b.value},null,8,["item","index","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),l("tbody",f0,y0))])])])]),h(_(Ie),{data:c.value,onPaginationChangePage:u},null,8,["data"])])]),e("div",g0,[e("div",k0,[e("div",w0,[x0,e("div",C0,[D0,e("button",{onClick:se(B,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var V0=fe(S0,[["__scopeId","data-v-3f7051bb"]]);const M0={class:"form-group row"},U0=["for"],A0={class:"col-sm-10"},P0=["type","id","name","placeholder"],q0={key:0,class:"invalid-feedback"},T0={key:0},Te={__name:"FormTextField",props:{name:{type:String,required:!0},type:{type:String,default:"text",validator:s=>["text","number","password","email","url","tel"].includes(s)},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,o=v,c=Se({get:()=>m.modelValue,set:n=>{o("update:modelValue",n)}});return(n,u)=>(a(),l("div",M0,[s.label?(a(),l("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,U0)):M("",!0),e("div",A0,[te(e("input",{"onUpdate:modelValue":u[0]||(u[0]=p=>c.value=p),type:s.type,id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""])},null,10,P0),[[it,c.value]]),s.errors?(a(),l("span",q0,[Array.isArray(s.errors)?(a(),l("ul",T0,[(a(!0),l(O,null,ee(s.errors,(p,d)=>(a(),l("li",{key:d},t(p),1))),128))])):(a(),l(O,{key:1},[q(t(s.errors),1)],64))])):M("",!0)])]))}},R0={class:"form-group row"},I0=["for"],L0={class:"col-sm-10"},E0=["id","name","placeholder"],F0={value:"",disabled:""},j0=["value"],Y0={key:0,class:"invalid-feedback"},N0={key:0},nt={__name:"FormSelectOption",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:"Select an option"},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,o=v,c=Se({get:()=>m.modelValue,set:n=>{o("update:modelValue",n)}});return(n,u)=>(a(),l("div",R0,[s.label?(a(),l("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,I0)):M("",!0),e("div",L0,[te(e("select",{"onUpdate:modelValue":u[0]||(u[0]=p=>c.value=p),id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""])},[e("option",F0,t(s.placeholder),1),(a(!0),l(O,null,ee(s.options,p=>(a(),l("option",{key:p.id,value:p.id},t(p.name),9,j0))),128))],10,E0),[[Re,c.value]]),s.errors?(a(),l("span",Y0,[Array.isArray(s.errors)?(a(),l("ul",N0,[(a(!0),l(O,null,ee(s.errors,(p,d)=>(a(),l("li",{key:d},t(p),1))),128))])):(a(),l(O,{key:1},[q(t(s.errors),1)],64))])):M("",!0)])]))}},B0={class:"form-group row"},O0=["for"],H0={class:"col-sm-10"},z0=["id","name","placeholder","rows"],J0={key:0,class:"invalid-feedback"},G0={key:0},dt={__name:"FormTextAria",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},rows:{type:[Number],default:""}},emits:["update:modelValue"],setup(s,{emit:v}){const m=s,o=v,c=Se({get:()=>m.modelValue,set:n=>{o("update:modelValue",n)}});return(n,u)=>(a(),l("div",B0,[s.label?(a(),l("label",{key:0,for:s.name,class:"col-sm-2 col-form-label"},t(s.label),9,O0)):M("",!0),e("div",H0,[te(e("textarea",{"onUpdate:modelValue":u[0]||(u[0]=p=>c.value=p),id:s.name,name:s.name,placeholder:s.placeholder,class:P(["form-control",s.errors?"is-invalid":""]),rows:s.rows},null,10,z0),[[ie,c.value]]),s.errors?(a(),l("span",J0,[Array.isArray(s.errors)?(a(),l("ul",G0,[(a(!0),l(O,null,ee(s.errors,(p,d)=>(a(),l("li",{key:d},t(p),1))),128))])):(a(),l(O,{key:1},[q(t(s.errors),1)],64))])):M("",!0)])]))}};const Ze=s=>(ye("data-v-674eedab"),s=s(),ge(),s),Q0={class:"col-md-12"},W0={key:0,class:"spinner"},K0=Ze(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),X0=[K0],Z0={class:"form-group row"},e3=Ze(()=>e("i",{class:"fa fa-plus"},null,-1)),t3=[e3],s3={class:"col-sm-10"},a3={class:"table"},o3=Ze(()=>e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Part Number"),e("th",null,"Quantity"),e("th",null,"Action")])],-1)),l3=["onUpdate:modelValue"],n3=["onUpdate:modelValue"],d3=["onUpdate:modelValue"],i3=["onClick"],c3=Ze(()=>e("i",{class:"fa fa-trash"},null,-1)),r3=[c3],u3={__name:"JobOrderAction",setup(s){const v=ve(),m=Je(),o=i(!1),c=`${v.name}`,n=me();i(!1),i();const u=je("$swal"),p=ue(),d=i(!0),g=Me({id:"",site_id:null,site_name:"",job_order_number:"",end_user:"",time_requested:"",date_needed:"",noted_by:"",type_of_job:"",problem_description:"",findings_recommendations:"",commitment_date:"",status:"P",created_by:p.user.id,updated_by:"",description:"",part_number:"",quantity:"",replacement_parts:[{description:"",part_number:"",quantity:0}]}),b=()=>{g.replacement_parts.push({description:"",part_number:"",quantity:0})},S=Q=>{g.replacement_parts.length>1&&g.replacement_parts.splice(Q,1)};i(null);const r=i([]),C=()=>{T.get("/web/getsite").then(Q=>{r.value=Q.data.sites}).catch(Q=>{console.log(Q)})},B=i(null),j=i([{id:"Preventive Maintenance",name:"Preventive Maintenance"},{id:"Corrective Maintenance",name:"Corrective Maintenance"},{id:"Calibration",name:"Calibration"}]),E=async()=>{(await u.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(o.value=!0,T.post("/web/job-request",g).then(U=>{U.status===200?(n.success(U.data.message),m.push("/job-order-request-list")):n.error("Something went wrong. Please try again.")}).catch(U=>{n.error(U.data.message)}).finally(()=>{o.value=!1}))};return he([d],Q=>{g.is_active=Q?1:0}),he(B,Ue.exports.debounce(()=>{getItems()},300)),_e(()=>{C(),document.title=c}),(Q,U)=>{const L=be("tab-content"),J=be("form-wizard");return a(),l("div",Q0,[o.value?(a(),l("div",W0,X0)):M("",!0),h(J,{onOnComplete:E,color:"#094899","step-size":"xs"},{default:Z(()=>[h(L,{title:"Job Information",icon:"fas fa-book"},{default:Z(()=>[h(Te,{label:"Job Order Number",placeholder:"Job Order Number - AutoGenerate",name:"job_order_number",type:"text",id:"job_order_number",modelValue:g.job_order_number,"onUpdate:modelValue":U[0]||(U[0]=x=>g.job_order_number=x)},null,8,["modelValue"]),h(nt,{name:"branch",label:"Area / Department",modelValue:g.site_id,"onUpdate:modelValue":U[1]||(U[1]=x=>g.site_id=x),options:r.value},null,8,["modelValue","options"]),h(Te,{label:"End User",placeholder:"End User",name:"enduser",type:"text",id:"enduser",modelValue:g.end_user,"onUpdate:modelValue":U[2]||(U[2]=x=>g.end_user=x)},null,8,["modelValue"]),h(Te,{label:"Time Requested",placeholder:"Time Requested",name:"time_requested",type:"date",id:"time_requested",modelValue:g.time_requested,"onUpdate:modelValue":U[3]||(U[3]=x=>g.time_requested=x)},null,8,["modelValue"]),h(Te,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:g.date_needed,"onUpdate:modelValue":U[4]||(U[4]=x=>g.date_needed=x)},null,8,["modelValue"]),h(Te,{label:"Noted By",placeholder:"Noted By",name:"noted_by",type:"text",id:"noted_by",modelValue:g.noted_by,"onUpdate:modelValue":U[5]||(U[5]=x=>g.noted_by=x)},null,8,["modelValue"]),h(nt,{name:"type_of_job",label:"Type of Job",modelValue:g.type_of_job,"onUpdate:modelValue":U[6]||(U[6]=x=>g.type_of_job=x),options:j.value},null,8,["modelValue","options"])]),_:1}),h(L,{title:"Problem Details",icon:"fas fa-pen-alt"},{default:Z(()=>[h(dt,{label:"Problem Description",id:"problem_description",name:"problem_description",rows:"3",placeholder:"Problem Description",modelValue:g.problem_description,"onUpdate:modelValue":U[7]||(U[7]=x=>g.problem_description=x)},null,8,["modelValue"]),h(dt,{label:"Recommendations",id:"Recommendations",rows:"3",placeholder:"Recommendations",modelValue:g.findings_recommendations,"onUpdate:modelValue":U[8]||(U[8]=x=>g.findings_recommendations=x)},null,8,["modelValue"]),h(Te,{label:"Commitment Date",placeholder:"Commitment Date",name:"commitment_date",type:"date",id:"commitment_date",modelValue:g.commitment_date,"onUpdate:modelValue":U[9]||(U[9]=x=>g.commitment_date=x)},null,8,["modelValue"])]),_:1}),h(L,{title:"Replacement Parts",icon:"fas fa-tools"},{default:Z(()=>[e("div",Z0,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[q("Replacement Parts "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:b},t3)]),e("div",s3,[e("table",a3,[o3,e("tbody",null,[(a(!0),l(O,null,ee(g.replacement_parts,(x,y)=>(a(),l("tr",{key:y},[e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":N=>x.description=N},null,8,l3),[[ie,x.description]])]),e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Part Number","onUpdate:modelValue":N=>x.part_number=N},null,8,n3),[[ie,x.part_number]])]),e("td",null,[te(e("input",{type:"number",class:"form-control",placeholder:"Quantity","onUpdate:modelValue":N=>x.quantity=N},null,8,d3),[[ie,x.quantity]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:N=>S(y)},r3,8,i3)])]))),128))])])])])]),_:1})]),_:1})])}}};var _3=fe(u3,[["__scopeId","data-v-674eedab"]]);const we=s=>(ye("data-v-23e1722c"),s=s(),ge(),s),m3={id:"exportPDF"},p3=we(()=>e("br",null,null,-1)),h3={class:"container"},v3={class:"row align-items-center"},b3={class:"col-3 p-2 text-center"},f3={class:"header"},$3=["src"],y3=we(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),g3={class:"row border border-secondary p-2"},k3={class:"col-6 float-end"},w3={class:"mb-1"},x3=we(()=>e("strong",null,"Job Order Number :",-1)),C3={class:"row"},D3={class:"table table-bordered table-sm"},S3=we(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),V3={class:"row border"},M3={class:"col-6 p-2"},U3={class:"row"},A3={class:"col-12 p-2"},P3=we(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),q3=we(()=>e("br",null,null,-1)),T3={class:"row"},R3={class:"col-12 p-2"},I3=we(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),L3={class:"row justify-content-right"},E3={class:"col-12 hidden-md-down border border-secondary"},F3=we(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),j3={class:"row"},Y3={class:"col-12 p-2"},N3=we(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),B3={class:"row justify-content-right"},O3={class:"col-12 hidden-md-down border border-secondary"},H3={class:"row border mt-2"},z3={class:"col-6 p-2"},J3=we(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),G3={class:"row"},Q3=we(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),W3={class:"table table-bordered table-sm"},K3=we(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),X3={class:"row border border-secondary mt-2"},Z3={class:"col-6 p-2"},ew=we(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),tw=we(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),sw=we(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),aw={class:"row"},ow={class:"col-12 p-2"},lw={class:"row justify-content-right"},nw={class:"col-12 hidden-md-down border border-secondary"},dw={class:"row"},iw={class:"col-6 p-2"},cw=we(()=>e("br",null,null,-1)),rw={class:"mt-2"},uw={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},_w=we(()=>e("br",null,null,-1)),mw=we(()=>e("div",{class:"col-6 p-2"},[q(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"},[e("span",{class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},"Eden Satinitigan")])],-1)),pw={key:0,class:"fab-container"},hw=we(()=>e("i",{class:"fas fa-download"},null,-1)),vw=[hw],bw={__name:"JobOrderRequestApproved",setup(s){const v=`${ve().params.id}`,m=()=>{const n=document.getElementById("exportPDF");Xe().from(n).save(`${v}.pdf`)},o=Me({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",jobstatus:"",approvedPosition:""}),c=()=>{T.get(`/web/job-request/${ve().params.id}`).then(n=>{o.id=n.data.record.id,o.jobOrderNumber=n.data.record.job_order_number,o.areaDepartment=n.data.record.site_name,o.endUser=n.data.record.end_user,o.dateTimeRequested=de(n.data.record.time_requested).format("MMMM D, YYYY"),o.dateNeeded=de(n.data.record.date_needed).format("MMMM D, YYYY"),o.notedBy=n.data.record.noted_by,o.typeofjob=n.data.record.type_of_job,o.calibration=n.data.record.calibration,o.problemDescription=n.data.record.problem_description,o.findingsRecommendations=n.data.record.findings_recommendations,o.commitmentDate=de(n.data.record.commitment_date).format("MMMM D, YYYY"),o.replacementParts=n.data.record.replacement_parts,o.checkedBy=n.data.record.createdby.cfull_name,o.checkedDate=de(n.data.record.checkedDate).format("MMMM D, YYYY"),o.checkedTime=de(n.data.record.checkedTime).format("h:mm:ss a"),o.reviewedBy=n.data.record.reviewedBy,o.reviewedDate=de(n.data.record.reviewedDate).format("MMMM D, YYYY"),o.approvedBy=n.data.record.updatedby.ufull_name,o.approvedPosition=n.data.record.updatedby.uposition?n.data.record.updatedby.uposition:"",o.approvedDate=de(n.data.record.approvedDate).format("MMMM D, YYYY"),o.remarks=n.data.record.remarks,o.jobstatus=n.data.record.status,console.log(n.data.record.status)}).catch(n=>{console.log(n.message)})};return _e(()=>{c(),document.title=v}),(n,u)=>(a(),l(O,null,[e("div",m3,[p3,e("div",h3,[["P","C"].includes(o.jobstatus)?(a(),l("div",{key:0,class:P(["ribbon",{warning:o.jobstatus==="P",closed:o.jobstatus==="C"}])},[e("span",null,t(o.jobstatus==="P"?"Pending":o.jobstatus==="C"?"Reject":o.jobstatus==="P"),1)],2)):M("",!0),e("div",v3,[e("div",b3,[e("div",f3,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,$3)])]),y3]),e("div",g3,[e("div",k3,[e("p",w3,[x3,q(t(o.jobOrderNumber),1)])])]),e("div",C3,[e("table",D3,[S3,e("tbody",null,[e("tr",null,[e("td",null,t(o.areaDepartment),1),e("td",null,t(o.endUser),1),e("td",null,t(o.dateTimeRequested),1),e("td",null,t(o.dateNeeded),1)])])])]),e("div",V3,[e("div",M3,[q("Noted by:"),e("b",null,t(o.notedBy),1)])]),e("div",U3,[e("div",A3,[P3,q3,e("span",null,t(o.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),q("\xA0 "),e("span",null,t(o.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),q("\xA0 "),e("span",null,t(o.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",T3,[e("div",R3,[I3,e("div",L3,[e("div",E3,[e("p",null,t(o.problemDescription),1)])])])]),F3,e("div",j3,[e("div",Y3,[N3,e("div",B3,[e("div",O3,[e("p",null,t(o.findingsRecommendations),1)])])])]),e("div",H3,[e("div",z3,[q("Commitment Date:\xA0"),e("b",null,t(o.commitmentDate),1)]),J3]),e("div",G3,[Q3,e("table",W3,[K3,e("tbody",null,[(a(!0),l(O,null,ee(o.replacementParts,(p,d)=>(a(),l("tr",{key:d},[e("td",null,t(d+1),1),e("td",null,t(p.description),1),e("td",null,t(p.part_number),1),e("td",null,t(p.quantity),1)]))),128))])])]),e("div",X3,[e("div",Z3,[q(" Checked by : "),e("b",null,t(o.checkedBy),1)]),ew,tw]),sw,e("div",aw,[e("div",ow,[q(" Remarks / Comments: "),e("div",lw,[e("div",nw,[e("p",null,t(o.findingsRecommendations),1)])])])]),e("div",dw,[e("div",iw,[q(" Reviewed by: Department Manager"),cw,e("div",rw,[e("span",uw,t(o.approvedBy),1),_w,e("span",null,t(o.approvedPosition),1)])]),mw])])]),o.status==="A"?(a(),l("div",pw,[e("div",{class:"button iconbutton bg-success",onClick:u[0]||(u[0]=p=>m())},vw)])):M("",!0)],64))}};var $t=fe(bw,[["__scopeId","data-v-23e1722c"]]);const ut=s=>(ye("data-v-b56acb02"),s=s(),ge(),s),fw={style:{"text-align":"center"}},$w={key:0},yw=ut(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Approved",-1)),gw=[yw],kw=ut(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Reject",-1)),ww=[kw],xw={key:1,style:{"text-align":"center"}},Cw={key:0},Dw=ut(()=>e("i",{class:"fa fa-edit"},null,-1)),Sw=[Dw],Vw={__name:"MrfItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(s,{emit:v}){me();const m=ue(),o=n=>{switch(n){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},c=n=>{switch(n){case"P":return"Pending";case"A":return"Approved";case"C":return"Reject";default:return"badge-secondary"}};return(n,u)=>{const p=be("router-link");return a(),l("tr",null,[e("td",null,t(s.index+1),1),e("td",null,t(s.item.site_name),1),e("td",null,t(s.item.mrf_order_number),1),e("td",null,t(s.item.date_requested),1),e("td",null,t(s.item.date_needed),1),e("td",fw,[h(p,{to:`/job-order-request-approved/${s.item.job_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:P(["badge",`${o(s.item.status)}`])},t(c(s.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(s.item.created_user),1),e("td",null,t(s.item.created_at),1),_(m).user.role==="ADMIN"||_(m).user.sitehead_user_id===_(m).user.id?(a(),l("td",$w,[e("div",{onClick:u[0]||(u[0]=se(d=>n.$emit("approvedata",s.item),["prevent"]))},gw),e("div",{onClick:u[1]||(u[1]=se(d=>n.$emit("confirmDataDeletion",s.item),["prevent"]))},ww)])):M("",!0),_(m).user.role==="USER"?(a(),l("td",xw,[s.item.status!="P"?(a(),l("div",Cw,[s.item.created_by==_(m).user.id?(a(),l("a",{key:0,href:"#",onClick:u[2]||(u[2]=se(d=>n.$emit("editRecord",s.item),["prevent"]))},Sw)):M("",!0)])):M("",!0)])):M("",!0)])}}};var Mw=fe(Vw,[["__scopeId","data-v-b56acb02"]]);const Qe=s=>(ye("data-v-5c9eac5f"),s=s(),ge(),s),Uw={key:0,class:"spinner"},Aw=Qe(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Pw=[Aw],qw={class:"content"},Tw={class:"container-fluid"},Rw={class:"d-flex justify-content-between"},Iw={class:"d-flex"},Lw=Qe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Ew={class:"card"},Fw={class:"card-body"},jw={class:"table-responsive"},Yw={class:"table table-bordered table-sm"},Nw=Qe(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Mrf Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),Bw={key:0},Ow={key:1},Hw=Qe(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),zw=[Hw],Jw={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gw={class:"modal-dialog",role:"document"},Qw={class:"modal-content"},Ww=De('<div class="modal-header" data-v-5c9eac5f><h5 class="modal-title" id="staticBackdropLabel" data-v-5c9eac5f><span data-v-5c9eac5f>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-5c9eac5f><span aria-hidden="true" data-v-5c9eac5f>\xD7</span></button></div><div class="modal-body" data-v-5c9eac5f><h5 data-v-5c9eac5f>Are you sure you want to Reject this record ?</h5></div>',2),Kw={class:"modal-footer"},Xw=Qe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Zw={__name:"MrfList",setup(s){const v=je("$swal"),m=`${ve().name}`,o=me(),c=i({data:[]});i({data:[]}),i(!1),i();const n=i(!1);ue(),i(null),i();const u=(j=1)=>{n.value=!0,T.get(`/web/Mrf-request?page=${j}`,{params:{query:p.value}}).then(E=>{n.value=!1,c.value=E.data,d.value=[],b.value=!1}).finally(()=>{n.value=!1})},p=i(null),d=i([]),g=j=>{const E=d.value.indexOf(j.id);E===-1?d.value.push(j.id):d.value.splice(E,1),console.log(d.value)},b=i(!1),S=i(!1),r=async j=>{(await v.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,T.put(`/web/Mrf-request/${j.id}`,{status:"C"}).then(Q=>{o.success("Record successfully Rejected"),u()}).catch(Q=>{o.error(Q.response.data.errors)}).finally(()=>{n.value=!1}))},C=async j=>{(await v.fire({title:"Are you sure you want to Approve this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,T.put(`/web/Mrf-request/${j.id}`,{status:"A"}).then(Q=>{o.success("Record successfully Approved"),u()}).catch(Q=>{o.error(Q.data.message)}))},B=()=>{};return he(p,Ue.exports.debounce(()=>{u()},300)),_e(()=>{u(),document.title=`SLI-DTS - ${m}`}),(j,E)=>{const Q=be("router-link");return a(),l(O,null,[n.value?(a(),l("div",Uw,Pw)):M("",!0),e("div",qw,[e("div",Tw,[e("div",Rw,[e("div",Iw,[h(Q,{class:P("mb-2 btn btn-primary"),to:{path:"/Marial-Requisition/create"}},{default:Z(()=>[Lw]),_:1})]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":E[0]||(E[0]=U=>p.value=U),class:"form-control",placeholder:"Search..."},null,512),[[ie,p.value]])])]),e("div",Ew,[e("div",Fw,[n.value?(a(),re(qe,{key:0})):M("",!0),e("div",jw,[e("table",Yw,[Nw,c.value.data.length>0?(a(),l("tbody",Bw,[(a(!0),l(O,null,ee(c.value.data,(U,L)=>(a(),re(Mw,{key:U.id,item:U,index:L,onApprovedata:C,onShowItem:S.value,onConfirmDataDeletion:r,onToggleSelection:g,"select-all":b.value},null,8,["item","index","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(a(),l("tbody",Ow,zw))])])])]),h(_(Ie),{data:c.value,onPaginationChangePage:u},null,8,["data"])])]),e("div",Jw,[e("div",Gw,[e("div",Qw,[Ww,e("div",Kw,[Xw,e("button",{onClick:se(B,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var e4=fe(Zw,[["__scopeId","data-v-5c9eac5f"]]);const et=s=>(ye("data-v-176d787b"),s=s(),ge(),s),t4={class:"col-md-12"},s4={key:0,class:"spinner"},a4=et(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),o4=[a4],l4={class:"form-group row"},n4=et(()=>e("i",{class:"fa fa-plus"},null,-1)),d4=[n4],i4={class:"col-sm-10"},c4={class:"table"},r4=et(()=>e("thead",null,[e("tr",null,[e("th",null,"Particular"),e("th",null,"Description"),e("th",null,"Quantity"),e("th",null,"UOM"),e("th",null,"Price"),e("th",null,"Action")])],-1)),u4=["onUpdate:modelValue"],_4=["onUpdate:modelValue"],m4=["onUpdate:modelValue"],p4=["onUpdate:modelValue"],h4=["onUpdate:modelValue"],v4=["onClick"],b4=et(()=>e("i",{class:"fa fa-trash"},null,-1)),f4=[b4],$4={__name:"MrfAction",setup(s){const v=ve(),m=Je(),o=i(!1),c=`${v.name}`,n=me();i(!1),i();const u=je("$swal");ue();const p=i(!0),d=Me({id:"",site_id:null,site_name:"",mrf_order_number:"",requisitioner:"",date_requested:"",date_needed:"",purpose:"",status:"P",Item_request:[{particulars:"",description:"",quantity:0,uom:"",unit_price:0,total_amount:0}]}),g=()=>{d.Item_request.push({particulars:"",description:"",quantity:0,uom:"",unit_price:0,total_amount:0})},b=j=>{d.Item_request.length>1&&d.Item_request.splice(j,1)};i(null);const S=i([]),r=()=>{T.get("/web/getsite").then(j=>{S.value=j.data.sites}).catch(j=>{console.log(j)})},C=i(null),B=async()=>{(await u.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(o.value=!0,T.post("/web/Mrf-request",d).then(E=>{E.status===200?(n.success(E.data.message),m.push("/Marial-Requisition")):n.error("Something went wrong. Please try again.")}).catch(E=>{n.error(E.data.message)}).finally(()=>{o.value=!1}))};return he([p],j=>{d.is_active=j?1:0}),he(C,Ue.exports.debounce(()=>{getItems()},300)),_e(()=>{r(),document.title=c}),(j,E)=>{const Q=be("tab-content"),U=be("form-wizard");return a(),l("div",t4,[o.value?(a(),l("div",s4,o4)):M("",!0),h(U,{onOnComplete:B,color:"#094899","step-size":"xs"},{default:Z(()=>[h(Q,{title:"Requisition Info",icon:"fas fa-book"},{default:Z(()=>[h(Te,{label:"Material Requisition Number",placeholder:"Material Requisition Number - AutoGenerate",name:"mrf_order_number",type:"text",id:"mrf_order_number",modelValue:d.mrf_order_number,"onUpdate:modelValue":E[0]||(E[0]=L=>d.mrf_order_number=L)},null,8,["modelValue"]),h(nt,{name:"branch",label:"Area / Department",modelValue:d.site_id,"onUpdate:modelValue":E[1]||(E[1]=L=>d.site_id=L),options:S.value},null,8,["modelValue","options"]),h(Te,{label:"Requisitioner",placeholder:"Requisitioner",name:"requisitioner",type:"text",id:"requisitioner",modelValue:d.requisitioner,"onUpdate:modelValue":E[2]||(E[2]=L=>d.requisitioner=L)},null,8,["modelValue"]),h(Te,{label:"Date Requested",placeholder:"Date Requested",name:"date_requested",type:"date",id:"date_requested",modelValue:d.date_requested,"onUpdate:modelValue":E[3]||(E[3]=L=>d.date_requested=L)},null,8,["modelValue"]),h(Te,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:d.date_needed,"onUpdate:modelValue":E[4]||(E[4]=L=>d.date_needed=L)},null,8,["modelValue"]),h(dt,{label:"Purpose",placeholder:"Purpose",name:"purpose",type:"text",id:"purpose",row:"3",modelValue:d.purpose,"onUpdate:modelValue":E[5]||(E[5]=L=>d.purpose=L)},null,8,["modelValue"])]),_:1}),h(Q,{title:"List of Material",icon:"fas fa-tools"},{default:Z(()=>[e("div",l4,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[q("List of Material "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:g},d4)]),e("div",i4,[e("table",c4,[r4,e("tbody",null,[(a(!0),l(O,null,ee(d.Item_request,(L,J)=>(a(),l("tr",{key:J},[e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":x=>L.particulars=x},null,8,u4),[[ie,L.particulars]])]),e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":x=>L.description=x},null,8,_4),[[ie,L.description]])]),e("td",null,[te(e("input",{type:"number",class:"form-control","onUpdate:modelValue":x=>L.quantity=x},null,8,m4),[[ie,L.quantity]])]),e("td",null,[te(e("input",{type:"text",class:"form-control","onUpdate:modelValue":x=>L.uom=x},null,8,p4),[[ie,L.uom]])]),e("td",null,[te(e("input",{type:"number",class:"form-control","onUpdate:modelValue":x=>L.unit_price=x},null,8,h4),[[ie,L.unit_price]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:x=>b(J)},f4,8,v4)])]))),128))])])])])]),_:1})]),_:1})])}}};var y4=fe($4,[["__scopeId","data-v-176d787b"]]);const xe=s=>(ye("data-v-8d4133e0"),s=s(),ge(),s),g4={id:"exportPDF"},k4=xe(()=>e("br",null,null,-1)),w4={class:"container"},x4={class:"row align-items-center"},C4={class:"col-3 p-2 text-center"},D4={class:"header"},S4=["src"],V4=xe(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),M4={class:"row border border-secondary p-2"},U4={class:"col-6 float-end"},A4={class:"mb-1"},P4=xe(()=>e("strong",null,"Job Order Number :",-1)),q4={class:"row"},T4={class:"table table-bordered table-sm"},R4=xe(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),I4={class:"row border"},L4={class:"col-6 p-2"},E4={class:"row"},F4={class:"col-12 p-2"},j4=xe(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),Y4=xe(()=>e("br",null,null,-1)),N4={class:"row"},B4={class:"col-12 p-2"},O4=xe(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),H4={class:"row justify-content-right"},z4={class:"col-12 hidden-md-down border border-secondary"},J4=xe(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),G4={class:"row"},Q4={class:"col-12 p-2"},W4=xe(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),K4={class:"row justify-content-right"},X4={class:"col-12 hidden-md-down border border-secondary"},Z4={class:"row border mt-2"},e5={class:"col-6 p-2"},t5=xe(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),s5={class:"row"},a5=xe(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),o5={class:"table table-bordered table-sm"},l5=xe(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),n5={class:"row border border-secondary mt-2"},d5={class:"col-6 p-2"},i5=xe(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),c5=xe(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),r5=xe(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),u5={class:"row"},_5={class:"col-12 p-2"},m5={class:"row justify-content-right"},p5={class:"col-12 hidden-md-down border border-secondary"},h5={class:"row"},v5={class:"col-6 p-2"},b5=xe(()=>e("br",null,null,-1)),f5={class:"mt-2"},$5={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},y5=xe(()=>e("br",null,null,-1)),g5=xe(()=>e("div",{class:"col-6 p-2"},[q(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"},[e("span",{class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},"Eden Satinitigan")])],-1)),k5={key:0,class:"fab-container"},w5=xe(()=>e("i",{class:"fas fa-download"},null,-1)),x5=[w5],C5={__name:"MrfRequestApproved",setup(s){const v=`${ve().params.id}`,m=()=>{const n=document.getElementById("exportPDF");Xe().from(n).save(`${v}.pdf`)},o=Me({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",jobstatus:"",approvedPosition:""}),c=()=>{T.get(`/web/job-request/${ve().params.id}`).then(n=>{o.id=n.data.record.id,o.jobOrderNumber=n.data.record.job_order_number,o.areaDepartment=n.data.record.site_name,o.endUser=n.data.record.end_user,o.dateTimeRequested=de(n.data.record.time_requested).format("MMMM D, YYYY"),o.dateNeeded=de(n.data.record.date_needed).format("MMMM D, YYYY"),o.notedBy=n.data.record.noted_by,o.typeofjob=n.data.record.type_of_job,o.calibration=n.data.record.calibration,o.problemDescription=n.data.record.problem_description,o.findingsRecommendations=n.data.record.findings_recommendations,o.commitmentDate=de(n.data.record.commitment_date).format("MMMM D, YYYY"),o.replacementParts=n.data.record.replacement_parts,o.checkedBy=n.data.record.createdby.cfull_name,o.checkedDate=de(n.data.record.checkedDate).format("MMMM D, YYYY"),o.checkedTime=de(n.data.record.checkedTime).format("h:mm:ss a"),o.reviewedBy=n.data.record.reviewedBy,o.reviewedDate=de(n.data.record.reviewedDate).format("MMMM D, YYYY"),o.approvedBy=n.data.record.updatedby.ufull_name,o.approvedPosition=n.data.record.updatedby.uposition?n.data.record.updatedby.uposition:"",o.approvedDate=de(n.data.record.approvedDate).format("MMMM D, YYYY"),o.remarks=n.data.record.remarks,o.jobstatus=n.data.record.status,console.log(n.data.record.status)}).catch(n=>{console.log(n.message)})};return _e(()=>{c(),document.title=v}),(n,u)=>(a(),l(O,null,[e("div",g4,[k4,e("div",w4,[["P","C"].includes(o.jobstatus)?(a(),l("div",{key:0,class:P(["ribbon",{warning:o.jobstatus==="P",closed:o.jobstatus==="C"}])},[e("span",null,t(o.jobstatus==="P"?"Pending":o.jobstatus==="C"?"Reject":o.jobstatus==="P"),1)],2)):M("",!0),e("div",x4,[e("div",C4,[e("div",D4,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,S4)])]),V4]),e("div",M4,[e("div",U4,[e("p",A4,[P4,q(t(o.jobOrderNumber),1)])])]),e("div",q4,[e("table",T4,[R4,e("tbody",null,[e("tr",null,[e("td",null,t(o.areaDepartment),1),e("td",null,t(o.endUser),1),e("td",null,t(o.dateTimeRequested),1),e("td",null,t(o.dateNeeded),1)])])])]),e("div",I4,[e("div",L4,[q("Noted by:"),e("b",null,t(o.notedBy),1)])]),e("div",E4,[e("div",F4,[j4,Y4,e("span",null,t(o.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),q("\xA0 "),e("span",null,t(o.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),q("\xA0 "),e("span",null,t(o.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",N4,[e("div",B4,[O4,e("div",H4,[e("div",z4,[e("p",null,t(o.problemDescription),1)])])])]),J4,e("div",G4,[e("div",Q4,[W4,e("div",K4,[e("div",X4,[e("p",null,t(o.findingsRecommendations),1)])])])]),e("div",Z4,[e("div",e5,[q("Commitment Date:\xA0"),e("b",null,t(o.commitmentDate),1)]),t5]),e("div",s5,[a5,e("table",o5,[l5,e("tbody",null,[(a(!0),l(O,null,ee(o.replacementParts,(p,d)=>(a(),l("tr",{key:d},[e("td",null,t(d+1),1),e("td",null,t(p.description),1),e("td",null,t(p.part_number),1),e("td",null,t(p.quantity),1)]))),128))])])]),e("div",n5,[e("div",d5,[q(" Checked by : "),e("b",null,t(o.checkedBy),1)]),i5,c5]),r5,e("div",u5,[e("div",_5,[q(" Remarks / Comments: "),e("div",m5,[e("div",p5,[e("p",null,t(o.findingsRecommendations),1)])])])]),e("div",h5,[e("div",v5,[q(" Reviewed by: Department Manager"),b5,e("div",f5,[e("span",$5,t(o.approvedBy),1),y5,e("span",null,t(o.approvedPosition),1)])]),g5])])]),o.status==="A"?(a(),l("div",k5,[e("div",{class:"button iconbutton bg-success",onClick:u[0]||(u[0]=p=>m())},x5)])):M("",!0)],64))}};var D5=fe(C5,[["__scopeId","data-v-8d4133e0"]]),S5=[{path:"/login",name:"admin.login",component:sd},{path:"/",name:"Dashboard",component:Ht},{path:"/appointments",name:"Appointments",component:_s},{path:"/appointments/create",name:"Appointments",component:mt},{path:"/appointments/:id/edit",name:"Appointments",component:mt},{path:"/user",name:"User",component:Bo},{path:"/settings",name:"Setting",component:Fl},{path:"/profile",name:"Profile",component:qn},{path:"/client",name:"Client",component:ei},{path:"/tech-recommendation",name:"Tech Recomm",component:mr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:xm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Wh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:ah},{path:"/usermenu",name:"User Menu",component:Yv},{path:"/menu",name:"Menu",component:r1},{path:"/:catchAll(.*)",name:"404 Error Page",component:bt},{path:"/notifications",name:"Notifications",component:yf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:ft},{path:"/asset-monitoring",name:"Asset Monitoring",component:mg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:xk},{path:"/usersite",name:"User Site",component:Nk},{path:"/job-order-request-list",name:"Job Order Request",component:V0},{path:"/job-order-request-list/create",name:"Job Order Create",component:_3},{path:"/job-order-request-approved/:id/view",name:"Job-Order-Request-Approved",component:$t},{path:"/Marial-Requisition",name:"Material Requisition Form List",component:e4},{path:"/Marial-Requisition/create",name:"Create Material Requisition Form",component:y4},{path:"/Marial-Requisition-approved/:id/view",name:"Marial-Requisition-Approved",component:D5}];const V5={class:"navbar-nav"},M5=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),U5={class:"nav-item d-none d-sm-inline-block"},A5={class:"navbar-nav ml-auto"},P5=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),q5={class:"nav-link","data-toggle":"dropdown",href:"#"},T5=e("i",{class:"far fa-bell"},null,-1),R5={class:"badge badge-warning navbar-badge"},I5={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},L5={class:"dropdown-header"},E5=e("div",{class:"dropdown-divider"},null,-1),F5=e("i",{class:"fas fa-envelope mr-2"},null,-1),j5={class:"float-right text-muted text-sm"},Y5={key:1,class:"text-center text-muted py-3"},N5=e("div",{class:"dropdown-divider"},null,-1),B5=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),O5={class:"nav-item dropdown"},H5={class:"nav-link","data-toggle":"dropdown",href:"#"},z5={class:"user-panel d-flex",style:{top:"-5px"}},J5={class:"info"},G5={key:0,class:"image"},Q5=["src"],W5={key:1,class:"image"},K5=["src"],X5=["src"],Z5={class:"dropdown-menu dropdown-menu-sg dropdown-menu-right"},ex=e("i",{class:"fas fa-user-circle"},null,-1),tx={__name:"AppNavbar",setup(s){const v=Ge(),m=i([]),o=ue(),c=()=>{T.get("/api/notifications").then(n=>{m.value=n.data.notifications}).catch(n=>{console.error("Error fetching notifications",n)})};return _e(()=>{c()}),(n,u)=>{const p=be("router-link");return a(),l("nav",{class:P(["main-header navbar navbar-expand",_(v).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",V5,[M5,e("li",U5,[e("a",{onClick:u[0]||(u[0]=se((...d)=>_(v).changeTheme&&_(v).changeTheme(...d),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:P(["far",_(v).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",A5,[P5,e("li",{class:"nav-item dropdown",onClick:c},[e("a",q5,[T5,e("span",R5,t(m.value.length),1)]),e("div",I5,[e("span",L5,t(m.value.length)+" Notifications",1),E5,m.value.length>0?(a(!0),l(O,{key:0},ee(m.value,d=>(a(),l("a",{key:d.id,href:"#",class:"dropdown-item"},[F5,q(" "+t(d.data?d.data:"No message available")+" ",1),e("span",j5,t(_(de)(d.created_at)),1)]))),128)):(a(),l("p",Y5,"No new notifications")),N5,h(p,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[q("See All Notifications")]),_:1})])]),B5,e("li",O5,[e("a",H5,[e("div",z5,[e("div",J5,t(_(o).user.name),1),_(o).user.avatar===""?(a(),l("div",G5,[e("img",{src:_(o).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Q5)])):_(o).user.avatar!==""?(a(),l("div",W5,[_(o).user.gender==="Male"?(a(),l("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,K5)):_(o).user.gender==="Female"?(a(),l("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,X5)):M("",!0)])):M("",!0)])]),e("div",Z5,[h(p,{class:"dropdown-item",to:"/profile"},{default:Z(()=>[ex,q(" My Profile")]),_:1})])])])],2)}}},sx={class:"main-sidebar sidebar-dark-primary elevation-4"},ax={href:"#",class:"brand-link"},ox=["src"],lx={class:"brand-text font-weight-light"},nx={class:"sidebar"},dx={class:"mt-2"},ix={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},cx={key:0,class:"right fas fa-angle-left"},rx={key:0,class:"nav nav-treeview"},ux={class:"nav-item"},_x={class:"nav-link"},mx=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),px=e("p",null,"Logout",-1),hx=[mx,px],vx={__name:"SidebarLeft",setup(s){const v=Je(),m=ue(),o=Ge(),c=i({data:[]}),n=()=>{axios.get("/web/menu").then(d=>{c.value=d.data}).catch(d=>{console.log(d)})},u=d=>d===v.currentRoute.value.path,p=()=>{axios.post("/logout").then(d=>{m.user.name="",v.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),n()}),(d,g)=>{const b=be("router-link");return a(),l("aside",sx,[e("a",ax,[e("img",{src:"/img/safe1.png",alt:" Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,ox),e("span",lx,t(_(o).setting.app_name),1)]),e("div",nx,[e("nav",dx,[e("ul",ix,[(a(!0),l(O,null,ee(c.value,S=>(a(),l("li",{key:S.id,class:P({"nav-item":!0,"menu-is-opening":S.submenus&&S.submenus.length>0})},[h(b,{class:P({"nav-link":!0,active:u(S.menu_route)}),to:`${S.menu_route}`},{default:Z(()=>[e("i",{class:P("nav-icon "+S.menu_icon)},null,2),e("p",null,t(S.menu_title),1),S.submenus&&S.submenus.length>0?(a(),l("i",cx)):M("",!0)]),_:2},1032,["class","to"]),S.submenus&&S.submenus.length>0?(a(),l("ul",rx,[(a(!0),l(O,null,ee(S.submenus,r=>(a(),l("li",{key:r.id,class:"nav-item"},[h(b,{class:P({"nav-link menu-open":!0,active:u(r.menu_route)}),to:r.menu_route},{default:Z(()=>[e("i",{class:P("nav-icon "+r.menu_icon)},null,2),e("p",null,t(r.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):M("",!0)],2))),128)),e("li",ux,[e("form",_x,[e("a",{href:"#",onClick:se(p,["prevent"])},hx)])])])])])])}}},bx={},fx={class:"control-sidebar control-sidebar-dark"},$x=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),yx=[$x];function gx(s,v){return a(),l("aside",fx,yx)}var kx=fe(bx,[["render",gx]]);const wx={class:"main-footer"},xx={class:"float-right d-none d-sm-block"},Cx={href:"#"},Dx={__name:"AppFooter",props:{settings:Object},setup(s){const v=ue(),m=i(new Date().getFullYear());return(o,c)=>{var n;return a(),l("footer",wx,[e("div",xx,t(_(v).user.name),1),e("strong",null,[q("Copyright \xA9 "+t(m.value)+" ",1),e("a",Cx,t((n=s.settings)==null?void 0:n.app_name),1),q(".")]),q(" All rights reserved. ")])}}};const Sx=s=>(ye("data-v-36653638"),s=s(),ge(),s),Vx={class:"content-wrapper"},Mx={class:"content-header"},Ux={class:"container-fluid"},Ax={class:"row mb-2"},Px={class:"col-sm-6"},qx={class:"m-0"},Tx={class:"col-sm-6"},Rx={class:"breadcrumb float-sm-right"},Ix=Sx(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Lx={class:"breadcrumb-item active"},Ex={__name:"CustomMainLayout",setup(s){const v=ue(),m=Ge(),o=Se(()=>m.theme==="dark"?"dark-mode":"");return(c,n)=>{const u=be("router-view");return _(v).user.name!==""?(a(),l("div",{key:0,class:P(["wrapper",o.value])},[h(tx),h(vx),h(kx),e("div",Vx,[e("section",Mx,[e("div",Ux,[e("div",Ax,[e("div",Px,[e("h1",qx,t(c.$route.name),1)]),e("div",Tx,[e("ol",Rx,[Ix,e("li",Lx,t(c.$route.name),1)])])])])]),h(u)]),h(Dx)],2)):(a(),l("div",{key:1,class:P(["login-page slibg",o.value])},[h(u)],2))}}};var Fx=fe(Ex,[["__scopeId","data-v-36653638"]]);const jx={__name:"App",setup(s){ue();const v=ve(),m=Se(()=>v.name==="Tech-Approved"),o=Se(()=>v.name==="Job-Order-Request-Approved"),c=Se(()=>v.name==="404 Error Page");return(n,u)=>(a(),l("div",null,[!c.value&&!m.value&&!o.value?(a(),re(Fx,{key:0})):m.value?(a(),re(ft,{key:1})):o.value?(a(),re($t,{key:2})):(a(),re(bt,{key:3}))]))}};var Yx=fe(jx,[["__scopeId","data-v-57c8cdad"]]);const Nx=wt(),He=Dt(Yx),yt=xt({routes:S5,history:Ct()});yt.beforeEach(async(s,v)=>{const m=ue();if(m.user.name===""&&s.name!=="admin.login"){const o=Ge();await Promise.all([m.getAuthUser(),o.getSetting()])}});He.use(Et);He.use(Nx);He.use(yt);He.use(Lt);He.use(Xe);He.mount("#app");
