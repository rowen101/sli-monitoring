import{_ as nt,l as Te}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as dt}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.a377489c.js";import{d as Qe,c as it}from"./pinia.27c659f6.js";import{u as fe,a as je,c as ct,b as rt}from"./vue-router.4ee991d3.js";import{r as n,o as ue,i as a,k as e,x as s,_ as M,u as i,e as t,I as Ee,h as X,j as P,F as j,q as W,d as ye,a0 as le,v as N,C as Ue,a2 as K,a3 as ne,a7 as Ve,p as L,w as ve,a8 as xe,a9 as Ce,f as de,a5 as De,a6 as Me,B as ut,a1 as Ne,aa as _t}from"./@vue.1cef3f16.js";import{B as mt}from"./vue-chartjs.08f65f55.js";import{C as ht,p as pt,a as vt,b as bt,c as ft,d as $t,L as gt}from"./chart.js.562acd0f.js";import{S as ze}from"./sweetalert2.ef56b979.js";import{t as qe}from"./toastr.94171567.js";import{F as Se,a as Q}from"./vee-validate.e717a009.js";import{f as We}from"./flatpickr.181c7977.js";import{c as ke,a as B}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as pe}from"./moment.40bc58bf.js";import{a as Le}from"./laravel-vue-pagination.7f094385.js";import{C as Ae}from"./vue-content-loader.ff97e771.js";import"./dompurify.5fe4b1c1.js";import{u as yt}from"./@vueuse.162aa6b0.js";import{L as Pe}from"./vue3-datepicker.df73fbe1.js";import{h as Re}from"./html2canvas.c4a43e03.js";import{h as Ke}from"./html2pdf.js.44b835e5.js";import{V as kt}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=nt;window.axios=T;window.$=window.jQuery=dt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ie=Qe("AuthUserStore",()=>{const o=n({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(c=>{o.value=c.data})}}}),xt={class:"content"},wt={class:"container-fluid"},Ct={class:"card"},St={class:"card-header"},Dt={class:"card-body"},Mt=e("div",{class:"row"},null,-1),Ut={__name:"Dashboard",setup(o){ht.register(pt,vt,bt,ft,$t,gt);const g=`${fe().name}`;ie(),n("all"),n(0);const c=n(new Date().getFullYear()),l=n({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),d=()=>{axios.get("/api/chart").then(_=>{_.data,l.value=_.data}).catch(_=>{console.error("Error fetching chart data:",_)})},u=n("today"),k=n(0),A=()=>{axios.get("/api/stats/users",{params:{date_range:u.value}}).then(_=>{k.value=_.data.totalUsersCount})};return ue(()=>{d(),A(),document.title=g}),(_,x)=>(t(),a("div",xt,[e("div",wt,[e("div",Ct,[e("div",St," Yearly Progress - "+s(c.value),1),e("div",Dt,[M(i(mt),{data:l.value},null,8,["data"])])]),Mt])]))}},Vt={class:"content"},At={class:"container-fluid"},Tt={class:"row"},Et={class:"col-lg-12"},Pt={class:"d-flex justify-content-between mb-2"},It=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),N(" Add New Appointment")],-1),Lt={class:"btn-group"},Ft=e("span",{class:"mr-1"},"All",-1),Yt={class:"badge badge-pill badge-info"},Bt=["onClick"],qt={class:"mr-1"},Nt={class:"card"},Rt={class:"card-body"},jt={class:"table table-bordered"},Ht=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Ot=e("td",null,null,-1),zt=e("i",{class:"fa fa-edit mr-2"},null,-1),Gt=["onClick"],Qt=e("i",{class:"fa fa-trash text-danger"},null,-1),Wt=[Qt],Kt={__name:"ListAppointments",setup(o){const g=n(),c=n([]),l=()=>{T.get("/api/appointment-status").then(x=>{c.value=x.data})},d=n([]),u=x=>{g.value=x;const f={};x&&(f.status=x),T.get("/api/appointments",{params:f}).then(p=>{d.value=p.data,console.log(p)})},k=Ee(()=>c.value.map(x=>x.count).reduce((x,f)=>x+f,0)),A=x=>{const f=d.value.data.find(r=>r.id===x).status.name,p=c.value.find(r=>r.name===f);p.count--},_=x=>{ze.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(f=>{f.isConfirmed&&T.delete(`/api/appointments/${x}`).then(p=>{A(x),d.value.data=d.value.data.filter(r=>r.id!==x),ze.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{u(),l()}),(x,f)=>{const p=ye("router-link");return t(),a("div",Vt,[e("div",At,[e("div",Tt,[e("div",Et,[e("div",Pt,[e("div",null,[M(p,{to:"/admin/appointments/create"},{default:X(()=>[It]),_:1})]),e("div",Lt,[e("button",{onClick:f[0]||(f[0]=r=>u()),type:"button",class:P(["btn",[typeof g.value=="undefined"?"btn-secondary":"btn-default"]])},[Ft,e("span",Yt,s(k.value),1)],2),(t(!0),a(j,null,W(c.value,r=>(t(),a("button",{onClick:y=>u(r.value),type:"button",class:P(["btn",[g.value===r.value?"btn-secondary":"btn-default"]])},[e("span",qt,s(r.name),1),e("span",{class:P(["badge badge-pill",`badge-${r.color}`])},s(r.count),3)],10,Bt))),256))])]),e("div",Nt,[e("div",Rt,[e("table",jt,[Ht,e("tbody",null,[(t(!0),a(j,null,W(d.value.data,(r,y)=>(t(),a("tr",{key:r.id},[e("td",null,s(y+1),1),e("td",null,s(r.client.first_name)+" "+s(r.client.last_name),1),e("td",null,s(r.start_time),1),e("td",null,s(r.end_time),1),Ot,e("td",null,[M(p,{to:`/admin/appointments/${r.id}/edit`},{default:X(()=>[zt]),_:2},1032,["to"]),e("a",{href:"#",onClick:le(q=>_(r.id),["prevent"])},Wt,8,Gt)])]))),128))])])])])])])])])}}};function ce(){return qe.options.positionClass="toast-top-right",qe.options.closeButton=!0,qe.options.progressBar=!0,qe}const Xt={class:"content-header"},Jt={class:"container-fluid"},Zt={class:"row mb-2"},es={class:"col-sm-6"},ts={class:"m-0"},ss={key:0},as={key:1},os={class:"col-sm-6"},ls={class:"breadcrumb float-sm-right"},ns={class:"breadcrumb-item"},ds={class:"breadcrumb-item"},is={class:"breadcrumb-item active"},cs={key:0},rs={key:1},us={class:"content"},_s={class:"container-fluid"},ms={class:"row"},hs={class:"col-lg-12"},ps={class:"card"},vs={class:"card-body"},bs={class:"row"},fs={class:"col-md-6"},$s={class:"form-group"},gs=e("label",{for:"title"},"Title",-1),ys={class:"invalid-feedback"},ks={class:"col-md-6"},xs={class:"form-group"},ws=e("label",{for:"client"},"Client Name",-1),Cs=["value"],Ss={class:"invalid-feedback"},Ds={class:"row"},Ms={class:"col-md-6"},Us={class:"form-group"},Vs=e("label",{for:"start-time"},"Start Time",-1),As={class:"invalid-feedback"},Ts={class:"col-md-6"},Es={class:"form-group"},Ps=e("label",{for:"end-time"},"End Time",-1),Is={class:"invalid-feedback"},Ls={class:"form-group"},Fs=e("label",{for:"description"},"Description",-1),Ys={class:"invalid-feedback"},Bs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Ge={__name:"AppointmentForm",setup(o){const g=je(),c=fe(),l=ce(),d=Ue({title:"",client_id:"",start_time:"",end_time:"",description:""}),u=(r,y)=>{p.value?A(r,y):k(r,y)},k=(r,y)=>{T.post("/api/appointments/create",d).then(q=>{g.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(q=>{y.setErrors(q.response.data.errors)})},A=(r,y)=>{T.put(`/api/appointments/${c.params.id}/edit`,d).then(q=>{g.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(q=>{y.setErrors(q.response.data.errors)})},_=n(),x=()=>{T.get("/api/view-clients").then(r=>{_.value=r.data})},f=()=>{T.get(`/api/appointments/${c.params.id}/edit`).then(({data:r})=>{d.title=r.title,d.client_id=r.client_id,d.start_time=r.formatted_start_time,d.end_time=r.formatted_end_time,d.description=r.description})},p=n(!1);return ue(()=>{c.name==="admin.appointments.edit"&&(p.value=!0,f()),We(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),x()}),(r,y)=>{const q=ye("router-link");return t(),a(j,null,[e("div",Xt,[e("div",Jt,[e("div",Zt,[e("div",es,[e("h1",ts,[p.value?(t(),a("span",ss,"Edit")):(t(),a("span",as,"Create")),N(" Appointment")])]),e("div",os,[e("ol",ls,[e("li",ns,[M(q,{to:"/admin/dashboard"},{default:X(()=>[N("Home")]),_:1})]),e("li",ds,[M(q,{to:"/admin/appointments"},{default:X(()=>[N("Appointments")]),_:1})]),e("li",is,[p.value?(t(),a("span",cs,"Edit")):(t(),a("span",rs,"Create"))])])])])])]),e("div",us,[e("div",_s,[e("div",ms,[e("div",hs,[e("div",ps,[e("div",vs,[M(i(Se),{onSubmit:u},{default:X(({errors:G})=>[e("div",bs,[e("div",fs,[e("div",$s,[gs,K(e("input",{"onUpdate:modelValue":y[0]||(y[0]=O=>d.title=O),type:"text",class:P(["form-control",{"is-invalid":G.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ne,d.title]]),e("span",ys,s(G.title),1)])]),e("div",ks,[e("div",xs,[ws,K(e("select",{"onUpdate:modelValue":y[1]||(y[1]=O=>d.client_id=O),id:"client",class:P(["form-control",{"is-invalid":G.client_id}])},[(t(!0),a(j,null,W(_.value,O=>(t(),a("option",{value:O.id,key:O.id},s(O.first_name)+" "+s(O.last_name),9,Cs))),128))],2),[[Ve,d.client_id]]),e("span",Ss,s(G.client_id),1)])])]),e("div",Ds,[e("div",Ms,[e("div",Us,[Vs,K(e("input",{"onUpdate:modelValue":y[2]||(y[2]=O=>d.start_time=O),type:"text",class:P(["form-control flatpickr",{"is-invalid":G.start_time}]),id:"start-time"},null,2),[[ne,d.start_time]]),e("span",As,s(G.start_time),1)])]),e("div",Ts,[e("div",Es,[Ps,K(e("input",{"onUpdate:modelValue":y[3]||(y[3]=O=>d.end_time=O),type:"text",class:P(["form-control flatpickr",{"is-invalid":G.end_time}]),id:"end-time"},null,2),[[ne,d.end_time]]),e("span",Is,s(G.end_time),1)])])]),e("div",Ls,[Fs,K(e("textarea",{"onUpdate:modelValue":y[4]||(y[4]=O=>d.description=O),class:P(["form-control",{"is-invalid":G.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ne,d.description]]),e("span",Ys,s(G.description),1)]),Bs]),_:1})])])])])])])],64)}}},qs=["checked"],Ns=["value","selected"],Rs=["value","selected"],js=e("i",{class:"fa fa-edit"},null,-1),Hs=[js],Os=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),zs=[Os],Gs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){const c=ce(),l=o,d=g,u=n([{name:"ADMIN",value:1},{name:"USER",value:2}]),k=n([]),A=()=>{T.get("/api/users/userlist").then(p=>{k.value=p.data}).catch(p=>{console.log(p)})},_=(p,r)=>{T.patch(`/api/users/${p.id}/change-role`,{role:r}).then(()=>{c.success("Role changed successfully!")})},x=(p,r)=>{T.patch(`/api/users/${p.id}/change-sitehead`,{sitehead_user_id:r}).then(()=>{c.success("Sitehead changed successfully!")})},f=()=>{d("toggleSelection",l.user)};return ue(()=>{A()}),(p,r)=>(t(),a("tr",null,[e("td",null,[o.user.name!="admin"?(t(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:f},null,40,qs)):L("",!0)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:r[0]||(r[0]=y=>_(o.user,y.target.value))},[(t(!0),a(j,null,W(u.value,y=>(t(),a("option",{key:y.id,value:y.value,selected:o.user.role===y.name},s(y.name),9,Ns))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:r[1]||(r[1]=y=>x(o.user,y.target.value))},[(t(!0),a(j,null,W(k.value,y=>(t(),a("option",{key:y.id,value:y.id,selected:o.user.sitehead_user_id===y.id},s(y.first_name+" "+y.last_name),9,Rs))),128))],32)):L("",!0)]),e("td",null,[e("a",{href:"#",onClick:r[2]||(r[2]=le(y=>p.$emit("editUser",o.user),["prevent"]))},Hs),o.user.id!=1?(t(),a("a",{key:0,href:"#",onClick:r[3]||(r[3]=le(y=>p.$emit("confirmUserDeletion",o.user.id),["prevent"]))},zs)):L("",!0)])]))}},Qs={class:"content"},Ws={class:"container-fluid"},Ks={class:"d-flex justify-content-between mb-2"},Xs={class:"d-flex"},Js=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Zs={key:0},ea=e("i",{class:"fa fa-trash mr-1"},null,-1),ta={class:"ml-2"},sa={class:"card"},aa={class:"card-body"},oa={class:"dispatch-table"},la={class:"table-responsive"},na={class:"table table-bordered table-hover table-sm"},da=e("th",{style:{width:"10px"}},"#",-1),ia=e("th",null,"Name",-1),ca=e("th",null,"Email",-1),ra=e("th",null,"Registered Date",-1),ua=e("th",null,"Role",-1),_a=e("th",null,"Head",-1),ma=e("th",null,"Action",-1),ha={key:0},pa={key:1},va=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ba=[va],fa=["index"],$a={class:"card"},ga={class:"card-body"},ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Name:",-1),xa={class:"list-field"},wa=e("span",{class:"mb-1 dis"},"Email:",-1),Ca={class:"list-field"},Sa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Da={class:"list-field"},Ma=e("span",{class:"mb-1 dis"},"Site Head:",-1),Ua=["onChange"],Va=["value","selected"],Aa=e("hr",null,null,-1),Ta={class:"row"},Ea={key:0,class:"col"},Pa=["onClick"],Ia=e("i",{class:"fa fa-pencil-square-o"},null,-1),La=["onClick"],Fa=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),N(" Remove ")],-1),Ya=[Fa],Ba={key:1,class:"col"},qa=["onClick"],Na=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ra={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ja={class:"modal-dialog",role:"document"},Ha={class:"modal-content"},Oa={class:"modal-header"},za={class:"modal-title",id:"staticBackdropLabel"},Ga={key:0},Qa={key:1},Wa=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ka={class:"modal-body"},Xa={class:"form-group"},Ja=e("label",{for:"name"},"Username",-1),Za={class:"invalid-feedback"},eo={class:"d-flex justify-content-between"},to={class:"d-flex"},so={class:"form-group"},ao=e("label",{for:"email"},"Email",-1),oo={class:"invalid-feedback"},lo={class:"d-flex"},no={class:"form-group"},io=e("label",{for:"siteDropdown"},"Gender",-1),co=e("option",{value:"",disabled:""}," Select a gender ",-1),ro=["value"],uo={class:"d-flex justify-content-between"},_o={class:"d-flex"},mo={class:"form-group"},ho=e("label",{for:"first_name"},"Fist Name",-1),po={class:"invalid-feedback"},vo={class:"d-flex"},bo={class:"form-group"},fo=e("label",{for:"last_name"},"Last Name",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"position"},"Position",-1),ko={class:"invalid-feedback"},xo={class:"form-group"},wo=e("label",{for:"password"},"Password",-1),Co={class:"invalid-feedback"},So=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Do={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mo={class:"modal-dialog",role:"document"},Uo={class:"modal-content"},Vo=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ao={class:"modal-footer"},To=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Eo={__name:"UserList",setup(o){const g=`${fe().name}`,c=ie(),l=ce(),d=n({data:[]}),u=n(!1),k=n(),A=n(null);n([]),n(null);const _=n([{name:"Male",value:1},{name:"Female",value:2}]),x=(v=1)=>{T.get(`/api/users?page=${v}`,{params:{query:w.value}}).then(V=>{d.value=V.data,h.value=[],_e.value=!1})},f=ke({name:B().required(),last_name:B().required(),first_name:B().required(),email:B().email().required(),password:B().required().min(8),gender:B().required()}),p=ke({name:B().required(),last_name:B().required(),first_name:B().required(),email:B().email().required(),password:B().when((v,V)=>v?V.required().min(8):V),gender:B().required()}),r=n([]),y=()=>{T.get("/api/users/userlist").then(v=>{r.value=v.data}).catch(v=>{console.log(v)})},q=(v,V)=>{T.patch(`/api/users/${v.id}/change-sitehead`,{sitehead_user_id:V}).then(()=>{l.success("Sitehead changed successfully!")})},G=(v,{resetForm:V,setErrors:S})=>{T.post("/api/users",v).then(D=>{d.value.data.unshift(D.data),$("#userFormModal").modal("hide"),V(),l.success("User created successfully!")}).catch(D=>{D.response.data.errors&&(S(D.response.data.errors),l.warning(D.response.data.errors.name))})},O=()=>{u.value=!1,$("#userFormModal").modal("show")},oe=v=>{u.value=!0,A.value.resetForm(),$("#userFormModal").modal("show"),k.value={id:v.id,name:v.name,email:v.email,sitehead_user_id:v.sitehead_user_id,first_name:v.first_name,last_name:v.last_name,gender:v.gender}},Y=(v,{setErrors:V})=>{T.put("/api/users/"+k.value.id,v).then(S=>{const D=d.value.data.findIndex(me=>me.id===S.data.id);d.value.data[D]=S.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(S=>{V(S.response.data.errors),console.log(S)})},C=(v,V)=>{u.value?Y(v,V):G(v,V)},w=n(null),h=n([]),I=v=>{const V=h.value.indexOf(v.id);V===-1?h.value.push(v.id):h.value.splice(V,1),console.log(h.value)},H=n(null),Z=v=>{H.value=v,$("#deleteUserModal").modal("show")},z=()=>{T.delete(`/api/users/${H.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),d.value.data=d.value.data.filter(v=>v.id!==H.value)})},te=()=>{T.delete("/api/users",{data:{ids:h.value}}).then(v=>{d.value.data=d.value.data.filter(V=>!h.value.includes(V.id)),h.value=[],_e.value=!1,l.success(v.data.message)})},_e=n(!1),U=()=>{_e.value?h.value=d.value.data.map(v=>v.id):h.value=[],console.log(h.value)};return ve(w,Te.exports.debounce(()=>{x()},300)),ue(()=>{x(),y(),document.title=g}),(v,V)=>{const S=ye("font");return t(),a(j,null,[e("div",Qs,[e("div",Ws,[e("div",Ks,[e("div",Xs,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Js,N(" User ")]),h.value.length>0?(t(),a("div",Zs,[e("button",{onClick:te,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ea,N(" Delete Selected ")]),e("span",ta,"Selected "+s(h.value.length)+" users",1)])):L("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":V[0]||(V[0]=D=>w.value=D),class:"form-control",placeholder:"Search..."},null,512),[[ne,w.value]])])]),e("div",sa,[e("div",aa,[e("div",oa,[e("div",la,[M(S,{size:"2"},{default:X(()=>[e("table",na,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":V[1]||(V[1]=D=>_e.value=D),onChange:U},null,544),[[Ce,_e.value]])]),da,ia,ca,ra,ua,_a,ma])]),d.value.data.length>0?(t(),a("tbody",ha,[(t(!0),a(j,null,W(d.value.data,(D,me)=>(t(),de(Gs,{key:D.id,user:D,index:me,onEditUser:oe,onConfirmUserDeletion:Z,onToggleSelection:I,"select-all":_e.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",pa,ba))])]),_:1})])]),(t(!0),a(j,null,W(d.value.data,(D,me)=>(t(),a("div",{class:"dispatch-list",key:D.id,index:me},[e("div",$a,[e("div",ga,[e("div",ya,[ka,e("span",null,s(D.first_name+" "+D.last_name),1)]),e("div",xa,[wa,e("span",null,s(D.email),1)]),e("div",Ca,[Sa,e("span",null,s(D.formatted_created_at),1)]),e("div",Da,[Ma,e("span",null,[D.name!="admin"?(t(),a("select",{key:0,class:"form-control",onChange:b=>q(D,b.target.value)},[(t(!0),a(j,null,W(r.value,b=>(t(),a("option",{key:b.id,value:b.id,selected:b.sitehead_user_id===b.id},s(b.first_name+" "+b.last_name),9,Va))),128))],40,Ua)):L("",!0)])]),Aa,e("div",Ta,[i(c).user.role==="ADMIN"?(t(),a("div",Ea,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:b=>oe(D)},[Ia,N(" Edit ")],8,Pa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:b=>Z(D.id)},Ya,8,La)])):L("",!0),i(c).user.role==="USER"?(t(),a("div",Ba,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:b=>oe(D)},[Na,N(" Edit ")],8,qa)])):L("",!0)])])])],8,fa))),128))])]),M(i(Le),{data:d.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",Ra,[e("div",ja,[e("div",Ha,[e("div",Oa,[e("h5",za,[u.value?(t(),a("span",Ga,"Edit User")):(t(),a("span",Qa,"Add New User"))]),Wa]),M(i(Se),{ref_key:"form",ref:A,onSubmit:C,"validation-schema":u.value?i(p):i(f),"initial-values":k.value},{default:X(({errors:D})=>[e("div",Ka,[e("div",Xa,[Ja,M(i(Q),{name:"name",type:"text",class:P(["form-control",{"is-invalid":D.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Za,s(D.name),1)]),e("div",eo,[e("div",to,[e("div",so,[ao,M(i(Q),{name:"email",type:"email",class:P(["form-control",{"is-invalid":D.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",oo,s(D.email),1)])]),e("div",lo,[e("div",no,[io,M(i(Q),{id:"gender",name:"gender",as:"select",class:P(["form-control",{"is-invalid":D.gender}])},{default:X(()=>[co,(t(!0),a(j,null,W(_.value,me=>(t(),a("option",{key:me.name,value:me.name},s(me.name),9,ro))),128))]),_:2},1032,["class"])])])]),e("div",uo,[e("div",_o,[e("div",mo,[ho,M(i(Q),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":D.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",po,s(D.first_name),1)])]),e("div",vo,[e("div",bo,[fo,M(i(Q),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":D.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",$o,s(D.last_name),1)])])]),e("div",go,[yo,M(i(Q),{name:"position",type:"text",class:P(["form-control",{"is-invalid":D.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",ko,s(D.position),1)]),e("div",xo,[wo,M(i(Q),{name:"password",type:"password",class:P(["form-control",{"is-invalid":D.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Co,s(D.password),1)])]),So]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Do,[e("div",Mo,[e("div",Uo,[Vo,e("div",Ao,[To,e("button",{onClick:le(z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};var ge=(o,g)=>{const c=o.__vccOpts||o;for(const[l,d]of g)c[l]=d;return c};const Ie=o=>(De("data-v-222bda60"),o=o(),Me(),o),Po={class:"content"},Io={class:"container-fluid"},Lo={class:"row"},Fo={class:"col-md-6"},Yo={class:"card"},Bo=xe('<ul class="nav nav-tabs" id="settingsTabs" data-v-222bda60><li class="nav-item" data-v-222bda60><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-222bda60>General Settings</a></li><li class="nav-item" data-v-222bda60><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-222bda60>Site Settings</a></li></ul>',1),qo={class:"tab-content"},No={class:"tab-pane fade show active",id:"general"},Ro={class:"card-body"},jo={class:"form-group"},Ho=Ie(()=>e("label",{for:"appName"},"App Display Name",-1)),Oo={key:0,class:"text-danger text-sm"},zo={class:"form-group"},Go=Ie(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Qo=xe('<option value="m/d/Y" data-v-222bda60> MM/DD/YYYY </option><option value="d/m/Y" data-v-222bda60> DD/MM/YYYY </option><option value="Y-m-d" data-v-222bda60> YYYY-MM-DD </option><option value="F j, Y" data-v-222bda60> Month DD, YYYY </option><option value="j F Y" data-v-222bda60> DD Month YYYY </option>',5),Wo=[Qo],Ko={key:0,class:"text-danger text-sm"},Xo={class:"form-group"},Jo=Ie(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Zo={key:0,class:"text-danger text-sm"},el=Ie(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),N("Save Changes ")])],-1)),tl={class:"tab-pane fade",id:"site"},sl={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},al=Ie(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),ol=Ie(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),ll={key:0,class:"list-group-item mt-2"},nl={class:"d-flex justify-content-between"},dl={class:"d-flex"},il=["onClick"],cl={class:"d-flex"},rl=["onClick"],ul={class:"m-2 list-unstyled"},_l={key:1},ml={key:0,class:"list-group-item mt-2"},hl={class:"d-flex justify-content-between"},pl={class:"d-flex"},vl=["onClick"],bl={class:"d-flex"},fl=["onClick"],$l={key:1,class:"mt-2 text-center"},gl=Ie(()=>e("span",null,"No Site",-1)),yl=[gl],kl={class:"input-group"},xl=Ie(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),wl={__name:"UpdateSetting",setup(o){const g=`${fe().name}`,c=n([]),l=ce(),d=n(!0),u=n([]),k=n(!1),A=n(),_=n({id:"",site_name:"",is_active:""}),x=()=>{k.value=!0,axios.get("/api/site").then(Y=>{k.value=!1,u.value=Y.data}).catch(Y=>{console.log(Y)})},f=Ee(()=>Array.isArray(u.value)?u.value.filter(Y=>Y.is_active===0):[]),p=Ee(()=>f.value.length),r=()=>{d.value=!d.value},y=()=>{var Y,C;k.value=!0,axios.post("/api/site",{id:(Y=_.value)==null?void 0:Y.id,site_name:(C=_.value)==null?void 0:C.site_name,is_active:!0}).then(w=>{x(),_.value={id:null,site_name:"",is_active:!0},l.success(w.data.message),k.value=!1}).catch(w=>{w.response&&w.response.status===422&&(O.value=w.response.data.errors)})},q=Y=>{_.value.is_active=Y.is_active===1?0:1,axios.post("/api/site",{id:Y.id,site_name:Y.site_name,is_active:_.value.is_active}).then(C=>{axios.get("/api/site").then(w=>{u.value=w.data}).catch(w=>{console.error("Error fetching tasks:",w),l.error("Error fetching tasks. Please try again.")})}).catch(C=>{console.error("Error adding new task:",C),l.error("Error adding new task. Please try again.")})},G=()=>{axios.get("/api/settings").then(Y=>{c.value=Y.data})},O=n(),oe=()=>{O.value="",axios.post("/api/settings",c.value).then(Y=>{l.success("Settings updated successfully!")}).catch(Y=>{Y.response&&Y.response.status===422&&(O.value=Y.response.data.errors)})};return ue(()=>{x(),G(),document.title=g}),(Y,C)=>(t(),a("div",Po,[e("div",Io,[e("div",Lo,[e("div",Fo,[e("div",Yo,[Bo,e("div",qo,[e("div",No,[e("form",{onSubmit:C[3]||(C[3]=le(w=>oe(),["prevent"]))},[e("div",Ro,[e("div",jo,[Ho,K(e("input",{"onUpdate:modelValue":C[0]||(C[0]=w=>c.value.app_name=w),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ne,c.value.app_name]]),O.value&&O.value.app_name?(t(),a("span",Oo,s(O.value.app_name[0]),1)):L("",!0)]),e("div",zo,[Go,K(e("select",{"onUpdate:modelValue":C[1]||(C[1]=w=>c.value.date_format=w),class:"form-control"},Wo,512),[[Ve,c.value.date_format]]),O.value&&O.value.date_format?(t(),a("span",Ko,s(O.value.date_format[0]),1)):L("",!0)]),e("div",Xo,[Jo,K(e("input",{"onUpdate:modelValue":C[2]||(C[2]=w=>c.value.pagination_limit=w),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ne,c.value.pagination_limit]]),O.value&&O.value.pagination_limit?(t(),a("span",Zo,s(O.value.pagination_limit[0]),1)):L("",!0)])]),el],32)]),e("div",tl,[u.value.length>0?(t(),a("div",sl,[k.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[al,ol]),_:1})):L("",!0),(t(!0),a(j,null,W(u.value,w=>(t(),a("ul",{class:"list-group",key:w.id},[w.is_active===1?(t(),a("li",ll,[e("div",nl,[e("div",dl,[e("i",{onClick:h=>q(w),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":w.is_active===1,"fa fa-circle text-primary":w.is_active===0}),style:{"font-size":"15px"}},null,10,il),e("span",{class:P({"font-italic text-red":w.is_active===0,"":w.is_active===1})},s(w.site_name),3)]),e("div",cl,[e("i",{class:"fa fa-pen text-success",onClick:h=>Y.edit(w)},null,8,rl)])])])):L("",!0)]))),128)),e("li",ul,[p.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:r},[e("i",{class:P(["fa",d.value?"fa-arrow-down":"fa-arrow-right"])},null,2),N(" \xA0Deactive List "+s(p.value),1)])):L("",!0)]),d.value?(t(),a("div",_l,[(t(!0),a(j,null,W(u.value,w=>(t(),a("ul",{class:"list-group",key:w.id},[w.is_active===0?(t(),a("li",ml,[e("div",hl,[e("div",pl,[e("i",{onClick:h=>q(w),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":w.is_active===1,"fa fa-circle text-primary":w.is_active===0}),style:{"font-size":"15px"}},null,10,vl),e("span",{class:P({"font-italic text-red":w.is_active===0,"":w.is_active===1})},[e("del",null,s(w.site_name),1)],2)]),e("div",bl,[w.is_active===1?(t(),a("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:h=>Y.edit(w)},null,8,fl)):L("",!0)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",$l,yl)),M(i(Se),{ref:"form",onSubmit:y,"initial-values":A.value},{default:X(()=>[M(i(Q),{name:"id",modelValue:_.value.id,"onUpdate:modelValue":C[4]||(C[4]=w=>_.value.id=w),type:"text",hidden:""},null,8,["modelValue"]),e("div",kl,[M(i(Q),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:_.value.site_name,"onUpdate:modelValue":C[5]||(C[5]=w=>_.value.site_name=w),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),xl])]),_:1},8,["initial-values"])])])])])])])]))}};var Cl=ge(wl,[["__scopeId","data-v-222bda60"]]);const Sl={class:"content"},Dl={class:"container-fluid"},Ml={class:"row"},Ul={class:"col-md-3"},Vl={class:"card card-primary card-outline"},Al={class:"card-body box-profile"},Tl={class:"text-center"},El=["src"],Pl={class:"profile-username text-center"},Il={class:"text-muted text-center"},Ll={class:"col-md-9"},Fl={class:"card"},Yl=xe('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Bl={class:"card-body"},ql={class:"tab-content"},Nl={class:"tab-pane active",id:"profile"},Rl={class:"form-group row"},jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Hl={class:"col-sm-10"},Ol={key:0,class:"text-danger text-sm"},zl={class:"form-group row"},Gl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ql={class:"col-sm-10"},Wl={key:0,class:"text-danger text-sm"},Kl={class:"form-group row"},Xl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Jl={class:"col-sm-10"},Zl={key:0,class:"text-danger text-sm"},en={class:"form-group row"},tn=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),sn={class:"col-sm-10"},an={key:0,class:"text-danger text-sm"},on=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),N(" Save Changes")])])],-1),ln={class:"tab-pane",id:"changePassword"},nn={class:"form-group row"},dn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),cn={class:"col-sm-9"},rn={key:0,class:"text-danger text-sm"},un={class:"form-group row"},_n=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),mn={class:"col-sm-9"},hn={key:0,class:"text-danger text-sm"},pn={class:"form-group row"},vn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),bn={class:"col-sm-9"},fn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),N(" Save Changes")])])],-1),$n={__name:"UpdateProfile",setup(o){const g=ie(),c=ce(),l=`${fe().name}`,d=n([]),u=()=>{axios.put("/api/profile",{name:g.user.name,first_name:g.user.first_name,last_name:g.user.last_name,email:g.user.email,role:g.user.role}).then(p=>{c.success("Profile updated successfully!")}).catch(p=>{p.response&&p.response.status===422&&(d.value=p.response.data.errors)})},k=Ue({currentPassword:"",password:"",passwordConfirmation:""}),A=()=>{d.value="",axios.post("/api/change-user-password",k).then(p=>{c.success(p.data.message);for(const r in k)k[r]=""}).catch(p=>{p.response&&p.response.status===422&&(d.value=p.response.data.errors)})},_=n(null),x=()=>{_.value.click()},f=p=>{const r=p.target.files[0];g.user.avatar=URL.createObjectURL(r);const y=new FormData;y.append("profile_picture",r),axios.post("/api/upload-profile-image",y).then(q=>{c.success("Image uploaded successfully!")})};return ue(()=>{document.title=l}),(p,r)=>(t(),a("div",Sl,[e("div",Dl,[e("div",Ml,[e("div",Ul,[e("div",Vl,[e("div",Al,[e("div",Tl,[e("input",{onChange:f,ref_key:"fileInput",ref:_,type:"file",class:"d-none"},null,544),e("img",{onClick:x,class:"profile-user-img img-circle",src:i(g).user.avatar,alt:"User profile picture"},null,8,El)]),e("h3",Pl,s(i(g).user.name),1),e("p",Il,s(i(g).user.role),1)])])]),e("div",Ll,[e("div",Fl,[Yl,e("div",Bl,[e("div",ql,[e("div",Nl,[e("form",{onSubmit:r[4]||(r[4]=le(y=>u(),["prevent"])),class:"form-horizontal"},[e("div",Rl,[jl,e("div",Hl,[K(e("input",{"onUpdate:modelValue":r[0]||(r[0]=y=>i(g).user.name=y),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ne,i(g).user.name]]),d.value&&d.value.name?(t(),a("span",Ol,s(d.value.name[0]),1)):L("",!0)])]),e("div",zl,[Gl,e("div",Ql,[K(e("input",{"onUpdate:modelValue":r[1]||(r[1]=y=>i(g).user.first_name=y),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ne,i(g).user.first_name]]),d.value&&d.value.first_name?(t(),a("span",Wl,s(d.value.first_name[0]),1)):L("",!0)])]),e("div",Kl,[Xl,e("div",Jl,[K(e("input",{"onUpdate:modelValue":r[2]||(r[2]=y=>i(g).user.last_name=y),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ne,i(g).user.last_name]]),d.value&&d.value.last_name?(t(),a("span",Zl,s(d.value.last_name[0]),1)):L("",!0)])]),e("div",en,[tn,e("div",sn,[K(e("input",{"onUpdate:modelValue":r[3]||(r[3]=y=>i(g).user.email=y),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ne,i(g).user.email]]),d.value&&d.value.email?(t(),a("span",an,s(d.value.email[0]),1)):L("",!0)])]),on],32)]),e("div",ln,[e("form",{onSubmit:le(A,["prevent"]),class:"form-horizontal"},[e("div",nn,[dn,e("div",cn,[K(e("input",{"onUpdate:modelValue":r[5]||(r[5]=y=>k.currentPassword=y),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ne,k.currentPassword]]),d.value&&d.value.current_password?(t(),a("span",rn,s(d.value.current_password[0]),1)):L("",!0)])]),e("div",un,[_n,e("div",mn,[K(e("input",{"onUpdate:modelValue":r[6]||(r[6]=y=>k.password=y),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ne,k.password]]),d.value&&d.value.password?(t(),a("span",hn,s(d.value.password[0]),1)):L("",!0)])]),e("div",pn,[vn,e("div",bn,[K(e("input",{"onUpdate:modelValue":r[7]||(r[7]=y=>k.passwordConfirmation=y),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ne,k.passwordConfirmation]])])]),fn],32)])])])])])])])]))}};const gn={class:"login-box"},yn={class:"card card-outline card-primary"},kn=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),xn={class:"card-body"},wn={key:0,class:"alert alert-danger",role:"alert"},Cn={class:"input-group mb-3"},Sn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),Dn={class:"input-group mb-3"},Mn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Un={class:"row"},Vn={class:"col-12 mb-2"},An=["disabled"],Tn={key:0,class:"spinner-border spinner-border-sm",role:"status"},En=e("span",{class:"sr-only"},"Loading...",-1),Pn=[En],In={key:1},Ln=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"#",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),Fn="Login",Yn={__name:"Login",setup(o){const g=ce();ie();const c=je(),l=Ue({email:"",password:""}),d=n(!1),u=n(""),k=()=>{d.value=!0,u.value="",T.post("/login",l).then(()=>{c.push("/dashboard"),g.success("Login Success")}).catch(A=>{g.error(A.response.data.message)}).finally(()=>{d.value=!1})};return ue(()=>{document.title=Fn}),(A,_)=>(t(),a("div",gn,[e("div",yn,[kn,e("div",xn,[u.value?(t(),a("div",wn,s(u.value),1)):L("",!0),e("form",{onSubmit:le(k,["prevent"])},[e("div",Cn,[Sn,K(e("input",{"onUpdate:modelValue":_[0]||(_[0]=x=>l.email=x),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ne,l.email]])]),e("div",Dn,[Mn,K(e("input",{"onUpdate:modelValue":_[1]||(_[1]=x=>l.password=x),type:"password",class:"form-control",placeholder:"Password"},null,512),[[ne,l.password]])]),e("div",Un,[e("div",Vn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(t(),a("div",Tn,Pn)):(t(),a("span",In,"Sign In"))],8,An)])])],32),Ln])])]))}},Bn=["checked"],qn=e("i",{class:"fa fa-edit"},null,-1),Nn=[qn],Rn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),jn=[Rn],Hn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){ce();const c=o,l=g,d=()=>{l("toggleSelection",c.item)};return(u,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Bn)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.first_name)+" "+s(o.item.last_name),1),e("td",null,s(o.item.email),1),e("td",null,s(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:k[0]||(k[0]=le(A=>u.$emit("editUser",o.item),["prevent"]))},Nn),e("a",{href:"#",onClick:k[1]||(k[1]=le(A=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},jn)])]))}},On={class:"content"},zn={class:"container-fluid"},Gn={class:"d-flex justify-content-between"},Qn={class:"d-flex"},Wn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Kn={key:0},Xn=e("i",{class:"fa fa-trash mr-1"},null,-1),Jn={class:"ml-2"},Zn={class:"card"},ed={class:"card-body"},td={class:"table table-bordered"},sd=e("th",{style:{width:"10px"}},"#",-1),ad=e("th",null,"Name",-1),od=e("th",null,"Email",-1),ld=e("th",null,"Registered Date",-1),nd=e("th",null,"Options",-1),dd={key:0},id={key:1},cd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),rd=[cd],ud={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_d={class:"modal-dialog",role:"document"},md={class:"modal-content"},hd={class:"modal-header"},pd={class:"modal-title",id:"staticBackdropLabel"},vd={key:0},bd={key:1},fd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),$d={class:"modal-body"},gd={class:"form-group"},yd=e("label",{for:"fist_name"},"First Name",-1),kd={class:"invalid-feedback"},xd={class:"form-group"},wd=e("label",{for:"last_name"},"Last Name",-1),Cd={class:"invalid-feedback"},Sd={class:"form-group"},Dd=e("label",{for:"email"},"Email",-1),Md={class:"invalid-feedback"},Ud=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Vd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ad={class:"modal-dialog",role:"document"},Td={class:"modal-content"},Ed=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Pd={class:"modal-footer"},Id=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Ld={__name:"ClientList",setup(o){const g=ce(),c=n({data:[]}),l=n(!1),d=n(),u=n(null),k=(H=1)=>{T.get(`/api/clients?page=${H}`,{params:{query:q.value}}).then(Z=>{c.value=Z.data,G.value=[],h.value=!1})},A=ke({first_name:B().required(),last_name:B().required(),email:B().email().required()}),_=ke({first_name:B().required(),last_name:B().required(),email:B().email().required()}),x=(H,{resetForm:Z,setErrors:z})=>{T.post("/api/clients",H).then(te=>{c.value.data.unshift(te.data),$("#clientFormModal").modal("hide"),Z(),g.success("User created successfully!")}).catch(te=>{te.response.data.errors&&z(te.response.data.errors)})},f=()=>{l.value=!1,$("#clientFormModal").modal("show")},p=H=>{l.value=!0,u.value.resetForm(),$("#clientFormModal").modal("show"),d.value={id:H.id,first_name:H.first_name,last_name:H.last_name,email:H.email}},r=(H,{setErrors:Z})=>{T.put("/api/clients/"+d.value.id,H).then(z=>{const te=c.value.data.findIndex(_e=>_e.id===z.data.id);c.value.data[te]=z.data,$("#clientFormModal").modal("hide"),g.success("Client updated successfully!")}).catch(z=>{Z(z.response.data.errors),console.log(z)})},y=(H,Z)=>{l.value?r(H,Z):x(H,Z)},q=n(null),G=n([]),O=H=>{const Z=G.value.indexOf(H.id);Z===-1?G.value.push(H.id):G.value.splice(Z,1),console.log(G.value)},oe=n(null),Y=H=>{oe.value=H,$("#deleteClientModal").modal("show")},C=()=>{T.delete(`/api/clients/${oe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),g.success("Client deleted successfully!"),c.value.data=c.value.data.filter(H=>H.id!==oe.value)})},w=()=>{T.delete("/api/clients",{data:{ids:G.value}}).then(H=>{c.value.data=c.value.data.filter(Z=>!G.value.includes(Z.id)),G.value=[],h.value=!1,g.success(H.data.message)})},h=n(!1),I=()=>{h.value?G.value=c.value.data.map(H=>H.id):G.value=[],console.log(G.value)};return ve(q,Te.exports.debounce(()=>{k()},300)),ue(()=>{k()}),(H,Z)=>(t(),a(j,null,[e("div",On,[e("div",zn,[e("div",Gn,[e("div",Qn,[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-primary"},[Wn,N(" Add New Client ")]),G.value.length>0?(t(),a("div",Kn,[e("button",{onClick:w,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xn,N(" Delete Selected ")]),e("span",Jn,"Selected "+s(G.value.length)+" clients",1)])):L("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":Z[0]||(Z[0]=z=>q.value=z),class:"form-control",placeholder:"Search..."},null,512),[[ne,q.value]])])]),e("div",Zn,[e("div",ed,[e("table",td,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":Z[1]||(Z[1]=z=>h.value=z),onChange:I},null,544),[[Ce,h.value]])]),sd,ad,od,ld,nd])]),c.value.data.length>0?(t(),a("tbody",dd,[(t(!0),a(j,null,W(c.value.data,(z,te)=>(t(),de(Hn,{key:z.id,item:z,index:te,onEditUser:p,onConfirmUserDeletion:Y,onToggleSelection:O,"select-all":h.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",id,rd))])])]),M(i(Le),{data:c.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",ud,[e("div",_d,[e("div",md,[e("div",hd,[e("h5",pd,[l.value?(t(),a("span",vd,"Edit Client")):(t(),a("span",bd,"Add New Client"))]),fd]),M(i(Se),{ref_key:"form",ref:u,onSubmit:y,"validation-schema":l.value?i(_):i(A),"initial-values":d.value},{default:X(({errors:z})=>[e("div",$d,[e("div",gd,[yd,M(i(Q),{name:"first_name",type:"text",class:P(["form-control",{"is-invalid":z.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",kd,s(z.first_name),1)]),e("div",xd,[wd,M(i(Q),{name:"last_name",type:"text",class:P(["form-control",{"is-invalid":z.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Cd,s(z.last_name),1)]),e("div",Sd,[Dd,M(i(Q),{name:"email",type:"email",class:P(["form-control",{"is-invalid":z.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Md,s(z.email),1)])]),Ud]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Vd,[e("div",Ad,[e("div",Td,[Ed,e("div",Pd,[Id,e("button",{onClick:le(C,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const He=o=>(De("data-v-36595330"),o=o(),Me(),o),Fd={style:{"text-align":"center"}},Yd={key:0},Bd=He(()=>e("i",{class:"fa fa-edit"},null,-1)),qd=[Bd],Nd=He(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Rd=[Nd],jd={key:1,style:{"text-align":"center"}},Hd={key:0},Od=He(()=>e("i",{class:"fa fa-edit"},null,-1)),zd=[Od],Gd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:g}){ce();const c=ie();return(l,d)=>{const u=ye("router-link");return t(),a("tr",null,[e("td",null,s(o.item.recommnum),1),e("td",null,s(o.item.user),1),e("td",null,s(o.item.branch),1),e("td",null,s(o.item.department),1),e("td",null,s(o.item.created_user),1),e("td",Fd,[o.item.statusid==2?(t(),de(u,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:P(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)]),_:1},8,["to"])):L("",!0),o.item.statusid!=2?(t(),a("span",{key:1,class:P(["badge",`badge-${o.item.status.color}`])},s(o.item.status.name),3)):L("",!0)]),e("td",null,s(o.item.created_at),1),i(c).user.role==="ADMIN"?(t(),a("td",Yd,[e("a",{href:"#",onClick:d[0]||(d[0]=le(k=>l.$emit("editUser",o.item),["prevent"]))},qd),e("a",{href:"#",onClick:d[1]||(d[1]=le(k=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Rd)])):L("",!0),i(c).user.role==="USER"?(t(),a("td",jd,[o.item.statusid!=2?(t(),a("div",Hd,[o.item.created_by==i(c).user.id?(t(),a("a",{key:0,href:"#",onClick:d[2]||(d[2]=le(k=>l.$emit("editUser",o.item),["prevent"]))},zd)):L("",!0)])):L("",!0)])):L("",!0)])}}};var Qd=ge(Gd,[["__scopeId","data-v-36595330"]]);const Wd={class:"content"},Kd={class:"container-fluid"},Xd={class:"d-flex justify-content-between"},Jd={class:"d-flex"},Zd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ei={key:0},ti=e("i",{class:"fa fa-trash mr-1"},null,-1),si={class:"ml-2"},ai={class:"card"},oi={class:"card-body"},li=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ni=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),di=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ii=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ci={class:"dispatch-table"},ri={class:"table-responsive"},ui={class:"table table-bordered table-sm"},_i=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),mi={key:0},hi={key:1},pi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),vi=[pi],bi=["item","index"],fi={class:"card"},$i={class:"card-body"},gi={class:"list-field"},yi=e("span",{class:"mb-1 dis"},"Tech #:",-1),ki={class:"list-field"},xi=e("span",{class:"mb-1 dis"},"User:",-1),wi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"Branch:",-1),Si={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Department:",-1),Mi={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Created by:",-1),Vi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Status:",-1),Ti={class:"list-field"},Ei=e("span",{class:"mb-1 dis"},"Created Date:",-1),Pi=e("hr",null,null,-1),Ii={class:"row"},Li={key:0,class:"col"},Fi=["onClick"],Yi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Bi=["onClick"],qi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),N(" Remove ")],-1),Ni=[qi],Ri={key:0,class:"btn btnsm btn-success btn-block"},ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Hi={key:1,class:"col"},Oi={key:0},zi=["onClick"],Gi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Qi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Wi={class:"modal-dialog modal-lg",role:"document"},Ki={class:"modal-content"},Xi={class:"modal-header"},Ji={class:"modal-title",id:"staticBackdropLabel"},Zi={key:0},ec={key:1},tc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),sc={class:"modal-body"},ac={class:"col-md-12"},oc={class:"row"},lc={class:"col-6"},nc={class:"form-group"},dc=e("label",{for:"branch"},"Branch",-1),ic=e("option",{value:"",disabled:""}," Select Branch ",-1),cc=["value"],rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"department"},"Department",-1),mc={class:"invalid-feedback"},hc={class:"form-group"},pc=e("label",{for:"warehouse"},"warehouse",-1),vc={class:"invalid-feedback"},bc={class:"form-group"},fc=e("label",{for:"user"},"User",-1),$c={class:"invalid-feedback"},gc={class:"col-6"},yc={class:"form-group"},kc=e("label",{for:"brand"},"Brand",-1),xc={class:"form-group"},wc=e("label",{for:"model"},"Model",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"assettag"},"Asset tag",-1),Mc={class:"invalid-feedback"},Uc={class:"form-group"},Vc=e("label",{for:"serialnum"},"Serial number",-1),Ac={class:"invalid-feedback"},Tc={class:"col-12"},Ec={class:"form-group"},Pc=e("label",{for:"problem"},"Report Problem",-1),Ic={class:"invalid-feedback"},Lc={class:"form-group"},Fc=e("label",{for:"assconducted"},"Assessment conducted",-1),Yc={class:"invalid-feedback"},Bc={class:"form-group"},qc=e("label",{for:"recommendation"},"Recommendation",-1),Nc={class:"invalid-feedback"},Rc={class:"modal-footer"},jc={key:0},Hc={key:0,class:"btn-group float-l ml-auto"},Oc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),zc={class:"dropdown-menu",role:"menu"},Gc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Qc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Wc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Kc={class:"modal-dialog",role:"document"},Xc={class:"modal-content"},Jc=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Zc={class:"modal-footer"},er=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),tr={__name:"TechList",setup(o){const g=n(),c=n(),l=ce(),d=n({data:[]});n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=`${fe().name}`,k=()=>{T.get("/api/getsite").then(V=>{c.value=V.data.sites}).catch(V=>{console.log(V)})},A=n(!1),_=n(!1),x=n(),f=Ue({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),p=ie();n(null);const r=(V=1)=>{A.value=!0,T.get(`/api/tech-recommendations?page=${V}`,{params:{query:h.value}}).then(S=>{A.value=!1,d.value=S.data,I.value=[],v.value=!1})},y=ke({branch:B().required(),department:B().required(),user:B().required(),problem:B().required(),assconducted:B().required(),brand:B().required()}),q=ke({branch:B().required(),department:B().required(),user:B().required(),problem:B().required(),assconducted:B().required(),brand:B().required()}),G=(V,{resetForm:S,setErrors:D})=>{T.post("/api/tech-recommendations",V).then(me=>{d.value.data.unshift(me.data),$("#FormModal").modal("hide"),S(),l.success("Data created successfully!")}).catch(me=>{me.response.data.errors&&D(me.response.data.errors)})},O=()=>{_.value=!1,$("#FormModal").modal("show")},oe=()=>{f.id="",f.recommnum="",f.branch="",f.department="",f.warehouse="",f.user="",f.problem="",f.brand="",f.model="",f.assettag="",f.serialnum="",f.assconducted="",f.recommendation="",f.ceated_by=""},Y=V=>{g.value=V.id,_.value=!0,oe(),f.id=V.id,f.branch=V.branch,f.department=V.department,f.warehouse=V.warehouse,f.user=V.user,f.problem=V.problem,f.brand=V.brand,f.model=V.model,f.assettag=V.assettag,f.serialnum=V.serialnum,f.assconducted=V.assconducted,f.recommendation=V.recommendation,f.ceated_by=V.ceated_by,f.recommnum=V.recommnum,$("#FormModal").modal("show")},C=(V,{setErrors:S})=>{T.put("/api/tech-recommendations/"+V.id,V).then(D=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(D=>{S(D.response.data.errors),console.log(D)})},w=(V,S)=>{_.value?C(f,S):G(V,S)},h=n(null),I=n([]),H=V=>{const S=I.value.indexOf(V.id);S===-1?I.value.push(V.id):I.value.splice(S,1),console.log(I.value)},Z=n(null),z=V=>{Z.value=V,$("#deleteClientModal").modal("show")},te=()=>{T.delete(`/api/tech-recommendations/${Z.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),d.value.data=d.value.data.filter(V=>V.id!==Z.value)})},_e=()=>{T.delete("/api/tech-recommendations",{data:{ids:I.value}}).then(V=>{d.value.data=d.value.data.filter(S=>!I.value.includes(S.id)),I.value=[],v.value=!1,l.success(V.data.message)})},U=V=>{T.post("/api/tech-getaction",{id:g.value,status:V}).then(S=>{$("#FormModal").modal("hide"),r()}).catch(S=>{console.log(S.message)})},v=n(!1);return ve(h,Te.exports.debounce(()=>{r()},300)),ue(()=>{r(),k(),document.title=u}),(V,S)=>{const D=ye("font"),me=ye("router-link");return t(),a(j,null,[e("div",Wd,[e("div",Kd,[e("div",Xd,[e("div",Jd,[e("button",{onClick:O,type:"button",class:"mb-2 btn btn-primary"},[Zd,N(" TechRecom ")]),I.value.length>0?(t(),a("div",ei,[e("button",{onClick:_e,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ti,N(" Delete Selected ")]),e("span",si,"Selected "+s(I.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=b=>h.value=b),class:"form-control",placeholder:"Search..."},null,512),[[ne,h.value]])])]),e("div",ai,[e("div",oi,[A.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[li,ni,di,ii]),_:1})):L("",!0),e("div",ci,[e("div",ri,[M(D,{size:"2"},{default:X(()=>[e("table",ui,[_i,d.value.data.length>0?(t(),a("tbody",mi,[(t(!0),a(j,null,W(d.value.data,(b,E)=>(t(),de(Qd,{key:b.id,item:b,index:E,onEditUser:Y,onShowItem:V.viewItem,onConfirmUserDeletion:z,onToggleSelection:H,"select-all":v.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),a("tbody",hi,vi))])]),_:1})])]),(t(!0),a(j,null,W(d.value.data,(b,E)=>(t(),a("div",{class:"dispatch-list",key:b.id,item:b,index:E},[e("div",fi,[e("div",$i,[e("div",gi,[yi,e("span",null,[e("b",null,s(b.recommnum),1)])]),e("div",ki,[xi,e("span",null,s(b.user),1)]),e("div",wi,[Ci,e("span",null,s(b.branch),1)]),e("div",Si,[Di,e("span",null,s(b.department),1)]),e("div",Mi,[Ui,e("span",null,s(b.created_user),1)]),e("div",Vi,[Ai,b.statusid==2?(t(),de(me,{key:0,to:`/admin/tech-approved/${b.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:P(["badge",`badge-${b.status.color}`])},s(b.status.name),3)]),_:2},1032,["to"])):L("",!0),b.statusid!=2?(t(),a("span",{key:1,class:P(["badge",`badge-${b.status.color}`])},s(b.status.name),3)):L("",!0)]),e("div",Ti,[Ei,e("span",null,s(b.created_at),1)]),Pi,e("div",Ii,[i(p).user.role==="ADMIN"?(t(),a("div",Li,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:be=>Y(b)},[Yi,N(" Edit ")],8,Fi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:be=>z(b.id)},Ni,8,Bi),b.statusid==2?(t(),a("button",Ri,[ji,N(" Download ")])):L("",!0)])):L("",!0),i(p).user.role==="USER"?(t(),a("div",Hi,[b.statusid!=2?(t(),a("div",Oi,[b.created_by==i(p).user.id?(t(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:be=>Y(b)},[Gi,N(" Edit ")],8,zi)):L("",!0)])):L("",!0)])):L("",!0)])])])],8,bi))),128))])]),M(i(Le),{data:d.value,onPaginationChangePage:r},null,8,["data"])])]),e("div",Qi,[e("div",Wi,[e("div",Ki,[e("div",Xi,[e("h5",Ji,[_.value?(t(),a("span",Zi,"Edit Tech Recom.")):(t(),a("span",ec,"Add New Tech Recom."))]),tc]),M(i(Se),{onSubmit:w,"validation-schema":_.value?i(q):i(y),"initial-values":x.value},{default:X(({errors:b})=>[e("div",sc,[e("div",ac,[e("div",oc,[e("div",lc,[M(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(p).user.id,"onUpdate:modelValue":S[1]||(S[1]=E=>i(p).user.id=E)},null,8,["modelValue"]),M(i(Q),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:f.recommnum,"onUpdate:modelValue":S[2]||(S[2]=E=>f.recommnum=E)},null,8,["modelValue"]),e("div",nc,[dc,M(i(Q),{as:"select",name:"branch",class:P(["form-control",{"is-invalid":b.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:f.branch,"onUpdate:modelValue":S[3]||(S[3]=E=>f.branch=E)},{default:X(()=>[ic,(t(!0),a(j,null,W(c.value,E=>(t(),a("option",{key:E.site_name,value:E.site_name},s(E.site_name),9,cc))),128))]),_:2},1032,["class","modelValue"]),e("span",rc,s(b.branch),1)]),e("div",uc,[_c,M(i(Q),{name:"department",type:"text",class:P(["form-control",{"is-invalid":b.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:f.department,"onUpdate:modelValue":S[4]||(S[4]=E=>f.department=E)},null,8,["class","modelValue"]),e("span",mc,s(b.department),1)]),e("div",hc,[pc,M(i(Q),{name:"warehouse",type:"text",class:P(["form-control",{"is-invalid":b.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:f.warehouse,"onUpdate:modelValue":S[5]||(S[5]=E=>f.warehouse=E)},null,8,["class","modelValue"]),e("span",vc,s(b.warehouse),1)]),e("div",bc,[fc,M(i(Q),{name:"user",type:"text",class:P(["form-control",{"is-invalid":b.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:f.user,"onUpdate:modelValue":S[6]||(S[6]=E=>f.user=E)},null,8,["class","modelValue"]),e("span",$c,s(b.user),1)])]),e("div",gc,[e("div",yc,[kc,M(i(Q),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:f.brand,"onUpdate:modelValue":S[7]||(S[7]=E=>f.brand=E)},null,8,["modelValue"])]),e("div",xc,[wc,M(i(Q),{name:"model",type:"text",class:P(["form-control",{"is-invalid":b.model}]),id:"model",modelValue:f.model,"onUpdate:modelValue":S[8]||(S[8]=E=>f.model=E),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Cc,s(b.model),1)]),e("div",Sc,[Dc,M(i(Q),{name:"assettag",type:"text",class:P(["form-control",{"is-invalid":b.assettag}]),id:"assettag",modelValue:f.assettag,"onUpdate:modelValue":S[9]||(S[9]=E=>f.assettag=E),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Mc,s(b.assettag),1)]),e("div",Uc,[Vc,K(e("input",{name:"serialnum",type:"text",class:P(["form-control",{"is-invalid":b.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":S[10]||(S[10]=E=>f.serialnum=E)},null,2),[[ne,f.serialnum]]),e("span",Ac,s(b.serialnum),1)])]),e("div",Tc,[e("div",Ec,[Pc,M(i(Q),{name:"problem",as:"textarea",class:P(["form-control",{"is-invalid":b.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:f.problem,"onUpdate:modelValue":S[11]||(S[11]=E=>f.problem=E)},null,8,["class","modelValue"]),e("span",Ic,s(b.problem),1)]),e("div",Lc,[Fc,M(i(Q),{name:"assconducted",as:"textarea",class:P(["form-control",{"is-invalid":b.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:f.assconducted,"onUpdate:modelValue":S[12]||(S[12]=E=>f.assconducted=E)},null,8,["class","modelValue"]),e("span",Yc,s(b.assconducted),1)]),e("div",Bc,[qc,M(i(Q),{name:"recommendation",as:"textarea",class:P(["form-control",{"is-invalid":b.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:f.recommendation,"onUpdate:modelValue":S[13]||(S[13]=E=>f.recommendation=E)},null,8,["class","modelValue"]),e("span",Nc,s(b.recommendation),1)])])])])]),e("div",Rc,[_.value?(t(),a("div",jc,[i(p).user.role==="ADMIN"?(t(),a("div",Hc,[e("button",{type:"button",onClick:S[14]||(S[14]=E=>U(2)),class:"btn btn-info"}," Approved "),Oc,e("div",zc,[e("span",{onClick:S[15]||(S[15]=E=>U(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:S[16]||(S[16]=E=>U(3)),class:"dropdown-item"},"Disapproved")])])):L("",!0)])):L("",!0),Gc,Qc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Wc,[e("div",Kc,[e("div",Xc,[Jc,e("div",Zc,[er,e("button",{onClick:le(te,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Fe=Qe("SettingStore",()=>{const o=n({app_name:""}),g=yt("SettingStore:theme",n("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(d=>{o.value=d.data})},theme:g,changeTheme:()=>{g.value=g.value==="light"?"dark":"light"}}});const J=o=>(De("data-v-56abd651"),o=o(),Me(),o),sr={class:"content"},ar={class:"container-fluid"},or={class:"card"},lr={class:"card-header"},nr={class:"card-title"},dr={class:"card-body"},ir={class:"col-md-12"},cr={class:"d-flex justify-content-between"},rr=J(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ur={class:"d-flex"},_r={class:"col-12",id:"accordion"},mr=J(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),hr=J(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),pr=J(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),vr=J(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),br={key:1},fr={key:0},$r={class:"card card-secondary"},gr={class:"card-body d-flex align-items-center justify-content-center"},yr={class:"image-container"},kr=["src"],xr=J(()=>e("div",{class:"overlay"},null,-1)),wr={key:1},Cr={class:"card-header bg-white"},Sr={class:"card-title"},Dr=["href"],Mr=["src"],Ur={class:"card-tools"},Vr=["onClick"],Ar=J(()=>e("i",{class:"fas fa-tasks"},null,-1)),Tr=[Ar],Er=["disabled","onClick"],Pr=["onClick"],Ir=J(()=>e("p",{class:"float-right"},null,-1)),Lr=["id"],Fr={class:"card-body"},Yr={class:"col-md-12"},Br={class:"dispatch-table"},qr={class:"row"},Nr={class:"col-4"},Rr=J(()=>e("b",null,"Site:",-1)),jr=J(()=>e("b",null,"Planned Date:",-1)),Hr=J(()=>e("b",null,"Planned End Date:",-1)),Or={class:"col-4"},zr=J(()=>e("b",null,"Start Date:",-1)),Gr=J(()=>e("b",null,"Accomplished Date:",-1)),Qr={class:"closestatus"},Wr=J(()=>e("b",{style:{color:"black"}},"Type:",-1)),Kr={class:"col-4"},Xr={class:"ongoing"},Jr=J(()=>e("b",{style:{color:"black"}},"Status:",-1)),Zr=J(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),eu=J(()=>e("b",null,"Remarks:",-1)),tu={style:{margin:"0.5%"}},su=["disabled","onClick"],au=["onClick","disabled"],ou={class:"dispatch-list"},lu={class:"list-group list-group-flush"},nu={class:"list-group-item d-flex justify-content-between align-items-center"},du={class:"badge badge-primary badge-pill"},iu={class:"list-group-item d-flex justify-content-between align-items-center"},cu={class:"badge badge-primary badge-pill"},ru={class:"list-group-item d-flex justify-content-between align-items-center"},uu={class:"badge badge-primary badge-pill"},_u={class:"list-group-item d-flex justify-content-between align-items-center"},mu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},vu={class:"list-group-item d-flex justify-content-between align-items-center"},bu={class:"badge badge-primary badge-pill"},fu={class:"list-group-item d-flex justify-content-between align-items-center"},$u={class:"badge badge-primary badge-pill"},gu={class:"list-group-item d-flex justify-content-between align-items-center"},yu={class:"badge badge-primary badge-pill"},ku=J(()=>e("hr",null,null,-1)),xu={class:"row"},wu={class:"col"},Cu=["onClick"],Su=J(()=>e("i",{class:"fas fa-pen"},null,-1)),Du=["onClick"],Mu=J(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),N(" Drop ")],-1)),Uu=[Mu],Vu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Au={class:"modal-dialog modal-dialog-centered",role:"document"},Tu={class:"modal-content"},Eu={class:"modal-header"},Pu={class:"modal-title",id:"staticBackdropLabel"},Iu={key:0},Lu={key:1},Fu={key:2},Yu=J(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Bu={class:"modal-body"},qu={class:"col-md-12"},Nu={class:"row"},Ru={class:"col-12"},ju={class:"form-group"},Hu=J(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ou=J(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),zu=["value"],Gu={key:0,class:"d-flex justify-content-between"},Qu={class:"d-flex"},Wu={class:"form-group"},Ku=J(()=>e("label",{for:"end-time"},"Start Date",-1)),Xu={class:"form-group"},Ju=J(()=>e("label",{for:"end-time"},"Hour",-1)),Zu=["value"],e_=J(()=>e("div",{class:"d-fex"},null,-1)),t_={key:1,class:"d-flex justify-content-between"},s_={class:"d-flex"},a_={class:"form-group"},o_=J(()=>e("label",{for:"end-time"},"End Date",-1)),l_={class:"form-group"},n_=J(()=>e("label",{for:"end-time"},"Hour",-1)),d_=["value"],i_=J(()=>e("div",{class:"d-fex"},null,-1)),c_={class:"form-group"},r_=J(()=>e("label",{for:"site"},"Task",-1)),u_=J(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),__=["value"],m_=J(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),h_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},p_={class:"modal-dialog modal-sm",role:"document"},v_={class:"modal-content"},b_={class:"modal-header"},f_={class:"modal-title",id:"staticBackdropLabel"},$_=J(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),g_={class:"modal-body"},y_=xe('<ul class="nav nav-tabs" id="myTabs" data-v-56abd651><li class="nav-item" data-v-56abd651><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-56abd651> Todo List</a></li><li class="nav-item" data-v-56abd651><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-56abd651> Todo</a></li></ul>',1),k_={class:"tab-content"},x_={class:"tab-pane fade show active",id:"todolist"},w_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},C_=J(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),S_=J(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),D_={key:0,class:"list-group-item mt-2"},M_={class:"d-flex justify-content-between"},U_={class:"d-flex"},V_=["onClick"],A_={class:"d-flex"},T_=["onClick"],E_={class:"m-2 list-unstyled"},P_={key:1},I_={key:0,class:"list-group-item mt-2"},L_={class:"d-flex justify-content-between"},F_={class:"d-flex"},Y_=["onClick"],B_={class:"d-flex"},q_=["onClick"],N_={key:1,class:"mt-2 text-center"},R_=J(()=>e("span",null,"No Todo",-1)),j_=[R_],H_={class:"tab-pane fade",id:"formTask"},O_={class:"col-md-12"},z_={class:"row"},G_={class:"col-12"},Q_={class:"m-2",style:{display:"flex","align-items":"center"}},W_=J(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),N("\xA0Save ")])],-1)),K_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},X_={class:"modal-dialog",role:"document"},J_={class:"modal-content"},Z_=xe('<div class="modal-header" data-v-56abd651><h5 class="modal-title" id="staticBackdropLabel" data-v-56abd651><span data-v-56abd651>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-56abd651><span aria-hidden="true" data-v-56abd651>\xD7</span></button></div><div class="modal-body" data-v-56abd651><h5 data-v-56abd651>Are you sure you want to delete this record ?</h5></div>',2),em={class:"modal-footer"},tm=J(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),sm={__name:"MyPrio",setup(o){const g=`${fe().name}`,c=n(!1),l=n(!1),d=ut("$swal");Fe();const u=ce(),k=n({data:[]}),A=n([]);n([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const _=n();n();const x=n(!0),f=n(!1);n(!1),n();const p=n(),r=n(),y=n(),q=ie();n(null),n(!1);const G=n([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),O=n(),oe=n("1:00 AM"),Y=n(),C=n("1:00 AM"),w=n(Array.from({length:24},(F,R)=>{const m=R%12+1,re=R<12?"AM":"PM";return`${m}:00 ${re}`})),h=n(Array.from({length:24},(F,R)=>{const m=R%12+1,re=R<12?"AM":"PM";return`${m}:00 ${re}`})),I=Ue({dailytask_id:"",site:"",user_id:q.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});ve([O,oe],()=>{const F=new Date(O.value),R=F.getFullYear(),m=String(F.getMonth()+1).padStart(2,"0"),re=String(F.getDate()).padStart(2,"0");I.plandate=`${R}-${m}-${re} ${oe.value}`}),ve([O,C],()=>{const F=new Date(O.value);F.getFullYear(),String(F.getMonth()+1).padStart(2,"0"),String(F.getDate()).padStart(2,"0")}),ve([Y,C],()=>{const F=new Date(Y.value),R=F.getFullYear(),m=String(F.getMonth()+1).padStart(2,"0"),re=String(F.getDate()).padStart(2,"0");I.enddates=`${R}-${m}-${re} ${C.value}`});const H=n({id:"",dailytask_id:"",task_name:"",iscompleted:0}),Z=()=>{T.get("/web/getsite").then(F=>{_.value=F.data.sites}).catch(F=>{console.log(F)})},z=()=>{c.value=!0,T.get("/api/dailytask",{params:{query:Be.value}}).then(F=>{c.value=!1,k.value=F.data,ot.value=[]})},te=async F=>{(await d({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(c.value=!0,T.put(`/api/dailytask/drop/${F}`).then(m=>{u.success("Data drop successfully!"),c.value=!1,z()}))},_e=()=>{$("#FormModalTask").modal("show")},U=F=>{_e(),H.value.dailytask_id=F.dailytask_id,r.value=F.taskdate,y.value=F.startdate,l.value=!0,T.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(R=>{A.value=R.data,_e(),l.value=!1}).catch(R=>{console.error("Error fetching tasks:",R)})},v=()=>{l.value=!0,T.post("/api/dailytask/addnewTask",{dailytask_id:H.value.dailytask_id,task_name:H.value.task_name,iscompleted:H.value.iscompleted}).then(F=>{u.success("Data created successfully!"),T.get(`/api/dailytask/${H.value.dailytask_id}/tasks`).then(R=>{A.value=R.data,l.value=!1}).catch(R=>{console.error("Error fetching tasks:",R),u.error("Error fetching tasks. Please try again.")}),H.value.task_name=""}).catch(F=>{console.error("Error adding new task:",F),u.error("Error adding new task. Please try again.")})},V=F=>{H.value.iscompleted=F.iscompleted===1?0:1,T.post("/api/dailytask/addnewTask",{id:F.id,dailytask_id:F.dailytask_id,task_name:F.task_name,iscompleted:H.value.iscompleted}).then(R=>{T.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(m=>{A.value=m.data}).catch(m=>{console.error("Error fetching tasks:",m),u.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),u.error("Error adding new task. Please try again.")})},S=Ee(()=>Array.isArray(A.value)?A.value.filter(F=>F.iscompleted===1):[]),D=Ee(()=>S.value.length),me=()=>{x.value=!x.value},b=F=>{T.delete(`/api/dailytask/deleteTask/${F.id}`).then(R=>{T.get(`/api/dailytask/${F.dailytask_id}/tasks`).then(m=>{A.value=m.data,u.success("Todo successfull Deleted")}).catch(m=>{console.error("Error fetching tasks:",m),u.error("Error fetching tasks. Please try again.")})}).catch(R=>{console.error("Error adding new task:",R),u.error("Error adding new task. Please try again.")})};ke({site:B().required(),tasktype:B().required(),plandate:B().required(),planenddate:B().required()}),ke({site:B().required(),tasktype:B().required(),plandate:B().required(),planenddate:B().required()});const E=(F,R)=>{T.post("/api/dailytask",I).then(m=>{console.log(m.data),z(),$("#FormModal").modal("hide"),u.success("data created successfully!")}).catch(m=>{R.setErrors(m.response.data.errors)})},be=(F,R)=>{T.put("/api/dailytask/"+I.dailytask_id,I).then(m=>{console.log(m.data),z(),$("#FormModal").modal("hide"),u.success("data update successfully!")}).catch(m=>{R.setErrors(m.response.data.errors)})},ee=F=>{F&&F.dailytask_id!==null&&F.dailytask_id!==void 0?(f.value=!0,p.value=" on "+pe(F.taskdate).format("MMMM D, YYYY"),I.site=F.site,I.dailytask_id=F.dailytask_id,I.plandate=F.plandate,I.planenddate=F.planenddate):f.value=!1,Z(),$("#FormModal").modal("show")},we=(F,R)=>{f.value?be(F,R):E(F,R)},st=async F=>{try{const R=await T.get(`/api/dailytask/${F.dailytask_id}/tasks`);if(A.value=R.data,!A.value||A.value.length===0){d.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await d.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const re=await T.put("/api/dailytask/onhandler/"+F.dailytask_id,F);u.success(re.data.message),z()}}catch(R){console.error("Error fetching tasks:",R),u.error("An error occurred while updating the task.")}},at=async F=>{if((await d({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{pe(F.taskdate).format("YYYY-MM-DD")===pe().format("YYYY-MM-DD")?(F.remarks="HIT",F.status="On Schedule"):(F.remarks="MISS",F.status="Behind Schedule");const re=await T.put("/api/dailytask/onhandler/"+F.dailytask_id,F);u.success(re.data.message),z()}catch(m){console.error(m),u.error("An error occurred while updating the task.")}},Be=n(null),ot=n([]),Oe=n(null),lt=()=>{T.delete(`/api/tech-recommendations/${Oe.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Client deleted successfully!"),k.value.data=k.value.data.filter(F=>F.id!==Oe.value)})};return ve(Be,Te.exports.debounce(()=>{z()},300)),ue(()=>{We(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),z(),document.title=g}),(F,R)=>(t(),a(j,null,[e("div",sr,[e("div",ar,[e("div",or,[e("div",lr,[e("div",nr,s(i(q).user.first_name+" "+i(q).user.last_name)+" - My Prio ",1)]),e("div",dr,[e("div",ir,[e("div",cr,[e("div",{class:"d-flex"},[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary"},[rr,N(" Task ")])]),e("div",ur,[K(e("input",{type:"text","onUpdate:modelValue":R[0]||(R[0]=m=>Be.value=m),class:"form-control",placeholder:"Search..."},null,512),[[ne,Be.value]])])]),e("div",_r,[c.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[mr,hr,pr,vr]),_:1})):(t(),a("div",br,[k.value.length===0?(t(),a("div",fr,[e("div",$r,[e("div",gr,[e("div",yr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,kr),xr])])])])):(t(),a("div",wr,[(t(!0),a(j,null,W(k.value,m=>(t(),a("div",{class:"card card-primary",key:m.id},[e("div",Cr,[e("h4",Sr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+m.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Mr),N(" \xA0"),e("b",null,s(i(pe)(m.taskdate).format("MMMM D, YYYY")),1)],8,Dr)]),e("div",Ur,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:re=>U(m)},Tr,8,Vr),e("button",{disabled:m.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:re=>at(m)}," End ",8,Er),m.startdate?L("",!0):(t(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:re=>st(m)}," Start ",8,Pr)),Ir])]),e("div",{id:"collapse"+m.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Fr,[e("div",Yr,[e("div",Br,[e("div",qr,[e("div",Nr,[e("h5",null,[Rr,N(" "+s(m.site_name),1)]),e("h5",null,[jr,N(" "+s(m.plandate),1)]),e("h5",null,[Hr,N(" "+s(m.planenddate),1)])]),e("div",Or,[e("h5",null,[zr,N(" "+s(m.startdate!==null?i(pe)(m.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Gr,N(" "+s(m.enddate!==null?i(pe)(m.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Qr,[Wr,N(" "+s(m.tasktype?m.tasktype.join(", "):""),1)])]),e("div",Kr,[e("h5",Xr,[Jr,N(" "+s(m.status),1)]),e("h5",null,[Zr,N(" "+s(m.attachment),1)]),e("h5",null,[eu,N(" "+s(m.remarks),1)])])]),e("div",tu,[e("button",{disabled:m.startdate!==null,onClick:re=>te(m.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,su),e("button",{onClick:re=>ee(m),type:"button",disabled:m.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,au)])]),e("div",ou,[e("ul",lu,[e("li",nu,[N(" Site: "),e("span",du,s(m.site_name),1)]),e("li",iu,[N(" Planned Date: "),e("span",cu,s(m.plandate),1)]),e("li",ru,[N(" Planned End Date: "),e("span",uu,s(m.planenddate),1)]),e("li",_u,[N(" Start Date: "),e("span",mu,s(m.startdate!==null?i(pe)(m.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",hu,[N(" Type: "),e("span",pu,s(m.tasktype?m.tasktype.join(", "):""),1)]),e("li",vu,[N(" Status: "),e("span",bu,s(m.status),1)]),e("li",fu,[N(" Attachment: "),e("span",$u,s(m.attachment),1)]),e("li",gu,[N(" Remarks: "),e("span",yu,s(m.remarks),1)])]),ku,e("div",xu,[e("div",wu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:re=>ee(m)},[Su,N(" Edit ")],8,Cu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:re=>te(m.dailytask_id)},Uu,8,Du)])])])])])],8,Lr)]))),128))]))]))])])])])])]),e("div",Vu,[e("div",Au,[e("div",Tu,[e("div",Eu,[e("h5",Pu,[f.value?(t(),a("span",Iu,"Edit My Task")):(t(),a("span",Lu,"Add My Task")),f.value?(t(),a("span",Fu,s(p.value),1)):L("",!0)]),Yu]),M(i(Se),{onSubmit:we},{default:X(()=>[e("div",Bu,[e("div",qu,[e("div",Nu,[e("div",Ru,[M(i(Q),{modelValue:I.user_id,"onUpdate:modelValue":R[1]||(R[1]=m=>I.user_id=m),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",ju,[Hu,K(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":R[2]||(R[2]=m=>I.site=m)},[Ou,(t(!0),a(j,null,W(_.value,m=>(t(),a("option",{key:m.id,value:m.id},s(m.site_name),9,zu))),128))],512),[[Ve,I.site]])]),f.value==!1?(t(),a("div",Gu,[e("div",Qu,[e("div",Wu,[Ku,M(i(Pe),{class:"form-control",modelValue:O.value,"onUpdate:modelValue":R[3]||(R[3]=m=>O.value=m)},null,8,["modelValue"])]),e("div",Xu,[Ju,K(e("select",{class:"form-control","onUpdate:modelValue":R[4]||(R[4]=m=>oe.value=m),id:"plandate"},[(t(!0),a(j,null,W(w.value,m=>(t(),a("option",{key:m,value:m},s(m),9,Zu))),128))],512),[[Ve,oe.value]])])]),e_])):L("",!0),f.value==!1?(t(),a("div",t_,[e("div",s_,[e("div",a_,[o_,M(i(Pe),{class:"form-control",modelValue:Y.value,"onUpdate:modelValue":R[5]||(R[5]=m=>Y.value=m)},null,8,["modelValue"])]),e("div",l_,[n_,K(e("select",{class:"form-control","onUpdate:modelValue":R[6]||(R[6]=m=>C.value=m),id:"plandate"},[(t(!0),a(j,null,W(h.value,m=>(t(),a("option",{key:m,value:m},s(m),9,d_))),128))],512),[[Ve,C.value]])])]),i_])):L("",!0),e("div",c_,[r_,M(i(Q),{name:"tasktype"},{default:X(()=>[K(e("select",{"onUpdate:modelValue":R[7]||(R[7]=m=>I.tasktype=m),class:"form-control",required:!0},[u_,(t(!0),a(j,null,W(G.value,m=>(t(),a("option",{key:m.value,value:m.value},s(m.name),9,__))),128))],512),[[Ve,I.tasktype]])]),_:1})])])])])]),m_]),_:1})])])]),e("div",h_,[e("div",p_,[e("div",v_,[e("div",b_,[e("h5",f_," My Todo of "+s(i(pe)(r.value).format("MM/D/YYYY")),1),$_]),e("div",g_,[y_,e("div",k_,[e("div",x_,[A.value.length>0?(t(),a("div",w_,[l.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[C_,S_]),_:1})):L("",!0),(t(!0),a(j,null,W(A.value,m=>(t(),a("ul",{class:"list-group",key:m.id},[m.iscompleted!==1?(t(),a("li",D_,[e("div",M_,[e("div",U_,[y.value?(t(),a("i",{key:0,onClick:re=>V(m),class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":m.iscompleted===1,"fa fa-circle text-primary":m.iscompleted!==1}),style:{"font-size":"15px"}},null,10,V_)):L("",!0),e("span",{class:P({"font-italic":m.iscompleted===1,"":m.iscompleted!==1})},s(m.task_name),3)]),e("div",A_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>b(m)},null,8,T_)])])])):L("",!0)]))),128)),e("li",E_,[D.value>0?(t(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:me},[e("i",{class:P(["fa",x.value?"fa-arrow-down":"fa-arrow-right"])},null,2),N(" \xA0Completed "+s(D.value),1)])):L("",!0)]),x.value?(t(),a("div",P_,[(t(!0),a(j,null,W(A.value,m=>(t(),a("ul",{class:"list-group",key:m.id},[m.iscompleted===1?(t(),a("li",I_,[e("div",L_,[e("div",F_,[e("i",{class:P({"cursor-pointer mr-2":!0,"fa fa-check-circle":m.iscompleted===1,"fa fa-circle":m.iscompleted!==1}),style:{"font-size":"15px"},onClick:re=>V(m)},null,10,Y_),e("span",{class:P({"font-italic":m.iscompleted===1,"":m.iscompleted!==1})},[e("del",null,s(m.task_name),1)],2)]),e("div",B_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>b(m)},null,8,q_)])])])):L("",!0)]))),128))])):L("",!0)])):(t(),a("div",N_,j_))]),e("div",H_,[M(i(Se),{onSubmit:v},{default:X(()=>[e("div",O_,[e("div",z_,[e("div",G_,[M(i(Q),{modelValue:H.value.dailytask_id,"onUpdate:modelValue":R[8]||(R[8]=m=>H.value.dailytask_id=m),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",Q_,[M(i(Q),{modelValue:H.value.task_name,"onUpdate:modelValue":R[9]||(R[9]=m=>H.value.task_name=m),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),W_]),_:1})])])])])])]),e("div",K_,[e("div",X_,[e("div",J_,[Z_,e("div",em,[tm,e("button",{onClick:le(lt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var am=ge(sm,[["__scopeId","data-v-56abd651"]]);const om={class:"text-center"},lm={key:0},nm={class:"text-center"},dm={key:0},im={class:"text-center"},cm={key:0},rm={key:0,class:"bg-success text-center"},um={key:1,class:"bg-danger text-center"},_m={key:2,class:"text-center"},mm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return ce(),ie(),(g,c)=>(t(),a("tr",null,[e("td",null,s(i(pe)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",om,[o.item.task_lists_count!==0?(t(),a("span",lm,s(o.item.task_lists_count),1)):L("",!0)]),e("td",nm,[o.item.completed_task_count!==0?(t(),a("span",dm,s(o.item.completed_task_count),1)):L("",!0)]),e("td",im,[o.item.status!=="On Going"?(t(),a("span",cm,s(o.item.status),1)):L("",!0)]),o.item.remarks==="HIT"?(t(),a("td",rm,s(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),a("td",um,s(o.item.remarks),1)):o.item.remarks===null?(t(),a("td",_m,s(o.item.startdate!=null?"On Going!":""),1)):L("",!0),e("td",{class:P({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},s(o.item.percentage_completed+"%"),3)]))}};const he=o=>(De("data-v-0e97ba77"),o=o(),Me(),o),hm={class:"content-header"},pm={class:"container-fluid"},vm={class:"col-12"},bm={class:"card",id:"captureVSCContainer"},fm={class:"card-header"},$m={class:"card-title"},gm={class:"card-tools"},ym={class:"card-body"},km=he(()=>e("i",{class:"fa fa-camera"},null,-1)),xm=[km],wm=he(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Cm=he(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Sm=he(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Dm=he(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Mm={key:1,class:"row"},Um={class:"inner"},Vm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Am=["src"],Tm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Em={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Pm={style:{"text-align":"left"}},Im={key:0},Lm=he(()=>e("span",{class:"text-light badge"},"Todos",-1)),Fm={class:"list-group list-group-flush"},Ym={style:{display:"flex","align-items":"left"}},Bm={class:"ml-1"},qm={class:"ml-1"},Nm={key:1},Rm={class:"float-right"},jm={id:"captureHitRateContainer",class:"card"},Hm={class:"card-header"},Om={class:"card-title"},zm={class:"card-body"},Gm={class:"content"},Qm={class:"container-fluid"},Wm=he(()=>e("i",{class:"fa fa-camera"},null,-1)),Km=[Wm],Xm={class:"dispatch-table"},Jm={class:"table-responsive"},Zm={class:"table table-bordered table-hover table-sm"},eh=he(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),th=["item"],sh={class:"list-field"},ah=he(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),oh={class:"list-field"},lh=he(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),nh={key:0},dh={class:"list-field"},ih=he(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),ch={key:0},rh={class:"list-field"},uh=he(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),_h={class:"list-field"},mh=he(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),hh={class:"list-field"},ph=he(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),vh={class:"float-right"},bh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fh={class:"modal-dialog modal-sm",role:"document"},$h={class:"modal-content"},gh=he(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),yh={class:"modal-body"},kh={class:"fromtocenter"},xh=he(()=>e("label",{for:"fromDate"},"From:",-1)),wh=he(()=>e("label",{for:"toDate"},"To:",-1)),Ch=he(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Sh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Dh={class:"modal-dialog modal-sm",role:"document"},Mh={class:"modal-content"},Uh=he(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Vh={class:"modal-body"},Ah={class:"container"},Th={class:"row"},Eh=["onClick"],Ph=he(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Ih={__name:"MyVsc",setup(o){const g=`${fe().name}`,c=ie(),l=n(!1),d=n([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),k=n((()=>{const C={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",C)})()),A=()=>{const C=document.getElementById("captureVSCContainer");Re(C).then(w=>{const h=w.toDataURL(),I=document.createElement("a");I.href=h,I.download=`${c.user.first_name+" "+c.user.last_name} - ${g}.png`,I.click()})},_=()=>{const C=document.getElementById("captureHitRateContainer");Re(C).then(w=>{const h=w.toDataURL(),I=document.createElement("a");I.href=h,I.download=`${c.user.first_name+" "+c.user.last_name} - My HIT RATE.png`,I.click()})};n(null),n("today");const x=n({data:[]}),f=n({data:[]}),p=()=>{l.value=!0,axios.get("/api/myvsc").then(C=>{l.value=!1,x.value=C.data.dailyTasks,f.value=C.data.TaskList})},r=()=>{$("#FormModalfilterDate").modal("show")},y=n({start_date:"",end_date:""}),q=n(""),G=n("");ve([q],()=>{const C=new Date(q.value),w=C.getFullYear(),h=String(C.getMonth()+1).padStart(2,"0"),I=String(C.getDate()).padStart(2,"0");y.value.start_date=`${w}-${h}-${I}`}),ve([G],()=>{const C=new Date(G.value),w=C.getFullYear(),h=String(C.getMonth()+1).padStart(2,"0"),I=String(C.getDate()).padStart(2,"0");y.value.end_date=`${w}-${h}-${I}`});const O=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:y.value.start_date,end_date:y.value.end_date}}).then(C=>{l.value=!1,x.value=C.data.dailyTasks,f.value=C.data.TaskList}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},oe=()=>{$("#FormModalPickerThemes").modal("show")},Y=C=>{if(C){const w=c.user.id;axios.post("/api/changethemes",{userid:w,background:C.background,active_background:C.active_background,font_background:C.font_background}).then(h=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(I=>{l.value=!1,x.value=I.data.dailyTasks,f.value=I.data.TaskList})}).catch(h=>{console.error(h)})}else console.error("Invalid item:",C)};return ue(()=>{p(),document.title=g}),(C,w)=>(t(),a(j,null,[e("div",hm,[e("div",pm,[e("div",vm,[e("div",bm,[e("div",fm,[e("div",$m,[e("h5",null,s(i(c).user.first_name+" "+i(c).user.last_name)+" - "+s(g),1)]),e("div",gm,[e("i",{onClick:w[0]||(w[0]=h=>oe()),class:"fas fa-palette"})])]),e("div",ym,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:A,type:"button",class:"mb-2 btn btn-sm btn-success"},xm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:r})])]),l.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[wm,Cm,Sm,Dm]),_:1})):(t(),a("div",Mm,[(t(!0),a(j,null,W(x.value,h=>(t(),a("div",{class:"col-lg-3 col-6",key:h.id},[e("div",{class:"small-box",style:Ne("background-color: "+(i(pe)(h.taskdate).format("MMMM D, YYYY")===k.value?h.active_background==""?"#72461F":h.active_background:h.background==""?"#B98D65":h.background)+";")},[e("div",Um,[e("div",Vm,[N(s(i(pe)(h.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Am)]),e("div",Tm,s(i(pe)(h.taskdate).format("MMMM D, YYYY")),1),e("div",Em,s(h.site_name),1),e("div",Pm,[h.task_lists&&h.task_lists.length>0?(t(),a("div",Im,[Lm,e("ul",Fm,[(t(!0),a(j,null,W(h.task_lists,I=>(t(),a("li",{class:"list-group-item",key:I.id},[e("div",Ym,[e("div",Bm,[e("i",{class:P(I.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",qm,s(I.task_name),1)])]))),128))])])):(t(),a("span",Nm))])])],4)]))),128))])),e("div",Rm,s(k.value),1)])]),e("div",jm,[e("div",Hm,[e("div",Om,[e("h5",null,s(i(c).user.first_name+" "+i(c).user.last_name)+" - My HIT RATE ",1)])]),e("div",zm,[e("div",Gm,[e("div",Qm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:_,type:"button",class:"mb-2 btn btn-sm btn-success"},Km)])]),e("div",Xm,[e("div",Jm,[e("table",Zm,[eh,e("tbody",null,[(t(!0),a(j,null,W(f.value,h=>(t(),de(mm,{key:h.id,item:h},null,8,["item"]))),128))])])])]),(t(!0),a(j,null,W(f.value,h=>(t(),a("div",{class:"dispatch-list",key:h.id,item:h},[e("div",{class:P([{"callout callout-success":h.remarks==="HIT","callout callout-danger":h.remarks==="MISS",callout:h.remarks===null}])},[e("div",sh,[ah,e("span",null,s(i(pe)(h.taskdate).format("MMMM D, YYYY")),1)]),e("div",oh,[lh,h.task_lists_count!==0?(t(),a("span",nh,s(h.task_lists_count),1)):L("",!0)]),e("div",dh,[ih,h.completed_task_count!==0?(t(),a("span",ch,s(h.completed_task_count),1)):L("",!0)]),e("div",rh,[uh,e("span",null,[e("b",null,s(h.status),1)])]),e("div",_h,[mh,e("span",{class:P(["badge",h.remarks==="HIT"?"bg-success":"bg-danger"])},s(h.remarks),3)]),e("div",hh,[ph,e("span",{class:P(["badge",{"bg-danger":h.percentage_completed>=0&&h.percentage_completed<=59},{"bg-orange":h.percentage_completed>60&&h.percentage_completed<=90},{"bg-success":h.percentage_completed===100}])},s(h.percentage_completed+"%"),3)])],2)],8,th))),128))])]),e("div",vh,s(k.value),1)])])])])]),e("div",bh,[e("div",fh,[e("div",$h,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(g)+" Summary Report")]),gh]),e("div",yh,[e("div",kh,[e("div",null,[xh,M(i(Pe),{modelValue:q.value,"onUpdate:modelValue":w[1]||(w[1]=h=>q.value=h)},null,8,["modelValue"])]),e("div",null,[wh,M(i(Pe),{modelValue:G.value,"onUpdate:modelValue":w[2]||(w[2]=h=>G.value=h)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Ch,e("button",{onClick:O,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Sh,[e("div",Dh,[e("div",Mh,[Uh,e("div",Vh,[e("div",Ah,[e("div",Th,[(t(!0),a(j,null,W(d.value,h=>(t(),a("div",{class:"col-md-4",key:h.background},[e("div",{class:"box",onClick:I=>Y(h)},[e("div",{class:"column",style:Ne({"background-color":h.background})},"\xA0",4),e("div",{class:"column",style:Ne({"background-color":h.active_background})},"\xA0",4)],8,Eh)]))),128))])])]),Ph])])])],64))}};var Lh=ge(Ih,[["__scopeId","data-v-0e97ba77"]]);const Fh={class:"text-center"},Yh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return ce(),ie(),(g,c)=>(t(),a("tr",null,[e("td",null,s(o.item.sitename),1),e("td",null,s(i(pe)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,s(o.item.startdate),1),e("td",null,s(o.item.enddate),1),e("td",null,s(o.item.tasktype.listtask),1),e("td",null,s(o.item.status),1),e("td",Fh,[e("span",{class:P(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},s(o.item.remarks),3)])]))}};var Bh=ge(Yh,[["__scopeId","data-v-f22938e0"]]);const $e=o=>(De("data-v-cf91975a"),o=o(),Me(),o),qh={class:"content"},Nh={class:"container-fluid"},Rh={class:"card",id:"capturePrioContainer"},jh={class:"card-header"},Hh={class:"card-title"},Oh={class:"card-body"},zh=$e(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Gh=$e(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Qh=$e(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Wh=$e(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Kh={key:1,class:"content"},Xh={class:"container-fluid"},Jh=$e(()=>e("i",{class:"fa fa-camera"},null,-1)),Zh=[Jh],ep={class:"dispatch-table"},tp={class:"table-responsive"},sp={class:"table table-bordered table-sm table-striped table-hover"},ap=$e(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),op={key:0},lp={key:1},np=$e(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),dp=[np],ip=["item","index"],cp={class:"card"},rp={class:"card-body"},up={class:"list-field"},_p=$e(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),mp={class:"list-field"},hp=$e(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),pp={class:"list-field"},vp=$e(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),bp={class:"list-field"},fp=$e(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),$p={class:"list-field"},gp=$e(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),yp={class:"list-field"},kp=$e(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),xp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wp={class:"modal-dialog modal-sm",role:"document"},Cp={class:"modal-content"},Sp=$e(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Dp={class:"modal-body"},Mp={class:"fromtocenter"},Up=$e(()=>e("label",{for:"fromDate"},"From:",-1)),Vp=$e(()=>e("label",{for:"toDate"},"To:",-1)),Ap=$e(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Tp={__name:"MyClosePrioList",setup(o){const g=`${fe().name}`,c=n(!1);ce();const l=n({data:[]}),d=n(""),u=n(""),k=ie(),A=(p=1)=>{c.value=!0,T.get(`/api/mycloseprio?page=${p}`,{params:{query:f.value}}).then(r=>{c.value=!1,l.value=r.data})},_=()=>{const p=document.getElementById("capturePrioContainer");Re(p).then(r=>{const y=r.toDataURL(),q=document.createElement("a");q.href=y,q.download="MY CLOSED PRIO.png",q.click()})},x=()=>{c.value=!0,T.get("/api/filter-closeprio",{params:{start_date:d.value,end_date:u.value}}).then(p=>{c.value=!1,l.value=p.data.dailyTasks}).catch(p=>{console.error(p)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},f=n(null);return ve(f,Te.exports.debounce(()=>{A()},300)),ue(()=>{A(),document.title=g}),(p,r)=>{const y=ye("font");return t(),a(j,null,[e("div",qh,[e("div",Nh,[e("div",Rh,[e("div",jh,[e("div",Hh,[e("h5",null,s(i(k).user.first_name+" "+i(k).user.last_name)+" - My Closed Prio ",1)])]),e("div",Oh,[c.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[zh,Gh,Qh,Wh]),_:1})):(t(),a("div",Kh,[e("div",Xh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:_,type:"button",class:"mb-2 btn btn-sm btn-success"},Zh)])]),e("div",null,[e("div",ep,[e("div",tp,[M(y,{size:"2"},{default:X(()=>[e("table",sp,[ap,l.value.data.length>0?(t(),a("tbody",op,[(t(!0),a(j,null,W(l.value.data,(q,G)=>(t(),de(Bh,{key:q.id,item:q,index:G},null,8,["item","index"]))),128))])):(t(),a("tbody",lp,dp))])]),_:1})])]),(t(!0),a(j,null,W(l.value.data,(q,G)=>(t(),a("div",{class:"dispatch-list first-letter:shadow",key:q.id,item:q,index:G},[e("div",cp,[e("div",rp,[e("div",up,[_p,e("span",null,s(q.sitename),1)]),e("div",mp,[hp,e("span",null,s(i(pe)(q.taskdate).format("MMMM D, YYYY")),1)]),e("div",pp,[vp,e("span",null,s(q.startdate),1)]),e("div",bp,[fp,e("span",null,s(q.enddate),1)]),e("div",$p,[gp,e("span",null,s(q.tasktype.listtask),1)]),e("div",yp,[kp,e("span",{class:P(["badge",q.remarks==="HIT"?"bg-success":"bg-danger"])},s(q.remarks),3)])])])],8,ip))),128))])])]))])]),M(i(Le),{data:l.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",xp,[e("div",wp,[e("div",Cp,[Sp,e("div",Dp,[e("div",Mp,[e("div",null,[Up,M(i(Pe),{modelValue:d.value,"onUpdate:modelValue":r[0]||(r[0]=q=>d.value=q)},null,8,["modelValue"])]),e("div",null,[Vp,M(i(Pe),{modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=q=>u.value=q)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Ap,e("button",{onClick:x,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Ep=ge(Tp,[["__scopeId","data-v-cf91975a"]]);const Pp=["checked"],Ip={class:"text-center"},Lp=e("i",{class:"fa fa-edit"},null,-1),Fp=[Lp],Yp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:g}){ce();const c=o,l=g,d=()=>{l("toggleSelection",c.user)};return(u,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Pp)]),e("td",null,s(o.index+1),1),e("td",null,s(o.user.first_name+" "+o.user.last_name),1),e("td",null,s(o.user.email),1),e("td",null,s(o.user.formatted_created_at),1),e("td",Ip,[e("a",{href:"#",onClick:k[0]||(k[0]=le(A=>u.$emit("editUser",o.user),["prevent"]))},Fp)])]))}},Bp={class:"content"},qp={class:"container-fluid"},Np={class:"card"},Rp={class:"card-header"},jp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Hp={class:"card-tools"},Op={class:"card-body"},zp={class:"table-responsive"},Gp={class:"table table-bordered table-hover table-sm"},Qp=e("th",{style:{width:"10px"}},"#",-1),Wp=e("th",null,"Name",-1),Kp=e("th",null,"Email",-1),Xp=e("th",null,"Registered Date",-1),Jp=e("th",null,"Options",-1),Zp={key:0},ev={key:1},tv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),sv=[tv],av={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ov={class:"modal-dialog modal-sm",role:"document"},lv={class:"modal-content"},nv={class:"modal-header"},dv={class:"modal-title",id:"staticBackdropLabel"},iv={key:0},cv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),rv={class:"modal-body"},uv={class:"table table-sm"},_v=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),mv={colspan:"5"},hv={class:"custom-control custom-checkbox"},pv=["value","id","checked"],vv=["for"],bv={key:0,class:"table table-sm"},fv={class:"text-danger"},$v={class:"custom-control custom-checkbox"},gv=["value","id"],yv=["for"],kv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),xv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wv={class:"modal-dialog",role:"document"},Cv={class:"modal-content"},Sv=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Dv={class:"modal-footer"},Mv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Uv={__name:"UserMenuList",setup(o){const g=`${fe().name}`,c=ce(),l=n({data:[]}),d=n(!1),u=n(),k=n(null),A=n(null),_=n([]),x=(Y=1)=>{T.get(`/api/users?page=${Y}`,{params:{query:r.value}}).then(C=>{l.value=C.data,y.value=[],selectAll.value=!1})},f=Y=>{T.get("/api/usermenu",{params:{user_id:Y.id}}).then(C=>{oe.value=C.data,console.log(C.data)}).catch(C=>{console.log(C)}),d.value=!0,k.value.resetForm(),$("#userFormModal").modal("show"),u.value={id:Y.id,username:Y.username,email:Y.email,first_name:Y.first_name,last_name:Y.last_name},A.value=u.value.first_name+" "+u.value.last_name},p=()=>{const Y={user_id:u.value.id,menu_id:_.value};console.log(Y),T.post("/api/usermenu",Y).then(C=>{c.success("User Menu Save successfully!")}).catch(C=>{setErrors(C.response.data.errors)})},r=n(null),y=n([]),q=Y=>{const C=y.value.indexOf(Y.id);C===-1?y.value.push(Y.id):y.value.splice(C,1),console.log(y.value)},G=n(null),O=Y=>{G.value=Y,$("#deleteUserModal").modal("show")},oe=n({data:[]});return ve(r,Te.exports.debounce(()=>{x()},300)),ue(()=>{x(),document.title=g}),(Y,C)=>{const w=ye("font");return t(),a(j,null,[e("div",Bp,[e("div",qp,[e("div",Np,[e("div",Rp,[jp,e("div",Hp,[K(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=h=>r.value=h),class:"form-control",placeholder:"Search..."},null,512),[[ne,r.value]])])]),e("div",Op,[e("div",zp,[M(w,{size:"2"},{default:X(()=>[e("table",Gp,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":C[1]||(C[1]=h=>Y.selectAll=h),onChange:C[2]||(C[2]=(...h)=>Y.selectAllUsers&&Y.selectAllUsers(...h))},null,544),[[Ce,Y.selectAll]])]),Qp,Wp,Kp,Xp,Jp])]),l.value.data.length>0?(t(),a("tbody",Zp,[(t(!0),a(j,null,W(l.value.data,(h,I)=>(t(),de(Yp,{key:h.id,user:h,index:I,onEditUser:f,onConfirmUserDeletion:O,onToggleSelection:q,"select-all":Y.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),a("tbody",ev,sv))])]),_:1})])])]),M(i(Le),{data:l.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",av,[e("div",ov,[e("div",lv,[e("div",nv,[e("h5",dv,[d.value?(t(),a("span",iv,"User Menu for "+s(A.value),1)):L("",!0)]),cv]),M(i(Se),{ref_key:"form",ref:k,onSubmit:p,"initial-values":u.value},{default:X(()=>[e("div",rv,[e("table",uv,[_v,(t(!0),a(j,null,W(oe.value,h=>(t(),a("tr",{key:h.menu_id},[e("td",mv,[e("div",hv,[K(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[3]||(C[3]=I=>_.value=I),value:h.menu_id,id:"menu_id_"+h.menu_id,checked:h.hasAccess},null,8,pv),[[Ce,_.value]]),e("label",{for:"menu_id_"+h.menu_id,class:"custom-control-label"},s(h.menu_title),9,vv)]),h.submenus&&h.submenus.length>0?(t(),a("table",bv,[(t(!0),a(j,null,W(h.submenus,I=>(t(),a("tr",{key:I.id},[e("td",fv,[e("div",$v,[K(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[4]||(C[4]=H=>_.value=H),value:I.menu_id,id:"menu_id_"+I.menu_id},null,8,gv),[[Ce,_.value]]),e("label",{for:"menu_id_"+I.menu_id,class:"custom-control-label"},s(I.menu_title),9,yv)])])]))),128))])):L("",!0)])]))),128))])]),kv]),_:1},8,["initial-values"])])])]),e("div",xv,[e("div",wv,[e("div",Cv,[Sv,e("div",Dv,[Mv,e("button",{onClick:C[5]||(C[5]=le((...h)=>Y.deleteUser&&Y.deleteUser(...h),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const Xe=o=>(De("data-v-8e5d6dd6"),o=o(),Me(),o),Vv=["checked"],Av=["innerHTML"],Tv={style:{"text-align":"center"}},Ev={class:"text-center"},Pv=Xe(()=>e("i",{class:"fa fa-edit"},null,-1)),Iv=[Pv],Lv=Xe(()=>e("i",{class:"fa fa-trash"},null,-1)),Fv=[Lv],Yv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:g}){ce(),ie();const c=o,l=g,d=()=>{l("toggleSelection",c.item)};return(u,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Vv)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.menu_title),1),e("td",null,s(o.item.parent_title),1),e("td",null,s(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Av),e("td",null,s(o.item.sort_order),1),e("td",Tv,[e("i",{class:P({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,s(o.item.created_at),1),e("td",Ev,[e("button",{class:"btn btn-sm bg-primary",onClick:k[0]||(k[0]=le(A=>u.$emit("editMenu",o.item),["prevent"]))},Iv),N("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:k[1]||(k[1]=le(A=>u.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Fv)])]))}};var Bv=ge(Yv,[["__scopeId","data-v-8e5d6dd6"]]);const qv={class:"content"},Nv={class:"container-fluid"},Rv={class:"d-flex justify-content-between"},jv={class:"d-flex"},Hv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Ov={key:0},zv=e("i",{class:"fa fa-trash mr-1"},null,-1),Gv={class:"ml-2"},Qv={class:"card"},Wv={class:"card-body"},Kv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Xv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Jv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Zv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),e1={class:"table-responsive"},t1={class:"table table-bordered table-sm"},s1=e("th",{style:{width:"10px"}},"#",-1),a1=e("th",null,"Title",-1),o1=e("th",null,"Parent Menu",-1),l1=e("th",null,"Route",-1),n1=e("th",null,"Icon",-1),d1=e("th",null,"Sort",-1),i1=e("th",null,"Active",-1),c1=e("th",null,"Date",-1),r1=e("th",null,"Action",-1),u1={key:0},_1={key:1},m1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),h1=[m1],p1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},v1={class:"modal-dialog modal-sm",role:"document"},b1={class:"modal-content"},f1={class:"modal-header"},$1={class:"modal-title",id:"staticBackdropLabel"},g1={key:0},y1={key:1},k1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),x1={class:"modal-body"},w1={class:"col-md-12"},C1={class:"row"},S1={class:"col-12"},D1={class:"form-group"},M1=e("label",{for:"user"},"Menu Title",-1),U1={class:"invalid-feedback"},V1={class:"form-group"},A1=e("label",{for:"department"},"Parent Menu",-1),T1=e("option",{value:"0"},"None",-1),E1=["value"],P1={class:"form-group"},I1=e("label",{for:"warehouse"},"Icon",-1),L1={class:"invalid-feedback"},F1={class:"form-group"},Y1=e("label",{for:"user"},"Route",-1),B1={class:"invalid-feedback"},q1={class:"form-group"},N1=e("label",{for:"user"},"Sort",-1),R1={class:"invalid-feedback"},j1={class:"form-group"},H1=e("label",{for:"is_active"},"Active",-1),O1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),z1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},G1={class:"modal-dialog",role:"document"},Q1={class:"modal-content"},W1=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),K1={class:"modal-footer"},X1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),J1={__name:"MenuList",setup(o){const g=`${fe().name}`,c=ce(),l=n({data:[]}),d=n({data:[]}),u=n(!1),k=n(!1);n();const A=n(!0),_=Ue({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),x=ie();n(null);const f=n(),p=(U=1)=>{u.value=!0,T.get(`/api/menulist?page=${U}`,{params:{query:C.value}}).then(v=>{u.value=!1,l.value=v.data,w.value=[],te.value=!1})},r=()=>{T.get("/api/GetParentId").then(U=>{d.value=U.data}).catch(U=>{console.error(U)})};ke({menu_title:B().required(),parent_id:B().required(),sort_order:B().required(),menu_icon:B().required(),menu_route:B().required()}),ke({menu_title:B().required(),parent_id:B().required(),sort_order:B().required(),menu_icon:B().required(),menu_route:B().required()});const y=U=>{_.is_active=U?1:0},q=({resetForm:U,setErrors:v})=>{T.post("/api/menulist",{menu_title:_.menu_title,parent_id:_.parent_id,menu_icon:_.menu_icon,menu_route:_.menu_route,sort_order:_.sort_order,is_active:_.is_active}).then(V=>{l.value.data.unshift(V.data),$("#FormModal").modal("hide"),U(),c.success("User created successfully!")}).catch(V=>{V.response.data.errors&&v(V.response.data.errors)})},G=()=>{k.value=!1,$("#FormModal").modal("show")},O=U=>{k.value=!0,_.menu_id=U.menu_id,_.menu_title=U.menu_title,_.parent_id=U.parent_id,_.menu_icon=U.menu_icon,_.menu_route=U.menu_route,_.sort_order=U.sort_order,_.is_active===1?A.value=!0:A.value=!1,_.is_active=U.is_active,$("#FormModal").modal("show"),f.value=U.parent_id},oe=({setErrors:U})=>{T.post("/api/menulist",_).then(v=>{p(),$("#FormModal").modal("hide"),c.success("successfully Updated!")}).catch(v=>{U(v.response.data.errors),console.log(v)})},Y=(U,v)=>{k.value?oe(U):q(U)},C=n(null),w=n([]),h=U=>{const v=w.value.indexOf(U.id);v===-1?w.value.push(U.id):w.value.splice(v,1),console.log(w.value)},I=n(null),H=U=>{I.value=U,$("#deleteClientModal").modal("show")},Z=()=>{T.delete(`/api/menu/${I.value}`).then(()=>{$("#deleteClientModal").modal("hide"),c.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(U=>U.menu_id!==I.value)})},z=()=>{T.delete("menulist",{data:{ids:w.value}}).then(U=>{l.value.data=l.value.data.filter(v=>!w.value.includes(v.id)),w.value=[],te.value=!1,c.success(U.data.message)})},te=n(!1),_e=()=>{te.value?w.value=l.value.data.map(U=>U.id):w.value=[],console.log(w.value)};return ve([A],U=>{_.is_active=U?1:0}),ve(C,Te.exports.debounce(()=>{p()},300)),ue(()=>{p(),r(),document.title=g}),(U,v)=>{const V=ye("font");return t(),a(j,null,[e("div",qv,[e("div",Nv,[e("div",Rv,[e("div",jv,[e("button",{onClick:G,type:"button",class:"mb-2 btn btn-primary"},[Hv,N(" Menu ")]),w.value.length>0?(t(),a("div",Ov,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[zv,N(" Delete Selected ")]),e("span",Gv,"Selected "+s(w.value.length)+" Menu",1)])):L("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=S=>C.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ne,C.value]])])]),e("div",Qv,[e("div",Wv,[u.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[Kv,Xv,Jv,Zv]),_:1})):L("",!0),e("div",e1,[M(V,{size:"2"},{default:X(()=>[e("table",t1,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=S=>te.value=S),onChange:_e},null,544),[[Ce,te.value]])]),s1,a1,o1,l1,n1,d1,i1,c1,r1])]),l.value.data.length>0?(t(),a("tbody",u1,[(t(!0),a(j,null,W(l.value.data,(S,D)=>(t(),de(Bv,{key:S.id,item:S,index:D,onEditMenu:O,onConfirmDeletion:H,onToggleSelection:h,"select-all":te.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",_1,h1))])]),_:1})])])]),M(i(Le),{data:l.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",p1,[e("div",v1,[e("div",b1,[e("div",f1,[e("h5",$1,[k.value?(t(),a("span",g1,"Edit Menu")):(t(),a("span",y1,"Add Menu"))]),k1]),M(i(Se),{onSubmit:Y},{default:X(({errors:S})=>[e("div",x1,[e("div",w1,[e("div",C1,[e("div",S1,[M(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(x).user.id,"onUpdate:modelValue":v[2]||(v[2]=D=>i(x).user.id=D)},null,8,["modelValue"]),e("div",D1,[M1,M(i(Q),{name:"menu_title",type:"text",class:P(["form-control",{"is-invalid":S.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:_.menu_title,"onUpdate:modelValue":v[3]||(v[3]=D=>_.menu_title=D)},null,8,["class","modelValue"]),e("span",U1,s(S.menu_title),1)]),e("div",V1,[A1,K(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":v[4]||(v[4]=D=>_.parent_id=D)},[T1,(t(!0),a(j,null,W(d.value,D=>(t(),a("option",{key:D.menu_id,value:D.menu_id},s(D.menu_title),9,E1))),128))],512),[[Ve,_.parent_id]])]),e("div",P1,[I1,M(i(Q),{name:"menu_icon",type:"text",class:P(["form-control",{"is-invalid":S.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:_.menu_icon,"onUpdate:modelValue":v[5]||(v[5]=D=>_.menu_icon=D)},null,8,["class","modelValue"]),e("span",L1,s(S.menu_icon),1)]),e("div",F1,[Y1,M(i(Q),{name:"menu_route",type:"text",class:P(["form-control",{"is-invalid":S.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:_.menu_route,"onUpdate:modelValue":v[6]||(v[6]=D=>_.menu_route=D)},null,8,["class","modelValue"]),e("span",B1,s(S.menu_route),1)]),e("div",q1,[N1,M(i(Q),{name:"sort_order",type:"text",class:P(["form-control",{"is-invalid":S.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:_.sort_order,"onUpdate:modelValue":v[7]||(v[7]=D=>_.sort_order=D)},null,8,["class","modelValue"]),e("span",R1,s(S.sort_order),1)]),e("div",j1,[H1,K(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":v[8]||(v[8]=D=>A.value=D),onChange:y},null,544),[[Ce,A.value]])])])])])]),O1]),_:1})])])]),e("div",z1,[e("div",G1,[e("div",Q1,[W1,e("div",K1,[X1,e("button",{onClick:le(Z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Z1={class:"error-page"},eb=xe('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),tb=[eb],sb="Page Not Found",Je={__name:"404",setup(o){return ue(()=>{document.title=sb}),(g,c)=>(t(),a("div",Z1,tb))}};const se=o=>(De("data-v-18d1690e"),o=o(),Me(),o),ab={id:"exportPDF"},ob={class:"container"},lb=se(()=>e("br",null,null,-1)),nb={class:"header"},db=["src"],ib=["src"],cb={class:"header"},rb={class:"header-justify-space-between"},ub=se(()=>e("br",null,null,-1)),_b=se(()=>e("p",null,null,-1)),mb={key:0},hb=se(()=>e("strong",null,null,-1)),pb=se(()=>e("br",null,null,-1)),vb=se(()=>e("br",null,null,-1)),bb=se(()=>e("p",null,null,-1)),fb=se(()=>e("strong",null,"Unit details",-1)),$b={class:"content"},gb={class:"header-justify-space-between"},yb=se(()=>e("span",null,"Brand:",-1)),kb=se(()=>e("br",null,null,-1)),xb=se(()=>e("span",null,"Model:",-1)),wb=se(()=>e("br",null,null,-1)),Cb=se(()=>e("div",null,null,-1)),Sb=se(()=>e("span",null,"Serial #:",-1)),Db=se(()=>e("br",null,null,-1)),Mb=se(()=>e("span",null,"Asset Tag:",-1)),Ub=se(()=>e("br",null,null,-1)),Vb=se(()=>e("div",null,null,-1)),Ab=se(()=>e("strong",null,"Reported problem",-1)),Tb={class:"content"},Eb=se(()=>e("strong",null,"Assessment conducted",-1)),Pb={class:"content"},Ib=se(()=>e("strong",null,"Recommendation",-1)),Lb={class:"content"},Fb={class:"header-justify-space-between"},Yb=se(()=>e("strong",null,"Evaluated by:",-1)),Bb=se(()=>e("br",null,null,-1)),qb={class:"botoom-line"},Nb=se(()=>e("br",null,null,-1)),Rb=se(()=>e("p",null,null,-1)),jb=se(()=>e("strong",null,"Noted by:",-1)),Hb=se(()=>e("br",null,null,-1)),Ob={class:"botoom-line"},zb=se(()=>e("br",null,null,-1)),Gb=se(()=>e("br",null,null,-1)),Qb=se(()=>e("p",null,null,-1)),Wb={key:0},Kb={key:1},Xb={key:0,class:"fab-container"},Jb=se(()=>e("i",{class:"fas fa-download"},null,-1)),Zb=[Jb],ef={__name:"TechRecommApprove",setup(o){const g=`${fe().params.id}`,c=()=>{const u=document.getElementById("exportPDF");Ke().from(u).save(`${g}.pdf`)},l=Ue({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),d=()=>{T.get(`/api/tech-recommendations/${fe().params.id}`).then(u=>{l.id=u.data.id,l.recommnum=u.data.recommnum,l.branch=u.data.branch,l.company=u.data.company,l.department=u.data.department,l.warehouse=u.data.warehouse,l.user=u.data.user,l.problem=u.data.problem,l.brand=u.data.brand,l.model=u.data.model,l.assettag=u.data.assettag,l.serialnum=u.data.serialnum,l.status=u.data.status,l.assconducted=u.data.assconducted,l.recommendation=u.data.recommendation,l.createdby=u.data.createdby.cfull_name,l.updatedby=u.data.updatedby.ufull_name,l.created_at=pe(u.data.created_at).format("MMMM D, YYYY"),l.updated_at=pe(u.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=u.data.createdby.cposition,l.updated_position=u.data.updatedby.uposition}).catch(u=>{actions.setErrors(u.response.data.errors)})};return ue(()=>{d(),document.title=g}),(u,k)=>(t(),a(j,null,[e("div",ab,[e("div",ob,[lb,e("div",nb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,db),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,ib)]),e("div",cb,[e("span",null,[N("Recommendation No: "),e("strong",null,s(l.recommnum),1)]),e("span",null,[N("Date Checked: "),e("strong",null,s(l.created_at),1)])]),e("div",rb,[e("div",null,[e("span",null,[N("Company: "),e("strong",null,s(l.company),1)]),ub,e("span",null,[N("Branch: "),e("strong",null,s(l.branch),1)])]),_b,e("div",null,[l.warehouse==""?(t(),a("span",mb,[N("Warehouse: "),hb,N(s(l.warehouse),1)])):L("",!0),pb,e("span",null,[N("User: "),e("strong",null,s(l.user),1)]),vb,e("span",null,[N("Department: "),e("strong",null,s(l.department),1)])]),bb]),fb,e("div",$b,[e("div",gb,[e("div",null,[yb,e("strong",null,s(l.brand),1),kb,xb,e("strong",null,s(l.model),1),wb]),Cb,e("div",null,[Sb,e("strong",null,s(l.serialnum),1),Db,Mb,e("strong",null,s(l.assettag),1),Ub]),Vb])]),Ab,e("div",Tb,[e("p",null,s(l.problem),1)]),Eb,e("div",Pb,[e("p",null,s(l.assconducted),1)]),Ib,e("div",Lb,[e("p",null,s(l.recommendation),1)]),e("div",Fb,[e("div",null,[Yb,Bb,e("span",qb,s(l.createdby),1),Nb,e("span",null,s(l.created_position),1)]),Rb,e("div",null,[jb,Hb,e("span",Ob,s(l.updatedby),1),zb,e("span",null,s(l.updated_position),1),Gb]),Qb]),l.status===2?(t(),a("span",Wb,"Approved date:("+s(l.updated_at)+")",1)):(t(),a("span",Kb,"Pending"))])]),l.status===2?(t(),a("div",Xb,[e("div",{class:"button iconbutton bg-success",onClick:k[0]||(k[0]=A=>c())},Zb)])):L("",!0)],64))}};var Ze=ge(ef,[["__scopeId","data-v-18d1690e"]]);const tf={},sf={class:"card mx-auto",style:{"max-width":"600px"}},af=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),of={class:"card-body"},lf={class:"list-unstyled"};function nf(o,g){return t(),a("div",sf,[af,e("div",of,[e("ul",lf,[e("li",{class:"nav-item dropdown",onClick:g[0]||(g[0]=(...c)=>o.fetchNotifications&&o.fetchNotifications(...c))})])])])}var df=ge(tf,[["render",nf]]);const cf=["checked"],rf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:g}){ce(),ie();const c=o,l=g,d=()=>{l("toggleSelection",c.item)};return(u,k)=>(t(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,cf)]),e("td",null,s(o.index+1),1),e("td",null,s(o.item.asset_name),1),e("td",null,s(o.item.asset_type),1),e("td",null,s(o.item.serial),1),e("td",null,s(o.item.date_acquired),1),e("td",null,s(o.item.man_supplier),1),e("td",null,s(o.item.unit),1),e("td",null,s(o.item.location),1),e("td",null,s(o.item.paccountable),1)]))}};var uf=ge(rf,[["__scopeId","data-v-c5620630"]]);const _f={class:"content"},mf={class:"container-fluid"},hf={class:"d-flex justify-content-between"},pf={class:"d-flex"},vf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),bf={key:0},ff=e("i",{class:"fa fa-trash mr-1"},null,-1),$f={class:"ml-2"},gf={class:"card"},yf={class:"card-body"},kf=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),xf=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),wf=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Cf=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Sf={class:"table-responsive"},Df={class:"table table-bordered table-sm table-striped hover"},Mf=e("th",{style:{width:"10px"}},"#",-1),Uf=e("th",null,"Asset",-1),Vf=e("th",null,"Asset type",-1),Af=e("th",null,"Serial",-1),Tf=e("th",null,"Date Aquired",-1),Ef=e("th",null,"Suppliear",-1),Pf=e("th",null,"Unit",-1),If=e("th",null,"Location",-1),Lf={key:0},Ff={key:1},Yf=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Bf=[Yf],qf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Nf={class:"modal-dialog modal-sm",role:"document"},Rf={class:"modal-content"},jf={class:"modal-header"},Hf={class:"modal-title",id:"staticBackdropLabel"},Of={key:0},zf={key:1},Gf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Qf={class:"modal-body"},Wf={class:"col-md-12"},Kf={class:"row"},Xf={class:"col-12"},Jf={class:"form-group"},Zf=e("label",{for:"user"},"Menu Title",-1),e$={class:"invalid-feedback"},t$={class:"form-group"},s$=e("label",{for:"department"},"Parent Menu",-1),a$=e("option",{value:"0"},"None",-1),o$=["value"],l$={class:"form-group"},n$=e("label",{for:"warehouse"},"Icon",-1),d$={class:"invalid-feedback"},i$={class:"form-group"},c$=e("label",{for:"user"},"Route",-1),r$={class:"invalid-feedback"},u$={class:"form-group"},_$=e("label",{for:"user"},"Sort",-1),m$={class:"invalid-feedback"},h$={class:"form-group"},p$=e("label",{for:"is_active"},"Active",-1),v$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),b$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},f$={class:"modal-dialog",role:"document"},$$={class:"modal-content"},g$=xe('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),y$={class:"modal-footer"},k$=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),x$={__name:"AssetmList",setup(o){const g=`${fe().name}`,c=ce(),l=n({data:[]}),d=n({data:[]}),u=n(!1),k=n(!1);n();const A=n(!0),_=Ue({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),x=ie();n(null);const f=n(),p=(U=1)=>{u.value=!0,T.get(`/web/asset-monitoring?page=${U}`,{params:{query:C.value}}).then(v=>{u.value=!1,l.value=v.data,w.value=[],te.value=!1})},r=()=>{T.get("/api/GetParentId").then(U=>{d.value=U.data}).catch(U=>{console.error(U)})};ke({menu_title:B().required(),parent_id:B().required(),sort_order:B().required(),menu_icon:B().required(),menu_route:B().required()}),ke({menu_title:B().required(),parent_id:B().required(),sort_order:B().required(),menu_icon:B().required(),menu_route:B().required()});const y=U=>{_.is_active=U?1:0},q=({resetForm:U,setErrors:v})=>{T.post("/api/menulist",{menu_title:_.menu_title,parent_id:_.parent_id,menu_icon:_.menu_icon,menu_route:_.menu_route,sort_order:_.sort_order,is_active:_.is_active}).then(V=>{l.value.data.unshift(V.data),$("#FormModal").modal("hide"),U(),c.success("User created successfully!")}).catch(V=>{V.response.data.errors&&v(V.response.data.errors)})},G=()=>{k.value=!1,$("#FormModal").modal("show")},O=U=>{k.value=!0,_.menu_id=U.menu_id,_.menu_title=U.menu_title,_.parent_id=U.parent_id,_.menu_icon=U.menu_icon,_.menu_route=U.menu_route,_.sort_order=U.sort_order,_.is_active===1?A.value=!0:A.value=!1,_.is_active=U.is_active,$("#FormModal").modal("show"),f.value=U.parent_id},oe=({setErrors:U})=>{T.post("/api/menulist",_).then(v=>{p(),$("#FormModal").modal("hide"),c.success("successfully Updated!")}).catch(v=>{U(v.response.data.errors),console.log(v)})},Y=(U,v)=>{k.value?oe(U):q(U)},C=n(null),w=n([]),h=U=>{const v=w.value.indexOf(U.id);v===-1?w.value.push(U.id):w.value.splice(v,1),console.log(w.value)},I=n(null),H=U=>{I.value=U,$("#deleteClientModal").modal("show")},Z=()=>{T.delete(`/api/menu/${I.value}`).then(()=>{$("#deleteClientModal").modal("hide"),c.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(U=>U.menu_id!==I.value)})},z=()=>{T.delete("menulist",{data:{ids:w.value}}).then(U=>{l.value.data=l.value.data.filter(v=>!w.value.includes(v.id)),w.value=[],te.value=!1,c.success(U.data.message)})},te=n(!1),_e=()=>{te.value?w.value=l.value.data.map(U=>U.id):w.value=[],console.log(w.value)};return ve([A],U=>{_.is_active=U?1:0}),ve(C,Te.exports.debounce(()=>{p()},300)),ue(()=>{p(),r(),document.title=g}),(U,v)=>{const V=ye("font");return t(),a(j,null,[e("div",_f,[e("div",mf,[e("div",hf,[e("div",pf,[e("button",{onClick:G,type:"button",class:"mb-2 btn btn-primary"},[vf,N(" Menu ")]),w.value.length>0?(t(),a("div",bf,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ff,N(" Delete Selected ")]),e("span",$f,"Selected "+s(w.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[K(e("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=S=>C.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ne,C.value]])])]),e("div",gf,[e("div",yf,[u.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[kf,xf,wf,Cf]),_:1})):L("",!0),e("div",Sf,[M(V,{size:"2"},{default:X(()=>[e("table",Df,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=S=>te.value=S),onChange:_e},null,544),[[Ce,te.value]])]),Mf,Uf,Vf,Af,Tf,Ef,Pf,If])]),l.value.data.length>0?(t(),a("tbody",Lf,[(t(!0),a(j,null,W(l.value.data,(S,D)=>(t(),de(uf,{key:S.id,item:S,index:D,onEditMenu:O,onConfirmDeletion:H,onToggleSelection:h,"select-all":te.value},null,8,["item","index","select-all"]))),128))])):(t(),a("tbody",Ff,Bf))])]),_:1})])])]),M(i(Le),{data:l.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",qf,[e("div",Nf,[e("div",Rf,[e("div",jf,[e("h5",Hf,[k.value?(t(),a("span",Of,"Edit Menu")):(t(),a("span",zf,"Add Menu"))]),Gf]),M(i(Se),{onSubmit:Y},{default:X(({errors:S})=>[e("div",Qf,[e("div",Wf,[e("div",Kf,[e("div",Xf,[M(i(Q),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(x).user.id,"onUpdate:modelValue":v[2]||(v[2]=D=>i(x).user.id=D)},null,8,["modelValue"]),e("div",Jf,[Zf,M(i(Q),{name:"menu_title",type:"text",class:P(["form-control",{"is-invalid":S.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:_.menu_title,"onUpdate:modelValue":v[3]||(v[3]=D=>_.menu_title=D)},null,8,["class","modelValue"]),e("span",e$,s(S.menu_title),1)]),e("div",t$,[s$,K(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":v[4]||(v[4]=D=>_.parent_id=D)},[a$,(t(!0),a(j,null,W(d.value,D=>(t(),a("option",{key:D.menu_id,value:D.menu_id},s(D.menu_title),9,o$))),128))],512),[[Ve,_.parent_id]])]),e("div",l$,[n$,M(i(Q),{name:"menu_icon",type:"text",class:P(["form-control",{"is-invalid":S.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:_.menu_icon,"onUpdate:modelValue":v[5]||(v[5]=D=>_.menu_icon=D)},null,8,["class","modelValue"]),e("span",d$,s(S.menu_icon),1)]),e("div",i$,[c$,M(i(Q),{name:"menu_route",type:"text",class:P(["form-control",{"is-invalid":S.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:_.menu_route,"onUpdate:modelValue":v[6]||(v[6]=D=>_.menu_route=D)},null,8,["class","modelValue"]),e("span",r$,s(S.menu_route),1)]),e("div",u$,[_$,M(i(Q),{name:"sort_order",type:"text",class:P(["form-control",{"is-invalid":S.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:_.sort_order,"onUpdate:modelValue":v[7]||(v[7]=D=>_.sort_order=D)},null,8,["class","modelValue"]),e("span",m$,s(S.sort_order),1)]),e("div",h$,[p$,K(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":v[8]||(v[8]=D=>A.value=D),onChange:y},null,544),[[Ce,A.value]])])])])])]),v$]),_:1})])])]),e("div",b$,[e("div",f$,[e("div",$$,[g$,e("div",y$,[k$,e("button",{onClick:le(Z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const et=o=>(De("data-v-04f8292b"),o=o(),Me(),o),w$={style:{"text-align":"center"}},C$=["checked"],S$=et(()=>e("i",{class:"fa fa-edit"},null,-1)),D$=[S$],M$=et(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),U$=[M$],V$={__name:"PalletItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["dataDeleted","editData","confirmDeletion"],setup(o,{emit:g}){ce(),ie();const c=o,l=g,d=()=>{l("toggleSelection",c.item)};return(u,k)=>(t(),a("tr",w$,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,C$)]),e("td",null,s(i(pe)(o.item.date).format("MMMM DD, YY")),1),e("td",null,s(o.item.allocatedpalletspace),1),e("td",null,s(o.item.spaceuteltotal),1),e("td",null,s(o.item.spacetotalutelpercent),1),e("td",null,s(o.item.excess),1),e("td",null,s(o.item.caseperpallet),1),e("td",null,s(o.item.cost),1),e("td",null,"EXCESS "+s(o.item.excess)+" PALLETS",1),e("td",null,[e("a",{href:"#",onClick:k[0]||(k[0]=le(A=>u.$emit("editData",o.item),["prevent"]))},D$),e("a",{href:"#",onClick:k[1]||(k[1]=le(A=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},U$)])]))}};var A$=ge(V$,[["__scopeId","data-v-04f8292b"]]);const ae=o=>(De("data-v-20926f2c"),o=o(),Me(),o),T$={class:"content"},E$={class:"container-fluid"},P$={class:"d-flex justify-content-between"},I$={class:"d-flex"},L$=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),F$={key:0},Y$=ae(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),B$={class:"ml-2"},q$={class:"card"},N$={class:"card-header"},R$={class:"card-title"},j$={class:"form-group",style:{display:"inline-block"}},H$=ae(()=>e("option",{value:"",disabled:""},"Select a site",-1)),O$=["value"],z$={class:"card-body"},G$=ae(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Q$=ae(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),W$=ae(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),K$=ae(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),X$={key:1,class:"table-responsive"},J$={class:"table table-bordered table-sm table-striped hover"},Z$=ae(()=>e("th",null,"Date",-1)),eg=ae(()=>e("th",null,"Allocated Pallet Space",-1)),tg=ae(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),sg=ae(()=>e("th",null,"Space Utilization %",-1)),ag=ae(()=>e("th",null,"Excess",-1)),og=ae(()=>e("th",null,"Cost per Pallet",-1)),lg=ae(()=>e("th",null,"Cost",-1)),ng=ae(()=>e("th",null,"Remarks",-1)),dg=ae(()=>e("th",null,"Action",-1)),ig={key:0},cg=ae(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),rg={colspan:"3"},ug={key:1},_g=ae(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),mg=[_g],hg={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pg={class:"modal-dialog modal-sm",role:"document"},vg={class:"modal-content"},bg={class:"modal-header"},fg={class:"modal-title",id:"staticBackdropLabel"},$g={key:0},gg={key:1},yg=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),kg={class:"modal-body"},xg={class:"col-md-12"},wg={class:"row"},Cg={class:"col-12"},Sg={class:"form-group"},Dg=ae(()=>e("label",{for:"date"},"Date",-1)),Mg={class:"invalid-feedback"},Ug={class:"form-group"},Vg=ae(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),Ag={class:"invalid-feedback"},Tg={class:"form-group"},Eg=ae(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),Pg={class:"invalid-feedback"},Ig={class:"form-group"},Lg=ae(()=>e("label",{for:"user"},"Case Per Pallet",-1)),Fg={class:"invalid-feedback"},Yg=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),Bg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qg={class:"modal-dialog",role:"document"},Ng={class:"modal-content"},Rg=xe('<div class="modal-header" data-v-20926f2c><h5 class="modal-title" id="staticBackdropLabel" data-v-20926f2c><span data-v-20926f2c>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-20926f2c><span aria-hidden="true" data-v-20926f2c>\xD7</span></button></div><div class="modal-body" data-v-20926f2c><h5 data-v-20926f2c>Are you sure you want to delete this record ?</h5></div>',2),jg={class:"modal-footer"},Hg=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Og={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zg={class:"modal-dialog modal-sm",role:"document"},Gg={class:"modal-content"},Qg=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Wg={class:"modal-body"},Kg={class:"fromtocenter"},Xg=ae(()=>e("label",{for:"fromDate"},"From:",-1)),Jg=ae(()=>e("label",{for:"toDate"},"To:",-1)),Zg={class:"modal-footer"},ey=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ty={__name:"PalletList",setup(o){const g=`${fe().name}`,c=ce(),l=n({data:[]}),d=n(),u=n(!1),k=n(!1),A=ie(),_=n(!0),x=Ue({id:"",site_id:"",user_id:A.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});n(null);const f=n(),p=()=>{u.value=!0,T.get("/web/pallet",{params:{site_id:x.site_id,query:Z.value}}).then(b=>{u.value=!1,l.value=b.data.data,f.value=b.data.sum,z.value=[],D.value=!1})};ke({menu_title:B().required(),parent_id:B().required(),sort_order:B().required(),menu_icon:B().required(),menu_route:B().required()}),ke({menu_title:B().required(),parent_id:B().required(),sort_order:B().required(),menu_icon:B().required(),menu_route:B().required()});const r=n(""),y=n(""),q=n({start_date:"",end_date:""});ve([r],()=>{const b=new Date(r.value),E=b.getFullYear(),be=String(b.getMonth()+1).padStart(2,"0"),ee=String(b.getDate()).padStart(2,"0");q.value.start_date=`${E}-${be}-${ee}`}),ve([y],()=>{const b=new Date(y.value),E=b.getFullYear(),be=String(b.getMonth()+1).padStart(2,"0"),ee=String(b.getDate()).padStart(2,"0");q.value.end_date=`${E}-${be}-${ee}`});const G=()=>{u.value=!0,T.get("/web/filter-pallet",{params:{start_date:q.value.start_date,end_date:q.value.end_date,site_id:x.site_id}}).then(b=>{u.value=!1,l.value=b.data.data,f.value=b.data.sum}).catch(b=>{console.error(b)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},O=()=>{x.id="",x.site_id="",x.user_id=A.user.id,x.date="",x.allocatedpalletspace="",x.spaceuteltotal="",x.caseperpallet=""},oe=({resetForm:b,setErrors:E})=>{T.post("/web/pallet",{site_id:x.site_id,user_id:x.user_id,date:x.date,allocatedpalletspace:x.allocatedpalletspace,spaceuteltotal:x.spaceuteltotal,caseperpallet:x.caseperpallet}).then(be=>{p(),$("#FormModal").modal("hide"),O(),c.success("User created successfully!")}).catch(function(be){be.response?c.error(be.response.data.message):be.request?c.error(be.request):c.error("Error",be.message)})},Y=()=>{T.get("/web/getsite").then(b=>{d.value=b.data.sites}).catch(b=>{console.log(b)})},C=()=>{p(x.site_id)},w=()=>{k.value=!1,$("#FormModal").modal("show")},h=b=>{k.value=!0,x.id=b.id,x.user_id=b.user_id,x.site_id=b.site_id,x.date=b.date,x.allocatedpalletspace=b.allocatedpalletspace,x.spaceuteltotal=b.spaceuteltotal,x.caseperpallet=b.caseperpallet,$("#FormModal").modal("show")},I=({setErrors:b})=>{T.post("/web/pallet",x).then(E=>{O(),p(),$("#FormModal").modal("hide"),c.success("successfully Updated!")}).catch(E=>{b(E.response.data.errors),console.log(E)})},H=(b,E)=>{k.value?I(b):oe(b)},Z=n(null),z=n([]),te=b=>{const E=z.value.indexOf(b.id);E===-1?z.value.push(b.id):z.value.splice(E,1),console.log(z.value)},_e=n(null),U=b=>{_e.value=b,$("#deleteDataModal").modal("show")},v=()=>{T.delete(`/web/pallet/${_e.value}`).then(()=>{$("#deleteDataModal").modal("hide"),c.success("Pallet deleted successfully!"),l.value.data=l.value.data.filter(b=>b.id!==_e.value)})},V=()=>{T.delete("/web/bulkDelete",{data:{ids:z.value}}).then(b=>{p(),z.value=[],D.value=!1,c.success(b.data.message)})},S=()=>{$("#FormModalfilterDate").modal("show")},D=n(!1),me=()=>{D.value?z.value=l.value.data.map(b=>b.id):z.value=[],console.log(z.value)};return ve([_],b=>{x.is_active=b?1:0}),ve(Z,Te.exports.debounce(()=>{p()},300)),ue(()=>{Y(),document.title=g}),(b,E)=>{const be=ye("font");return t(),a(j,null,[e("div",T$,[e("div",E$,[e("div",P$,[e("div",I$,[e("button",{onClick:w,type:"button",class:"mb-2 btn btn-primary"},[L$,N(" Pallet ")]),z.value.length>0?(t(),a("div",F$,[e("button",{onClick:V,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Y$,N(" Delete Selected ")]),e("span",B$,"Selected "+s(z.value.length)+" Pallet",1)])):L("",!0)])]),e("div",q$,[e("div",N$,[e("div",R$,[e("div",j$,[K(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":E[0]||(E[0]=ee=>x.site_id=ee),onChange:E[1]||(E[1]=ee=>C())},[H$,(t(!0),a(j,null,W(d.value,ee=>(t(),a("option",{key:ee.id,value:ee.id},s(ee.site_name),9,O$))),128))],544),[[Ve,x.site_id]])])]),e("div",{class:"card-tools"},[e("i",{class:"fa fa-filter mr-1",onClick:S})])]),e("div",z$,[u.value?(t(),de(i(Ae),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[G$,Q$,W$,K$]),_:1})):(t(),a("div",X$,[M(be,{size:"2"},{default:X(()=>[e("table",J$,[e("thead",null,[e("tr",null,[e("th",null,[K(e("input",{type:"checkbox","onUpdate:modelValue":E[2]||(E[2]=ee=>D.value=ee),onChange:me},null,544),[[Ce,D.value]])]),Z$,eg,tg,sg,ag,og,lg,ng,dg])]),l.value.length>0?(t(),a("tbody",ig,[(t(!0),a(j,null,W(l.value,(ee,we)=>(t(),de(A$,{key:ee.id,item:ee,index:we,onEditData:h,onConfirmDeletion:U,onToggleSelection:te,"select-all":D.value},null,8,["item","index","select-all"]))),128)),e("tr",null,[cg,e("td",rg,[e("b",null,s(f.value),1)])])])):(t(),a("tbody",ug,mg))])]),_:1})]))])])])]),e("div",hg,[e("div",pg,[e("div",vg,[e("div",bg,[e("h5",fg,[k.value?(t(),a("span",$g,"Edit Pallet")):(t(),a("span",gg,"Add Pallet"))]),yg]),M(i(Se),{onSubmit:H},{default:X(({errors:ee})=>[e("div",kg,[e("div",xg,[e("div",wg,[e("div",Cg,[M(i(Q),{modelValue:x.user_id,"onUpdate:modelValue":E[3]||(E[3]=we=>x.user_id=we),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Sg,[Dg,M(i(Q),{name:"date",type:"date",class:P(["form-control",{"is-invalid":ee.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:x.date,"onUpdate:modelValue":E[4]||(E[4]=we=>x.date=we)},null,8,["class","modelValue"]),e("span",Mg,s(ee.date),1)]),e("div",Ug,[Vg,M(i(Q),{name:"allocatedpalletspace",type:"text",class:P(["form-control",{"is-invalid":ee.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:x.allocatedpalletspace,"onUpdate:modelValue":E[5]||(E[5]=we=>x.allocatedpalletspace=we)},null,8,["class","modelValue"]),e("span",Ag,s(ee.allocatedpalletspace),1)]),e("div",Tg,[Eg,M(i(Q),{name:"spaceuteltotal",type:"text",class:P(["form-control",{"is-invalid":ee.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:x.spaceuteltotal,"onUpdate:modelValue":E[6]||(E[6]=we=>x.spaceuteltotal=we)},null,8,["class","modelValue"]),e("span",Pg,s(ee.spaceuteltotal),1)]),e("div",Ig,[Lg,M(i(Q),{name:"caseperpallet",type:"text",class:P(["form-control",{"is-invalid":ee.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:x.caseperpallet,"onUpdate:modelValue":E[7]||(E[7]=we=>x.caseperpallet=we)},null,8,["class","modelValue"]),e("span",Fg,s(ee.caseperpallet),1)])])])])]),Yg]),_:1})])])]),e("div",Bg,[e("div",qg,[e("div",Ng,[Rg,e("div",jg,[Hg,e("button",{onClick:le(v,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",Og,[e("div",zg,[e("div",Gg,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,s(g)+" Report")]),Qg]),e("div",Wg,[e("div",Kg,[e("div",null,[Xg,M(i(Pe),{modelValue:r.value,"onUpdate:modelValue":E[8]||(E[8]=ee=>r.value=ee)},null,8,["modelValue"])]),e("div",null,[Jg,M(i(Pe),{modelValue:y.value,"onUpdate:modelValue":E[9]||(E[9]=ee=>y.value=ee)},null,8,["modelValue"])])])]),e("div",Zg,[ey,e("button",{onClick:E[10]||(E[10]=ee=>G()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var sy=ge(ty,[["__scopeId","data-v-20926f2c"]]);const ay=o=>(De("data-v-2d546e88"),o=o(),Me(),o),oy={class:"content"},ly={class:"container-fluid"},ny={class:"row"},dy={class:"col-md-6"},iy={class:"card"},cy={class:"card-title"},ry={class:"form-group m-3"},uy=ay(()=>e("option",{value:"",disabled:""}," Select User ",-1)),_y=["value"],my={class:"card-body"},hy={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},py={class:"custom-control custom-checkbox"},vy=["value","id","checked"],by=["for"],fy={class:"card-footer"},$y={__name:"UserSite",setup(o){ie();const g=`${fe().name}`,c=ce();n({data:[]}),n({data:[]}),n(!1),n(!1),n(),n(!0);const l=Ue({user_id:""});n(null),n();const d=n(),u=n(),k=n([]),A=()=>{T.get("/api/users/userlist").then(p=>{u.value=p.data}).catch(p=>{console.log(p)})},_=p=>{p!==null?T.get(`/web/usersite/${p}`).then(r=>{d.value=r.data}).catch(r=>{console.error("Error fetching site data for user:",r)}):T.get("/web/getsitewithoutuser").then(r=>{d.value=r.data}).catch(r=>{console.error("Error fetching site data without user:",r)})},x=()=>{const p={user_id:l.user_id,site_id:k.value};console.log(p),T.post("/web/onSaveupdate",p).then(r=>{c.success("User Site Save successfully!")}).catch(r=>{setErrors(r.response.data.errors)})},f=p=>{_(p)};return ue(()=>{A(),_(),document.title=g}),(p,r)=>(t(),a("div",oy,[e("div",ly,[e("div",ny,[e("div",dy,[e("div",iy,[e("div",cy,[e("div",ry,[M(i(Q),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":r[0]||(r[0]=y=>l.user_id=y),onChange:r[1]||(r[1]=y=>f(l.user_id))},{default:X(()=>[uy,(t(!0),a(j,null,W(u.value,y=>(t(),a("option",{key:y.id,value:y.id},s(y.name),9,_y))),128))]),_:1},8,["modelValue"])])]),e("div",my,[e("ul",hy,[(t(!0),a(j,null,W(d.value,y=>(t(),a("li",{key:y.id,class:"list-group-item"},[e("div",py,[K(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=q=>k.value=q),value:y.id,id:"site_id_"+y.id,checked:y.hasAccess},null,8,vy),[[Ce,k.value]]),e("label",{for:"site_id_"+y.id,class:"custom-control-label"},s(y.site_name),9,by)])]))),128))]),e("div",fy,[e("button",{type:"button",onClick:r[3]||(r[3]=y=>x()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var gy=ge($y,[["__scopeId","data-v-2d546e88"]]),yy=[{path:"/login",name:"admin.login",component:Yn},{path:"/dashboard",name:"Dashboard",component:Ut},{path:"/appointments",name:"Appointments",component:Kt},{path:"/appointments/create",name:"Appointments",component:Ge},{path:"/appointments/:id/edit",name:"Appointments",component:Ge},{path:"/user",name:"User",component:Eo},{path:"/settings",name:"Setting",component:Cl},{path:"/profile",name:"Profile",component:$n},{path:"/client",name:"Client",component:Ld},{path:"/tech-recommendation",name:"Tech Recomm",component:tr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:am},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Ep},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Lh},{path:"/usermenu",name:"User Menu",component:Uv},{path:"/menu",name:"Menu",component:J1},{path:"/:catchAll(.*)",name:"404 Error Page",component:Je},{path:"/notifications",name:"Notifications",component:df},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:Ze},{path:"/asset-monitoring",name:"Asset Monitoring",component:x$},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:sy},{path:"/usersite",name:"User Site",component:gy}];const ky={class:"navbar-nav"},xy=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),wy={class:"nav-item d-none d-sm-inline-block"},Cy={class:"navbar-nav ml-auto"},Sy=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Dy=xe('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),My={class:"nav-link","data-toggle":"dropdown",href:"#"},Uy=e("i",{class:"far fa-bell"},null,-1),Vy={class:"badge badge-warning navbar-badge"},Ay={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},Ty={class:"dropdown-header"},Ey=e("div",{class:"dropdown-divider"},null,-1),Py=e("i",{class:"fas fa-envelope mr-2"},null,-1),Iy={class:"float-right text-muted text-sm"},Ly={key:1,class:"text-center text-muted py-3"},Fy=e("div",{class:"dropdown-divider"},null,-1),Yy=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),By=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),qy={__name:"AppNavbar",setup(o){const g=Fe(),c=n([]),l=()=>{T.get("/api/notifications").then(d=>{c.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return ue(()=>{l()}),(d,u)=>{const k=ye("router-link");return t(),a("nav",{class:P(["main-header navbar navbar-expand",i(g).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",ky,[xy,e("li",wy,[e("a",{onClick:u[0]||(u[0]=le((...A)=>i(g).changeTheme&&i(g).changeTheme(...A),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:P(["far",i(g).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",Cy,[Sy,Dy,e("li",{class:"nav-item dropdown",onClick:l},[e("a",My,[Uy,e("span",Vy,s(c.value.length),1)]),e("div",Ay,[e("span",Ty,s(c.value.length)+" Notifications",1),Ey,c.value.length>0?(t(!0),a(j,{key:0},W(c.value,A=>(t(),a("a",{key:A.id,href:"#",class:"dropdown-item"},[Py,N(" "+s(A.data?A.data:"No message available")+" ",1),e("span",Iy,s(i(pe)(A.created_at)),1)]))),128)):(t(),a("p",Ly,"No new notifications")),Fy,M(k,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:X(()=>[N("See All Notifications")]),_:1})])]),Yy,By])],2)}}},Ny={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},Ry={href:"#",class:"brand-link"},jy=["src"],Hy={class:"brand-text font-weight-light"},Oy={class:"sidebar"},zy={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Gy={key:0,class:"image"},Qy=["src"],Wy={key:1,class:"image"},Ky=["src"],Xy=["src"],Jy={class:"info"},Zy={href:"#",class:"d-block"},e2={class:"mt-2"},t2={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},s2={key:0,class:"right fas fa-angle-left"},a2={key:0,class:"nav nav-treeview"},o2={class:"nav-item"},l2={class:"nav-link"},n2=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),d2=e("p",null,"Logout",-1),i2=[n2,d2],c2={__name:"SidebarLeft",setup(o){const g=je(),c=ie(),l=Fe(),d=n({data:[]}),u=()=>{axios.get("/api/menu").then(_=>{d.value=_.data}).catch(_=>{console.log(_)})},k=_=>_===g.currentRoute.value.path,A=()=>{axios.post("/logout").then(_=>{c.user.name="",g.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),u()}),(_,x)=>{const f=ye("router-link");return t(),a("aside",Ny,[e("a",Ry,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,jy),e("span",Hy,s(i(l).setting.app_name),1)]),e("div",Oy,[e("div",zy,[i(c).user.avatar===""?(t(),a("div",Gy,[e("img",{src:i(c).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Qy)])):i(c).user.avatar!==""?(t(),a("div",Wy,[i(c).user.gender==="Male"?(t(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Ky)):i(c).user.gender==="Female"?(t(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Xy)):L("",!0)])):L("",!0),e("div",Jy,[e("a",Zy,s(i(c).user.name),1)])]),e("nav",e2,[e("ul",t2,[(t(!0),a(j,null,W(d.value,p=>(t(),a("li",{key:p.id,class:P({"nav-item":!0,"has-submenu":p.submenus&&p.submenus.length>0})},[M(f,{class:P({"nav-link":!0,active:k(p.menu_route)}),to:`${p.menu_route}`},{default:X(()=>[e("i",{class:P("nav-icon "+p.menu_icon)},null,2),e("p",null,s(p.menu_title),1),p.submenus&&p.submenus.length>0?(t(),a("i",s2)):L("",!0)]),_:2},1032,["class","to"]),p.submenus&&p.submenus.length>0?(t(),a("ul",a2,[(t(!0),a(j,null,W(p.submenus,r=>(t(),a("li",{key:r.id,class:"nav-item"},[M(f,{class:P({"nav-link":!0,active:k(r.menu_route)}),to:r.menu_route},{default:X(()=>[e("i",{class:P("nav-icon "+r.menu_icon)},null,2),e("p",null,s(r.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):L("",!0)],2))),128)),e("li",o2,[e("form",l2,[e("a",{href:"#",onClick:le(A,["prevent"])},i2)])])])])])])}}},r2={},u2={class:"control-sidebar control-sidebar-dark"},_2=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),m2=[_2];function h2(o,g){return t(),a("aside",u2,m2)}var p2=ge(r2,[["render",h2]]);const v2={class:"main-footer"},b2={class:"float-right d-none d-sm-block"},f2={href:"#"},$2={__name:"AppFooter",props:{settings:Object},setup(o){const g=ie(),c=n(new Date().getFullYear());return(l,d)=>{var u;return t(),a("footer",v2,[e("div",b2,s(i(g).user.name),1),e("strong",null,[N("Copyright \xA9 "+s(c.value)+" ",1),e("a",f2,s((u=o.settings)==null?void 0:u.app_name),1),N(".")]),N(" All rights reserved. ")])}}};const g2=o=>(De("data-v-36653638"),o=o(),Me(),o),y2={class:"content-wrapper"},k2={class:"content-header"},x2={class:"container-fluid"},w2={class:"row mb-2"},C2={class:"col-sm-6"},S2={class:"m-0"},D2={class:"col-sm-6"},M2={class:"breadcrumb float-sm-right"},U2=g2(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),V2={class:"breadcrumb-item active"},A2={__name:"CustomMainLayout",setup(o){const g=ie(),c=Fe(),l=Ee(()=>c.theme==="dark"?"dark-mode":"");return(d,u)=>{const k=ye("router-view");return i(g).user.name!==""?(t(),a("div",{key:0,class:P(["wrapper",l.value])},[M(qy),M(c2),M(p2),e("div",y2,[e("section",k2,[e("div",x2,[e("div",w2,[e("div",C2,[e("h1",S2,s(d.$route.name),1)]),e("div",D2,[e("ol",M2,[U2,e("li",V2,s(d.$route.name),1)])])])])]),M(k)]),M($2)],2)):(t(),a("div",{key:1,class:P(["login-page slibg",l.value])},[M(k)],2))}}};var T2=ge(A2,[["__scopeId","data-v-36653638"]]);const E2={__name:"App",setup(o){ie();const g=fe(),c=Ee(()=>g.name==="Tech-Approved"),l=Ee(()=>g.name==="404 Error Page");return(d,u)=>(t(),a("div",null,[!l.value&&!c.value?(t(),de(T2,{key:0})):c.value?(t(),de(Ze,{key:1})):(t(),de(Je,{key:2}))]))}};var P2=ge(E2,[["__scopeId","data-v-252b567e"]]);const I2=it(),Ye=_t(P2),tt=ct({routes:yy,history:rt()});tt.beforeEach(async(o,g)=>{const c=ie();if(c.user.name===""&&o.name!=="admin.login"){const l=Fe();await Promise.all([c.getAuthUser(),l.getSetting()])}});Ye.use(I2);Ye.use(tt);Ye.use(kt);Ye.use(Ke);Ye.mount("#app");
