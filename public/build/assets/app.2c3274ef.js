import{_ as bt,l as Ae}from"./lodash.d4ecb7e7.js";import{a as L}from"./axios.82d3905a.js";import{a as ft}from"./jquery.40c48ff8.js";import"./admin-lte.3b3e699c.js";import"./vue.b922205b.js";import{d as rt,c as $t}from"./pinia.210ccde5.js";import{u as fe,a as Qe,c as yt,b as gt}from"./vue-router.abad5649.js";import{r,o as me,i as o,k as e,x as t,_ as p,u,e as s,I as we,h as Z,j as M,F as j,q as X,d as be,a0 as se,v as F,C as Ve,a2 as te,a3 as ce,aa as Te,p as A,w as he,ab as Ce,f as re,B as Oe,a5 as Se,a6 as De,ac as st,ad as Ee,a1 as tt,ae as kt}from"./@vue.04713aa0.js";import{B as wt}from"./vue-chartjs.50c6886f.js";import{C as xt,p as Ct,a as St,b as Dt,c as Vt,d as Ut,L as Mt}from"./chart.js.562acd0f.js";import{S as nt}from"./sweetalert2.c578665c.js";import{t as Je}from"./toastr.c863df60.js";import{F as Me,a as H}from"./vee-validate.1443789f.js";import{f as ut}from"./flatpickr.181c7977.js";import{c as xe,a as Y}from"./yup.bba88ad9.js";import"./property-expr.48609aa3.js";import{h as ue}from"./moment.40bc58bf.js";import{a as Fe}from"./laravel-vue-pagination.475a8c82.js";import{C as At}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as Pt}from"./@vueuse.5a8c8091.js";import{L as qe}from"./vue3-datepicker.da50a26b.js";import Ge from"./html2canvas.4d0ab5af.js";import{h as at}from"./html2pdf.js.29e4cedb.js";import"./jspdf.1c93f4e0.js";import{V as Tt}from"./vue-sweetalert2.891f877f.js";import{d as Et}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=bt;window.axios=L;window.$=window.jQuery=ft;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=rt("AuthUserStore",()=>{const a=r({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:"",sitehead_user_id:""});return{user:a,getAuthUser:async()=>{await L.get("/api/profile").then(m=>{a.value=m.data})}}}),qt={class:"content"},Ft={class:"container-fluid"},Lt={class:"card"},It={class:"card-header"},Rt={class:"card-body"},Nt=e("div",{class:"row"},null,-1),Yt={__name:"Dashboard",setup(a){xt.register(Ct,St,Dt,Vt,Ut,Mt);const y=`${fe().name}`;_e(),r("all"),r(0);const m=r(new Date().getFullYear()),l=r({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),i=()=>{axios.get("/api/chart").then(d=>{d.data,l.value=d.data}).catch(d=>{console.error("Error fetching chart data:",d)})},n=r("today"),_=r(0),h=()=>{axios.get("/api/stats/users",{params:{date_range:n.value}}).then(d=>{_.value=d.data.totalUsersCount})};return me(()=>{i(),h(),document.title=y}),(d,w)=>(s(),o("div",qt,[e("div",Ft,[e("div",Lt,[e("div",It," Yearly Progress - "+t(m.value),1),e("div",Rt,[p(u(wt),{data:l.value},null,8,["data"])])]),Nt])]))}},Bt={class:"content"},jt={class:"container-fluid"},Ht={class:"row"},Ot={class:"col-lg-12"},zt={class:"d-flex justify-content-between mb-2"},Jt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),F(" Add New Appointment")],-1),Gt={class:"btn-group"},Qt=e("span",{class:"mr-1"},"All",-1),Wt={class:"badge badge-pill badge-info"},Kt=["onClick"],Xt={class:"mr-1"},Zt={class:"card"},es={class:"card-body"},ts={class:"table table-bordered"},ss=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),as=e("td",null,null,-1),os=e("i",{class:"fa fa-edit mr-2"},null,-1),ls=["onClick"],ns=e("i",{class:"fa fa-trash text-danger"},null,-1),ds=[ns],is={__name:"ListAppointments",setup(a){const y=r(),m=r([]),l=()=>{L.get("/api/appointment-status").then(w=>{m.value=w.data})},i=r([]),n=w=>{y.value=w;const f={};w&&(f.status=w),L.get("/api/appointments",{params:f}).then(V=>{i.value=V.data,console.log(V)})},_=we(()=>m.value.map(w=>w.count).reduce((w,f)=>w+f,0)),h=w=>{const f=i.value.data.find(c=>c.id===w).status.name,V=m.value.find(c=>c.name===f);V.count--},d=w=>{nt.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(f=>{f.isConfirmed&&L.delete(`/api/appointments/${w}`).then(V=>{h(w),i.value.data=i.value.data.filter(c=>c.id!==w),nt.fire("Deleted!","Your file has been deleted.","success")})})};return me(()=>{n(),l()}),(w,f)=>{const V=be("router-link");return s(),o("div",Bt,[e("div",jt,[e("div",Ht,[e("div",Ot,[e("div",zt,[e("div",null,[p(V,{to:"/admin/appointments/create"},{default:Z(()=>[Jt]),_:1})]),e("div",Gt,[e("button",{onClick:f[0]||(f[0]=c=>n()),type:"button",class:M(["btn",[typeof y.value=="undefined"?"btn-secondary":"btn-default"]])},[Qt,e("span",Wt,t(_.value),1)],2),(s(!0),o(j,null,X(m.value,c=>(s(),o("button",{key:c.id,onClick:C=>n(c.value),type:"button",class:M(["btn",[y.value===c.value?"btn-secondary":"btn-default"]])},[e("span",Xt,t(c.name),1),e("span",{class:M(["badge badge-pill",`badge-${c.color}`])},t(c.count),3)],10,Kt))),128))])]),e("div",Zt,[e("div",es,[e("table",ts,[ss,e("tbody",null,[(s(!0),o(j,null,X(i.value.data,(c,C)=>(s(),o("tr",{key:c.id},[e("td",null,t(C+1),1),e("td",null,t(c.client.first_name)+" "+t(c.client.last_name),1),e("td",null,t(c.start_time),1),e("td",null,t(c.end_time),1),as,e("td",null,[p(V,{to:`/admin/appointments/${c.id}/edit`},{default:Z(()=>[os]),_:2},1032,["to"]),e("a",{href:"#",onClick:se(N=>d(c.id),["prevent"])},ds,8,ls)])]))),128))])])])])])])])])}}};function pe(){return Je.options.positionClass="toast-top-right",Je.options.closeButton=!0,Je.options.progressBar=!0,Je}const cs={class:"content-header"},rs={class:"container-fluid"},us={class:"row mb-2"},_s={class:"col-sm-6"},ms={class:"m-0"},ps={key:0},hs={key:1},vs={class:"col-sm-6"},bs={class:"breadcrumb float-sm-right"},fs={class:"breadcrumb-item"},$s={class:"breadcrumb-item"},ys={class:"breadcrumb-item active"},gs={key:0},ks={key:1},ws={class:"content"},xs={class:"container-fluid"},Cs={class:"row"},Ss={class:"col-lg-12"},Ds={class:"card"},Vs={class:"card-body"},Us={class:"row"},Ms={class:"col-md-6"},As={class:"form-group"},Ps=e("label",{for:"title"},"Title",-1),Ts={class:"invalid-feedback"},Es={class:"col-md-6"},qs={class:"form-group"},Fs=e("label",{for:"client"},"Client Name",-1),Ls=["value"],Is={class:"invalid-feedback"},Rs={class:"row"},Ns={class:"col-md-6"},Ys={class:"form-group"},Bs=e("label",{for:"start-time"},"Start Time",-1),js={class:"invalid-feedback"},Hs={class:"col-md-6"},Os={class:"form-group"},zs=e("label",{for:"end-time"},"End Time",-1),Js={class:"invalid-feedback"},Gs={class:"form-group"},Qs=e("label",{for:"description"},"Description",-1),Ws={class:"invalid-feedback"},Ks=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),dt={__name:"AppointmentForm",setup(a){const y=Qe(),m=fe(),l=pe(),i=Ve({title:"",client_id:"",start_time:"",end_time:"",description:""}),n=(c,C)=>{V.value?h(c,C):_(c,C)},_=(c,C)=>{L.post("/api/appointments/create",i).then(N=>{y.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(N=>{C.setErrors(N.response.data.errors)})},h=(c,C)=>{L.put(`/api/appointments/${m.params.id}/edit`,i).then(N=>{y.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(N=>{C.setErrors(N.response.data.errors)})},d=r(),w=()=>{L.get("/api/view-clients").then(c=>{d.value=c.data})},f=()=>{L.get(`/api/appointments/${m.params.id}/edit`).then(({data:c})=>{i.title=c.title,i.client_id=c.client_id,i.start_time=c.formatted_start_time,i.end_time=c.formatted_end_time,i.description=c.description})},V=r(!1);return me(()=>{m.name==="admin.appointments.edit"&&(V.value=!0,f()),ut(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),w()}),(c,C)=>{const N=be("router-link");return s(),o(j,null,[e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[e("h1",ms,[V.value?(s(),o("span",ps,"Edit")):(s(),o("span",hs,"Create")),F(" Appointment")])]),e("div",vs,[e("ol",bs,[e("li",fs,[p(N,{to:"/admin/dashboard"},{default:Z(()=>[F("Home")]),_:1})]),e("li",$s,[p(N,{to:"/admin/appointments"},{default:Z(()=>[F("Appointments")]),_:1})]),e("li",ys,[V.value?(s(),o("span",gs,"Edit")):(s(),o("span",ks,"Create"))])])])])])]),e("div",ws,[e("div",xs,[e("div",Cs,[e("div",Ss,[e("div",Ds,[e("div",Vs,[p(u(Me),{onSubmit:n},{default:Z(({errors:O})=>[e("div",Us,[e("div",Ms,[e("div",As,[Ps,te(e("input",{"onUpdate:modelValue":C[0]||(C[0]=Q=>i.title=Q),type:"text",class:M(["form-control",{"is-invalid":O.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ce,i.title]]),e("span",Ts,t(O.title),1)])]),e("div",Es,[e("div",qs,[Fs,te(e("select",{"onUpdate:modelValue":C[1]||(C[1]=Q=>i.client_id=Q),id:"client",class:M(["form-control",{"is-invalid":O.client_id}])},[(s(!0),o(j,null,X(d.value,Q=>(s(),o("option",{value:Q.id,key:Q.id},t(Q.first_name)+" "+t(Q.last_name),9,Ls))),128))],2),[[Te,i.client_id]]),e("span",Is,t(O.client_id),1)])])]),e("div",Rs,[e("div",Ns,[e("div",Ys,[Bs,te(e("input",{"onUpdate:modelValue":C[2]||(C[2]=Q=>i.start_time=Q),type:"text",class:M(["form-control flatpickr",{"is-invalid":O.start_time}]),id:"start-time"},null,2),[[ce,i.start_time]]),e("span",js,t(O.start_time),1)])]),e("div",Hs,[e("div",Os,[zs,te(e("input",{"onUpdate:modelValue":C[3]||(C[3]=Q=>i.end_time=Q),type:"text",class:M(["form-control flatpickr",{"is-invalid":O.end_time}]),id:"end-time"},null,2),[[ce,i.end_time]]),e("span",Js,t(O.end_time),1)])])]),e("div",Gs,[Qs,te(e("textarea",{"onUpdate:modelValue":C[4]||(C[4]=Q=>i.description=Q),class:M(["form-control",{"is-invalid":O.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ce,i.description]]),e("span",Ws,t(O.description),1)]),Ks]),_:1})])])])])])])],64)}}},Xs=["checked"],Zs=["value","selected"],ea=["value","selected"],ta=e("i",{class:"fa fa-edit"},null,-1),sa=[ta],aa=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),oa=[aa],la={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(a,{emit:y}){const m=pe(),l=a,i=y,n=r([{name:"ADMIN",value:1},{name:"USER",value:2}]),_=r([]),h=()=>{L.get("/api/users/userlist").then(V=>{_.value=V.data}).catch(V=>{console.log(V)})},d=(V,c)=>{L.patch(`/api/users/${V.id}/change-role`,{role:c}).then(()=>{m.success("Role changed successfully!")})},w=(V,c)=>{L.patch(`/api/users/${V.id}/change-sitehead`,{sitehead_user_id:c}).then(()=>{m.success("Sitehead changed successfully!")})},f=()=>{i("toggleSelection",l.user)};return me(()=>{h()}),(V,c)=>(s(),o("tr",null,[e("td",null,[a.user.name!="admin"?(s(),o("input",{key:0,type:"checkbox",checked:a.selectAll,onChange:f},null,40,Xs)):A("",!0)]),e("td",null,t(a.index+1),1),e("td",null,t(a.user.first_name+" "+a.user.last_name),1),e("td",null,t(a.user.email),1),e("td",null,t(a.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:c[0]||(c[0]=C=>d(a.user,C.target.value))},[(s(!0),o(j,null,X(n.value,C=>(s(),o("option",{key:C.id,value:C.value,selected:a.user.role===C.name},t(C.name),9,Zs))),128))],32)]),e("td",null,[a.user.name!="admin"?(s(),o("select",{key:0,class:"form-control",onChange:c[1]||(c[1]=C=>w(a.user,C.target.value))},[(s(!0),o(j,null,X(_.value,C=>(s(),o("option",{key:C.id,value:C.id,selected:a.user.sitehead_user_id===C.id},t(C.first_name+" "+C.last_name),9,ea))),128))],32)):A("",!0)]),e("td",null,[e("a",{href:"#",onClick:c[2]||(c[2]=se(C=>V.$emit("editUser",a.user),["prevent"]))},sa),a.user.id!=1?(s(),o("a",{key:0,href:"#",onClick:c[3]||(c[3]=se(C=>V.$emit("confirmUserDeletion",a.user.id),["prevent"]))},oa)):A("",!0)])]))}},na={class:"content"},da={class:"container-fluid"},ia={class:"d-flex justify-content-between mb-2"},ca={class:"d-flex"},ra=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ua={key:0},_a=e("i",{class:"fa fa-trash mr-1"},null,-1),ma={class:"ml-2"},pa={class:"card"},ha={class:"card-body"},va={class:"dispatch-table"},ba={class:"table-responsive"},fa={class:"table table-bordered table-hover table-sm"},$a=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Department Head"),e("th",null,"Action")])],-1),ya={key:0},ga={key:1},ka=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),wa=[ka],xa=["index"],Ca={class:"card"},Sa={class:"card-body"},Da={class:"list-field"},Va=e("span",{class:"mb-1 dis"},"Name:",-1),Ua={class:"list-field"},Ma=e("span",{class:"mb-1 dis"},"Email:",-1),Aa={class:"list-field"},Pa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ta={class:"list-field"},Ea=e("span",{class:"mb-1 dis"},"Site Head:",-1),qa=["onChange"],Fa=["value","selected"],La=e("hr",null,null,-1),Ia={class:"row"},Ra={key:0,class:"col"},Na=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ba=["onClick"],ja=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),F(" Remove ")],-1),Ha=[ja],Oa={key:1,class:"col"},za=["onClick"],Ja=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ga={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qa={class:"modal-dialog",role:"document"},Wa={class:"modal-content"},Ka={class:"modal-header"},Xa={class:"modal-title",id:"staticBackdropLabel"},Za={key:0},eo={key:1},to=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),so={class:"modal-body"},ao={class:"form-group"},oo=e("label",{for:"name"},"Username",-1),lo={class:"invalid-feedback"},no={class:"d-flex justify-content-between"},io={class:"d-flex"},co={class:"form-group"},ro=e("label",{for:"email"},"Email",-1),uo={class:"invalid-feedback"},_o={class:"d-flex"},mo={class:"form-group"},po=e("label",{for:"siteDropdown"},"Gender",-1),ho=e("option",{value:"",disabled:""}," Select a gender ",-1),vo=["value"],bo={class:"d-flex justify-content-between"},fo={class:"d-flex"},$o={class:"form-group"},yo=e("label",{for:"first_name"},"Fist Name",-1),go={class:"invalid-feedback"},ko={class:"d-flex"},wo={class:"form-group"},xo=e("label",{for:"last_name"},"Last Name",-1),Co={class:"invalid-feedback"},So={class:"form-group"},Do=e("label",{for:"position"},"Position",-1),Vo={class:"invalid-feedback"},Uo={class:"form-group"},Mo=e("label",{for:"password"},"Password",-1),Ao={class:"invalid-feedback"},Po=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),To={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Eo={class:"modal-dialog",role:"document"},qo={class:"modal-content"},Fo=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Lo={class:"modal-footer"},Io=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ro={__name:"UserList",setup(a){const y=`${fe().name}`,m=_e(),l=pe(),i=r({data:[]}),n=r(!1),_=r(),h=Ve({id:"",name:"",email:"",sitehead_user_id:"",first_name:"",last_name:"",gender:"",position:""});r([]),r(null);const d=r([{name:"Male",value:1},{name:"Female",value:2}]),w=(I=1)=>{L.get(`/api/users?page=${I}`,{params:{query:z.value}}).then(D=>{i.value=D.data,S.value=[],K.value=!1})},f=xe({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().required().min(8),gender:Y().required()}),V=xe({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().when((I,D)=>I?D.required().min(8):D),gender:Y().required()}),c=r([]),C=()=>{L.get("/api/users/userlist").then(I=>{c.value=I.data}).catch(I=>{console.log(I)})},N=(I,D)=>{L.patch(`/api/users/${I.id}/change-sitehead`,{sitehead_user_id:D}).then(()=>{l.success("Sitehead changed successfully!")})},O=(I,{resetForm:D,setErrors:g})=>{L.post("/api/users",I).then(x=>{i.value.data.unshift(x.data),$("#userFormModal").modal("hide"),D(),l.success("User created successfully!")}).catch(x=>{x.response.data.errors&&(g(x.response.data.errors),l.warning(x.response.data.errors.name))})},Q=()=>{n.value=!1,$("#userFormModal").modal("show")},ee=I=>{n.value=!0,h.id=I.id,h.name=I.name,h.email=I.email,h.first_name=I.first_name,h.last_name=I.last_name,h.gender=I.gender,h.position=I.position,$("#userFormModal").modal("show")},P=(I,{setErrors:D})=>{L.put("/api/users/"+_.value.id,I).then(g=>{const x=i.value.data.findIndex(ae=>ae.id===g.data.id);i.value.data[x]=g.data,$("#userFormModal").modal("hide"),l.success("User updated successfully!")}).catch(g=>{D(g.response.data.errors),console.log(g)})},B=(I,D)=>{n.value?P(I,D):O(I,D)},z=r(null),S=r([]),b=I=>{const D=S.value.indexOf(I.id);D===-1?S.value.push(I.id):S.value.splice(D,1),console.log(S.value)},R=r(null),U=I=>{R.value=I,$("#deleteUserModal").modal("show")},J=()=>{L.delete(`/api/users/${R.value}`).then(()=>{$("#deleteUserModal").modal("hide"),l.success("User deleted successfully!"),i.value.data=i.value.data.filter(I=>I.id!==R.value)})},ie=()=>{L.delete("/api/users",{data:{ids:S.value}}).then(I=>{i.value.data=i.value.data.filter(D=>!S.value.includes(D.id)),S.value=[],K.value=!1,l.success(I.data.message)})},K=r(!1);return he(z,Ae.exports.debounce(()=>{w()},300)),me(()=>{w(),C(),document.title=y}),(I,D)=>{const g=be("font");return s(),o(j,null,[e("div",na,[e("div",da,[e("div",ia,[e("div",ca,[e("button",{onClick:Q,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ra,F(" User ")]),S.value.length>0?(s(),o("div",ua,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[_a,F(" Delete Selected ")]),e("span",ma,"Selected "+t(S.value.length)+" users",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=x=>z.value=x),class:"form-control",placeholder:"Search..."},null,512),[[ce,z.value]])])]),e("div",pa,[e("div",ha,[e("div",va,[e("div",ba,[p(g,{size:"2"},{default:Z(()=>[e("table",fa,[$a,i.value.data.length>0?(s(),o("tbody",ya,[(s(!0),o(j,null,X(i.value.data,(x,ae)=>(s(),re(la,{key:x.id,user:x,index:ae,onEditUser:ee,onConfirmUserDeletion:U,onToggleSelection:b,"select-all":K.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),o("tbody",ga,wa))])]),_:1})])]),(s(!0),o(j,null,X(i.value.data,(x,ae)=>(s(),o("div",{class:"dispatch-list",key:x.id,index:ae},[e("div",Ca,[e("div",Sa,[e("div",Da,[Va,e("span",null,t(x.first_name+" "+x.last_name),1)]),e("div",Ua,[Ma,e("span",null,t(x.email),1)]),e("div",Aa,[Pa,e("span",null,t(x.formatted_created_at),1)]),e("div",Ta,[Ea,e("span",null,[x.name!="admin"?(s(),o("select",{key:0,class:"form-control",onChange:ne=>N(x,ne.target.value)},[(s(!0),o(j,null,X(c.value,ne=>(s(),o("option",{key:ne.id,value:ne.id,selected:ne.sitehead_user_id===ne.id},t(ne.first_name+" "+ne.last_name),9,Fa))),128))],40,qa)):A("",!0)])]),La,e("div",Ia,[u(m).user.role==="ADMIN"?(s(),o("div",Ra,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ne=>ee(x)},[Ya,F(" Edit ")],8,Na),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ne=>U(x.id)},Ha,8,Ba)])):A("",!0),u(m).user.role==="USER"?(s(),o("div",Oa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ne=>ee(x)},[Ja,F(" Edit ")],8,za)])):A("",!0)])])])],8,xa))),128))])]),p(u(Fe),{data:i.value,onPaginationChangePage:w},null,8,["data"])])]),e("div",Ga,[e("div",Qa,[e("div",Wa,[e("div",Ka,[e("h5",Xa,[n.value?(s(),o("span",Za,"Edit User")):(s(),o("span",eo,"Add New User"))]),to]),p(u(Me),{ref:"form",onSubmit:B,"validation-schema":n.value?u(V):u(f),"initial-values":_.value},{default:Z(({errors:x})=>[e("div",so,[e("div",ao,[oo,p(u(H),{name:"name",type:"text",class:M(["form-control",{"is-invalid":x.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username",modelValue:h.name,"onUpdate:modelValue":D[1]||(D[1]=ae=>h.name=ae)},null,8,["class","modelValue"]),e("span",lo,t(x.name),1)]),e("div",no,[e("div",io,[e("div",co,[ro,p(u(H),{name:"email",type:"email",class:M(["form-control",{"is-invalid":x.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email",modelValue:h.email,"onUpdate:modelValue":D[2]||(D[2]=ae=>h.email=ae)},null,8,["class","modelValue"]),e("span",uo,t(x.email),1)])]),e("div",_o,[e("div",mo,[po,p(u(H),{id:"gender",name:"gender",as:"select",class:M(["form-control",{"is-invalid":x.gender}])},{default:Z(()=>[ho,(s(!0),o(j,null,X(d.value,ae=>(s(),o("option",{key:ae.name,value:ae.name},t(ae.name),9,vo))),128))]),_:2},1032,["class"])])])]),e("div",bo,[e("div",fo,[e("div",$o,[yo,p(u(H),{name:"first_name",type:"text",class:M(["form-control",{"is-invalid":x.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name",modelValue:h.first_name,"onUpdate:modelValue":D[3]||(D[3]=ae=>h.first_name=ae)},null,8,["class","modelValue"]),e("span",go,t(x.first_name),1)])]),e("div",ko,[e("div",wo,[xo,p(u(H),{name:"last_name",type:"text",class:M(["form-control",{"is-invalid":x.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name",modelValue:h.last_name,"onUpdate:modelValue":D[4]||(D[4]=ae=>h.last_name=ae)},null,8,["class","modelValue"]),e("span",Co,t(x.last_name),1)])])]),e("div",So,[Do,p(u(H),{name:"position",type:"text",class:M(["form-control",{"is-invalid":x.position}]),id:"position",modelValue:h.position,"onUpdate:modelValue":D[5]||(D[5]=ae=>h.position=ae),placeholder:"Enter position"},null,8,["class","modelValue"]),e("span",Vo,t(x.position),1)]),e("div",Uo,[Mo,p(u(H),{name:"password",type:"password",class:M(["form-control",{"is-invalid":x.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",Ao,t(x.password),1)])]),Po]),_:1},8,["validation-schema","initial-values"])])])]),e("div",To,[e("div",Eo,[e("div",qo,[Fo,e("div",Lo,[Io,e("button",{onClick:se(J,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},No=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Yo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Bo=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),jo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Pe={__name:"ContentLoader",setup(a){return(y,m)=>y.isloading?(s(),re(u(At),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[No,Yo,Bo,jo]),_:1})):A("",!0)}};var $e=(a,y)=>{const m=a.__vccOpts||a;for(const[l,i]of y)m[l]=i;return m};const Le=a=>(Se("data-v-5b4c8080"),a=a(),De(),a),Ho={class:"content"},Oo={class:"container-fluid"},zo={class:"row"},Jo={class:"col-md-6"},Go={class:"card"},Qo=Ce('<ul class="nav nav-tabs" data-v-5b4c8080><li class="nav-item" data-v-5b4c8080><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-5b4c8080>General Settings</a></li><li class="nav-item" data-v-5b4c8080><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-5b4c8080>Site Settings</a></li></ul>',1),Wo={class:"tab-content"},Ko={class:"tab-pane fade show active",id:"general-tab"},Xo={class:"card-body"},Zo={class:"form-group"},el=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),tl={key:0,class:"text-danger text-sm"},sl={class:"form-group"},al=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),ol=Ce('<option value="m/d/Y" data-v-5b4c8080> MM/DD/YYYY </option><option value="d/m/Y" data-v-5b4c8080> DD/MM/YYYY </option><option value="Y-m-d" data-v-5b4c8080> YYYY-MM-DD </option><option value="F j, Y" data-v-5b4c8080> Month DD, YYYY </option><option value="j F Y" data-v-5b4c8080> DD Month YYYY </option>',5),ll=[ol],nl={key:0,class:"text-danger text-sm"},dl={class:"form-group"},il=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),cl={key:0,class:"text-danger text-sm"},rl=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),F("Save Changes ")])],-1)),ul={class:"tab-pane fade",id:"site"},_l={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ml={key:0,class:"list-group-item p-0"},pl={class:"d-flex justify-content-center"},hl=["onClick"],vl={class:"ml-auto my-1 mr-1"},bl=["onClick"],fl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),$l=[fl],yl={class:"m-2 list-unstyled"},gl={key:1},kl={key:0,class:"list-group-item p-0"},wl={class:"d-flex justify-content-center"},xl=["onClick"],Cl={class:"ml-auto my-1 mr-1"},Sl=["onClick"],Dl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),Vl=[Dl],Ul={key:1,class:"mt-2 text-center"},Ml=Le(()=>e("span",null,"No Site",-1)),Al=[Ml],Pl={class:"input-group"},Tl=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),El={__name:"UpdateSetting",setup(a){const y=`${fe().name}`,m=r([]),l=pe(),i=r(!0),n=r([]),_=r(!1),h=r(),d=Oe("$swal"),w=r({id:"",site_name:"",is_active:""}),f=()=>{_.value=!0,axios.get("/api/site").then(z=>{_.value=!1,n.value=z.data}).catch(z=>{console.log(z)})},V=we(()=>Array.isArray(n.value)?n.value.filter(z=>z.is_active===0):[]),c=we(()=>V.value.length),C=()=>{i.value=!i.value},N=()=>{var z,S;_.value=!0,axios.post("/api/site",{id:(z=w.value)==null?void 0:z.id,site_name:(S=w.value)==null?void 0:S.site_name,is_active:!0}).then(b=>{f(),w.value={id:null,site_name:"",is_active:!0},l.success(b.data.message),_.value=!1}).catch(b=>{b.response&&b.response.status===422&&(P.value=b.response.data.errors)})},O=z=>{w.value.is_active=z.is_active===1?0:1,axios.post("/api/site",{id:z.id,site_name:z.site_name,is_active:w.value.is_active}).then(S=>{axios.get("/api/site").then(b=>{n.value=b.data}).catch(b=>{console.error("Error fetching tasks:",b),l.error("Error fetching tasks. Please try again.")})}).catch(S=>{console.error("Error adding new task:",S),l.error("Error adding new task. Please try again.")})},Q=z=>{if(z.is_active===null||z.is_active===0){d.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}w.value.id=z.id,w.value.site_name=z.site_name},ee=()=>{axios.get("/api/settings").then(z=>{m.value=z.data})},P=r(),B=()=>{P.value="",axios.post("/api/settings",m.value).then(z=>{l.success("Settings updated successfully!")}).catch(z=>{z.response&&z.response.status===422&&(P.value=z.response.data.errors)})};return me(()=>{f(),ee(),document.title=y}),(z,S)=>(s(),o("div",Ho,[e("div",Oo,[e("div",zo,[e("div",Jo,[e("div",Go,[Qo,e("div",Wo,[e("div",Ko,[e("form",{onSubmit:S[3]||(S[3]=se(b=>B(),["prevent"]))},[e("div",Xo,[e("div",Zo,[el,te(e("input",{"onUpdate:modelValue":S[0]||(S[0]=b=>m.value.app_name=b),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ce,m.value.app_name]]),P.value&&P.value.app_name?(s(),o("span",tl,t(P.value.app_name[0]),1)):A("",!0)]),e("div",sl,[al,te(e("select",{"onUpdate:modelValue":S[1]||(S[1]=b=>m.value.date_format=b),class:"form-control"},ll,512),[[Te,m.value.date_format]]),P.value&&P.value.date_format?(s(),o("span",nl,t(P.value.date_format[0]),1)):A("",!0)]),e("div",dl,[il,te(e("input",{"onUpdate:modelValue":S[2]||(S[2]=b=>m.value.pagination_limit=b),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ce,m.value.pagination_limit]]),P.value&&P.value.pagination_limit?(s(),o("span",cl,t(P.value.pagination_limit[0]),1)):A("",!0)])]),rl],32)]),e("div",ul,[n.value.length>0?(s(),o("div",_l,[_.value?(s(),re(Pe,{key:0})):A("",!0),(s(!0),o(j,null,X(n.value,b=>(s(),o("ul",{class:"list-group",key:b.id},[b.is_active===1?(s(),o("li",ml,[e("div",pl,[e("div",null,[e("span",{class:M({"btn font-italic text-red":b.is_active===0,btn:b.is_active===1})},[e("i",{onClick:R=>O(b),class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":b.is_active===1,"fa fa-circle text-primary":b.is_active===0}),style:{"font-size":"15px"}},null,10,hl),F(" "+t(b.site_name),1)],2)]),e("div",vl,[e("button",{onClick:R=>Q(b),class:"btn btn-outline"},$l,8,bl)])])])):A("",!0)]))),128)),e("li",yl,[c.value>0?(s(),o("button",{key:0,class:"btn btn-sm bg-danger",onClick:C},[e("i",{class:M(["fa",i.value?"fa-arrow-down":"fa-arrow-right"])},null,2),F(" \xA0Deactive List "+t(c.value),1)])):A("",!0)]),i.value?(s(),o("div",gl,[(s(!0),o(j,null,X(n.value,b=>(s(),o("ul",{class:"list-group",key:b.id},[b.is_active===0?(s(),o("li",kl,[e("div",wl,[e("div",null,[e("span",{class:M({"btn font-italic text-red":b.is_active===0,btn:b.is_active===1})},[e("i",{onClick:R=>O(b),class:M({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":b.is_active===1,"fa fa-circle text-primary":b.is_active===0}),style:{"font-size":"15px"}},null,10,xl),e("del",null,t(b.site_name),1)],2)]),e("div",Cl,[e("button",{onClick:R=>Q(b),class:"btn btn-outline"},Vl,8,Sl)])])])):A("",!0)]))),128))])):A("",!0)])):(s(),o("div",Ul,Al)),p(u(Me),{ref:"form",onSubmit:N,"initial-values":h.value},{default:Z(()=>[p(u(H),{name:"id",modelValue:w.value.id,"onUpdate:modelValue":S[4]||(S[4]=b=>w.value.id=b),type:"text",hidden:""},null,8,["modelValue"]),e("div",Pl,[p(u(H),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:w.value.site_name,"onUpdate:modelValue":S[5]||(S[5]=b=>w.value.site_name=b),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Tl])]),_:1},8,["initial-values"])])])])])])])]))}};var ql=$e(El,[["__scopeId","data-v-5b4c8080"]]);const Fl={class:"content"},Ll={class:"container-fluid"},Il={class:"row"},Rl={class:"col-md-3"},Nl={class:"card card-primary card-outline"},Yl={class:"card-body box-profile"},Bl={class:"text-center"},jl=["src"],Hl={class:"profile-username text-center"},Ol={class:"text-muted text-center"},zl={class:"col-md-9"},Jl={class:"card"},Gl=Ce('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Ql={class:"card-body"},Wl={class:"tab-content"},Kl={class:"tab-pane active",id:"profile"},Xl={class:"form-group row"},Zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),en={class:"col-sm-10"},tn={key:0,class:"text-danger text-sm"},sn={class:"form-group row"},an=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),on={class:"col-sm-10"},ln={key:0,class:"text-danger text-sm"},nn={class:"form-group row"},dn=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),cn={class:"col-sm-10"},rn={key:0,class:"text-danger text-sm"},un={class:"form-group row"},_n=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),mn={class:"col-sm-10"},pn={key:0,class:"text-danger text-sm"},hn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),F(" Save Changes")])])],-1),vn={class:"tab-pane",id:"changePassword"},bn={class:"form-group row"},fn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),$n={class:"col-sm-9"},yn={key:0,class:"text-danger text-sm"},gn={class:"form-group row"},kn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),wn={class:"col-sm-9"},xn={key:0,class:"text-danger text-sm"},Cn={class:"form-group row"},Sn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),Dn={class:"col-sm-9"},Vn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),F(" Save Changes")])])],-1),Un={__name:"UpdateProfile",setup(a){const y=_e(),m=pe(),l=`${fe().name}`,i=r([]),n=()=>{axios.put("/api/profile",{name:y.user.name,first_name:y.user.first_name,last_name:y.user.last_name,email:y.user.email,role:y.user.role}).then(V=>{m.success("Profile updated successfully!")}).catch(V=>{V.response&&V.response.status===422&&(i.value=V.response.data.errors)})},_=Ve({currentPassword:"",password:"",passwordConfirmation:""}),h=()=>{i.value="",axios.post("/api/change-user-password",_).then(V=>{m.success(V.data.message);for(const c in _)_[c]=""}).catch(V=>{V.response&&V.response.status===422&&(i.value=V.response.data.errors)})},d=r(null),w=()=>{d.value.click()},f=V=>{const c=V.target.files[0];y.user.avatar=URL.createObjectURL(c);const C=new FormData;C.append("profile_picture",c),axios.post("/api/upload-profile-image",C).then(N=>{m.success("Image uploaded successfully!")})};return me(()=>{document.title=l}),(V,c)=>(s(),o("div",Fl,[e("div",Ll,[e("div",Il,[e("div",Rl,[e("div",Nl,[e("div",Yl,[e("div",Bl,[e("input",{onChange:f,ref_key:"fileInput",ref:d,type:"file",class:"d-none"},null,544),e("img",{onClick:w,class:"profile-user-img img-circle",src:u(y).user.avatar,alt:"User profile picture"},null,8,jl)]),e("h3",Hl,t(u(y).user.name),1),e("p",Ol,t(u(y).user.role),1)])])]),e("div",zl,[e("div",Jl,[Gl,e("div",Ql,[e("div",Wl,[e("div",Kl,[e("form",{onSubmit:c[4]||(c[4]=se(C=>n(),["prevent"])),class:"form-horizontal"},[e("div",Xl,[Zl,e("div",en,[te(e("input",{"onUpdate:modelValue":c[0]||(c[0]=C=>u(y).user.name=C),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ce,u(y).user.name]]),i.value&&i.value.name?(s(),o("span",tn,t(i.value.name[0]),1)):A("",!0)])]),e("div",sn,[an,e("div",on,[te(e("input",{"onUpdate:modelValue":c[1]||(c[1]=C=>u(y).user.first_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ce,u(y).user.first_name]]),i.value&&i.value.first_name?(s(),o("span",ln,t(i.value.first_name[0]),1)):A("",!0)])]),e("div",nn,[dn,e("div",cn,[te(e("input",{"onUpdate:modelValue":c[2]||(c[2]=C=>u(y).user.last_name=C),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ce,u(y).user.last_name]]),i.value&&i.value.last_name?(s(),o("span",rn,t(i.value.last_name[0]),1)):A("",!0)])]),e("div",un,[_n,e("div",mn,[te(e("input",{"onUpdate:modelValue":c[3]||(c[3]=C=>u(y).user.email=C),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ce,u(y).user.email]]),i.value&&i.value.email?(s(),o("span",pn,t(i.value.email[0]),1)):A("",!0)])]),hn],32)]),e("div",vn,[e("form",{onSubmit:se(h,["prevent"]),class:"form-horizontal"},[e("div",bn,[fn,e("div",$n,[te(e("input",{"onUpdate:modelValue":c[5]||(c[5]=C=>_.currentPassword=C),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ce,_.currentPassword]]),i.value&&i.value.current_password?(s(),o("span",yn,t(i.value.current_password[0]),1)):A("",!0)])]),e("div",gn,[kn,e("div",wn,[te(e("input",{"onUpdate:modelValue":c[6]||(c[6]=C=>_.password=C),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ce,_.password]]),i.value&&i.value.password?(s(),o("span",xn,t(i.value.password[0]),1)):A("",!0)])]),e("div",Cn,[Sn,e("div",Dn,[te(e("input",{"onUpdate:modelValue":c[7]||(c[7]=C=>_.passwordConfirmation=C),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ce,_.passwordConfirmation]])])]),Vn],32)])])])])])])])]))}};const Ye=a=>(Se("data-v-809e38f2"),a=a(),De(),a),Mn={class:"login-box"},An={class:"card card-outline card-primary"},Pn=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Tn={class:"card-body"},En={key:0,class:"alert alert-danger",role:"alert"},qn={class:"input-group mb-3"},Fn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Ln={class:"input-group mb-3"},In=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Rn=["type"],Nn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Yn=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),Bn={class:"row"},jn={class:"col-12 mb-2"},Hn=["disabled"],On={key:0,class:"spinner-border spinner-border-sm",role:"status"},zn=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),Jn=[zn],Gn={key:1},Qn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Wn="Login",Kn={__name:"Login",setup(a){const y=r(!1),m=pe();_e();const l=Qe(),i=Ve({email:"",password:""}),n=r(!1),_=r(""),h=()=>{n.value=!0,_.value="",L.post("/login",i).then(()=>{l.push("/"),m.success("Login Success")}).catch(d=>{m.error(d.response.data.message)}).finally(()=>{n.value=!1})};return me(()=>{document.title=Wn}),(d,w)=>(s(),o("div",Mn,[e("div",An,[Pn,e("div",Tn,[_.value?(s(),o("div",En,t(_.value),1)):A("",!0),e("form",{onSubmit:se(h,["prevent"])},[e("div",qn,[Fn,te(e("input",{"onUpdate:modelValue":w[0]||(w[0]=f=>i.email=f),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ce,i.email]])]),e("div",Ln,[In,te(e("input",{"onUpdate:modelValue":w[1]||(w[1]=f=>i.password=f),class:"form-control",placeholder:"Password",type:y.value?"text":"password",onClick:w[2]||(w[2]=(...f)=>d.handleKeyClick&&d.handleKeyClick(...f))},null,8,Rn),[[st,i.password]])]),e("label",Nn,[te(e("input",{type:"checkbox","onUpdate:modelValue":w[3]||(w[3]=f=>y.value=f)},null,512),[[Ee,y.value]]),F(" Show Password ")]),Yn,e("div",Bn,[e("div",jn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:n.value},[n.value?(s(),o("div",On,Jn)):(s(),o("span",Gn,"Sign In"))],8,Hn)])])],32),Qn])])]))}};var Xn=$e(Kn,[["__scopeId","data-v-809e38f2"]]);const Zn=["checked"],ed=e("i",{class:"fa fa-edit"},null,-1),td=[ed],sd=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),ad=[sd],od={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(a,{emit:y}){pe();const m=a,l=y,i=()=>{l("toggleSelection",m.item)};return(n,_)=>(s(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:a.selectAll,onChange:i},null,40,Zn)]),e("td",null,t(a.index+1),1),e("td",null,t(a.item.first_name)+" "+t(a.item.last_name),1),e("td",null,t(a.item.email),1),e("td",null,t(a.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:_[0]||(_[0]=se(h=>n.$emit("editUser",a.item),["prevent"]))},td),e("a",{href:"#",onClick:_[1]||(_[1]=se(h=>n.$emit("confirmUserDeletion",a.item.id),["prevent"]))},ad)])]))}},ld={class:"content"},nd={class:"container-fluid"},dd={class:"d-flex justify-content-between"},id={class:"d-flex"},cd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),rd={key:0},ud=e("i",{class:"fa fa-trash mr-1"},null,-1),_d={class:"ml-2"},md={class:"card"},pd={class:"card-body"},hd={class:"table table-bordered"},vd=e("th",{style:{width:"10px"}},"#",-1),bd=e("th",null,"Name",-1),fd=e("th",null,"Email",-1),$d=e("th",null,"Registered Date",-1),yd=e("th",null,"Options",-1),gd={key:0},kd={key:1},wd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),xd=[wd],Cd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sd={class:"modal-dialog",role:"document"},Dd={class:"modal-content"},Vd={class:"modal-header"},Ud={class:"modal-title",id:"staticBackdropLabel"},Md={key:0},Ad={key:1},Pd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Td={class:"modal-body"},Ed={class:"form-group"},qd=e("label",{for:"fist_name"},"First Name",-1),Fd={class:"invalid-feedback"},Ld={class:"form-group"},Id=e("label",{for:"last_name"},"Last Name",-1),Rd={class:"invalid-feedback"},Nd={class:"form-group"},Yd=e("label",{for:"email"},"Email",-1),Bd={class:"invalid-feedback"},jd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Hd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Od={class:"modal-dialog",role:"document"},zd={class:"modal-content"},Jd=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Gd={class:"modal-footer"},Qd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Wd={__name:"ClientList",setup(a){const y=pe(),m=r({data:[]}),l=r(!1),i=r(),n=r(null),_=(R=1)=>{L.get(`/api/clients?page=${R}`,{params:{query:N.value}}).then(U=>{m.value=U.data,O.value=[],S.value=!1})},h=xe({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),d=xe({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),w=(R,{resetForm:U,setErrors:J})=>{L.post("/api/clients",R).then(ie=>{m.value.data.unshift(ie.data),$("#clientFormModal").modal("hide"),U(),y.success("User created successfully!")}).catch(ie=>{ie.response.data.errors&&J(ie.response.data.errors)})},f=()=>{l.value=!1,$("#clientFormModal").modal("show")},V=R=>{l.value=!0,n.value.resetForm(),$("#clientFormModal").modal("show"),i.value={id:R.id,first_name:R.first_name,last_name:R.last_name,email:R.email}},c=(R,{setErrors:U})=>{L.put("/api/clients/"+i.value.id,R).then(J=>{const ie=m.value.data.findIndex(K=>K.id===J.data.id);m.value.data[ie]=J.data,$("#clientFormModal").modal("hide"),y.success("Client updated successfully!")}).catch(J=>{U(J.response.data.errors),console.log(J)})},C=(R,U)=>{l.value?c(R,U):w(R,U)},N=r(null),O=r([]),Q=R=>{const U=O.value.indexOf(R.id);U===-1?O.value.push(R.id):O.value.splice(U,1),console.log(O.value)},ee=r(null),P=R=>{ee.value=R,$("#deleteClientModal").modal("show")},B=()=>{L.delete(`/api/clients/${ee.value}`).then(()=>{$("#deleteClientModal").modal("hide"),y.success("Client deleted successfully!"),m.value.data=m.value.data.filter(R=>R.id!==ee.value)})},z=()=>{L.delete("/api/clients",{data:{ids:O.value}}).then(R=>{m.value.data=m.value.data.filter(U=>!O.value.includes(U.id)),O.value=[],S.value=!1,y.success(R.data.message)})},S=r(!1),b=()=>{S.value?O.value=m.value.data.map(R=>R.id):O.value=[],console.log(O.value)};return he(N,Ae.exports.debounce(()=>{_()},300)),me(()=>{_()}),(R,U)=>(s(),o(j,null,[e("div",ld,[e("div",nd,[e("div",dd,[e("div",id,[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-primary"},[cd,F(" Add New Client ")]),O.value.length>0?(s(),o("div",rd,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ud,F(" Delete Selected ")]),e("span",_d,"Selected "+t(O.value.length)+" clients",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":U[0]||(U[0]=J=>N.value=J),class:"form-control",placeholder:"Search..."},null,512),[[ce,N.value]])])]),e("div",md,[e("div",pd,[e("table",hd,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":U[1]||(U[1]=J=>S.value=J),onChange:b},null,544),[[Ee,S.value]])]),vd,bd,fd,$d,yd])]),m.value.data.length>0?(s(),o("tbody",gd,[(s(!0),o(j,null,X(m.value.data,(J,ie)=>(s(),re(od,{key:J.id,item:J,index:ie,onEditUser:V,onConfirmUserDeletion:P,onToggleSelection:Q,"select-all":S.value},null,8,["item","index","select-all"]))),128))])):(s(),o("tbody",kd,xd))])])]),p(u(Fe),{data:m.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",Cd,[e("div",Sd,[e("div",Dd,[e("div",Vd,[e("h5",Ud,[l.value?(s(),o("span",Md,"Edit Client")):(s(),o("span",Ad,"Add New Client"))]),Pd]),p(u(Me),{ref_key:"form",ref:n,onSubmit:C,"validation-schema":l.value?u(d):u(h),"initial-values":i.value},{default:Z(({errors:J})=>[e("div",Td,[e("div",Ed,[qd,p(u(H),{name:"first_name",type:"text",class:M(["form-control",{"is-invalid":J.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Fd,t(J.first_name),1)]),e("div",Ld,[Id,p(u(H),{name:"last_name",type:"text",class:M(["form-control",{"is-invalid":J.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Rd,t(J.last_name),1)]),e("div",Nd,[Yd,p(u(H),{name:"email",type:"email",class:M(["form-control",{"is-invalid":J.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Bd,t(J.email),1)])]),jd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Hd,[e("div",Od,[e("div",zd,[Jd,e("div",Gd,[Qd,e("button",{onClick:se(B,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const ot=a=>(Se("data-v-6b52e506"),a=a(),De(),a),Kd={style:{"text-align":"center"}},Xd={key:0},Zd=ot(()=>e("i",{class:"fa fa-edit"},null,-1)),ei=[Zd],ti=ot(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),si=[ti],ai={key:1,style:{"text-align":"center"}},oi={key:0},li=ot(()=>e("i",{class:"fa fa-edit"},null,-1)),ni=[li],di={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(a,{emit:y}){pe();const m=_e();return(l,i)=>{const n=be("router-link");return s(),o("tr",null,[e("td",null,t(a.item.recommnum),1),e("td",null,t(a.item.user),1),e("td",null,t(a.item.branch),1),e("td",null,t(a.item.department),1),e("td",null,t(a.item.created_user),1),e("td",Kd,[a.item.statusid==2?(s(),re(n,{key:0,to:`/tech-approved/${a.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`badge-${a.item.status.color}`])},t(a.item.status.name),3)]),_:1},8,["to"])):(s(),o("span",{key:1,class:M(["badge",`badge-${a.item.status.color}`])},t(a.item.status.name),3))]),e("td",null,t(a.item.created_at),1),u(m).user.role==="ADMIN"?(s(),o("td",Xd,[e("a",{href:"#",onClick:i[0]||(i[0]=se(_=>l.$emit("editUser",a.item),["prevent"]))},ei),e("a",{href:"#",onClick:i[1]||(i[1]=se(_=>l.$emit("confirmUserDeletion",a.item.id),["prevent"]))},si)])):A("",!0),u(m).user.role==="USER"?(s(),o("td",ai,[a.item.statusid!=2?(s(),o("div",oi,[a.item.created_by==u(m).user.id?(s(),o("a",{key:0,href:"#",onClick:i[2]||(i[2]=se(_=>l.$emit("editUser",a.item),["prevent"]))},ni)):A("",!0)])):A("",!0)])):A("",!0)])}}};var ii=$e(di,[["__scopeId","data-v-6b52e506"]]);const ci={class:"content"},ri={class:"container-fluid"},ui={class:"d-flex justify-content-between"},_i={class:"d-flex"},mi=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),pi={key:0},hi=e("i",{class:"fa fa-trash mr-1"},null,-1),vi={class:"ml-2"},bi={class:"card"},fi={class:"card-body"},$i={class:"dispatch-table"},yi={class:"table-responsive"},gi={class:"table table-bordered table-sm"},ki=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),wi={key:0},xi={key:1},Ci=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Si=[Ci],Di=["item","index"],Vi={class:"card"},Ui={class:"card-body"},Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Tech #:",-1),Pi={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"User:",-1),Ei={class:"list-field"},qi=e("span",{class:"mb-1 dis"},"Branch:",-1),Fi={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"Department:",-1),Ii={class:"list-field"},Ri=e("span",{class:"mb-1 dis"},"Created by:",-1),Ni={class:"list-field"},Yi=e("span",{class:"mb-1 dis"},"Status:",-1),Bi={class:"list-field"},ji=e("span",{class:"mb-1 dis"},"Created Date:",-1),Hi=e("hr",null,null,-1),Oi={class:"row"},zi={key:0,class:"col"},Ji=["onClick"],Gi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Qi=["onClick"],Wi=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),F(" Remove ")],-1),Ki=[Wi],Xi={key:1,class:"col"},Zi={key:0},ec=["onClick"],tc=e("i",{class:"fa fa-pencil-square-o"},null,-1),sc={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ac={class:"modal-dialog modal-lg",role:"document"},oc={class:"modal-content"},lc={class:"modal-header"},nc={class:"modal-title",id:"staticBackdropLabel"},dc={key:0},ic={key:1},cc=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),rc={class:"modal-body"},uc={class:"col-md-12"},_c={class:"row"},mc={class:"col-6"},pc={class:"form-group"},hc=e("label",{for:"branch"},"Branch",-1),vc=e("option",{value:"",disabled:""}," Select Branch ",-1),bc=["value"],fc={class:"invalid-feedback"},$c={class:"form-group"},yc=e("label",{for:"department"},"Department",-1),gc={class:"invalid-feedback"},kc={class:"form-group"},wc=e("label",{for:"warehouse"},"warehouse",-1),xc={class:"invalid-feedback"},Cc={class:"form-group"},Sc=e("label",{for:"user"},"User",-1),Dc={class:"invalid-feedback"},Vc={class:"col-6"},Uc={class:"form-group"},Mc=e("label",{for:"brand"},"Brand",-1),Ac={class:"form-group"},Pc=e("label",{for:"model"},"Model",-1),Tc={class:"invalid-feedback"},Ec={class:"form-group"},qc=e("label",{for:"assettag"},"Asset tag",-1),Fc={class:"invalid-feedback"},Lc={class:"form-group"},Ic=e("label",{for:"serialnum"},"Serial number",-1),Rc={class:"invalid-feedback"},Nc={class:"col-12"},Yc={class:"form-group"},Bc=e("label",{for:"problem"},"Report Problem",-1),jc={class:"invalid-feedback"},Hc={class:"form-group"},Oc=e("label",{for:"assconducted"},"Assessment conducted",-1),zc={class:"invalid-feedback"},Jc={class:"form-group"},Gc=e("label",{for:"recommendation"},"Recommendation",-1),Qc={class:"invalid-feedback"},Wc={class:"modal-footer"},Kc={key:0},Xc={key:0,class:"btn-group float-l ml-auto"},Zc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),er={class:"dropdown-menu",role:"menu"},tr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),sr=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),ar={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},or={class:"modal-dialog",role:"document"},lr={class:"modal-content"},nr=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),dr={class:"modal-footer"},ir=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),cr={__name:"TechList",setup(a){const y=r(),m=r(),l=pe(),i=r({data:[]});r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const n=`${fe().name}`,_=()=>{L.get("/web/getsite").then(g=>{m.value=g.data.sites}).catch(g=>{console.log(g)})},h=r(!1),d=r(!1),w=r(),f=Ve({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),V=_e();r(null);const c=(g=1)=>{h.value=!0,L.get(`/api/tech-recommendations?page=${g}`,{params:{query:S.value}}).then(x=>{h.value=!1,i.value=x.data,b.value=[],D.value=!1})},C=xe({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),N=xe({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),O=(g,{resetForm:x,setErrors:ae})=>{L.post("/api/tech-recommendations",g).then(ne=>{i.value.data.unshift(ne.data),$("#FormModal").modal("hide"),x(),l.success("Data created successfully!")}).catch(ne=>{ne.response.data.errors&&ae(ne.response.data.errors)})},Q=()=>{d.value=!1,$("#FormModal").modal("show")},ee=()=>{f.id="",f.recommnum="",f.branch="",f.department="",f.warehouse="",f.user="",f.problem="",f.brand="",f.model="",f.assettag="",f.serialnum="",f.assconducted="",f.recommendation="",f.ceated_by=""},P=g=>{y.value=g.id,d.value=!0,ee(),f.id=g.id,f.branch=g.branch,f.department=g.department,f.warehouse=g.warehouse,f.user=g.user,f.problem=g.problem,f.brand=g.brand,f.model=g.model,f.assettag=g.assettag,f.serialnum=g.serialnum,f.assconducted=g.assconducted,f.recommendation=g.recommendation,f.ceated_by=g.ceated_by,f.recommnum=g.recommnum,$("#FormModal").modal("show")},B=(g,{setErrors:x})=>{L.put("/api/tech-recommendations/"+g.id,g).then(ae=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(ae=>{x(ae.response.data.errors),console.log(ae)})},z=(g,x)=>{d.value?B(f,x):O(g,x)},S=r(null),b=r([]),R=g=>{const x=b.value.indexOf(g.id);x===-1?b.value.push(g.id):b.value.splice(x,1),console.log(b.value)},U=r(null),J=g=>{U.value=g,$("#deleteClientModal").modal("show")},ie=()=>{L.delete(`/api/tech-recommendations/${U.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),i.value.data=i.value.data.filter(g=>g.id!==U.value)})},K=()=>{L.delete("/api/tech-recommendations",{data:{ids:b.value}}).then(g=>{i.value.data=i.value.data.filter(x=>!b.value.includes(x.id)),b.value=[],D.value=!1,l.success(g.data.message)})},I=g=>{L.post("/api/tech-getaction",{id:y.value,status:g}).then(x=>{$("#FormModal").modal("hide"),c()}).catch(x=>{console.log(x.message)})},D=r(!1);return he(S,Ae.exports.debounce(()=>{c()},300)),me(()=>{c(),_(),document.title=n}),(g,x)=>{const ae=be("font"),ne=be("router-link");return s(),o(j,null,[e("div",ci,[e("div",ri,[e("div",ui,[e("div",_i,[e("button",{onClick:Q,type:"button",class:"mb-2 btn btn-primary"},[mi,F(" TechRecom ")]),b.value.length>0?(s(),o("div",pi,[e("button",{onClick:K,type:"button",class:"ml-2 mb-2 btn btn-danger"},[hi,F(" Delete Selected ")]),e("span",vi,"Selected "+t(b.value.length)+" techrecomm",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=E=>S.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ce,S.value]])])]),e("div",bi,[e("div",fi,[h.value?(s(),re(Pe,{key:0})):A("",!0),e("div",$i,[e("div",yi,[p(ae,{size:"2"},{default:Z(()=>[e("table",gi,[ki,i.value.data.length>0?(s(),o("tbody",wi,[(s(!0),o(j,null,X(i.value.data,(E,q)=>(s(),re(ii,{key:E.id,item:E,index:q,onEditUser:P,onShowItem:g.viewItem,onConfirmUserDeletion:J,onToggleSelection:R,"select-all":D.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),o("tbody",xi,Si))])]),_:1})])]),(s(!0),o(j,null,X(i.value.data,(E,q)=>(s(),o("div",{class:"dispatch-list",key:E.id,item:E,index:q},[e("div",Vi,[e("div",Ui,[e("div",Mi,[Ai,e("span",null,[e("b",null,t(E.recommnum),1)])]),e("div",Pi,[Ti,e("span",null,t(E.user),1)]),e("div",Ei,[qi,e("span",null,t(E.branch),1)]),e("div",Fi,[Li,e("span",null,t(E.department),1)]),e("div",Ii,[Ri,e("span",null,t(E.created_user),1)]),e("div",Ni,[Yi,E.statusid==2?(s(),re(ne,{key:0,to:`/tech-approved/${E.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`badge-${E.status.color}`])},t(E.status.name),3)]),_:2},1032,["to"])):A("",!0),E.statusid!=2?(s(),o("span",{key:1,class:M(["badge",`badge-${E.status.color}`])},t(E.status.name),3)):A("",!0)]),e("div",Bi,[ji,e("span",null,t(E.created_at),1)]),Hi,e("div",Oi,[u(V).user.role==="ADMIN"?(s(),o("div",zi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>P(E)},[Gi,F(" Edit ")],8,Ji),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>J(E.id)},Ki,8,Qi)])):A("",!0),u(V).user.role==="USER"?(s(),o("div",Xi,[E.statusid!=2?(s(),o("div",Zi,[E.created_by==u(V).user.id?(s(),o("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>P(E)},[tc,F(" Edit ")],8,ec)):A("",!0)])):A("",!0)])):A("",!0)])])])],8,Di))),128))])]),p(u(Fe),{data:i.value,onPaginationChangePage:c},null,8,["data"])])]),e("div",sc,[e("div",ac,[e("div",oc,[e("div",lc,[e("h5",nc,[d.value?(s(),o("span",dc,"Edit Tech Recom.")):(s(),o("span",ic,"Add New Tech Recom."))]),cc]),p(u(Me),{onSubmit:z,"validation-schema":d.value?u(N):u(C),"initial-values":w.value},{default:Z(({errors:E})=>[e("div",rc,[e("div",uc,[e("div",_c,[e("div",mc,[p(u(H),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(V).user.id,"onUpdate:modelValue":x[1]||(x[1]=q=>u(V).user.id=q)},null,8,["modelValue"]),p(u(H),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:f.recommnum,"onUpdate:modelValue":x[2]||(x[2]=q=>f.recommnum=q)},null,8,["modelValue"]),e("div",pc,[hc,p(u(H),{as:"select",name:"branch",class:M(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:f.branch,"onUpdate:modelValue":x[3]||(x[3]=q=>f.branch=q)},{default:Z(()=>[vc,(s(!0),o(j,null,X(m.value,q=>(s(),o("option",{key:q.name,value:q.name},t(q.name),9,bc))),128))]),_:2},1032,["class","modelValue"]),e("span",fc,t(E.branch),1)]),e("div",$c,[yc,p(u(H),{name:"department",type:"text",class:M(["form-control",{"is-invalid":E.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:f.department,"onUpdate:modelValue":x[4]||(x[4]=q=>f.department=q)},null,8,["class","modelValue"]),e("span",gc,t(E.department),1)]),e("div",kc,[wc,p(u(H),{name:"warehouse",type:"text",class:M(["form-control",{"is-invalid":E.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:f.warehouse,"onUpdate:modelValue":x[5]||(x[5]=q=>f.warehouse=q)},null,8,["class","modelValue"]),e("span",xc,t(E.warehouse),1)]),e("div",Cc,[Sc,p(u(H),{name:"user",type:"text",class:M(["form-control",{"is-invalid":E.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:f.user,"onUpdate:modelValue":x[6]||(x[6]=q=>f.user=q)},null,8,["class","modelValue"]),e("span",Dc,t(E.user),1)])]),e("div",Vc,[e("div",Uc,[Mc,p(u(H),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:f.brand,"onUpdate:modelValue":x[7]||(x[7]=q=>f.brand=q)},null,8,["modelValue"])]),e("div",Ac,[Pc,p(u(H),{name:"model",type:"text",class:M(["form-control",{"is-invalid":E.model}]),id:"model",modelValue:f.model,"onUpdate:modelValue":x[8]||(x[8]=q=>f.model=q),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Tc,t(E.model),1)]),e("div",Ec,[qc,p(u(H),{name:"assettag",type:"text",class:M(["form-control",{"is-invalid":E.assettag}]),id:"assettag",modelValue:f.assettag,"onUpdate:modelValue":x[9]||(x[9]=q=>f.assettag=q),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Fc,t(E.assettag),1)]),e("div",Lc,[Ic,te(e("input",{name:"serialnum",type:"text",class:M(["form-control",{"is-invalid":E.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":x[10]||(x[10]=q=>f.serialnum=q)},null,2),[[ce,f.serialnum]]),e("span",Rc,t(E.serialnum),1)])]),e("div",Nc,[e("div",Yc,[Bc,p(u(H),{name:"problem",as:"textarea",class:M(["form-control",{"is-invalid":E.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:f.problem,"onUpdate:modelValue":x[11]||(x[11]=q=>f.problem=q)},null,8,["class","modelValue"]),e("span",jc,t(E.problem),1)]),e("div",Hc,[Oc,p(u(H),{name:"assconducted",as:"textarea",class:M(["form-control",{"is-invalid":E.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:f.assconducted,"onUpdate:modelValue":x[12]||(x[12]=q=>f.assconducted=q)},null,8,["class","modelValue"]),e("span",zc,t(E.assconducted),1)]),e("div",Jc,[Gc,p(u(H),{name:"recommendation",as:"textarea",class:M(["form-control",{"is-invalid":E.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:f.recommendation,"onUpdate:modelValue":x[13]||(x[13]=q=>f.recommendation=q)},null,8,["class","modelValue"]),e("span",Qc,t(E.recommendation),1)])])])])]),e("div",Wc,[d.value?(s(),o("div",Kc,[u(V).user.role==="ADMIN"?(s(),o("div",Xc,[e("button",{type:"button",onClick:x[14]||(x[14]=q=>I(2)),class:"btn btn-info"}," Approved "),Zc,e("div",er,[e("span",{onClick:x[15]||(x[15]=q=>I(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:x[16]||(x[16]=q=>I(3)),class:"dropdown-item"},"Disapproved")])])):A("",!0)])):A("",!0),tr,sr])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",ar,[e("div",or,[e("div",lr,[nr,e("div",dr,[ir,e("button",{onClick:se(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const ze=rt("SettingStore",()=>{const a=r({app_name:""}),y=Pt("SettingStore:theme",r("light"));return{setting:a,getSetting:async()=>{await L.get("/api/settings").then(i=>{a.value=i.data})},theme:y,changeTheme:()=>{y.value=y.value==="light"?"dark":"light"}}});const oe=a=>(Se("data-v-2e68c57e"),a=a(),De(),a),rr={class:"content"},ur={class:"container-fluid"},_r={class:"card"},mr={class:"card-header"},pr={class:"card-title"},hr={class:"card-body"},vr={class:"col-md-12"},br={class:"d-flex justify-content-between"},fr=oe(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),$r={class:"d-flex"},yr={class:"col-12",id:"accordion"},gr={key:1},kr={key:0},wr={class:"card card-secondary"},xr={class:"card-body d-flex align-items-center justify-content-center"},Cr={class:"image-container"},Sr=["src"],Dr=oe(()=>e("div",{class:"overlay"},null,-1)),Vr={key:1},Ur={class:"card-header bg-white"},Mr={class:"card-title"},Ar=["href"],Pr=["src"],Tr={class:"card-tools"},Er=["onClick"],qr=oe(()=>e("i",{class:"fas fa-tasks"},null,-1)),Fr=[qr],Lr=["disabled","onClick"],Ir=["onClick"],Rr=["onClick"],Nr=oe(()=>e("p",{class:"float-right"},null,-1)),Yr=["id"],Br={class:"card-body"},jr={class:"col-md-12"},Hr={class:"dispatch-table"},Or={class:"row"},zr={class:"col-4"},Jr=oe(()=>e("b",null,"Site:",-1)),Gr=oe(()=>e("b",null,"Planned Date:",-1)),Qr=oe(()=>e("b",null,"Planned End Date:",-1)),Wr={class:"col-4"},Kr=oe(()=>e("b",null,"Start Date:",-1)),Xr=oe(()=>e("b",null,"Accomplished Date:",-1)),Zr={class:"closestatus"},eu=oe(()=>e("b",{style:{color:"black"}},"Type:",-1)),tu={class:"col-4"},su={class:"ongoing"},au=oe(()=>e("b",{style:{color:"black"}},"Status:",-1)),ou=oe(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),lu=oe(()=>e("b",null,"Remarks:",-1)),nu={style:{margin:"0.5%"}},du=["disabled","onClick"],iu=["onClick","disabled"],cu={class:"dispatch-list"},ru={class:"list-group list-group-flush"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},yu={class:"badge badge-primary badge-pill"},gu={class:"list-group-item d-flex justify-content-between align-items-center"},ku={class:"badge badge-primary badge-pill"},wu={class:"list-group-item d-flex justify-content-between align-items-center"},xu={class:"badge badge-primary badge-pill"},Cu={class:"list-group-item d-flex justify-content-between align-items-center"},Su={class:"badge badge-primary badge-pill"},Du=oe(()=>e("hr",null,null,-1)),Vu={class:"row"},Uu={class:"col"},Mu=["onClick"],Au=oe(()=>e("i",{class:"fas fa-pen"},null,-1)),Pu=["onClick"],Tu=oe(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),F(" Drop ")],-1)),Eu=[Tu],qu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Fu={class:"modal-dialog modal-dialog-centered",role:"document"},Lu={class:"modal-content"},Iu={class:"modal-header"},Ru={class:"modal-title",id:"staticBackdropLabel"},Nu={key:0},Yu={key:1},Bu={key:2},ju=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Hu={class:"modal-body"},Ou={class:"col-md-12"},zu={class:"row"},Ju={class:"col-12"},Gu={class:"form-group"},Qu=oe(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Wu=oe(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Ku=["value"],Xu={key:0,class:"d-flex justify-content-between"},Zu={class:"d-flex"},e_={class:"form-group"},t_=oe(()=>e("label",{for:"end-time"},"Start Date",-1)),s_={class:"form-group"},a_=oe(()=>e("label",{for:"end-time"},"Hour",-1)),o_=["value"],l_=oe(()=>e("div",{class:"d-fex"},null,-1)),n_={key:1,class:"d-flex justify-content-between"},d_={class:"d-flex"},i_={class:"form-group"},c_=oe(()=>e("label",{for:"end-time"},"End Date",-1)),r_={class:"form-group"},u_=oe(()=>e("label",{for:"end-time"},"Hour",-1)),__=["value"],m_=oe(()=>e("div",{class:"d-fex"},null,-1)),p_={class:"form-group"},h_=oe(()=>e("label",{for:"site"},"Type",-1)),v_=oe(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),b_=["value"],f_=oe(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),$_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},y_={class:"modal-dialog modal-sm",role:"document"},g_={class:"modal-content"},k_={class:"modal-header"},w_={class:"modal-title",id:"staticBackdropLabel"},x_=oe(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),C_={class:"modal-body"},S_=Ce('<ul class="nav nav-tabs" id="myTabs" data-v-2e68c57e><li class="nav-item" data-v-2e68c57e><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-2e68c57e> Todo List</a></li><li class="nav-item" data-v-2e68c57e><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-2e68c57e> Todo</a></li></ul>',1),D_={class:"tab-content"},V_={class:"tab-pane fade show active",id:"todolist"},U_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},M_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),A_=oe(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),P_={key:0,class:"list-group-item p-0"},T_={class:"d-flex justify-content-center"},E_=["onClick"],q_={class:"ml-auto my-1 mr-1"},F_=["onClick"],L_=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),I_=[L_],R_={class:"mt-2 mb-2 list-unstyled"},N_={key:1},Y_={key:0,class:"list-group-item p-0"},B_={class:"d-flex justify-content-center"},j_=["onClick"],H_={class:"ml-auto my-1 mr-1"},O_=["onClick"],z_=oe(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),J_=[z_],G_={key:1,class:"mt-2 text-center"},Q_=oe(()=>e("span",null,"No Todo",-1)),W_=[Q_],K_={class:"tab-pane fade",id:"formTask"},X_={class:"col-md-12"},Z_={class:"row"},em={class:"col-12"},tm={class:"m-2",style:{display:"flex","align-items":"center"}},sm=oe(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),F("\xA0Save ")])],-1)),am={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},om={class:"modal-dialog",role:"document"},lm={class:"modal-content"},nm=oe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),dm={class:"modal-body"},im={class:"col-md-12"},cm={class:"row"},rm={class:"col-12"},um={class:"modal-footer"},_m=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),mm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pm={class:"modal-dialog",role:"document"},hm={class:"modal-content"},vm=Ce('<div class="modal-header" data-v-2e68c57e><h5 class="modal-title" id="staticBackdropLabel" data-v-2e68c57e><span data-v-2e68c57e>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-2e68c57e><span aria-hidden="true" data-v-2e68c57e>\xD7</span></button></div><div class="modal-body" data-v-2e68c57e><h5 data-v-2e68c57e>Are you sure you want to delete this record ?</h5></div>',2),bm={class:"modal-footer"},fm=oe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),$m={__name:"MyPrio",setup(a){const y=`${fe().name}`,m=r(!1),l=r(!1),i=Oe("$swal");ze();const n=pe(),_=r({data:[]}),h=r([]);r([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),r();const d=r();r();const w=r(!0),f=r(!1);r(!1),r();const V=r(),c=r(),C=r(),N=_e();r(null),r(!1);const O=r([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),Q=r(),ee=r("1:00 AM"),P=r(),B=r("1:00 AM"),z=r(Array.from({length:24},(k,T)=>{const v=T%12+1,ve=T<12?"AM":"PM";return`${v}:00 ${ve}`})),S=r(Array.from({length:24},(k,T)=>{const v=T%12+1,ve=T<12?"AM":"PM";return`${v}:00 ${ve}`})),b=Ve({dailytask_id:"",site:"",user_id:N.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),R=r("");he([Q,ee],()=>{const k=new Date(Q.value),T=k.getFullYear(),v=String(k.getMonth()+1).padStart(2,"0"),ve=String(k.getDate()).padStart(2,"0");b.plandate=`${T}-${v}-${ve} ${ee.value}`}),he([Q,B],()=>{const k=new Date(Q.value);k.getFullYear(),String(k.getMonth()+1).padStart(2,"0"),String(k.getDate()).padStart(2,"0")}),he([P,B],()=>{const k=new Date(P.value),T=k.getFullYear(),v=String(k.getMonth()+1).padStart(2,"0"),ve=String(k.getDate()).padStart(2,"0");b.enddates=`${T}-${v}-${ve} ${B.value}`});const U=r({id:"",dailytask_id:"",task_name:"",iscompleted:0}),J=()=>{L.get("/web/getsite").then(k=>{d.value=k.data.sites}).catch(k=>{console.log(k)})},ie=()=>{m.value=!0,L.get("/web/dailytask",{params:{query:W.value}}).then(k=>{m.value=!1,_.value=k.data,ke.value=[]})},K=async k=>{(await i({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(m.value=!0,L.put(`/web/dailytask/drop/${k}`).then(v=>{n.success("Data drop successfully!"),m.value=!1,ie()}))},I=()=>{$("#FormModalTask").modal("show")},D=k=>{I(),U.value.dailytask_id=k.dailytask_id,c.value=k.taskdate,C.value=k.startdate,l.value=!0,L.get(`/web/dailytask/${k.dailytask_id}/tasks`).then(T=>{h.value=T.data,I(),l.value=!1}).catch(T=>{console.error("Error fetching tasks:",T)})},g=()=>{l.value=!0,L.post("/web/dailytask/addnewTask",{dailytask_id:U.value.dailytask_id,task_name:U.value.task_name,iscompleted:U.value.iscompleted}).then(k=>{n.success("Data created successfully!"),L.get(`/web/dailytask/${U.value.dailytask_id}/tasks`).then(T=>{h.value=T.data,l.value=!1}).catch(T=>{console.error("Error fetching tasks:",T),n.error("Error fetching tasks. Please try again.")}),U.value.task_name=""}).catch(k=>{console.error("Error adding new task:",k),n.error("Error adding new task. Please try again.")})},x=k=>{U.value.iscompleted=k.iscompleted===1?0:1,L.post("/web/dailytask/addnewTask",{id:k.id,dailytask_id:k.dailytask_id,task_name:k.task_name,iscompleted:U.value.iscompleted}).then(T=>{L.get(`/web/dailytask/${k.dailytask_id}/tasks`).then(v=>{h.value=v.data}).catch(v=>{console.error("Error fetching tasks:",v),n.error("Error fetching tasks. Please try again.")})}).catch(T=>{console.error("Error adding new task:",T),n.error("Error adding new task. Please try again.")})},ae=we(()=>Array.isArray(h.value)?h.value.filter(k=>k.iscompleted===1):[]),ne=we(()=>ae.value.length),E=()=>{w.value=!w.value},q=k=>{L.delete(`/web/dailytask/deleteTask/${k.id}`).then(T=>{L.get(`/web/dailytask/${k.dailytask_id}/tasks`).then(v=>{h.value=v.data,n.success("Todo successfull Deleted")}).catch(v=>{console.error("Error fetching tasks:",v),n.error("Error fetching tasks. Please try again.")})}).catch(T=>{console.error("Error adding new task:",T),n.error("Error adding new task. Please try again.")})};xe({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()}),xe({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()});const Ie=(k,T)=>{L.post("/web/dailytask",b).then(v=>{ie(),$("#FormModal").modal("hide"),n.success("data created successfully!")}).catch(v=>{T.setErrors(v.response.data.errors)})},Ke=(k,T)=>{L.put("/web/dailytask/"+b.dailytask_id,b).then(v=>{console.log(v.data),ie(),$("#FormModal").modal("hide"),n.success("data update successfully!")}).catch(v=>{T.setErrors(v.response.data.errors)})},He=k=>{k&&k.dailytask_id!==null&&k.dailytask_id!==void 0?(f.value=!0,V.value=" on "+ue(k.taskdate).format("MMMM D, YYYY"),b.site=k.site_name,b.dailytask_id=k.dailytask_id,b.plandate=k.plandate,b.planenddate=k.planenddate,b.tasktype=k.tasktype,console.log(k.site_name),console.log(k.tasktype)):f.value=!1,J(),$("#FormModal").modal("show")},Xe=(k,T)=>{f.value?Ke(k,T):Ie(k,T)},Re=async k=>{if((await i.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const v=await L.put("/web/dailytask/onTashHoliday/"+k.dailytask_id,k);n.success(v.data.message),ie()}},Ze=async k=>{try{const T=await L.get(`/web/dailytask/${k.dailytask_id}/tasks`);if(h.value=T.data,!h.value||h.value.length===0){i.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await i.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const ve=await L.put("/web/dailytask/onhandler/"+k.dailytask_id,k);n.success(ve.data.message),ie()}}catch(T){console.error("Error fetching tasks:",T),n.error("An error occurred while updating the task.")}},et=k=>{$("#onRemarksModal").modal("show"),R.value=k},G=()=>{b.remarks===null||b.remarks==""?n.error("Remarks is required"):(ue(R.value.taskdate).format("YYYY-MM-DD")===ue().format("YYYY-MM-DD")?b.status="HIT":b.status="MISS",L.put("/web/dailytask/onhandler/"+R.value.dailytask_id,{startdate:R.value.startdate,remarks:b.remarks,status:b.status}).then(T=>{console.log(T.data),ie(),$("#onRemarksModal").modal("hide"),n.success(T.data.message)}))},W=r(null),ke=r([]);return r(null),he(W,Ae.exports.debounce(()=>{ie()},300)),me(()=>{ut(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ie(),document.title=y}),(k,T)=>(s(),o(j,null,[e("div",rr,[e("div",ur,[e("div",_r,[e("div",mr,[e("div",pr,t(u(N).user.first_name+" "+u(N).user.last_name)+" - My Prio ",1)]),e("div",hr,[e("div",vr,[e("div",br,[e("div",{class:"d-flex"},[e("button",{onClick:He,type:"button",class:"mb-2 btn btn-primary"},[fr,F(" Task ")])]),e("div",$r,[te(e("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=v=>W.value=v),class:"form-control",placeholder:"Search..."},null,512),[[ce,W.value]])])]),e("div",yr,[m.value?(s(),re(Pe,{key:0})):(s(),o("div",gr,[_.value.length===0?(s(),o("div",kr,[e("div",wr,[e("div",xr,[e("div",Cr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,Sr),Dr])])])])):(s(),o("div",Vr,[(s(!0),o(j,null,X(_.value,v=>(s(),o("div",{class:"card card-primary",key:v.id},[e("div",Ur,[e("h4",Mr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+v.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Pr),F(" \xA0"),e("b",null,t(u(ue)(v.taskdate).format("MMMM D, YYYY")+" - "+v.site_name),1)],8,Ar)]),e("div",Tr,[v.tasktypeid&&v.tasktypeid!==6?(s(),o("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>D(v)},Fr,8,Er)):A("",!0),!v.enddate&&v.tasktypeid!==6?(s(),o("button",{key:1,disabled:v.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:ve=>et(v)}," End ",8,Lr)):A("",!0),v.tasktypeid&&v.tasktypeid===6?(s(),o("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:ve=>Re(v)}," Complete ",8,Ir)):A("",!0),!v.startdate&&v.tasktypeid!==6?(s(),o("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:ve=>Ze(v)}," Start ",8,Rr)):A("",!0),Nr])]),e("div",{id:"collapse"+v.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Br,[e("div",jr,[e("div",Hr,[e("div",Or,[e("div",zr,[e("h5",null,[Jr,F(" "+t(v.site_name),1)]),e("h5",null,[Gr,F(" "+t(v.plandate),1)]),e("h5",null,[Qr,F(" "+t(v.planenddate),1)])]),e("div",Wr,[e("h5",null,[Kr,F(" "+t(v.startdate!==null?u(ue)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Xr,F(" "+t(v.enddate!==null?u(ue)(v.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Zr,[eu,F(" "+t(v.tasktype?v.tasktype.join(", "):""),1)])]),e("div",tu,[e("h5",su,[au,F(" "+t(v.status),1)]),e("h5",null,[ou,F(" "+t(v.attachment),1)]),e("h5",null,[lu,F(" "+t(v.remarks),1)])])]),e("div",nu,[e("button",{disabled:v.startdate!==null,onClick:ve=>K(v.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,du),e("button",{onClick:ve=>He(v),type:"button",disabled:v.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,iu)])]),e("div",cu,[e("ul",ru,[e("li",uu,[F(" Site: "),e("span",_u,t(v.site_name),1)]),e("li",mu,[F(" Planned Date: "),e("span",pu,t(v.plandate),1)]),e("li",hu,[F(" Planned End Date: "),e("span",vu,t(v.planenddate),1)]),e("li",bu,[F(" Start Date: "),e("span",fu,t(v.startdate!==null?u(ue)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",$u,[F(" Type: "),e("span",yu,t(v.tasktype?v.tasktype.join(", "):""),1)]),e("li",gu,[F(" Status: "),e("span",ku,t(v.status),1)]),e("li",wu,[F(" Attachment: "),e("span",xu,t(v.attachment),1)]),e("li",Cu,[F(" Remarks: "),e("span",Su,t(v.remarks),1)])]),Du,e("div",Vu,[e("div",Uu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:ve=>He(v)},[Au,F(" Edit ")],8,Mu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:ve=>K(v.dailytask_id)},Eu,8,Pu)])])])])])],8,Yr)]))),128))]))]))])])])])])]),e("div",qu,[e("div",Fu,[e("div",Lu,[e("div",Iu,[e("h5",Ru,[f.value?(s(),o("span",Nu,"Edit My Task")):(s(),o("span",Yu,"Add My Task")),f.value?(s(),o("span",Bu,t(V.value),1)):A("",!0)]),ju]),p(u(Me),{onSubmit:Xe},{default:Z(()=>[e("div",Hu,[e("div",Ou,[e("div",zu,[e("div",Ju,[p(u(H),{modelValue:b.user_id,"onUpdate:modelValue":T[1]||(T[1]=v=>b.user_id=v),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Gu,[Qu,te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":T[2]||(T[2]=v=>b.site=v)},[Wu,(s(!0),o(j,null,X(d.value,v=>(s(),o("option",{key:v.id,value:v.id},t(v.name),9,Ku))),128))],512),[[Te,b.site]])]),f.value==!1?(s(),o("div",Xu,[e("div",Zu,[e("div",e_,[t_,p(u(qe),{class:"form-control",modelValue:Q.value,"onUpdate:modelValue":T[3]||(T[3]=v=>Q.value=v)},null,8,["modelValue"])]),e("div",s_,[a_,te(e("select",{class:"form-control","onUpdate:modelValue":T[4]||(T[4]=v=>ee.value=v),id:"plandate"},[(s(!0),o(j,null,X(z.value,v=>(s(),o("option",{key:v,value:v},t(v),9,o_))),128))],512),[[Te,ee.value]])])]),l_])):A("",!0),f.value==!1?(s(),o("div",n_,[e("div",d_,[e("div",i_,[c_,p(u(qe),{class:"form-control",modelValue:P.value,"onUpdate:modelValue":T[5]||(T[5]=v=>P.value=v)},null,8,["modelValue"])]),e("div",r_,[u_,te(e("select",{class:"form-control","onUpdate:modelValue":T[6]||(T[6]=v=>B.value=v),id:"plandate"},[(s(!0),o(j,null,X(S.value,v=>(s(),o("option",{key:v,value:v},t(v),9,__))),128))],512),[[Te,B.value]])])]),m_])):A("",!0),e("div",p_,[h_,p(u(H),{name:"tasktype"},{default:Z(()=>[te(e("select",{"onUpdate:modelValue":T[7]||(T[7]=v=>b.tasktype=v),class:"form-control",required:!0},[v_,(s(!0),o(j,null,X(O.value,v=>(s(),o("option",{key:v.value,value:v.value},t(v.name),9,b_))),128))],512),[[Te,b.tasktype]])]),_:1})])])])])]),f_]),_:1})])])]),e("div",$_,[e("div",y_,[e("div",g_,[e("div",k_,[e("h5",w_," My Todo of "+t(u(ue)(c.value).format("MM/D/YYYY")),1),x_]),e("div",C_,[S_,e("div",D_,[e("div",V_,[h.value.length>0?(s(),o("div",U_,[l.value?(s(),re(Pe,{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[M_,A_]),_:1})):A("",!0),(s(!0),o(j,null,X(h.value,v=>(s(),o("ul",{class:"list-group",key:v.id},[v.iscompleted!==1?(s(),o("li",P_,[e("div",T_,[e("div",null,[e("span",{class:M({"font-italic btn":v.iscompleted===1,btn:v.iscompleted!==1})},[C.value?(s(),o("i",{key:0,onClick:ve=>x(v),class:M({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":v.iscompleted===1,"fa fa-circle text-primary":v.iscompleted!==1})},null,10,E_)):A("",!0),F(" "+t(v.task_name),1)],2)]),e("div",q_,[e("button",{onClick:ve=>q(v),class:"btn btn-outline"},I_,8,F_)])])])):A("",!0)]))),128)),e("li",R_,[ne.value>0?(s(),o("button",{key:0,class:"btn btn-sm bg-secondary",onClick:E},[e("i",{class:M(["fa",w.value?"fa-arrow-down":"fa-arrow-right"])},null,2),F(" \xA0Completed "+t(ne.value),1)])):A("",!0)]),w.value?(s(),o("div",N_,[(s(!0),o(j,null,X(h.value,v=>(s(),o("ul",{class:"list-group",key:v.id},[v.iscompleted===1?(s(),o("li",Y_,[e("div",B_,[e("div",null,[e("span",{class:M({"font-italic btn":v.iscompleted===1,btn:v.iscompleted!==1})},[C.value?(s(),o("i",{key:0,onClick:ve=>x(v),class:M({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":v.iscompleted===1,"fa fa-circle text-primary":v.iscompleted!==1})},null,10,j_)):A("",!0),F(" "+t(v.task_name),1)],2)]),e("div",H_,[e("button",{onClick:ve=>q(v),class:"btn btn-outline"},J_,8,O_)])])])):A("",!0)]))),128))])):A("",!0)])):(s(),o("div",G_,W_))]),e("div",K_,[p(u(Me),{onSubmit:g},{default:Z(()=>[e("div",X_,[e("div",Z_,[e("div",em,[p(u(H),{modelValue:U.value.dailytask_id,"onUpdate:modelValue":T[8]||(T[8]=v=>U.value.dailytask_id=v),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",tm,[p(u(H),{modelValue:U.value.task_name,"onUpdate:modelValue":T[9]||(T[9]=v=>U.value.task_name=v),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),sm]),_:1})])])])])])]),e("div",am,[e("div",om,[e("div",lm,[nm,e("div",dm,[e("div",im,[e("div",cm,[e("div",rm,[p(u(H),{modelValue:b.remarks,"onUpdate:modelValue":T[10]||(T[10]=v=>b.remarks=v),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",um,[e("button",{onClick:T[11]||(T[11]=se(v=>G(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),_m])])])]),e("div",mm,[e("div",pm,[e("div",hm,[vm,e("div",bm,[e("button",{onClick:T[12]||(T[12]=se((...v)=>k.deleteUser&&k.deleteUser(...v),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),fm])])])])],64))}};var ym=$e($m,[["__scopeId","data-v-2e68c57e"]]);const gm={class:"text-center"},km={key:0},wm={class:"text-center"},xm={key:0},Cm={class:"text-center"},Sm={key:0,class:"bg-success text-center"},Dm={key:1,class:"bg-danger text-center"},Vm={key:2,class:"text-center"},Um={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(a){return pe(),_e(),(y,m)=>(s(),o("tr",null,[e("td",null,t(u(ue)(a.item.taskdate).format("MMMM D, YYYY")),1),e("td",gm,[a.item.task_lists_count!==0?(s(),o("span",km,t(a.item.task_lists_count),1)):A("",!0)]),e("td",wm,[a.item.completed_task_count!==0?(s(),o("span",xm,t(a.item.completed_task_count),1)):A("",!0)]),e("td",Cm,[e("span",null,t(a.item.remarks),1)]),a.item.status==="HIT"?(s(),o("td",Sm,t(a.item.status),1)):a.item.status==="MISS"?(s(),o("td",Dm,t(a.item.status),1)):a.item.status===null||a.item.status===""?(s(),o("td",Vm,t(a.item.status===null||a.item.status===""?"On Going!":""),1)):A("",!0),e("td",{class:M({"bg-danger":a.item.percentage_completed>=0&&a.item.percentage_completed<=59,"bg-orange":a.item.percentage_completed>60&&a.item.percentage_completed<=90,"bg-success":a.item.percentage_completed===100,"text-center":!0})},t(a.item.percentage_completed+"%"),3)]))}};const ye=a=>(Se("data-v-323d585d"),a=a(),De(),a),Mm={class:"content-header"},Am={class:"container-fluid"},Pm={class:"col-12"},Tm={class:"card",id:"captureVSCContainer"},Em={class:"card-header"},qm={class:"card-title"},Fm={class:"card-tools"},Lm={class:"card-body"},Im=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),Rm=[Im],Nm={key:1,class:"row"},Ym={class:"inner"},Bm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},jm=["src"],Hm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Om={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},zm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Jm={style:{"text-align":"left"}},Gm={key:0},Qm=ye(()=>e("span",{class:"text-light badge"},"Todos",-1)),Wm={class:"list-group-item"},Km={style:{display:"flex","align-items":"left"}},Xm={class:"ml-1"},Zm={class:"ml-1"},ep={class:"float-right"},tp={id:"captureHitRateContainer",class:"card"},sp={class:"card-header"},ap={class:"card-title"},op={class:"card-body"},lp={class:"content"},np={class:"container-fluid"},dp=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),ip=[dp],cp={class:"dispatch-table"},rp={class:"table-responsive"},up={class:"table table-bordered table-hover table-sm"},_p=ye(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),mp=ye(()=>e("td",null,[e("strong",null,"OVERALL:")],-1)),pp={class:"text-center"},hp={class:"text-center"},vp=ye(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),bp=ye(()=>e("td",{class:"text-center"},[e("strong",null,"\u2014")],-1)),fp=["item"],$p={class:"list-field"},yp=ye(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),gp={class:"list-field"},kp=ye(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),wp={key:0},xp={class:"list-field"},Cp=ye(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Sp={key:0},Dp={class:"list-field"},Vp=ye(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),Up={class:"list-field"},Mp=ye(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),Ap={class:"list-field"},Pp=ye(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),Tp={class:"float-right"},Ep={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qp={class:"modal-dialog modal-sm",role:"document"},Fp={class:"modal-content"},Lp=ye(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Ip={class:"modal-body"},Rp={class:"fromtocenter"},Np=ye(()=>e("label",{for:"fromDate"},"From:",-1)),Yp=ye(()=>e("label",{for:"toDate"},"To:",-1)),Bp=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),jp={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hp={class:"modal-dialog modal-sm",role:"document"},Op={class:"modal-content"},zp=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Jp={class:"modal-body"},Gp={class:"container"},Qp={class:"row"},Wp=["onClick"],Kp=ye(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Xp={__name:"MyVsc",setup(a){const y=`${fe().name}`,m=_e(),l=r(!1),i=r(0),n=r(0),_=r(0),h=r([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),w=r((()=>{const b={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",b)})()),f=()=>{const b=document.getElementById("captureVSCContainer");Ge(b).then(R=>{const U=R.toDataURL(),J=document.createElement("a");J.href=U,J.download=`${m.user.first_name+" "+m.user.last_name} - ${y}.png`,J.click()})},V=()=>{const b=document.getElementById("captureHitRateContainer");Ge(b).then(R=>{const U=R.toDataURL(),J=document.createElement("a");J.href=U,J.download=`${m.user.first_name+" "+m.user.last_name} - My HIT RATE.png`,J.click()})};r(null),r("today");const c=r({data:[]}),C=r({data:[]}),N=()=>{l.value=!0,axios.get("/api/myvsc").then(b=>{l.value=!1,c.value=b.data.dailyTasks,C.value=b.data.TaskList,i.value=b.data.totaltasklist,n.value=b.data.totalcomplettask,_.value=b.data.totalpercentcomplete})},O=()=>{$("#FormModalfilterDate").modal("show")},Q=r({start_date:"",end_date:""}),ee=r(""),P=r("");he([ee],()=>{const b=new Date(ee.value),R=b.getFullYear(),U=String(b.getMonth()+1).padStart(2,"0"),J=String(b.getDate()).padStart(2,"0");Q.value.start_date=`${R}-${U}-${J}`}),he([P],()=>{const b=new Date(P.value),R=b.getFullYear(),U=String(b.getMonth()+1).padStart(2,"0"),J=String(b.getDate()).padStart(2,"0");Q.value.end_date=`${R}-${U}-${J}`});const B=()=>{l.value=!0,axios.get("/api/filter-vsc",{params:{start_date:Q.value.start_date,end_date:Q.value.end_date}}).then(b=>{l.value=!1,c.value=b.data.dailyTasks,C.value=b.data.TaskList}).catch(b=>{console.error(b)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},z=()=>{$("#FormModalPickerThemes").modal("show")},S=b=>{if(b){const R=m.user.id;axios.post("/api/changethemes",{userid:R,background:b.background,active_background:b.active_background,font_background:b.font_background}).then(U=>{$("#FormModalPickerThemes").modal("hide"),l.value=!0,axios.get("/api/myvsc").then(J=>{l.value=!1,c.value=J.data.dailyTasks,C.value=J.data.TaskList})}).catch(U=>{console.error(U)})}else console.error("Invalid item:",b)};return me(()=>{N(),document.title=y}),(b,R)=>(s(),o(j,null,[e("div",Mm,[e("div",Am,[e("div",Pm,[e("div",Tm,[e("div",Em,[e("div",qm,[e("h5",null,t(u(m).user.first_name+" "+u(m).user.last_name)+" - "+t(y),1)]),e("div",Fm,[e("i",{onClick:R[0]||(R[0]=U=>z()),class:"fas fa-palette"})])]),e("div",Lm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:f,type:"button",class:"mb-2 btn btn-sm btn-success"},Rm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:O})])]),l.value?(s(),re(Pe,{key:0})):(s(),o("div",Nm,[(s(!0),o(j,null,X(c.value,U=>(s(),o("div",{class:"col-lg-3 col-6",key:U.id},[e("div",{class:"small-box",style:tt("background-color: "+(u(ue)(U.taskdate).format("MMMM D, YYYY")===w.value?U.active_background==""?"#72461F":U.active_background:U.background==""?"#B98D65":U.background)+";")},[e("div",Ym,[e("div",Bm,[F(t(u(ue)(U.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,jm)]),e("div",Hm,t(u(ue)(U.taskdate).format("MMMM D, YYYY")),1),U.tasktype!==6?(s(),o("div",Om,t(U.site_name),1)):A("",!0),U.tasktype===6?(s(),o("div",zm," Holiday ")):A("",!0),e("div",Jm,[U.task_lists&&U.task_lists.length>0?(s(),o("div",Gm,[Qm,(s(!0),o(j,null,X(U.task_lists,J=>(s(),o("ul",{class:"list-group list-group-flush",key:J.id},[e("li",Wm,[e("div",Km,[e("div",Xm,[e("i",{class:M(J.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Zm,t(J.task_name),1)])])]))),128))])):A("",!0)])])],4)]))),128))])),e("div",ep,t(w.value),1)])]),e("div",tp,[e("div",sp,[e("div",ap,[e("h5",null,t(u(m).user.first_name+" "+u(m).user.last_name)+" - My HIT RATE ",1)])]),e("div",op,[e("div",lp,[e("div",np,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:V,type:"button",class:"mb-2 btn btn-sm btn-success"},ip)])]),e("div",cp,[e("div",rp,[e("table",up,[_p,e("tbody",null,[(s(!0),o(j,null,X(C.value,U=>(s(),re(Um,{key:U.id,item:U},null,8,["item"]))),128)),e("tr",null,[mp,e("td",pp,[e("strong",null,t(i.value),1)]),e("td",hp,[e("strong",null,t(n.value),1)]),vp,bp,e("td",{class:M({"bg-danger":_.value>=0&&_.value<=59,"bg-orange":_.value>60&&_.value<=90,"bg-success":_.value===100,"text-center":!0})},[e("strong",null,t(_.value.toFixed(2)+"%"),1)],2)])])])])]),(s(!0),o(j,null,X(C.value,U=>(s(),o("div",{class:"dispatch-list",key:U.id,item:U},[e("div",{class:M([{"callout callout-success":U.remarks==="HIT","callout callout-danger":U.remarks==="MISS",callout:U.remarks===null}])},[e("div",$p,[yp,e("span",null,t(u(ue)(U.taskdate).format("MMMM D, YYYY")),1)]),e("div",gp,[kp,U.task_lists_count!==0?(s(),o("span",wp,t(U.task_lists_count),1)):A("",!0)]),e("div",xp,[Cp,U.completed_task_count!==0?(s(),o("span",Sp,t(U.completed_task_count),1)):A("",!0)]),e("div",Dp,[Vp,e("span",null,t(U.remarks),1)]),e("div",Up,[Mp,e("span",{class:M(["badge",U.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(U.status),1)],2)]),e("div",Ap,[Pp,e("span",{class:M(["badge",{"bg-danger":U.percentage_completed>=0&&U.percentage_completed<=59},{"bg-orange":U.percentage_completed>60&&U.percentage_completed<=90},{"bg-success":U.percentage_completed===100}])},t(U.percentage_completed+"%"),3)])],2)],8,fp))),128))])]),e("div",Tp,t(w.value),1)])])])])]),e("div",Ep,[e("div",qp,[e("div",Fp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(y)+" Summary Report")]),Lp]),e("div",Ip,[e("div",Rp,[e("div",null,[Np,p(u(qe),{modelValue:ee.value,"onUpdate:modelValue":R[1]||(R[1]=U=>ee.value=U)},null,8,["modelValue"])]),e("div",null,[Yp,p(u(qe),{modelValue:P.value,"onUpdate:modelValue":R[2]||(R[2]=U=>P.value=U)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Bp,e("button",{onClick:B,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",jp,[e("div",Hp,[e("div",Op,[zp,e("div",Jp,[e("div",Gp,[e("div",Qp,[(s(!0),o(j,null,X(h.value,U=>(s(),o("div",{class:"col-md-4",key:U.background},[e("div",{class:"box",onClick:J=>S(U)},[e("div",{class:"column",style:tt({"background-color":U.background})}," \xA0 ",4),e("div",{class:"column",style:tt({"background-color":U.active_background})}," \xA0 ",4)],8,Wp)]))),128))])])]),Kp])])])],64))}};var Zp=$e(Xp,[["__scopeId","data-v-323d585d"]]);const eh={class:"text-center"},th={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(a){return pe(),_e(),(y,m)=>(s(),o("tr",null,[e("td",null,t(a.item.sitename),1),e("td",null,t(u(ue)(a.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(a.item.startdate),1),e("td",null,t(a.item.enddate),1),e("td",null,t(a.item.tasktype.listtask),1),e("td",eh,[e("span",{class:M(["badge",a.item.status==="HIT"?"bg-success":"bg-danger"])},t(a.item.status),3)]),e("td",null,t(a.item.remarks),1)]))}};var sh=$e(th,[["__scopeId","data-v-b058f1b2"]]);const Ue=a=>(Se("data-v-65d2a690"),a=a(),De(),a),ah={class:"content"},oh={class:"container-fluid"},lh={class:"card",id:"capturePrioContainer"},nh={class:"card-header"},dh={class:"card-title"},ih={class:"card-body"},ch={key:1,class:"content"},rh={class:"container-fluid"},uh=Ue(()=>e("i",{class:"fa fa-camera"},null,-1)),_h=[uh],mh={class:"dispatch-table"},ph={class:"table-responsive"},hh={class:"table table-bordered table-sm table-striped table-hover"},vh=Ue(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),bh={key:0},fh={key:1},$h=Ue(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),yh=[$h],gh=["item","index"],kh={class:"card"},wh={class:"card-body"},xh={class:"list-field"},Ch=Ue(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Sh={class:"list-field"},Dh=Ue(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),Vh={class:"list-field"},Uh=Ue(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),Mh={class:"list-field"},Ah=Ue(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),Ph={class:"list-field"},Th=Ue(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),Eh={class:"list-field"},qh=Ue(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Fh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Lh={class:"modal-dialog modal-sm",role:"document"},Ih={class:"modal-content"},Rh=Ue(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Nh={class:"modal-body"},Yh={class:"fromtocenter"},Bh=Ue(()=>e("label",{for:"fromDate"},"From:",-1)),jh=Ue(()=>e("label",{for:"toDate"},"To:",-1)),Hh=Ue(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Oh={__name:"MyClosePrioList",setup(a){const y=`${fe().name}`,m=r(!1);pe();const l=r({data:[]}),i=r(""),n=r(""),_=_e(),h=(V=1)=>{m.value=!0,L.get(`/api/mycloseprio?page=${V}`,{params:{query:f.value}}).then(c=>{m.value=!1,l.value=c.data})},d=()=>{const V=document.getElementById("capturePrioContainer");Ge(V).then(c=>{const C=c.toDataURL(),N=document.createElement("a");N.href=C,N.download="MY CLOSED PRIO.png",N.click()})},w=()=>{m.value=!0,L.get("/api/filter-closeprio",{params:{start_date:i.value,end_date:n.value}}).then(V=>{m.value=!1,l.value=V.data.dailyTasks}).catch(V=>{console.error(V)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},f=r(null);return he(f,Ae.exports.debounce(()=>{h()},300)),me(()=>{h(),document.title=y}),(V,c)=>{const C=be("font");return s(),o(j,null,[e("div",ah,[e("div",oh,[e("div",lh,[e("div",nh,[e("div",dh,[e("h5",null,t(u(_).user.first_name+" "+u(_).user.last_name)+" - My Closed Prio ",1)])]),e("div",ih,[m.value?(s(),re(Pe,{key:0})):(s(),o("div",ch,[e("div",rh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:d,type:"button",class:"mb-2 btn btn-sm btn-success"},_h)])]),e("div",null,[e("div",mh,[e("div",ph,[p(C,{size:"2"},{default:Z(()=>[e("table",hh,[vh,l.value.data.length>0?(s(),o("tbody",bh,[(s(!0),o(j,null,X(l.value.data,(N,O)=>(s(),re(sh,{key:N.id,item:N,index:O},null,8,["item","index"]))),128))])):(s(),o("tbody",fh,yh))])]),_:1})])]),(s(!0),o(j,null,X(l.value.data,(N,O)=>(s(),o("div",{class:"dispatch-list first-letter:shadow",key:N.id,item:N,index:O},[e("div",kh,[e("div",wh,[e("div",xh,[Ch,e("span",null,t(N.sitename),1)]),e("div",Sh,[Dh,e("span",null,t(u(ue)(N.taskdate).format("MMMM D, YYYY")),1)]),e("div",Vh,[Uh,e("span",null,t(N.startdate),1)]),e("div",Mh,[Ah,e("span",null,t(N.enddate),1)]),e("div",Ph,[Th,e("span",null,t(N.tasktype.listtask),1)]),e("div",Eh,[qh,e("span",{class:M(["badge",N.remarks==="HIT"?"bg-success":"bg-danger"])},t(N.remarks),3)])])])],8,gh))),128))])])]))])]),p(u(Fe),{data:l.value,onPaginationChangePage:h},null,8,["data"])])]),e("div",Fh,[e("div",Lh,[e("div",Ih,[Rh,e("div",Nh,[e("div",Yh,[e("div",null,[Bh,p(u(qe),{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=N=>i.value=N)},null,8,["modelValue"])]),e("div",null,[jh,p(u(qe),{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=N=>n.value=N)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Hh,e("button",{onClick:w,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var zh=$e(Oh,[["__scopeId","data-v-65d2a690"]]);const Jh={class:"text-center"},Gh=e("i",{class:"fa fa-edit"},null,-1),Qh=[Gh],Wh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(a,{emit:y}){return pe(),(m,l)=>(s(),o("tr",null,[e("td",null,t(a.index+1),1),e("td",null,t(a.user.first_name+" "+a.user.last_name),1),e("td",null,t(a.user.email),1),e("td",null,t(a.user.formatted_created_at),1),e("td",Jh,[e("a",{href:"#",onClick:l[0]||(l[0]=se(i=>m.$emit("editUser",a.user),["prevent"]))},Qh)])]))}},Kh={class:"content"},Xh={class:"container-fluid"},Zh={class:"card"},ev={class:"card-header"},tv=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),sv={class:"card-tools"},av={class:"card-body"},ov={class:"table-responsive"},lv={class:"table table-bordered table-hover table-sm"},nv=e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Action")])],-1),dv={key:0},iv={key:1},cv=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),rv=[cv],uv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_v={class:"modal-dialog modal-sm",role:"document"},mv={class:"modal-content"},pv={class:"modal-header"},hv={class:"modal-title",id:"staticBackdropLabel"},vv={key:0},bv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),fv={class:"modal-body"},$v={class:"table table-sm"},yv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),gv={colspan:"5"},kv={class:"custom-control custom-checkbox"},wv=["value","id"],xv=["for"],Cv={key:0,class:"table table-sm"},Sv={class:"text-danger"},Dv={class:"custom-control custom-checkbox"},Vv=["value","id"],Uv=["for"],Mv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Av={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Pv={class:"modal-dialog",role:"document"},Tv={class:"modal-content"},Ev=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),qv={class:"modal-footer"},Fv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Lv={__name:"UserMenuList",setup(a){const y=`${fe().name}`,m=pe(),l=r({data:[]}),i=r(!1),n=r(),_=r(null),h=r(null),d=r(),w=r([]),f=(P=1)=>{L.get(`/api/users?page=${P}`,{params:{query:C.value}}).then(B=>{l.value=B.data,N.value=[],selectAll.value=!1})},V=P=>{L.get(`/web/usermenu/${P.id}`).then(B=>{d.value=B.data,w.value=[],d.value.forEach(z=>{z.hasAccess===1&&w.value.push(z.menu_id),z.submenus.forEach(S=>{S.hasAccess===1&&w.value.push(S.menu_id)})})}).catch(B=>{console.log(B)}),i.value=!0,_.value.resetForm(),$("#userFormModal").modal("show"),n.value={id:P.id,username:P.username,email:P.email,first_name:P.first_name,last_name:P.last_name},h.value=n.value.first_name+" "+n.value.last_name},c=()=>{const P={user_id:n.value.id,menu_id:w.value};console.log(P),L.post("/web/usermenu",P).then(B=>{m.success("User Menu Save successfully!")}).catch(B=>{setErrors(B.response.data.errors)})},C=r(null),N=r([]),O=P=>{const B=N.value.indexOf(P.id);B===-1?N.value.push(P.id):N.value.splice(B,1),console.log(N.value)},Q=r(null),ee=P=>{Q.value=P,$("#deleteUserModal").modal("show")};return he(C,Ae.exports.debounce(()=>{f()},300)),me(()=>{f(),document.title=y}),(P,B)=>{const z=be("font");return s(),o(j,null,[e("div",Kh,[e("div",Xh,[e("div",Zh,[e("div",ev,[tv,e("div",sv,[te(e("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=S=>C.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ce,C.value]])])]),e("div",av,[e("div",ov,[p(z,{size:"2"},{default:Z(()=>[e("table",lv,[nv,l.value.data.length>0?(s(),o("tbody",dv,[(s(!0),o(j,null,X(l.value.data,(S,b)=>(s(),re(Wh,{key:S.id,user:S,index:b,onEditUser:V,onConfirmUserDeletion:ee,onToggleSelection:O,"select-all":P.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),o("tbody",iv,rv))])]),_:1})])])]),p(u(Fe),{data:l.value,onPaginationChangePage:f},null,8,["data"])])]),e("div",uv,[e("div",_v,[e("div",mv,[e("div",pv,[e("h5",hv,[i.value?(s(),o("span",vv,"User Menu for "+t(h.value),1)):A("",!0)]),bv]),p(u(Me),{ref_key:"form",ref:_,onSubmit:c,"initial-values":n.value},{default:Z(()=>[e("div",fv,[e("table",$v,[yv,(s(!0),o(j,null,X(d.value,S=>(s(),o("tr",{key:S.menu_id},[e("td",gv,[e("div",kv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":B[1]||(B[1]=b=>w.value=b),value:S.menu_id,id:"menu_id_"+S.menu_id},null,8,wv),[[Ee,w.value]]),e("label",{for:"menu_id_"+S.menu_id,class:"custom-control-label"},t(S.menu_title),9,xv)]),S.submenus&&S.submenus.length>0?(s(),o("table",Cv,[(s(!0),o(j,null,X(S.submenus,b=>(s(),o("tr",{key:b.id},[e("td",Sv,[e("div",Dv,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":B[2]||(B[2]=R=>w.value=R),value:b.menu_id,id:"menu_id_"+b.menu_id},null,8,Vv),[[Ee,w.value]]),e("label",{for:"menu_id_"+b.menu_id,class:"custom-control-label"},t(b.menu_title),9,Uv)])])]))),128))])):A("",!0)])]))),128))])]),Mv]),_:1},8,["initial-values"])])])]),e("div",Av,[e("div",Pv,[e("div",Tv,[Ev,e("div",qv,[Fv,e("button",{onClick:B[3]||(B[3]=se((...S)=>P.deleteUser&&P.deleteUser(...S),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const _t=a=>(Se("data-v-1f6da5a7"),a=a(),De(),a),Iv=["checked"],Rv=["innerHTML"],Nv={style:{"text-align":"center"}},Yv={class:"text-center"},Bv=_t(()=>e("i",{class:"fa fa-edit"},null,-1)),jv=[Bv],Hv=_t(()=>e("i",{class:"fa fa-trash"},null,-1)),Ov=[Hv],zv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(a,{emit:y}){pe(),_e();const m=a,l=y,i=()=>{l("toggleSelection",m.item)};return(n,_)=>(s(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:a.selectAll,onChange:i},null,40,Iv)]),e("td",null,t(a.index+1),1),e("td",null,t(a.item.menu_title),1),e("td",null,t(a.item.parent_title),1),e("td",null,t(a.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${a.item.menu_icon}'></i>`},null,8,Rv),e("td",null,t(a.item.sort_order),1),e("td",Nv,[e("i",{class:M({"fas fa-check-circle":a.item.is_active===1,"far fa-circle":a.item.is_active!==1})},null,2)]),e("td",null,t(a.item.created_at),1),e("td",Yv,[e("button",{class:"btn btn-sm bg-primary",onClick:_[0]||(_[0]=se(h=>n.$emit("editMenu",a.item),["prevent"]))},jv),F("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:_[1]||(_[1]=se(h=>n.$emit("confirmDeletion",a.item.menu_id),["prevent"]))},Ov)])]))}};var Jv=$e(zv,[["__scopeId","data-v-1f6da5a7"]]);const Gv=["type","name","value"],Qv=e("span",{class:"check"},null,-1),Wv={class:"pl-2"},Kv={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:a=>["checkbox","radio","switch"].includes(a)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(a,{emit:y}){const m=a,l=y,i=we({get:()=>m.modelValue,set:_=>{l("update:modelValue",_)}}),n=we(()=>m.type==="radio"?"radio":"checkbox");return(_,h)=>(s(),o("label",{class:M([a.type,"mr-6 mb-3 last:mr-0"])},[te(e("input",{"onUpdate:modelValue":h[0]||(h[0]=d=>i.value=d),type:n.value,name:a.name,value:a.inputValue},null,8,Gv),[[st,i.value]]),Qv,e("span",Wv,t(a.label),1)],2))}},Xv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:a=>["checkbox","radio","switch"].includes(a)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(a,{emit:y}){const m=a,l=y,i=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(s(),o("div",{class:M(["flex justify-start flex-wrap -mb-3",{"flex-col":a.isColumn}])},[(s(!0),o(j,null,X(a.options,(h,d)=>(s(),re(Kv,{key:d,modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=w=>i.value=w),type:a.type,name:a.name,"input-value":d,label:h,class:M(a.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Zv={class:"content"},eb={class:"container-fluid"},tb={class:"d-flex justify-content-between"},sb={class:"d-flex"},ab=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ob={key:0},lb=e("i",{class:"fa fa-trash mr-1"},null,-1),nb={class:"ml-2"},db={class:"card"},ib={class:"card-body"},cb={class:"table-responsive"},rb={class:"table table-bordered table-sm"},ub=e("th",{style:{width:"10px"}},"#",-1),_b=e("th",null,"Title",-1),mb=e("th",null,"Parent Menu",-1),pb=e("th",null,"Route",-1),hb=e("th",null,"Icon",-1),vb=e("th",null,"Sort",-1),bb=e("th",null,"Active",-1),fb=e("th",null,"Date",-1),$b=e("th",null,"Action",-1),yb={key:0},gb={key:1},kb=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),wb=[kb],xb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Cb={class:"modal-dialog modal-sm",role:"document"},Sb={class:"modal-content"},Db={class:"modal-header"},Vb={class:"modal-title",id:"staticBackdropLabel"},Ub={key:0},Mb={key:1},Ab=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Pb={class:"modal-body"},Tb={class:"col-md-12"},Eb={class:"row"},qb={class:"col-12"},Fb={class:"form-group"},Lb=e("label",{for:"user"},"Menu Title",-1),Ib={class:"invalid-feedback"},Rb={class:"form-group"},Nb=e("label",{for:"department"},"Parent Menu",-1),Yb=e("option",{value:"0"},"None",-1),Bb=["value"],jb={class:"form-group"},Hb=e("label",{for:"warehouse"},"Icon",-1),Ob={class:"invalid-feedback"},zb={class:"form-group"},Jb=e("label",{for:"user"},"Route",-1),Gb={class:"invalid-feedback"},Qb={class:"form-group"},Wb=e("label",{for:"user"},"Sort",-1),Kb={class:"invalid-feedback"},Xb={class:"form-group"},Zb=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),e1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},t1={class:"modal-dialog",role:"document"},s1={class:"modal-content"},a1=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),o1={class:"modal-footer"},l1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),n1={__name:"MenuList",setup(a){const y=`${fe().name}`,m=pe(),l=r({data:[]}),i=r({data:[]}),n=r(!1),_=r(!1);r();const h=r(!0),d=Ve({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),w=_e();r(null);const f=r(),V=(K=1)=>{n.value=!0,L.get(`/web/menulist?page=${K}`,{params:{query:P.value}}).then(I=>{n.value=!1,l.value=I.data,B.value=[],J.value=!1})},c=()=>{L.get("/web/GetParentId").then(K=>{i.value=K.data}).catch(K=>{console.error(K)})};xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()});const C=({resetForm:K,setErrors:I})=>{L.post("/web/menulist",{menu_title:d.menu_title,parent_id:d.parent_id,menu_icon:d.menu_icon,menu_route:d.menu_route,sort_order:d.sort_order,is_active:d.is_active}).then(D=>{l.value.data.unshift(D.data),$("#FormModal").modal("hide"),K(),m.success("User created successfully!")}).catch(D=>{D.response.data.errors&&I(D.response.data.errors)})},N=()=>{_.value=!1,$("#FormModal").modal("show")},O=K=>{_.value=!0,d.menu_id=K.menu_id,d.menu_title=K.menu_title,d.parent_id=K.parent_id,d.menu_icon=K.menu_icon,d.menu_route=K.menu_route,d.sort_order=K.sort_order,d.is_active===1?h.value=!0:h.value=!1,d.is_active=K.is_active,$("#FormModal").modal("show"),f.value=K.parent_id},Q=({setErrors:K})=>{L.post("/web/menulist",d).then(I=>{V(),$("#FormModal").modal("hide"),m.success("successfully Updated!")}).catch(I=>{K(I.response.data.errors),console.log(I)})},ee=(K,I)=>{_.value?Q(K):C(K)},P=r(null),B=r([]),z=K=>{const I=B.value.indexOf(K.id);I===-1?B.value.push(K.id):B.value.splice(I,1),console.log(B.value)},S=r(null),b=K=>{S.value=K,$("#deleteClientModal").modal("show")},R=()=>{L.delete(`/web/menu/${S.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Menu deleted successfully!"),l.value.data=l.value.data.filter(K=>K.menu_id!==S.value)})},U=()=>{L.delete("menulist",{data:{ids:B.value}}).then(K=>{l.value.data=l.value.data.filter(I=>!B.value.includes(I.id)),B.value=[],J.value=!1,m.success(K.data.message)})},J=r(!1),ie=()=>{J.value?B.value=l.value.data.map(K=>K.id):B.value=[],console.log(B.value)};return he([h],K=>{d.is_active=K?1:0}),he(P,Ae.exports.debounce(()=>{V()},300)),me(()=>{V(),c(),document.title=y}),(K,I)=>{const D=be("font");return s(),o(j,null,[e("div",Zv,[e("div",eb,[e("div",tb,[e("div",sb,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[ab,F(" Menu ")]),B.value.length>0?(s(),o("div",ob,[e("button",{onClick:U,type:"button",class:"ml-2 mb-2 btn btn-danger"},[lb,F(" Delete Selected ")]),e("span",nb,"Selected "+t(B.value.length)+" Menu",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=g=>P.value=g),class:"form-control",placeholder:"Search..."},null,512),[[ce,P.value]])])]),e("div",db,[e("div",ib,[n.value?(s(),re(Pe,{key:0})):A("",!0),e("div",cb,[p(D,{size:"2"},{default:Z(()=>[e("table",rb,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=g=>J.value=g),onChange:ie},null,544),[[Ee,J.value]])]),ub,_b,mb,pb,hb,vb,bb,fb,$b])]),l.value.data.length>0?(s(),o("tbody",yb,[(s(!0),o(j,null,X(l.value.data,(g,x)=>(s(),re(Jv,{key:g.id,item:g,index:x,onEditMenu:O,onConfirmDeletion:b,onToggleSelection:z,"select-all":J.value},null,8,["item","index","select-all"]))),128))])):(s(),o("tbody",gb,wb))])]),_:1})])])]),p(u(Fe),{data:l.value,onPaginationChangePage:V},null,8,["data"])])]),e("div",xb,[e("div",Cb,[e("div",Sb,[e("div",Db,[e("h5",Vb,[_.value?(s(),o("span",Ub,"Edit Menu")):(s(),o("span",Mb,"Add Menu"))]),Ab]),p(u(Me),{onSubmit:ee},{default:Z(({errors:g})=>[e("div",Pb,[e("div",Tb,[e("div",Eb,[e("div",qb,[p(u(H),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(w).user.id,"onUpdate:modelValue":I[2]||(I[2]=x=>u(w).user.id=x)},null,8,["modelValue"]),e("div",Fb,[Lb,p(u(H),{name:"menu_title",type:"text",class:M(["form-control",{"is-invalid":g.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:d.menu_title,"onUpdate:modelValue":I[3]||(I[3]=x=>d.menu_title=x)},null,8,["class","modelValue"]),e("span",Ib,t(g.menu_title),1)]),e("div",Rb,[Nb,te(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":I[4]||(I[4]=x=>d.parent_id=x)},[Yb,(s(!0),o(j,null,X(i.value,x=>(s(),o("option",{key:x.menu_id,value:x.menu_id},t(x.menu_title),9,Bb))),128))],512),[[Te,d.parent_id]])]),e("div",jb,[Hb,p(u(H),{name:"menu_icon",type:"text",class:M(["form-control",{"is-invalid":g.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:d.menu_icon,"onUpdate:modelValue":I[5]||(I[5]=x=>d.menu_icon=x)},null,8,["class","modelValue"]),e("span",Ob,t(g.menu_icon),1)]),e("div",zb,[Jb,p(u(H),{name:"menu_route",type:"text",class:M(["form-control",{"is-invalid":g.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:d.menu_route,"onUpdate:modelValue":I[6]||(I[6]=x=>d.menu_route=x)},null,8,["class","modelValue"]),e("span",Gb,t(g.menu_route),1)]),e("div",Qb,[Wb,p(u(H),{name:"sort_order",type:"text",class:M(["form-control",{"is-invalid":g.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:d.sort_order,"onUpdate:modelValue":I[7]||(I[7]=x=>d.sort_order=x)},null,8,["class","modelValue"]),e("span",Kb,t(g.sort_order),1)]),e("div",Xb,[p(Xv,{modelValue:d.is_active,"onUpdate:modelValue":I[8]||(I[8]=x=>d.is_active=x),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),Zb]),_:1})])])]),e("div",e1,[e("div",t1,[e("div",s1,[a1,e("div",o1,[l1,e("button",{onClick:se(R,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}},d1={class:"error-page"},i1=Ce('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),c1=[i1],r1="Page Not Found",mt={__name:"404",setup(a){return me(()=>{document.title=r1}),(y,m)=>(s(),o("div",d1,c1))}};const de=a=>(Se("data-v-5c8db172"),a=a(),De(),a),u1={id:"exportPDF"},_1={class:"container"},m1=de(()=>e("br",null,null,-1)),p1={class:"header"},h1=["src"],v1=["src"],b1={class:"header"},f1={class:"header-justify-space-between"},$1=de(()=>e("br",null,null,-1)),y1=de(()=>e("p",null,null,-1)),g1={key:0},k1=de(()=>e("strong",null,null,-1)),w1=de(()=>e("br",null,null,-1)),x1=de(()=>e("br",null,null,-1)),C1=de(()=>e("p",null,null,-1)),S1=de(()=>e("strong",null,"Unit details",-1)),D1={class:"content"},V1={class:"header-justify-space-between"},U1=de(()=>e("span",null,"Brand:",-1)),M1=de(()=>e("br",null,null,-1)),A1=de(()=>e("span",null,"Model:",-1)),P1=de(()=>e("br",null,null,-1)),T1=de(()=>e("div",null,null,-1)),E1=de(()=>e("span",null,"Serial #:",-1)),q1=de(()=>e("br",null,null,-1)),F1=de(()=>e("span",null,"Asset Tag:",-1)),L1=de(()=>e("br",null,null,-1)),I1=de(()=>e("div",null,null,-1)),R1=de(()=>e("strong",null,"Reported problem",-1)),N1={class:"content"},Y1=de(()=>e("strong",null,"Assessment conducted",-1)),B1={class:"content"},j1=de(()=>e("strong",null,"Recommendation",-1)),H1={class:"content"},O1={class:"header-justify-space-between"},z1=de(()=>e("strong",null,"Evaluated by:",-1)),J1=de(()=>e("br",null,null,-1)),G1={class:"botoom-line"},Q1=de(()=>e("br",null,null,-1)),W1=de(()=>e("p",null,null,-1)),K1=de(()=>e("strong",null,"Noted by:",-1)),X1=de(()=>e("br",null,null,-1)),Z1={class:"botoom-line"},ef=de(()=>e("br",null,null,-1)),tf=de(()=>e("br",null,null,-1)),sf=de(()=>e("p",null,null,-1)),af={key:0},of={key:1},lf={key:0,class:"fab-container"},nf=de(()=>e("i",{class:"fas fa-download"},null,-1)),df=[nf],cf={__name:"TechRecommApproved",setup(a){const y=`${fe().params.id}`,m=()=>{const n=document.getElementById("exportPDF");at().from(n).save(`${y}.pdf`)},l=Ve({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),i=()=>{L.get(`/api/tech-recommendations/${fe().params.id}`).then(n=>{l.id=n.data.id,l.recommnum=n.data.recommnum,l.branch=n.data.branch,l.company=n.data.company,l.department=n.data.department,l.warehouse=n.data.warehouse,l.user=n.data.user,l.problem=n.data.problem,l.brand=n.data.brand,l.model=n.data.model,l.assettag=n.data.assettag,l.serialnum=n.data.serialnum,l.status=n.data.status,l.assconducted=n.data.assconducted,l.recommendation=n.data.recommendation,l.createdby=n.data.createdby.cfull_name,l.updatedby=n.data.updatedby.ufull_name,l.created_at=ue(n.data.created_at).format("MMMM D, YYYY"),l.updated_at=ue(n.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=n.data.createdby.cposition,l.updated_position=n.data.updatedby.uposition}).catch(n=>{actions.setErrors(n.response.data.errors)})};return me(()=>{i(),document.title=y}),(n,_)=>(s(),o(j,null,[e("div",u1,[e("div",_1,[m1,e("div",p1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,h1),e("img",{class:"logo",src:"/img/logo.png",alt:"Left Logo"},null,8,v1)]),e("div",b1,[e("span",null,[F("Recommendation No: "),e("strong",null,t(l.recommnum),1)]),e("span",null,[F("Date Checked: "),e("strong",null,t(l.created_at),1)])]),e("div",f1,[e("div",null,[e("span",null,[F("Company: "),e("strong",null,t(l.company),1)]),$1,e("span",null,[F("Branch: "),e("strong",null,t(l.branch),1)])]),y1,e("div",null,[l.warehouse==""?(s(),o("span",g1,[F("Warehouse: "),k1,F(t(l.warehouse),1)])):A("",!0),w1,e("span",null,[F("User: "),e("strong",null,t(l.user),1)]),x1,e("span",null,[F("Department: "),e("strong",null,t(l.department),1)])]),C1]),S1,e("div",D1,[e("div",V1,[e("div",null,[U1,e("strong",null,t(l.brand),1),M1,A1,e("strong",null,t(l.model),1),P1]),T1,e("div",null,[E1,e("strong",null,t(l.serialnum),1),q1,F1,e("strong",null,t(l.assettag),1),L1]),I1])]),R1,e("div",N1,[e("p",null,t(l.problem),1)]),Y1,e("div",B1,[e("p",null,t(l.assconducted),1)]),j1,e("div",H1,[e("p",null,t(l.recommendation),1)]),e("div",O1,[e("div",null,[z1,J1,e("span",G1,t(l.createdby),1),Q1,e("span",null,t(l.created_position),1)]),W1,e("div",null,[K1,X1,e("span",Z1,t(l.updatedby),1),ef,e("span",null,t(l.updated_position),1),tf]),sf]),l.status===2?(s(),o("span",af,"Approved date:("+t(l.updated_at)+")",1)):(s(),o("span",of,"Pending"))])]),l.status===2?(s(),o("div",lf,[e("div",{class:"button iconbutton bg-success",onClick:_[0]||(_[0]=h=>m())},df)])):A("",!0)],64))}};var pt=$e(cf,[["__scopeId","data-v-5c8db172"]]);const rf={},uf={class:"card mx-auto",style:{"max-width":"600px"}},_f=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),mf={class:"card-body"},pf={class:"list-unstyled"};function hf(a,y){return s(),o("div",uf,[_f,e("div",mf,[e("ul",pf,[e("li",{class:"nav-item dropdown",onClick:y[0]||(y[0]=(...m)=>a.fetchNotifications&&a.fetchNotifications(...m))})])])])}var vf=$e(rf,[["render",hf]]);const bf=["checked"],ff={class:"text-center"},$f={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(a,{emit:y}){pe(),_e();const m=a,l=y,i=()=>{l("toggleSelection",m.item)};return(n,_)=>(s(),o("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:a.selectAll,onChange:i},null,40,bf)]),e("td",null,t(a.index+1),1),e("td",{onClick:_[0]||(_[0]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.site_name),1),e("td",{onClick:_[1]||(_[1]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.asset_name),1),e("td",{onClick:_[2]||(_[2]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.asset_type),1),e("td",{onClick:_[3]||(_[3]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.serial),1),e("td",{onClick:_[4]||(_[4]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.date_acquired),1),e("td",{onClick:_[5]||(_[5]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.man_supplier),1),e("td",{onClick:_[6]||(_[6]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.unit),1),e("td",{onClick:_[7]||(_[7]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t("\u20B1"+a.item.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:_[8]||(_[8]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t("\u20B1"+a.item.depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),e("td",{onClick:_[9]||(_[9]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.created_by),1),e("td",{onClick:_[10]||(_[10]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.created_at),1),e("td",{onClick:_[11]||(_[11]=se(h=>n.$emit("viewData",a.item),["prevent"]))},t(a.item.updated_by),1),e("td",ff,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:_[12]||(_[12]=se(h=>n.$emit("editData",a.item),["prevent"]))}),F(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:_[13]||(_[13]=se(h=>n.$emit("confirmDeletion",a.item.id),["prevent"]))})])])]))}};var yf=$e($f,[["__scopeId","data-v-78d9436c"]]);const gf={class:"content"},kf={class:"container-fluid"},wf={class:"d-flex justify-content-between"},xf={class:"d-flex"},Cf=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Sf={key:0},Df=e("i",{class:"fa fa-trash mr-1"},null,-1),Vf={class:"ml-2"},Uf={class:"card"},Mf={class:"card-body"},Af={class:"table-responsive"},Pf={class:"table table-bordered table-sm table-striped hover"},Tf=e("th",{style:{width:"10px"}},"#",-1),Ef=e("th",null,"Site",-1),qf=e("th",null,"Asset",-1),Ff=e("th",null,"Asset type",-1),Lf=e("th",null,"Serial",-1),If=e("th",null,"Date Aquired",-1),Rf=e("th",null,"Supplier",-1),Nf=e("th",null,"Unit",-1),Yf=e("th",null,"Purchase Cost",-1),Bf=e("th",null,"Unit Value",-1),jf=e("th",null,"Createdby",-1),Hf=e("th",null,"CreatedAt",-1),Of=e("th",null,"Updatedby",-1),zf=e("th",null,"Action",-1),Jf={key:0},Gf={key:1},Qf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),Wf=[Qf],Kf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xf={class:"modal-dialog modal-lg",role:"document"},Zf={class:"modal-content"},e$={class:"modal-header"},t$={class:"modal-title",id:"staticBackdropLabel"},s$={key:0},a$={key:1},o$=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),l$={class:"modal-body"},n$={class:"col-md-12"},d$={class:"row"},i$={class:"col-6"},c$={class:"form-group"},r$=e("label",{for:"branch"},"Site",-1),u$=e("option",{value:"",disabled:""}," Select Site ",-1),_$=["value"],m$={class:"invalid-feedback"},p$={class:"form-group"},h$=e("label",{for:"department"},"Asset Name",-1),v$={class:"invalid-feedback"},b$={class:"form-group"},f$=e("label",{for:"asset_type"},"Asset Type",-1),$$={class:"invalid-feedback"},y$={class:"form-group"},g$=e("label",{for:"serial"},"Serial #:",-1),k$={class:"invalid-feedback"},w$={class:"col-6"},x$={class:"form-group"},C$=e("label",{for:"date_acquired"},"Date Acquired",-1),S$={class:"invalid-feedback"},D$={class:"form-group"},V$=e("label",{for:"man_supplier"},"Brand",-1),U$={class:"invalid-feedback"},M$={class:"form-group"},A$=e("label",{for:"unit"},"Unit",-1),P$={class:"invalid-feedback"},T$={class:"row"},E$={class:"col-6"},q$={class:"form-group"},F$=e("label",{for:"paccountable"},"Person Accountable",-1),L$={class:"invalid-feedback"},I$={class:"col-6"},R$={class:"form-group"},N$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),Y$={class:"invalid-feedback"},B$={class:"row"},j$={class:"col-6"},H$={class:"form-group"},O$=e("label",{for:"cucodition"},"Current Condition",-1),z$=e("option",{value:"",disabled:""}," Select Condition ",-1),J$=e("option",{value:"Fair"}," FAIR ",-1),G$=e("option",{value:"Good"}," GOOD ",-1),Q$=e("option",{value:"Damange"}," DAMANGE ",-1),W$={class:"invalid-feedback"},K$={class:"form-group"},X$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),Z$={class:"col-6"},ey={class:"form-group"},ty=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),sy={class:"form-group"},ay=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),oy={class:"row"},ly={class:"col-6"},ny={class:"form-group"},dy=e("label",{for:"operationhours"},"Operating Hours",-1),iy={class:"col-6"},cy={class:"form-group"},ry=e("label",{for:"notes"},"Notes",-1),uy={class:"invalid-feedback"},_y={class:"row"},my={class:"col-6"},py={class:"form-group"},hy=e("label",{for:"purchasecost"},"Purchase Cost",-1),vy={class:"input-group mb-3"},by=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),fy={class:"form-group"},$y=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),yy={class:"input-group mb-3"},gy=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),ky={class:"col-6"},wy={class:"form-group"},xy=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),Cy={class:"invalid-feedback"},Sy=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),Dy={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vy={class:"modal-dialog",role:"document"},Uy={class:"modal-content"},My=Ce('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Ay={class:"modal-footer"},Py=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ty={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ey={class:"modal-dialog",role:"document"},qy={class:"modal-content"},Fy=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Ly={class:"modal-body"},Iy={class:"table table-striped table-sm table-hover"},Ry=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Ny=e("td",null,"Site",-1),Yy=e("td",null,"Assit Name",-1),By=e("td",null,"Assit Type",-1),jy=e("td",null,"Serial No.",-1),Hy=e("td",null,"Date Acquired",-1),Oy=e("td",null,"Brand",-1),zy=e("td",null,"Unit",-1),Jy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Gy=e("td",null,"Personal Accountable",-1),Qy=e("td",null,"Transfer Location",-1),Wy=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Ky=e("td",null,"Current Condition",-1),Xy=e("td",null,"Maintenance Note",-1),Zy=e("td",null,"Last Maintenance",-1),eg=e("td",null,"Next Maintenance",-1),tg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),sg=e("td",null,"Operation Hours",-1),ag=e("td",null,"Notes",-1),og=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),lg=e("td",null,"Purchase Cost",-1),ng=e("td",null,"Unit Value",-1),dg=e("td",null,"Warranty information",-1),ig=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),cg={__name:"AssetmList",setup(a){_e();const y=`${fe().name}`,m=pe(),l=r({data:[]});r({data:[]});const i=r(!1),n=r(!1),_=r(),h=r(!0),d=Ve({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});r(null),r();const w=r(),f=(D=1)=>{i.value=!0,L.get(`/web/asset-monitoring?page=${D}`,{params:{query:z.value}}).then(g=>{i.value=!1,l.value=g.data,S.value=[],K.value=!1})},V=xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),c=xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),C=()=>{L.post("/web/asset-monitoring",d).then(D=>{$("#FormModal").modal("hide"),f(),m.success(D.data.message)}).catch(D=>{m.error(D.data.message)})},N=()=>{n.value=!1,$("#FormModal").modal("show")},O=D=>{d.site_name=D.site_name,d.id=D.id,d.site_id=D.site_id,d.asset_name=D.asset_name,d.asset_type=D.asset_type,d.serial=D.serial,d.date_acquired=D.date_acquired,d.man_supplier=D.man_supplier,d.unit=D.unit,d.location=D.location,d.paccountable=D.paccountable,d.locationchangetranfer=D.locationchangetranfer,d.cucodition=D.cucodition,d.purchasecost=D.purchasecost,d.maintenancenotes=D.maintenancenotes,d.ceated_by=D.ceated_by,d.updated_by=D.updated_by,d.Depreciationcostbyyear=D.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},Q=D=>{n.value=!0,d.id=D.id,d.site_id=D.site_id,d.asset_name=D.asset_name,d.asset_type=D.asset_type,d.serial=D.serial,d.date_acquired=D.date_acquired,d.man_supplier=D.man_supplier,d.unit=D.unit,d.location=D.location,d.paccountable=D.paccountable,d.locationchangetranfer=D.locationchangetranfer,d.cucodition=D.cucodition,d.purchasecost=D.purchasecost,d.depreciationcost=D.depreciationcost,d.maintenancenotes=D.maintenancenotes,d.ceated_by=D.ceated_by,d.updated_by=D.updated_by,$("#FormModal").modal("show")},ee=({setErrors:D})=>{L.post("/web/asset-monitoring",d).then(g=>{f(),$("#FormModal").modal("hide"),m.success("Data successfully Updated!")}).catch(g=>{D(g.response.data.errors),console.log(g)})},P=(D,g)=>{n.value?ee(D):C()},B=()=>{L.get("/web/getsite").then(D=>{w.value=D.data.sites}).catch(D=>{console.log(D)})},z=r(null),S=r([]),b=D=>{const g=S.value.indexOf(D.id);g===-1?S.value.push(D.id):S.value.splice(g,1),console.log(S.value)},R=r(null),U=D=>{R.value=D,$("#deleteClientModal").modal("show")},J=()=>{L.delete(`/web/asset-monitoring/${R.value}`).then(D=>{$("#deleteClientModal").modal("hide"),m.success(D.data.message),f()})},ie=()=>{L.delete("/web/bulkDeleteAsset",{data:{ids:S.value}}).then(D=>{l.value.data=l.value.data.filter(g=>!S.value.includes(g.id)),S.value=[],K.value=!1,m.success(D.data.message)})},K=r(!1),I=()=>{K.value?S.value=l.value.data.map(D=>D.id):S.value=[],console.log(S.value)};return he([h],D=>{d.is_active=D?1:0}),he(z,Ae.exports.debounce(()=>{f()},300)),me(()=>{f(),B(),document.title=y}),(D,g)=>{const x=be("font"),ae=be("tab-content"),ne=be("form-wizard");return s(),o(j,null,[e("div",gf,[e("div",kf,[e("div",wf,[e("div",xf,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[Cf,F(" Asset ")]),S.value.length>0?(s(),o("div",Sf,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Df,F(" Delete Selected ")]),e("span",Vf,"Selected "+t(S.value.length)+" Record",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=E=>z.value=E),class:"form-control",placeholder:"Search..."},null,512),[[ce,z.value]])])]),e("div",Uf,[e("div",Mf,[i.value?(s(),re(Pe,{key:0})):A("",!0),e("div",Af,[p(x,{size:"2"},{default:Z(()=>[e("table",Pf,[e("thead",null,[e("tr",null,[e("th",null,[te(e("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=E=>K.value=E),onChange:I},null,544),[[Ee,K.value]])]),Tf,Ef,qf,Ff,Lf,If,Rf,Nf,Yf,Bf,jf,Hf,Of,zf])]),l.value.data.length>0?(s(),o("tbody",Jf,[(s(!0),o(j,null,X(l.value.data,(E,q)=>(s(),re(yf,{key:E.id,item:E,index:q,onViewData:O,onEditData:Q,onConfirmDeletion:U,onToggleSelection:b,"select-all":K.value},null,8,["item","index","select-all"]))),128))])):(s(),o("tbody",Gf,Wf))])]),_:1})])])]),p(u(Fe),{data:l.value,onPaginationChangePage:f},null,8,["data"])])]),e("div",Kf,[e("div",Xf,[e("div",Zf,[e("div",e$,[e("h5",t$,[n.value?(s(),o("span",s$,"Edit Asset")):(s(),o("span",a$,"Add Asset"))]),o$]),p(u(Me),{onSubmit:P,"validation-schema":n.value?u(c):u(V),"initial-values":_.value},{default:Z(({errors:E})=>[e("div",l$,[e("div",n$,[p(ne,{onOnComplete:C,color:"#094899","step-size":"xs"},{default:Z(()=>[p(ae,{title:"Asset Information",icon:"fas fa-book"},{default:Z(()=>[e("div",d$,[e("div",i$,[e("div",c$,[r$,p(u(H),{as:"select",name:"branch",class:M(["form-control",{"is-invalid":E.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:d.site_id,"onUpdate:modelValue":g[2]||(g[2]=q=>d.site_id=q)},{default:Z(()=>[u$,(s(!0),o(j,null,X(w.value,q=>(s(),o("option",{key:q.id,value:q.id},t(q.name),9,_$))),128))]),_:2},1032,["class","modelValue"]),e("span",m$,t(E.branch),1)]),e("div",p$,[h$,p(u(H),{name:"asset_name",type:"text",class:M(["form-control",{"is-invalid":E.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:d.asset_name,"onUpdate:modelValue":g[3]||(g[3]=q=>d.asset_name=q)},null,8,["class","modelValue"]),e("span",v$,t(E.asset_name),1)]),e("div",b$,[f$,p(u(H),{name:"asset_type",type:"text",class:M(["form-control",{"is-invalid":E.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:d.asset_type,"onUpdate:modelValue":g[4]||(g[4]=q=>d.asset_type=q)},null,8,["class","modelValue"]),e("span",$$,t(E.asset_type),1)]),e("div",y$,[g$,p(u(H),{name:"serial",type:"text",class:M(["form-control",{"is-invalid":E.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:d.serial,"onUpdate:modelValue":g[5]||(g[5]=q=>d.serial=q)},null,8,["class","modelValue"]),e("span",k$,t(E.serial),1)])]),e("div",w$,[e("div",x$,[C$,p(u(H),{name:"date_acquired",type:"date",class:M(["form-control",{"is-invalid":E.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:d.date_acquired,"onUpdate:modelValue":g[6]||(g[6]=q=>d.date_acquired=q)},null,8,["class","modelValue"]),e("span",S$,t(E.date_acquired),1)]),e("div",D$,[V$,p(u(H),{name:"man_supplier",type:"text",class:M(["form-control",{"is-invalid":E.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:d.man_supplier,"onUpdate:modelValue":g[7]||(g[7]=q=>d.man_supplier=q)},null,8,["class","modelValue"]),e("span",U$,t(E.man_supplier),1)]),e("div",M$,[A$,p(u(H),{name:"unit",type:"number",class:M(["form-control",{"is-invalid":E.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:d.unit,"onUpdate:modelValue":g[8]||(g[8]=q=>d.unit=q)},null,8,["class","modelValue"]),e("span",P$,t(E.unit),1)])])])]),_:2},1024),p(ae,{title:"Asset Allocation",icon:"fa fa-map"},{default:Z(()=>[e("div",T$,[e("div",E$,[e("div",q$,[F$,p(u(H),{name:"paccountable",type:"text",class:M(["form-control",{"is-invalid":E.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:d.paccountable,"onUpdate:modelValue":g[9]||(g[9]=q=>d.paccountable=q)},null,8,["class","modelValue"]),e("span",L$,t(E.paccountable),1)])]),e("div",I$,[e("div",R$,[N$,p(u(H),{name:"locationchangetranfer",type:"text",class:M(["form-control",{"is-invalid":E.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:d.locationchangetranfer,"onUpdate:modelValue":g[10]||(g[10]=q=>d.locationchangetranfer=q)},null,8,["class","modelValue"]),e("span",Y$,t(E.locationchangetranfer),1)])])])]),_:2},1024),p(ae,{title:"Asset Condition"},{default:Z(()=>[e("div",B$,[e("div",j$,[e("div",H$,[O$,p(u(H),{as:"select",name:"cucodition",class:M(["form-control",{"is-invalid":E.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:d.cucodition,"onUpdate:modelValue":g[11]||(g[11]=q=>d.cucodition=q)},{default:Z(()=>[z$,J$,G$,Q$]),_:2},1032,["class","modelValue"]),e("span",W$,t(E.cucodition),1)]),e("div",K$,[X$,p(u(H),{name:"maintenancenotes",as:"textarea",class:M(["form-control",{"is-invalid":E.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:d.maintenancenotes,"onUpdate:modelValue":g[12]||(g[12]=q=>d.maintenancenotes=q)},null,8,["class","modelValue"])])]),e("div",Z$,[e("div",ey,[ty,p(u(H),{name:"lastmaintenance",type:"date",class:M(["form-control",{"is-invalid":E.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:d.lastmaintenance,"onUpdate:modelValue":g[13]||(g[13]=q=>d.lastmaintenance=q)},null,8,["class","modelValue"])]),e("div",sy,[ay,p(u(H),{name:"nextmaintenance",type:"date",class:M(["form-control",{"is-invalid":E.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:d.nextmaintenance,"onUpdate:modelValue":g[14]||(g[14]=q=>d.nextmaintenance=q)},null,8,["class","modelValue"])])])])]),_:2},1024),p(ae,{title:"Utilization & Ussage"},{default:Z(()=>[e("div",oy,[e("div",ly,[e("div",ny,[dy,p(u(H),{name:"operationhours",type:"number",class:M(["form-control",{"is-invalid":E.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:d.operationhours,"onUpdate:modelValue":g[15]||(g[15]=q=>d.operationhours=q)},null,8,["class","modelValue"])])]),e("div",iy,[e("div",cy,[ry,p(u(H),{name:"notes",as:"textarea",class:M(["form-control",{"is-invalid":E.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:d.notes,"onUpdate:modelValue":g[16]||(g[16]=q=>d.notes=q)},null,8,["class","modelValue"]),e("span",uy,t(E.notes),1)])])])]),_:2},1024),p(ae,{title:"Financial Information",icon:"fas fa-receipt"},{default:Z(()=>[e("div",_y,[e("div",my,[e("div",py,[hy,e("div",vy,[by,p(u(H),{name:"purchasecost",type:"text",class:M(["form-control",{"is-invalid":E.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:d.purchasecost,"onUpdate:modelValue":g[17]||(g[17]=q=>d.purchasecost=q)},null,8,["class","modelValue"])])]),e("div",fy,[$y,e("div",yy,[gy,p(u(H),{name:"depreciationcost",type:"text",class:M(["form-control",{"is-invalid":E.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:d.depreciationcost,"onUpdate:modelValue":g[18]||(g[18]=q=>d.depreciationcost=q)},null,8,["class","modelValue"])])])]),e("div",ky,[e("div",wy,[xy,p(u(H),{name:"insurancewarrantyinfo",as:"textarea",class:M(["form-control",{"is-invalid":E.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:d.insurancewarrantyinfo,"onUpdate:modelValue":g[19]||(g[19]=q=>d.insurancewarrantyinfo=q)},null,8,["class","modelValue"]),e("span",Cy,t(E.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Sy]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Dy,[e("div",Vy,[e("div",Uy,[My,e("div",Ay,[Py,e("button",{onClick:se(J,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Ty,[e("div",Ey,[e("div",qy,[Fy,e("div",Ly,[e("table",Iy,[e("tbody",null,[Ry,e("tr",null,[Ny,e("td",null,t(d.site_name),1)]),e("tr",null,[Yy,e("td",null,t(d.asset_name),1)]),e("tr",null,[By,e("td",null,t(d.asset_type),1)]),e("tr",null,[jy,e("td",null,t(d.serial),1)]),e("tr",null,[Hy,e("td",null,t(d.date_acquired),1)]),e("tr",null,[Oy,e("td",null,t(d.man_supplier),1)]),e("tr",null,[zy,e("td",null,t(d.unit),1)]),Jy,e("tr",null,[Gy,e("td",null,t(d.paccountable),1)]),e("tr",null,[Qy,e("td",null,t(d.locationchangetranfer),1)]),Wy,e("tr",null,[Ky,e("td",null,t(d.cucodition),1)]),e("tr",null,[Xy,e("td",null,t(d.maintenancenotes),1)]),e("tr",null,[Zy,e("td",null,t(d.lastmaintenance),1)]),e("tr",null,[eg,e("td",null,t(d.nextmaintenance),1)]),tg,e("tr",null,[sg,e("td",null,t(d.operationhours),1)]),e("tr",null,[ag,e("td",null,t(d.notes),1)]),og,e("tr",null,[lg,e("td",null,t("\u20B1"+d.purchasecost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[ng,e("td",null,t("\u20B1"+d.Depreciationcostbyyear.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),e("tr",null,[dg,e("td",null,t(d.insurancewarrantyinfo),1)])])])]),ig])])])],64)}}};function rg(a,y,m){var l=typeof a!="object"?JSON.parse(a):a,i="";if(i+=y+`\r

`,m){var n="";for(var _ in l[0])n+=_+",";n=n.slice(0,-1),i+=n+`\r
`}for(var h=0;h<l.length;h++){var n="";for(var _ in l[h])n+='"'+l[h][_]+'",';n.slice(0,n.length-1),i+=n+`\r
`}if(i==""){alert("Invalid data");return}var d="MyReport_";d+=y.replace(/ /g,"_");var w="data:text/csv;charset=utf-8,"+escape(i),f=document.createElement("a");f.href=w,f.style="visibility:hidden",f.download=d+".csv",document.body.appendChild(f),f.click(),document.body.removeChild(f)}const le=a=>(Se("data-v-0d4c8deb"),a=a(),De(),a),ug={class:"content"},_g={class:"container-fluid"},mg={class:"d-flex justify-content-between"},pg={class:"d-flex"},hg=le(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),vg={key:0},bg=le(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),fg={class:"ml-2"},$g={class:"d-flex"},yg={class:"form-group"},gg=le(()=>e("option",{value:"",disabled:""},"Select a site",-1)),kg=["value"],wg={id:"captureDiv"},xg={class:"card"},Cg={class:"card-header"},Sg={class:"card-title"},Dg={class:"card-tools"},Vg={id:"cost"},Ug={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Mg=le(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Ag={class:"card-body"},Pg=le(()=>e("i",{class:"fa fa-camera"},null,-1)),Tg=[Pg],Eg=le(()=>e("i",{class:"fas fa-file-excel"},null,-1)),qg=[Eg],Fg={key:1,class:"table-responsive"},Lg={class:"table table-bordered table-sm table-striped table-hover"},Ig=le(()=>e("th",null,null,-1)),Rg=le(()=>e("th",null,"Date",-1)),Ng=le(()=>e("th",null,"Allocated Pallet Space",-1)),Yg=le(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Bg=le(()=>e("th",null,"Space Utilization %",-1)),jg=le(()=>e("th",null,"Excess",-1)),Hg={key:0},Og={key:1},zg=le(()=>e("th",null,"Remarks",-1)),Jg=le(()=>e("th",null,"Action",-1)),Gg={key:0},Qg=["item","index","select-all"],Wg=["checked"],Kg={key:0},Xg={key:1},Zg=["onClick"],e2=le(()=>e("i",{class:"fa fa-edit"},null,-1)),t2=[e2],s2={key:0},a2=le(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),o2={colspan:"3"},l2={key:1},n2=le(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),d2=[n2],i2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},c2={class:"modal-dialog modal-sm",role:"document"},r2={class:"modal-content"},u2={class:"modal-header"},_2={class:"modal-title",id:"staticBackdropLabel"},m2={key:0},p2={key:1},h2=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),v2=Ce('<ul class="nav nav-tabs" data-v-0d4c8deb><li id="bulkviewtab1" class="nav-item" data-v-0d4c8deb><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-0d4c8deb>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-0d4c8deb><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-0d4c8deb>Bulk Pallet</a></li></ul>',1),b2={class:"tab-content"},f2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},$2={class:"modal-body"},y2={class:"col-md-12"},g2={class:"row"},k2={class:"col-12"},w2={class:"form-group"},x2=le(()=>e("label",{for:"date"},"Date",-1)),C2={class:"invalid-feedback"},S2={class:"form-group"},D2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),V2={class:"invalid-feedback"},U2={class:"form-group"},M2=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),A2={class:"invalid-feedback"},P2={class:"form-group"},T2=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),E2={class:"invalid-feedback"},q2=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),F2={class:"tab-pane fade show",id:"bulk-pallet-tab"},L2={class:"modal-body"},I2={class:"col-md-12"},R2={class:"row"},N2={class:"col-12"},Y2={class:"form-group"},B2=le(()=>e("label",{for:"fromdate"},"From:",-1)),j2={class:"invalid-feedback"},H2={class:"form-group"},O2=le(()=>e("label",{for:"todate"},"To:",-1)),z2={class:"invalid-feedback"},J2={class:"form-group"},G2=le(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),Q2={class:"invalid-feedback"},W2={class:"form-group"},K2=le(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),X2={class:"invalid-feedback"},Z2={class:"form-group"},ek=le(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),tk={class:"invalid-feedback"},sk=le(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),ak={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ok={class:"modal-dialog",role:"document"},lk={class:"modal-content"},nk=Ce('<div class="modal-header" data-v-0d4c8deb><h5 class="modal-title" id="staticBackdropLabel" data-v-0d4c8deb><span data-v-0d4c8deb>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-0d4c8deb><span aria-hidden="true" data-v-0d4c8deb>\xD7</span></button></div><div class="modal-body" data-v-0d4c8deb><h5 data-v-0d4c8deb>Are you sure you want to delete this record ?</h5></div>',2),dk={class:"modal-footer"},ik=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ck={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},rk={class:"modal-dialog modal-sm",role:"document"},uk={class:"modal-content"},_k=le(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),mk={class:"modal-body"},pk={class:"fromtocenter"},hk=le(()=>e("label",{for:"fromDate"},"From:",-1)),vk=le(()=>e("label",{for:"toDate"},"To:",-1)),bk={class:"modal-footer"},fk=le(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),$k={__name:"PalletList",setup(a){const y=Oe("$swal"),m=`${fe().name}`,l=pe(),i=r({data:[]}),n=r(),_=r(!1),h=r(!1),d=_e(),w=r(!0),f=r(!0),V=r(),c=Ve({id:"",site_id:"",user_id:d.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});r(null);const C=r(),N=()=>{_.value=!0,L.get("/web/pallet",{params:{site_id:c.site_id,query:ae.value}}).then(G=>{_.value=!1,i.value=G.data.data,C.value=G.data.sum,ne.value=[],Re.value=!1})},O=xe({allocatedpalletspace:Y().required(),spaceuteltotal:Y().required(),caseperpallet:Y().required(),fromdate:Y().required(),todate:Y().required()}),Q=xe({date:Y().required(),allocatedpalletspace:Y().required(),spaceuteltotal:Y().required(),caseperpallet:Y().required()}),ee=xe({date:Y().required(),allocatedpalletspace:Y().required(),spaceuteltotal:Y().required(),caseperpallet:Y().required()}),P=r(""),B=r(""),z=r({start_date:"",end_date:""});he([P],()=>{const G=new Date(P.value),W=G.getFullYear(),ke=String(G.getMonth()+1).padStart(2,"0"),k=String(G.getDate()).padStart(2,"0");z.value.start_date=`${W}-${ke}-${k}`}),he([B],()=>{const G=new Date(B.value),W=G.getFullYear(),ke=String(G.getMonth()+1).padStart(2,"0"),k=String(G.getDate()).padStart(2,"0");z.value.end_date=`${W}-${ke}-${k}`});const S=()=>{_.value=!0,L.get("/web/filter-pallet",{params:{start_date:z.value.start_date,end_date:z.value.end_date,site_id:c.site_id}}).then(G=>{_.value=!1,i.value=G.data.data,C.value=G.data.sum}).catch(G=>{console.error(G)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=()=>{c.id="",c.user_id=d.user.id,c.date="",c.allocatedpalletspace="",c.spaceuteltotal="",c.caseperpallet=""},R=()=>!c.site_id||c.site_id.length===0?(y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,U=({resetForm:G,setErrors:W})=>{L.post("/web/pallet",{site_id:c.site_id,user_id:c.user_id,date:c.date,allocatedpalletspace:c.allocatedpalletspace,spaceuteltotal:c.spaceuteltotal,caseperpallet:c.caseperpallet}).then(ke=>{N(),$("#FormModal").modal("hide"),b(),l.success("Data created successfully!")}).catch(function(ke){ke.response?l.error(ke.response.data.message):ke.request?l.error(ke.request):l.error("Error",ke.message)})},J=()=>{L.get("/web/getsite").then(G=>{n.value=G.data.sites}).catch(G=>{console.log(G)})},ie=()=>{N(c.site_id);const G=n.value.find(W=>W.id===c.site_id);V.value=G?G.site_name:""},K=()=>{R()||(h.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},I=G=>{$("#bulkviewtab2").hide(),h.value=!0,c.id=G.id,c.user_id=G.user_id,c.site_id=G.site_id,c.date=G.date,c.allocatedpalletspace=G.allocatedpalletspace,c.spaceuteltotal=G.spaceuteltotal,c.caseperpallet=G.caseperpallet,$("#FormModal").modal("show")},D=({setErrors:G})=>{L.post("/web/pallet",c).then(W=>{b(),N(),$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(W=>{G(W.response.data.errors),console.log(W)})},g=(G,W)=>{h.value?D(G):U(G)},x=()=>{L.post("/web/bulkCreatePallet",c).then(G=>{N(),$("#FormModal").modal("hide"),l.success(G.data.message)}).catch(G=>{l.error(G.response.data.errors)})},ae=r(null),ne=r([]),E=G=>{const W=ne.value.indexOf(G.id);W===-1?ne.value.push(G.id):ne.value.splice(W,1),console.log(ne.value)},q=r(null),Ie=G=>{q.value=G,$("#deleteDataModal").modal("show")},Ke=()=>{L.delete(`/web/pallet/${q.value}`).then(()=>{$("#deleteDataModal").modal("hide"),l.success("Pallet deleted successfully!"),i.value.data=i.value.data.filter(G=>G.id!==q.value)})},He=()=>{L.delete("/web/bulkDeletePallet",{data:{ids:ne.value}}).then(G=>{N(),ne.value=[],Re.value=!1,l.success(G.data.message)})},Xe=()=>{R()||$("#FormModalfilterDate").modal("show")},Re=r(!1),Ze=()=>{if(R())return;$("#cost").hide(),$("#capturecamerafilter").hide();const G=document.getElementById("captureDiv");Ge(G).then(W=>{const ke=W.toDataURL(),k=document.createElement("a");k.href=ke,k.download=`${V.value} - ${m}.png`,k.click()}),$("#cost").show(),$("#capturecamerafilter").show()},et=()=>{if(R())return;let G=i.value;rg(G,"PalletList",!0)};return he([f],G=>{c.is_active=G?1:0}),he(ae,Ae.exports.debounce(()=>{N()},300)),me(()=>{J(),document.title=m}),(G,W)=>{const ke=be("font");return s(),o(j,null,[e("div",ug,[e("div",_g,[e("div",mg,[e("div",pg,[e("button",{onClick:K,type:"button",class:"mb-2 btn btn-primary"},[hg,F(" Pallet ")]),ne.value.length>0?(s(),o("div",vg,[e("button",{onClick:He,type:"button",class:"ml-2 mb-2 btn btn-danger"},[bg,F(" Delete Selected ")]),e("span",fg,"Selected "+t(ne.value.length)+" Pallet",1)])):A("",!0)]),e("div",$g,[e("div",yg,[te(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":W[0]||(W[0]=k=>c.site_id=k),onChange:W[1]||(W[1]=k=>ie())},[gg,(s(!0),o(j,null,X(n.value,k=>(s(),o("option",{key:k.id,value:k.id},t(k.name),9,kg))),128))],544),[[Te,c.site_id]])])])]),e("div",wg,[e("div",xg,[e("div",Cg,[e("div",Sg,t(V.value||"Select a Site"),1),e("div",Dg,[e("div",Vg,[e("div",Ug,[te(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":W[2]||(W[2]=k=>w.value=k)},null,512),[[Ee,w.value]]),Mg])])])]),e("div",Ag,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:Ze,type:"button",class:"btn btn-warning"},Tg),e("button",{onClick:et,type:"button",class:"btn btn-success"},qg)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:Xe})])])]),_.value?(s(),re(Pe,{key:0})):(s(),o("div",Fg,[p(ke,{size:"2"},{default:Z(()=>[e("table",Lg,[e("thead",null,[e("tr",null,[Ig,Rg,Ng,Yg,Bg,jg,w.value?(s(),o("th",Hg," Cost per Pallet ")):A("",!0),w.value?(s(),o("th",Og,"Cost")):A("",!0),zg,Jg])]),i.value.length>0?(s(),o("tbody",Gg,[(s(!0),o(j,null,X(i.value,(k,T)=>(s(),o("tr",{key:k.id,item:k,index:T,onConfirmDeletion:Ie,onToggleSelection:E,"select-all":Re.value},[e("td",null,[e("input",{type:"checkbox",checked:Re.value,onChange:E},null,40,Wg)]),e("td",null,t(u(ue)(k.date).format("MMMM DD, YY")),1),e("td",null,t(k.allocatedpalletspace),1),e("td",null,t(k.spaceuteltotal),1),e("td",null,t(k.spacetotalutelpercent),1),e("td",null,t(k.excess),1),w.value?(s(),o("td",Kg,t(k.caseperpallet),1)):A("",!0),w.value?(s(),o("td",Xg,t(k.cost),1)):A("",!0),e("td",null," EXCESS "+t(k.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:v=>I(k)},t2,8,Zg)])],40,Qg))),128)),w.value?(s(),o("tr",s2,[a2,e("td",o2,[e("b",null,t(C.value),1)])])):A("",!0)])):(s(),o("tbody",l2,d2))])]),_:1})]))])])])])]),e("div",i2,[e("div",c2,[e("div",r2,[e("div",u2,[e("h5",_2,[h.value?(s(),o("span",m2,"Edit Pallet")):(s(),o("span",p2,"Add Pallet"))]),h2]),v2,e("div",b2,[e("div",f2,[p(u(Me),{onSubmit:g,"validation-schema":h.value?u(ee):u(Q)},{default:Z(({errors:k})=>[e("div",$2,[e("div",y2,[e("div",g2,[e("div",k2,[p(u(H),{modelValue:c.user_id,"onUpdate:modelValue":W[3]||(W[3]=T=>c.user_id=T),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",w2,[x2,p(u(H),{name:"date",type:"date",class:M(["form-control",{"is-invalid":k.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:c.date,"onUpdate:modelValue":W[4]||(W[4]=T=>c.date=T)},null,8,["class","modelValue"]),e("span",C2,t(k.date),1)]),e("div",S2,[D2,p(u(H),{name:"allocatedpalletspace",type:"text",class:M(["form-control",{"is-invalid":k.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",modelValue:c.allocatedpalletspace,"onUpdate:modelValue":W[5]||(W[5]=T=>c.allocatedpalletspace=T)},null,8,["class","modelValue"]),e("span",V2,t(k.allocatedpalletspace),1)]),e("div",U2,[M2,p(u(H),{name:"spaceuteltotal",type:"text",class:M(["form-control",{"is-invalid":k.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",modelValue:c.spaceuteltotal,"onUpdate:modelValue":W[6]||(W[6]=T=>c.spaceuteltotal=T),required:""},null,8,["class","modelValue"]),e("span",A2,t(k.spaceuteltotal),1)]),e("div",P2,[T2,p(u(H),{name:"caseperpallet",type:"text",class:M(["form-control",{"is-invalid":k.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",modelValue:c.caseperpallet,"onUpdate:modelValue":W[7]||(W[7]=T=>c.caseperpallet=T)},null,8,["class","modelValue"]),e("span",E2,t(k.caseperpallet),1)])])])])]),q2]),_:1},8,["validation-schema"])]),e("div",F2,[p(u(Me),{onSubmit:x,"validation-schema":u(O)},{default:Z(({errors:k})=>[e("div",L2,[e("div",I2,[e("div",R2,[e("div",N2,[p(u(H),{modelValue:c.user_id,"onUpdate:modelValue":W[8]||(W[8]=T=>c.user_id=T),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Y2,[B2,p(u(H),{name:"fromdate",type:"date",class:M(["form-control",{"is-invalid":k.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:c.fromdate,"onUpdate:modelValue":W[9]||(W[9]=T=>c.fromdate=T)},null,8,["class","modelValue"]),e("span",j2,t(k.fromdate),1)]),e("div",H2,[O2,p(u(H),{name:"todate",type:"date",class:M(["form-control",{"is-invalid":k.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:c.todate,"onUpdate:modelValue":W[10]||(W[10]=T=>c.todate=T)},null,8,["class","modelValue"]),e("span",z2,t(k.todate),1)]),e("div",J2,[G2,p(u(H),{name:"allocatedpalletspace",type:"text",class:M(["form-control",{"is-invalid":k.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:c.allocatedpalletspace,"onUpdate:modelValue":W[11]||(W[11]=T=>c.allocatedpalletspace=T)},null,8,["class","modelValue"]),e("span",Q2,t(k.allocatedpalletspace),1)]),e("div",W2,[K2,p(u(H),{name:"spaceuteltotal",type:"text",class:M(["form-control",{"is-invalid":k.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:c.spaceuteltotal,"onUpdate:modelValue":W[12]||(W[12]=T=>c.spaceuteltotal=T),required:""},null,8,["class","modelValue"]),e("span",X2,t(k.spaceuteltotal),1)]),e("div",Z2,[ek,p(u(H),{name:"caseperpallet",type:"text",class:M(["form-control",{"is-invalid":k.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:c.caseperpallet,"onUpdate:modelValue":W[13]||(W[13]=T=>c.caseperpallet=T)},null,8,["class","modelValue"]),e("span",tk,t(k.caseperpallet),1)])])])])]),sk]),_:1},8,["validation-schema"])])])])])]),e("div",ak,[e("div",ok,[e("div",lk,[nk,e("div",dk,[ik,e("button",{onClick:se(Ke,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",ck,[e("div",rk,[e("div",uk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(m)+" Report")]),_k]),e("div",mk,[e("div",pk,[e("div",null,[hk,p(u(qe),{modelValue:P.value,"onUpdate:modelValue":W[14]||(W[14]=k=>P.value=k)},null,8,["modelValue"])]),e("div",null,[vk,p(u(qe),{modelValue:B.value,"onUpdate:modelValue":W[15]||(W[15]=k=>B.value=k)},null,8,["modelValue"])])])]),e("div",bk,[fk,e("button",{onClick:W[16]||(W[16]=k=>S()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var yk=$e($k,[["__scopeId","data-v-0d4c8deb"]]);const gk=a=>(Se("data-v-712e85dd"),a=a(),De(),a),kk={class:"content"},wk={class:"container-fluid"},xk={class:"row"},Ck={class:"col-md-6"},Sk={class:"card"},Dk={class:"card-title"},Vk={class:"form-group m-3"},Uk=gk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),Mk=["value"],Ak={key:0,class:"card-body"},Pk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Tk={class:"custom-control custom-checkbox"},Ek=["value","id"],qk=["for"],Fk={class:"card-footer"},Lk={__name:"UserSite",setup(a){_e();const y=`${fe().name}`,m=pe();r(!0);const l=Ve({user_id:""});r(null),r();const i=r(),n=r(),_=r([]),h=()=>{L.get("/api/users/userlist").then(V=>{n.value=V.data}).catch(V=>{console.log(V)})},d=V=>{L.get(`/web/usersite/${V}`).then(c=>{i.value=c.data,_.value=i.value.filter(C=>C.hasAccess===1).map(C=>C.id)}).catch(c=>{console.error("Error fetching site data for user:",c)})},w=()=>{const V={user_id:l.user_id,site_id:_.value};console.log(V),L.post("/web/onSaveupdate",V).then(c=>{m.success("User Site Save successfully!")}).catch(c=>{setErrors(c.response.data.errors)})},f=V=>{d(V)};return me(()=>{h(),d(),document.title=y}),(V,c)=>(s(),o("div",kk,[e("div",wk,[e("div",xk,[e("div",Ck,[e("div",Sk,[e("div",Dk,[e("div",Vk,[p(u(H),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:l.user_id,"onUpdate:modelValue":c[0]||(c[0]=C=>l.user_id=C),onChange:c[1]||(c[1]=C=>f(l.user_id))},{default:Z(()=>[Uk,(s(!0),o(j,null,X(n.value,C=>(s(),o("option",{key:C.id,value:C.id},t(C.name),9,Mk))),128))]),_:1},8,["modelValue"])])]),l.user_id?(s(),o("div",Ak,[e("ul",Pk,[(s(!0),o(j,null,X(i.value,C=>(s(),o("li",{key:C.id,class:"list-group-item"},[e("div",Tk,[te(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":c[2]||(c[2]=N=>_.value=N),value:C.id,id:"site_id_"+C.id},null,8,Ek),[[Ee,_.value]]),e("label",{for:"site_id_"+C.id,class:"custom-control-label"},t(C.site_name),9,qk)])]))),128))]),e("div",Fk,[e("button",{type:"button",onClick:c[3]||(c[3]=C=>w()),class:"btn btn-primary"}," Submit ")])])):A("",!0)])])])])]))}};var Ik=$e(Lk,[["__scopeId","data-v-712e85dd"]]);const lt=a=>(Se("data-v-1142fe58"),a=a(),De(),a),Rk={style:{"text-align":"center"}},Nk={key:0},Yk=lt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Approved",-1)),Bk=[Yk],jk=lt(()=>e("span",{style:{color:"#fff","text-decoration":"none"},target:"_blank"},"Reject",-1)),Hk=[jk],Ok={key:1,style:{"text-align":"center"}},zk={key:0},Jk=lt(()=>e("i",{class:"fa fa-edit"},null,-1)),Gk=[Jk],Qk={__name:"JobItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editAction","confirmDeletion"],setup(a,{emit:y}){pe();const m=_e(),l=n=>{switch(n){case"P":return"badge-warning";case"A":return"badge-success";case"C":return"badge-danger";default:return"badge-secondary"}},i=n=>{switch(n){case"P":return"Pending";case"A":return"Approved";case"C":return"Reject";default:return"badge-secondary"}};return(n,_)=>{const h=be("router-link");return s(),o("tr",null,[e("td",null,t(a.index+1),1),e("td",null,t(a.item.site_name),1),e("td",null,t(a.item.job_order_number),1),e("td",null,t(a.item.date_needed),1),e("td",null,t(a.item.commitment_date),1),e("td",Rk,[p(h,{to:`/job-order-request-approved/${a.item.job_order_number}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:M(["badge",`${l(a.item.status)}`])},t(i(a.item.status)),3)]),_:1},8,["to"])]),e("td",null,t(a.item.created_user),1),e("td",null,t(a.item.created_at),1),u(m).user.role==="ADMIN"||u(m).user.sitehead_user_id===u(m).user.id?(s(),o("td",Nk,[e("div",{onClick:_[0]||(_[0]=se(d=>n.$emit("approvedata",a.item),["prevent"])),style:{"background-color":"#17ad49",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Bk),e("div",{onClick:_[1]||(_[1]=se(d=>n.$emit("confirmDataDeletion",a.item),["prevent"])),style:{"background-color":"#da2f38",cursor:"pointer",border:"none","border-radius":"4px",width:"120px",height:"32px",color:"#ffffff","font-size":"16px","font-style":"normal","font-weight":"500","font-family":'"Roboto","Arial"',"line-height":"32px",display:"inline-block",float:"left",margin:"3px","text-align":"center"}},Hk)])):A("",!0),u(m).user.role==="USER"?(s(),o("td",Ok,[a.item.status!="P"?(s(),o("div",zk,[a.item.created_by==u(m).user.id?(s(),o("a",{key:0,href:"#",onClick:_[2]||(_[2]=se(d=>n.$emit("editRecord",a.item),["prevent"]))},Gk)):A("",!0)])):A("",!0)])):A("",!0)])}}};var Wk=$e(Qk,[["__scopeId","data-v-1142fe58"]]);const Be=a=>(Se("data-v-17383523"),a=a(),De(),a),Kk={key:0,class:"spinner"},Xk=Be(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),Zk=[Xk],e0={class:"content"},t0={class:"container-fluid"},s0={class:"d-flex justify-content-between"},a0={class:"d-flex"},o0=Be(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),l0={key:0},n0=Be(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),d0={class:"ml-2"},i0={class:"card"},c0={class:"card-body"},r0={class:"table-responsive"},u0={class:"table table-bordered table-sm"},_0=Be(()=>e("thead",null,[e("tr",null,[e("th",{style:{width:"10px"}},"#"),e("th",null,"Site"),e("th",null,"Order Number"),e("th",null,"Requested Date"),e("th",null,"Needed Date"),e("th",null,"Status"),e("th",null,"Createdby"),e("th",null,"CreatedAt"),e("th",null,"Action")])],-1)),m0={key:0},p0={key:1},h0=Be(()=>e("tr",null,[e("td",{colspan:"11",class:"text-center"}," No results found... ")],-1)),v0=[h0],b0={class:"modal fade",id:"deleteRecordModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},f0={class:"modal-dialog",role:"document"},$0={class:"modal-content"},y0=Ce('<div class="modal-header" data-v-17383523><h5 class="modal-title" id="staticBackdropLabel" data-v-17383523><span data-v-17383523>Reject Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-17383523><span aria-hidden="true" data-v-17383523>\xD7</span></button></div><div class="modal-body" data-v-17383523><h5 data-v-17383523>Are you sure you want to Reject this record ?</h5></div>',2),g0={class:"modal-footer"},k0=Be(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),w0={__name:"JobOrderList",setup(a){const y=Oe("$swal"),m=`${fe().name}`,l=pe(),i=r({data:[]});r({data:[]}),r(!1),r();const n=r(!1);_e(),r(null),r();const _=(O=1)=>{n.value=!0,L.get(`/web/job-request?page=${O}`,{params:{query:h.value}}).then(Q=>{n.value=!1,i.value=Q.data,d.value=[],f.value=!1}).finally(()=>{n.value=!1})},h=r(null),d=r([]),w=O=>{const Q=d.value.indexOf(O.id);Q===-1?d.value.push(O.id):d.value.splice(Q,1),console.log(d.value)},f=r(!1),V=r(!1),c=async O=>{(await y.fire({title:"Are you sure you want to Reject this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,L.put(`/web/job-request/${O.id}`,{status:"C"}).then(ee=>{l.success("Record successfully Rejected"),_()}).catch(ee=>{l.error(ee.response.data.errors)}).finally(()=>{n.value=!1}))},C=async O=>{(await y.fire({title:"Are you sure you want to Approve this record?",icon:"warning",showCancelButton:!0})).isConfirmed&&(n.value=!0,L.put(`/web/job-request/${O.id}`,{status:"A"}).then(ee=>{l.success("Record successfully Approved"),_()}).catch(ee=>{l.error(ee.data.message)}))},N=()=>{};return he(h,Ae.exports.debounce(()=>{_()},300)),me(()=>{_(),document.title=m}),(O,Q)=>{const ee=be("router-link"),P=be("font");return s(),o(j,null,[n.value?(s(),o("div",Kk,Zk)):A("",!0),e("div",e0,[e("div",t0,[e("div",s0,[e("div",a0,[p(ee,{class:M("mb-2 btn btn-primary"),to:{name:"Job Order Create"}},{default:Z(()=>[o0,F("Create ")]),_:1}),d.value.length>0?(s(),o("div",l0,[e("button",{onClick:Q[0]||(Q[0]=(...B)=>O.bulkDelete&&O.bulkDelete(...B)),type:"button",class:"ml-2 mb-2 btn btn-danger"},[n0,F(" Delete Selected ")]),e("span",d0,"Selected "+t(d.value.length)+" Menu",1)])):A("",!0)]),e("div",null,[te(e("input",{type:"text","onUpdate:modelValue":Q[1]||(Q[1]=B=>h.value=B),class:"form-control",placeholder:"Search..."},null,512),[[ce,h.value]])])]),e("div",i0,[e("div",c0,[n.value?(s(),re(Pe,{key:0})):A("",!0),e("div",r0,[p(P,{size:"2"},{default:Z(()=>[e("table",u0,[_0,i.value.data.length>0?(s(),o("tbody",m0,[(s(!0),o(j,null,X(i.value.data,(B,z)=>(s(),re(Wk,{key:B.id,item:B,index:z,onApprovedata:C,onShowItem:V.value,onConfirmDataDeletion:c,onToggleSelection:w,"select-all":f.value},null,8,["item","index","onShowItem","onConfirmDataDeletion","select-all"]))),128))])):(s(),o("tbody",p0,v0))])]),_:1})])])]),p(u(Fe),{data:i.value,onPaginationChangePage:_},null,8,["data"])])]),e("div",b0,[e("div",f0,[e("div",$0,[y0,e("div",g0,[k0,e("button",{onClick:se(N,["prevent"]),type:"button",class:"btn btn-primary"}," Reject Record ")])])])])],64)}}};var x0=$e(w0,[["__scopeId","data-v-17383523"]]);const C0={class:"form-group row"},S0=["for"],D0={class:"col-sm-10"},V0=["type","id","name","placeholder"],U0={key:0,class:"invalid-feedback"},M0={key:0},Ne={__name:"FormTextField",props:{name:{type:String,required:!0},type:{type:String,default:"text",validator:a=>["text","number","password","email","url","tel"].includes(a)},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null}},emits:["update:modelValue"],setup(a,{emit:y}){const m=a,l=y,i=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(s(),o("div",C0,[a.label?(s(),o("label",{key:0,for:a.name,class:"col-sm-2 col-form-label"},t(a.label),9,S0)):A("",!0),e("div",D0,[te(e("input",{"onUpdate:modelValue":_[0]||(_[0]=h=>i.value=h),type:a.type,id:a.name,name:a.name,placeholder:a.placeholder,class:M(["form-control",a.errors?"is-invalid":""])},null,10,V0),[[st,i.value]]),a.errors?(s(),o("span",U0,[Array.isArray(a.errors)?(s(),o("ul",M0,[(s(!0),o(j,null,X(a.errors,(h,d)=>(s(),o("li",{key:d},t(h),1))),128))])):(s(),o(j,{key:1},[F(t(a.errors),1)],64))])):A("",!0)])]))}},A0={class:"form-group row"},P0=["for"],T0={class:"col-sm-10"},E0=["id","name","placeholder"],q0={value:"",disabled:""},F0=["value"],L0={key:0,class:"invalid-feedback"},I0={key:0},it={__name:"FormSelectOption",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:"Select an option"},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(a,{emit:y}){const m=a,l=y,i=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(s(),o("div",A0,[a.label?(s(),o("label",{key:0,for:a.name,class:"col-sm-2 col-form-label"},t(a.label),9,P0)):A("",!0),e("div",T0,[te(e("select",{"onUpdate:modelValue":_[0]||(_[0]=h=>i.value=h),id:a.name,name:a.name,placeholder:a.placeholder,class:M(["form-control",a.errors?"is-invalid":""])},[e("option",q0,t(a.placeholder),1),(s(!0),o(j,null,X(a.options,h=>(s(),o("option",{key:h.id,value:h.id},t(h.name),9,F0))),128))],10,E0),[[Te,i.value]]),a.errors?(s(),o("span",L0,[Array.isArray(a.errors)?(s(),o("ul",I0,[(s(!0),o(j,null,X(a.errors,(h,d)=>(s(),o("li",{key:d},t(h),1))),128))])):(s(),o(j,{key:1},[F(t(a.errors),1)],64))])):A("",!0)])]))}},R0={class:"form-group row"},N0=["for"],Y0={class:"col-sm-10"},B0=["id","name","placeholder","rows"],j0={key:0,class:"invalid-feedback"},H0={key:0},ct={__name:"FormTextAria",props:{name:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:""},modelValue:{type:[String,Number],default:""},errors:{type:[String,Array],default:null},rows:{type:[Number],default:""}},emits:["update:modelValue"],setup(a,{emit:y}){const m=a,l=y,i=we({get:()=>m.modelValue,set:n=>{l("update:modelValue",n)}});return(n,_)=>(s(),o("div",R0,[a.label?(s(),o("label",{key:0,for:a.name,class:"col-sm-2 col-form-label"},t(a.label),9,N0)):A("",!0),e("div",Y0,[te(e("textarea",{"onUpdate:modelValue":_[0]||(_[0]=h=>i.value=h),id:a.name,name:a.name,placeholder:a.placeholder,class:M(["form-control",a.errors?"is-invalid":""]),rows:a.rows},null,10,B0),[[ce,i.value]]),a.errors?(s(),o("span",j0,[Array.isArray(a.errors)?(s(),o("ul",H0,[(s(!0),o(j,null,X(a.errors,(h,d)=>(s(),o("li",{key:d},t(h),1))),128))])):(s(),o(j,{key:1},[F(t(a.errors),1)],64))])):A("",!0)])]))}};const We=a=>(Se("data-v-674eedab"),a=a(),De(),a),O0={class:"col-md-12"},z0={key:0,class:"spinner"},J0=We(()=>e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"})],-1)),G0=[J0],Q0={class:"form-group row"},W0=We(()=>e("i",{class:"fa fa-plus"},null,-1)),K0=[W0],X0={class:"col-sm-10"},Z0={class:"table"},e3=We(()=>e("thead",null,[e("tr",null,[e("th",null,"Description"),e("th",null,"Part Number"),e("th",null,"Quantity"),e("th",null,"Action")])],-1)),t3=["onUpdate:modelValue"],s3=["onUpdate:modelValue"],a3=["onUpdate:modelValue"],o3=["onClick"],l3=We(()=>e("i",{class:"fa fa-trash"},null,-1)),n3=[l3],d3={__name:"JobOrderAction",setup(a){const y=fe(),m=Qe(),l=r(!1),i=`${y.name}`,n=pe();r(!1),r();const _=Oe("$swal"),h=_e(),d=r(!0),w=Ve({id:"",site_id:null,site_name:"",job_order_number:"",end_user:"",time_requested:"",date_needed:"",noted_by:"",type_of_job:"",problem_description:"",findings_recommendations:"",commitment_date:"",status:"P",created_by:h.user.id,updated_by:"",description:"",part_number:"",quantity:"",replacement_parts:[{description:"",part_number:"",quantity:0}]}),f=()=>{w.replacement_parts.push({description:"",part_number:"",quantity:0})},V=ee=>{w.replacement_parts.length>1&&w.replacement_parts.splice(ee,1)};r(null);const c=r([]),C=()=>{L.get("/web/getsite").then(ee=>{c.value=ee.data.sites}).catch(ee=>{console.log(ee)})},N=r(null),O=r([{id:"Preventive Maintenance",name:"Preventive Maintenance"},{id:"Corrective Maintenance",name:"Corrective Maintenance"},{id:"Calibration",name:"Calibration"}]),Q=async()=>{(await _.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0})).isConfirmed&&(l.value=!0,L.post("/web/job-request",w).then(P=>{P.status===200?(n.success(P.data.message),m.push("/job-order-request-list")):n.error("Something went wrong. Please try again.")}).catch(P=>{n.error(P.data.message)}).finally(()=>{l.value=!1}))};return he([d],ee=>{w.is_active=ee?1:0}),he(N,Ae.exports.debounce(()=>{getItems()},300)),me(()=>{C(),document.title=i}),(ee,P)=>{const B=be("tab-content"),z=be("form-wizard");return s(),o("div",O0,[l.value?(s(),o("div",z0,G0)):A("",!0),p(z,{onOnComplete:Q,color:"#094899","step-size":"xs"},{default:Z(()=>[p(B,{title:"Job Information",icon:"fas fa-book"},{default:Z(()=>[p(Ne,{label:"Job Order Number",placeholder:"Job Order Number - AutoGenerate",name:"job_order_number",type:"text",id:"job_order_number",modelValue:w.job_order_number,"onUpdate:modelValue":P[0]||(P[0]=S=>w.job_order_number=S)},null,8,["modelValue"]),p(it,{name:"branch",label:"Area / Department",modelValue:w.site_id,"onUpdate:modelValue":P[1]||(P[1]=S=>w.site_id=S),options:c.value},null,8,["modelValue","options"]),p(Ne,{label:"End User",placeholder:"End User",name:"enduser",type:"text",id:"enduser",modelValue:w.end_user,"onUpdate:modelValue":P[2]||(P[2]=S=>w.end_user=S)},null,8,["modelValue"]),p(Ne,{label:"Time Requested",placeholder:"Time Requested",name:"time_requested",type:"date",id:"time_requested",modelValue:w.time_requested,"onUpdate:modelValue":P[3]||(P[3]=S=>w.time_requested=S)},null,8,["modelValue"]),p(Ne,{label:"Date needed",placeholder:"Date needed",name:"date_needed",type:"date",id:"date_needed",modelValue:w.date_needed,"onUpdate:modelValue":P[4]||(P[4]=S=>w.date_needed=S)},null,8,["modelValue"]),p(Ne,{label:"Noted By",placeholder:"Noted By",name:"noted_by",type:"text",id:"noted_by",modelValue:w.noted_by,"onUpdate:modelValue":P[5]||(P[5]=S=>w.noted_by=S)},null,8,["modelValue"]),p(it,{name:"type_of_job",label:"Type of Job",modelValue:w.type_of_job,"onUpdate:modelValue":P[6]||(P[6]=S=>w.type_of_job=S),options:O.value},null,8,["modelValue","options"])]),_:1}),p(B,{title:"Problem Details",icon:"fas fa-pen-alt"},{default:Z(()=>[p(ct,{label:"Problem Description",id:"problem_description",name:"problem_description",rows:"3",placeholder:"Problem Description",modelValue:w.problem_description,"onUpdate:modelValue":P[7]||(P[7]=S=>w.problem_description=S)},null,8,["modelValue"]),p(ct,{label:"Recommendations",id:"Recommendations",rows:"3",placeholder:"Recommendations",modelValue:w.findings_recommendations,"onUpdate:modelValue":P[8]||(P[8]=S=>w.findings_recommendations=S)},null,8,["modelValue"]),p(Ne,{label:"Commitment Date",placeholder:"Commitment Date",name:"commitment_date",type:"date",id:"commitment_date",modelValue:w.commitment_date,"onUpdate:modelValue":P[9]||(P[9]=S=>w.commitment_date=S)},null,8,["modelValue"])]),_:1}),p(B,{title:"Replacement Parts",icon:"fas fa-tools"},{default:Z(()=>[e("div",Q0,[e("label",{for:"replacementParts",class:"col-sm-2 col-form-label"},[F("Replacement Parts "),e("button",{type:"button",class:"btn btn-warning btn-xs",onClick:f},K0)]),e("div",X0,[e("table",Z0,[e3,e("tbody",null,[(s(!0),o(j,null,X(w.replacement_parts,(S,b)=>(s(),o("tr",{key:b},[e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":R=>S.description=R},null,8,t3),[[ce,S.description]])]),e("td",null,[te(e("input",{type:"text",class:"form-control",placeholder:"Part Number","onUpdate:modelValue":R=>S.part_number=R},null,8,s3),[[ce,S.part_number]])]),e("td",null,[te(e("input",{type:"number",class:"form-control",placeholder:"Quantity","onUpdate:modelValue":R=>S.quantity=R},null,8,a3),[[ce,S.quantity]])]),e("td",null,[e("button",{type:"button",class:"btn btn-primary",onClick:R=>V(b)},n3,8,o3)])]))),128))])])])])]),_:1})]),_:1})])}}};var i3=$e(d3,[["__scopeId","data-v-674eedab"]]);const ge=a=>(Se("data-v-23e1722c"),a=a(),De(),a),c3={id:"exportPDF"},r3=ge(()=>e("br",null,null,-1)),u3={class:"container"},_3={class:"row align-items-center"},m3={class:"col-3 p-2 text-center"},p3={class:"header"},h3=["src"],v3=ge(()=>e("div",{class:"col-9 p-2 text-center"},[e("h3",{class:"m-0 font-weight-bold"},"JOB ORDER REQUEST FORM")],-1)),b3={class:"row border border-secondary p-2"},f3={class:"col-6 float-end"},$3={class:"mb-1"},y3=ge(()=>e("strong",null,"Job Order Number :",-1)),g3={class:"row"},k3={class:"table table-bordered table-sm"},w3=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"Area/Department"),e("th",null,"End User"),e("th",null,"Date/Time Requested"),e("th",null,"Date Needed")])],-1)),x3={class:"row border"},C3={class:"col-6 p-2"},S3={class:"row"},D3={class:"col-12 p-2"},V3=ge(()=>e("span",{class:"section-title"},"Type of Job Done",-1)),U3=ge(()=>e("br",null,null,-1)),M3={class:"row"},A3={class:"col-12 p-2"},P3=ge(()=>e("span",{class:"section-title"},"Problem Description/s:",-1)),T3={class:"row justify-content-right"},E3={class:"col-12 hidden-md-down border border-secondary"},q3=ge(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"To Be Filled By Maintenance")])],-1)),F3={class:"row"},L3={class:"col-12 p-2"},I3=ge(()=>e("span",{class:"section-title"},"Findings and Recommendations:",-1)),R3={class:"row justify-content-right"},N3={class:"col-12 hidden-md-down border border-secondary"},Y3={class:"row border mt-2"},B3={class:"col-6 p-2"},j3=ge(()=>e("div",{class:"col-6 text-right p-2"},[e("small",null,"Note: Pls notify requestor for the schedule given")],-1)),H3={class:"row"},O3=ge(()=>e("span",{class:"section-title"},"Replacement Parts Needed",-1)),z3={class:"table table-bordered table-sm"},J3=ge(()=>e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Description"),e("th",null,"Part No. (If applicable)"),e("th",null,"Quantity")])],-1)),G3={class:"row border border-secondary mt-2"},Q3={class:"col-6 p-2"},W3=ge(()=>e("div",{class:"col-3 p-2"},"Date:",-1)),K3=ge(()=>e("div",{class:"col-3 p-2"},"Time:",-1)),X3=ge(()=>e("div",{class:"row"},[e("div",{class:"col-12 text-center p-2"},[e("span",{class:"section-title"},"REVIEW AND APPROVAL")])],-1)),Z3={class:"row"},ew={class:"col-12 p-2"},tw={class:"row justify-content-right"},sw={class:"col-12 hidden-md-down border border-secondary"},aw={class:"row"},ow={class:"col-6 p-2"},lw=ge(()=>e("br",null,null,-1)),nw={class:"mt-2"},dw={class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},iw=ge(()=>e("br",null,null,-1)),cw=ge(()=>e("div",{class:"col-6 p-2"},[F(" Approved by: President/CEO"),e("br"),e("div",{class:"mt-2"},[e("span",{class:"bottom-line",style:{"border-bottom":"1px solid black",display:"inline-block"}},"Eden Satinitigan")])],-1)),rw={key:0,class:"fab-container"},uw=ge(()=>e("i",{class:"fas fa-download"},null,-1)),_w=[uw],mw={__name:"JobOrderRequestApproved",setup(a){const y=`${fe().params.id}`,m=()=>{const n=document.getElementById("exportPDF");at().from(n).save(`${y}.pdf`)},l=Ve({id:"",jobOrderNumber:"",areaDepartment:"",endUser:"",dateTimeRequested:"",dateNeeded:"",notedBy:"",typeofjob:!1,correctiveMaintenance:!1,calibration:!1,problemDescription:"",findingsRecommendations:"",commitmentDate:"",replacementParts:[],checkedBy:"",checkedDate:"",checkedTime:"",reviewedBy:"",reviewedDate:"",approvedBy:"",approvedDate:"",remarks:"",jobstatus:"",approvedPosition:""}),i=()=>{L.get(`/web/job-request/${fe().params.id}`).then(n=>{l.id=n.data.record.id,l.jobOrderNumber=n.data.record.job_order_number,l.areaDepartment=n.data.record.site_name,l.endUser=n.data.record.end_user,l.dateTimeRequested=ue(n.data.record.time_requested).format("MMMM D, YYYY"),l.dateNeeded=ue(n.data.record.date_needed).format("MMMM D, YYYY"),l.notedBy=n.data.record.noted_by,l.typeofjob=n.data.record.type_of_job,l.calibration=n.data.record.calibration,l.problemDescription=n.data.record.problem_description,l.findingsRecommendations=n.data.record.findings_recommendations,l.commitmentDate=ue(n.data.record.commitment_date).format("MMMM D, YYYY"),l.replacementParts=n.data.record.replacement_parts,l.checkedBy=n.data.record.createdby.cfull_name,l.checkedDate=ue(n.data.record.checkedDate).format("MMMM D, YYYY"),l.checkedTime=ue(n.data.record.checkedTime).format("h:mm:ss a"),l.reviewedBy=n.data.record.reviewedBy,l.reviewedDate=ue(n.data.record.reviewedDate).format("MMMM D, YYYY"),l.approvedBy=n.data.record.updatedby.ufull_name,l.approvedPosition=n.data.record.updatedby.uposition?n.data.record.updatedby.uposition:"",l.approvedDate=ue(n.data.record.approvedDate).format("MMMM D, YYYY"),l.remarks=n.data.record.remarks,l.jobstatus=n.data.record.status,console.log(n.data.record.status)}).catch(n=>{console.log(n.message)})};return me(()=>{i(),document.title=y}),(n,_)=>(s(),o(j,null,[e("div",c3,[r3,e("div",u3,[["P","C"].includes(l.jobstatus)?(s(),o("div",{key:0,class:M(["ribbon",{warning:l.jobstatus==="P",closed:l.jobstatus==="C"}])},[e("span",null,t(l.jobstatus==="P"?"Pending":l.jobstatus==="C"?"Reject":l.jobstatus==="P"),1)],2)):A("",!0),e("div",_3,[e("div",m3,[e("div",p3,[e("img",{class:"logo img-fluid",src:"/img/logo.png",alt:"Left Logo"},null,8,h3)])]),v3]),e("div",b3,[e("div",f3,[e("p",$3,[y3,F(t(l.jobOrderNumber),1)])])]),e("div",g3,[e("table",k3,[w3,e("tbody",null,[e("tr",null,[e("td",null,t(l.areaDepartment),1),e("td",null,t(l.endUser),1),e("td",null,t(l.dateTimeRequested),1),e("td",null,t(l.dateNeeded),1)])])])]),e("div",x3,[e("div",C3,[F("Noted by:"),e("b",null,t(l.notedBy),1)])]),e("div",S3,[e("div",D3,[V3,U3,e("span",null,t(l.typeofjob==="Preventive Maintenance"?"(\u2713)":"( \xA0 )")+" Preventive Maintenance",1),F("\xA0 "),e("span",null,t(l.typeofjob==="Corrective Maintenance"?"(\u2713)":"( \xA0 )")+" Corrective Maintenance",1),F("\xA0 "),e("span",null,t(l.typeofjob==="Calibration"?"(\u2713)":"( \xA0 )")+" Calibration",1)])]),e("div",M3,[e("div",A3,[P3,e("div",T3,[e("div",E3,[e("p",null,t(l.problemDescription),1)])])])]),q3,e("div",F3,[e("div",L3,[I3,e("div",R3,[e("div",N3,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",Y3,[e("div",B3,[F("Commitment Date:\xA0"),e("b",null,t(l.commitmentDate),1)]),j3]),e("div",H3,[O3,e("table",z3,[J3,e("tbody",null,[(s(!0),o(j,null,X(l.replacementParts,(h,d)=>(s(),o("tr",{key:d},[e("td",null,t(d+1),1),e("td",null,t(h.description),1),e("td",null,t(h.part_number),1),e("td",null,t(h.quantity),1)]))),128))])])]),e("div",G3,[e("div",Q3,[F(" Checked by : "),e("b",null,t(l.checkedBy),1)]),W3,K3]),X3,e("div",Z3,[e("div",ew,[F(" Remarks / Comments: "),e("div",tw,[e("div",sw,[e("p",null,t(l.findingsRecommendations),1)])])])]),e("div",aw,[e("div",ow,[F(" Reviewed by: Department Manager"),lw,e("div",nw,[e("span",dw,t(l.approvedBy),1),iw,e("span",null,t(l.approvedPosition),1)])]),cw])])]),l.status==="A"?(s(),o("div",rw,[e("div",{class:"button iconbutton bg-success",onClick:_[0]||(_[0]=h=>m())},_w)])):A("",!0)],64))}};var ht=$e(mw,[["__scopeId","data-v-23e1722c"]]),pw=[{path:"/login",name:"admin.login",component:Xn},{path:"/",name:"Dashboard",component:Yt},{path:"/appointments",name:"Appointments",component:is},{path:"/appointments/create",name:"Appointments",component:dt},{path:"/appointments/:id/edit",name:"Appointments",component:dt},{path:"/user",name:"User",component:Ro},{path:"/settings",name:"Setting",component:ql},{path:"/profile",name:"Profile",component:Un},{path:"/client",name:"Client",component:Wd},{path:"/tech-recommendation",name:"Tech Recomm",component:cr},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:ym},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:zh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Zp},{path:"/usermenu",name:"User Menu",component:Lv},{path:"/menu",name:"Menu",component:n1},{path:"/:catchAll(.*)",name:"404 Error Page",component:mt},{path:"/notifications",name:"Notifications",component:vf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:pt},{path:"/asset-monitoring",name:"Asset Monitoring",component:cg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:yk},{path:"/usersite",name:"User Site",component:Ik},{path:"/job-order-request-list",name:"Job Order Request",component:x0},{path:"/job-order-request-list/create",name:"Job Order Create",component:i3},{path:"/job-order-request-approved/:id/view",name:"Job-Order-Request-Approved",component:ht}];const hw={class:"navbar-nav"},vw=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),bw={class:"nav-item d-none d-sm-inline-block"},fw={class:"navbar-nav ml-auto"},$w=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),yw={class:"nav-link","data-toggle":"dropdown",href:"#"},gw=e("i",{class:"far fa-bell"},null,-1),kw={class:"badge badge-warning navbar-badge"},ww={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},xw={class:"dropdown-header"},Cw=e("div",{class:"dropdown-divider"},null,-1),Sw=e("i",{class:"fas fa-envelope mr-2"},null,-1),Dw={class:"float-right text-muted text-sm"},Vw={key:1,class:"text-center text-muted py-3"},Uw=e("div",{class:"dropdown-divider"},null,-1),Mw=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Aw={class:"nav-item dropdown"},Pw={class:"nav-link","data-toggle":"dropdown",href:"#"},Tw={class:"user-panel d-flex",style:{top:"-5px"}},Ew={class:"info"},qw={key:0,class:"image"},Fw=["src"],Lw={key:1,class:"image"},Iw=["src"],Rw=["src"],Nw={class:"dropdown-menu dropdown-menu-sg dropdown-menu-right"},Yw=e("i",{class:"fas fa-user-circle"},null,-1),Bw={__name:"AppNavbar",setup(a){const y=ze(),m=r([]),l=_e(),i=()=>{L.get("/api/notifications").then(n=>{m.value=n.data.notifications}).catch(n=>{console.error("Error fetching notifications",n)})};return me(()=>{i()}),(n,_)=>{const h=be("router-link");return s(),o("nav",{class:M(["main-header navbar navbar-expand",u(y).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",hw,[vw,e("li",bw,[e("a",{onClick:_[0]||(_[0]=se((...d)=>u(y).changeTheme&&u(y).changeTheme(...d),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:M(["far",u(y).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",fw,[$w,e("li",{class:"nav-item dropdown",onClick:i},[e("a",yw,[gw,e("span",kw,t(m.value.length),1)]),e("div",ww,[e("span",xw,t(m.value.length)+" Notifications",1),Cw,m.value.length>0?(s(!0),o(j,{key:0},X(m.value,d=>(s(),o("a",{key:d.id,href:"#",class:"dropdown-item"},[Sw,F(" "+t(d.data?d.data:"No message available")+" ",1),e("span",Dw,t(u(ue)(d.created_at)),1)]))),128)):(s(),o("p",Vw,"No new notifications")),Uw,p(h,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[F("See All Notifications")]),_:1})])]),Mw,e("li",Aw,[e("a",Pw,[e("div",Tw,[e("div",Ew,t(u(l).user.name),1),u(l).user.avatar===""?(s(),o("div",qw,[e("img",{src:u(l).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Fw)])):u(l).user.avatar!==""?(s(),o("div",Lw,[u(l).user.gender==="Male"?(s(),o("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Iw)):u(l).user.gender==="Female"?(s(),o("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Rw)):A("",!0)])):A("",!0)])]),e("div",Nw,[p(h,{class:"dropdown-item",to:"/profile"},{default:Z(()=>[Yw,F(" My Profile")]),_:1})])])])],2)}}},jw={class:"main-sidebar sidebar-dark-primary elevation-4"},Hw={href:"#",class:"brand-link"},Ow=["src"],zw={class:"brand-text font-weight-light"},Jw={class:"sidebar"},Gw={class:"mt-2"},Qw={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},Ww={key:0,class:"right fas fa-angle-left"},Kw={key:0,class:"nav nav-treeview"},Xw={class:"nav-item"},Zw={class:"nav-link"},e8=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),t8=e("p",null,"Logout",-1),s8=[e8,t8],a8={__name:"SidebarLeft",setup(a){const y=Qe(),m=_e(),l=ze(),i=r({data:[]}),n=()=>{axios.get("/web/menu").then(d=>{i.value=d.data}).catch(d=>{console.log(d)})},_=d=>d===y.currentRoute.value.path,h=()=>{axios.post("/logout").then(d=>{m.user.name="",y.push("/login")})};return me(()=>{$('[data-widget="treeview"]').Treeview("init"),n()}),(d,w)=>{const f=be("router-link");return s(),o("aside",jw,[e("a",Hw,[e("img",{src:"/img/safe1.png",alt:" Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Ow),e("span",zw,t(u(l).setting.app_name),1)]),e("div",Jw,[e("nav",Gw,[e("ul",Qw,[(s(!0),o(j,null,X(i.value,V=>(s(),o("li",{key:V.id,class:M({"nav-item":!0,"menu-is-opening":V.submenus&&V.submenus.length>0})},[p(f,{class:M({"nav-link":!0,active:_(V.menu_route)}),to:`${V.menu_route}`},{default:Z(()=>[e("i",{class:M("nav-icon "+V.menu_icon)},null,2),e("p",null,t(V.menu_title),1),V.submenus&&V.submenus.length>0?(s(),o("i",Ww)):A("",!0)]),_:2},1032,["class","to"]),V.submenus&&V.submenus.length>0?(s(),o("ul",Kw,[(s(!0),o(j,null,X(V.submenus,c=>(s(),o("li",{key:c.id,class:"nav-item"},[p(f,{class:M({"nav-link menu-open":!0,active:_(c.menu_route)}),to:c.menu_route},{default:Z(()=>[e("i",{class:M("nav-icon "+c.menu_icon)},null,2),e("p",null,t(c.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):A("",!0)],2))),128)),e("li",Xw,[e("form",Zw,[e("a",{href:"#",onClick:se(h,["prevent"])},s8)])])])])])])}}},o8={},l8={class:"control-sidebar control-sidebar-dark"},n8=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),d8=[n8];function i8(a,y){return s(),o("aside",l8,d8)}var c8=$e(o8,[["render",i8]]);const r8={class:"main-footer"},u8={class:"float-right d-none d-sm-block"},_8={href:"#"},m8={__name:"AppFooter",props:{settings:Object},setup(a){const y=_e(),m=r(new Date().getFullYear());return(l,i)=>{var n;return s(),o("footer",r8,[e("div",u8,t(u(y).user.name),1),e("strong",null,[F("Copyright \xA9 "+t(m.value)+" ",1),e("a",_8,t((n=a.settings)==null?void 0:n.app_name),1),F(".")]),F(" All rights reserved. ")])}}};const p8=a=>(Se("data-v-36653638"),a=a(),De(),a),h8={class:"content-wrapper"},v8={class:"content-header"},b8={class:"container-fluid"},f8={class:"row mb-2"},$8={class:"col-sm-6"},y8={class:"m-0"},g8={class:"col-sm-6"},k8={class:"breadcrumb float-sm-right"},w8=p8(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),x8={class:"breadcrumb-item active"},C8={__name:"CustomMainLayout",setup(a){const y=_e(),m=ze(),l=we(()=>m.theme==="dark"?"dark-mode":"");return(i,n)=>{const _=be("router-view");return u(y).user.name!==""?(s(),o("div",{key:0,class:M(["wrapper",l.value])},[p(Bw),p(a8),p(c8),e("div",h8,[e("section",v8,[e("div",b8,[e("div",f8,[e("div",$8,[e("h1",y8,t(i.$route.name),1)]),e("div",g8,[e("ol",k8,[w8,e("li",x8,t(i.$route.name),1)])])])])]),p(_)]),p(m8)],2)):(s(),o("div",{key:1,class:M(["login-page slibg",l.value])},[p(_)],2))}}};var S8=$e(C8,[["__scopeId","data-v-36653638"]]);const D8={__name:"App",setup(a){_e();const y=fe(),m=we(()=>y.name==="Tech-Approved"),l=we(()=>y.name==="Job-Order-Request-Approved"),i=we(()=>y.name==="404 Error Page");return(n,_)=>(s(),o("div",null,[!i.value&&!m.value&&!l.value?(s(),re(S8,{key:0})):m.value?(s(),re(pt,{key:1})):l.value?(s(),re(ht,{key:2})):(s(),re(mt,{key:3}))]))}};var V8=$e(D8,[["__scopeId","data-v-57c8cdad"]]);const U8=$t(),je=kt(V8),vt=yt({routes:pw,history:gt()});vt.beforeEach(async(a,y)=>{const m=_e();if(m.user.name===""&&a.name!=="admin.login"){const l=ze();await Promise.all([m.getAuthUser(),l.getSetting()])}});je.use(Et);je.use(U8);je.use(vt);je.use(Tt);je.use(at);je.mount("#app");
