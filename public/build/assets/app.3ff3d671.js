import{_ as at,l as we}from"./lodash.6f1dd969.js";import{a as T}from"./axios.82d3905a.js";import{a as ot}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.6c11729d.js";import{d as He,c as lt}from"./pinia.177553b5.js";import{u as Be,a as Pe,c as nt,b as dt}from"./vue-router.ea66a290.js";import{r as c,o as ue,i as s,k as e,x as a,_ as w,u as i,e as t,I as fe,h as Z,j as E,F as R,q as H,d as Ce,a0 as te,v as P,C as Ue,a2 as Q,a3 as le,a7 as ke,p as U,w as pe,a8 as Se,a9 as me,f as de,a5 as $e,a6 as ge,B as it,a1 as Le,aa as ct}from"./@vue.4ae0f184.js";import{B as rt}from"./vue-chartjs.a660a76a.js";import{C as ut,p as _t,a as mt,b as ht,c as pt,d as vt,L as bt}from"./chart.js.562acd0f.js";import{S as qe}from"./sweetalert2.ef56b979.js";import{t as Fe}from"./toastr.94171567.js";import{F as be,a as W}from"./vee-validate.2167efee.js";import{f as Oe}from"./flatpickr.181c7977.js";import{c as ve,a as N}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ie}from"./moment.40bc58bf.js";import{a as De}from"./laravel-vue-pagination.441da446.js";import{C as xe}from"./vue-content-loader.1bd220f1.js";import"./dompurify.5fe4b1c1.js";import{u as ft}from"./@vueuse.38a26bf2.js";import{L as Me}from"./vue3-datepicker.d98707a6.js";import{h as Ye}from"./html2canvas.c4a43e03.js";import{h as ze}from"./html2pdf.js.44b835e5.js";import{V as $t}from"./vue-sweetalert2.891f877f.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=at;window.axios=T;window.$=window.jQuery=ot;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const ce=He("AuthUserStore",()=>{const o=c({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await T.get("/api/profile").then(n=>{o.value=n.data})}}}),gt={class:"content"},yt={class:"container-fluid"},kt={class:"card"},xt={class:"card-header"},wt={class:"card-body"},Ct=e("div",{class:"row"},null,-1),St={__name:"Dashboard",setup(o){ut.register(_t,mt,ht,pt,vt,bt),ce(),c("all"),c(0);const u=c(new Date().getFullYear()),n=c({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),l=()=>{axios.get("/api/chart").then(x=>{x.data,n.value=x.data}).catch(x=>{console.error("Error fetching chart data:",x)})},d=c("today"),p=c(0),k=()=>{axios.get("/api/stats/users",{params:{date_range:d.value}}).then(x=>{p.value=x.data.totalUsersCount})};return ue(()=>{l(),k()}),(x,Y)=>(t(),s("div",gt,[e("div",yt,[e("div",kt,[e("div",xt," Yearly Progress - "+a(u.value),1),e("div",wt,[w(i(rt),{data:n.value},null,8,["data"])])]),Ct])]))}},Mt={class:"content"},Ut={class:"container-fluid"},Dt={class:"row"},At={class:"col-lg-12"},Vt={class:"d-flex justify-content-between mb-2"},Et=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),P(" Add New Appointment")],-1),Tt={class:"btn-group"},Ft=e("span",{class:"mr-1"},"All",-1),Pt={class:"badge badge-pill badge-info"},It=["onClick"],Lt={class:"mr-1"},Yt={class:"card"},Bt={class:"card-body"},Nt={class:"table table-bordered"},Rt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),qt=e("td",null,null,-1),jt=e("i",{class:"fa fa-edit mr-2"},null,-1),Ht=["onClick"],Ot=e("i",{class:"fa fa-trash text-danger"},null,-1),zt=[Ot],Gt={__name:"ListAppointments",setup(o){const u=c(),n=c([]),l=()=>{T.get("/api/appointment-status").then(m=>{n.value=m.data})},d=c([]),p=m=>{u.value=m;const M={};m&&(M.status=m),T.get("/api/appointments",{params:M}).then(f=>{d.value=f.data,console.log(f)})},k=fe(()=>n.value.map(m=>m.count).reduce((m,M)=>m+M,0)),x=m=>{const M=d.value.data.find(_=>_.id===m).status.name,f=n.value.find(_=>_.name===M);f.count--},Y=m=>{qe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(M=>{M.isConfirmed&&T.delete(`/api/appointments/${m}`).then(f=>{x(m),d.value.data=d.value.data.filter(_=>_.id!==m),qe.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{p(),l()}),(m,M)=>{const f=Ce("router-link");return t(),s("div",Mt,[e("div",Ut,[e("div",Dt,[e("div",At,[e("div",Vt,[e("div",null,[w(f,{to:"/admin/appointments/create"},{default:Z(()=>[Et]),_:1})]),e("div",Tt,[e("button",{onClick:M[0]||(M[0]=_=>p()),type:"button",class:E(["btn",[typeof u.value=="undefined"?"btn-secondary":"btn-default"]])},[Ft,e("span",Pt,a(k.value),1)],2),(t(!0),s(R,null,H(n.value,_=>(t(),s("button",{onClick:C=>p(_.value),type:"button",class:E(["btn",[u.value===_.value?"btn-secondary":"btn-default"]])},[e("span",Lt,a(_.name),1),e("span",{class:E(["badge badge-pill",`badge-${_.color}`])},a(_.count),3)],10,It))),256))])]),e("div",Yt,[e("div",Bt,[e("table",Nt,[Rt,e("tbody",null,[(t(!0),s(R,null,H(d.value.data,(_,C)=>(t(),s("tr",{key:_.id},[e("td",null,a(C+1),1),e("td",null,a(_.client.first_name)+" "+a(_.client.last_name),1),e("td",null,a(_.start_time),1),e("td",null,a(_.end_time),1),qt,e("td",null,[w(f,{to:`/admin/appointments/${_.id}/edit`},{default:Z(()=>[jt]),_:2},1032,["to"]),e("a",{href:"#",onClick:te(X=>Y(_.id),["prevent"])},zt,8,Ht)])]))),128))])])])])])])])])}}};function re(){return Fe.options.positionClass="toast-top-right",Fe.options.closeButton=!0,Fe.options.progressBar=!0,Fe}const Qt={class:"content-header"},Wt={class:"container-fluid"},Kt={class:"row mb-2"},Xt={class:"col-sm-6"},Jt={class:"m-0"},Zt={key:0},es={key:1},ts={class:"col-sm-6"},ss={class:"breadcrumb float-sm-right"},as={class:"breadcrumb-item"},os={class:"breadcrumb-item"},ls={class:"breadcrumb-item active"},ns={key:0},ds={key:1},is={class:"content"},cs={class:"container-fluid"},rs={class:"row"},us={class:"col-lg-12"},_s={class:"card"},ms={class:"card-body"},hs={class:"row"},ps={class:"col-md-6"},vs={class:"form-group"},bs=e("label",{for:"title"},"Title",-1),fs={class:"invalid-feedback"},$s={class:"col-md-6"},gs={class:"form-group"},ys=e("label",{for:"client"},"Client Name",-1),ks=["value"],xs={class:"invalid-feedback"},ws={class:"row"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ms=e("label",{for:"start-time"},"Start Time",-1),Us={class:"invalid-feedback"},Ds={class:"col-md-6"},As={class:"form-group"},Vs=e("label",{for:"end-time"},"End Time",-1),Es={class:"invalid-feedback"},Ts={class:"form-group"},Fs=e("label",{for:"description"},"Description",-1),Ps={class:"invalid-feedback"},Is=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),je={__name:"AppointmentForm",setup(o){const u=Be(),n=Pe(),l=re(),d=Ue({title:"",client_id:"",start_time:"",end_time:"",description:""}),p=(_,C)=>{f.value?x(_,C):k(_,C)},k=(_,C)=>{T.post("/api/appointments/create",d).then(X=>{u.push("/admin/appointments"),l.success("Appointment created successfully!")}).catch(X=>{C.setErrors(X.response.data.errors)})},x=(_,C)=>{T.put(`/api/appointments/${n.params.id}/edit`,d).then(X=>{u.push("/admin/appointments"),l.success("Appointment updated successfully!")}).catch(X=>{C.setErrors(X.response.data.errors)})},Y=c(),m=()=>{T.get("/api/view-clients").then(_=>{Y.value=_.data})},M=()=>{T.get(`/api/appointments/${n.params.id}/edit`).then(({data:_})=>{d.title=_.title,d.client_id=_.client_id,d.start_time=_.formatted_start_time,d.end_time=_.formatted_end_time,d.description=_.description})},f=c(!1);return ue(()=>{n.name==="admin.appointments.edit"&&(f.value=!0,M()),Oe(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),m()}),(_,C)=>{const X=Ce("router-link");return t(),s(R,null,[e("div",Qt,[e("div",Wt,[e("div",Kt,[e("div",Xt,[e("h1",Jt,[f.value?(t(),s("span",Zt,"Edit")):(t(),s("span",es,"Create")),P(" Appointment")])]),e("div",ts,[e("ol",ss,[e("li",as,[w(X,{to:"/admin/dashboard"},{default:Z(()=>[P("Home")]),_:1})]),e("li",os,[w(X,{to:"/admin/appointments"},{default:Z(()=>[P("Appointments")]),_:1})]),e("li",ls,[f.value?(t(),s("span",ns,"Edit")):(t(),s("span",ds,"Create"))])])])])])]),e("div",is,[e("div",cs,[e("div",rs,[e("div",us,[e("div",_s,[e("div",ms,[w(i(be),{onSubmit:p},{default:Z(({errors:B})=>[e("div",hs,[e("div",ps,[e("div",vs,[bs,Q(e("input",{"onUpdate:modelValue":C[0]||(C[0]=O=>d.title=O),type:"text",class:E(["form-control",{"is-invalid":B.title}]),id:"title",placeholder:"Enter Title"},null,2),[[le,d.title]]),e("span",fs,a(B.title),1)])]),e("div",$s,[e("div",gs,[ys,Q(e("select",{"onUpdate:modelValue":C[1]||(C[1]=O=>d.client_id=O),id:"client",class:E(["form-control",{"is-invalid":B.client_id}])},[(t(!0),s(R,null,H(Y.value,O=>(t(),s("option",{value:O.id,key:O.id},a(O.first_name)+" "+a(O.last_name),9,ks))),128))],2),[[ke,d.client_id]]),e("span",xs,a(B.client_id),1)])])]),e("div",ws,[e("div",Cs,[e("div",Ss,[Ms,Q(e("input",{"onUpdate:modelValue":C[2]||(C[2]=O=>d.start_time=O),type:"text",class:E(["form-control flatpickr",{"is-invalid":B.start_time}]),id:"start-time"},null,2),[[le,d.start_time]]),e("span",Us,a(B.start_time),1)])]),e("div",Ds,[e("div",As,[Vs,Q(e("input",{"onUpdate:modelValue":C[3]||(C[3]=O=>d.end_time=O),type:"text",class:E(["form-control flatpickr",{"is-invalid":B.end_time}]),id:"end-time"},null,2),[[le,d.end_time]]),e("span",Es,a(B.end_time),1)])])]),e("div",Ts,[Fs,Q(e("textarea",{"onUpdate:modelValue":C[4]||(C[4]=O=>d.description=O),class:E(["form-control",{"is-invalid":B.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[le,d.description]]),e("span",Ps,a(B.description),1)]),Is]),_:1})])])])])])])],64)}}},Ls=["checked"],Ys=["value","selected"],Bs=["value","selected"],Ns=e("i",{class:"fa fa-edit"},null,-1),Rs=[Ns],qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),js=[qs],Hs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:u}){const n=re(),l=o,d=u,p=c([{name:"ADMIN",value:1},{name:"USER",value:2}]),k=c([]),x=()=>{T.get("/api/users/userlist").then(f=>{k.value=f.data}).catch(f=>{console.log(f)})},Y=(f,_)=>{T.patch(`/api/users/${f.id}/change-role`,{role:_}).then(()=>{n.success("Role changed successfully!")})},m=(f,_)=>{T.patch(`/api/users/${f.id}/change-sitehead`,{sitehead_user_id:_}).then(()=>{n.success("Sitehead changed successfully!")})},M=()=>{d("toggleSelection",l.user)};return ue(()=>{x()}),(f,_)=>(t(),s("tr",null,[e("td",null,[o.user.name!="admin"?(t(),s("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:M},null,40,Ls)):U("",!0)]),e("td",null,a(o.index+1),1),e("td",null,a(o.user.first_name+" "+o.user.last_name),1),e("td",null,a(o.user.email),1),e("td",null,a(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:_[0]||(_[0]=C=>Y(o.user,C.target.value))},[(t(!0),s(R,null,H(p.value,C=>(t(),s("option",{key:C.id,value:C.value,selected:o.user.role===C.name},a(C.name),9,Ys))),128))],32)]),e("td",null,[o.user.name!="admin"?(t(),s("select",{key:0,class:"form-control",onChange:_[1]||(_[1]=C=>m(o.user,C.target.value))},[(t(!0),s(R,null,H(k.value,C=>(t(),s("option",{key:C.id,value:C.id,selected:o.user.sitehead_user_id===C.id},a(C.first_name+" "+C.last_name),9,Bs))),128))],32)):U("",!0)]),e("td",null,[e("a",{href:"#",onClick:_[2]||(_[2]=te(C=>f.$emit("editUser",o.user),["prevent"]))},Rs),o.user.id!=1?(t(),s("a",{key:0,href:"#",onClick:_[3]||(_[3]=te(C=>f.$emit("confirmUserDeletion",o.user.id),["prevent"]))},js)):U("",!0)])]))}},Os={class:"content"},zs={class:"container-fluid"},Gs={class:"d-flex justify-content-between mb-2"},Qs={class:"d-flex"},Ws=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Ks={key:0},Xs=e("i",{class:"fa fa-trash mr-1"},null,-1),Js={class:"ml-2"},Zs={class:"card"},ea={class:"card-body"},ta={class:"dispatch-table"},sa={class:"table-responsive"},aa={class:"table table-bordered table-hover table-sm"},oa=e("th",{style:{width:"10px"}},"#",-1),la=e("th",null,"Name",-1),na=e("th",null,"Email",-1),da=e("th",null,"Registered Date",-1),ia=e("th",null,"Role",-1),ca=e("th",null,"Head",-1),ra=e("th",null,"Action",-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[ma],pa=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Ma=["value","selected"],Ua=e("hr",null,null,-1),Da={class:"row"},Aa={key:0,class:"col"},Va=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],Fa=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),P(" Remove ")],-1),Pa=[Fa],Ia={key:1,class:"col"},La=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ba={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Na={class:"modal-dialog",role:"document"},Ra={class:"modal-content"},qa={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Ha={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},ho={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Mo=me('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Do=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ao={__name:"UserList",setup(o){const u=ce(),n=re(),l=c({data:[]}),d=c(!1),p=c(),k=c(null);c([]),c(null);const x=c([{name:"Male",value:1},{name:"Female",value:2}]),Y=(A=1)=>{T.get(`/api/users?page=${A}`,{params:{query:v.value}}).then(g=>{l.value=g.data,b.value=[],ae.value=!1})},m=ve({name:N().required(),last_name:N().required(),first_name:N().required(),email:N().email().required(),password:N().required().min(8),gender:N().required()}),M=ve({name:N().required(),last_name:N().required(),first_name:N().required(),email:N().email().required(),password:N().when((A,g)=>A?g.required().min(8):g),gender:N().required()}),f=c([]),_=()=>{T.get("/api/users/userlist").then(A=>{f.value=A.data}).catch(A=>{console.log(A)})},C=(A,g)=>{T.patch(`/api/users/${A.id}/change-sitehead`,{sitehead_user_id:g}).then(()=>{n.success("Sitehead changed successfully!")})},X=(A,{resetForm:g,setErrors:h})=>{T.post("/api/users",A).then(ee=>{l.value.data.unshift(ee.data),$("#userFormModal").modal("hide"),g(),n.success("User created successfully!")}).catch(ee=>{ee.response.data.errors&&(h(ee.response.data.errors),n.warning(ee.response.data.errors.name))})},B=()=>{d.value=!1,$("#userFormModal").modal("show")},O=A=>{d.value=!0,k.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:A.id,name:A.name,email:A.email,sitehead_user_id:A.sitehead_user_id,first_name:A.first_name,last_name:A.last_name,gender:A.gender}},D=(A,{setErrors:g})=>{T.put("/api/users/"+p.value.id,A).then(h=>{const ee=l.value.data.findIndex(S=>S.id===h.data.id);l.value.data[ee]=h.data,$("#userFormModal").modal("hide"),n.success("User updated successfully!")}).catch(h=>{g(h.response.data.errors),console.log(h)})},y=(A,g)=>{d.value?D(A,g):X(A,g)},v=c(null),b=c([]),F=A=>{const g=b.value.indexOf(A.id);g===-1?b.value.push(A.id):b.value.splice(g,1),console.log(b.value)},se=c(null),z=A=>{se.value=A,$("#deleteUserModal").modal("show")},K=()=>{T.delete(`/api/users/${se.value}`).then(()=>{$("#deleteUserModal").modal("hide"),n.success("User deleted successfully!"),l.value.data=l.value.data.filter(A=>A.id!==se.value)})},G=()=>{T.delete("/api/users",{data:{ids:b.value}}).then(A=>{l.value.data=l.value.data.filter(g=>!b.value.includes(g.id)),b.value=[],ae.value=!1,n.success(A.data.message)})},ae=c(!1),L=()=>{ae.value?b.value=l.value.data.map(A=>A.id):b.value=[],console.log(b.value)};return pe(v,we.exports.debounce(()=>{Y()},300)),ue(()=>{Y(),_()}),(A,g)=>(t(),s(R,null,[e("div",Os,[e("div",zs,[e("div",Gs,[e("div",Qs,[e("button",{onClick:B,type:"button",class:"mb-2 btn btn-primary btn-sm"},[Ws,P(" User ")]),b.value.length>0?(t(),s("div",Ks,[e("button",{onClick:G,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xs,P(" Delete Selected ")]),e("span",Js,"Selected "+a(b.value.length)+" users",1)])):U("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=h=>v.value=h),class:"form-control",placeholder:"Search..."},null,512),[[le,v.value]])])]),e("div",Zs,[e("div",ea,[e("div",ta,[e("div",sa,[e("table",aa,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":g[1]||(g[1]=h=>ae.value=h),onChange:L},null,544),[[Se,ae.value]])]),oa,la,na,da,ia,ca,ra])]),l.value.data.length>0?(t(),s("tbody",ua,[(t(!0),s(R,null,H(l.value.data,(h,ee)=>(t(),de(Hs,{key:h.id,user:h,index:ee,onEditUser:O,onConfirmUserDeletion:z,onToggleSelection:F,"select-all":ae.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(t(),s("tbody",_a,ha))])])]),(t(!0),s(R,null,H(l.value.data,(h,ee)=>(t(),s("div",{class:"dispatch-list",key:h.id,index:ee},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,a(h.first_name+" "+h.last_name),1)]),e("div",ga,[ya,e("span",null,a(h.email),1)]),e("div",ka,[xa,e("span",null,a(h.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[h.name!="admin"?(t(),s("select",{key:0,class:"form-control",onChange:S=>C(h,S.target.value)},[(t(!0),s(R,null,H(f.value,S=>(t(),s("option",{key:S.id,value:S.id,selected:S.sitehead_user_id===S.id},a(S.first_name+" "+S.last_name),9,Ma))),128))],40,Sa)):U("",!0)])]),Ua,e("div",Da,[i(u).user.role==="ADMIN"?(t(),s("div",Aa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:S=>O(h)},[Ea,P(" Edit ")],8,Va),e("button",{class:"btn btnsm btn-danger btn-block",onClick:S=>z(h.id)},Pa,8,Ta)])):U("",!0),i(u).user.role==="USER"?(t(),s("div",Ia,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:S=>O(h)},[Ya,P(" Edit ")],8,La)])):U("",!0)])])])],8,pa))),128))])]),w(i(De),{data:l.value,onPaginationChangePage:Y},null,8,["data"])])]),e("div",Ba,[e("div",Na,[e("div",Ra,[e("div",qa,[e("h5",ja,[d.value?(t(),s("span",Ha,"Edit User")):(t(),s("span",Oa,"Add New User"))]),za]),w(i(be),{ref_key:"form",ref:k,onSubmit:y,"validation-schema":d.value?i(M):i(m),"initial-values":p.value},{default:Z(({errors:h})=>[e("div",Ga,[e("div",Qa,[Wa,w(i(W),{name:"name",type:"text",class:E(["form-control",{"is-invalid":h.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,a(h.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,w(i(W),{name:"email",type:"email",class:E(["form-control",{"is-invalid":h.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,a(h.email),1)])]),e("div",so,[e("div",ao,[oo,w(i(W),{id:"gender",name:"gender",as:"select",class:E(["form-control",{"is-invalid":h.gender}])},{default:Z(()=>[lo,(t(!0),s(R,null,H(x.value,ee=>(t(),s("option",{key:ee.name,value:ee.name},a(ee.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,w(i(W),{name:"first_name",type:"text",class:E(["form-control",{"is-invalid":h.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,a(h.first_name),1)])]),e("div",mo,[e("div",ho,[po,w(i(W),{name:"last_name",type:"text",class:E(["form-control",{"is-invalid":h.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,a(h.last_name),1)])])]),e("div",bo,[fo,w(i(W),{name:"position",type:"text",class:E(["form-control",{"is-invalid":h.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,a(h.position),1)]),e("div",go,[yo,w(i(W),{name:"password",type:"password",class:E(["form-control",{"is-invalid":h.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,a(h.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Mo,e("div",Uo,[Do,e("button",{onClick:te(K,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var he=(o,u)=>{const n=o.__vccOpts||o;for(const[l,d]of u)n[l]=d;return n};const ye=o=>($e("data-v-340371f4"),o=o(),ge(),o),Vo={class:"content"},Eo={class:"container-fluid"},To={class:"row"},Fo={class:"col-md-6"},Po={class:"card"},Io=me('<ul class="nav nav-tabs" id="settingsTabs" data-v-340371f4><li class="nav-item" data-v-340371f4><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-340371f4>General Settings</a></li><li class="nav-item" data-v-340371f4><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-340371f4>Site Settings</a></li></ul>',1),Lo={class:"tab-content"},Yo={class:"tab-pane fade show active",id:"general"},Bo={class:"card-body"},No={class:"form-group"},Ro=ye(()=>e("label",{for:"appName"},"App Display Name",-1)),qo={key:0,class:"text-danger text-sm"},jo={class:"form-group"},Ho=ye(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Oo=me('<option value="m/d/Y" data-v-340371f4> MM/DD/YYYY </option><option value="d/m/Y" data-v-340371f4> DD/MM/YYYY </option><option value="Y-m-d" data-v-340371f4> YYYY-MM-DD </option><option value="F j, Y" data-v-340371f4> Month DD, YYYY </option><option value="j F Y" data-v-340371f4> DD Month YYYY </option>',5),zo=[Oo],Go={key:0,class:"text-danger text-sm"},Qo={class:"form-group"},Wo=ye(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),Ko={key:0,class:"text-danger text-sm"},Xo=ye(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),P("Save Changes ")])],-1)),Jo={class:"tab-pane fade",id:"site"},Zo={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},el=ye(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),tl=ye(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),sl={key:0,class:"list-group-item mt-2"},al={class:"d-flex justify-content-between"},ol={class:"d-flex"},ll=["onClick"],nl={class:"d-flex"},dl=["onClick"],il={class:"m-2 list-unstyled"},cl={key:1},rl={key:0,class:"list-group-item mt-2"},ul={class:"d-flex justify-content-between"},_l={class:"d-flex"},ml=["onClick"],hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=ye(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=ye(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const u=c([]),n=re(),l=c(!0),d=c([]),p=c(!1),k=c(),x=c({id:"",site_name:"",is_active:""}),Y=()=>{p.value=!0,axios.get("/api/site").then(D=>{p.value=!1,d.value=D.data}).catch(D=>{console.log(D)})},m=fe(()=>Array.isArray(d.value)?d.value.filter(D=>D.is_active===0):[]),M=fe(()=>m.value.length),f=()=>{l.value=!l.value},_=()=>{var D,y;p.value=!0,axios.post("/api/site",{id:(D=x.value)==null?void 0:D.id,site_name:(y=x.value)==null?void 0:y.site_name,is_active:!0}).then(v=>{Y(),x.value={id:null,site_name:"",is_active:!0},n.success(v.data.message),p.value=!1}).catch(v=>{v.response&&v.response.status===422&&(B.value=v.response.data.errors)})},C=D=>{x.value.is_active=D.is_active===1?0:1,axios.post("/api/site",{id:D.id,site_name:D.site_name,is_active:x.value.is_active}).then(y=>{axios.get("/api/site").then(v=>{d.value=v.data}).catch(v=>{console.error("Error fetching tasks:",v),n.error("Error fetching tasks. Please try again.")})}).catch(y=>{console.error("Error adding new task:",y),n.error("Error adding new task. Please try again.")})},X=()=>{axios.get("/api/settings").then(D=>{u.value=D.data})},B=c(),O=()=>{B.value="",axios.post("/api/settings",u.value).then(D=>{n.success("Settings updated successfully!")}).catch(D=>{D.response&&D.response.status===422&&(B.value=D.response.data.errors)})};return ue(()=>{Y(),X()}),(D,y)=>(t(),s("div",Vo,[e("div",Eo,[e("div",To,[e("div",Fo,[e("div",Po,[Io,e("div",Lo,[e("div",Yo,[e("form",{onSubmit:y[3]||(y[3]=te(v=>O(),["prevent"]))},[e("div",Bo,[e("div",No,[Ro,Q(e("input",{"onUpdate:modelValue":y[0]||(y[0]=v=>u.value.app_name=v),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[le,u.value.app_name]]),B.value&&B.value.app_name?(t(),s("span",qo,a(B.value.app_name[0]),1)):U("",!0)]),e("div",jo,[Ho,Q(e("select",{"onUpdate:modelValue":y[1]||(y[1]=v=>u.value.date_format=v),class:"form-control"},zo,512),[[ke,u.value.date_format]]),B.value&&B.value.date_format?(t(),s("span",Go,a(B.value.date_format[0]),1)):U("",!0)]),e("div",Qo,[Wo,Q(e("input",{"onUpdate:modelValue":y[2]||(y[2]=v=>u.value.pagination_limit=v),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[le,u.value.pagination_limit]]),B.value&&B.value.pagination_limit?(t(),s("span",Ko,a(B.value.pagination_limit[0]),1)):U("",!0)])]),Xo],32)]),e("div",Jo,[d.value.length>0?(t(),s("div",Zo,[p.value?(t(),de(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[el,tl]),_:1})):U("",!0),(t(!0),s(R,null,H(d.value,v=>(t(),s("ul",{class:"list-group",key:v.id},[v.is_active===1?(t(),s("li",sl,[e("div",al,[e("div",ol,[e("i",{onClick:b=>C(v),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.is_active===1,"fa fa-circle text-primary":v.is_active===0}),style:{"font-size":"15px"}},null,10,ll),e("span",{class:E({"font-italic text-red":v.is_active===0,"":v.is_active===1})},a(v.site_name),3)]),e("div",nl,[e("i",{class:"fa fa-pen text-success",onClick:b=>D.edit(v)},null,8,dl)])])])):U("",!0)]))),128)),e("li",il,[M.value>0?(t(),s("button",{key:0,class:"btn btn-sm bg-danger",onClick:f},[e("i",{class:E(["fa",l.value?"fa-arrow-down":"fa-arrow-right"])},null,2),P(" \xA0Deactive List "+a(M.value),1)])):U("",!0)]),l.value?(t(),s("div",cl,[(t(!0),s(R,null,H(d.value,v=>(t(),s("ul",{class:"list-group",key:v.id},[v.is_active===0?(t(),s("li",rl,[e("div",ul,[e("div",_l,[e("i",{onClick:b=>C(v),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.is_active===1,"fa fa-circle text-primary":v.is_active===0}),style:{"font-size":"15px"}},null,10,ml),e("span",{class:E({"font-italic text-red":v.is_active===0,"":v.is_active===1})},[e("del",null,a(v.site_name),1)],2)]),e("div",hl,[v.is_active===1?(t(),s("i",{key:0,class:"fa fa-pen text-success mr-2",onClick:b=>D.edit(v)},null,8,pl)):U("",!0)])])])):U("",!0)]))),128))])):U("",!0)])):(t(),s("div",vl,fl)),w(i(be),{ref:"form",onSubmit:_,"initial-values":k.value},{default:Z(()=>[w(i(W),{name:"id",modelValue:x.value.id,"onUpdate:modelValue":y[4]||(y[4]=v=>x.value.id=v),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[w(i(W),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:x.value.site_name,"onUpdate:modelValue":y[5]||(y[5]=v=>x.value.site_name=v),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=he(yl,[["__scopeId","data-v-340371f4"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Ml={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Dl={class:"text-center"},Al=["src"],Vl={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Fl={class:"card"},Pl=me('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Il={class:"card-body"},Ll={class:"tab-content"},Yl={class:"tab-pane active",id:"profile"},Bl={class:"form-group row"},Nl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Rl={class:"col-sm-10"},ql={key:0,class:"text-danger text-sm"},jl={class:"form-group row"},Hl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),P(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),P(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const u=ce(),n=re(),l=c([]),d=()=>{axios.put("/api/profile",{name:u.user.name,first_name:u.user.first_name,last_name:u.user.last_name,email:u.user.email,role:u.user.role}).then(M=>{n.success("Profile updated successfully!")}).catch(M=>{M.response&&M.response.status===422&&(l.value=M.response.data.errors)})},p=Ue({currentPassword:"",password:"",passwordConfirmation:""}),k=()=>{l.value="",axios.post("/api/change-user-password",p).then(M=>{n.success(M.data.message);for(const f in p)p[f]=""}).catch(M=>{M.response&&M.response.status===422&&(l.value=M.response.data.errors)})},x=c(null),Y=()=>{x.value.click()},m=M=>{const f=M.target.files[0];u.user.avatar=URL.createObjectURL(f);const _=new FormData;_.append("profile_picture",f),axios.post("/api/upload-profile-image",_).then(C=>{n.success("Image uploaded successfully!")})};return(M,f)=>(t(),s("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Ml,[e("div",Ul,[e("div",Dl,[e("input",{onChange:m,ref_key:"fileInput",ref:x,type:"file",class:"d-none"},null,544),e("img",{onClick:Y,class:"profile-user-img img-circle",src:i(u).user.avatar,alt:"User profile picture"},null,8,Al)]),e("h3",Vl,a(i(u).user.name),1),e("p",El,a(i(u).user.role),1)])])]),e("div",Tl,[e("div",Fl,[Pl,e("div",Il,[e("div",Ll,[e("div",Yl,[e("form",{onSubmit:f[4]||(f[4]=te(_=>d(),["prevent"])),class:"form-horizontal"},[e("div",Bl,[Nl,e("div",Rl,[Q(e("input",{"onUpdate:modelValue":f[0]||(f[0]=_=>i(u).user.name=_),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[le,i(u).user.name]]),l.value&&l.value.name?(t(),s("span",ql,a(l.value.name[0]),1)):U("",!0)])]),e("div",jl,[Hl,e("div",Ol,[Q(e("input",{"onUpdate:modelValue":f[1]||(f[1]=_=>i(u).user.first_name=_),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[le,i(u).user.first_name]]),l.value&&l.value.first_name?(t(),s("span",zl,a(l.value.first_name[0]),1)):U("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[Q(e("input",{"onUpdate:modelValue":f[2]||(f[2]=_=>i(u).user.last_name=_),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[le,i(u).user.last_name]]),l.value&&l.value.last_name?(t(),s("span",Kl,a(l.value.last_name[0]),1)):U("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[Q(e("input",{"onUpdate:modelValue":f[3]||(f[3]=_=>i(u).user.email=_),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[le,i(u).user.email]]),l.value&&l.value.email?(t(),s("span",en,a(l.value.email[0]),1)):U("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:te(k,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[Q(e("input",{"onUpdate:modelValue":f[5]||(f[5]=_=>p.currentPassword=_),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[le,p.currentPassword]]),l.value&&l.value.current_password?(t(),s("span",nn,a(l.value.current_password[0]),1)):U("",!0)])]),e("div",dn,[cn,e("div",rn,[Q(e("input",{"onUpdate:modelValue":f[6]||(f[6]=_=>p.password=_),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[le,p.password]]),l.value&&l.value.password?(t(),s("span",un,a(l.value.password[0]),1)):U("",!0)])]),e("div",_n,[mn,e("div",hn,[Q(e("input",{"onUpdate:modelValue":f[7]||(f[7]=_=>p.passwordConfirmation=_),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[le,p.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1),wn={class:"input-group mb-3"},Cn=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),Sn={class:"row"},Mn={class:"col-12 mb-2"},Un=["disabled"],Dn={key:0,class:"spinner-border spinner-border-sm",role:"status"},An=e("span",{class:"sr-only"},"Loading...",-1),Vn=[An],En={key:1},Tn=e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"#",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1),Fn={__name:"Login",setup(o){const u=re();ce();const n=Be(),l=Ue({email:"",password:""}),d=c(!1),p=c(""),k=()=>{d.value=!0,p.value="",T.post("/login",l).then(()=>{n.push("/admin/dashboard"),u.success("Login Success")}).catch(x=>{u.error(x.response.data.message)}).finally(()=>{d.value=!1})};return(x,Y)=>(t(),s("div",bn,[e("div",fn,[$n,e("div",gn,[p.value?(t(),s("div",yn,a(p.value),1)):U("",!0),e("form",{onSubmit:te(k,["prevent"])},[e("div",kn,[xn,Q(e("input",{"onUpdate:modelValue":Y[0]||(Y[0]=m=>l.email=m),type:"email",class:"form-control",placeholder:"Email"},null,512),[[le,l.email]])]),e("div",wn,[Cn,Q(e("input",{"onUpdate:modelValue":Y[1]||(Y[1]=m=>l.password=m),type:"password",class:"form-control",placeholder:"Password"},null,512),[[le,l.password]])]),e("div",Sn,[e("div",Mn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:d.value},[d.value?(t(),s("div",Dn,Vn)):(t(),s("span",En,"Sign In"))],8,Un)])])],32),Tn])])]))}},Pn=["checked"],In=e("i",{class:"fa fa-edit"},null,-1),Ln=[In],Yn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Bn=[Yn],Nn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:u}){re();const n=o,l=u,d=()=>{l("toggleSelection",n.item)};return(p,k)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Pn)]),e("td",null,a(o.index+1),1),e("td",null,a(o.item.first_name)+" "+a(o.item.last_name),1),e("td",null,a(o.item.email),1),e("td",null,a(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:k[0]||(k[0]=te(x=>p.$emit("editUser",o.item),["prevent"]))},Ln),e("a",{href:"#",onClick:k[1]||(k[1]=te(x=>p.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Bn)])]))}},Rn={class:"content"},qn={class:"container-fluid"},jn={class:"d-flex justify-content-between"},Hn={class:"d-flex"},On=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),zn={key:0},Gn=e("i",{class:"fa fa-trash mr-1"},null,-1),Qn={class:"ml-2"},Wn={class:"card"},Kn={class:"card-body"},Xn={class:"table table-bordered"},Jn=e("th",{style:{width:"10px"}},"#",-1),Zn=e("th",null,"Name",-1),ed=e("th",null,"Email",-1),td=e("th",null,"Registered Date",-1),sd=e("th",null,"Options",-1),ad={key:0},od={key:1},ld=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),nd=[ld],dd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},id={class:"modal-dialog",role:"document"},cd={class:"modal-content"},rd={class:"modal-header"},ud={class:"modal-title",id:"staticBackdropLabel"},_d={key:0},md={key:1},hd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),pd={class:"modal-body"},vd={class:"form-group"},bd=e("label",{for:"fist_name"},"First Name",-1),fd={class:"invalid-feedback"},$d={class:"form-group"},gd=e("label",{for:"last_name"},"Last Name",-1),yd={class:"invalid-feedback"},kd={class:"form-group"},xd=e("label",{for:"email"},"Email",-1),wd={class:"invalid-feedback"},Cd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Sd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Md={class:"modal-dialog",role:"document"},Ud={class:"modal-content"},Dd=me('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Ad={class:"modal-footer"},Vd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Ed={__name:"ClientList",setup(o){const u=re(),n=c({data:[]}),l=c(!1),d=c(),p=c(null),k=(z=1)=>{T.get(`/api/clients?page=${z}`,{params:{query:X.value}}).then(K=>{n.value=K.data,B.value=[],F.value=!1})},x=ve({first_name:N().required(),last_name:N().required(),email:N().email().required()}),Y=ve({first_name:N().required(),last_name:N().required(),email:N().email().required()}),m=(z,{resetForm:K,setErrors:G})=>{T.post("/api/clients",z).then(ae=>{n.value.data.unshift(ae.data),$("#clientFormModal").modal("hide"),K(),u.success("User created successfully!")}).catch(ae=>{ae.response.data.errors&&G(ae.response.data.errors)})},M=()=>{l.value=!1,$("#clientFormModal").modal("show")},f=z=>{l.value=!0,p.value.resetForm(),$("#clientFormModal").modal("show"),d.value={id:z.id,first_name:z.first_name,last_name:z.last_name,email:z.email}},_=(z,{setErrors:K})=>{T.put("/api/clients/"+d.value.id,z).then(G=>{const ae=n.value.data.findIndex(L=>L.id===G.data.id);n.value.data[ae]=G.data,$("#clientFormModal").modal("hide"),u.success("Client updated successfully!")}).catch(G=>{K(G.response.data.errors),console.log(G)})},C=(z,K)=>{l.value?_(z,K):m(z,K)},X=c(null),B=c([]),O=z=>{const K=B.value.indexOf(z.id);K===-1?B.value.push(z.id):B.value.splice(K,1),console.log(B.value)},D=c(null),y=z=>{D.value=z,$("#deleteClientModal").modal("show")},v=()=>{T.delete(`/api/clients/${D.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Client deleted successfully!"),n.value.data=n.value.data.filter(z=>z.id!==D.value)})},b=()=>{T.delete("/api/clients",{data:{ids:B.value}}).then(z=>{n.value.data=n.value.data.filter(K=>!B.value.includes(K.id)),B.value=[],F.value=!1,u.success(z.data.message)})},F=c(!1),se=()=>{F.value?B.value=n.value.data.map(z=>z.id):B.value=[],console.log(B.value)};return pe(X,we.exports.debounce(()=>{k()},300)),ue(()=>{k()}),(z,K)=>(t(),s(R,null,[e("div",Rn,[e("div",qn,[e("div",jn,[e("div",Hn,[e("button",{onClick:M,type:"button",class:"mb-2 btn btn-primary"},[On,P(" Add New Client ")]),B.value.length>0?(t(),s("div",zn,[e("button",{onClick:b,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Gn,P(" Delete Selected ")]),e("span",Qn,"Selected "+a(B.value.length)+" clients",1)])):U("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":K[0]||(K[0]=G=>X.value=G),class:"form-control",placeholder:"Search..."},null,512),[[le,X.value]])])]),e("div",Wn,[e("div",Kn,[e("table",Xn,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":K[1]||(K[1]=G=>F.value=G),onChange:se},null,544),[[Se,F.value]])]),Jn,Zn,ed,td,sd])]),n.value.data.length>0?(t(),s("tbody",ad,[(t(!0),s(R,null,H(n.value.data,(G,ae)=>(t(),de(Nn,{key:G.id,item:G,index:ae,onEditUser:f,onConfirmUserDeletion:y,onToggleSelection:O,"select-all":F.value},null,8,["item","index","select-all"]))),128))])):(t(),s("tbody",od,nd))])])]),w(i(De),{data:n.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",dd,[e("div",id,[e("div",cd,[e("div",rd,[e("h5",ud,[l.value?(t(),s("span",_d,"Edit Client")):(t(),s("span",md,"Add New Client"))]),hd]),w(i(be),{ref_key:"form",ref:p,onSubmit:C,"validation-schema":l.value?i(Y):i(x),"initial-values":d.value},{default:Z(({errors:G})=>[e("div",pd,[e("div",vd,[bd,w(i(W),{name:"first_name",type:"text",class:E(["form-control",{"is-invalid":G.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",fd,a(G.first_name),1)]),e("div",$d,[gd,w(i(W),{name:"last_name",type:"text",class:E(["form-control",{"is-invalid":G.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",yd,a(G.last_name),1)]),e("div",kd,[xd,w(i(W),{name:"email",type:"email",class:E(["form-control",{"is-invalid":G.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",wd,a(G.email),1)])]),Cd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Sd,[e("div",Md,[e("div",Ud,[Dd,e("div",Ad,[Vd,e("button",{onClick:te(v,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Ne=o=>($e("data-v-36595330"),o=o(),ge(),o),Td={style:{"text-align":"center"}},Fd={key:0},Pd=Ne(()=>e("i",{class:"fa fa-edit"},null,-1)),Id=[Pd],Ld=Ne(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Yd=[Ld],Bd={key:1,style:{"text-align":"center"}},Nd={key:0},Rd=Ne(()=>e("i",{class:"fa fa-edit"},null,-1)),qd=[Rd],jd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:u}){re();const n=ce();return(l,d)=>{const p=Ce("router-link");return t(),s("tr",null,[e("td",null,a(o.item.recommnum),1),e("td",null,a(o.item.user),1),e("td",null,a(o.item.branch),1),e("td",null,a(o.item.department),1),e("td",null,a(o.item.created_user),1),e("td",Td,[o.item.statusid==2?(t(),de(p,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:E(["badge",`badge-${o.item.status.color}`])},a(o.item.status.name),3)]),_:1},8,["to"])):U("",!0),o.item.statusid!=2?(t(),s("span",{key:1,class:E(["badge",`badge-${o.item.status.color}`])},a(o.item.status.name),3)):U("",!0)]),e("td",null,a(o.item.created_at),1),i(n).user.role==="ADMIN"?(t(),s("td",Fd,[e("a",{href:"#",onClick:d[0]||(d[0]=te(k=>l.$emit("editUser",o.item),["prevent"]))},Id),e("a",{href:"#",onClick:d[1]||(d[1]=te(k=>l.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Yd)])):U("",!0),i(n).user.role==="USER"?(t(),s("td",Bd,[o.item.statusid!=2?(t(),s("div",Nd,[o.item.created_by==i(n).user.id?(t(),s("a",{key:0,href:"#",onClick:d[2]||(d[2]=te(k=>l.$emit("editUser",o.item),["prevent"]))},qd)):U("",!0)])):U("",!0)])):U("",!0)])}}};var Hd=he(jd,[["__scopeId","data-v-36595330"]]);const Od={class:"content"},zd={class:"container-fluid"},Gd={class:"d-flex justify-content-between"},Qd={class:"d-flex"},Wd=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Kd={key:0},Xd=e("i",{class:"fa fa-trash mr-1"},null,-1),Jd={class:"ml-2"},Zd={class:"card"},ei={class:"card-body"},ti=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),si=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),ai=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),oi=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),li={class:"dispatch-table"},ni={class:"table-responsive"},di={class:"table table-bordered table-sm"},ii=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ci={key:0},ri={key:1},ui=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),_i=[ui],mi=["item","index"],hi={class:"card"},pi={class:"card-body"},vi={class:"list-field"},bi=e("span",{class:"mb-1 dis"},"Tech #:",-1),fi={class:"list-field"},$i=e("span",{class:"mb-1 dis"},"User:",-1),gi={class:"list-field"},yi=e("span",{class:"mb-1 dis"},"Branch:",-1),ki={class:"list-field"},xi=e("span",{class:"mb-1 dis"},"Department:",-1),wi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"Created by:",-1),Si={class:"list-field"},Mi=e("span",{class:"mb-1 dis"},"Status:",-1),Ui={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Vi={class:"row"},Ei={key:0,class:"col"},Ti=["onClick"],Fi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Pi=["onClick"],Ii=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),P(" Remove ")],-1),Li=[Ii],Yi={key:0,class:"btn btnsm btn-success btn-block"},Bi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni={key:1,class:"col"},Ri={key:0},qi=["onClick"],ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Hi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Oi={class:"modal-dialog modal-lg",role:"document"},zi={class:"modal-content"},Gi={class:"modal-header"},Qi={class:"modal-title",id:"staticBackdropLabel"},Wi={key:0},Ki={key:1},Xi=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ji={class:"modal-body"},Zi={class:"col-md-12"},ec={class:"row"},tc={class:"col-6"},sc={class:"form-group"},ac=e("label",{for:"branch"},"Branch",-1),oc=e("option",{value:"",disabled:""}," Select Branch ",-1),lc=["value"],nc={class:"invalid-feedback"},dc={class:"form-group"},ic=e("label",{for:"department"},"Department",-1),cc={class:"invalid-feedback"},rc={class:"form-group"},uc=e("label",{for:"warehouse"},"warehouse",-1),_c={class:"invalid-feedback"},mc={class:"form-group"},hc=e("label",{for:"user"},"User",-1),pc={class:"invalid-feedback"},vc={class:"col-6"},bc={class:"form-group"},fc=e("label",{for:"brand"},"Brand",-1),$c={class:"form-group"},gc=e("label",{for:"model"},"Model",-1),yc={class:"invalid-feedback"},kc={class:"form-group"},xc=e("label",{for:"assettag"},"Asset tag",-1),wc={class:"invalid-feedback"},Cc={class:"form-group"},Sc=e("label",{for:"serialnum"},"Serial number",-1),Mc={class:"invalid-feedback"},Uc={class:"col-12"},Dc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Vc={class:"invalid-feedback"},Ec={class:"form-group"},Tc=e("label",{for:"assconducted"},"Assessment conducted",-1),Fc={class:"invalid-feedback"},Pc={class:"form-group"},Ic=e("label",{for:"recommendation"},"Recommendation",-1),Lc={class:"invalid-feedback"},Yc={class:"modal-footer"},Bc={key:0},Nc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),qc={class:"dropdown-menu",role:"menu"},jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Hc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Oc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zc={class:"modal-dialog",role:"document"},Gc={class:"modal-content"},Qc=me('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Wc={class:"modal-footer"},Kc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Xc={__name:"TechList",setup(o){const u=c(),n=c(),l=re(),d=c({data:[]});c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const p=()=>{T.get("/api/getsite").then(g=>{n.value=g.data.sites}).catch(g=>{console.log(g)})},k=c(!1),x=c(!1),Y=c(),m=Ue({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),M=ce();c(null);const f=(g=1)=>{k.value=!0,T.get(`/api/tech-recommendations?page=${g}`,{params:{query:b.value}}).then(h=>{k.value=!1,d.value=h.data,F.value=[],A.value=!1})},_=ve({branch:N().required(),department:N().required(),user:N().required(),problem:N().required(),assconducted:N().required(),brand:N().required()}),C=ve({branch:N().required(),department:N().required(),user:N().required(),problem:N().required(),assconducted:N().required(),brand:N().required()}),X=(g,{resetForm:h,setErrors:ee})=>{T.post("/api/tech-recommendations",g).then(S=>{d.value.data.unshift(S.data),$("#FormModal").modal("hide"),h(),l.success("Data created successfully!")}).catch(S=>{S.response.data.errors&&ee(S.response.data.errors)})},B=()=>{x.value=!1,$("#FormModal").modal("show")},O=()=>{m.id="",m.recommnum="",m.branch="",m.department="",m.warehouse="",m.user="",m.problem="",m.brand="",m.model="",m.assettag="",m.serialnum="",m.assconducted="",m.recommendation="",m.ceated_by=""},D=g=>{u.value=g.id,x.value=!0,O(),m.id=g.id,m.branch=g.branch,m.department=g.department,m.warehouse=g.warehouse,m.user=g.user,m.problem=g.problem,m.brand=g.brand,m.model=g.model,m.assettag=g.assettag,m.serialnum=g.serialnum,m.assconducted=g.assconducted,m.recommendation=g.recommendation,m.ceated_by=g.ceated_by,m.recommnum=g.recommnum,$("#FormModal").modal("show")},y=(g,{setErrors:h})=>{T.put("/api/tech-recommendations/"+g.id,g).then(ee=>{$("#FormModal").modal("hide"),l.success("successfully Updated!")}).catch(ee=>{h(ee.response.data.errors),console.log(ee)})},v=(g,h)=>{x.value?y(m,h):X(g,h)},b=c(null),F=c([]),se=g=>{const h=F.value.indexOf(g.id);h===-1?F.value.push(g.id):F.value.splice(h,1),console.log(F.value)},z=c(null),K=g=>{z.value=g,$("#deleteClientModal").modal("show")},G=()=>{T.delete(`/api/tech-recommendations/${z.value}`).then(()=>{$("#deleteClientModal").modal("hide"),l.success("Client deleted successfully!"),d.value.data=d.value.data.filter(g=>g.id!==z.value)})},ae=()=>{T.delete("/api/tech-recommendations",{data:{ids:F.value}}).then(g=>{d.value.data=d.value.data.filter(h=>!F.value.includes(h.id)),F.value=[],A.value=!1,l.success(g.data.message)})},L=g=>{T.post("/api/tech-getaction",{id:u.value,status:g}).then(h=>{$("#FormModal").modal("hide"),f()}).catch(h=>{console.log(h.message)})},A=c(!1);return pe(b,we.exports.debounce(()=>{f()},300)),ue(()=>{f(),p()}),(g,h)=>{const ee=Ce("router-link");return t(),s(R,null,[e("div",Od,[e("div",zd,[e("div",Gd,[e("div",Qd,[e("button",{onClick:B,type:"button",class:"mb-2 btn btn-primary"},[Wd,P(" TechRecom ")]),F.value.length>0?(t(),s("div",Kd,[e("button",{onClick:ae,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Xd,P(" Delete Selected ")]),e("span",Jd,"Selected "+a(F.value.length)+" techrecomm",1)])):U("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=S=>b.value=S),class:"form-control",placeholder:"Search..."},null,512),[[le,b.value]])])]),e("div",Zd,[e("div",ei,[k.value?(t(),de(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[ti,si,ai,oi]),_:1})):U("",!0),e("div",li,[e("div",ni,[e("table",di,[ii,d.value.data.length>0?(t(),s("tbody",ci,[(t(!0),s(R,null,H(d.value.data,(S,q)=>(t(),de(Hd,{key:S.id,item:S,index:q,onEditUser:D,onShowItem:g.viewItem,onConfirmUserDeletion:K,onToggleSelection:se,"select-all":A.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(t(),s("tbody",ri,_i))])])]),(t(!0),s(R,null,H(d.value.data,(S,q)=>(t(),s("div",{class:"dispatch-list",key:S.id,item:S,index:q},[e("div",hi,[e("div",pi,[e("div",vi,[bi,e("span",null,[e("b",null,a(S.recommnum),1)])]),e("div",fi,[$i,e("span",null,a(S.user),1)]),e("div",gi,[yi,e("span",null,a(S.branch),1)]),e("div",ki,[xi,e("span",null,a(S.department),1)]),e("div",wi,[Ci,e("span",null,a(S.created_user),1)]),e("div",Si,[Mi,S.statusid==2?(t(),de(ee,{key:0,to:`/admin/tech-approved/${S.recommnum}/view`,target:"_blank"},{default:Z(()=>[e("span",{class:E(["badge",`badge-${S.status.color}`])},a(S.status.name),3)]),_:2},1032,["to"])):U("",!0),S.statusid!=2?(t(),s("span",{key:1,class:E(["badge",`badge-${S.status.color}`])},a(S.status.name),3)):U("",!0)]),e("div",Ui,[Di,e("span",null,a(S.created_at),1)]),Ai,e("div",Vi,[i(M).user.role==="ADMIN"?(t(),s("div",Ei,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ee=>D(S)},[Fi,P(" Edit ")],8,Ti),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ee=>K(S.id)},Li,8,Pi),S.statusid==2?(t(),s("button",Yi,[Bi,P(" Download ")])):U("",!0)])):U("",!0),i(M).user.role==="USER"?(t(),s("div",Ni,[S.statusid!=2?(t(),s("div",Ri,[S.created_by==i(M).user.id?(t(),s("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ee=>D(S)},[ji,P(" Edit ")],8,qi)):U("",!0)])):U("",!0)])):U("",!0)])])])],8,mi))),128))])]),w(i(De),{data:d.value,onPaginationChangePage:f},null,8,["data"])])]),e("div",Hi,[e("div",Oi,[e("div",zi,[e("div",Gi,[e("h5",Qi,[x.value?(t(),s("span",Wi,"Edit Tech Recom.")):(t(),s("span",Ki,"Add New Tech Recom."))]),Xi]),w(i(be),{onSubmit:v,"validation-schema":x.value?i(C):i(_),"initial-values":Y.value},{default:Z(({errors:S})=>[e("div",Ji,[e("div",Zi,[e("div",ec,[e("div",tc,[w(i(W),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(M).user.id,"onUpdate:modelValue":h[1]||(h[1]=q=>i(M).user.id=q)},null,8,["modelValue"]),w(i(W),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:m.recommnum,"onUpdate:modelValue":h[2]||(h[2]=q=>m.recommnum=q)},null,8,["modelValue"]),e("div",sc,[ac,w(i(W),{as:"select",name:"branch",class:E(["form-control",{"is-invalid":S.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:m.branch,"onUpdate:modelValue":h[3]||(h[3]=q=>m.branch=q)},{default:Z(()=>[oc,(t(!0),s(R,null,H(n.value,q=>(t(),s("option",{key:q.site_name,value:q.site_name},a(q.site_name),9,lc))),128))]),_:2},1032,["class","modelValue"]),e("span",nc,a(S.branch),1)]),e("div",dc,[ic,w(i(W),{name:"department",type:"text",class:E(["form-control",{"is-invalid":S.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:m.department,"onUpdate:modelValue":h[4]||(h[4]=q=>m.department=q)},null,8,["class","modelValue"]),e("span",cc,a(S.department),1)]),e("div",rc,[uc,w(i(W),{name:"warehouse",type:"text",class:E(["form-control",{"is-invalid":S.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:m.warehouse,"onUpdate:modelValue":h[5]||(h[5]=q=>m.warehouse=q)},null,8,["class","modelValue"]),e("span",_c,a(S.warehouse),1)]),e("div",mc,[hc,w(i(W),{name:"user",type:"text",class:E(["form-control",{"is-invalid":S.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:m.user,"onUpdate:modelValue":h[6]||(h[6]=q=>m.user=q)},null,8,["class","modelValue"]),e("span",pc,a(S.user),1)])]),e("div",vc,[e("div",bc,[fc,w(i(W),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:m.brand,"onUpdate:modelValue":h[7]||(h[7]=q=>m.brand=q)},null,8,["modelValue"])]),e("div",$c,[gc,w(i(W),{name:"model",type:"text",class:E(["form-control",{"is-invalid":S.model}]),id:"model",modelValue:m.model,"onUpdate:modelValue":h[8]||(h[8]=q=>m.model=q),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",yc,a(S.model),1)]),e("div",kc,[xc,w(i(W),{name:"assettag",type:"text",class:E(["form-control",{"is-invalid":S.assettag}]),id:"assettag",modelValue:m.assettag,"onUpdate:modelValue":h[9]||(h[9]=q=>m.assettag=q),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",wc,a(S.assettag),1)]),e("div",Cc,[Sc,Q(e("input",{name:"serialnum",type:"text",class:E(["form-control",{"is-invalid":S.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":h[10]||(h[10]=q=>m.serialnum=q)},null,2),[[le,m.serialnum]]),e("span",Mc,a(S.serialnum),1)])]),e("div",Uc,[e("div",Dc,[Ac,w(i(W),{name:"problem",as:"textarea",class:E(["form-control",{"is-invalid":S.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:m.problem,"onUpdate:modelValue":h[11]||(h[11]=q=>m.problem=q)},null,8,["class","modelValue"]),e("span",Vc,a(S.problem),1)]),e("div",Ec,[Tc,w(i(W),{name:"assconducted",as:"textarea",class:E(["form-control",{"is-invalid":S.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:m.assconducted,"onUpdate:modelValue":h[12]||(h[12]=q=>m.assconducted=q)},null,8,["class","modelValue"]),e("span",Fc,a(S.assconducted),1)]),e("div",Pc,[Ic,w(i(W),{name:"recommendation",as:"textarea",class:E(["form-control",{"is-invalid":S.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:m.recommendation,"onUpdate:modelValue":h[13]||(h[13]=q=>m.recommendation=q)},null,8,["class","modelValue"]),e("span",Lc,a(S.recommendation),1)])])])])]),e("div",Yc,[x.value?(t(),s("div",Bc,[i(M).user.role==="ADMIN"?(t(),s("div",Nc,[e("button",{type:"button",onClick:h[14]||(h[14]=q=>L(2)),class:"btn btn-info"}," Approved "),Rc,e("div",qc,[e("span",{onClick:h[15]||(h[15]=q=>L(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:h[16]||(h[16]=q=>L(3)),class:"dropdown-item"},"Disapproved")])])):U("",!0)])):U("",!0),jc,Hc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Oc,[e("div",zc,[e("div",Gc,[Qc,e("div",Wc,[Kc,e("button",{onClick:te(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Ae=He("SettingStore",()=>{const o=c({app_name:""}),u=ft("SettingStore:theme",c("light"));return{setting:o,getSetting:async()=>{await T.get("/api/settings").then(d=>{o.value=d.data})},theme:u,changeTheme:()=>{u.value=u.value==="light"?"dark":"light"}}});const j=o=>($e("data-v-49b5e0a9"),o=o(),ge(),o),Jc={class:"content"},Zc={class:"container-fluid"},er={class:"card"},tr={class:"card-header"},sr={class:"card-title"},ar={class:"card-body"},or={class:"col-md-12"},lr={class:"d-flex justify-content-between"},nr=j(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),dr={class:"d-flex"},ir={class:"col-12",id:"accordion"},cr=j(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),rr=j(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ur=j(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),_r=j(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),mr={key:1},hr={key:0},pr={class:"card card-secondary"},vr={class:"card-body d-flex align-items-center justify-content-center"},br={class:"image-container"},fr=["src"],$r=j(()=>e("div",{class:"overlay"},null,-1)),gr={key:1},yr={class:"card-header bg-white"},kr={class:"card-title"},xr=["href"],wr=["src"],Cr={class:"card-tools"},Sr=["onClick"],Mr=j(()=>e("i",{class:"fas fa-tasks"},null,-1)),Ur=[Mr],Dr=["disabled","onClick"],Ar=["onClick"],Vr=j(()=>e("p",{class:"float-right"},null,-1)),Er=["id"],Tr={class:"card-body"},Fr={class:"col-md-12"},Pr={class:"dispatch-table"},Ir={class:"row"},Lr={class:"col-4"},Yr=j(()=>e("b",null,"Site:",-1)),Br=j(()=>e("b",null,"Planned Date:",-1)),Nr=j(()=>e("b",null,"Planned End Date:",-1)),Rr={class:"col-4"},qr=j(()=>e("b",null,"Start Date:",-1)),jr=j(()=>e("b",null,"Accomplished Date:",-1)),Hr={class:"closestatus"},Or=j(()=>e("b",{style:{color:"black"}},"Type:",-1)),zr={class:"col-4"},Gr={class:"ongoing"},Qr=j(()=>e("b",{style:{color:"black"}},"Status:",-1)),Wr=j(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Kr=j(()=>e("b",null,"Remarks:",-1)),Xr={style:{margin:"0.5%"}},Jr=["disabled","onClick"],Zr=["onClick","disabled"],eu={class:"dispatch-list"},tu={class:"list-group list-group-flush"},su={class:"list-group-item d-flex justify-content-between align-items-center"},au={class:"badge badge-primary badge-pill"},ou={class:"list-group-item d-flex justify-content-between align-items-center"},lu={class:"badge badge-primary badge-pill"},nu={class:"list-group-item d-flex justify-content-between align-items-center"},du={class:"badge badge-primary badge-pill"},iu={class:"list-group-item d-flex justify-content-between align-items-center"},cu={class:"badge badge-primary badge-pill"},ru={class:"list-group-item d-flex justify-content-between align-items-center"},uu={class:"badge badge-primary badge-pill"},_u={class:"list-group-item d-flex justify-content-between align-items-center"},mu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},vu={class:"list-group-item d-flex justify-content-between align-items-center"},bu={class:"badge badge-primary badge-pill"},fu=j(()=>e("hr",null,null,-1)),$u={class:"row"},gu={class:"col"},yu=["onClick"],ku=j(()=>e("i",{class:"fas fa-pen"},null,-1)),xu=["onClick"],wu=j(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),P(" Drop ")],-1)),Cu=[wu],Su={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mu={class:"modal-dialog modal-dialog-centered",role:"document"},Uu={class:"modal-content"},Du={class:"modal-header"},Au={class:"modal-title",id:"staticBackdropLabel"},Vu={key:0},Eu={key:1},Tu={key:2},Fu=j(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Pu={class:"modal-body"},Iu={class:"col-md-12"},Lu={class:"row"},Yu={class:"col-12"},Bu={class:"form-group"},Nu=j(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),Ru=j(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),qu=["value"],ju={key:0,class:"d-flex justify-content-between"},Hu={class:"d-flex"},Ou={class:"form-group"},zu=j(()=>e("label",{for:"end-time"},"Start Date",-1)),Gu={class:"form-group"},Qu=j(()=>e("label",{for:"end-time"},"Hour",-1)),Wu=["value"],Ku=j(()=>e("div",{class:"d-fex"},null,-1)),Xu={key:1,class:"d-flex justify-content-between"},Ju={class:"d-flex"},Zu={class:"form-group"},e_=j(()=>e("label",{for:"end-time"},"End Date",-1)),t_={class:"form-group"},s_=j(()=>e("label",{for:"end-time"},"Hour",-1)),a_=["value"],o_=j(()=>e("div",{class:"d-fex"},null,-1)),l_={class:"form-group"},n_=j(()=>e("label",{for:"site"},"Task",-1)),d_=j(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),i_=["value"],c_=j(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),r_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},u_={class:"modal-dialog modal-sm",role:"document"},__={class:"modal-content"},m_={class:"modal-header"},h_={class:"modal-title",id:"staticBackdropLabel"},p_=j(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),v_={class:"modal-body"},b_=me('<ul class="nav nav-tabs" id="myTabs" data-v-49b5e0a9><li class="nav-item" data-v-49b5e0a9><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-49b5e0a9> Todo List</a></li><li class="nav-item" data-v-49b5e0a9><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-49b5e0a9> Todo</a></li></ul>',1),f_={class:"tab-content"},$_={class:"tab-pane fade show active",id:"todolist"},g_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},y_=j(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),k_=j(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),x_={key:0,class:"list-group-item mt-2"},w_={class:"d-flex justify-content-between"},C_={class:"d-flex"},S_=["onClick"],M_={class:"d-flex"},U_=["onClick"],D_={class:"m-2 list-unstyled"},A_={key:1},V_={key:0,class:"list-group-item mt-2"},E_={class:"d-flex justify-content-between"},T_={class:"d-flex"},F_=["onClick"],P_={class:"d-flex"},I_=["onClick"],L_={key:1,class:"mt-2 text-center"},Y_=j(()=>e("span",null,"No Todo",-1)),B_=[Y_],N_={class:"tab-pane fade",id:"formTask"},R_={class:"col-md-12"},q_={class:"row"},j_={class:"col-12"},H_={class:"m-2",style:{display:"flex","align-items":"center"}},O_=j(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),P("\xA0Save ")])],-1)),z_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},G_={class:"modal-dialog",role:"document"},Q_={class:"modal-content"},W_=me('<div class="modal-header" data-v-49b5e0a9><h5 class="modal-title" id="staticBackdropLabel" data-v-49b5e0a9><span data-v-49b5e0a9>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-49b5e0a9><span aria-hidden="true" data-v-49b5e0a9>\xD7</span></button></div><div class="modal-body" data-v-49b5e0a9><h5 data-v-49b5e0a9>Are you sure you want to delete this record ?</h5></div>',2),K_={class:"modal-footer"},X_=j(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),J_={__name:"MyPrio",setup(o){const u=c(!1),n=c(!1),l=it("$swal");Ae();const d=re(),p=c({data:[]}),k=c([]);c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const x=c();c();const Y=c(!0),m=c(!1);c(!1),c();const M=c(),f=c(),_=c(),C=ce();c(null),c(!1);const X=c([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"VSC",value:4},{name:"WORK FROM HOME",value:6}]),B=c(),O=c("1:00 AM"),D=c(),y=c("1:00 AM"),v=c(Array.from({length:24},(V,I)=>{const r=I%12+1,oe=I<12?"AM":"PM";return`${r}:00 ${oe}`})),b=c(Array.from({length:24},(V,I)=>{const r=I%12+1,oe=I<12?"AM":"PM";return`${r}:00 ${oe}`})),F=Ue({dailytask_id:"",site:"",user_id:C.user.id,tasktype:0,plandate:"",planenddate:""});pe([B,O],()=>{const V=new Date(B.value),I=V.getFullYear(),r=String(V.getMonth()+1).padStart(2,"0"),oe=String(V.getDate()).padStart(2,"0");F.plandate=`${I}-${r}-${oe} ${O.value}`}),pe([D,y],()=>{const V=new Date(D.value),I=V.getFullYear(),r=String(V.getMonth()+1).padStart(2,"0"),oe=String(V.getDate()).padStart(2,"0");F.planenddate=`${I}-${r}-${oe} ${y.value}`});const se=c({id:"",dailytask_id:"",task_name:"",iscompleted:0}),z=()=>{T.get("/api/getsite").then(V=>{x.value=V.data.sites}).catch(V=>{console.log(V)})},K=()=>{u.value=!0,T.get("/api/dailytask",{params:{query:Te.value}}).then(V=>{u.value=!1,p.value=V.data,tt.value=[]})},G=async V=>{(await l({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(u.value=!0,T.put(`/api/dailytask/drop/${V}`).then(r=>{d.success("Data drop successfully!"),u.value=!1,K()}))},ae=()=>{$("#FormModalTask").modal("show")},L=V=>{ae(),se.value.dailytask_id=V.dailytask_id,f.value=V.taskdate,_.value=V.startdate,n.value=!0,T.get(`/api/dailytask/${V.dailytask_id}/tasks`).then(I=>{k.value=I.data,ae(),n.value=!1}).catch(I=>{console.error("Error fetching tasks:",I)})},A=()=>{n.value=!0,T.post("/api/dailytask/addnewTask",{dailytask_id:se.value.dailytask_id,task_name:se.value.task_name,iscompleted:se.value.iscompleted}).then(V=>{d.success("Data created successfully!"),T.get(`/api/dailytask/${se.value.dailytask_id}/tasks`).then(I=>{k.value=I.data,n.value=!1}).catch(I=>{console.error("Error fetching tasks:",I),d.error("Error fetching tasks. Please try again.")}),se.value.task_name=""}).catch(V=>{console.error("Error adding new task:",V),d.error("Error adding new task. Please try again.")})},g=V=>{se.value.iscompleted=V.iscompleted===1?0:1,T.post("/api/dailytask/addnewTask",{id:V.id,dailytask_id:V.dailytask_id,task_name:V.task_name,iscompleted:se.value.iscompleted}).then(I=>{T.get(`/api/dailytask/${V.dailytask_id}/tasks`).then(r=>{k.value=r.data}).catch(r=>{console.error("Error fetching tasks:",r),d.error("Error fetching tasks. Please try again.")})}).catch(I=>{console.error("Error adding new task:",I),d.error("Error adding new task. Please try again.")})},h=fe(()=>Array.isArray(k.value)?k.value.filter(V=>V.iscompleted===1):[]),ee=fe(()=>h.value.length),S=()=>{Y.value=!Y.value},q=V=>{T.delete(`/api/dailytask/deleteTask/${V.id}`).then(I=>{T.get(`/api/dailytask/${V.dailytask_id}/tasks`).then(r=>{k.value=r.data,d.success("Todo successfull Deleted")}).catch(r=>{console.error("Error fetching tasks:",r),d.error("Error fetching tasks. Please try again.")})}).catch(I=>{console.error("Error adding new task:",I),d.error("Error adding new task. Please try again.")})};ve({site:N().required(),tasktype:N().required(),plandate:N().required(),planenddate:N().required()}),ve({site:N().required(),tasktype:N().required(),plandate:N().required(),planenddate:N().required()});const Ee=(V,I)=>{T.post("/api/dailytask",F).then(r=>{console.log(r.data),K(),$("#FormModal").modal("hide"),d.success("data created successfully!")}).catch(r=>{I.setErrors(r.response.data.errors)})},Xe=(V,I)=>{T.put("/api/dailytask/"+F.dailytask_id,F).then(r=>{console.log(r.data),K(),$("#FormModal").modal("hide"),d.success("data update successfully!")}).catch(r=>{I.setErrors(r.response.data.errors)})},Ie=V=>{V&&V.dailytask_id!==null&&V.dailytask_id!==void 0?(m.value=!0,M.value=" on "+ie(V.taskdate).format("MMMM D, YYYY"),F.site=V.site,F.dailytask_id=V.dailytask_id,F.plandate=V.plandate,F.planenddate=V.planenddate):m.value=!1,z(),$("#FormModal").modal("show")},Je=(V,I)=>{m.value?Xe(V,I):Ee(V,I)},Ze=async V=>{try{const I=await T.get(`/api/dailytask/${V.dailytask_id}/tasks`);if(k.value=I.data,!k.value||k.value.length===0){l.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await l.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const oe=await T.put("/api/dailytask/onhandler/"+V.dailytask_id,V);d.success(oe.data.message),K()}}catch(I){console.error("Error fetching tasks:",I),d.error("An error occurred while updating the task.")}},et=async V=>{if((await l({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ie(V.taskdate).format("YYYY-MM-DD")===ie().format("YYYY-MM-DD")?(V.remarks="HIT",V.status="On Schedule"):(V.remarks="MISS",V.status="Behind Schedule");const oe=await T.put("/api/dailytask/onhandler/"+V.dailytask_id,V);d.success(oe.data.message),K()}catch(r){console.error(r),d.error("An error occurred while updating the task.")}},Te=c(null),tt=c([]),Re=c(null),st=()=>{T.delete(`/api/tech-recommendations/${Re.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),p.value.data=p.value.data.filter(V=>V.id!==Re.value)})};return pe(Te,we.exports.debounce(()=>{K()},300)),ue(()=>{Oe(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),K()}),(V,I)=>(t(),s(R,null,[e("div",Jc,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,a(i(C).user.first_name+" "+i(C).user.last_name)+" - My Prio ",1)]),e("div",ar,[e("div",or,[e("div",lr,[e("div",{class:"d-flex"},[e("button",{onClick:Ie,type:"button",class:"mb-2 btn btn-primary"},[nr,P(" Task ")])]),e("div",dr,[Q(e("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=r=>Te.value=r),class:"form-control",placeholder:"Search..."},null,512),[[le,Te.value]])])]),e("div",ir,[u.value?(t(),de(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[cr,rr,ur,_r]),_:1})):(t(),s("div",mr,[p.value.length===0?(t(),s("div",hr,[e("div",pr,[e("div",vr,[e("div",br,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,fr),$r])])])])):(t(),s("div",gr,[(t(!0),s(R,null,H(p.value,r=>(t(),s("div",{class:"card card-primary",key:r.id},[e("div",yr,[e("h4",kr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+r.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,wr),P(" \xA0"),e("b",null,a(i(ie)(r.taskdate).format("MMMM D, YYYY")),1)],8,xr)]),e("div",Cr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:oe=>L(r)},Ur,8,Sr),e("button",{disabled:r.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:oe=>et(r)}," End ",8,Dr),r.startdate?U("",!0):(t(),s("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:oe=>Ze(r)}," Start ",8,Ar)),Vr])]),e("div",{id:"collapse"+r.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Tr,[e("div",Fr,[e("div",Pr,[e("div",Ir,[e("div",Lr,[e("h5",null,[Yr,P(" "+a(r.site_name),1)]),e("h5",null,[Br,P(" "+a(r.plandate),1)]),e("h5",null,[Nr,P(" "+a(r.planenddate),1)])]),e("div",Rr,[e("h5",null,[qr,P(" "+a(r.startdate!==null?i(ie)(r.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[jr,P(" "+a(r.enddate!==null?i(ie)(r.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Hr,[Or,P(" "+a(r.tasktype?r.tasktype.join(", "):""),1)])]),e("div",zr,[e("h5",Gr,[Qr,P(" "+a(r.status),1)]),e("h5",null,[Wr,P(" "+a(r.attachment),1)]),e("h5",null,[Kr,P(" "+a(r.remarks),1)])])]),e("div",Xr,[e("button",{disabled:r.startdate!==null,onClick:oe=>G(r.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Jr),e("button",{onClick:oe=>Ie(r),type:"button",disabled:r.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,Zr)])]),e("div",eu,[e("ul",tu,[e("li",su,[P(" Site: "),e("span",au,a(r.site_name),1)]),e("li",ou,[P(" Planned Date: "),e("span",lu,a(r.plandate),1)]),e("li",nu,[P(" Planned End Date: "),e("span",du,a(r.planenddate),1)]),e("li",iu,[P(" Start Date: "),e("span",cu,a(r.startdate!==null?i(ie)(r.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",ru,[P(" Type: "),e("span",uu,a(r.tasktype?r.tasktype.join(", "):""),1)]),e("li",_u,[P(" Status: "),e("span",mu,a(r.status),1)]),e("li",hu,[P(" Attachment: "),e("span",pu,a(r.attachment),1)]),e("li",vu,[P(" Remarks: "),e("span",bu,a(r.remarks),1)])]),fu,e("div",$u,[e("div",gu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:oe=>Ie(r)},[ku,P(" Edit ")],8,yu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:oe=>G(r.dailytask_id)},Cu,8,xu)])])])])])],8,Er)]))),128))]))]))])])])])])]),e("div",Su,[e("div",Mu,[e("div",Uu,[e("div",Du,[e("h5",Au,[m.value?(t(),s("span",Vu,"Edit My Task")):(t(),s("span",Eu,"Add My Task")),m.value?(t(),s("span",Tu,a(M.value),1)):U("",!0)]),Fu]),w(i(be),{onSubmit:Je},{default:Z(()=>[e("div",Pu,[e("div",Iu,[e("div",Lu,[e("div",Yu,[w(i(W),{modelValue:F.user_id,"onUpdate:modelValue":I[1]||(I[1]=r=>F.user_id=r),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Bu,[Nu,Q(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":I[2]||(I[2]=r=>F.site=r)},[Ru,(t(!0),s(R,null,H(x.value,r=>(t(),s("option",{key:r.id,value:r.id},a(r.site_name),9,qu))),128))],512),[[ke,F.site]])]),m.value==!1?(t(),s("div",ju,[e("div",Hu,[e("div",Ou,[zu,w(i(Me),{class:"form-control",modelValue:B.value,"onUpdate:modelValue":I[3]||(I[3]=r=>B.value=r)},null,8,["modelValue"])]),e("div",Gu,[Qu,Q(e("select",{class:"form-control","onUpdate:modelValue":I[4]||(I[4]=r=>O.value=r),id:"plandate"},[(t(!0),s(R,null,H(v.value,r=>(t(),s("option",{key:r,value:r},a(r),9,Wu))),128))],512),[[ke,O.value]])])]),Ku])):U("",!0),m.value==!1?(t(),s("div",Xu,[e("div",Ju,[e("div",Zu,[e_,w(i(Me),{class:"form-control",modelValue:D.value,"onUpdate:modelValue":I[5]||(I[5]=r=>D.value=r)},null,8,["modelValue"])]),e("div",t_,[s_,Q(e("select",{class:"form-control","onUpdate:modelValue":I[6]||(I[6]=r=>y.value=r),id:"plandate"},[(t(!0),s(R,null,H(b.value,r=>(t(),s("option",{key:r,value:r},a(r),9,a_))),128))],512),[[ke,y.value]])])]),o_])):U("",!0),e("div",l_,[n_,w(i(W),{name:"tasktype"},{default:Z(()=>[Q(e("select",{"onUpdate:modelValue":I[7]||(I[7]=r=>F.tasktype=r),class:"form-control",required:!0},[d_,(t(!0),s(R,null,H(X.value,r=>(t(),s("option",{key:r.value,value:r.value},a(r.name),9,i_))),128))],512),[[ke,F.tasktype]])]),_:1})])])])])]),c_]),_:1})])])]),e("div",r_,[e("div",u_,[e("div",__,[e("div",m_,[e("h5",h_," My Todo of "+a(i(ie)(f.value).format("MM/D/YYYY")),1),p_]),e("div",v_,[b_,e("div",f_,[e("div",$_,[k.value.length>0?(t(),s("div",g_,[n.value?(t(),de(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[y_,k_]),_:1})):U("",!0),(t(!0),s(R,null,H(k.value,r=>(t(),s("ul",{class:"list-group",key:r.id},[r.iscompleted!==1?(t(),s("li",x_,[e("div",w_,[e("div",C_,[_.value?(t(),s("i",{key:0,onClick:oe=>g(r),class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":r.iscompleted===1,"fa fa-circle text-primary":r.iscompleted!==1}),style:{"font-size":"15px"}},null,10,S_)):U("",!0),e("span",{class:E({"font-italic":r.iscompleted===1,"":r.iscompleted!==1})},a(r.task_name),3)]),e("div",M_,[e("i",{class:"fa fa-trash text-danger",onClick:oe=>q(r)},null,8,U_)])])])):U("",!0)]))),128)),e("li",D_,[ee.value>0?(t(),s("button",{key:0,class:"btn btn-sm bg-secondary",onClick:S},[e("i",{class:E(["fa",Y.value?"fa-arrow-down":"fa-arrow-right"])},null,2),P(" \xA0Completed "+a(ee.value),1)])):U("",!0)]),Y.value?(t(),s("div",A_,[(t(!0),s(R,null,H(k.value,r=>(t(),s("ul",{class:"list-group",key:r.id},[r.iscompleted===1?(t(),s("li",V_,[e("div",E_,[e("div",T_,[e("i",{class:E({"cursor-pointer mr-2":!0,"fa fa-check-circle":r.iscompleted===1,"fa fa-circle":r.iscompleted!==1}),style:{"font-size":"15px"},onClick:oe=>g(r)},null,10,F_),e("span",{class:E({"font-italic":r.iscompleted===1,"":r.iscompleted!==1})},[e("del",null,a(r.task_name),1)],2)]),e("div",P_,[e("i",{class:"fa fa-trash text-danger",onClick:oe=>q(r)},null,8,I_)])])])):U("",!0)]))),128))])):U("",!0)])):(t(),s("div",L_,B_))]),e("div",N_,[w(i(be),{onSubmit:A},{default:Z(()=>[e("div",R_,[e("div",q_,[e("div",j_,[w(i(W),{modelValue:se.value.dailytask_id,"onUpdate:modelValue":I[8]||(I[8]=r=>se.value.dailytask_id=r),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",H_,[w(i(W),{modelValue:se.value.task_name,"onUpdate:modelValue":I[9]||(I[9]=r=>se.value.task_name=r),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),O_]),_:1})])])])])])]),e("div",z_,[e("div",G_,[e("div",Q_,[W_,e("div",K_,[X_,e("button",{onClick:te(st,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var Z_=he(J_,[["__scopeId","data-v-49b5e0a9"]]);const em={class:"text-center"},tm={key:0},sm={class:"text-center"},am={key:0},om={class:"text-center"},lm={key:0},nm={key:0,class:"bg-success text-center"},dm={key:1,class:"bg-danger text-center"},im={key:2,class:"text-center"},cm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return re(),ce(),(u,n)=>(t(),s("tr",null,[e("td",null,a(i(ie)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",em,[o.item.task_lists_count!==0?(t(),s("span",tm,a(o.item.task_lists_count),1)):U("",!0)]),e("td",sm,[o.item.completed_task_count!==0?(t(),s("span",am,a(o.item.completed_task_count),1)):U("",!0)]),e("td",om,[o.item.status!=="On Going"?(t(),s("span",lm,a(o.item.status),1)):U("",!0)]),o.item.remarks==="HIT"?(t(),s("td",nm,a(o.item.remarks),1)):o.item.remarks==="MISS"?(t(),s("td",dm,a(o.item.remarks),1)):o.item.remarks===null?(t(),s("td",im,a(o.item.startdate!=null?"On Going!":""),1)):U("",!0),e("td",{class:E({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},a(o.item.percentage_completed+"%"),3)]))}};const ne=o=>($e("data-v-6e644549"),o=o(),ge(),o),rm={class:"content-header"},um={class:"container-fluid"},_m={class:"col-12"},mm={class:"card",id:"captureVSCContainer"},hm={class:"card-header"},pm={class:"card-title"},vm={class:"card-tools"},bm={class:"card-body"},fm=ne(()=>e("i",{class:"fa fa-camera"},null,-1)),$m=[fm],gm=ne(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),ym=ne(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),km=ne(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),xm=ne(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),wm={key:1,class:"row"},Cm={class:"inner"},Sm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Mm=["src"],Um={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Dm={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Am={style:{"text-align":"left"}},Vm={key:0},Em=ne(()=>e("span",{class:"text-light badge"},"Todos",-1)),Tm={class:"list-group list-group-flush"},Fm={style:{display:"flex","align-items":"left"}},Pm={class:"ml-1"},Im={class:"ml-1"},Lm={key:1},Ym={class:"float-right"},Bm={id:"captureHitRateContainer",class:"card"},Nm={class:"card-header"},Rm={class:"card-title"},qm={class:"card-body"},jm={class:"content"},Hm={class:"container-fluid"},Om=ne(()=>e("i",{class:"fa fa-camera"},null,-1)),zm=[Om],Gm={class:"dispatch-table"},Qm={class:"table-responsive"},Wm={class:"table table-bordered table-hover table-sm"},Km=ne(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),Xm=["item"],Jm={class:"list-field"},Zm=ne(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),eh={class:"list-field"},th=ne(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),sh={key:0},ah={class:"list-field"},oh=ne(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),lh={key:0},nh={class:"list-field"},dh=ne(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),ih={class:"list-field"},ch=ne(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),rh={class:"list-field"},uh=ne(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),_h={class:"float-right"},mh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},hh={class:"modal-dialog modal-sm",role:"document"},ph={class:"modal-content"},vh=ne(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My VSC Summary Report")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),bh={class:"modal-body"},fh={class:"fromtocenter"},$h=ne(()=>e("label",{for:"fromDate"},"From:",-1)),gh=ne(()=>e("label",{for:"toDate"},"To:",-1)),yh=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),kh={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xh={class:"modal-dialog modal-sm",role:"document"},wh={class:"modal-content"},Ch=ne(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Sh={class:"modal-body"},Mh={class:"container"},Uh={class:"row"},Dh=["onClick"],Ah=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Vh={__name:"MyVsc",setup(o){const u=ce(),n=c(!1),l=c([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),p=c((()=>{const y={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",y)})()),k=()=>{const y=document.getElementById("captureVSCContainer");Ye(y).then(v=>{const b=v.toDataURL(),F=document.createElement("a");F.href=b,F.download="My VSC.png",F.click()})},x=()=>{const y=document.getElementById("captureHitRateContainer");Ye(y).then(v=>{const b=v.toDataURL(),F=document.createElement("a");F.href=b,F.download="My HITRATE.png",F.click()})};c(null),c("today");const Y=c({data:[]}),m=c({data:[]}),M=()=>{n.value=!0,axios.get("/api/myvsc").then(y=>{n.value=!1,Y.value=y.data.dailyTasks,m.value=y.data.TaskList})},f=()=>{$("#FormModalfilterDate").modal("show")},_=c({start_date:"",end_date:""}),C=c(""),X=c("");pe([C],()=>{const y=new Date(C.value),v=y.getFullYear(),b=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");_.value.start_date=`${v}-${b}-${F}`}),pe([X],()=>{const y=new Date(X.value),v=y.getFullYear(),b=String(y.getMonth()+1).padStart(2,"0"),F=String(y.getDate()).padStart(2,"0");_.value.end_date=`${v}-${b}-${F}`});const B=()=>{n.value=!0,axios.get("/api/filter-vsc",{params:{start_date:_.value.start_date,end_date:_.value.end_date}}).then(y=>{n.value=!1,Y.value=y.data.dailyTasks,m.value=y.data.TaskList}).catch(y=>{console.error(y)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},O=()=>{$("#FormModalPickerThemes").modal("show")},D=y=>{if(y){const v=u.user.id;axios.post("/api/changethemes",{userid:v,background:y.background,active_background:y.active_background,font_background:y.font_background}).then(b=>{$("#FormModalPickerThemes").modal("hide"),n.value=!0,axios.get("/api/myvsc").then(F=>{n.value=!1,Y.value=F.data.dailyTasks,m.value=F.data.TaskList})}).catch(b=>{console.error(b)})}else console.error("Invalid item:",y)};return ue(()=>{M()}),(y,v)=>(t(),s(R,null,[e("div",rm,[e("div",um,[e("div",_m,[e("div",mm,[e("div",hm,[e("div",pm,[e("h5",null,a(i(u).user.first_name+" "+i(u).user.last_name)+" - My VSC ",1)]),e("div",vm,[e("i",{onClick:v[0]||(v[0]=b=>O()),class:"fas fa-palette"})])]),e("div",bm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:k,type:"button",class:"mb-2 btn btn-sm btn-success"},$m)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:f})])]),n.value?(t(),de(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[gm,ym,km,xm]),_:1})):(t(),s("div",wm,[(t(!0),s(R,null,H(Y.value,b=>(t(),s("div",{class:"col-lg-3 col-6",key:b.id},[e("div",{class:"small-box",style:Le("background-color: "+(i(ie)(b.taskdate).format("MMMM D, YYYY")===p.value?b.active_background==""?"#72461F":b.active_background:b.background==""?"#B98D65":b.background)+";")},[e("div",Cm,[e("div",Sm,[P(a(i(ie)(b.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Mm)]),e("div",Um,a(i(ie)(b.taskdate).format("MMMM D, YYYY")),1),e("div",Dm,a(b.site_name),1),e("div",Am,[b.task_lists&&b.task_lists.length>0?(t(),s("div",Vm,[Em,e("ul",Tm,[(t(!0),s(R,null,H(b.task_lists,F=>(t(),s("li",{class:"list-group-item",key:F.id},[e("div",Fm,[e("div",Pm,[e("i",{class:E(F.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Im,a(F.task_name),1)])]))),128))])])):(t(),s("span",Lm))])])],4)]))),128))])),e("div",Ym,a(p.value),1)])]),e("div",Bm,[e("div",Nm,[e("div",Rm,[e("h5",null,a(i(u).user.first_name+" "+i(u).user.last_name)+" - My HIT RATE ",1)])]),e("div",qm,[e("div",jm,[e("div",Hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:x,type:"button",class:"mb-2 btn btn-sm btn-success"},zm)])]),e("div",Gm,[e("div",Qm,[e("table",Wm,[Km,e("tbody",null,[(t(!0),s(R,null,H(m.value,b=>(t(),de(cm,{key:b.id,item:b},null,8,["item"]))),128))])])])]),(t(!0),s(R,null,H(m.value,b=>(t(),s("div",{class:"dispatch-list",key:b.id,item:b},[e("div",{class:E([{"callout callout-success":b.remarks==="HIT","callout callout-danger":b.remarks==="MISS",callout:b.remarks===null}])},[e("div",Jm,[Zm,e("span",null,a(i(ie)(b.taskdate).format("MMMM D, YYYY")),1)]),e("div",eh,[th,b.task_lists_count!==0?(t(),s("span",sh,a(b.task_lists_count),1)):U("",!0)]),e("div",ah,[oh,b.completed_task_count!==0?(t(),s("span",lh,a(b.completed_task_count),1)):U("",!0)]),e("div",nh,[dh,e("span",null,[e("b",null,a(b.status),1)])]),e("div",ih,[ch,e("span",{class:E(["badge",b.remarks==="HIT"?"bg-success":"bg-danger"])},a(b.remarks),3)]),e("div",rh,[uh,e("span",{class:E(["badge",{"bg-danger":b.percentage_completed>=0&&b.percentage_completed<=59},{"bg-orange":b.percentage_completed>60&&b.percentage_completed<=90},{"bg-success":b.percentage_completed===100}])},a(b.percentage_completed+"%"),3)])],2)],8,Xm))),128))])]),e("div",_h,a(p.value),1)])])])])]),e("div",mh,[e("div",hh,[e("div",ph,[vh,e("div",bh,[e("div",fh,[e("div",null,[$h,w(i(Me),{modelValue:C.value,"onUpdate:modelValue":v[1]||(v[1]=b=>C.value=b)},null,8,["modelValue"])]),e("div",null,[gh,w(i(Me),{modelValue:X.value,"onUpdate:modelValue":v[2]||(v[2]=b=>X.value=b)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[yh,e("button",{onClick:B,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",kh,[e("div",xh,[e("div",wh,[Ch,e("div",Sh,[e("div",Mh,[e("div",Uh,[(t(!0),s(R,null,H(l.value,b=>(t(),s("div",{class:"col-md-4",key:b.background},[e("div",{class:"box",onClick:F=>D(b)},[e("div",{class:"column",style:Le({"background-color":b.background})},"\xA0",4),e("div",{class:"column",style:Le({"background-color":b.active_background})},"\xA0",4)],8,Dh)]))),128))])])]),Ah])])])],64))}};var Eh=he(Vh,[["__scopeId","data-v-6e644549"]]);const Th={class:"text-center"},Fh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return re(),ce(),(u,n)=>(t(),s("tr",null,[e("td",null,a(o.item.sitename),1),e("td",null,a(i(ie)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,a(o.item.startdate),1),e("td",null,a(o.item.enddate),1),e("td",null,a(o.item.tasktype.listtask),1),e("td",null,a(o.item.status),1),e("td",Th,[e("span",{class:E(["badge",o.item.remarks==="HIT"?"bg-primary":"bg-danger"])},a(o.item.remarks),3)])]))}};var Ph=he(Fh,[["__scopeId","data-v-50315b62"]]);const _e=o=>($e("data-v-368dbe6c"),o=o(),ge(),o),Ih={class:"content"},Lh={class:"container-fluid"},Yh={class:"card",id:"capturePrioContainer"},Bh={class:"card-header"},Nh={class:"card-title"},Rh={class:"card-body"},qh=_e(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),jh=_e(()=>e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Hh=_e(()=>e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),Oh=_e(()=>e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1)),zh={key:1,class:"content"},Gh={class:"container-fluid"},Qh=_e(()=>e("i",{class:"fa fa-camera"},null,-1)),Wh=[Qh],Kh={class:"dispatch-table"},Xh={class:"table-responsive"},Jh={class:"table table-bordered table-sm table-striped table-hover"},Zh=_e(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),ep={key:0},tp={key:1},sp=_e(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),ap=[sp],op=["item","index"],lp={class:"card"},np={class:"card-body"},dp={class:"list-field"},ip=_e(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),cp={class:"list-field"},rp=_e(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),up={class:"list-field"},_p=_e(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),mp={class:"list-field"},hp=_e(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),pp={class:"list-field"},vp=_e(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),bp={class:"list-field"},fp=_e(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),$p={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gp={class:"modal-dialog modal-sm",role:"document"},yp={class:"modal-content"},kp=_e(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),xp={class:"modal-body"},wp={class:"fromtocenter"},Cp=_e(()=>e("label",{for:"fromDate"},"From:",-1)),Sp=_e(()=>e("label",{for:"toDate"},"To:",-1)),Mp=_e(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Up={__name:"MyClosePrioList",setup(o){const u=c(!1);re();const n=c({data:[]}),l=c(""),d=c(""),p=ce(),k=(M=1)=>{u.value=!0,T.get(`/api/mycloseprio?page=${M}`,{params:{query:m.value}}).then(f=>{u.value=!1,n.value=f.data})},x=()=>{const M=document.getElementById("capturePrioContainer");Ye(M).then(f=>{const _=f.toDataURL(),C=document.createElement("a");C.href=_,C.download="MY CLOSED PRIO.png",C.click()})},Y=()=>{u.value=!0,T.get("/api/filter-closeprio",{params:{start_date:l.value,end_date:d.value}}).then(M=>{u.value=!1,n.value=M.data.dailyTasks}).catch(M=>{console.error(M)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},m=c(null);return pe(m,we.exports.debounce(()=>{k()},300)),ue(()=>{k()}),(M,f)=>(t(),s(R,null,[e("div",Ih,[e("div",Lh,[e("div",Yh,[e("div",Bh,[e("div",Nh,[e("h5",null,a(i(p).user.first_name+" "+i(p).user.last_name)+" - My Closed Prio ",1)])]),e("div",Rh,[u.value?(t(),de(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[qh,jh,Hh,Oh]),_:1})):(t(),s("div",zh,[e("div",Gh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:x,type:"button",class:"mb-2 btn btn-sm btn-success"},Wh)])]),e("div",null,[e("div",Kh,[e("div",Xh,[e("table",Jh,[Zh,n.value.data.length>0?(t(),s("tbody",ep,[(t(!0),s(R,null,H(n.value.data,(_,C)=>(t(),de(Ph,{key:_.id,item:_,index:C},null,8,["item","index"]))),128))])):(t(),s("tbody",tp,ap))])])]),(t(!0),s(R,null,H(n.value.data,(_,C)=>(t(),s("div",{class:"dispatch-list first-letter:shadow",key:_.id,item:_,index:C},[e("div",lp,[e("div",np,[e("div",dp,[ip,e("span",null,a(_.sitename),1)]),e("div",cp,[rp,e("span",null,a(i(ie)(_.taskdate).format("MMMM D, YYYY")),1)]),e("div",up,[_p,e("span",null,a(_.startdate),1)]),e("div",mp,[hp,e("span",null,a(_.enddate),1)]),e("div",pp,[vp,e("span",null,a(_.tasktype.listtask),1)]),e("div",bp,[fp,e("span",{class:E(["badge",_.remarks==="HIT"?"bg-success":"bg-danger"])},a(_.remarks),3)])])])],8,op))),128))])])]))])]),w(i(De),{data:n.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",$p,[e("div",gp,[e("div",yp,[kp,e("div",xp,[e("div",wp,[e("div",null,[Cp,w(i(Me),{modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=_=>l.value=_)},null,8,["modelValue"])]),e("div",null,[Sp,w(i(Me),{modelValue:d.value,"onUpdate:modelValue":f[1]||(f[1]=_=>d.value=_)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Mp,e("button",{onClick:Y,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64))}};var Dp=he(Up,[["__scopeId","data-v-368dbe6c"]]);const Ap=["checked"],Vp={class:"text-center"},Ep=e("i",{class:"fa fa-edit"},null,-1),Tp=[Ep],Fp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:u}){re();const n=o,l=u,d=()=>{l("toggleSelection",n.user)};return(p,k)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Ap)]),e("td",null,a(o.index+1),1),e("td",null,a(o.user.first_name+" "+o.user.last_name),1),e("td",null,a(o.user.email),1),e("td",null,a(o.user.formatted_created_at),1),e("td",Vp,[e("a",{href:"#",onClick:k[0]||(k[0]=te(x=>p.$emit("editUser",o.user),["prevent"]))},Tp)])]))}},Pp={class:"content"},Ip={class:"container-fluid"},Lp={class:"card"},Yp={class:"card-header"},Bp=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Np={class:"card-tools"},Rp={class:"card-body"},qp={class:"table-responsive"},jp={class:"table table-bordered table-hover table-sm"},Hp=e("th",{style:{width:"10px"}},"#",-1),Op=e("th",null,"Name",-1),zp=e("th",null,"Email",-1),Gp=e("th",null,"Registered Date",-1),Qp=e("th",null,"Options",-1),Wp={key:0},Kp={key:1},Xp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Jp=[Xp],Zp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ev={class:"modal-dialog modal-sm",role:"document"},tv={class:"modal-content"},sv={class:"modal-header"},av={class:"modal-title",id:"staticBackdropLabel"},ov={key:0},lv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),nv={class:"modal-body"},dv={class:"table table-sm"},iv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),cv={colspan:"5"},rv={class:"custom-control custom-checkbox"},uv=["value","id","checked"],_v=["for"],mv={key:0,class:"table table-sm"},hv={class:"text-danger"},pv={class:"custom-control custom-checkbox"},vv=["value","id"],bv=["for"],fv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),$v={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gv={class:"modal-dialog",role:"document"},yv={class:"modal-content"},kv=me('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),xv={class:"modal-footer"},wv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Cv={__name:"UserMenuList",setup(o){const u=re(),n=c({data:[]}),l=c(!1),d=c(),p=c(null),k=c(null),x=c([]),Y=(D=1)=>{T.get(`/api/users?page=${D}`,{params:{query:f.value}}).then(y=>{n.value=y.data,_.value=[],selectAll.value=!1})},m=D=>{T.get("/api/usermenu",{params:{user_id:D.id}}).then(y=>{O.value=y.data,console.log(y.data)}).catch(y=>{console.log(y)}),l.value=!0,p.value.resetForm(),$("#userFormModal").modal("show"),d.value={id:D.id,username:D.username,email:D.email,first_name:D.first_name,last_name:D.last_name},k.value=d.value.first_name+" "+d.value.last_name},M=()=>{const D={user_id:d.value.id,menu_id:x.value};console.log(D),T.post("/api/usermenu",D).then(y=>{u.success("User Menu Save successfully!")}).catch(y=>{setErrors(y.response.data.errors)})},f=c(null),_=c([]),C=D=>{const y=_.value.indexOf(D.id);y===-1?_.value.push(D.id):_.value.splice(y,1),console.log(_.value)},X=c(null),B=D=>{X.value=D,$("#deleteUserModal").modal("show")},O=c({data:[]});return pe(f,we.exports.debounce(()=>{Y()},300)),ue(()=>{Y()}),(D,y)=>(t(),s(R,null,[e("div",Pp,[e("div",Ip,[e("div",Lp,[e("div",Yp,[Bp,e("div",Np,[Q(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=v=>f.value=v),class:"form-control",placeholder:"Search..."},null,512),[[le,f.value]])])]),e("div",Rp,[e("div",qp,[e("table",jp,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=v=>D.selectAll=v),onChange:y[2]||(y[2]=(...v)=>D.selectAllUsers&&D.selectAllUsers(...v))},null,544),[[Se,D.selectAll]])]),Hp,Op,zp,Gp,Qp])]),n.value.data.length>0?(t(),s("tbody",Wp,[(t(!0),s(R,null,H(n.value.data,(v,b)=>(t(),de(Fp,{key:v.id,user:v,index:b,onEditUser:m,onConfirmUserDeletion:B,onToggleSelection:C,"select-all":D.selectAll},null,8,["user","index","select-all"]))),128))])):(t(),s("tbody",Kp,Jp))])])])]),w(i(De),{data:n.value,onPaginationChangePage:Y},null,8,["data"])])]),e("div",Zp,[e("div",ev,[e("div",tv,[e("div",sv,[e("h5",av,[l.value?(t(),s("span",ov,"User Menu for "+a(k.value),1)):U("",!0)]),lv]),w(i(be),{ref_key:"form",ref:p,onSubmit:M,"initial-values":d.value},{default:Z(()=>[e("div",nv,[e("table",dv,[iv,(t(!0),s(R,null,H(O.value,v=>(t(),s("tr",{key:v.menu_id},[e("td",cv,[e("div",rv,[Q(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=b=>x.value=b),value:v.menu_id,id:"menu_id_"+v.menu_id,checked:v.hasAccess},null,8,uv),[[Se,x.value]]),e("label",{for:"menu_id_"+v.menu_id,class:"custom-control-label"},a(v.menu_title),9,_v)]),v.submenus&&v.submenus.length>0?(t(),s("table",mv,[(t(!0),s(R,null,H(v.submenus,b=>(t(),s("tr",{key:b.id},[e("td",hv,[e("div",pv,[Q(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":y[4]||(y[4]=F=>x.value=F),value:b.menu_id,id:"menu_id_"+b.menu_id},null,8,vv),[[Se,x.value]]),e("label",{for:"menu_id_"+b.menu_id,class:"custom-control-label"},a(b.menu_title),9,bv)])])]))),128))])):U("",!0)])]))),128))])]),fv]),_:1},8,["initial-values"])])])]),e("div",$v,[e("div",gv,[e("div",yv,[kv,e("div",xv,[wv,e("button",{onClick:y[5]||(y[5]=te((...v)=>D.deleteUser&&D.deleteUser(...v),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};const Ge=o=>($e("data-v-815a1ea6"),o=o(),ge(),o),Sv=["checked"],Mv=["innerHTML"],Uv={style:{"text-align":"center"}},Dv={class:"text-center"},Av=Ge(()=>e("i",{class:"fa fa-edit"},null,-1)),Vv=[Av],Ev=Ge(()=>e("i",{class:"fa fa-trash"},null,-1)),Tv=[Ev],Fv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:u}){re(),ce();const n=o,l=u,d=()=>{l("toggleSelection",n.item)};return(p,k)=>(t(),s("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:d},null,40,Sv)]),e("td",null,a(o.index+1),1),e("td",null,a(o.item.menu_title),1),e("td",null,a(o.item.parent_title),1),e("td",null,a(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Mv),e("td",null,a(o.item.sort_order),1),e("td",Uv,[e("i",{class:E({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,a(o.item.created_at),1),e("td",Dv,[e("button",{class:"btn btn-sm bg-primary",onClick:k[0]||(k[0]=te(x=>p.$emit("editUser",o.item),["prevent"]))},Vv),P("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:k[1]||(k[1]=te(x=>p.$emit("trash",o.item),["prevent"]))},Tv)])]))}};var Pv=he(Fv,[["__scopeId","data-v-815a1ea6"]]);const Iv={class:"content"},Lv={class:"container-fluid"},Yv={class:"d-flex justify-content-between"},Bv={class:"d-flex"},Nv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Rv={key:0},qv=e("i",{class:"fa fa-trash mr-1"},null,-1),jv={class:"ml-2"},Hv={class:"card"},Ov={class:"card-body"},zv=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Gv=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Qv=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Wv=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Kv={class:"table-responsive"},Xv={class:"table table-bordered table-sm"},Jv=e("th",{style:{width:"10px"}},"#",-1),Zv=e("th",null,"Title",-1),e1=e("th",null,"Parent Menu",-1),t1=e("th",null,"Route",-1),s1=e("th",null,"Icon",-1),a1=e("th",null,"Sort",-1),o1=e("th",null,"Active",-1),l1=e("th",null,"Date",-1),n1=e("th",null,"Action",-1),d1={key:0},i1={key:1},c1=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),r1=[c1],u1={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_1={class:"modal-dialog modal-sm",role:"document"},m1={class:"modal-content"},h1={class:"modal-header"},p1={class:"modal-title",id:"staticBackdropLabel"},v1={key:0},b1={key:1},f1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),$1={class:"modal-body"},g1={class:"col-md-12"},y1={class:"row"},k1={class:"col-12"},x1={class:"form-group"},w1=e("label",{for:"user"},"Menu Title",-1),C1={class:"invalid-feedback"},S1={class:"form-group"},M1=e("label",{for:"department"},"Parent Menu",-1),U1=e("option",{value:"0"},"None",-1),D1=["value"],A1={class:"form-group"},V1=e("label",{for:"warehouse"},"Icon",-1),E1={class:"invalid-feedback"},T1={class:"form-group"},F1=e("label",{for:"user"},"Route",-1),P1={class:"invalid-feedback"},I1={class:"form-group"},L1=e("label",{for:"user"},"Sort",-1),Y1={class:"invalid-feedback"},B1={class:"form-group"},N1=e("label",{for:"user"},"Active",-1),R1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),q1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j1={class:"modal-dialog",role:"document"},H1={class:"modal-content"},O1=me('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),z1={class:"modal-footer"},G1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Q1={__name:"MenuList",setup(o){const u=re(),n=c({data:[]}),l=c({data:[]}),d=c(!1),p=c(!1),k=c(),x=c(null),Y=ce();c(null);const m=c(),M=(L=1)=>{d.value=!0,T.get(`/api/menulist?page=${L}`,{params:{query:y.value}}).then(A=>{d.value=!1,n.value=A.data,v.value=[],G.value=!1})},f=()=>{T.get("/api/GetParentId").then(L=>{l.value=L.data}).catch(L=>{console.error(L)})};ve({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()}),ve({menu_title:N().required(),parent_id:N().required(),sort_order:N().required(),menu_icon:N().required(),menu_route:N().required()});const _=(L,{resetForm:A,setErrors:g})=>{T.post("/api/menulist",{menu_title:L.menu_title,parent_id:m.value,menu_icon:L.menu_icon,menu_route:L.menu_route,sort_order:L.sort_order,is_active:L.is_active}).then(h=>{n.value.data.unshift(h.data),$("#FormModal").modal("hide"),A(),u.success("User created successfully!")}).catch(h=>{h.response.data.errors&&g(h.response.data.errors)})},C=()=>{p.value=!1,$("#FormModal").modal("show")},X=L=>{p.value=!0,x.value.resetForm(),$("#FormModal").modal("show"),k.value={menu_id:L.menu_id,menu_title:L.menu_title,menu_icon:L.menu_icon,parent_id:L.parent_id,menu_route:L.menu_route,sort_order:L.sort_order,is_active:L.is_active},m.value=L.parent_id},B=L=>{p.value=!0,x.value.resetForm(),$("#FormModalView").modal("show"),k.value={menu_id:L.menu_id,menu_title:L.menu_title,menu_icon:L.menu_icon,parent_id:L.parent_id,menu_route:L.menu_route,sort_order:L.sort_order,is_active:L.is_active}},O=(L,{setErrors:A})=>{T.post("/api/menulist",L).then(g=>{M(),$("#FormModal").modal("hide"),u.success("successfully Updated!")}).catch(g=>{A(g.response.data.errors),console.log(g)})},D=(L,A)=>{p.value?O(L,A):_(L,A)},y=c(null),v=c([]),b=L=>{const A=v.value.indexOf(L.id);A===-1?v.value.push(L.id):v.value.splice(A,1),console.log(v.value)},F=c(null),se=L=>{F.value=L,$("#deleteClientModal").modal("show")},z=()=>{T.delete(`menulist/${F.value}`).then(()=>{$("#deleteClientModal").modal("hide"),u.success("Client deleted successfully!"),n.value.data=n.value.data.filter(L=>L.id!==F.value)})},K=()=>{T.delete("menulist",{data:{ids:v.value}}).then(L=>{n.value.data=n.value.data.filter(A=>!v.value.includes(A.id)),v.value=[],G.value=!1,u.success(L.data.message)})},G=c(!1),ae=()=>{G.value?v.value=n.value.data.map(L=>L.id):v.value=[],console.log(v.value)};return pe(y,we.exports.debounce(()=>{M()},300)),ue(()=>{M(),f()}),(L,A)=>(t(),s(R,null,[e("div",Iv,[e("div",Lv,[e("div",Yv,[e("div",Bv,[e("button",{onClick:C,type:"button",class:"mb-2 btn btn-primary"},[Nv,P(" Menu ")]),v.value.length>0?(t(),s("div",Rv,[e("button",{onClick:K,type:"button",class:"ml-2 mb-2 btn btn-danger"},[qv,P(" Delete Selected ")]),e("span",jv,"Selected "+a(v.value.length)+" techrecomm",1)])):U("",!0)]),e("div",null,[Q(e("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=g=>y.value=g),class:"form-control",placeholder:"Search..."},null,512),[[le,y.value]])])]),e("div",Hv,[e("div",Ov,[d.value?(t(),de(i(xe),{key:0,viewBox:"0 0 250 110"},{default:Z(()=>[zv,Gv,Qv,Wv]),_:1})):U("",!0),e("div",Kv,[e("table",Xv,[e("thead",null,[e("tr",null,[e("th",null,[Q(e("input",{type:"checkbox","onUpdate:modelValue":A[1]||(A[1]=g=>G.value=g),onChange:ae},null,544),[[Se,G.value]])]),Jv,Zv,e1,t1,s1,a1,o1,l1,n1])]),n.value.data.length>0?(t(),s("tbody",d1,[(t(!0),s(R,null,H(n.value.data,(g,h)=>(t(),de(Pv,{key:g.id,item:g,index:h,onEditUser:X,onShowItem:B,onConfirmUserDeletion:se,onToggleSelection:b,"select-all":G.value},null,8,["item","index","select-all"]))),128))])):(t(),s("tbody",i1,r1))])])])]),w(i(De),{data:n.value,onPaginationChangePage:M},null,8,["data"])])]),e("div",u1,[e("div",_1,[e("div",m1,[e("div",h1,[e("h5",p1,[p.value?(t(),s("span",v1,"Edit Menu")):(t(),s("span",b1,"Add Menu"))]),f1]),w(i(be),{ref_key:"form",ref:x,onSubmit:D,"initial-values":k.value},{default:Z(({errors:g})=>[e("div",$1,[e("div",g1,[e("div",y1,[e("div",k1,[w(i(W),{type:"hidden",name:"created_by",id:"created_by",modelValue:i(Y).user.id,"onUpdate:modelValue":A[2]||(A[2]=h=>i(Y).user.id=h)},null,8,["modelValue"]),e("div",x1,[w1,w(i(W),{name:"menu_title",type:"text",class:E(["form-control",{"is-invalid":g.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title"},null,8,["class"]),e("span",C1,a(g.menu_title),1)]),e("div",S1,[M1,Q(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":A[3]||(A[3]=h=>m.value=h)},[U1,(t(!0),s(R,null,H(l.value,h=>(t(),s("option",{key:h.menu_id,value:h.menu_id},a(h.menu_title),9,D1))),128))],512),[[ke,m.value]])]),e("div",A1,[V1,w(i(W),{name:"menu_icon",type:"text",class:E(["form-control",{"is-invalid":g.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon"},null,8,["class"]),e("span",E1,a(g.menu_icon),1)]),e("div",T1,[F1,w(i(W),{name:"menu_route",type:"text",class:E(["form-control",{"is-invalid":g.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route"},null,8,["class"]),e("span",P1,a(g.menu_route),1)]),e("div",I1,[L1,w(i(W),{name:"sort_order",type:"text",class:E(["form-control",{"is-invalid":g.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order"},null,8,["class"]),e("span",Y1,a(g.sort_order),1)]),e("div",B1,[N1,w(i(W),{name:"is_active",type:"checkbox"})])])])])]),R1]),_:1},8,["initial-values"])])])]),e("div",q1,[e("div",j1,[e("div",H1,[O1,e("div",z1,[G1,e("button",{onClick:te(z,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}},W1={class:"error-page"},K1=me('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),X1=[K1],J1="Page Not Found",Qe={__name:"404",setup(o){return ue(()=>{document.title=J1}),(u,n)=>(t(),s("div",W1,X1))}};const J=o=>($e("data-v-18d1690e"),o=o(),ge(),o),Z1={id:"exportPDF"},eb={class:"container"},tb=J(()=>e("br",null,null,-1)),sb={class:"header"},ab=["src"],ob=["src"],lb={class:"header"},nb={class:"header-justify-space-between"},db=J(()=>e("br",null,null,-1)),ib=J(()=>e("p",null,null,-1)),cb={key:0},rb=J(()=>e("strong",null,null,-1)),ub=J(()=>e("br",null,null,-1)),_b=J(()=>e("br",null,null,-1)),mb=J(()=>e("p",null,null,-1)),hb=J(()=>e("strong",null,"Unit details",-1)),pb={class:"content"},vb={class:"header-justify-space-between"},bb=J(()=>e("span",null,"Brand:",-1)),fb=J(()=>e("br",null,null,-1)),$b=J(()=>e("span",null,"Model:",-1)),gb=J(()=>e("br",null,null,-1)),yb=J(()=>e("div",null,null,-1)),kb=J(()=>e("span",null,"Serial #:",-1)),xb=J(()=>e("br",null,null,-1)),wb=J(()=>e("span",null,"Asset Tag:",-1)),Cb=J(()=>e("br",null,null,-1)),Sb=J(()=>e("div",null,null,-1)),Mb=J(()=>e("strong",null,"Reported problem",-1)),Ub={class:"content"},Db=J(()=>e("strong",null,"Assessment conducted",-1)),Ab={class:"content"},Vb=J(()=>e("strong",null,"Recommendation",-1)),Eb={class:"content"},Tb={class:"header-justify-space-between"},Fb=J(()=>e("strong",null,"Evaluated by:",-1)),Pb=J(()=>e("br",null,null,-1)),Ib={class:"botoom-line"},Lb=J(()=>e("br",null,null,-1)),Yb=J(()=>e("p",null,null,-1)),Bb=J(()=>e("strong",null,"Noted by:",-1)),Nb=J(()=>e("br",null,null,-1)),Rb={class:"botoom-line"},qb=J(()=>e("br",null,null,-1)),jb=J(()=>e("br",null,null,-1)),Hb=J(()=>e("p",null,null,-1)),Ob={key:0},zb={key:1},Gb={key:0,class:"fab-container"},Qb=J(()=>e("i",{class:"fas fa-download"},null,-1)),Wb=[Qb],Kb={__name:"TechRecommApprove",setup(o){const u=`${Pe().params.id}`,n=()=>{const p=document.getElementById("exportPDF");ze().from(p).save(`${u}.pdf`)},l=Ue({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),d=()=>{T.get(`/api/tech-recommendations/${Pe().params.id}`).then(p=>{l.id=p.data.id,l.recommnum=p.data.recommnum,l.branch=p.data.branch,l.company=p.data.company,l.department=p.data.department,l.warehouse=p.data.warehouse,l.user=p.data.user,l.problem=p.data.problem,l.brand=p.data.brand,l.model=p.data.model,l.assettag=p.data.assettag,l.serialnum=p.data.serialnum,l.status=p.data.status,l.assconducted=p.data.assconducted,l.recommendation=p.data.recommendation,l.createdby=p.data.createdby.cfull_name,l.updatedby=p.data.updatedby.ufull_name,l.created_at=ie(p.data.created_at).format("MMMM D, YYYY"),l.updated_at=ie(p.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),l.created_position=p.data.createdby.cposition,l.updated_position=p.data.updatedby.uposition}).catch(p=>{actions.setErrors(p.response.data.errors)})};return ue(()=>{d(),document.title=u}),(p,k)=>(t(),s(R,null,[e("div",Z1,[e("div",eb,[tb,e("div",sb,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,ab),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,ob)]),e("div",lb,[e("span",null,[P("Recommendation No: "),e("strong",null,a(l.recommnum),1)]),e("span",null,[P("Date Checked: "),e("strong",null,a(l.created_at),1)])]),e("div",nb,[e("div",null,[e("span",null,[P("Company: "),e("strong",null,a(l.company),1)]),db,e("span",null,[P("Branch: "),e("strong",null,a(l.branch),1)])]),ib,e("div",null,[l.warehouse==""?(t(),s("span",cb,[P("Warehouse: "),rb,P(a(l.warehouse),1)])):U("",!0),ub,e("span",null,[P("User: "),e("strong",null,a(l.user),1)]),_b,e("span",null,[P("Department: "),e("strong",null,a(l.department),1)])]),mb]),hb,e("div",pb,[e("div",vb,[e("div",null,[bb,e("strong",null,a(l.brand),1),fb,$b,e("strong",null,a(l.model),1),gb]),yb,e("div",null,[kb,e("strong",null,a(l.serialnum),1),xb,wb,e("strong",null,a(l.assettag),1),Cb]),Sb])]),Mb,e("div",Ub,[e("p",null,a(l.problem),1)]),Db,e("div",Ab,[e("p",null,a(l.assconducted),1)]),Vb,e("div",Eb,[e("p",null,a(l.recommendation),1)]),e("div",Tb,[e("div",null,[Fb,Pb,e("span",Ib,a(l.createdby),1),Lb,e("span",null,a(l.created_position),1)]),Yb,e("div",null,[Bb,Nb,e("span",Rb,a(l.updatedby),1),qb,e("span",null,a(l.updated_position),1),jb]),Hb]),l.status===2?(t(),s("span",Ob,"Approved date:("+a(l.updated_at)+")",1)):(t(),s("span",zb,"Pending"))])]),l.status===2?(t(),s("div",Gb,[e("div",{class:"button iconbutton bg-success",onClick:k[0]||(k[0]=x=>n())},Wb)])):U("",!0)],64))}};var We=he(Kb,[["__scopeId","data-v-18d1690e"]]);const Xb={},Jb={class:"card mx-auto",style:{"max-width":"600px"}},Zb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),ef={class:"card-body"},tf={class:"list-unstyled"};function sf(o,u){return t(),s("div",Jb,[Zb,e("div",ef,[e("ul",tf,[e("li",{class:"nav-item dropdown",onClick:u[0]||(u[0]=(...n)=>o.fetchNotifications&&o.fetchNotifications(...n))})])])])}var af=he(Xb,[["render",sf]]),of=[{path:"/login",name:"admin.login",component:Fn},{path:"/admin/dashboard",name:"Dashboard",component:St},{path:"/admin/appointments",name:"Appointments",component:Gt},{path:"/admin/appointments/create",name:"Appointments",component:je},{path:"/admin/appointments/:id/edit",name:"Appointments",component:je},{path:"/admin/user",name:"User",component:Ao},{path:"/admin/settings",name:"Setting",component:kl},{path:"/admin/profile",name:"Profile",component:vn},{path:"/admin/client",name:"Client",component:Ed},{path:"/admin/tech-recommendation",name:"Tech Recomm",component:Xc},{path:"/admin/weekly-task-schedule/myprio",name:"My Prio",component:Z_},{path:"/admin/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Dp},{path:"/admin/weekly-task-schedule/myvsc",name:"My VSC",component:Eh},{path:"/admin/usermenu",name:"User Menu",component:Cv},{path:"/admin/menu",name:"Menu",component:Q1},{path:"/:catchAll(.*)",name:"404 Error Page",component:Qe},{path:"/admin/notifications",name:"Notifications",component:af},{path:"/admin/tech-approved/:id/view",name:"Tech-Approved",component:We}];const lf={class:"navbar-nav"},nf=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),df={class:"nav-item d-none d-sm-inline-block"},cf={class:"navbar-nav ml-auto"},rf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),uf=me('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),_f={class:"nav-link","data-toggle":"dropdown",href:"#"},mf=e("i",{class:"far fa-bell"},null,-1),hf={class:"badge badge-warning navbar-badge"},pf={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},vf={class:"dropdown-header"},bf=e("div",{class:"dropdown-divider"},null,-1),ff=e("i",{class:"fas fa-envelope mr-2"},null,-1),$f={class:"float-right text-muted text-sm"},gf={key:1,class:"text-center text-muted py-3"},yf=e("div",{class:"dropdown-divider"},null,-1),kf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),xf=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),wf={__name:"AppNavbar",setup(o){const u=Ae(),n=c([]),l=()=>{T.get("/api/notifications").then(d=>{n.value=d.data.notifications}).catch(d=>{console.error("Error fetching notifications",d)})};return ue(()=>{l()}),(d,p)=>{const k=Ce("router-link");return t(),s("nav",{class:E(["main-header navbar navbar-expand",i(u).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",lf,[nf,e("li",df,[e("a",{onClick:p[0]||(p[0]=te((...x)=>i(u).changeTheme&&i(u).changeTheme(...x),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:E(["far",i(u).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",cf,[rf,uf,e("li",{class:"nav-item dropdown",onClick:l},[e("a",_f,[mf,e("span",hf,a(n.value.length),1)]),e("div",pf,[e("span",vf,a(n.value.length)+" Notifications",1),bf,n.value.length>0?(t(!0),s(R,{key:0},H(n.value,x=>(t(),s("a",{key:x.id,href:"#",class:"dropdown-item"},[ff,P(" "+a(x.data?x.data:"No message available")+" ",1),e("span",$f,a(i(ie)(x.created_at)),1)]))),128)):(t(),s("p",gf,"No new notifications")),yf,w(k,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:Z(()=>[P("See All Notifications")]),_:1})])]),kf,xf])],2)}}},Cf={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},Sf={href:"#",class:"brand-link"},Mf=["src"],Uf={class:"brand-text font-weight-light"},Df={class:"sidebar"},Af={class:"user-panel mt-3 pb-3 mb-3 d-flex"},Vf={key:0,class:"image"},Ef=["src"],Tf={key:1,class:"image"},Ff=["src"],Pf=["src"],If={class:"info"},Lf={href:"#",class:"d-block"},Yf={class:"mt-2"},Bf={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},Nf={key:0,class:"right fas fa-angle-left"},Rf={key:0,class:"nav nav-treeview"},qf={class:"nav-item"},jf={class:"nav-link"},Hf=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),Of=e("p",null,"Logout",-1),zf=[Hf,Of],Gf={__name:"SidebarLeft",setup(o){const u=Be(),n=ce(),l=Ae(),d=c({data:[]}),p=()=>{axios.get("/api/menu").then(Y=>{d.value=Y.data}).catch(Y=>{console.log(Y)})},k=Y=>Y===u.currentRoute.value.path,x=()=>{axios.post("/logout").then(Y=>{n.user.name="",u.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),p()}),(Y,m)=>{const M=Ce("router-link");return t(),s("aside",Cf,[e("a",Sf,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Mf),e("span",Uf,a(i(l).setting.app_name),1)]),e("div",Df,[e("div",Af,[i(n).user.avatar===""?(t(),s("div",Vf,[e("img",{src:i(n).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Ef)])):i(n).user.avatar!==""?(t(),s("div",Tf,[i(n).user.gender==="Male"?(t(),s("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Ff)):i(n).user.gender==="Female"?(t(),s("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,Pf)):U("",!0)])):U("",!0),e("div",If,[e("a",Lf,a(i(n).user.name),1)])]),e("nav",Yf,[e("ul",Bf,[(t(!0),s(R,null,H(d.value,f=>(t(),s("li",{key:f.id,class:E({"nav-item":!0,"has-submenu":f.submenus&&f.submenus.length>0})},[w(M,{class:E({"nav-link":!0,active:k(f.menu_route)}),to:`${f.menu_route}`},{default:Z(()=>[e("i",{class:E("nav-icon "+f.menu_icon)},null,2),e("p",null,a(f.menu_title),1),f.submenus&&f.submenus.length>0?(t(),s("i",Nf)):U("",!0)]),_:2},1032,["class","to"]),f.submenus&&f.submenus.length>0?(t(),s("ul",Rf,[(t(!0),s(R,null,H(f.submenus,_=>(t(),s("li",{key:_.id,class:"nav-item"},[w(M,{class:E({"nav-link":!0,active:k(_.menu_route)}),to:_.menu_route},{default:Z(()=>[e("i",{class:E("nav-icon "+_.menu_icon)},null,2),e("p",null,a(_.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):U("",!0)],2))),128)),e("li",qf,[e("form",jf,[e("a",{href:"#",onClick:te(x,["prevent"])},zf)])])])])])])}}},Qf={},Wf={class:"control-sidebar control-sidebar-dark"},Kf=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),Xf=[Kf];function Jf(o,u){return t(),s("aside",Wf,Xf)}var Zf=he(Qf,[["render",Jf]]);const e$={class:"main-footer"},t$={class:"float-right d-none d-sm-block"},s$={href:"#"},a$={__name:"AppFooter",props:{settings:Object},setup(o){const u=ce(),n=c(new Date().getFullYear());return(l,d)=>{var p;return t(),s("footer",e$,[e("div",t$,a(i(u).user.name),1),e("strong",null,[P("Copyright \xA9 "+a(n.value)+" ",1),e("a",s$,a((p=o.settings)==null?void 0:p.app_name),1),P(".")]),P(" All rights reserved. ")])}}};const o$=o=>($e("data-v-36653638"),o=o(),ge(),o),l$={class:"content-wrapper"},n$={class:"content-header"},d$={class:"container-fluid"},i$={class:"row mb-2"},c$={class:"col-sm-6"},r$={class:"m-0"},u$={class:"col-sm-6"},_$={class:"breadcrumb float-sm-right"},m$=o$(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),h$={class:"breadcrumb-item active"},p$={__name:"CustomMainLayout",setup(o){const u=ce(),n=Ae(),l=fe(()=>n.theme==="dark"?"dark-mode":"");return(d,p)=>{const k=Ce("router-view");return i(u).user.name!==""?(t(),s("div",{key:0,class:E(["wrapper",l.value])},[w(wf),w(Gf),w(Zf),e("div",l$,[e("section",n$,[e("div",d$,[e("div",i$,[e("div",c$,[e("h1",r$,a(d.$route.name),1)]),e("div",u$,[e("ol",_$,[m$,e("li",h$,a(d.$route.name),1)])])])])]),w(k)]),w(a$)],2)):(t(),s("div",{key:1,class:E(["login-page slibg",l.value])},[w(k)],2))}}};var v$=he(p$,[["__scopeId","data-v-36653638"]]);const b$={__name:"App",setup(o){ce();const u=Pe(),n=fe(()=>u.name==="Tech-Approved"),l=fe(()=>u.name==="404 Error Page");return(d,p)=>(t(),s("div",null,[!l.value&&!n.value?(t(),de(v$,{key:0})):n.value?(t(),de(We,{key:1})):(t(),de(Qe,{key:2}))]))}};var f$=he(b$,[["__scopeId","data-v-252b567e"]]);const $$=lt(),Ve=ct(f$),Ke=nt({routes:of,history:dt()});Ke.beforeEach(async(o,u)=>{const n=ce();if(n.user.name===""&&o.name!=="admin.login"){const l=Ae();await Promise.all([n.getAuthUser(),l.getSetting()])}});Ve.use($$);Ve.use(Ke);Ve.use($t);Ve.use(ze);Ve.mount("#app");
