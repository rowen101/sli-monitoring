import{_ as ct,l as Ee}from"./lodash.6f1dd969.js";import{a as L}from"./axios.82d3905a.js";import{a as rt}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as tt,c as ut}from"./pinia.210ccde5.js";import{u as be,a as Ke,c as _t,b as mt}from"./vue-router.abad5649.js";import{r as c,o as ue,i as a,k as e,x as t,_ as g,u as r,e as s,I as Se,h as X,j as U,F as O,q as K,d as $e,a0 as ee,v as q,C as Ve,a2 as J,a3 as re,aa as Te,p as P,w as ve,ab as we,f as ce,B as Xe,a5 as De,a6 as Ue,ac as st,ad as Me,a1 as Qe,ae as pt}from"./@vue.04713aa0.js";import{B as ht}from"./vue-chartjs.50c6886f.js";import{C as vt,p as bt,a as ft,b as $t,c as gt,d as yt,L as kt}from"./chart.js.562acd0f.js";import{S as Ze}from"./sweetalert2.ef56b979.js";import{t as He}from"./toastr.94171567.js";import{F as Ce,a as R}from"./vee-validate.1443789f.js";import{f as at}from"./flatpickr.181c7977.js";import{c as ke,a as I}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as he}from"./moment.40bc58bf.js";import{a as Fe}from"./laravel-vue-pagination.475a8c82.js";import{C as wt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Pe}from"./vue3-datepicker.da50a26b.js";import je from"./html2canvas.4d0ab5af.js";import{h as ot}from"./html2pdf.js.2873933b.js";import"./jspdf.dfc7da2d.js";import{V as Ct}from"./vue-sweetalert2.891f877f.js";import{d as St}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.78662ef1.js";import"./@babel.483bd58d.js";import"./fflate.fca59393.js";window._=ct;window.axios=L;window.$=window.jQuery=rt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const _e=tt("AuthUserStore",()=>{const o=c({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await L.get("/api/profile").then(_=>{o.value=_.data})}}}),Dt={class:"content"},Ut={class:"container-fluid"},Vt={class:"card"},Mt={class:"card-header"},At={class:"card-body"},Et=e("div",{class:"row"},null,-1),Tt={__name:"Dashboard",setup(o){vt.register(bt,ft,$t,gt,yt,kt);const w=`${be().name}`;_e(),c("all"),c(0);const _=c(new Date().getFullYear()),d=c({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),i=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},u=c("today"),p=c(0),D=()=>{axios.get("/api/stats/users",{params:{date_range:u.value}}).then(l=>{p.value=l.data.totalUsersCount})};return ue(()=>{i(),D(),document.title=w}),(l,A)=>(s(),a("div",Dt,[e("div",Ut,[e("div",Vt,[e("div",Mt," Yearly Progress - "+t(_.value),1),e("div",At,[g(r(ht),{data:d.value},null,8,["data"])])]),Et])]))}},Pt={class:"content"},Lt={class:"container-fluid"},Ft={class:"row"},It={class:"col-lg-12"},qt={class:"d-flex justify-content-between mb-2"},Yt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),q(" Add New Appointment")],-1),Nt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Rt={class:"badge badge-pill badge-info"},Ht=["onClick"],jt={class:"mr-1"},Ot={class:"card"},zt={class:"card-body"},Gt={class:"table table-bordered"},Wt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Kt=e("i",{class:"fa fa-edit mr-2"},null,-1),Xt=["onClick"],Jt=e("i",{class:"fa fa-trash text-danger"},null,-1),Zt=[Jt],es={__name:"ListAppointments",setup(o){const w=c(),_=c([]),d=()=>{L.get("/api/appointment-status").then(A=>{_.value=A.data})},i=c([]),u=A=>{w.value=A;const v={};A&&(v.status=A),L.get("/api/appointments",{params:v}).then(C=>{i.value=C.data,console.log(C)})},p=Se(()=>_.value.map(A=>A.count).reduce((A,v)=>A+v,0)),D=A=>{const v=i.value.data.find(n=>n.id===A).status.name,C=_.value.find(n=>n.name===v);C.count--},l=A=>{Ze.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&L.delete(`/api/appointments/${A}`).then(C=>{D(A),i.value.data=i.value.data.filter(n=>n.id!==A),Ze.fire("Deleted!","Your file has been deleted.","success")})})};return ue(()=>{u(),d()}),(A,v)=>{const C=$e("router-link");return s(),a("div",Pt,[e("div",Lt,[e("div",Ft,[e("div",It,[e("div",qt,[e("div",null,[g(C,{to:"/admin/appointments/create"},{default:X(()=>[Yt]),_:1})]),e("div",Nt,[e("button",{onClick:v[0]||(v[0]=n=>u()),type:"button",class:U(["btn",[typeof w.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Rt,t(p.value),1)],2),(s(!0),a(O,null,K(_.value,n=>(s(),a("button",{key:n.id,onClick:x=>u(n.value),type:"button",class:U(["btn",[w.value===n.value?"btn-secondary":"btn-default"]])},[e("span",jt,t(n.name),1),e("span",{class:U(["badge badge-pill",`badge-${n.color}`])},t(n.count),3)],10,Ht))),128))])]),e("div",Ot,[e("div",zt,[e("table",Gt,[Wt,e("tbody",null,[(s(!0),a(O,null,K(i.value.data,(n,x)=>(s(),a("tr",{key:n.id},[e("td",null,t(x+1),1),e("td",null,t(n.client.first_name)+" "+t(n.client.last_name),1),e("td",null,t(n.start_time),1),e("td",null,t(n.end_time),1),Qt,e("td",null,[g(C,{to:`/admin/appointments/${n.id}/edit`},{default:X(()=>[Kt]),_:2},1032,["to"]),e("a",{href:"#",onClick:ee(N=>l(n.id),["prevent"])},Zt,8,Xt)])]))),128))])])])])])])])])}}};function me(){return He.options.positionClass="toast-top-right",He.options.closeButton=!0,He.options.progressBar=!0,He}const ts={class:"content-header"},ss={class:"container-fluid"},as={class:"row mb-2"},os={class:"col-sm-6"},ls={class:"m-0"},ns={key:0},ds={key:1},is={class:"col-sm-6"},cs={class:"breadcrumb float-sm-right"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item"},_s={class:"breadcrumb-item active"},ms={key:0},ps={key:1},hs={class:"content"},vs={class:"container-fluid"},bs={class:"row"},fs={class:"col-lg-12"},$s={class:"card"},gs={class:"card-body"},ys={class:"row"},ks={class:"col-md-6"},ws={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),Cs={class:"invalid-feedback"},Ss={class:"col-md-6"},Ds={class:"form-group"},Us=e("label",{for:"client"},"Client Name",-1),Vs=["value"],Ms={class:"invalid-feedback"},As={class:"row"},Es={class:"col-md-6"},Ts={class:"form-group"},Ps=e("label",{for:"start-time"},"Start Time",-1),Ls={class:"invalid-feedback"},Fs={class:"col-md-6"},Is={class:"form-group"},qs=e("label",{for:"end-time"},"End Time",-1),Ys={class:"invalid-feedback"},Ns={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Rs={class:"invalid-feedback"},Hs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),et={__name:"AppointmentForm",setup(o){const w=Ke(),_=be(),d=me(),i=Ve({title:"",client_id:"",start_time:"",end_time:"",description:""}),u=(n,x)=>{C.value?D(n,x):p(n,x)},p=(n,x)=>{L.post("/api/appointments/create",i).then(N=>{w.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(N=>{x.setErrors(N.response.data.errors)})},D=(n,x)=>{L.put(`/api/appointments/${_.params.id}/edit`,i).then(N=>{w.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(N=>{x.setErrors(N.response.data.errors)})},l=c(),A=()=>{L.get("/api/view-clients").then(n=>{l.value=n.data})},v=()=>{L.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{i.title=n.title,i.client_id=n.client_id,i.start_time=n.formatted_start_time,i.end_time=n.formatted_end_time,i.description=n.description})},C=c(!1);return ue(()=>{_.name==="admin.appointments.edit"&&(C.value=!0,v()),at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),A()}),(n,x)=>{const N=$e("router-link");return s(),a(O,null,[e("div",ts,[e("div",ss,[e("div",as,[e("div",os,[e("h1",ls,[C.value?(s(),a("span",ns,"Edit")):(s(),a("span",ds,"Create")),q(" Appointment")])]),e("div",is,[e("ol",cs,[e("li",rs,[g(N,{to:"/admin/dashboard"},{default:X(()=>[q("Home")]),_:1})]),e("li",us,[g(N,{to:"/admin/appointments"},{default:X(()=>[q("Appointments")]),_:1})]),e("li",_s,[C.value?(s(),a("span",ms,"Edit")):(s(),a("span",ps,"Create"))])])])])])]),e("div",hs,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[e("div",gs,[g(r(Ce),{onSubmit:u},{default:X(({errors:W})=>[e("div",ys,[e("div",ks,[e("div",ws,[xs,J(e("input",{"onUpdate:modelValue":x[0]||(x[0]=Z=>i.title=Z),type:"text",class:U(["form-control",{"is-invalid":W.title}]),id:"title",placeholder:"Enter Title"},null,2),[[re,i.title]]),e("span",Cs,t(W.title),1)])]),e("div",Ss,[e("div",Ds,[Us,J(e("select",{"onUpdate:modelValue":x[1]||(x[1]=Z=>i.client_id=Z),id:"client",class:U(["form-control",{"is-invalid":W.client_id}])},[(s(!0),a(O,null,K(l.value,Z=>(s(),a("option",{value:Z.id,key:Z.id},t(Z.first_name)+" "+t(Z.last_name),9,Vs))),128))],2),[[Te,i.client_id]]),e("span",Ms,t(W.client_id),1)])])]),e("div",As,[e("div",Es,[e("div",Ts,[Ps,J(e("input",{"onUpdate:modelValue":x[2]||(x[2]=Z=>i.start_time=Z),type:"text",class:U(["form-control flatpickr",{"is-invalid":W.start_time}]),id:"start-time"},null,2),[[re,i.start_time]]),e("span",Ls,t(W.start_time),1)])]),e("div",Fs,[e("div",Is,[qs,J(e("input",{"onUpdate:modelValue":x[3]||(x[3]=Z=>i.end_time=Z),type:"text",class:U(["form-control flatpickr",{"is-invalid":W.end_time}]),id:"end-time"},null,2),[[re,i.end_time]]),e("span",Ys,t(W.end_time),1)])])]),e("div",Ns,[Bs,J(e("textarea",{"onUpdate:modelValue":x[4]||(x[4]=Z=>i.description=Z),class:U(["form-control",{"is-invalid":W.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[re,i.description]]),e("span",Rs,t(W.description),1)]),Hs]),_:1})])])])])])])],64)}}},js=["checked"],Os=["value","selected"],zs=["value","selected"],Gs=e("i",{class:"fa fa-edit"},null,-1),Ws=[Gs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ks=[Qs],Xs={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:w}){const _=me(),d=o,i=w,u=c([{name:"ADMIN",value:1},{name:"USER",value:2}]),p=c([]),D=()=>{L.get("/api/users/userlist").then(C=>{p.value=C.data}).catch(C=>{console.log(C)})},l=(C,n)=>{L.patch(`/api/users/${C.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},A=(C,n)=>{L.patch(`/api/users/${C.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},v=()=>{i("toggleSelection",d.user)};return ue(()=>{D()}),(C,n)=>(s(),a("tr",null,[e("td",null,[o.user.name!="admin"?(s(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:v},null,40,js)):P("",!0)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=x=>l(o.user,x.target.value))},[(s(!0),a(O,null,K(u.value,x=>(s(),a("option",{key:x.id,value:x.value,selected:o.user.role===x.name},t(x.name),9,Os))),128))],32)]),e("td",null,[o.user.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=x=>A(o.user,x.target.value))},[(s(!0),a(O,null,K(p.value,x=>(s(),a("option",{key:x.id,value:x.id,selected:o.user.sitehead_user_id===x.id},t(x.first_name+" "+x.last_name),9,zs))),128))],32)):P("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=ee(x=>C.$emit("editUser",o.user),["prevent"]))},Ws),o.user.id!=1?(s(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=ee(x=>C.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ks)):P("",!0)])]))}},Js={class:"content"},Zs={class:"container-fluid"},ea={class:"d-flex justify-content-between mb-2"},ta={class:"d-flex"},sa=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),aa={key:0},oa=e("i",{class:"fa fa-trash mr-1"},null,-1),la={class:"ml-2"},na={class:"card"},da={class:"card-body"},ia={class:"dispatch-table"},ca={class:"table-responsive"},ra={class:"table table-bordered table-hover table-sm"},ua=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),_a={key:0},ma={key:1},pa=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[pa],va=["index"],ba={class:"card"},fa={class:"card-body"},$a={class:"list-field"},ga=e("span",{class:"mb-1 dis"},"Name:",-1),ya={class:"list-field"},ka=e("span",{class:"mb-1 dis"},"Email:",-1),wa={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),Ca={class:"list-field"},Sa=e("span",{class:"mb-1 dis"},"Site Head:",-1),Da=["onChange"],Ua=["value","selected"],Va=e("hr",null,null,-1),Ma={class:"row"},Aa={key:0,class:"col"},Ea=["onClick"],Ta=e("i",{class:"fa fa-pencil-square-o"},null,-1),Pa=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),Fa=[La],Ia={key:1,class:"col"},qa=["onClick"],Ya=e("i",{class:"fa fa-pencil-square-o"},null,-1),Na={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Ra={class:"modal-content"},Ha={class:"modal-header"},ja={class:"modal-title",id:"staticBackdropLabel"},Oa={key:0},za={key:1},Ga=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wa={class:"modal-body"},Qa={class:"form-group"},Ka=e("label",{for:"name"},"Username",-1),Xa={class:"invalid-feedback"},Ja={class:"d-flex justify-content-between"},Za={class:"d-flex"},eo={class:"form-group"},to=e("label",{for:"email"},"Email",-1),so={class:"invalid-feedback"},ao={class:"d-flex"},oo={class:"form-group"},lo=e("label",{for:"siteDropdown"},"Gender",-1),no=e("option",{value:"",disabled:""}," Select a gender ",-1),io=["value"],co={class:"d-flex justify-content-between"},ro={class:"d-flex"},uo={class:"form-group"},_o=e("label",{for:"first_name"},"Fist Name",-1),mo={class:"invalid-feedback"},po={class:"d-flex"},ho={class:"form-group"},vo=e("label",{for:"last_name"},"Last Name",-1),bo={class:"invalid-feedback"},fo={class:"form-group"},$o=e("label",{for:"position"},"Position",-1),go={class:"invalid-feedback"},yo={class:"form-group"},ko=e("label",{for:"password"},"Password",-1),wo={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Co={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},So={class:"modal-dialog",role:"document"},Do={class:"modal-content"},Uo=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Ao={__name:"UserList",setup(o){const w=`${be().name}`,_=_e(),d=me(),i=c({data:[]}),u=c(!1),p=c(),D=c(null);c([]),c(null);const l=c([{name:"Male",value:1},{name:"Female",value:2}]),A=(F=1)=>{L.get(`/api/users?page=${F}`,{params:{query:Y.value}}).then(S=>{i.value=S.data,m.value=[],z.value=!1})},v=ke({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().required().min(8),gender:I().required()}),C=ke({name:I().required(),last_name:I().required(),first_name:I().required(),email:I().email().required(),password:I().when((F,S)=>F?S.required().min(8):S),gender:I().required()}),n=c([]),x=()=>{L.get("/api/users/userlist").then(F=>{n.value=F.data}).catch(F=>{console.log(F)})},N=(F,S)=>{L.patch(`/api/users/${F.id}/change-sitehead`,{sitehead_user_id:S}).then(()=>{d.success("Sitehead changed successfully!")})},W=(F,{resetForm:S,setErrors:b})=>{L.post("/api/users",F).then(k=>{i.value.data.unshift(k.data),$("#userFormModal").modal("hide"),S(),d.success("User created successfully!")}).catch(k=>{k.response.data.errors&&(b(k.response.data.errors),d.warning(k.response.data.errors.name))})},Z=()=>{u.value=!1,$("#userFormModal").modal("show")},de=F=>{u.value=!0,D.value.resetForm(),$("#userFormModal").modal("show"),p.value={id:F.id,name:F.name,email:F.email,sitehead_user_id:F.sitehead_user_id,first_name:F.first_name,last_name:F.last_name,gender:F.gender}},B=(F,{setErrors:S})=>{L.put("/api/users/"+p.value.id,F).then(b=>{const k=i.value.data.findIndex(ne=>ne.id===b.data.id);i.value.data[k]=b.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},E=(F,S)=>{u.value?B(F,S):W(F,S)},Y=c(null),m=c([]),y=F=>{const S=m.value.indexOf(F.id);S===-1?m.value.push(F.id):m.value.splice(S,1),console.log(m.value)},G=c(null),Q=F=>{G.value=F,$("#deleteUserModal").modal("show")},te=()=>{L.delete(`/api/users/${G.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),i.value.data=i.value.data.filter(F=>F.id!==G.value)})},ie=()=>{L.delete("/api/users",{data:{ids:m.value}}).then(F=>{i.value.data=i.value.data.filter(S=>!m.value.includes(S.id)),m.value=[],z.value=!1,d.success(F.data.message)})},z=c(!1);return ve(Y,Ee.exports.debounce(()=>{A()},300)),ue(()=>{A(),x(),document.title=w}),(F,S)=>{const b=$e("font");return s(),a(O,null,[e("div",Js,[e("div",Zs,[e("div",ea,[e("div",ta,[e("button",{onClick:Z,type:"button",class:"mb-2 btn btn-primary btn-sm"},[sa,q(" User ")]),m.value.length>0?(s(),a("div",aa,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[oa,q(" Delete Selected ")]),e("span",la,"Selected "+t(m.value.length)+" users",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=k=>Y.value=k),class:"form-control",placeholder:"Search..."},null,512),[[re,Y.value]])])]),e("div",na,[e("div",da,[e("div",ia,[e("div",ca,[g(b,{size:"2"},{default:X(()=>[e("table",ra,[ua,i.value.data.length>0?(s(),a("tbody",_a,[(s(!0),a(O,null,K(i.value.data,(k,ne)=>(s(),ce(Xs,{key:k.id,user:k,index:ne,onEditUser:de,onConfirmUserDeletion:Q,onToggleSelection:y,"select-all":z.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",ma,ha))])]),_:1})])]),(s(!0),a(O,null,K(i.value.data,(k,ne)=>(s(),a("div",{class:"dispatch-list",key:k.id,index:ne},[e("div",ba,[e("div",fa,[e("div",$a,[ga,e("span",null,t(k.first_name+" "+k.last_name),1)]),e("div",ya,[ka,e("span",null,t(k.email),1)]),e("div",wa,[xa,e("span",null,t(k.formatted_created_at),1)]),e("div",Ca,[Sa,e("span",null,[k.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:oe=>N(k,oe.target.value)},[(s(!0),a(O,null,K(n.value,oe=>(s(),a("option",{key:oe.id,value:oe.id,selected:oe.sitehead_user_id===oe.id},t(oe.first_name+" "+oe.last_name),9,Ua))),128))],40,Da)):P("",!0)])]),Va,e("div",Ma,[r(_).user.role==="ADMIN"?(s(),a("div",Aa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>de(k)},[Ta,q(" Edit ")],8,Ea),e("button",{class:"btn btnsm btn-danger btn-block",onClick:oe=>Q(k.id)},Fa,8,Pa)])):P("",!0),r(_).user.role==="USER"?(s(),a("div",Ia,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:oe=>de(k)},[Ya,q(" Edit ")],8,qa)])):P("",!0)])])])],8,va))),128))])]),g(r(Fe),{data:i.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",Na,[e("div",Ba,[e("div",Ra,[e("div",Ha,[e("h5",ja,[u.value?(s(),a("span",Oa,"Edit User")):(s(),a("span",za,"Add New User"))]),Ga]),g(r(Ce),{ref_key:"form",ref:D,onSubmit:E,"validation-schema":u.value?r(C):r(v),"initial-values":p.value},{default:X(({errors:k})=>[e("div",Wa,[e("div",Qa,[Ka,g(r(R),{name:"name",type:"text",class:U(["form-control",{"is-invalid":k.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Xa,t(k.name),1)]),e("div",Ja,[e("div",Za,[e("div",eo,[to,g(r(R),{name:"email",type:"email",class:U(["form-control",{"is-invalid":k.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",so,t(k.email),1)])]),e("div",ao,[e("div",oo,[lo,g(r(R),{id:"gender",name:"gender",as:"select",class:U(["form-control",{"is-invalid":k.gender}])},{default:X(()=>[no,(s(!0),a(O,null,K(l.value,ne=>(s(),a("option",{key:ne.name,value:ne.name},t(ne.name),9,io))),128))]),_:2},1032,["class"])])])]),e("div",co,[e("div",ro,[e("div",uo,[_o,g(r(R),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":k.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",mo,t(k.first_name),1)])]),e("div",po,[e("div",ho,[vo,g(r(R),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":k.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",bo,t(k.last_name),1)])])]),e("div",fo,[$o,g(r(R),{name:"position",type:"text",class:U(["form-control",{"is-invalid":k.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",go,t(k.position),1)]),e("div",yo,[ko,g(r(R),{name:"password",type:"password",class:U(["form-control",{"is-invalid":k.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",wo,t(k.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Co,[e("div",So,[e("div",Do,[Uo,e("div",Vo,[Mo,e("button",{onClick:ee(te,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Eo=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Po=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Lo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ae={__name:"ContentLoader",setup(o){return(w,_)=>w.isloading?(s(),ce(r(wt),{key:0,viewBox:"0 0 250 110"},{default:X(()=>[Eo,To,Po,Lo]),_:1})):P("",!0)}};var ge=(o,w)=>{const _=o.__vccOpts||o;for(const[d,i]of w)_[d]=i;return _};const Le=o=>(De("data-v-9bd7df0a"),o=o(),Ue(),o),Fo={class:"content"},Io={class:"container-fluid"},qo={class:"row"},Yo={class:"col-md-6"},No={class:"card"},Bo=we('<ul class="nav nav-tabs" data-v-9bd7df0a><li class="nav-item" data-v-9bd7df0a><a class="nav-link active" id="general" data-toggle="tab" href="#general-tab" data-v-9bd7df0a>General Settings</a></li><li class="nav-item" data-v-9bd7df0a><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-9bd7df0a>Site Settings</a></li></ul>',1),Ro={class:"tab-content"},Ho={class:"tab-pane fade show active",id:"general-tab"},jo={class:"card-body"},Oo={class:"form-group"},zo=Le(()=>e("label",{for:"appName"},"App Display Name",-1)),Go={key:0,class:"text-danger text-sm"},Wo={class:"form-group"},Qo=Le(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Ko=we('<option value="m/d/Y" data-v-9bd7df0a> MM/DD/YYYY </option><option value="d/m/Y" data-v-9bd7df0a> DD/MM/YYYY </option><option value="Y-m-d" data-v-9bd7df0a> YYYY-MM-DD </option><option value="F j, Y" data-v-9bd7df0a> Month DD, YYYY </option><option value="j F Y" data-v-9bd7df0a> DD Month YYYY </option>',5),Xo=[Ko],Jo={key:0,class:"text-danger text-sm"},Zo={class:"form-group"},el=Le(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),tl={key:0,class:"text-danger text-sm"},sl=Le(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),q("Save Changes ")])],-1)),al={class:"tab-pane fade",id:"site"},ol={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ll={key:0,class:"list-group-item p-0"},nl={class:"d-flex justify-content-center"},dl=["onClick"],il={class:"ml-auto my-1 mr-1"},cl=["onClick"],rl=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),ul=[rl],_l={class:"m-2 list-unstyled"},ml={key:1},pl={key:0,class:"list-group-item p-0"},hl={class:"d-flex justify-content-center"},vl=["onClick"],bl={class:"ml-auto my-1 mr-1"},fl=["onClick"],$l=Le(()=>e("i",{class:"fa fa-pen text-success"},null,-1)),gl=[$l],yl={key:1,class:"mt-2 text-center"},kl=Le(()=>e("span",null,"No Site",-1)),wl=[kl],xl={class:"input-group"},Cl=Le(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),Sl={__name:"UpdateSetting",setup(o){const w=`${be().name}`,_=c([]),d=me(),i=c(!0),u=c([]),p=c(!1),D=c(),l=Xe("$swal"),A=c({id:"",site_name:"",is_active:""}),v=()=>{p.value=!0,axios.get("/api/site").then(Y=>{p.value=!1,u.value=Y.data}).catch(Y=>{console.log(Y)})},C=Se(()=>Array.isArray(u.value)?u.value.filter(Y=>Y.is_active===0):[]),n=Se(()=>C.value.length),x=()=>{i.value=!i.value},N=()=>{var Y,m;p.value=!0,axios.post("/api/site",{id:(Y=A.value)==null?void 0:Y.id,site_name:(m=A.value)==null?void 0:m.site_name,is_active:!0}).then(y=>{v(),A.value={id:null,site_name:"",is_active:!0},d.success(y.data.message),p.value=!1}).catch(y=>{y.response&&y.response.status===422&&(B.value=y.response.data.errors)})},W=Y=>{A.value.is_active=Y.is_active===1?0:1,axios.post("/api/site",{id:Y.id,site_name:Y.site_name,is_active:A.value.is_active}).then(m=>{axios.get("/api/site").then(y=>{u.value=y.data}).catch(y=>{console.error("Error fetching tasks:",y),d.error("Error fetching tasks. Please try again.")})}).catch(m=>{console.error("Error adding new task:",m),d.error("Error adding new task. Please try again.")})},Z=Y=>{if(Y.is_active===null||Y.is_active===0){l.fire({title:"Warning!",text:"This record is deactivate please activate before you edit!",icon:"warning"});return}A.value.id=Y.id,A.value.site_name=Y.site_name},de=()=>{axios.get("/api/settings").then(Y=>{_.value=Y.data})},B=c(),E=()=>{B.value="",axios.post("/api/settings",_.value).then(Y=>{d.success("Settings updated successfully!")}).catch(Y=>{Y.response&&Y.response.status===422&&(B.value=Y.response.data.errors)})};return ue(()=>{v(),de(),document.title=w}),(Y,m)=>(s(),a("div",Fo,[e("div",Io,[e("div",qo,[e("div",Yo,[e("div",No,[Bo,e("div",Ro,[e("div",Ho,[e("form",{onSubmit:m[3]||(m[3]=ee(y=>E(),["prevent"]))},[e("div",jo,[e("div",Oo,[zo,J(e("input",{"onUpdate:modelValue":m[0]||(m[0]=y=>_.value.app_name=y),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[re,_.value.app_name]]),B.value&&B.value.app_name?(s(),a("span",Go,t(B.value.app_name[0]),1)):P("",!0)]),e("div",Wo,[Qo,J(e("select",{"onUpdate:modelValue":m[1]||(m[1]=y=>_.value.date_format=y),class:"form-control"},Xo,512),[[Te,_.value.date_format]]),B.value&&B.value.date_format?(s(),a("span",Jo,t(B.value.date_format[0]),1)):P("",!0)]),e("div",Zo,[el,J(e("input",{"onUpdate:modelValue":m[2]||(m[2]=y=>_.value.pagination_limit=y),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[re,_.value.pagination_limit]]),B.value&&B.value.pagination_limit?(s(),a("span",tl,t(B.value.pagination_limit[0]),1)):P("",!0)])]),sl],32)]),e("div",al,[u.value.length>0?(s(),a("div",ol,[p.value?(s(),ce(Ae,{key:0})):P("",!0),(s(!0),a(O,null,K(u.value,y=>(s(),a("ul",{class:"list-group",key:y.id},[y.is_active===1?(s(),a("li",ll,[e("div",nl,[e("div",null,[e("span",{class:U({"btn font-italic text-red":y.is_active===0,btn:y.is_active===1})},[e("i",{onClick:G=>W(y),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":y.is_active===1,"fa fa-circle text-primary":y.is_active===0}),style:{"font-size":"15px"}},null,10,dl),q(" "+t(y.site_name),1)],2)]),e("div",il,[e("button",{onClick:G=>Z(y),class:"btn btn-outline"},ul,8,cl)])])])):P("",!0)]))),128)),e("li",_l,[n.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:x},[e("i",{class:U(["fa",i.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Deactive List "+t(n.value),1)])):P("",!0)]),i.value?(s(),a("div",ml,[(s(!0),a(O,null,K(u.value,y=>(s(),a("ul",{class:"list-group",key:y.id},[y.is_active===0?(s(),a("li",pl,[e("div",hl,[e("div",null,[e("span",{class:U({"btn font-italic text-red":y.is_active===0,btn:y.is_active===1})},[e("i",{onClick:G=>W(y),class:U({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":y.is_active===1,"fa fa-circle text-primary":y.is_active===0}),style:{"font-size":"15px"}},null,10,vl),e("del",null,t(y.site_name),1)],2)]),e("div",bl,[e("button",{onClick:G=>Z(y),class:"btn btn-outline"},gl,8,fl)])])])):P("",!0)]))),128))])):P("",!0)])):(s(),a("div",yl,wl)),g(r(Ce),{ref:"form",onSubmit:N,"initial-values":D.value},{default:X(()=>[g(r(R),{name:"id",modelValue:A.value.id,"onUpdate:modelValue":m[4]||(m[4]=y=>A.value.id=y),type:"text",hidden:""},null,8,["modelValue"]),e("div",xl,[g(r(R),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:A.value.site_name,"onUpdate:modelValue":m[5]||(m[5]=y=>A.value.site_name=y),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),Cl])]),_:1},8,["initial-values"])])])])])])])]))}};var Dl=ge(Sl,[["__scopeId","data-v-9bd7df0a"]]);const Ul={class:"content"},Vl={class:"container-fluid"},Ml={class:"row"},Al={class:"col-md-3"},El={class:"card card-primary card-outline"},Tl={class:"card-body box-profile"},Pl={class:"text-center"},Ll=["src"],Fl={class:"profile-username text-center"},Il={class:"text-muted text-center"},ql={class:"col-md-9"},Yl={class:"card"},Nl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Bl={class:"card-body"},Rl={class:"tab-content"},Hl={class:"tab-pane active",id:"profile"},jl={class:"form-group row"},Ol=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),zl={class:"col-sm-10"},Gl={key:0,class:"text-danger text-sm"},Wl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Kl={class:"col-sm-10"},Xl={key:0,class:"text-danger text-sm"},Jl={class:"form-group row"},Zl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),en={class:"col-sm-10"},tn={key:0,class:"text-danger text-sm"},sn={class:"form-group row"},an=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),on={class:"col-sm-10"},ln={key:0,class:"text-danger text-sm"},nn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),dn={class:"tab-pane",id:"changePassword"},cn={class:"form-group row"},rn=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),un={class:"col-sm-9"},_n={key:0,class:"text-danger text-sm"},mn={class:"form-group row"},pn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),hn={class:"col-sm-9"},vn={key:0,class:"text-danger text-sm"},bn={class:"form-group row"},fn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),$n={class:"col-sm-9"},gn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),q(" Save Changes")])])],-1),yn={__name:"UpdateProfile",setup(o){const w=_e(),_=me(),d=`${be().name}`,i=c([]),u=()=>{axios.put("/api/profile",{name:w.user.name,first_name:w.user.first_name,last_name:w.user.last_name,email:w.user.email,role:w.user.role}).then(C=>{_.success("Profile updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(i.value=C.response.data.errors)})},p=Ve({currentPassword:"",password:"",passwordConfirmation:""}),D=()=>{i.value="",axios.post("/api/change-user-password",p).then(C=>{_.success(C.data.message);for(const n in p)p[n]=""}).catch(C=>{C.response&&C.response.status===422&&(i.value=C.response.data.errors)})},l=c(null),A=()=>{l.value.click()},v=C=>{const n=C.target.files[0];w.user.avatar=URL.createObjectURL(n);const x=new FormData;x.append("profile_picture",n),axios.post("/api/upload-profile-image",x).then(N=>{_.success("Image uploaded successfully!")})};return ue(()=>{document.title=d}),(C,n)=>(s(),a("div",Ul,[e("div",Vl,[e("div",Ml,[e("div",Al,[e("div",El,[e("div",Tl,[e("div",Pl,[e("input",{onChange:v,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:A,class:"profile-user-img img-circle",src:r(w).user.avatar,alt:"User profile picture"},null,8,Ll)]),e("h3",Fl,t(r(w).user.name),1),e("p",Il,t(r(w).user.role),1)])])]),e("div",ql,[e("div",Yl,[Nl,e("div",Bl,[e("div",Rl,[e("div",Hl,[e("form",{onSubmit:n[4]||(n[4]=ee(x=>u(),["prevent"])),class:"form-horizontal"},[e("div",jl,[Ol,e("div",zl,[J(e("input",{"onUpdate:modelValue":n[0]||(n[0]=x=>r(w).user.name=x),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[re,r(w).user.name]]),i.value&&i.value.name?(s(),a("span",Gl,t(i.value.name[0]),1)):P("",!0)])]),e("div",Wl,[Ql,e("div",Kl,[J(e("input",{"onUpdate:modelValue":n[1]||(n[1]=x=>r(w).user.first_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[re,r(w).user.first_name]]),i.value&&i.value.first_name?(s(),a("span",Xl,t(i.value.first_name[0]),1)):P("",!0)])]),e("div",Jl,[Zl,e("div",en,[J(e("input",{"onUpdate:modelValue":n[2]||(n[2]=x=>r(w).user.last_name=x),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[re,r(w).user.last_name]]),i.value&&i.value.last_name?(s(),a("span",tn,t(i.value.last_name[0]),1)):P("",!0)])]),e("div",sn,[an,e("div",on,[J(e("input",{"onUpdate:modelValue":n[3]||(n[3]=x=>r(w).user.email=x),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[re,r(w).user.email]]),i.value&&i.value.email?(s(),a("span",ln,t(i.value.email[0]),1)):P("",!0)])]),nn],32)]),e("div",dn,[e("form",{onSubmit:ee(D,["prevent"]),class:"form-horizontal"},[e("div",cn,[rn,e("div",un,[J(e("input",{"onUpdate:modelValue":n[5]||(n[5]=x=>p.currentPassword=x),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[re,p.currentPassword]]),i.value&&i.value.current_password?(s(),a("span",_n,t(i.value.current_password[0]),1)):P("",!0)])]),e("div",mn,[pn,e("div",hn,[J(e("input",{"onUpdate:modelValue":n[6]||(n[6]=x=>p.password=x),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[re,p.password]]),i.value&&i.value.password?(s(),a("span",vn,t(i.value.password[0]),1)):P("",!0)])]),e("div",bn,[fn,e("div",$n,[J(e("input",{"onUpdate:modelValue":n[7]||(n[7]=x=>p.passwordConfirmation=x),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[re,p.passwordConfirmation]])])]),gn],32)])])])])])])])]))}};const Ye=o=>(De("data-v-5c930933"),o=o(),Ue(),o),kn={class:"login-box"},wn={class:"card card-outline card-primary"},xn=Ye(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),Cn={class:"card-body"},Sn={key:0,class:"alert alert-danger",role:"alert"},Dn={class:"input-group mb-3"},Un=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),Vn={class:"input-group mb-3"},Mn=Ye(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),An=["type"],En={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Tn=Ye(()=>e("div",{class:"input-group mb-3"},null,-1)),Pn={class:"row"},Ln={class:"col-12 mb-2"},Fn=["disabled"],In={key:0,class:"spinner-border spinner-border-sm",role:"status"},qn=Ye(()=>e("span",{class:"sr-only"},"Loading...",-1)),Yn=[qn],Nn={key:1},Bn=Ye(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),Rn="Login",Hn={__name:"Login",setup(o){const w=c(!1),_=me();_e();const d=Ke(),i=Ve({email:"",password:""}),u=c(!1),p=c(""),D=()=>{u.value=!0,p.value="",L.post("/login",i).then(()=>{d.push("/"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{u.value=!1})};return ue(()=>{document.title=Rn}),(l,A)=>(s(),a("div",kn,[e("div",wn,[xn,e("div",Cn,[p.value?(s(),a("div",Sn,t(p.value),1)):P("",!0),e("form",{onSubmit:ee(D,["prevent"])},[e("div",Dn,[Un,J(e("input",{"onUpdate:modelValue":A[0]||(A[0]=v=>i.email=v),type:"email",class:"form-control",placeholder:"Email"},null,512),[[re,i.email]])]),e("div",Vn,[Mn,J(e("input",{"onUpdate:modelValue":A[1]||(A[1]=v=>i.password=v),class:"form-control",placeholder:"Password",type:w.value?"text":"password",onClick:A[2]||(A[2]=(...v)=>l.handleKeyClick&&l.handleKeyClick(...v))},null,8,An),[[st,i.password]])]),e("label",En,[J(e("input",{type:"checkbox","onUpdate:modelValue":A[3]||(A[3]=v=>w.value=v)},null,512),[[Me,w.value]]),q(" Show Password ")]),Tn,e("div",Pn,[e("div",Ln,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:u.value},[u.value?(s(),a("div",In,Yn)):(s(),a("span",Nn,"Sign In"))],8,Fn)])])],32),Bn])])]))}};var jn=ge(Hn,[["__scopeId","data-v-5c930933"]]);const On=["checked"],zn=e("i",{class:"fa fa-edit"},null,-1),Gn=[zn],Wn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Qn=[Wn],Kn={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:w}){me();const _=o,d=w,i=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,On)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.first_name)+" "+t(o.item.last_name),1),e("td",null,t(o.item.email),1),e("td",null,t(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:p[0]||(p[0]=ee(D=>u.$emit("editUser",o.item),["prevent"]))},Gn),e("a",{href:"#",onClick:p[1]||(p[1]=ee(D=>u.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Qn)])]))}},Xn={class:"content"},Jn={class:"container-fluid"},Zn={class:"d-flex justify-content-between"},ed={class:"d-flex"},td=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sd={key:0},ad=e("i",{class:"fa fa-trash mr-1"},null,-1),od={class:"ml-2"},ld={class:"card"},nd={class:"card-body"},dd={class:"table table-bordered"},id=e("th",{style:{width:"10px"}},"#",-1),cd=e("th",null,"Name",-1),rd=e("th",null,"Email",-1),ud=e("th",null,"Registered Date",-1),_d=e("th",null,"Options",-1),md={key:0},pd={key:1},hd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),vd=[hd],bd={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fd={class:"modal-dialog",role:"document"},$d={class:"modal-content"},gd={class:"modal-header"},yd={class:"modal-title",id:"staticBackdropLabel"},kd={key:0},wd={key:1},xd=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Cd={class:"modal-body"},Sd={class:"form-group"},Dd=e("label",{for:"fist_name"},"First Name",-1),Ud={class:"invalid-feedback"},Vd={class:"form-group"},Md=e("label",{for:"last_name"},"Last Name",-1),Ad={class:"invalid-feedback"},Ed={class:"form-group"},Td=e("label",{for:"email"},"Email",-1),Pd={class:"invalid-feedback"},Ld=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Fd={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Id={class:"modal-dialog",role:"document"},qd={class:"modal-content"},Yd=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Nd={class:"modal-footer"},Bd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Rd={__name:"ClientList",setup(o){const w=me(),_=c({data:[]}),d=c(!1),i=c(),u=c(null),p=(G=1)=>{L.get(`/api/clients?page=${G}`,{params:{query:N.value}}).then(Q=>{_.value=Q.data,W.value=[],m.value=!1})},D=ke({first_name:I().required(),last_name:I().required(),email:I().email().required()}),l=ke({first_name:I().required(),last_name:I().required(),email:I().email().required()}),A=(G,{resetForm:Q,setErrors:te})=>{L.post("/api/clients",G).then(ie=>{_.value.data.unshift(ie.data),$("#clientFormModal").modal("hide"),Q(),w.success("User created successfully!")}).catch(ie=>{ie.response.data.errors&&te(ie.response.data.errors)})},v=()=>{d.value=!1,$("#clientFormModal").modal("show")},C=G=>{d.value=!0,u.value.resetForm(),$("#clientFormModal").modal("show"),i.value={id:G.id,first_name:G.first_name,last_name:G.last_name,email:G.email}},n=(G,{setErrors:Q})=>{L.put("/api/clients/"+i.value.id,G).then(te=>{const ie=_.value.data.findIndex(z=>z.id===te.data.id);_.value.data[ie]=te.data,$("#clientFormModal").modal("hide"),w.success("Client updated successfully!")}).catch(te=>{Q(te.response.data.errors),console.log(te)})},x=(G,Q)=>{d.value?n(G,Q):A(G,Q)},N=c(null),W=c([]),Z=G=>{const Q=W.value.indexOf(G.id);Q===-1?W.value.push(G.id):W.value.splice(Q,1),console.log(W.value)},de=c(null),B=G=>{de.value=G,$("#deleteClientModal").modal("show")},E=()=>{L.delete(`/api/clients/${de.value}`).then(()=>{$("#deleteClientModal").modal("hide"),w.success("Client deleted successfully!"),_.value.data=_.value.data.filter(G=>G.id!==de.value)})},Y=()=>{L.delete("/api/clients",{data:{ids:W.value}}).then(G=>{_.value.data=_.value.data.filter(Q=>!W.value.includes(Q.id)),W.value=[],m.value=!1,w.success(G.data.message)})},m=c(!1),y=()=>{m.value?W.value=_.value.data.map(G=>G.id):W.value=[],console.log(W.value)};return ve(N,Ee.exports.debounce(()=>{p()},300)),ue(()=>{p()}),(G,Q)=>(s(),a(O,null,[e("div",Xn,[e("div",Jn,[e("div",Zn,[e("div",ed,[e("button",{onClick:v,type:"button",class:"mb-2 btn btn-primary"},[td,q(" Add New Client ")]),W.value.length>0?(s(),a("div",sd,[e("button",{onClick:Y,type:"button",class:"ml-2 mb-2 btn btn-danger"},[ad,q(" Delete Selected ")]),e("span",od,"Selected "+t(W.value.length)+" clients",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":Q[0]||(Q[0]=te=>N.value=te),class:"form-control",placeholder:"Search..."},null,512),[[re,N.value]])])]),e("div",ld,[e("div",nd,[e("table",dd,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":Q[1]||(Q[1]=te=>m.value=te),onChange:y},null,544),[[Me,m.value]])]),id,cd,rd,ud,_d])]),_.value.data.length>0?(s(),a("tbody",md,[(s(!0),a(O,null,K(_.value.data,(te,ie)=>(s(),ce(Kn,{key:te.id,item:te,index:ie,onEditUser:C,onConfirmUserDeletion:B,onToggleSelection:Z,"select-all":m.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",pd,vd))])])]),g(r(Fe),{data:_.value,onPaginationChangePage:p},null,8,["data"])])]),e("div",bd,[e("div",fd,[e("div",$d,[e("div",gd,[e("h5",yd,[d.value?(s(),a("span",kd,"Edit Client")):(s(),a("span",wd,"Add New Client"))]),xd]),g(r(Ce),{ref_key:"form",ref:u,onSubmit:x,"validation-schema":d.value?r(l):r(D),"initial-values":i.value},{default:X(({errors:te})=>[e("div",Cd,[e("div",Sd,[Dd,g(r(R),{name:"first_name",type:"text",class:U(["form-control",{"is-invalid":te.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",Ud,t(te.first_name),1)]),e("div",Vd,[Md,g(r(R),{name:"last_name",type:"text",class:U(["form-control",{"is-invalid":te.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Ad,t(te.last_name),1)]),e("div",Ed,[Td,g(r(R),{name:"email",type:"email",class:U(["form-control",{"is-invalid":te.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Pd,t(te.email),1)])]),Ld]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Fd,[e("div",Id,[e("div",qd,[Yd,e("div",Nd,[Bd,e("button",{onClick:ee(E,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const Je=o=>(De("data-v-b08ad720"),o=o(),Ue(),o),Hd={style:{"text-align":"center"}},jd={key:0},Od=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),zd=[Od],Gd=Je(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Wd=[Gd],Qd={key:1,style:{"text-align":"center"}},Kd={key:0},Xd=Je(()=>e("i",{class:"fa fa-edit"},null,-1)),Jd=[Xd],Zd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:w}){me();const _=_e();return(d,i)=>{const u=$e("router-link");return s(),a("tr",null,[e("td",null,t(o.item.recommnum),1),e("td",null,t(o.item.user),1),e("td",null,t(o.item.branch),1),e("td",null,t(o.item.department),1),e("td",null,t(o.item.created_user),1),e("td",Hd,[o.item.statusid==2?(s(),ce(u,{key:0,to:`/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:U(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)]),_:1},8,["to"])):P("",!0),o.item.statusid!=2?(s(),a("span",{key:1,class:U(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)):P("",!0)]),e("td",null,t(o.item.created_at),1),r(_).user.role==="ADMIN"?(s(),a("td",jd,[e("a",{href:"#",onClick:i[0]||(i[0]=ee(p=>d.$emit("editUser",o.item),["prevent"]))},zd),e("a",{href:"#",onClick:i[1]||(i[1]=ee(p=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Wd)])):P("",!0),r(_).user.role==="USER"?(s(),a("td",Qd,[o.item.statusid!=2?(s(),a("div",Kd,[o.item.created_by==r(_).user.id?(s(),a("a",{key:0,href:"#",onClick:i[2]||(i[2]=ee(p=>d.$emit("editUser",o.item),["prevent"]))},Jd)):P("",!0)])):P("",!0)])):P("",!0)])}}};var ei=ge(Zd,[["__scopeId","data-v-b08ad720"]]);const ti={class:"content"},si={class:"container-fluid"},ai={class:"d-flex justify-content-between"},oi={class:"d-flex"},li=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ni={key:0},di=e("i",{class:"fa fa-trash mr-1"},null,-1),ii={class:"ml-2"},ci={class:"card"},ri={class:"card-body"},ui={class:"dispatch-table"},_i={class:"table-responsive"},mi={class:"table table-bordered table-sm"},pi=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),hi={key:0},vi={key:1},bi=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),fi=[bi],$i=["item","index"],gi={class:"card"},yi={class:"card-body"},ki={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Tech #:",-1),xi={class:"list-field"},Ci=e("span",{class:"mb-1 dis"},"User:",-1),Si={class:"list-field"},Di=e("span",{class:"mb-1 dis"},"Branch:",-1),Ui={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Department:",-1),Mi={class:"list-field"},Ai=e("span",{class:"mb-1 dis"},"Created by:",-1),Ei={class:"list-field"},Ti=e("span",{class:"mb-1 dis"},"Status:",-1),Pi={class:"list-field"},Li=e("span",{class:"mb-1 dis"},"Created Date:",-1),Fi=e("hr",null,null,-1),Ii={class:"row"},qi={key:0,class:"col"},Yi=["onClick"],Ni=e("i",{class:"fa fa-pencil-square-o"},null,-1),Bi=["onClick"],Ri=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),q(" Remove ")],-1),Hi=[Ri],ji={key:0,class:"btn btnsm btn-success btn-block"},Oi=e("i",{class:"fa fa-pencil-square-o"},null,-1),zi={key:1,class:"col"},Gi={key:0},Wi=["onClick"],Qi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ki={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xi={class:"modal-dialog modal-lg",role:"document"},Ji={class:"modal-content"},Zi={class:"modal-header"},ec={class:"modal-title",id:"staticBackdropLabel"},tc={key:0},sc={key:1},ac=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),oc={class:"modal-body"},lc={class:"col-md-12"},nc={class:"row"},dc={class:"col-6"},ic={class:"form-group"},cc=e("label",{for:"branch"},"Branch",-1),rc=e("option",{value:"",disabled:""}," Select Branch ",-1),uc=["value"],_c={class:"invalid-feedback"},mc={class:"form-group"},pc=e("label",{for:"department"},"Department",-1),hc={class:"invalid-feedback"},vc={class:"form-group"},bc=e("label",{for:"warehouse"},"warehouse",-1),fc={class:"invalid-feedback"},$c={class:"form-group"},gc=e("label",{for:"user"},"User",-1),yc={class:"invalid-feedback"},kc={class:"col-6"},wc={class:"form-group"},xc=e("label",{for:"brand"},"Brand",-1),Cc={class:"form-group"},Sc=e("label",{for:"model"},"Model",-1),Dc={class:"invalid-feedback"},Uc={class:"form-group"},Vc=e("label",{for:"assettag"},"Asset tag",-1),Mc={class:"invalid-feedback"},Ac={class:"form-group"},Ec=e("label",{for:"serialnum"},"Serial number",-1),Tc={class:"invalid-feedback"},Pc={class:"col-12"},Lc={class:"form-group"},Fc=e("label",{for:"problem"},"Report Problem",-1),Ic={class:"invalid-feedback"},qc={class:"form-group"},Yc=e("label",{for:"assconducted"},"Assessment conducted",-1),Nc={class:"invalid-feedback"},Bc={class:"form-group"},Rc=e("label",{for:"recommendation"},"Recommendation",-1),Hc={class:"invalid-feedback"},jc={class:"modal-footer"},Oc={key:0},zc={key:0,class:"btn-group float-l ml-auto"},Gc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Wc={class:"dropdown-menu",role:"menu"},Qc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Kc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),Xc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Jc={class:"modal-dialog",role:"document"},Zc={class:"modal-content"},er=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),tr={class:"modal-footer"},sr=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),ar={__name:"TechList",setup(o){const w=c(),_=c(),d=me(),i=c({data:[]});c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const u=`${be().name}`,p=()=>{L.get("/web/getsite").then(b=>{_.value=b.data.sites}).catch(b=>{console.log(b)})},D=c(!1),l=c(!1),A=c(),v=Ve({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),C=_e();c(null);const n=(b=1)=>{D.value=!0,L.get(`/api/tech-recommendations?page=${b}`,{params:{query:m.value}}).then(k=>{D.value=!1,i.value=k.data,y.value=[],S.value=!1})},x=ke({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),N=ke({branch:I().required(),department:I().required(),user:I().required(),problem:I().required(),assconducted:I().required(),brand:I().required()}),W=(b,{resetForm:k,setErrors:ne})=>{L.post("/api/tech-recommendations",b).then(oe=>{i.value.data.unshift(oe.data),$("#FormModal").modal("hide"),k(),d.success("Data created successfully!")}).catch(oe=>{oe.response.data.errors&&ne(oe.response.data.errors)})},Z=()=>{l.value=!1,$("#FormModal").modal("show")},de=()=>{v.id="",v.recommnum="",v.branch="",v.department="",v.warehouse="",v.user="",v.problem="",v.brand="",v.model="",v.assettag="",v.serialnum="",v.assconducted="",v.recommendation="",v.ceated_by=""},B=b=>{w.value=b.id,l.value=!0,de(),v.id=b.id,v.branch=b.branch,v.department=b.department,v.warehouse=b.warehouse,v.user=b.user,v.problem=b.problem,v.brand=b.brand,v.model=b.model,v.assettag=b.assettag,v.serialnum=b.serialnum,v.assconducted=b.assconducted,v.recommendation=b.recommendation,v.ceated_by=b.ceated_by,v.recommnum=b.recommnum,$("#FormModal").modal("show")},E=(b,{setErrors:k})=>{L.put("/api/tech-recommendations/"+b.id,b).then(ne=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(ne=>{k(ne.response.data.errors),console.log(ne)})},Y=(b,k)=>{l.value?E(v,k):W(b,k)},m=c(null),y=c([]),G=b=>{const k=y.value.indexOf(b.id);k===-1?y.value.push(b.id):y.value.splice(k,1),console.log(y.value)},Q=c(null),te=b=>{Q.value=b,$("#deleteClientModal").modal("show")},ie=()=>{L.delete(`/api/tech-recommendations/${Q.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),i.value.data=i.value.data.filter(b=>b.id!==Q.value)})},z=()=>{L.delete("/api/tech-recommendations",{data:{ids:y.value}}).then(b=>{i.value.data=i.value.data.filter(k=>!y.value.includes(k.id)),y.value=[],S.value=!1,d.success(b.data.message)})},F=b=>{L.post("/api/tech-getaction",{id:w.value,status:b}).then(k=>{$("#FormModal").modal("hide"),n()}).catch(k=>{console.log(k.message)})},S=c(!1);return ve(m,Ee.exports.debounce(()=>{n()},300)),ue(()=>{n(),p(),document.title=u}),(b,k)=>{const ne=$e("font"),oe=$e("router-link");return s(),a(O,null,[e("div",ti,[e("div",si,[e("div",ai,[e("div",oi,[e("button",{onClick:Z,type:"button",class:"mb-2 btn btn-primary"},[li,q(" TechRecom ")]),y.value.length>0?(s(),a("div",ni,[e("button",{onClick:z,type:"button",class:"ml-2 mb-2 btn btn-danger"},[di,q(" Delete Selected ")]),e("span",ii,"Selected "+t(y.value.length)+" techrecomm",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=V=>m.value=V),class:"form-control",placeholder:"Search..."},null,512),[[re,m.value]])])]),e("div",ci,[e("div",ri,[D.value?(s(),ce(Ae,{key:0})):P("",!0),e("div",ui,[e("div",_i,[g(ne,{size:"2"},{default:X(()=>[e("table",mi,[pi,i.value.data.length>0?(s(),a("tbody",hi,[(s(!0),a(O,null,K(i.value.data,(V,T)=>(s(),ce(ei,{key:V.id,item:V,index:T,onEditUser:B,onShowItem:b.viewItem,onConfirmUserDeletion:te,onToggleSelection:G,"select-all":S.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",vi,fi))])]),_:1})])]),(s(!0),a(O,null,K(i.value.data,(V,T)=>(s(),a("div",{class:"dispatch-list",key:V.id,item:V,index:T},[e("div",gi,[e("div",yi,[e("div",ki,[wi,e("span",null,[e("b",null,t(V.recommnum),1)])]),e("div",xi,[Ci,e("span",null,t(V.user),1)]),e("div",Si,[Di,e("span",null,t(V.branch),1)]),e("div",Ui,[Vi,e("span",null,t(V.department),1)]),e("div",Mi,[Ai,e("span",null,t(V.created_user),1)]),e("div",Ei,[Ti,V.statusid==2?(s(),ce(oe,{key:0,to:`/admin/tech-approved/${V.recommnum}/view`,target:"_blank"},{default:X(()=>[e("span",{class:U(["badge",`badge-${V.status.color}`])},t(V.status.name),3)]),_:2},1032,["to"])):P("",!0),V.statusid!=2?(s(),a("span",{key:1,class:U(["badge",`badge-${V.status.color}`])},t(V.status.name),3)):P("",!0)]),e("div",Pi,[Li,e("span",null,t(V.created_at),1)]),Fi,e("div",Ii,[r(C).user.role==="ADMIN"?(s(),a("div",qi,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>B(V)},[Ni,q(" Edit ")],8,Yi),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Ie=>te(V.id)},Hi,8,Bi),V.statusid==2?(s(),a("button",ji,[Oi,q(" Download ")])):P("",!0)])):P("",!0),r(C).user.role==="USER"?(s(),a("div",zi,[V.statusid!=2?(s(),a("div",Gi,[V.created_by==r(C).user.id?(s(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Ie=>B(V)},[Qi,q(" Edit ")],8,Wi)):P("",!0)])):P("",!0)])):P("",!0)])])])],8,$i))),128))])]),g(r(Fe),{data:i.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Ki,[e("div",Xi,[e("div",Ji,[e("div",Zi,[e("h5",ec,[l.value?(s(),a("span",tc,"Edit Tech Recom.")):(s(),a("span",sc,"Add New Tech Recom."))]),ac]),g(r(Ce),{onSubmit:Y,"validation-schema":l.value?r(N):r(x),"initial-values":A.value},{default:X(({errors:V})=>[e("div",oc,[e("div",lc,[e("div",nc,[e("div",dc,[g(r(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(C).user.id,"onUpdate:modelValue":k[1]||(k[1]=T=>r(C).user.id=T)},null,8,["modelValue"]),g(r(R),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:v.recommnum,"onUpdate:modelValue":k[2]||(k[2]=T=>v.recommnum=T)},null,8,["modelValue"]),e("div",ic,[cc,g(r(R),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":V.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:v.branch,"onUpdate:modelValue":k[3]||(k[3]=T=>v.branch=T)},{default:X(()=>[rc,(s(!0),a(O,null,K(_.value,T=>(s(),a("option",{key:T.site_name,value:T.site_name},t(T.site_name),9,uc))),128))]),_:2},1032,["class","modelValue"]),e("span",_c,t(V.branch),1)]),e("div",mc,[pc,g(r(R),{name:"department",type:"text",class:U(["form-control",{"is-invalid":V.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:v.department,"onUpdate:modelValue":k[4]||(k[4]=T=>v.department=T)},null,8,["class","modelValue"]),e("span",hc,t(V.department),1)]),e("div",vc,[bc,g(r(R),{name:"warehouse",type:"text",class:U(["form-control",{"is-invalid":V.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:v.warehouse,"onUpdate:modelValue":k[5]||(k[5]=T=>v.warehouse=T)},null,8,["class","modelValue"]),e("span",fc,t(V.warehouse),1)]),e("div",$c,[gc,g(r(R),{name:"user",type:"text",class:U(["form-control",{"is-invalid":V.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:v.user,"onUpdate:modelValue":k[6]||(k[6]=T=>v.user=T)},null,8,["class","modelValue"]),e("span",yc,t(V.user),1)])]),e("div",kc,[e("div",wc,[xc,g(r(R),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:v.brand,"onUpdate:modelValue":k[7]||(k[7]=T=>v.brand=T)},null,8,["modelValue"])]),e("div",Cc,[Sc,g(r(R),{name:"model",type:"text",class:U(["form-control",{"is-invalid":V.model}]),id:"model",modelValue:v.model,"onUpdate:modelValue":k[8]||(k[8]=T=>v.model=T),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",Dc,t(V.model),1)]),e("div",Uc,[Vc,g(r(R),{name:"assettag",type:"text",class:U(["form-control",{"is-invalid":V.assettag}]),id:"assettag",modelValue:v.assettag,"onUpdate:modelValue":k[9]||(k[9]=T=>v.assettag=T),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Mc,t(V.assettag),1)]),e("div",Ac,[Ec,J(e("input",{name:"serialnum",type:"text",class:U(["form-control",{"is-invalid":V.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":k[10]||(k[10]=T=>v.serialnum=T)},null,2),[[re,v.serialnum]]),e("span",Tc,t(V.serialnum),1)])]),e("div",Pc,[e("div",Lc,[Fc,g(r(R),{name:"problem",as:"textarea",class:U(["form-control",{"is-invalid":V.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:v.problem,"onUpdate:modelValue":k[11]||(k[11]=T=>v.problem=T)},null,8,["class","modelValue"]),e("span",Ic,t(V.problem),1)]),e("div",qc,[Yc,g(r(R),{name:"assconducted",as:"textarea",class:U(["form-control",{"is-invalid":V.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:v.assconducted,"onUpdate:modelValue":k[12]||(k[12]=T=>v.assconducted=T)},null,8,["class","modelValue"]),e("span",Nc,t(V.assconducted),1)]),e("div",Bc,[Rc,g(r(R),{name:"recommendation",as:"textarea",class:U(["form-control",{"is-invalid":V.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:v.recommendation,"onUpdate:modelValue":k[13]||(k[13]=T=>v.recommendation=T)},null,8,["class","modelValue"]),e("span",Hc,t(V.recommendation),1)])])])])]),e("div",jc,[l.value?(s(),a("div",Oc,[r(C).user.role==="ADMIN"?(s(),a("div",zc,[e("button",{type:"button",onClick:k[14]||(k[14]=T=>F(2)),class:"btn btn-info"}," Approved "),Gc,e("div",Wc,[e("span",{onClick:k[15]||(k[15]=T=>F(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:k[16]||(k[16]=T=>F(3)),class:"dropdown-item"},"Disapproved")])])):P("",!0)])):P("",!0),Qc,Kc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Xc,[e("div",Jc,[e("div",Zc,[er,e("div",tr,[sr,e("button",{onClick:ee(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const Re=tt("SettingStore",()=>{const o=c({app_name:""}),w=xt("SettingStore:theme",c("light"));return{setting:o,getSetting:async()=>{await L.get("/api/settings").then(i=>{o.value=i.data})},theme:w,changeTheme:()=>{w.value=w.value==="light"?"dark":"light"}}});const se=o=>(De("data-v-25eebe99"),o=o(),Ue(),o),or={class:"content"},lr={class:"container-fluid"},nr={class:"card"},dr={class:"card-header"},ir={class:"card-title"},cr={class:"card-body"},rr={class:"col-md-12"},ur={class:"d-flex justify-content-between"},_r=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),mr={class:"d-flex"},pr={class:"col-12",id:"accordion"},hr={key:1},vr={key:0},br={class:"card card-secondary"},fr={class:"card-body d-flex align-items-center justify-content-center"},$r={class:"image-container"},gr=["src"],yr=se(()=>e("div",{class:"overlay"},null,-1)),kr={key:1},wr={class:"card-header bg-white"},xr={class:"card-title"},Cr=["href"],Sr=["src"],Dr={class:"card-tools"},Ur=["onClick"],Vr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Mr=[Vr],Ar=["disabled","onClick"],Er=["onClick"],Tr=["onClick"],Pr=se(()=>e("p",{class:"float-right"},null,-1)),Lr=["id"],Fr={class:"card-body"},Ir={class:"col-md-12"},qr={class:"dispatch-table"},Yr={class:"row"},Nr={class:"col-4"},Br=se(()=>e("b",null,"Site:",-1)),Rr=se(()=>e("b",null,"Planned Date:",-1)),Hr=se(()=>e("b",null,"Planned End Date:",-1)),jr={class:"col-4"},Or=se(()=>e("b",null,"Start Date:",-1)),zr=se(()=>e("b",null,"Accomplished Date:",-1)),Gr={class:"closestatus"},Wr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Qr={class:"col-4"},Kr={class:"ongoing"},Xr=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),Jr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Zr=se(()=>e("b",null,"Remarks:",-1)),eu={style:{margin:"0.5%"}},tu=["disabled","onClick"],su=["onClick","disabled"],au={class:"dispatch-list"},ou={class:"list-group list-group-flush"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},pu={class:"badge badge-primary badge-pill"},hu={class:"list-group-item d-flex justify-content-between align-items-center"},vu={class:"badge badge-primary badge-pill"},bu={class:"list-group-item d-flex justify-content-between align-items-center"},fu={class:"badge badge-primary badge-pill"},$u={class:"list-group-item d-flex justify-content-between align-items-center"},gu={class:"badge badge-primary badge-pill"},yu=se(()=>e("hr",null,null,-1)),ku={class:"row"},wu={class:"col"},xu=["onClick"],Cu=se(()=>e("i",{class:"fas fa-pen"},null,-1)),Su=["onClick"],Du=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),q(" Drop ")],-1)),Uu=[Du],Vu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mu={class:"modal-dialog modal-dialog-centered",role:"document"},Au={class:"modal-content"},Eu={class:"modal-header"},Tu={class:"modal-title",id:"staticBackdropLabel"},Pu={key:0},Lu={key:1},Fu={key:2},Iu=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),qu={class:"modal-body"},Yu={class:"col-md-12"},Nu={class:"row"},Bu={class:"col-12"},Ru={class:"form-group"},Hu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),ju=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Ou=["value"],zu={key:0,class:"d-flex justify-content-between"},Gu={class:"d-flex"},Wu={class:"form-group"},Qu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),Ku={class:"form-group"},Xu=se(()=>e("label",{for:"end-time"},"Hour",-1)),Ju=["value"],Zu=se(()=>e("div",{class:"d-fex"},null,-1)),e_={key:1,class:"d-flex justify-content-between"},t_={class:"d-flex"},s_={class:"form-group"},a_=se(()=>e("label",{for:"end-time"},"End Date",-1)),o_={class:"form-group"},l_=se(()=>e("label",{for:"end-time"},"Hour",-1)),n_=["value"],d_=se(()=>e("div",{class:"d-fex"},null,-1)),i_={class:"form-group"},c_=se(()=>e("label",{for:"site"},"Type",-1)),r_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),u_=["value"],__=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary"}," submit "),e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),m_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},p_={class:"modal-dialog modal-sm",role:"document"},h_={class:"modal-content"},v_={class:"modal-header"},b_={class:"modal-title",id:"staticBackdropLabel"},f_=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),$_={class:"modal-body"},g_=we('<ul class="nav nav-tabs" id="myTabs" data-v-25eebe99><li class="nav-item" data-v-25eebe99><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-25eebe99> Todo List</a></li><li class="nav-item" data-v-25eebe99><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-25eebe99> Todo</a></li></ul>',1),y_={class:"tab-content"},k_={class:"tab-pane fade show active",id:"todolist"},w_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},x_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),C_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),S_={key:0,class:"list-group-item p-0"},D_={class:"d-flex justify-content-center"},U_=["onClick"],V_={class:"ml-auto my-1 mr-1"},M_=["onClick"],A_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),E_=[A_],T_={class:"mt-2 mb-2 list-unstyled"},P_={key:1},L_={key:0,class:"list-group-item p-0"},F_={class:"d-flex justify-content-center"},I_=["onClick"],q_={class:"ml-auto my-1 mr-1"},Y_=["onClick"],N_=se(()=>e("i",{class:"fa fa-trash text-danger"},null,-1)),B_=[N_],R_={key:1,class:"mt-2 text-center"},H_=se(()=>e("span",null,"No Todo",-1)),j_=[H_],O_={class:"tab-pane fade",id:"formTask"},z_={class:"col-md-12"},G_={class:"row"},W_={class:"col-12"},Q_={class:"m-2",style:{display:"flex","align-items":"center"}},K_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),q("\xA0Save ")])],-1)),X_={class:"modal fade",id:"onRemarksModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},J_={class:"modal-dialog",role:"document"},Z_={class:"modal-content"},em=se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Add Remarks")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),tm={class:"modal-body"},sm={class:"col-md-12"},am={class:"row"},om={class:"col-12"},lm={class:"modal-footer"},nm=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),dm={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},im={class:"modal-dialog",role:"document"},cm={class:"modal-content"},rm=we('<div class="modal-header" data-v-25eebe99><h5 class="modal-title" id="staticBackdropLabel" data-v-25eebe99><span data-v-25eebe99>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-25eebe99><span aria-hidden="true" data-v-25eebe99>\xD7</span></button></div><div class="modal-body" data-v-25eebe99><h5 data-v-25eebe99>Are you sure you want to delete this record ?</h5></div>',2),um={class:"modal-footer"},_m=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),mm={__name:"MyPrio",setup(o){const w=`${be().name}`,_=c(!1),d=c(!1),i=Xe("$swal");Re();const u=me(),p=c({data:[]}),D=c([]);c([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]),c();const l=c();c();const A=c(!0),v=c(!1);c(!1),c();const C=c(),n=c(),x=c(),N=_e();c(null),c(!1);const W=c([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:5},{name:"HOLIDAY",value:6}]),Z=c(),de=c("1:00 AM"),B=c(),E=c("1:00 AM"),Y=c(Array.from({length:24},(f,M)=>{const h=M%12+1,pe=M<12?"AM":"PM";return`${h}:00 ${pe}`})),m=c(Array.from({length:24},(f,M)=>{const h=M%12+1,pe=M<12?"AM":"PM";return`${h}:00 ${pe}`})),y=Ve({dailytask_id:"",site:"",user_id:N.user.id,tasktype:"",plandate:"",planenddate:"",enddates:"",remarks:"",status:""}),G=c("");ve([Z,de],()=>{const f=new Date(Z.value),M=f.getFullYear(),h=String(f.getMonth()+1).padStart(2,"0"),pe=String(f.getDate()).padStart(2,"0");y.plandate=`${M}-${h}-${pe} ${de.value}`}),ve([Z,E],()=>{const f=new Date(Z.value);f.getFullYear(),String(f.getMonth()+1).padStart(2,"0"),String(f.getDate()).padStart(2,"0")}),ve([B,E],()=>{const f=new Date(B.value),M=f.getFullYear(),h=String(f.getMonth()+1).padStart(2,"0"),pe=String(f.getDate()).padStart(2,"0");y.enddates=`${M}-${h}-${pe} ${E.value}`});const Q=c({id:"",dailytask_id:"",task_name:"",iscompleted:0}),te=()=>{L.get("/web/getsite").then(f=>{l.value=f.data.sites}).catch(f=>{console.log(f)})},ie=()=>{_.value=!0,L.get("/web/dailytask",{params:{query:j.value}}).then(f=>{_.value=!1,p.value=f.data,fe.value=[]})},z=async f=>{(await i({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,L.put(`/web/dailytask/drop/${f}`).then(h=>{u.success("Data drop successfully!"),_.value=!1,ie()}))},F=()=>{$("#FormModalTask").modal("show")},S=f=>{F(),Q.value.dailytask_id=f.dailytask_id,n.value=f.taskdate,x.value=f.startdate,d.value=!0,L.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(M=>{D.value=M.data,F(),d.value=!1}).catch(M=>{console.error("Error fetching tasks:",M)})},b=()=>{d.value=!0,L.post("/web/dailytask/addnewTask",{dailytask_id:Q.value.dailytask_id,task_name:Q.value.task_name,iscompleted:Q.value.iscompleted}).then(f=>{u.success("Data created successfully!"),L.get(`/web/dailytask/${Q.value.dailytask_id}/tasks`).then(M=>{D.value=M.data,d.value=!1}).catch(M=>{console.error("Error fetching tasks:",M),u.error("Error fetching tasks. Please try again.")}),Q.value.task_name=""}).catch(f=>{console.error("Error adding new task:",f),u.error("Error adding new task. Please try again.")})},k=f=>{Q.value.iscompleted=f.iscompleted===1?0:1,L.post("/web/dailytask/addnewTask",{id:f.id,dailytask_id:f.dailytask_id,task_name:f.task_name,iscompleted:Q.value.iscompleted}).then(M=>{L.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(h=>{D.value=h.data}).catch(h=>{console.error("Error fetching tasks:",h),u.error("Error fetching tasks. Please try again.")})}).catch(M=>{console.error("Error adding new task:",M),u.error("Error adding new task. Please try again.")})},ne=Se(()=>Array.isArray(D.value)?D.value.filter(f=>f.iscompleted===1):[]),oe=Se(()=>ne.value.length),V=()=>{A.value=!A.value},T=f=>{L.delete(`/web/dailytask/deleteTask/${f.id}`).then(M=>{L.get(`/web/dailytask/${f.dailytask_id}/tasks`).then(h=>{D.value=h.data,u.success("Todo successfull Deleted")}).catch(h=>{console.error("Error fetching tasks:",h),u.error("Error fetching tasks. Please try again.")})}).catch(M=>{console.error("Error adding new task:",M),u.error("Error adding new task. Please try again.")})};ke({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()}),ke({site:I().required(),tasktype:I().required(),plandate:I().required(),planenddate:I().required()});const Ie=(f,M)=>{L.post("/web/dailytask",y).then(h=>{ie(),$("#FormModal").modal("hide"),u.success("data created successfully!")}).catch(h=>{M.setErrors(h.response.data.errors)})},Oe=(f,M)=>{L.put("/web/dailytask/"+y.dailytask_id,y).then(h=>{console.log(h.data),ie(),$("#FormModal").modal("hide"),u.success("data update successfully!")}).catch(h=>{M.setErrors(h.response.data.errors)})},Be=f=>{f&&f.dailytask_id!==null&&f.dailytask_id!==void 0?(v.value=!0,C.value=" on "+he(f.taskdate).format("MMMM D, YYYY"),y.site=f.site_name,y.dailytask_id=f.dailytask_id,y.plandate=f.plandate,y.planenddate=f.planenddate,y.tasktype=f.tasktype,console.log(f.site_name),console.log(f.tasktype)):v.value=!1,te(),$("#FormModal").modal("show")},ze=(f,M)=>{v.value?Oe(f,M):Ie(f,M)},qe=async f=>{if((await i.fire({title:"Are you sure?",text:"You want to complete your task?",icon:"warning",showCancelButton:!0})).isConfirmed){const h=await L.put("/web/dailytask/onTashHoliday/"+f.dailytask_id,f);u.success(h.data.message),ie()}},Ge=async f=>{try{const M=await L.get(`/web/dailytask/${f.dailytask_id}/tasks`);if(D.value=M.data,!D.value||D.value.length===0){i.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await i.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const pe=await L.put("/web/dailytask/onhandler/"+f.dailytask_id,f);u.success(pe.data.message),ie()}}catch(M){console.error("Error fetching tasks:",M),u.error("An error occurred while updating the task.")}},We=f=>{$("#onRemarksModal").modal("show"),G.value=f},H=()=>{y.remarks===null||y.remarks==""?u.error("Remarks is required"):(he(G.value.taskdate).format("YYYY-MM-DD")===he().format("YYYY-MM-DD")?y.status="HIT":y.status="MISS",L.put("/web/dailytask/onhandler/"+G.value.dailytask_id,{startdate:G.value.startdate,remarks:y.remarks,status:y.status}).then(M=>{console.log(M.data),ie(),$("#onRemarksModal").modal("hide"),u.success(M.data.message)}))},j=c(null),fe=c([]);return c(null),ve(j,Ee.exports.debounce(()=>{ie()},300)),ue(()=>{at(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ie(),document.title=w}),(f,M)=>(s(),a(O,null,[e("div",or,[e("div",lr,[e("div",nr,[e("div",dr,[e("div",ir,t(r(N).user.first_name+" "+r(N).user.last_name)+" - My Prio ",1)]),e("div",cr,[e("div",rr,[e("div",ur,[e("div",{class:"d-flex"},[e("button",{onClick:Be,type:"button",class:"mb-2 btn btn-primary"},[_r,q(" Task ")])]),e("div",mr,[J(e("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=h=>j.value=h),class:"form-control",placeholder:"Search..."},null,512),[[re,j.value]])])]),e("div",pr,[_.value?(s(),ce(Ae,{key:0})):(s(),a("div",hr,[p.value.length===0?(s(),a("div",vr,[e("div",br,[e("div",fr,[e("div",$r,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,gr),yr])])])])):(s(),a("div",kr,[(s(!0),a(O,null,K(p.value,h=>(s(),a("div",{class:"card card-primary",key:h.id},[e("div",wr,[e("h4",xr,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+h.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Sr),q(" \xA0"),e("b",null,t(r(he)(h.taskdate).format("MMMM D, YYYY")+" - "+h.site_name),1)],8,Cr)]),e("div",Dr,[h.tasktypeid&&h.tasktypeid!==6?(s(),a("button",{key:0,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:pe=>S(h)},Mr,8,Ur)):P("",!0),!h.enddate&&h.tasktypeid!==6?(s(),a("button",{key:1,disabled:h.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:pe=>We(h)}," End ",8,Ar)):P("",!0),h.tasktypeid&&h.tasktypeid===6?(s(),a("button",{key:2,type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:pe=>qe(h)}," Complete ",8,Er)):P("",!0),!h.startdate&&h.tasktypeid!==6?(s(),a("button",{key:3,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:pe=>Ge(h)}," Start ",8,Tr)):P("",!0),Pr])]),e("div",{id:"collapse"+h.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Fr,[e("div",Ir,[e("div",qr,[e("div",Yr,[e("div",Nr,[e("h5",null,[Br,q(" "+t(h.site_name),1)]),e("h5",null,[Rr,q(" "+t(h.plandate),1)]),e("h5",null,[Hr,q(" "+t(h.planenddate),1)])]),e("div",jr,[e("h5",null,[Or,q(" "+t(h.startdate!==null?r(he)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[zr,q(" "+t(h.enddate!==null?r(he)(h.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Gr,[Wr,q(" "+t(h.tasktype?h.tasktype.join(", "):""),1)])]),e("div",Qr,[e("h5",Kr,[Xr,q(" "+t(h.status),1)]),e("h5",null,[Jr,q(" "+t(h.attachment),1)]),e("h5",null,[Zr,q(" "+t(h.remarks),1)])])]),e("div",eu,[e("button",{disabled:h.startdate!==null,onClick:pe=>z(h.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,tu),e("button",{onClick:pe=>Be(h),type:"button",disabled:h.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,su)])]),e("div",au,[e("ul",ou,[e("li",lu,[q(" Site: "),e("span",nu,t(h.site_name),1)]),e("li",du,[q(" Planned Date: "),e("span",iu,t(h.plandate),1)]),e("li",cu,[q(" Planned End Date: "),e("span",ru,t(h.planenddate),1)]),e("li",uu,[q(" Start Date: "),e("span",_u,t(h.startdate!==null?r(he)(h.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",mu,[q(" Type: "),e("span",pu,t(h.tasktype?h.tasktype.join(", "):""),1)]),e("li",hu,[q(" Status: "),e("span",vu,t(h.status),1)]),e("li",bu,[q(" Attachment: "),e("span",fu,t(h.attachment),1)]),e("li",$u,[q(" Remarks: "),e("span",gu,t(h.remarks),1)])]),yu,e("div",ku,[e("div",wu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:pe=>Be(h)},[Cu,q(" Edit ")],8,xu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:pe=>z(h.dailytask_id)},Uu,8,Su)])])])])])],8,Lr)]))),128))]))]))])])])])])]),e("div",Vu,[e("div",Mu,[e("div",Au,[e("div",Eu,[e("h5",Tu,[v.value?(s(),a("span",Pu,"Edit My Task")):(s(),a("span",Lu,"Add My Task")),v.value?(s(),a("span",Fu,t(C.value),1)):P("",!0)]),Iu]),g(r(Ce),{onSubmit:ze},{default:X(()=>[e("div",qu,[e("div",Yu,[e("div",Nu,[e("div",Bu,[g(r(R),{modelValue:y.user_id,"onUpdate:modelValue":M[1]||(M[1]=h=>y.user_id=h),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Ru,[Hu,J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":M[2]||(M[2]=h=>y.site=h)},[ju,(s(!0),a(O,null,K(l.value,h=>(s(),a("option",{key:h.id,value:h.id},t(h.site_name),9,Ou))),128))],512),[[Te,y.site]])]),v.value==!1?(s(),a("div",zu,[e("div",Gu,[e("div",Wu,[Qu,g(r(Pe),{class:"form-control",modelValue:Z.value,"onUpdate:modelValue":M[3]||(M[3]=h=>Z.value=h)},null,8,["modelValue"])]),e("div",Ku,[Xu,J(e("select",{class:"form-control","onUpdate:modelValue":M[4]||(M[4]=h=>de.value=h),id:"plandate"},[(s(!0),a(O,null,K(Y.value,h=>(s(),a("option",{key:h,value:h},t(h),9,Ju))),128))],512),[[Te,de.value]])])]),Zu])):P("",!0),v.value==!1?(s(),a("div",e_,[e("div",t_,[e("div",s_,[a_,g(r(Pe),{class:"form-control",modelValue:B.value,"onUpdate:modelValue":M[5]||(M[5]=h=>B.value=h)},null,8,["modelValue"])]),e("div",o_,[l_,J(e("select",{class:"form-control","onUpdate:modelValue":M[6]||(M[6]=h=>E.value=h),id:"plandate"},[(s(!0),a(O,null,K(m.value,h=>(s(),a("option",{key:h,value:h},t(h),9,n_))),128))],512),[[Te,E.value]])])]),d_])):P("",!0),e("div",i_,[c_,g(r(R),{name:"tasktype"},{default:X(()=>[J(e("select",{"onUpdate:modelValue":M[7]||(M[7]=h=>y.tasktype=h),class:"form-control",required:!0},[r_,(s(!0),a(O,null,K(W.value,h=>(s(),a("option",{key:h.value,value:h.value},t(h.name),9,u_))),128))],512),[[Te,y.tasktype]])]),_:1})])])])])]),__]),_:1})])])]),e("div",m_,[e("div",p_,[e("div",h_,[e("div",v_,[e("h5",b_," My Todo of "+t(r(he)(n.value).format("MM/D/YYYY")),1),f_]),e("div",$_,[g_,e("div",y_,[e("div",k_,[D.value.length>0?(s(),a("div",w_,[d.value?(s(),ce(Ae,{key:0,viewBox:"0 0 250 110"},{default:X(()=>[x_,C_]),_:1})):P("",!0),(s(!0),a(O,null,K(D.value,h=>(s(),a("ul",{class:"list-group",key:h.id},[h.iscompleted!==1?(s(),a("li",S_,[e("div",D_,[e("div",null,[e("span",{class:U({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:pe=>k(h),class:U({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,U_)):P("",!0),q(" "+t(h.task_name),1)],2)]),e("div",V_,[e("button",{onClick:pe=>T(h),class:"btn btn-outline"},E_,8,M_)])])])):P("",!0)]))),128)),e("li",T_,[oe.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:V},[e("i",{class:U(["fa",A.value?"fa-arrow-down":"fa-arrow-right"])},null,2),q(" \xA0Completed "+t(oe.value),1)])):P("",!0)]),A.value?(s(),a("div",P_,[(s(!0),a(O,null,K(D.value,h=>(s(),a("ul",{class:"list-group",key:h.id},[h.iscompleted===1?(s(),a("li",L_,[e("div",F_,[e("div",null,[e("span",{class:U({"font-italic btn":h.iscompleted===1,btn:h.iscompleted!==1})},[x.value?(s(),a("i",{key:0,onClick:pe=>k(h),class:U({"cursor-pointer mr-2 ":!0,"fa fa-check-circle text-primary":h.iscompleted===1,"fa fa-circle text-primary":h.iscompleted!==1})},null,10,I_)):P("",!0),q(" "+t(h.task_name),1)],2)]),e("div",q_,[e("button",{onClick:pe=>T(h),class:"btn btn-outline"},B_,8,Y_)])])])):P("",!0)]))),128))])):P("",!0)])):(s(),a("div",R_,j_))]),e("div",O_,[g(r(Ce),{onSubmit:b},{default:X(()=>[e("div",z_,[e("div",G_,[e("div",W_,[g(r(R),{modelValue:Q.value.dailytask_id,"onUpdate:modelValue":M[8]||(M[8]=h=>Q.value.dailytask_id=h),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",Q_,[g(r(R),{modelValue:Q.value.task_name,"onUpdate:modelValue":M[9]||(M[9]=h=>Q.value.task_name=h),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),K_]),_:1})])])])])])]),e("div",X_,[e("div",J_,[e("div",Z_,[em,e("div",tm,[e("div",sm,[e("div",am,[e("div",om,[g(r(R),{modelValue:y.remarks,"onUpdate:modelValue":M[10]||(M[10]=h=>y.remarks=h),name:"'remarks",type:"text",class:"form-control",required:"",placeholder:"Remarks"},null,8,["modelValue"])])])])]),e("div",lm,[e("button",{onClick:M[11]||(M[11]=ee(h=>H(),["prevent"])),type:"button",class:"btn btn-primary"}," Submit "),nm])])])]),e("div",dm,[e("div",im,[e("div",cm,[rm,e("div",um,[e("button",{onClick:M[12]||(M[12]=ee((...h)=>f.deleteUser&&f.deleteUser(...h),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User "),_m])])])])],64))}};var pm=ge(mm,[["__scopeId","data-v-25eebe99"]]);const hm={class:"text-center"},vm={key:0},bm={class:"text-center"},fm={key:0},$m={class:"text-center"},gm={key:0,class:"bg-success text-center"},ym={key:1,class:"bg-danger text-center"},km={key:2,class:"text-center"},wm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return me(),_e(),(w,_)=>(s(),a("tr",null,[e("td",null,t(r(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",hm,[o.item.task_lists_count!==0?(s(),a("span",vm,t(o.item.task_lists_count),1)):P("",!0)]),e("td",bm,[o.item.completed_task_count!==0?(s(),a("span",fm,t(o.item.completed_task_count),1)):P("",!0)]),e("td",$m,[e("span",null,t(o.item.remarks),1)]),o.item.status==="HIT"?(s(),a("td",gm,t(o.item.status),1)):o.item.status==="MISS"?(s(),a("td",ym,t(o.item.status),1)):o.item.status===null||o.item.status===""?(s(),a("td",km,t(o.item.status===null||o.item.status===""?"On Going!":""),1)):P("",!0),e("td",{class:U({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},t(o.item.percentage_completed+"%"),3)]))}};const ye=o=>(De("data-v-37ef9673"),o=o(),Ue(),o),xm={class:"content-header"},Cm={class:"container-fluid"},Sm={class:"col-12"},Dm={class:"card",id:"captureVSCContainer"},Um={class:"card-header"},Vm={class:"card-title"},Mm={class:"card-tools"},Am={class:"card-body"},Em=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),Tm=[Em],Pm={key:1,class:"row"},Lm={class:"inner"},Fm={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Im=["src"],qm={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},Ym={key:0,class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},Nm={key:1,class:"m-2 text-center",style:{color:"#F3F5F8","text-align":"left"}},Bm={style:{"text-align":"left"}},Rm={key:0},Hm=ye(()=>e("span",{class:"text-light badge"},"Todos",-1)),jm={class:"list-group-item"},Om={style:{display:"flex","align-items":"left"}},zm={class:"ml-1"},Gm={class:"ml-1"},Wm={class:"float-right"},Qm={id:"captureHitRateContainer",class:"card"},Km={class:"card-header"},Xm={class:"card-title"},Jm={class:"card-body"},Zm={class:"content"},ep={class:"container-fluid"},tp=ye(()=>e("i",{class:"fa fa-camera"},null,-1)),sp=[tp],ap={class:"dispatch-table"},op={class:"table-responsive"},lp={class:"table table-bordered table-hover table-sm"},np=ye(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Remarks"),e("th",null,"Status"),e("th",null,"Percentage Todos")])],-1)),dp=["item"],ip={class:"list-field"},cp=ye(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),rp={class:"list-field"},up=ye(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),_p={key:0},mp={class:"list-field"},pp=ye(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),hp={key:0},vp={class:"list-field"},bp=ye(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),fp={class:"list-field"},$p=ye(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),gp={class:"list-field"},yp=ye(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),kp={class:"float-right"},wp={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xp={class:"modal-dialog modal-sm",role:"document"},Cp={class:"modal-content"},Sp=ye(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Dp={class:"modal-body"},Up={class:"fromtocenter"},Vp=ye(()=>e("label",{for:"fromDate"},"From:",-1)),Mp=ye(()=>e("label",{for:"toDate"},"To:",-1)),Ap=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ep={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Tp={class:"modal-dialog modal-sm",role:"document"},Pp={class:"modal-content"},Lp=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Fp={class:"modal-body"},Ip={class:"container"},qp={class:"row"},Yp=["onClick"],Np=ye(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),Bp={__name:"MyVsc",setup(o){const w=`${be().name}`,_=_e(),d=c(!1),i=c([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),p=c((()=>{const E={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",E)})()),D=()=>{const E=document.getElementById("captureVSCContainer");je(E).then(Y=>{const m=Y.toDataURL(),y=document.createElement("a");y.href=m,y.download=`${_.user.first_name+" "+_.user.last_name} - ${w}.png`,y.click()})},l=()=>{const E=document.getElementById("captureHitRateContainer");je(E).then(Y=>{const m=Y.toDataURL(),y=document.createElement("a");y.href=m,y.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,y.click()})};c(null),c("today");const A=c({data:[]}),v=c({data:[]}),C=()=>{d.value=!0,axios.get("/api/myvsc").then(E=>{d.value=!1,A.value=E.data.dailyTasks,v.value=E.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},x=c({start_date:"",end_date:""}),N=c(""),W=c("");ve([N],()=>{const E=new Date(N.value),Y=E.getFullYear(),m=String(E.getMonth()+1).padStart(2,"0"),y=String(E.getDate()).padStart(2,"0");x.value.start_date=`${Y}-${m}-${y}`}),ve([W],()=>{const E=new Date(W.value),Y=E.getFullYear(),m=String(E.getMonth()+1).padStart(2,"0"),y=String(E.getDate()).padStart(2,"0");x.value.end_date=`${Y}-${m}-${y}`});const Z=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:x.value.start_date,end_date:x.value.end_date}}).then(E=>{d.value=!1,A.value=E.data.dailyTasks,v.value=E.data.TaskList}).catch(E=>{console.error(E)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},de=()=>{$("#FormModalPickerThemes").modal("show")},B=E=>{if(E){const Y=_.user.id;axios.post("/api/changethemes",{userid:Y,background:E.background,active_background:E.active_background,font_background:E.font_background}).then(m=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(y=>{d.value=!1,A.value=y.data.dailyTasks,v.value=y.data.TaskList})}).catch(m=>{console.error(m)})}else console.error("Invalid item:",E)};return ue(()=>{C(),document.title=w}),(E,Y)=>(s(),a(O,null,[e("div",xm,[e("div",Cm,[e("div",Sm,[e("div",Dm,[e("div",Um,[e("div",Vm,[e("h5",null,t(r(_).user.first_name+" "+r(_).user.last_name)+" - "+t(w),1)]),e("div",Mm,[e("i",{onClick:Y[0]||(Y[0]=m=>de()),class:"fas fa-palette"})])]),e("div",Am,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:D,type:"button",class:"mb-2 btn btn-sm btn-success"},Tm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(s(),ce(Ae,{key:0})):(s(),a("div",Pm,[(s(!0),a(O,null,K(A.value,m=>(s(),a("div",{class:"col-lg-3 col-6",key:m.id},[e("div",{class:"small-box",style:Qe("background-color: "+(r(he)(m.taskdate).format("MMMM D, YYYY")===p.value?m.active_background==""?"#72461F":m.active_background:m.background==""?"#B98D65":m.background)+";")},[e("div",Lm,[e("div",Fm,[q(t(r(he)(m.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,Im)]),e("div",qm,t(r(he)(m.taskdate).format("MMMM D, YYYY")),1),m.tasktype!==6?(s(),a("div",Ym,t(m.site_name),1)):P("",!0),m.tasktype===6?(s(),a("div",Nm," Holiday ")):P("",!0),e("div",Bm,[m.task_lists&&m.task_lists.length>0?(s(),a("div",Rm,[Hm,(s(!0),a(O,null,K(m.task_lists,y=>(s(),a("ul",{class:"list-group list-group-flush",key:y.id},[e("li",jm,[e("div",Om,[e("div",zm,[e("i",{class:U(y.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Gm,t(y.task_name),1)])])]))),128))])):P("",!0)])])],4)]))),128))])),e("div",Wm,t(p.value),1)])]),e("div",Qm,[e("div",Km,[e("div",Xm,[e("h5",null,t(r(_).user.first_name+" "+r(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Jm,[e("div",Zm,[e("div",ep,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},sp)])]),e("div",ap,[e("div",op,[e("table",lp,[np,e("tbody",null,[(s(!0),a(O,null,K(v.value,m=>(s(),ce(wm,{key:m.id,item:m},null,8,["item"]))),128))])])])]),(s(!0),a(O,null,K(v.value,m=>(s(),a("div",{class:"dispatch-list",key:m.id,item:m},[e("div",{class:U([{"callout callout-success":m.remarks==="HIT","callout callout-danger":m.remarks==="MISS",callout:m.remarks===null}])},[e("div",ip,[cp,e("span",null,t(r(he)(m.taskdate).format("MMMM D, YYYY")),1)]),e("div",rp,[up,m.task_lists_count!==0?(s(),a("span",_p,t(m.task_lists_count),1)):P("",!0)]),e("div",mp,[pp,m.completed_task_count!==0?(s(),a("span",hp,t(m.completed_task_count),1)):P("",!0)]),e("div",vp,[bp,e("span",null,t(m.remarks),1)]),e("div",fp,[$p,e("span",{class:U(["badge",m.status==="HIT"?"bg-success":"bg-danger"])},[e("b",null,t(m.status),1)],2)]),e("div",gp,[yp,e("span",{class:U(["badge",{"bg-danger":m.percentage_completed>=0&&m.percentage_completed<=59},{"bg-orange":m.percentage_completed>60&&m.percentage_completed<=90},{"bg-success":m.percentage_completed===100}])},t(m.percentage_completed+"%"),3)])],2)],8,dp))),128))])]),e("div",kp,t(p.value),1)])])])])]),e("div",wp,[e("div",xp,[e("div",Cp,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(w)+" Summary Report")]),Sp]),e("div",Dp,[e("div",Up,[e("div",null,[Vp,g(r(Pe),{modelValue:N.value,"onUpdate:modelValue":Y[1]||(Y[1]=m=>N.value=m)},null,8,["modelValue"])]),e("div",null,[Mp,g(r(Pe),{modelValue:W.value,"onUpdate:modelValue":Y[2]||(Y[2]=m=>W.value=m)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Ap,e("button",{onClick:Z,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",Ep,[e("div",Tp,[e("div",Pp,[Lp,e("div",Fp,[e("div",Ip,[e("div",qp,[(s(!0),a(O,null,K(i.value,m=>(s(),a("div",{class:"col-md-4",key:m.background},[e("div",{class:"box",onClick:y=>B(m)},[e("div",{class:"column",style:Qe({"background-color":m.background})}," \xA0 ",4),e("div",{class:"column",style:Qe({"background-color":m.active_background})}," \xA0 ",4)],8,Yp)]))),128))])])]),Np])])])],64))}};var Rp=ge(Bp,[["__scopeId","data-v-37ef9673"]]);const Hp={class:"text-center"},jp={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return me(),_e(),(w,_)=>(s(),a("tr",null,[e("td",null,t(o.item.sitename),1),e("td",null,t(r(he)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(o.item.startdate),1),e("td",null,t(o.item.enddate),1),e("td",null,t(o.item.tasktype.listtask),1),e("td",Hp,[e("span",{class:U(["badge",o.item.status==="HIT"?"bg-success":"bg-danger"])},t(o.item.status),3)]),e("td",null,t(o.item.remarks),1)]))}};var Op=ge(jp,[["__scopeId","data-v-24025b6b"]]);const xe=o=>(De("data-v-029f6d88"),o=o(),Ue(),o),zp={class:"content"},Gp={class:"container-fluid"},Wp={class:"card",id:"capturePrioContainer"},Qp={class:"card-header"},Kp={class:"card-title"},Xp={class:"card-body"},Jp={key:1,class:"content"},Zp={class:"container-fluid"},eh=xe(()=>e("i",{class:"fa fa-camera"},null,-1)),th=[eh],sh={class:"dispatch-table"},ah={class:"table-responsive"},oh={class:"table table-bordered table-sm table-striped table-hover"},lh=xe(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),nh={key:0},dh={key:1},ih=xe(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),ch=[ih],rh=["item","index"],uh={class:"card"},_h={class:"card-body"},mh={class:"list-field"},ph=xe(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),hh={class:"list-field"},vh=xe(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),bh={class:"list-field"},fh=xe(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),$h={class:"list-field"},gh=xe(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),yh={class:"list-field"},kh=xe(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),wh={class:"list-field"},xh=xe(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),Ch={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sh={class:"modal-dialog modal-sm",role:"document"},Dh={class:"modal-content"},Uh=xe(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),Vh={class:"modal-body"},Mh={class:"fromtocenter"},Ah=xe(()=>e("label",{for:"fromDate"},"From:",-1)),Eh=xe(()=>e("label",{for:"toDate"},"To:",-1)),Th=xe(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ph={__name:"MyClosePrioList",setup(o){const w=`${be().name}`,_=c(!1);me();const d=c({data:[]}),i=c(""),u=c(""),p=_e(),D=(C=1)=>{_.value=!0,L.get(`/api/mycloseprio?page=${C}`,{params:{query:v.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const C=document.getElementById("capturePrioContainer");je(C).then(n=>{const x=n.toDataURL(),N=document.createElement("a");N.href=x,N.download="MY CLOSED PRIO.png",N.click()})},A=()=>{_.value=!0,L.get("/api/filter-closeprio",{params:{start_date:i.value,end_date:u.value}}).then(C=>{_.value=!1,d.value=C.data.dailyTasks}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},v=c(null);return ve(v,Ee.exports.debounce(()=>{D()},300)),ue(()=>{D(),document.title=w}),(C,n)=>{const x=$e("font");return s(),a(O,null,[e("div",zp,[e("div",Gp,[e("div",Wp,[e("div",Qp,[e("div",Kp,[e("h5",null,t(r(p).user.first_name+" "+r(p).user.last_name)+" - My Closed Prio ",1)])]),e("div",Xp,[_.value?(s(),ce(Ae,{key:0})):(s(),a("div",Jp,[e("div",Zp,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},th)])]),e("div",null,[e("div",sh,[e("div",ah,[g(x,{size:"2"},{default:X(()=>[e("table",oh,[lh,d.value.data.length>0?(s(),a("tbody",nh,[(s(!0),a(O,null,K(d.value.data,(N,W)=>(s(),ce(Op,{key:N.id,item:N,index:W},null,8,["item","index"]))),128))])):(s(),a("tbody",dh,ch))])]),_:1})])]),(s(!0),a(O,null,K(d.value.data,(N,W)=>(s(),a("div",{class:"dispatch-list first-letter:shadow",key:N.id,item:N,index:W},[e("div",uh,[e("div",_h,[e("div",mh,[ph,e("span",null,t(N.sitename),1)]),e("div",hh,[vh,e("span",null,t(r(he)(N.taskdate).format("MMMM D, YYYY")),1)]),e("div",bh,[fh,e("span",null,t(N.startdate),1)]),e("div",$h,[gh,e("span",null,t(N.enddate),1)]),e("div",yh,[kh,e("span",null,t(N.tasktype.listtask),1)]),e("div",wh,[xh,e("span",{class:U(["badge",N.remarks==="HIT"?"bg-success":"bg-danger"])},t(N.remarks),3)])])])],8,rh))),128))])])]))])]),g(r(Fe),{data:d.value,onPaginationChangePage:D},null,8,["data"])])]),e("div",Ch,[e("div",Sh,[e("div",Dh,[Uh,e("div",Vh,[e("div",Mh,[e("div",null,[Ah,g(r(Pe),{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=N=>i.value=N)},null,8,["modelValue"])]),e("div",null,[Eh,g(r(Pe),{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=N=>u.value=N)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[Th,e("button",{onClick:A,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var Lh=ge(Ph,[["__scopeId","data-v-029f6d88"]]);const Fh=["checked"],Ih={class:"text-center"},qh=e("i",{class:"fa fa-edit"},null,-1),Yh=[qh],Nh={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:w}){me();const _=o,d=w,i=()=>{d("toggleSelection",_.user)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,Fh)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",Ih,[e("a",{href:"#",onClick:p[0]||(p[0]=ee(D=>u.$emit("editUser",o.user),["prevent"]))},Yh)])]))}},Bh={class:"content"},Rh={class:"container-fluid"},Hh={class:"card"},jh={class:"card-header"},Oh=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),zh={class:"card-tools"},Gh={class:"card-body"},Wh={class:"table-responsive"},Qh={class:"table table-bordered table-hover table-sm"},Kh=e("th",{style:{width:"10px"}},"#",-1),Xh=e("th",null,"Name",-1),Jh=e("th",null,"Email",-1),Zh=e("th",null,"Registered Date",-1),ev=e("th",null,"Options",-1),tv={key:0},sv={key:1},av=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ov=[av],lv={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},nv={class:"modal-dialog modal-sm",role:"document"},dv={class:"modal-content"},iv={class:"modal-header"},cv={class:"modal-title",id:"staticBackdropLabel"},rv={key:0},uv=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),_v={class:"modal-body"},mv={class:"table table-sm"},pv=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),hv={colspan:"5"},vv={class:"custom-control custom-checkbox"},bv=["value","id","checked"],fv=["for"],$v={key:0,class:"table table-sm"},gv={class:"text-danger"},yv={class:"custom-control custom-checkbox"},kv=["value","id"],wv=["for"],xv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Cv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Sv={class:"modal-dialog",role:"document"},Dv={class:"modal-content"},Uv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Vv={class:"modal-footer"},Mv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Av={__name:"UserMenuList",setup(o){const w=`${be().name}`,_=me(),d=c({data:[]}),i=c(!1),u=c(),p=c(null),D=c(null),l=c([]),A=(B=1)=>{L.get(`/api/users?page=${B}`,{params:{query:n.value}}).then(E=>{d.value=E.data,x.value=[],selectAll.value=!1})},v=B=>{L.get("/api/usermenu",{params:{user_id:B.id}}).then(E=>{de.value=E.data,console.log(E.data)}).catch(E=>{console.log(E)}),i.value=!0,p.value.resetForm(),$("#userFormModal").modal("show"),u.value={id:B.id,username:B.username,email:B.email,first_name:B.first_name,last_name:B.last_name},D.value=u.value.first_name+" "+u.value.last_name},C=()=>{const B={user_id:u.value.id,menu_id:l.value};console.log(B),L.post("/api/usermenu",B).then(E=>{_.success("User Menu Save successfully!")}).catch(E=>{setErrors(E.response.data.errors)})},n=c(null),x=c([]),N=B=>{const E=x.value.indexOf(B.id);E===-1?x.value.push(B.id):x.value.splice(E,1),console.log(x.value)},W=c(null),Z=B=>{W.value=B,$("#deleteUserModal").modal("show")},de=c({data:[]});return ve(n,Ee.exports.debounce(()=>{A()},300)),ue(()=>{A(),document.title=w}),(B,E)=>{const Y=$e("font");return s(),a(O,null,[e("div",Bh,[e("div",Rh,[e("div",Hh,[e("div",jh,[Oh,e("div",zh,[J(e("input",{type:"text","onUpdate:modelValue":E[0]||(E[0]=m=>n.value=m),class:"form-control",placeholder:"Search..."},null,512),[[re,n.value]])])]),e("div",Gh,[e("div",Wh,[g(Y,{size:"2"},{default:X(()=>[e("table",Qh,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":E[1]||(E[1]=m=>B.selectAll=m),onChange:E[2]||(E[2]=(...m)=>B.selectAllUsers&&B.selectAllUsers(...m))},null,544),[[Me,B.selectAll]])]),Kh,Xh,Jh,Zh,ev])]),d.value.data.length>0?(s(),a("tbody",tv,[(s(!0),a(O,null,K(d.value.data,(m,y)=>(s(),ce(Nh,{key:m.id,user:m,index:y,onEditUser:v,onConfirmUserDeletion:Z,onToggleSelection:N,"select-all":B.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),a("tbody",sv,ov))])]),_:1})])])]),g(r(Fe),{data:d.value,onPaginationChangePage:A},null,8,["data"])])]),e("div",lv,[e("div",nv,[e("div",dv,[e("div",iv,[e("h5",cv,[i.value?(s(),a("span",rv,"User Menu for "+t(D.value),1)):P("",!0)]),uv]),g(r(Ce),{ref_key:"form",ref:p,onSubmit:C,"initial-values":u.value},{default:X(()=>[e("div",_v,[e("table",mv,[pv,(s(!0),a(O,null,K(de.value,m=>(s(),a("tr",{key:m.menu_id},[e("td",hv,[e("div",vv,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":E[3]||(E[3]=y=>l.value=y),value:m.menu_id,id:"menu_id_"+m.menu_id,checked:m.hasAccess},null,8,bv),[[Me,l.value]]),e("label",{for:"menu_id_"+m.menu_id,class:"custom-control-label"},t(m.menu_title),9,fv)]),m.submenus&&m.submenus.length>0?(s(),a("table",$v,[(s(!0),a(O,null,K(m.submenus,y=>(s(),a("tr",{key:y.id},[e("td",gv,[e("div",yv,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":E[4]||(E[4]=G=>l.value=G),value:y.menu_id,id:"menu_id_"+y.menu_id},null,8,kv),[[Me,l.value]]),e("label",{for:"menu_id_"+y.menu_id,class:"custom-control-label"},t(y.menu_title),9,wv)])])]))),128))])):P("",!0)])]))),128))])]),xv]),_:1},8,["initial-values"])])])]),e("div",Cv,[e("div",Sv,[e("div",Dv,[Uv,e("div",Vv,[Mv,e("button",{onClick:E[5]||(E[5]=ee((...m)=>B.deleteUser&&B.deleteUser(...m),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const lt=o=>(De("data-v-8e5d6dd6"),o=o(),Ue(),o),Ev=["checked"],Tv=["innerHTML"],Pv={style:{"text-align":"center"}},Lv={class:"text-center"},Fv=lt(()=>e("i",{class:"fa fa-edit"},null,-1)),Iv=[Fv],qv=lt(()=>e("i",{class:"fa fa-trash"},null,-1)),Yv=[qv],Nv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:w}){me(),_e();const _=o,d=w,i=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,Ev)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.menu_title),1),e("td",null,t(o.item.parent_title),1),e("td",null,t(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,Tv),e("td",null,t(o.item.sort_order),1),e("td",Pv,[e("i",{class:U({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,t(o.item.created_at),1),e("td",Lv,[e("button",{class:"btn btn-sm bg-primary",onClick:p[0]||(p[0]=ee(D=>u.$emit("editMenu",o.item),["prevent"]))},Iv),q("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:p[1]||(p[1]=ee(D=>u.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},Yv)])]))}};var Bv=ge(Nv,[["__scopeId","data-v-8e5d6dd6"]]);const Rv=["type","name","value"],Hv=e("span",{class:"check"},null,-1),jv={class:"pl-2"},Ov={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(o,{emit:w}){const _=o,d=w,i=Se({get:()=>_.modelValue,set:p=>{d("update:modelValue",p)}}),u=Se(()=>_.type==="radio"?"radio":"checkbox");return(p,D)=>(s(),a("label",{class:U([o.type,"mr-6 mb-3 last:mr-0"])},[J(e("input",{"onUpdate:modelValue":D[0]||(D[0]=l=>i.value=l),type:u.value,name:o.name,value:o.inputValue},null,8,Rv),[[st,i.value]]),Hv,e("span",jv,t(o.label),1)],2))}},zv={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:o=>["checkbox","radio","switch"].includes(o)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(o,{emit:w}){const _=o,d=w,i=Se({get:()=>_.modelValue,set:u=>{d("update:modelValue",u)}});return(u,p)=>(s(),a("div",{class:U(["flex justify-start flex-wrap -mb-3",{"flex-col":o.isColumn}])},[(s(!0),a(O,null,K(o.options,(D,l)=>(s(),ce(Ov,{key:l,modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=A=>i.value=A),type:o.type,name:o.name,"input-value":l,label:D,class:U(o.componentClass)},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Gv={class:"content"},Wv={class:"container-fluid"},Qv={class:"d-flex justify-content-between"},Kv={class:"d-flex"},Xv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Jv={key:0},Zv=e("i",{class:"fa fa-trash mr-1"},null,-1),eb={class:"ml-2"},tb={class:"card"},sb={class:"card-body"},ab={class:"table-responsive"},ob={class:"table table-bordered table-sm"},lb=e("th",{style:{width:"10px"}},"#",-1),nb=e("th",null,"Title",-1),db=e("th",null,"Parent Menu",-1),ib=e("th",null,"Route",-1),cb=e("th",null,"Icon",-1),rb=e("th",null,"Sort",-1),ub=e("th",null,"Active",-1),_b=e("th",null,"Date",-1),mb=e("th",null,"Action",-1),pb={key:0},hb={key:1},vb=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),bb=[vb],fb={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},$b={class:"modal-dialog modal-sm",role:"document"},gb={class:"modal-content"},yb={class:"modal-header"},kb={class:"modal-title",id:"staticBackdropLabel"},wb={key:0},xb={key:1},Cb=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Sb={class:"modal-body"},Db={class:"col-md-12"},Ub={class:"row"},Vb={class:"col-12"},Mb={class:"form-group"},Ab=e("label",{for:"user"},"Menu Title",-1),Eb={class:"invalid-feedback"},Tb={class:"form-group"},Pb=e("label",{for:"department"},"Parent Menu",-1),Lb=e("option",{value:"0"},"None",-1),Fb=["value"],Ib={class:"form-group"},qb=e("label",{for:"warehouse"},"Icon",-1),Yb={class:"invalid-feedback"},Nb={class:"form-group"},Bb=e("label",{for:"user"},"Route",-1),Rb={class:"invalid-feedback"},Hb={class:"form-group"},jb=e("label",{for:"user"},"Sort",-1),Ob={class:"invalid-feedback"},zb={class:"form-group"},Gb=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),Wb={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Qb={class:"modal-dialog",role:"document"},Kb={class:"modal-content"},Xb=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Jb={class:"modal-footer"},Zb=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),e1={__name:"MenuList",setup(o){const w=`${be().name}`,_=me(),d=c({data:[]}),i=c({data:[]}),u=c(!1),p=c(!1);c();const D=c(!0),l=Ve({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),A=_e();c(null);const v=c(),C=(z=1)=>{u.value=!0,L.get(`/api/menulist?page=${z}`,{params:{query:B.value}}).then(F=>{u.value=!1,d.value=F.data,E.value=[],te.value=!1})},n=()=>{L.get("/api/GetParentId").then(z=>{i.value=z.data}).catch(z=>{console.error(z)})};ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()});const x=({resetForm:z,setErrors:F})=>{L.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(S=>{d.value.data.unshift(S.data),$("#FormModal").modal("hide"),z(),_.success("User created successfully!")}).catch(S=>{S.response.data.errors&&F(S.response.data.errors)})},N=()=>{p.value=!1,$("#FormModal").modal("show")},W=z=>{p.value=!0,l.menu_id=z.menu_id,l.menu_title=z.menu_title,l.parent_id=z.parent_id,l.menu_icon=z.menu_icon,l.menu_route=z.menu_route,l.sort_order=z.sort_order,l.is_active===1?D.value=!0:D.value=!1,l.is_active=z.is_active,$("#FormModal").modal("show"),v.value=z.parent_id},Z=({setErrors:z})=>{L.post("/api/menulist",l).then(F=>{C(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(F=>{z(F.response.data.errors),console.log(F)})},de=(z,F)=>{p.value?Z(z):x(z)},B=c(null),E=c([]),Y=z=>{const F=E.value.indexOf(z.id);F===-1?E.value.push(z.id):E.value.splice(F,1),console.log(E.value)},m=c(null),y=z=>{m.value=z,$("#deleteClientModal").modal("show")},G=()=>{L.delete(`/api/menu/${m.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(z=>z.menu_id!==m.value)})},Q=()=>{L.delete("menulist",{data:{ids:E.value}}).then(z=>{d.value.data=d.value.data.filter(F=>!E.value.includes(F.id)),E.value=[],te.value=!1,_.success(z.data.message)})},te=c(!1),ie=()=>{te.value?E.value=d.value.data.map(z=>z.id):E.value=[],console.log(E.value)};return ve([D],z=>{l.is_active=z?1:0}),ve(B,Ee.exports.debounce(()=>{C()},300)),ue(()=>{C(),n(),document.title=w}),(z,F)=>{const S=$e("font");return s(),a(O,null,[e("div",Gv,[e("div",Wv,[e("div",Qv,[e("div",Kv,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[Xv,q(" Menu ")]),E.value.length>0?(s(),a("div",Jv,[e("button",{onClick:Q,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zv,q(" Delete Selected ")]),e("span",eb,"Selected "+t(E.value.length)+" Menu",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":F[0]||(F[0]=b=>B.value=b),class:"form-control",placeholder:"Search..."},null,512),[[re,B.value]])])]),e("div",tb,[e("div",sb,[u.value?(s(),ce(Ae,{key:0})):P("",!0),e("div",ab,[g(S,{size:"2"},{default:X(()=>[e("table",ob,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":F[1]||(F[1]=b=>te.value=b),onChange:ie},null,544),[[Me,te.value]])]),lb,nb,db,ib,cb,rb,ub,_b,mb])]),d.value.data.length>0?(s(),a("tbody",pb,[(s(!0),a(O,null,K(d.value.data,(b,k)=>(s(),ce(Bv,{key:b.id,item:b,index:k,onEditMenu:W,onConfirmDeletion:y,onToggleSelection:Y,"select-all":te.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",hb,bb))])]),_:1})])])]),g(r(Fe),{data:d.value,onPaginationChangePage:C},null,8,["data"])])]),e("div",fb,[e("div",$b,[e("div",gb,[e("div",yb,[e("h5",kb,[p.value?(s(),a("span",wb,"Edit Menu")):(s(),a("span",xb,"Add Menu"))]),Cb]),g(r(Ce),{onSubmit:de},{default:X(({errors:b})=>[e("div",Sb,[e("div",Db,[e("div",Ub,[e("div",Vb,[g(r(R),{type:"hidden",name:"created_by",id:"created_by",modelValue:r(A).user.id,"onUpdate:modelValue":F[2]||(F[2]=k=>r(A).user.id=k)},null,8,["modelValue"]),e("div",Mb,[Ab,g(r(R),{name:"menu_title",type:"text",class:U(["form-control",{"is-invalid":b.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":F[3]||(F[3]=k=>l.menu_title=k)},null,8,["class","modelValue"]),e("span",Eb,t(b.menu_title),1)]),e("div",Tb,[Pb,J(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":F[4]||(F[4]=k=>l.parent_id=k)},[Lb,(s(!0),a(O,null,K(i.value,k=>(s(),a("option",{key:k.menu_id,value:k.menu_id},t(k.menu_title),9,Fb))),128))],512),[[Te,l.parent_id]])]),e("div",Ib,[qb,g(r(R),{name:"menu_icon",type:"text",class:U(["form-control",{"is-invalid":b.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":F[5]||(F[5]=k=>l.menu_icon=k)},null,8,["class","modelValue"]),e("span",Yb,t(b.menu_icon),1)]),e("div",Nb,[Bb,g(r(R),{name:"menu_route",type:"text",class:U(["form-control",{"is-invalid":b.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":F[6]||(F[6]=k=>l.menu_route=k)},null,8,["class","modelValue"]),e("span",Rb,t(b.menu_route),1)]),e("div",Hb,[jb,g(r(R),{name:"sort_order",type:"text",class:U(["form-control",{"is-invalid":b.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":F[7]||(F[7]=k=>l.sort_order=k)},null,8,["class","modelValue"]),e("span",Ob,t(b.sort_order),1)]),e("div",zb,[g(zv,{modelValue:l.is_active,"onUpdate:modelValue":F[8]||(F[8]=k=>l.is_active=k),name:"is_active",options:{is_active:"Active"}},null,8,["modelValue"])])])])])]),Gb]),_:1})])])]),e("div",Wb,[e("div",Qb,[e("div",Kb,[Xb,e("div",Jb,[Zb,e("button",{onClick:ee(G,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},t1={class:"error-page"},s1=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),a1=[s1],o1="Page Not Found",nt={__name:"404",setup(o){return ue(()=>{document.title=o1}),(w,_)=>(s(),a("div",t1,a1))}};const le=o=>(De("data-v-4402b498"),o=o(),Ue(),o),l1={id:"exportPDF"},n1={class:"container"},d1=le(()=>e("br",null,null,-1)),i1={class:"header"},c1=["src"],r1=["src"],u1={class:"header"},_1={class:"header-justify-space-between"},m1=le(()=>e("br",null,null,-1)),p1=le(()=>e("p",null,null,-1)),h1={key:0},v1=le(()=>e("strong",null,null,-1)),b1=le(()=>e("br",null,null,-1)),f1=le(()=>e("br",null,null,-1)),$1=le(()=>e("p",null,null,-1)),g1=le(()=>e("strong",null,"Unit details",-1)),y1={class:"content"},k1={class:"header-justify-space-between"},w1=le(()=>e("span",null,"Brand:",-1)),x1=le(()=>e("br",null,null,-1)),C1=le(()=>e("span",null,"Model:",-1)),S1=le(()=>e("br",null,null,-1)),D1=le(()=>e("div",null,null,-1)),U1=le(()=>e("span",null,"Serial #:",-1)),V1=le(()=>e("br",null,null,-1)),M1=le(()=>e("span",null,"Asset Tag:",-1)),A1=le(()=>e("br",null,null,-1)),E1=le(()=>e("div",null,null,-1)),T1=le(()=>e("strong",null,"Reported problem",-1)),P1={class:"content"},L1=le(()=>e("strong",null,"Assessment conducted",-1)),F1={class:"content"},I1=le(()=>e("strong",null,"Recommendation",-1)),q1={class:"content"},Y1={class:"header-justify-space-between"},N1=le(()=>e("strong",null,"Evaluated by:",-1)),B1=le(()=>e("br",null,null,-1)),R1={class:"botoom-line"},H1=le(()=>e("br",null,null,-1)),j1=le(()=>e("p",null,null,-1)),O1=le(()=>e("strong",null,"Noted by:",-1)),z1=le(()=>e("br",null,null,-1)),G1={class:"botoom-line"},W1=le(()=>e("br",null,null,-1)),Q1=le(()=>e("br",null,null,-1)),K1=le(()=>e("p",null,null,-1)),X1={key:0},J1={key:1},Z1={key:0,class:"fab-container"},ef=le(()=>e("i",{class:"fas fa-download"},null,-1)),tf=[ef],sf={__name:"TechRecommApproved",setup(o){const w=`${be().params.id}`,_=()=>{const u=document.getElementById("exportPDF");ot().from(u).save(`${w}.pdf`)},d=Ve({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),i=()=>{L.get(`/api/tech-recommendations/${be().params.id}`).then(u=>{d.id=u.data.id,d.recommnum=u.data.recommnum,d.branch=u.data.branch,d.company=u.data.company,d.department=u.data.department,d.warehouse=u.data.warehouse,d.user=u.data.user,d.problem=u.data.problem,d.brand=u.data.brand,d.model=u.data.model,d.assettag=u.data.assettag,d.serialnum=u.data.serialnum,d.status=u.data.status,d.assconducted=u.data.assconducted,d.recommendation=u.data.recommendation,d.createdby=u.data.createdby.cfull_name,d.updatedby=u.data.updatedby.ufull_name,d.created_at=he(u.data.created_at).format("MMMM D, YYYY"),d.updated_at=he(u.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=u.data.createdby.cposition,d.updated_position=u.data.updatedby.uposition}).catch(u=>{actions.setErrors(u.response.data.errors)})};return ue(()=>{i(),document.title=w}),(u,p)=>(s(),a(O,null,[e("div",l1,[e("div",n1,[d1,e("div",i1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,c1),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,r1)]),e("div",u1,[e("span",null,[q("Recommendation No: "),e("strong",null,t(d.recommnum),1)]),e("span",null,[q("Date Checked: "),e("strong",null,t(d.created_at),1)])]),e("div",_1,[e("div",null,[e("span",null,[q("Company: "),e("strong",null,t(d.company),1)]),m1,e("span",null,[q("Branch: "),e("strong",null,t(d.branch),1)])]),p1,e("div",null,[d.warehouse==""?(s(),a("span",h1,[q("Warehouse: "),v1,q(t(d.warehouse),1)])):P("",!0),b1,e("span",null,[q("User: "),e("strong",null,t(d.user),1)]),f1,e("span",null,[q("Department: "),e("strong",null,t(d.department),1)])]),$1]),g1,e("div",y1,[e("div",k1,[e("div",null,[w1,e("strong",null,t(d.brand),1),x1,C1,e("strong",null,t(d.model),1),S1]),D1,e("div",null,[U1,e("strong",null,t(d.serialnum),1),V1,M1,e("strong",null,t(d.assettag),1),A1]),E1])]),T1,e("div",P1,[e("p",null,t(d.problem),1)]),L1,e("div",F1,[e("p",null,t(d.assconducted),1)]),I1,e("div",q1,[e("p",null,t(d.recommendation),1)]),e("div",Y1,[e("div",null,[N1,B1,e("span",R1,t(d.createdby),1),H1,e("span",null,t(d.created_position),1)]),j1,e("div",null,[O1,z1,e("span",G1,t(d.updatedby),1),W1,e("span",null,t(d.updated_position),1),Q1]),K1]),d.status===2?(s(),a("span",X1,"Approved date:("+t(d.updated_at)+")",1)):(s(),a("span",J1,"Pending"))])]),d.status===2?(s(),a("div",Z1,[e("div",{class:"button iconbutton bg-success",onClick:p[0]||(p[0]=D=>_())},tf)])):P("",!0)],64))}};var dt=ge(sf,[["__scopeId","data-v-4402b498"]]);const af={},of={class:"card mx-auto",style:{"max-width":"600px"}},lf=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),nf={class:"card-body"},df={class:"list-unstyled"};function cf(o,w){return s(),a("div",of,[lf,e("div",nf,[e("ul",df,[e("li",{class:"nav-item dropdown",onClick:w[0]||(w[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var rf=ge(af,[["render",cf]]);const uf=["checked"],_f={class:"text-center"},mf={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:w}){me(),_e();const _=o,d=w,i=()=>{d("toggleSelection",_.item)};return(u,p)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:i},null,40,uf)]),e("td",null,t(o.index+1),1),e("td",{onClick:p[0]||(p[0]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.site_name),1),e("td",{onClick:p[1]||(p[1]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_name),1),e("td",{onClick:p[2]||(p[2]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.asset_type),1),e("td",{onClick:p[3]||(p[3]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.serial),1),e("td",{onClick:p[4]||(p[4]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.date_acquired),1),e("td",{onClick:p[5]||(p[5]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.man_supplier),1),e("td",{onClick:p[6]||(p[6]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.unit),1),e("td",{onClick:p[7]||(p[7]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.purchasecost),1),e("td",{onClick:p[8]||(p[8]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t("\u20B1"+o.item.depreciationcostbyyear),1),e("td",{onClick:p[9]||(p[9]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_by),1),e("td",{onClick:p[10]||(p[10]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.created_at),1),e("td",{onClick:p[11]||(p[11]=ee(D=>u.$emit("viewData",o.item),["prevent"]))},t(o.item.updated_by),1),e("td",_f,[e("div",null,[e("i",{class:"fa fa-edit text-primary",onClick:p[12]||(p[12]=ee(D=>u.$emit("editData",o.item),["prevent"]))}),q(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:p[13]||(p[13]=ee(D=>u.$emit("confirmDeletion",o.item.id),["prevent"]))})])])]))}};var pf=ge(mf,[["__scopeId","data-v-769d0a2c"]]);const hf={class:"content"},vf={class:"container-fluid"},bf={class:"d-flex justify-content-between"},ff={class:"d-flex"},$f=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),gf={key:0},yf=e("i",{class:"fa fa-trash mr-1"},null,-1),kf={class:"ml-2"},wf={class:"card"},xf={class:"card-body"},Cf={class:"table-responsive"},Sf={class:"table table-bordered table-sm table-striped hover"},Df=e("th",{style:{width:"10px"}},"#",-1),Uf=e("th",null,"Site",-1),Vf=e("th",null,"Asset",-1),Mf=e("th",null,"Asset type",-1),Af=e("th",null,"Serial",-1),Ef=e("th",null,"Date Aquired",-1),Tf=e("th",null,"Supplier",-1),Pf=e("th",null,"Unit",-1),Lf=e("th",null,"Purchase Cost",-1),Ff=e("th",null,"Depreciation Cost",-1),If=e("th",null,"Createdby",-1),qf=e("th",null,"CreatedAt",-1),Yf=e("th",null,"Updatedby",-1),Nf=e("th",null,"Action",-1),Bf={key:0},Rf={key:1},Hf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),jf=[Hf],Of={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zf={class:"modal-dialog modal-lg",role:"document"},Gf={class:"modal-content"},Wf={class:"modal-header"},Qf={class:"modal-title",id:"staticBackdropLabel"},Kf={key:0},Xf={key:1},Jf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zf={class:"modal-body"},e$={class:"col-md-12"},t$={class:"row"},s$={class:"col-6"},a$={class:"form-group"},o$=e("label",{for:"branch"},"Site",-1),l$=e("option",{value:"",disabled:""}," Select Site ",-1),n$=["value"],d$={class:"invalid-feedback"},i$={class:"form-group"},c$=e("label",{for:"department"},"Asset Name",-1),r$={class:"invalid-feedback"},u$={class:"form-group"},_$=e("label",{for:"asset_type"},"Asset Type",-1),m$={class:"invalid-feedback"},p$={class:"form-group"},h$=e("label",{for:"serial"},"Serial #:",-1),v$={class:"invalid-feedback"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"date_acquired"},"Date Acquired",-1),g$={class:"invalid-feedback"},y$={class:"form-group"},k$=e("label",{for:"man_supplier"},"Brand",-1),w$={class:"invalid-feedback"},x$={class:"form-group"},C$=e("label",{for:"unit"},"Unit",-1),S$={class:"invalid-feedback"},D$={class:"row"},U$={class:"col-6"},V$={class:"form-group"},M$=e("label",{for:"paccountable"},"Person Accountable",-1),A$={class:"invalid-feedback"},E$={class:"col-6"},T$={class:"form-group"},P$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),L$={class:"invalid-feedback"},F$={class:"row"},I$={class:"col-6"},q$={class:"form-group"},Y$=e("label",{for:"cucodition"},"Current Condition",-1),N$=e("option",{value:"",disabled:""}," Select Condition ",-1),B$=e("option",{value:"Fair"}," FAIR ",-1),R$=e("option",{value:"Good"}," GOOD ",-1),H$=e("option",{value:"Damange"}," DAMANGE ",-1),j$={class:"invalid-feedback"},O$={class:"form-group"},z$=e("label",{for:"maintenancenotes"},"Maintenance Notes",-1),G$={class:"col-6"},W$={class:"form-group"},Q$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),K$={class:"form-group"},X$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),J$={class:"row"},Z$={class:"col-6"},eg={class:"form-group"},tg=e("label",{for:"operationhours"},"Operating Hours",-1),sg={class:"col-6"},ag={class:"form-group"},og=e("label",{for:"notes"},"Notes",-1),lg={class:"invalid-feedback"},ng={class:"row"},dg={class:"col-6"},ig={class:"form-group"},cg=e("label",{for:"purchasecost"},"Purchase Cost",-1),rg={class:"input-group mb-3"},ug=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),_g={class:"form-group"},mg=e("label",{for:"depreciationcost"},"Depreciation cost by year",-1),pg={class:"input-group mb-3"},hg=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",null,"\u20B1")])],-1),vg={class:"col-6"},bg={class:"form-group"},fg=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),$g={class:"invalid-feedback"},gg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),yg={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},kg={class:"modal-dialog",role:"document"},wg={class:"modal-content"},xg=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Cg={class:"modal-footer"},Sg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Dg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ug={class:"modal-dialog",role:"document"},Vg={class:"modal-content"},Mg=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),Ag={class:"modal-body"},Eg={class:"table table-striped table-sm table-hover"},Tg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Information")],-1),Pg=e("td",null,"Site",-1),Lg=e("td",null,"Assit Name",-1),Fg=e("td",null,"Assit Type",-1),Ig=e("td",null,"Serial No.",-1),qg=e("td",null,"Date Acquired",-1),Yg=e("td",null,"Brand",-1),Ng=e("td",null,"Unit",-1),Bg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Allocation")],-1),Rg=e("td",null,"Personal Accountable",-1),Hg=e("td",null,"Transfer Location",-1),jg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Asset Condition")],-1),Og=e("td",null,"Current Condition",-1),zg=e("td",null,"Maintenance Note",-1),Gg=e("td",null,"Last Maintenance",-1),Wg=e("td",null,"Next Maintenance",-1),Qg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Utilization & Ussage")],-1),Kg=e("td",null,"Operation Hours",-1),Xg=e("td",null,"Notes",-1),Jg=e("tr",null,[e("td",{colspan:"2",class:"text-center bg-primary"},"Financial Information")],-1),Zg=e("td",null,"Purchase Cost",-1),ey=e("td",null,"Depreciation Cost by yr",-1),ty=e("td",null,"Warranty information",-1),sy=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),ay={__name:"AssetmList",setup(o){_e();const w=`${be().name}`,_=me(),d=c({data:[]});c({data:[]});const i=c(!1),u=c(!1),p=c(),D=c(!0),l=Ve({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:"",purchasecost:"",depreciationcost:"",Depreciationcostbyyear:"",is_active:""});c(null),c();const A=c(),v=(S=1)=>{i.value=!0,L.get(`/web/asset-monitoring?page=${S}`,{params:{query:Y.value}}).then(b=>{i.value=!1,d.value=b.data,m.value=[],z.value=!1})},C=ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),n=ke({menu_title:I().required(),parent_id:I().required(),sort_order:I().required(),menu_icon:I().required(),menu_route:I().required()}),x=()=>{L.post("/web/asset-monitoring",l).then(S=>{$("#FormModal").modal("hide"),v(),_.success(S.data.message)}).catch(S=>{_.error(S.data.message)})},N=()=>{u.value=!1,$("#FormModal").modal("show")},W=S=>{l.site_name=S.site_name,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,l.Depreciationcostbyyear=S.depreciationcostbyyear,$("#ViewRecodeModal").modal("show")},Z=S=>{u.value=!0,l.id=S.id,l.site_id=S.site_id,l.asset_name=S.asset_name,l.asset_type=S.asset_type,l.serial=S.serial,l.date_acquired=S.date_acquired,l.man_supplier=S.man_supplier,l.unit=S.unit,l.location=S.location,l.paccountable=S.paccountable,l.locationchangetranfer=S.locationchangetranfer,l.cucodition=S.cucodition,l.purchasecost=S.purchasecost,l.depreciationcost=S.depreciationcost,l.maintenancenotes=S.maintenancenotes,l.ceated_by=S.ceated_by,l.updated_by=S.updated_by,$("#FormModal").modal("show")},de=({setErrors:S})=>{L.post("/web/asset-monitoring",l).then(b=>{v(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(b=>{S(b.response.data.errors),console.log(b)})},B=(S,b)=>{u.value?de(S):x()},E=()=>{L.get("/web/getsite").then(S=>{A.value=S.data.sites}).catch(S=>{console.log(S)})},Y=c(null),m=c([]),y=S=>{const b=m.value.indexOf(S.id);b===-1?m.value.push(S.id):m.value.splice(b,1),console.log(m.value)},G=c(null),Q=S=>{G.value=S,$("#deleteClientModal").modal("show")},te=()=>{L.delete(`/web/asset-monitoring/${G.value}`).then(S=>{$("#deleteClientModal").modal("hide"),_.success(S.data.message),v()})},ie=()=>{L.delete("/web/bulkDeleteAsset",{data:{ids:m.value}}).then(S=>{d.value.data=d.value.data.filter(b=>!m.value.includes(b.id)),m.value=[],z.value=!1,_.success(S.data.message)})},z=c(!1),F=()=>{z.value?m.value=d.value.data.map(S=>S.id):m.value=[],console.log(m.value)};return ve([D],S=>{l.is_active=S?1:0}),ve(Y,Ee.exports.debounce(()=>{v()},300)),ue(()=>{v(),E(),document.title=w}),(S,b)=>{const k=$e("font"),ne=$e("tab-content"),oe=$e("form-wizard");return s(),a(O,null,[e("div",hf,[e("div",vf,[e("div",bf,[e("div",ff,[e("button",{onClick:N,type:"button",class:"mb-2 btn btn-primary"},[$f,q(" Asset ")]),m.value.length>0?(s(),a("div",gf,[e("button",{onClick:ie,type:"button",class:"ml-2 mb-2 btn btn-danger"},[yf,q(" Delete Selected ")]),e("span",kf,"Selected "+t(m.value.length)+" Record",1)])):P("",!0)]),e("div",null,[J(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=V=>Y.value=V),class:"form-control",placeholder:"Search..."},null,512),[[re,Y.value]])])]),e("div",wf,[e("div",xf,[i.value?(s(),ce(Ae,{key:0})):P("",!0),e("div",Cf,[g(k,{size:"2"},{default:X(()=>[e("table",Sf,[e("thead",null,[e("tr",null,[e("th",null,[J(e("input",{type:"checkbox","onUpdate:modelValue":b[1]||(b[1]=V=>z.value=V),onChange:F},null,544),[[Me,z.value]])]),Df,Uf,Vf,Mf,Af,Ef,Tf,Pf,Lf,Ff,If,qf,Yf,Nf])]),d.value.data.length>0?(s(),a("tbody",Bf,[(s(!0),a(O,null,K(d.value.data,(V,T)=>(s(),ce(pf,{key:V.id,item:V,index:T,onViewData:W,onEditData:Z,onConfirmDeletion:Q,onToggleSelection:y,"select-all":z.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",Rf,jf))])]),_:1})])])]),g(r(Fe),{data:d.value,onPaginationChangePage:v},null,8,["data"])])]),e("div",Of,[e("div",zf,[e("div",Gf,[e("div",Wf,[e("h5",Qf,[u.value?(s(),a("span",Kf,"Edit Asset")):(s(),a("span",Xf,"Add Asset"))]),Jf]),g(r(Ce),{onSubmit:B,"validation-schema":u.value?r(n):r(C),"initial-values":p.value},{default:X(({errors:V})=>[e("div",Zf,[e("div",e$,[g(oe,{onOnComplete:x,color:"#094899","step-size":"xs"},{default:X(()=>[g(ne,{title:"Asset Information",icon:"fas fa-book"},{default:X(()=>[e("div",t$,[e("div",s$,[e("div",a$,[o$,g(r(R),{as:"select",name:"branch",class:U(["form-control",{"is-invalid":V.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":b[2]||(b[2]=T=>l.site_id=T)},{default:X(()=>[l$,(s(!0),a(O,null,K(A.value,T=>(s(),a("option",{key:T.id,value:T.id},t(T.site_name),9,n$))),128))]),_:2},1032,["class","modelValue"]),e("span",d$,t(V.branch),1)]),e("div",i$,[c$,g(r(R),{name:"asset_name",type:"text",class:U(["form-control",{"is-invalid":V.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":b[3]||(b[3]=T=>l.asset_name=T)},null,8,["class","modelValue"]),e("span",r$,t(V.asset_name),1)]),e("div",u$,[_$,g(r(R),{name:"asset_type",type:"text",class:U(["form-control",{"is-invalid":V.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":b[4]||(b[4]=T=>l.asset_type=T)},null,8,["class","modelValue"]),e("span",m$,t(V.asset_type),1)]),e("div",p$,[h$,g(r(R),{name:"serial",type:"text",class:U(["form-control",{"is-invalid":V.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":b[5]||(b[5]=T=>l.serial=T)},null,8,["class","modelValue"]),e("span",v$,t(V.serial),1)])]),e("div",b$,[e("div",f$,[$$,g(r(R),{name:"date_acquired",type:"date",class:U(["form-control",{"is-invalid":V.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":b[6]||(b[6]=T=>l.date_acquired=T)},null,8,["class","modelValue"]),e("span",g$,t(V.date_acquired),1)]),e("div",y$,[k$,g(r(R),{name:"man_supplier",type:"text",class:U(["form-control",{"is-invalid":V.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":b[7]||(b[7]=T=>l.man_supplier=T)},null,8,["class","modelValue"]),e("span",w$,t(V.man_supplier),1)]),e("div",x$,[C$,g(r(R),{name:"unit",type:"number",class:U(["form-control",{"is-invalid":V.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":b[8]||(b[8]=T=>l.unit=T)},null,8,["class","modelValue"]),e("span",S$,t(V.unit),1)])])])]),_:2},1024),g(ne,{title:"Asset Allocation",icon:"fa fa-map"},{default:X(()=>[e("div",D$,[e("div",U$,[e("div",V$,[M$,g(r(R),{name:"paccountable",type:"text",class:U(["form-control",{"is-invalid":V.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":b[9]||(b[9]=T=>l.paccountable=T)},null,8,["class","modelValue"]),e("span",A$,t(V.paccountable),1)])]),e("div",E$,[e("div",T$,[P$,g(r(R),{name:"locationchangetranfer",type:"text",class:U(["form-control",{"is-invalid":V.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":b[10]||(b[10]=T=>l.locationchangetranfer=T)},null,8,["class","modelValue"]),e("span",L$,t(V.locationchangetranfer),1)])])])]),_:2},1024),g(ne,{title:"Asset Condition"},{default:X(()=>[e("div",F$,[e("div",I$,[e("div",q$,[Y$,g(r(R),{as:"select",name:"cucodition",class:U(["form-control",{"is-invalid":V.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":b[11]||(b[11]=T=>l.cucodition=T)},{default:X(()=>[N$,B$,R$,H$]),_:2},1032,["class","modelValue"]),e("span",j$,t(V.cucodition),1)]),e("div",O$,[z$,g(r(R),{name:"maintenancenotes",as:"textarea",class:U(["form-control",{"is-invalid":V.maintenancenotes}]),id:"maintenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.maintenancenotes,"onUpdate:modelValue":b[12]||(b[12]=T=>l.maintenancenotes=T)},null,8,["class","modelValue"])])]),e("div",G$,[e("div",W$,[Q$,g(r(R),{name:"lastmaintenance",type:"date",class:U(["form-control",{"is-invalid":V.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":b[13]||(b[13]=T=>l.lastmaintenance=T)},null,8,["class","modelValue"])]),e("div",K$,[X$,g(r(R),{name:"nextmaintenance",type:"date",class:U(["form-control",{"is-invalid":V.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":b[14]||(b[14]=T=>l.nextmaintenance=T)},null,8,["class","modelValue"])])])])]),_:2},1024),g(ne,{title:"Utilization & Ussage"},{default:X(()=>[e("div",J$,[e("div",Z$,[e("div",eg,[tg,g(r(R),{name:"operationhours",type:"number",class:U(["form-control",{"is-invalid":V.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":b[15]||(b[15]=T=>l.operationhours=T)},null,8,["class","modelValue"])])]),e("div",sg,[e("div",ag,[og,g(r(R),{name:"notes",as:"textarea",class:U(["form-control",{"is-invalid":V.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":b[16]||(b[16]=T=>l.notes=T)},null,8,["class","modelValue"]),e("span",lg,t(V.notes),1)])])])]),_:2},1024),g(ne,{title:"Financial Information",icon:"fas fa-receipt"},{default:X(()=>[e("div",ng,[e("div",dg,[e("div",ig,[cg,e("div",rg,[ug,g(r(R),{name:"purchasecost",type:"text",class:U(["form-control",{"is-invalid":V.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":b[17]||(b[17]=T=>l.purchasecost=T)},null,8,["class","modelValue"])])]),e("div",_g,[mg,e("div",pg,[hg,g(r(R),{name:"depreciationcost",type:"text",class:U(["form-control",{"is-invalid":V.depreciationcost}]),id:"depreciationcost","aria-describedby":"nameHelp",modelValue:l.depreciationcost,"onUpdate:modelValue":b[18]||(b[18]=T=>l.depreciationcost=T)},null,8,["class","modelValue"])])])]),e("div",vg,[e("div",bg,[fg,g(r(R),{name:"insurancewarrantyinfo",as:"textarea",class:U(["form-control",{"is-invalid":V.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":b[19]||(b[19]=T=>l.insurancewarrantyinfo=T)},null,8,["class","modelValue"]),e("span",$g,t(V.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),gg]),_:1},8,["validation-schema","initial-values"])])])]),e("div",yg,[e("div",kg,[e("div",wg,[xg,e("div",Cg,[Sg,e("button",{onClick:ee(te,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",Dg,[e("div",Ug,[e("div",Vg,[Mg,e("div",Ag,[e("table",Eg,[e("tbody",null,[Tg,e("tr",null,[Pg,e("td",null,t(l.site_name),1)]),e("tr",null,[Lg,e("td",null,t(l.asset_name),1)]),e("tr",null,[Fg,e("td",null,t(l.asset_type),1)]),e("tr",null,[Ig,e("td",null,t(l.serial),1)]),e("tr",null,[qg,e("td",null,t(l.date_acquired),1)]),e("tr",null,[Yg,e("td",null,t(l.man_supplier),1)]),e("tr",null,[Ng,e("td",null,t(l.unit),1)]),Bg,e("tr",null,[Rg,e("td",null,t(l.paccountable),1)]),e("tr",null,[Hg,e("td",null,t(l.locationchangetranfer),1)]),jg,e("tr",null,[Og,e("td",null,t(l.cucodition),1)]),e("tr",null,[zg,e("td",null,t(l.maintenancenotes),1)]),e("tr",null,[Gg,e("td",null,t(l.lastmaintenance),1)]),e("tr",null,[Wg,e("td",null,t(l.nextmaintenance),1)]),Qg,e("tr",null,[Kg,e("td",null,t(l.operationhours),1)]),e("tr",null,[Xg,e("td",null,t(l.notes),1)]),Jg,e("tr",null,[Zg,e("td",null,t("\u20B1"+l.purchasecost),1)]),e("tr",null,[ey,e("td",null,t("\u20B1"+l.Depreciationcostbyyear),1)]),e("tr",null,[ty,e("td",null,t(l.insurancewarrantyinfo),1)])])])]),sy])])])],64)}}};function oy(o,w,_){var d=typeof o!="object"?JSON.parse(o):o,i="";if(i+=w+`\r

`,_){var u="";for(var p in d[0])u+=p+",";u=u.slice(0,-1),i+=u+`\r
`}for(var D=0;D<d.length;D++){var u="";for(var p in d[D])u+='"'+d[D][p]+'",';u.slice(0,u.length-1),i+=u+`\r
`}if(i==""){alert("Invalid data");return}var l="MyReport_";l+=w.replace(/ /g,"_");var A="data:text/csv;charset=utf-8,"+escape(i),v=document.createElement("a");v.href=A,v.style="visibility:hidden",v.download=l+".csv",document.body.appendChild(v),v.click(),document.body.removeChild(v)}const ae=o=>(De("data-v-99af1472"),o=o(),Ue(),o),ly={class:"content"},ny={class:"container-fluid"},dy={class:"d-flex justify-content-between"},iy={class:"d-flex"},cy=ae(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ry={key:0},uy=ae(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),_y={class:"ml-2"},my={class:"d-flex"},py={class:"form-group"},hy=ae(()=>e("option",{value:"",disabled:""},"Select a site",-1)),vy=["value"],by={id:"captureDiv"},fy={class:"card"},$y={class:"card-header"},gy={class:"card-title"},yy={class:"card-tools"},ky={id:"cost"},wy={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},xy=ae(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),Cy={class:"card-body"},Sy=ae(()=>e("i",{class:"fa fa-camera"},null,-1)),Dy=[Sy],Uy=ae(()=>e("i",{class:"fas fa-file-excel"},null,-1)),Vy=[Uy],My={key:1,class:"table-responsive"},Ay={class:"table table-bordered table-sm table-striped table-hover"},Ey=ae(()=>e("th",null,null,-1)),Ty=ae(()=>e("th",null,"Date",-1)),Py=ae(()=>e("th",null,"Allocated Pallet Space",-1)),Ly=ae(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Fy=ae(()=>e("th",null,"Space Utilization %",-1)),Iy=ae(()=>e("th",null,"Excess",-1)),qy={key:0},Yy={key:1},Ny=ae(()=>e("th",null,"Remarks",-1)),By=ae(()=>e("th",null,"Action",-1)),Ry={key:0},Hy=["item","index","select-all"],jy=["checked"],Oy={key:0},zy={key:1},Gy=["onClick"],Wy=ae(()=>e("i",{class:"fa fa-edit"},null,-1)),Qy=[Wy],Ky={key:0},Xy=ae(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),Jy={colspan:"3"},Zy={key:1},e2=ae(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),t2=[e2],s2={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},a2={class:"modal-dialog modal-sm",role:"document"},o2={class:"modal-content"},l2={class:"modal-header"},n2={class:"modal-title",id:"staticBackdropLabel"},d2={key:0},i2={key:1},c2=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),r2=we('<ul class="nav nav-tabs" data-v-99af1472><li id="bulkviewtab1" class="nav-item" data-v-99af1472><a class="nav-link active" id="general" data-toggle="tab" href="#sigle-pallet-tab" data-v-99af1472>Single Pallet</a></li><li id="bulkviewtab2" class="nav-item" data-v-99af1472><a class="nav-link" id="site-tab" data-toggle="tab" href="#bulk-pallet-tab" data-v-99af1472>Bulk Pallet</a></li></ul>',1),u2={class:"tab-content"},_2={class:"tab-pane fade show active",id:"sigle-pallet-tab"},m2={class:"modal-body"},p2={class:"col-md-12"},h2={class:"row"},v2={class:"col-12"},b2={class:"form-group"},f2=ae(()=>e("label",{for:"date"},"Date",-1)),$2={class:"invalid-feedback"},g2={class:"form-group"},y2=ae(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),k2={class:"invalid-feedback"},w2={class:"form-group"},x2=ae(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),C2={class:"invalid-feedback"},S2={class:"form-group"},D2=ae(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),U2={class:"invalid-feedback"},V2=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),M2={class:"tab-pane fade show",id:"bulk-pallet-tab"},A2={class:"modal-body"},E2={class:"col-md-12"},T2={class:"row"},P2={class:"col-12"},L2={class:"form-group"},F2=ae(()=>e("label",{for:"fromdate"},"From:",-1)),I2={class:"invalid-feedback"},q2={class:"form-group"},Y2=ae(()=>e("label",{for:"todate"},"To:",-1)),N2={class:"invalid-feedback"},B2={class:"form-group"},R2=ae(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),H2={class:"invalid-feedback"},j2={class:"form-group"},O2=ae(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),z2={class:"invalid-feedback"},G2={class:"form-group"},W2=ae(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),Q2={class:"invalid-feedback"},K2=ae(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),X2={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},J2={class:"modal-dialog",role:"document"},Z2={class:"modal-content"},ek=we('<div class="modal-header" data-v-99af1472><h5 class="modal-title" id="staticBackdropLabel" data-v-99af1472><span data-v-99af1472>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-99af1472><span aria-hidden="true" data-v-99af1472>\xD7</span></button></div><div class="modal-body" data-v-99af1472><h5 data-v-99af1472>Are you sure you want to delete this record ?</h5></div>',2),tk={class:"modal-footer"},sk=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ak={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ok={class:"modal-dialog modal-sm",role:"document"},lk={class:"modal-content"},nk=ae(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),dk={class:"modal-body"},ik={class:"fromtocenter"},ck=ae(()=>e("label",{for:"fromDate"},"From:",-1)),rk=ae(()=>e("label",{for:"toDate"},"To:",-1)),uk={class:"modal-footer"},_k=ae(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),mk={__name:"PalletList",setup(o){const w=Xe("$swal"),_=`${be().name}`,d=me(),i=c({data:[]}),u=c(),p=c(!1),D=c(!1),l=_e(),A=c(!0),v=c(!0),C=c(),n=Ve({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:"",fromdate:"",todate:""});c(null);const x=c(),N=()=>{p.value=!0,L.get("/web/pallet",{params:{site_id:n.site_id,query:ne.value}}).then(H=>{p.value=!1,i.value=H.data.data,x.value=H.data.sum,oe.value=[],qe.value=!1})},W=ke({allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required(),fromdate:I().required(),todate:I().required()}),Z=ke({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),de=ke({date:I().required(),allocatedpalletspace:I().required(),spaceuteltotal:I().required(),caseperpallet:I().required()}),B=c(""),E=c(""),Y=c({start_date:"",end_date:""});ve([B],()=>{const H=new Date(B.value),j=H.getFullYear(),fe=String(H.getMonth()+1).padStart(2,"0"),f=String(H.getDate()).padStart(2,"0");Y.value.start_date=`${j}-${fe}-${f}`}),ve([E],()=>{const H=new Date(E.value),j=H.getFullYear(),fe=String(H.getMonth()+1).padStart(2,"0"),f=String(H.getDate()).padStart(2,"0");Y.value.end_date=`${j}-${fe}-${f}`});const m=()=>{p.value=!0,L.get("/web/filter-pallet",{params:{start_date:Y.value.start_date,end_date:Y.value.end_date,site_id:n.site_id}}).then(H=>{p.value=!1,i.value=H.data.data,x.value=H.data.sum}).catch(H=>{console.error(H)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},y=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},G=()=>!n.site_id||n.site_id.length===0?(w.fire({title:"Warning!",text:"Select the Site First",icon:"warning"}),!0):!1,Q=({resetForm:H,setErrors:j})=>{L.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then(fe=>{N(),$("#FormModal").modal("hide"),y(),d.success("Data created successfully!")}).catch(function(fe){fe.response?d.error(fe.response.data.message):fe.request?d.error(fe.request):d.error("Error",fe.message)})},te=()=>{L.get("/web/getsite").then(H=>{u.value=H.data.sites}).catch(H=>{console.log(H)})},ie=()=>{N(n.site_id);const H=u.value.find(j=>j.id===n.site_id);C.value=H?H.site_name:""},z=()=>{G()||(D.value=!1,$("#FormModal").modal("show"),$("#bulkviewtab2").show())},F=H=>{$("#bulkviewtab2").hide(),D.value=!0,n.id=H.id,n.user_id=H.user_id,n.site_id=H.site_id,n.date=H.date,n.allocatedpalletspace=H.allocatedpalletspace,n.spaceuteltotal=H.spaceuteltotal,n.caseperpallet=H.caseperpallet,$("#FormModal").modal("show")},S=({setErrors:H})=>{L.post("/web/pallet",n).then(j=>{y(),N(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(j=>{H(j.response.data.errors),console.log(j)})},b=(H,j)=>{D.value?S(H):Q(H)},k=()=>{L.post("/web/bulkCreatePallet",n).then(H=>{N(),$("#FormModal").modal("hide"),d.success(H.data.message)}).catch(H=>{d.error(H.response.data.errors)})},ne=c(null),oe=c([]),V=H=>{const j=oe.value.indexOf(H.id);j===-1?oe.value.push(H.id):oe.value.splice(j,1),console.log(oe.value)},T=c(null),Ie=H=>{T.value=H,$("#deleteDataModal").modal("show")},Oe=()=>{L.delete(`/web/pallet/${T.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),i.value.data=i.value.data.filter(H=>H.id!==T.value)})},Be=()=>{L.delete("/web/bulkDeletePallet",{data:{ids:oe.value}}).then(H=>{N(),oe.value=[],qe.value=!1,d.success(H.data.message)})},ze=()=>{G()||$("#FormModalfilterDate").modal("show")},qe=c(!1),Ge=()=>{if(G())return;$("#cost").hide(),$("#capturecamerafilter").hide();const H=document.getElementById("captureDiv");je(H).then(j=>{const fe=j.toDataURL(),f=document.createElement("a");f.href=fe,f.download=`${C.value} - ${_}.png`,f.click()}),$("#cost").show(),$("#capturecamerafilter").show()},We=()=>{if(G())return;let H=i.value;oy(H,"PalletList",!0)};return ve([v],H=>{n.is_active=H?1:0}),ve(ne,Ee.exports.debounce(()=>{N()},300)),ue(()=>{te(),document.title=_}),(H,j)=>{const fe=$e("font");return s(),a(O,null,[e("div",ly,[e("div",ny,[e("div",dy,[e("div",iy,[e("button",{onClick:z,type:"button",class:"mb-2 btn btn-primary"},[cy,q(" Pallet ")]),oe.value.length>0?(s(),a("div",ry,[e("button",{onClick:Be,type:"button",class:"ml-2 mb-2 btn btn-danger"},[uy,q(" Delete Selected ")]),e("span",_y,"Selected "+t(oe.value.length)+" Pallet",1)])):P("",!0)]),e("div",my,[e("div",py,[J(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":j[0]||(j[0]=f=>n.site_id=f),onChange:j[1]||(j[1]=f=>ie())},[hy,(s(!0),a(O,null,K(u.value,f=>(s(),a("option",{key:f.id,value:f.id},t(f.site_name),9,vy))),128))],544),[[Te,n.site_id]])])])]),e("div",by,[e("div",fy,[e("div",$y,[e("div",gy,t(C.value||"Select a Site"),1),e("div",yy,[e("div",ky,[e("div",wy,[J(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":j[2]||(j[2]=f=>A.value=f)},null,512),[[Me,A.value]]),xy])])])]),e("div",Cy,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between mb-1"},[e("div",{class:"d-flex"},[e("div",{class:"btn-group"},[e("button",{onClick:Ge,type:"button",class:"btn btn-warning"},Dy),e("button",{onClick:We,type:"button",class:"btn btn-success"},Vy)])]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:ze})])])]),p.value?(s(),ce(Ae,{key:0})):(s(),a("div",My,[g(fe,{size:"2"},{default:X(()=>[e("table",Ay,[e("thead",null,[e("tr",null,[Ey,Ty,Py,Ly,Fy,Iy,A.value?(s(),a("th",qy," Cost per Pallet ")):P("",!0),A.value?(s(),a("th",Yy,"Cost")):P("",!0),Ny,By])]),i.value.length>0?(s(),a("tbody",Ry,[(s(!0),a(O,null,K(i.value,(f,M)=>(s(),a("tr",{key:f.id,item:f,index:M,onConfirmDeletion:Ie,onToggleSelection:V,"select-all":qe.value},[e("td",null,[e("input",{type:"checkbox",checked:qe.value,onChange:V},null,40,jy)]),e("td",null,t(r(he)(f.date).format("MMMM DD, YY")),1),e("td",null,t(f.allocatedpalletspace),1),e("td",null,t(f.spaceuteltotal),1),e("td",null,t(f.spacetotalutelpercent),1),e("td",null,t(f.excess),1),A.value?(s(),a("td",Oy,t(f.caseperpallet),1)):P("",!0),A.value?(s(),a("td",zy,t(f.cost),1)):P("",!0),e("td",null," EXCESS "+t(f.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:h=>F(f)},Qy,8,Gy)])],40,Hy))),128)),A.value?(s(),a("tr",Ky,[Xy,e("td",Jy,[e("b",null,t(x.value),1)])])):P("",!0)])):(s(),a("tbody",Zy,t2))])]),_:1})]))])])])])]),e("div",s2,[e("div",a2,[e("div",o2,[e("div",l2,[e("h5",n2,[D.value?(s(),a("span",d2,"Edit Pallet")):(s(),a("span",i2,"Add Pallet"))]),c2]),r2,e("div",u2,[e("div",_2,[g(r(Ce),{onSubmit:b,"validation-schema":D.value?r(de):r(Z)},{default:X(({errors:f})=>[e("div",m2,[e("div",p2,[e("div",h2,[e("div",v2,[g(r(R),{modelValue:n.user_id,"onUpdate:modelValue":j[3]||(j[3]=M=>n.user_id=M),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",b2,[f2,g(r(R),{name:"date",type:"date",class:U(["form-control",{"is-invalid":f.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":j[4]||(j[4]=M=>n.date=M)},null,8,["class","modelValue"]),e("span",$2,t(f.date),1)]),e("div",g2,[y2,g(r(R),{name:"allocatedpalletspace",type:"text",class:U(["form-control",{"is-invalid":f.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":j[5]||(j[5]=M=>n.allocatedpalletspace=M)},null,8,["class","modelValue"]),e("span",k2,t(f.allocatedpalletspace),1)]),e("div",w2,[x2,g(r(R),{name:"spaceuteltotal",type:"text",class:U(["form-control",{"is-invalid":f.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":j[6]||(j[6]=M=>n.spaceuteltotal=M),required:""},null,8,["class","modelValue"]),e("span",C2,t(f.spaceuteltotal),1)]),e("div",S2,[D2,g(r(R),{name:"caseperpallet",type:"text",class:U(["form-control",{"is-invalid":f.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":j[7]||(j[7]=M=>n.caseperpallet=M)},null,8,["class","modelValue"]),e("span",U2,t(f.caseperpallet),1)])])])])]),V2]),_:1},8,["validation-schema"])]),e("div",M2,[g(r(Ce),{onSubmit:k,"validation-schema":r(W)},{default:X(({errors:f})=>[e("div",A2,[e("div",E2,[e("div",T2,[e("div",P2,[g(r(R),{modelValue:n.user_id,"onUpdate:modelValue":j[8]||(j[8]=M=>n.user_id=M),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",L2,[F2,g(r(R),{name:"fromdate",type:"date",class:U(["form-control",{"is-invalid":f.fromdate}]),id:"fromdate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.fromdate,"onUpdate:modelValue":j[9]||(j[9]=M=>n.fromdate=M)},null,8,["class","modelValue"]),e("span",I2,t(f.fromdate),1)]),e("div",q2,[Y2,g(r(R),{name:"todate",type:"date",class:U(["form-control",{"is-invalid":f.todate}]),id:"todate","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.todate,"onUpdate:modelValue":j[10]||(j[10]=M=>n.todate=M)},null,8,["class","modelValue"]),e("span",N2,t(f.todate),1)]),e("div",B2,[R2,g(r(R),{name:"allocatedpalletspace",type:"text",class:U(["form-control",{"is-invalid":f.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":j[11]||(j[11]=M=>n.allocatedpalletspace=M)},null,8,["class","modelValue"]),e("span",H2,t(f.allocatedpalletspace),1)]),e("div",j2,[O2,g(r(R),{name:"spaceuteltotal",type:"text",class:U(["form-control",{"is-invalid":f.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":j[12]||(j[12]=M=>n.spaceuteltotal=M),required:""},null,8,["class","modelValue"]),e("span",z2,t(f.spaceuteltotal),1)]),e("div",G2,[W2,g(r(R),{name:"caseperpallet",type:"text",class:U(["form-control",{"is-invalid":f.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":j[13]||(j[13]=M=>n.caseperpallet=M)},null,8,["class","modelValue"]),e("span",Q2,t(f.caseperpallet),1)])])])])]),K2]),_:1},8,["validation-schema"])])])])])]),e("div",X2,[e("div",J2,[e("div",Z2,[ek,e("div",tk,[sk,e("button",{onClick:ee(Oe,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",ak,[e("div",ok,[e("div",lk,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(_)+" Report")]),nk]),e("div",dk,[e("div",ik,[e("div",null,[ck,g(r(Pe),{modelValue:B.value,"onUpdate:modelValue":j[14]||(j[14]=f=>B.value=f)},null,8,["modelValue"])]),e("div",null,[rk,g(r(Pe),{modelValue:E.value,"onUpdate:modelValue":j[15]||(j[15]=f=>E.value=f)},null,8,["modelValue"])])])]),e("div",uk,[_k,e("button",{onClick:j[16]||(j[16]=f=>m()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var pk=ge(mk,[["__scopeId","data-v-99af1472"]]);const hk=o=>(De("data-v-298b68f9"),o=o(),Ue(),o),vk={class:"content"},bk={class:"container-fluid"},fk={class:"row"},$k={class:"col-md-6"},gk={class:"card"},yk={class:"card-title"},kk={class:"form-group m-3"},wk=hk(()=>e("option",{value:"",disabled:""}," Select User ",-1)),xk=["value"],Ck={class:"card-body"},Sk={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},Dk={class:"custom-control custom-checkbox"},Uk=["value","id","checked"],Vk=["for"],Mk={class:"card-footer"},Ak={__name:"UserSite",setup(o){_e();const w=`${be().name}`,_=me();c(!0);const d=Ve({user_id:""});c(null),c();const i=c(),u=c(),p=c([]),D=()=>{L.get("/api/users/userlist").then(C=>{u.value=C.data}).catch(C=>{console.log(C)})},l=C=>{C!==null?L.get(`/web/usersite/${C}`).then(n=>{i.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):L.get("/web/getsitewithoutuser").then(n=>{i.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},A=()=>{const C={user_id:d.user_id,site_id:p.value};console.log(C),L.post("/web/onSaveupdate",C).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},v=C=>{l(C)};return ue(()=>{D(),l(),document.title=w}),(C,n)=>(s(),a("div",vk,[e("div",bk,[e("div",fk,[e("div",$k,[e("div",gk,[e("div",yk,[e("div",kk,[g(r(R),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=x=>d.user_id=x),onChange:n[1]||(n[1]=x=>v(d.user_id))},{default:X(()=>[wk,(s(!0),a(O,null,K(u.value,x=>(s(),a("option",{key:x.id,value:x.id},t(x.name),9,xk))),128))]),_:1},8,["modelValue"])])]),e("div",Ck,[e("ul",Sk,[(s(!0),a(O,null,K(i.value,x=>(s(),a("li",{key:x.id,class:"list-group-item"},[e("div",Dk,[J(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=N=>p.value=N),value:x.id,id:"site_id_"+x.id,checked:x.hasAccess},null,8,Uk),[[Me,p.value]]),e("label",{for:"site_id_"+x.id,class:"custom-control-label"},t(x.site_name),9,Vk)])]))),128))]),e("div",Mk,[e("button",{type:"button",onClick:n[3]||(n[3]=x=>A()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var Ek=ge(Ak,[["__scopeId","data-v-298b68f9"]]),Tk=[{path:"/login",name:"admin.login",component:jn},{path:"/",name:"Dashboard",component:Tt},{path:"/appointments",name:"Appointments",component:es},{path:"/appointments/create",name:"Appointments",component:et},{path:"/appointments/:id/edit",name:"Appointments",component:et},{path:"/user",name:"User",component:Ao},{path:"/settings",name:"Setting",component:Dl},{path:"/profile",name:"Profile",component:yn},{path:"/client",name:"Client",component:Rd},{path:"/tech-recommendation",name:"Tech Recomm",component:ar},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:pm},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:Lh},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Rp},{path:"/usermenu",name:"User Menu",component:Av},{path:"/menu",name:"Menu",component:e1},{path:"/:catchAll(.*)",name:"404 Error Page",component:nt},{path:"/notifications",name:"Notifications",component:rf},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:dt},{path:"/asset-monitoring",name:"Asset Monitoring",component:ay},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:pk},{path:"/usersite",name:"User Site",component:Ek}];const Pk={class:"navbar-nav"},Lk=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),Fk={class:"nav-item d-none d-sm-inline-block"},Ik={class:"navbar-nav ml-auto"},qk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),Yk=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),Nk={class:"nav-link","data-toggle":"dropdown",href:"#"},Bk=e("i",{class:"far fa-bell"},null,-1),Rk={class:"badge badge-warning navbar-badge"},Hk={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},jk={class:"dropdown-header"},Ok=e("div",{class:"dropdown-divider"},null,-1),zk=e("i",{class:"fas fa-envelope mr-2"},null,-1),Gk={class:"float-right text-muted text-sm"},Wk={key:1,class:"text-center text-muted py-3"},Qk=e("div",{class:"dropdown-divider"},null,-1),Kk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),Xk=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),Jk={__name:"AppNavbar",setup(o){const w=Re(),_=c([]),d=()=>{L.get("/api/notifications").then(i=>{_.value=i.data.notifications}).catch(i=>{console.error("Error fetching notifications",i)})};return ue(()=>{d()}),(i,u)=>{const p=$e("router-link");return s(),a("nav",{class:U(["main-header navbar navbar-expand",r(w).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",Pk,[Lk,e("li",Fk,[e("a",{onClick:u[0]||(u[0]=ee((...D)=>r(w).changeTheme&&r(w).changeTheme(...D),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:U(["far",r(w).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",Ik,[qk,Yk,e("li",{class:"nav-item dropdown",onClick:d},[e("a",Nk,[Bk,e("span",Rk,t(_.value.length),1)]),e("div",Hk,[e("span",jk,t(_.value.length)+" Notifications",1),Ok,_.value.length>0?(s(!0),a(O,{key:0},K(_.value,D=>(s(),a("a",{key:D.id,href:"#",class:"dropdown-item"},[zk,q(" "+t(D.data?D.data:"No message available")+" ",1),e("span",Gk,t(r(he)(D.created_at)),1)]))),128)):(s(),a("p",Wk,"No new notifications")),Qk,g(p,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:X(()=>[q("See All Notifications")]),_:1})])]),Kk,Xk])],2)}}},Zk={class:"main-sidebar sidebar-dark-primary elevation-4"},e0={href:"#",class:"brand-link"},t0=["src"],s0={class:"brand-text font-weight-light"},a0={class:"sidebar"},o0={class:"user-panel mt-3 pb-3 mb-3 d-flex"},l0={key:0,class:"image"},n0=["src"],d0={key:1,class:"image"},i0=["src"],c0=["src"],r0={class:"info"},u0={href:"#",class:"d-block"},_0={class:"mt-2"},m0={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},p0={key:0,class:"right fas fa-angle-left"},h0={key:0,class:"nav nav-treeview"},v0={class:"nav-item"},b0={class:"nav-link"},f0=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),$0=e("p",null,"Logout",-1),g0=[f0,$0],y0={__name:"SidebarLeft",setup(o){const w=Ke(),_=_e(),d=Re(),i=c({data:[]}),u=()=>{axios.get("/api/menu").then(l=>{i.value=l.data}).catch(l=>{console.log(l)})},p=l=>l===w.currentRoute.value.path,D=()=>{axios.post("/logout").then(l=>{_.user.name="",w.push("/login")})};return ue(()=>{$('[data-widget="treeview"]').Treeview("init"),u()}),(l,A)=>{const v=$e("router-link");return s(),a("aside",Zk,[e("a",e0,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,t0),e("span",s0,t(r(d).setting.app_name),1)]),e("div",a0,[e("div",o0,[r(_).user.avatar===""?(s(),a("div",l0,[e("img",{src:r(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,n0)])):r(_).user.avatar!==""?(s(),a("div",d0,[r(_).user.gender==="Male"?(s(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,i0)):r(_).user.gender==="Female"?(s(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,c0)):P("",!0)])):P("",!0),e("div",r0,[e("a",u0,t(r(_).user.name),1)])]),e("nav",_0,[e("ul",m0,[(s(!0),a(O,null,K(i.value,C=>(s(),a("li",{key:C.id,class:U({"nav-item":!0,"menu-is-opening":C.submenus&&C.submenus.length>0})},[g(v,{class:U({"nav-link":!0,active:p(C.menu_route)}),to:`${C.menu_route}`},{default:X(()=>[e("i",{class:U("nav-icon "+C.menu_icon)},null,2),e("p",null,t(C.menu_title),1),C.submenus&&C.submenus.length>0?(s(),a("i",p0)):P("",!0)]),_:2},1032,["class","to"]),C.submenus&&C.submenus.length>0?(s(),a("ul",h0,[(s(!0),a(O,null,K(C.submenus,n=>(s(),a("li",{key:n.id,class:"nav-item"},[g(v,{class:U({"nav-link menu-open":!0,active:p(n.menu_route)}),to:n.menu_route},{default:X(()=>[e("i",{class:U("nav-icon "+n.menu_icon)},null,2),e("p",null,t(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):P("",!0)],2))),128)),e("li",v0,[e("form",b0,[e("a",{href:"#",onClick:ee(D,["prevent"])},g0)])])])])])])}}},k0={},w0={class:"control-sidebar control-sidebar-dark"},x0=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),C0=[x0];function S0(o,w){return s(),a("aside",w0,C0)}var D0=ge(k0,[["render",S0]]);const U0={class:"main-footer"},V0={class:"float-right d-none d-sm-block"},M0={href:"#"},A0={__name:"AppFooter",props:{settings:Object},setup(o){const w=_e(),_=c(new Date().getFullYear());return(d,i)=>{var u;return s(),a("footer",U0,[e("div",V0,t(r(w).user.name),1),e("strong",null,[q("Copyright \xA9 "+t(_.value)+" ",1),e("a",M0,t((u=o.settings)==null?void 0:u.app_name),1),q(".")]),q(" All rights reserved. ")])}}};const E0=o=>(De("data-v-36653638"),o=o(),Ue(),o),T0={class:"content-wrapper"},P0={class:"content-header"},L0={class:"container-fluid"},F0={class:"row mb-2"},I0={class:"col-sm-6"},q0={class:"m-0"},Y0={class:"col-sm-6"},N0={class:"breadcrumb float-sm-right"},B0=E0(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),R0={class:"breadcrumb-item active"},H0={__name:"CustomMainLayout",setup(o){const w=_e(),_=Re(),d=Se(()=>_.theme==="dark"?"dark-mode":"");return(i,u)=>{const p=$e("router-view");return r(w).user.name!==""?(s(),a("div",{key:0,class:U(["wrapper",d.value])},[g(Jk),g(y0),g(D0),e("div",T0,[e("section",P0,[e("div",L0,[e("div",F0,[e("div",I0,[e("h1",q0,t(i.$route.name),1)]),e("div",Y0,[e("ol",N0,[B0,e("li",R0,t(i.$route.name),1)])])])])]),g(p)]),g(A0)],2)):(s(),a("div",{key:1,class:U(["login-page slibg",d.value])},[g(p)],2))}}};var j0=ge(H0,[["__scopeId","data-v-36653638"]]);const O0={__name:"App",setup(o){_e();const w=be(),_=Se(()=>w.name==="Tech-Approved"),d=Se(()=>w.name==="404 Error Page");return(i,u)=>(s(),a("div",null,[!d.value&&!_.value?(s(),ce(j0,{key:0})):_.value?(s(),ce(dt,{key:1})):(s(),ce(nt,{key:2}))]))}};var z0=ge(O0,[["__scopeId","data-v-754d440b"]]);const G0=ut(),Ne=pt(z0),it=_t({routes:Tk,history:mt()});it.beforeEach(async(o,w)=>{const _=_e();if(_.user.name===""&&o.name!=="admin.login"){const d=Re();await Promise.all([_.getAuthUser(),d.getSetting()])}});Ne.use(St);Ne.use(G0);Ne.use(it);Ne.use(Ct);Ne.use(ot);Ne.mount("#app");
