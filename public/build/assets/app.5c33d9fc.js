import{_ as dt,l as Te}from"./lodash.6f1dd969.js";import{a as A}from"./axios.82d3905a.js";import{a as it}from"./jquery.63d5220e.js";import"./admin-lte.f5ef7270.js";import"./vue.b922205b.js";import{d as Je,c as ct}from"./pinia.210ccde5.js";import{u as fe,a as Qe,c as rt,b as ut}from"./vue-router.abad5649.js";import{r as i,o as _e,i as a,k as e,x as t,_ as g,u,e as s,I as Fe,h as J,j as D,F as R,q as W,d as ge,a0 as le,v as V,C as Ae,a2 as Z,a3 as ue,aa as Pe,p as L,w as be,ab as we,f as ce,a5 as Ue,a6 as Me,ac as _t,ad as Ve,B as Ze,a1 as Ge,ae as mt}from"./@vue.04713aa0.js";import{B as ht}from"./vue-chartjs.50c6886f.js";import{C as pt,p as vt,a as bt,b as ft,c as $t,d as gt,L as yt}from"./chart.js.562acd0f.js";import{S as Ke}from"./sweetalert2.ef56b979.js";import{t as je}from"./toastr.94171567.js";import{F as De,a as N}from"./vee-validate.1443789f.js";import{f as et}from"./flatpickr.181c7977.js";import{c as xe,a as Y}from"./yup.d75bfd51.js";import"./property-expr.48609aa3.js";import{h as ve}from"./moment.40bc58bf.js";import{a as qe}from"./laravel-vue-pagination.475a8c82.js";import{C as kt}from"./vue-content-loader.639d3101.js";import"./dompurify.5fe4b1c1.js";import{u as xt}from"./@vueuse.5a8c8091.js";import{L as Ie}from"./vue3-datepicker.b3fccff5.js";import{h as Oe}from"./html2canvas.c4a43e03.js";import{h as tt}from"./html2pdf.js.44b835e5.js";import{V as wt}from"./vue-sweetalert2.891f877f.js";import{d as Ct}from"./vue3-form-wizard.4fa39827.js";import"./@kurkle.1fd9dacb.js";import"./nanoclone.7d3cb5fe.js";import"./toposort.ef497e49.js";import"./date-fns.cc226e2e.js";import"./@babel.afb8673e.js";import"./jspdf.10c44267.js";window._=dt;window.axios=A;window.$=window.jQuery=it;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const me=Je("AuthUserStore",()=>{const o=i({id:"",name:"",email:"",role:"",avatar:"",first_name:"",last_name:""});return{user:o,getAuthUser:async()=>{await A.get("/api/profile").then(_=>{o.value=_.data})}}}),St={class:"content"},Dt={class:"container-fluid"},Ut={class:"card"},Mt={class:"card-header"},Vt={class:"card-body"},At=e("div",{class:"row"},null,-1),Et={__name:"Dashboard",setup(o){pt.register(vt,bt,ft,$t,gt,yt);const y=`${fe().name}`;me(),i("all"),i(0);const _=i(new Date().getFullYear()),d=i({labels:[],datasets:[{data:[]},{data:[]},{data:[]}]}),r=()=>{axios.get("/api/chart").then(l=>{l.data,d.value=l.data}).catch(l=>{console.error("Error fetching chart data:",l)})},m=i("today"),k=i(0),E=()=>{axios.get("/api/stats/users",{params:{date_range:m.value}}).then(l=>{k.value=l.data.totalUsersCount})};return _e(()=>{r(),E(),document.title=y}),(l,T)=>(s(),a("div",St,[e("div",Dt,[e("div",Ut,[e("div",Mt," Yearly Progress - "+t(_.value),1),e("div",Vt,[g(u(ht),{data:d.value},null,8,["data"])])]),At])]))}},Tt={class:"content"},Lt={class:"container-fluid"},Pt={class:"row"},Ft={class:"col-lg-12"},It={class:"d-flex justify-content-between mb-2"},qt=e("button",{class:"btn btn-primary"},[e("i",{class:"fa fa-plus-circle mr-1"}),V(" Add New Appointment")],-1),Yt={class:"btn-group"},Bt=e("span",{class:"mr-1"},"All",-1),Nt={class:"badge badge-pill badge-info"},Rt=["onClick"],Ht={class:"mr-1"},jt={class:"card"},Ot={class:"card-body"},zt={class:"table table-bordered"},Gt=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Client Name"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Time"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Options")])],-1),Qt=e("td",null,null,-1),Wt=e("i",{class:"fa fa-edit mr-2"},null,-1),Kt=["onClick"],Xt=e("i",{class:"fa fa-trash text-danger"},null,-1),Jt=[Xt],Zt={__name:"ListAppointments",setup(o){const y=i(),_=i([]),d=()=>{A.get("/api/appointment-status").then(T=>{_.value=T.data})},r=i([]),m=T=>{y.value=T;const b={};T&&(b.status=T),A.get("/api/appointments",{params:b}).then(x=>{r.value=x.data,console.log(x)})},k=Fe(()=>_.value.map(T=>T.count).reduce((T,b)=>T+b,0)),E=T=>{const b=r.value.data.find(n=>n.id===T).status.name,x=_.value.find(n=>n.name===b);x.count--},l=T=>{Ke.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(b=>{b.isConfirmed&&A.delete(`/api/appointments/${T}`).then(x=>{E(T),r.value.data=r.value.data.filter(n=>n.id!==T),Ke.fire("Deleted!","Your file has been deleted.","success")})})};return _e(()=>{m(),d()}),(T,b)=>{const x=ge("router-link");return s(),a("div",Tt,[e("div",Lt,[e("div",Pt,[e("div",Ft,[e("div",It,[e("div",null,[g(x,{to:"/admin/appointments/create"},{default:J(()=>[qt]),_:1})]),e("div",Yt,[e("button",{onClick:b[0]||(b[0]=n=>m()),type:"button",class:D(["btn",[typeof y.value=="undefined"?"btn-secondary":"btn-default"]])},[Bt,e("span",Nt,t(k.value),1)],2),(s(!0),a(R,null,W(_.value,n=>(s(),a("button",{key:n.id,onClick:w=>m(n.value),type:"button",class:D(["btn",[y.value===n.value?"btn-secondary":"btn-default"]])},[e("span",Ht,t(n.name),1),e("span",{class:D(["badge badge-pill",`badge-${n.color}`])},t(n.count),3)],10,Rt))),128))])]),e("div",jt,[e("div",Ot,[e("table",zt,[Gt,e("tbody",null,[(s(!0),a(R,null,W(r.value.data,(n,w)=>(s(),a("tr",{key:n.id},[e("td",null,t(w+1),1),e("td",null,t(n.client.first_name)+" "+t(n.client.last_name),1),e("td",null,t(n.start_time),1),e("td",null,t(n.end_time),1),Qt,e("td",null,[g(x,{to:`/admin/appointments/${n.id}/edit`},{default:J(()=>[Wt]),_:2},1032,["to"]),e("a",{href:"#",onClick:le(q=>l(n.id),["prevent"])},Jt,8,Kt)])]))),128))])])])])])])])])}}};function he(){return je.options.positionClass="toast-top-right",je.options.closeButton=!0,je.options.progressBar=!0,je}const es={class:"content-header"},ts={class:"container-fluid"},ss={class:"row mb-2"},as={class:"col-sm-6"},os={class:"m-0"},ls={key:0},ns={key:1},ds={class:"col-sm-6"},is={class:"breadcrumb float-sm-right"},cs={class:"breadcrumb-item"},rs={class:"breadcrumb-item"},us={class:"breadcrumb-item active"},_s={key:0},ms={key:1},hs={class:"content"},ps={class:"container-fluid"},vs={class:"row"},bs={class:"col-lg-12"},fs={class:"card"},$s={class:"card-body"},gs={class:"row"},ys={class:"col-md-6"},ks={class:"form-group"},xs=e("label",{for:"title"},"Title",-1),ws={class:"invalid-feedback"},Cs={class:"col-md-6"},Ss={class:"form-group"},Ds=e("label",{for:"client"},"Client Name",-1),Us=["value"],Ms={class:"invalid-feedback"},Vs={class:"row"},As={class:"col-md-6"},Es={class:"form-group"},Ts=e("label",{for:"start-time"},"Start Time",-1),Ls={class:"invalid-feedback"},Ps={class:"col-md-6"},Fs={class:"form-group"},Is=e("label",{for:"end-time"},"End Time",-1),qs={class:"invalid-feedback"},Ys={class:"form-group"},Bs=e("label",{for:"description"},"Description",-1),Ns={class:"invalid-feedback"},Rs=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Xe={__name:"AppointmentForm",setup(o){const y=Qe(),_=fe(),d=he(),r=Ae({title:"",client_id:"",start_time:"",end_time:"",description:""}),m=(n,w)=>{x.value?E(n,w):k(n,w)},k=(n,w)=>{A.post("/api/appointments/create",r).then(q=>{y.push("/admin/appointments"),d.success("Appointment created successfully!")}).catch(q=>{w.setErrors(q.response.data.errors)})},E=(n,w)=>{A.put(`/api/appointments/${_.params.id}/edit`,r).then(q=>{y.push("/admin/appointments"),d.success("Appointment updated successfully!")}).catch(q=>{w.setErrors(q.response.data.errors)})},l=i(),T=()=>{A.get("/api/view-clients").then(n=>{l.value=n.data})},b=()=>{A.get(`/api/appointments/${_.params.id}/edit`).then(({data:n})=>{r.title=n.title,r.client_id=n.client_id,r.start_time=n.formatted_start_time,r.end_time=n.formatted_end_time,r.description=n.description})},x=i(!1);return _e(()=>{_.name==="admin.appointments.edit"&&(x.value=!0,b()),et(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),T()}),(n,w)=>{const q=ge("router-link");return s(),a(R,null,[e("div",es,[e("div",ts,[e("div",ss,[e("div",as,[e("h1",os,[x.value?(s(),a("span",ls,"Edit")):(s(),a("span",ns,"Create")),V(" Appointment")])]),e("div",ds,[e("ol",is,[e("li",cs,[g(q,{to:"/admin/dashboard"},{default:J(()=>[V("Home")]),_:1})]),e("li",rs,[g(q,{to:"/admin/appointments"},{default:J(()=>[V("Appointments")]),_:1})]),e("li",us,[x.value?(s(),a("span",_s,"Edit")):(s(),a("span",ms,"Create"))])])])])])]),e("div",hs,[e("div",ps,[e("div",vs,[e("div",bs,[e("div",fs,[e("div",$s,[g(u(De),{onSubmit:m},{default:J(({errors:z})=>[e("div",gs,[e("div",ys,[e("div",ks,[xs,Z(e("input",{"onUpdate:modelValue":w[0]||(w[0]=te=>r.title=te),type:"text",class:D(["form-control",{"is-invalid":z.title}]),id:"title",placeholder:"Enter Title"},null,2),[[ue,r.title]]),e("span",ws,t(z.title),1)])]),e("div",Cs,[e("div",Ss,[Ds,Z(e("select",{"onUpdate:modelValue":w[1]||(w[1]=te=>r.client_id=te),id:"client",class:D(["form-control",{"is-invalid":z.client_id}])},[(s(!0),a(R,null,W(l.value,te=>(s(),a("option",{value:te.id,key:te.id},t(te.first_name)+" "+t(te.last_name),9,Us))),128))],2),[[Pe,r.client_id]]),e("span",Ms,t(z.client_id),1)])])]),e("div",Vs,[e("div",As,[e("div",Es,[Ts,Z(e("input",{"onUpdate:modelValue":w[2]||(w[2]=te=>r.start_time=te),type:"text",class:D(["form-control flatpickr",{"is-invalid":z.start_time}]),id:"start-time"},null,2),[[ue,r.start_time]]),e("span",Ls,t(z.start_time),1)])]),e("div",Ps,[e("div",Fs,[Is,Z(e("input",{"onUpdate:modelValue":w[3]||(w[3]=te=>r.end_time=te),type:"text",class:D(["form-control flatpickr",{"is-invalid":z.end_time}]),id:"end-time"},null,2),[[ue,r.end_time]]),e("span",qs,t(z.end_time),1)])])]),e("div",Ys,[Bs,Z(e("textarea",{"onUpdate:modelValue":w[4]||(w[4]=te=>r.description=te),class:D(["form-control",{"is-invalid":z.description}]),id:"description",rows:"3",placeholder:"Enter Description"},null,2),[[ue,r.description]]),e("span",Ns,t(z.description),1)]),Rs]),_:1})])])])])])])],64)}}},Hs=["checked"],js=["value","selected"],Os=["value","selected"],zs=e("i",{class:"fa fa-edit"},null,-1),Gs=[zs],Qs=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),Ws=[Qs],Ks={__name:"UserListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){const _=he(),d=o,r=y,m=i([{name:"ADMIN",value:1},{name:"USER",value:2}]),k=i([]),E=()=>{A.get("/api/users/userlist").then(x=>{k.value=x.data}).catch(x=>{console.log(x)})},l=(x,n)=>{A.patch(`/api/users/${x.id}/change-role`,{role:n}).then(()=>{_.success("Role changed successfully!")})},T=(x,n)=>{A.patch(`/api/users/${x.id}/change-sitehead`,{sitehead_user_id:n}).then(()=>{_.success("Sitehead changed successfully!")})},b=()=>{r("toggleSelection",d.user)};return _e(()=>{E()}),(x,n)=>(s(),a("tr",null,[e("td",null,[o.user.name!="admin"?(s(),a("input",{key:0,type:"checkbox",checked:o.selectAll,onChange:b},null,40,Hs)):L("",!0)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",null,[e("select",{class:"form-control",onChange:n[0]||(n[0]=w=>l(o.user,w.target.value))},[(s(!0),a(R,null,W(m.value,w=>(s(),a("option",{key:w.id,value:w.value,selected:o.user.role===w.name},t(w.name),9,js))),128))],32)]),e("td",null,[o.user.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:n[1]||(n[1]=w=>T(o.user,w.target.value))},[(s(!0),a(R,null,W(k.value,w=>(s(),a("option",{key:w.id,value:w.id,selected:o.user.sitehead_user_id===w.id},t(w.first_name+" "+w.last_name),9,Os))),128))],32)):L("",!0)]),e("td",null,[e("a",{href:"#",onClick:n[2]||(n[2]=le(w=>x.$emit("editUser",o.user),["prevent"]))},Gs),o.user.id!=1?(s(),a("a",{key:0,href:"#",onClick:n[3]||(n[3]=le(w=>x.$emit("confirmUserDeletion",o.user.id),["prevent"]))},Ws)):L("",!0)])]))}},Xs={class:"content"},Js={class:"container-fluid"},Zs={class:"d-flex justify-content-between mb-2"},ea={class:"d-flex"},ta=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),sa={key:0},aa=e("i",{class:"fa fa-trash mr-1"},null,-1),oa={class:"ml-2"},la={class:"card"},na={class:"card-body"},da={class:"dispatch-table"},ia={class:"table-responsive"},ca={class:"table table-bordered table-hover table-sm"},ra=e("thead",null,[e("tr",null,[e("th"),e("th",{style:{width:"10px"}},"#"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Registered Date"),e("th",null,"Role"),e("th",null,"Head"),e("th",null,"Action")])],-1),ua={key:0},_a={key:1},ma=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),ha=[ma],pa=["index"],va={class:"card"},ba={class:"card-body"},fa={class:"list-field"},$a=e("span",{class:"mb-1 dis"},"Name:",-1),ga={class:"list-field"},ya=e("span",{class:"mb-1 dis"},"Email:",-1),ka={class:"list-field"},xa=e("span",{class:"mb-1 dis"},"Registered Date:",-1),wa={class:"list-field"},Ca=e("span",{class:"mb-1 dis"},"Site Head:",-1),Sa=["onChange"],Da=["value","selected"],Ua=e("hr",null,null,-1),Ma={class:"row"},Va={key:0,class:"col"},Aa=["onClick"],Ea=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ta=["onClick"],La=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),Pa=[La],Fa={key:1,class:"col"},Ia=["onClick"],qa=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ya={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ba={class:"modal-dialog",role:"document"},Na={class:"modal-content"},Ra={class:"modal-header"},Ha={class:"modal-title",id:"staticBackdropLabel"},ja={key:0},Oa={key:1},za=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Ga={class:"modal-body"},Qa={class:"form-group"},Wa=e("label",{for:"name"},"Username",-1),Ka={class:"invalid-feedback"},Xa={class:"d-flex justify-content-between"},Ja={class:"d-flex"},Za={class:"form-group"},eo=e("label",{for:"email"},"Email",-1),to={class:"invalid-feedback"},so={class:"d-flex"},ao={class:"form-group"},oo=e("label",{for:"siteDropdown"},"Gender",-1),lo=e("option",{value:"",disabled:""}," Select a gender ",-1),no=["value"],io={class:"d-flex justify-content-between"},co={class:"d-flex"},ro={class:"form-group"},uo=e("label",{for:"first_name"},"Fist Name",-1),_o={class:"invalid-feedback"},mo={class:"d-flex"},ho={class:"form-group"},po=e("label",{for:"last_name"},"Last Name",-1),vo={class:"invalid-feedback"},bo={class:"form-group"},fo=e("label",{for:"position"},"Position",-1),$o={class:"invalid-feedback"},go={class:"form-group"},yo=e("label",{for:"password"},"Password",-1),ko={class:"invalid-feedback"},xo=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),wo={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Co={class:"modal-dialog",role:"document"},So={class:"modal-content"},Do=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Uo={class:"modal-footer"},Mo=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Vo={__name:"UserList",setup(o){const y=`${fe().name}`,_=me(),d=he(),r=i({data:[]}),m=i(!1),k=i(),E=i(null);i([]),i(null);const l=i([{name:"Male",value:1},{name:"Female",value:2}]),T=(U=1)=>{A.get(`/api/users?page=${U}`,{params:{query:F.value}}).then(h=>{r.value=h.data,c.value=[],pe.value=!1})},b=xe({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().required().min(8),gender:Y().required()}),x=xe({name:Y().required(),last_name:Y().required(),first_name:Y().required(),email:Y().email().required(),password:Y().when((U,h)=>U?h.required().min(8):h),gender:Y().required()}),n=i([]),w=()=>{A.get("/api/users/userlist").then(U=>{n.value=U.data}).catch(U=>{console.log(U)})},q=(U,h)=>{A.patch(`/api/users/${U.id}/change-sitehead`,{sitehead_user_id:h}).then(()=>{d.success("Sitehead changed successfully!")})},z=(U,{resetForm:h,setErrors:p})=>{A.post("/api/users",U).then(f=>{r.value.data.unshift(f.data),$("#userFormModal").modal("hide"),h(),d.success("User created successfully!")}).catch(f=>{f.response.data.errors&&(p(f.response.data.errors),d.warning(f.response.data.errors.name))})},te=()=>{m.value=!1,$("#userFormModal").modal("show")},K=U=>{m.value=!0,E.value.resetForm(),$("#userFormModal").modal("show"),k.value={id:U.id,name:U.name,email:U.email,sitehead_user_id:U.sitehead_user_id,first_name:U.first_name,last_name:U.last_name,gender:U.gender}},j=(U,{setErrors:h})=>{A.put("/api/users/"+k.value.id,U).then(p=>{const f=r.value.data.findIndex(G=>G.id===p.data.id);r.value.data[f]=p.data,$("#userFormModal").modal("hide"),d.success("User updated successfully!")}).catch(p=>{h(p.response.data.errors),console.log(p)})},C=(U,h)=>{m.value?j(U,h):z(U,h)},F=i(null),c=i([]),P=U=>{const h=c.value.indexOf(U.id);h===-1?c.value.push(U.id):c.value.splice(h,1),console.log(c.value)},H=i(null),ae=U=>{H.value=U,$("#deleteUserModal").modal("show")},ee=()=>{A.delete(`/api/users/${H.value}`).then(()=>{$("#deleteUserModal").modal("hide"),d.success("User deleted successfully!"),r.value.data=r.value.data.filter(U=>U.id!==H.value)})},de=()=>{A.delete("/api/users",{data:{ids:c.value}}).then(U=>{r.value.data=r.value.data.filter(h=>!c.value.includes(h.id)),c.value=[],pe.value=!1,d.success(U.data.message)})},pe=i(!1);return be(F,Te.exports.debounce(()=>{T()},300)),_e(()=>{T(),w(),document.title=y}),(U,h)=>{const p=ge("font");return s(),a(R,null,[e("div",Xs,[e("div",Js,[e("div",Zs,[e("div",ea,[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary btn-sm"},[ta,V(" User ")]),c.value.length>0?(s(),a("div",sa,[e("button",{onClick:de,type:"button",class:"ml-2 mb-2 btn btn-danger"},[aa,V(" Delete Selected ")]),e("span",oa,"Selected "+t(c.value.length)+" users",1)])):L("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=f=>F.value=f),class:"form-control",placeholder:"Search..."},null,512),[[ue,F.value]])])]),e("div",la,[e("div",na,[e("div",da,[e("div",ia,[g(p,{size:"2"},{default:J(()=>[e("table",ca,[ra,r.value.data.length>0?(s(),a("tbody",ua,[(s(!0),a(R,null,W(r.value.data,(f,G)=>(s(),ce(Ks,{key:f.id,user:f,index:G,onEditUser:K,onConfirmUserDeletion:ae,onToggleSelection:P,"select-all":pe.value},null,8,["user","index","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",_a,ha))])]),_:1})])]),(s(!0),a(R,null,W(r.value.data,(f,G)=>(s(),a("div",{class:"dispatch-list",key:f.id,index:G},[e("div",va,[e("div",ba,[e("div",fa,[$a,e("span",null,t(f.first_name+" "+f.last_name),1)]),e("div",ga,[ya,e("span",null,t(f.email),1)]),e("div",ka,[xa,e("span",null,t(f.formatted_created_at),1)]),e("div",wa,[Ca,e("span",null,[f.name!="admin"?(s(),a("select",{key:0,class:"form-control",onChange:ie=>q(f,ie.target.value)},[(s(!0),a(R,null,W(n.value,ie=>(s(),a("option",{key:ie.id,value:ie.id,selected:ie.sitehead_user_id===ie.id},t(ie.first_name+" "+ie.last_name),9,Da))),128))],40,Sa)):L("",!0)])]),Ua,e("div",Ma,[u(_).user.role==="ADMIN"?(s(),a("div",Va,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>K(f)},[Ea,V(" Edit ")],8,Aa),e("button",{class:"btn btnsm btn-danger btn-block",onClick:ie=>ae(f.id)},Pa,8,Ta)])):L("",!0),u(_).user.role==="USER"?(s(),a("div",Fa,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:ie=>K(f)},[qa,V(" Edit ")],8,Ia)])):L("",!0)])])])],8,pa))),128))])]),g(u(qe),{data:r.value,onPaginationChangePage:T},null,8,["data"])])]),e("div",Ya,[e("div",Ba,[e("div",Na,[e("div",Ra,[e("h5",Ha,[m.value?(s(),a("span",ja,"Edit User")):(s(),a("span",Oa,"Add New User"))]),za]),g(u(De),{ref_key:"form",ref:E,onSubmit:C,"validation-schema":m.value?u(x):u(b),"initial-values":k.value},{default:J(({errors:f})=>[e("div",Ga,[e("div",Qa,[Wa,g(u(N),{name:"name",type:"text",class:D(["form-control",{"is-invalid":f.name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter Username"},null,8,["class"]),e("span",Ka,t(f.name),1)]),e("div",Xa,[e("div",Ja,[e("div",Za,[eo,g(u(N),{name:"email",type:"email",class:D(["form-control",{"is-invalid":f.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Email"},null,8,["class"]),e("span",to,t(f.email),1)])]),e("div",so,[e("div",ao,[oo,g(u(N),{id:"gender",name:"gender",as:"select",class:D(["form-control",{"is-invalid":f.gender}])},{default:J(()=>[lo,(s(!0),a(R,null,W(l.value,G=>(s(),a("option",{key:G.name,value:G.name},t(G.name),9,no))),128))]),_:2},1032,["class"])])])]),e("div",io,[e("div",co,[e("div",ro,[uo,g(u(N),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":f.first_name}]),id:"first_name","aria-describedby":"nameHelp",placeholder:"Enter first name"},null,8,["class"]),e("span",_o,t(f.first_name),1)])]),e("div",mo,[e("div",ho,[po,g(u(N),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":f.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter last name"},null,8,["class"]),e("span",vo,t(f.last_name),1)])])]),e("div",bo,[fo,g(u(N),{name:"position",type:"text",class:D(["form-control",{"is-invalid":f.position}]),id:"position",placeholder:"Enter position"},null,8,["class"]),e("span",$o,t(f.position),1)]),e("div",go,[yo,g(u(N),{name:"password",type:"password",class:D(["form-control",{"is-invalid":f.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"Enter password"},null,8,["class"]),e("span",ko,t(f.password),1)])]),xo]),_:1},8,["validation-schema","initial-values"])])])]),e("div",wo,[e("div",Co,[e("div",So,[Do,e("div",Uo,[Mo,e("button",{onClick:le(ee,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},Ao=e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Eo=e("rect",{x:"0",y:"20",rx:"3",ry:"3",width:"250",height:"10"},null,-1),To=e("rect",{x:"0",y:"40",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Lo=e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null,-1),Ee={__name:"ContentLoader",setup(o){return(y,_)=>y.isloading?(s(),ce(u(kt),{key:0,viewBox:"0 0 250 110"},{default:J(()=>[Ao,Eo,To,Lo]),_:1})):L("",!0)}};var ye=(o,y)=>{const _=o.__vccOpts||o;for(const[d,r]of y)_[d]=r;return _};const Ye=o=>(Ue("data-v-3a144c01"),o=o(),Me(),o),Po={class:"content"},Fo={class:"container-fluid"},Io={class:"row"},qo={class:"col-md-6"},Yo={class:"card"},Bo=we('<ul class="nav nav-tabs" id="settingsTabs" data-v-3a144c01><li class="nav-item" data-v-3a144c01><a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" data-v-3a144c01>General Settings</a></li><li class="nav-item" data-v-3a144c01><a class="nav-link" id="site-tab" data-toggle="tab" href="#site" data-v-3a144c01>Site Settings</a></li></ul>',1),No={class:"tab-content"},Ro={class:"tab-pane fade show active",id:"general-tab"},Ho={class:"card-body"},jo={class:"form-group"},Oo=Ye(()=>e("label",{for:"appName"},"App Display Name",-1)),zo={key:0,class:"text-danger text-sm"},Go={class:"form-group"},Qo=Ye(()=>e("label",{for:"dateFormat"},"Date Format",-1)),Wo=we('<option value="m/d/Y" data-v-3a144c01> MM/DD/YYYY </option><option value="d/m/Y" data-v-3a144c01> DD/MM/YYYY </option><option value="Y-m-d" data-v-3a144c01> YYYY-MM-DD </option><option value="F j, Y" data-v-3a144c01> Month DD, YYYY </option><option value="j F Y" data-v-3a144c01> DD Month YYYY </option>',5),Ko=[Wo],Xo={key:0,class:"text-danger text-sm"},Jo={class:"form-group"},Zo=Ye(()=>e("label",{for:"paginationLimit"},"Pagination Limit",-1)),el={key:0,class:"text-danger text-sm"},tl=Ye(()=>e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fa fa-save mr-1"}),V("Save Changes ")])],-1)),sl={class:"tab-pane fade",id:"site"},al={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},ol={key:0,class:"list-group-item mt-2"},ll={class:"d-flex justify-content-between"},nl={class:"d-flex"},dl=["onClick"],il={class:"d-flex"},cl=["onClick"],rl={class:"m-2 list-unstyled"},ul={key:1},_l={key:0,class:"list-group-item mt-2"},ml={class:"d-flex justify-content-between"},hl={class:"d-flex"},pl=["onClick"],vl={key:1,class:"mt-2 text-center"},bl=Ye(()=>e("span",null,"No Site",-1)),fl=[bl],$l={class:"input-group"},gl=Ye(()=>e("div",{class:"input-group-append"},[e("button",{type:"submit",class:"btn btn-primary btn-sm"},[e("i",{class:"fas fa-warehouse"})])],-1)),yl={__name:"UpdateSetting",setup(o){const y=`${fe().name}`,_=i([]),d=he(),r=i(!0),m=i([]),k=i(!1),E=i(),l=i({id:"",site_name:"",is_active:""}),T=()=>{k.value=!0,axios.get("/api/site").then(C=>{k.value=!1,m.value=C.data}).catch(C=>{console.log(C)})},b=Fe(()=>Array.isArray(m.value)?m.value.filter(C=>C.is_active===0):[]),x=Fe(()=>b.value.length),n=()=>{r.value=!r.value},w=()=>{var C,F;k.value=!0,axios.post("/api/site",{id:(C=l.value)==null?void 0:C.id,site_name:(F=l.value)==null?void 0:F.site_name,is_active:!0}).then(c=>{T(),l.value={id:null,site_name:"",is_active:!0},d.success(c.data.message),k.value=!1}).catch(c=>{c.response&&c.response.status===422&&(K.value=c.response.data.errors)})},q=C=>{l.value.is_active=C.is_active===1?0:1,axios.post("/api/site",{id:C.id,site_name:C.site_name,is_active:l.value.is_active}).then(F=>{axios.get("/api/site").then(c=>{m.value=c.data}).catch(c=>{console.error("Error fetching tasks:",c),d.error("Error fetching tasks. Please try again.")})}).catch(F=>{console.error("Error adding new task:",F),d.error("Error adding new task. Please try again.")})},z=C=>{l.value.id=C.id,l.value.site_name=C.site_name},te=()=>{axios.get("/api/settings").then(C=>{_.value=C.data})},K=i(),j=()=>{K.value="",axios.post("/api/settings",_.value).then(C=>{d.success("Settings updated successfully!")}).catch(C=>{C.response&&C.response.status===422&&(K.value=C.response.data.errors)})};return _e(()=>{T(),te(),document.title=y}),(C,F)=>(s(),a("div",Po,[e("div",Fo,[e("div",Io,[e("div",qo,[e("div",Yo,[Bo,e("div",No,[e("div",Ro,[e("form",{onSubmit:F[3]||(F[3]=le(c=>j(),["prevent"]))},[e("div",Ho,[e("div",jo,[Oo,Z(e("input",{"onUpdate:modelValue":F[0]||(F[0]=c=>_.value.app_name=c),type:"text",class:"form-control",id:"appName",placeholder:"Enter app display name"},null,512),[[ue,_.value.app_name]]),K.value&&K.value.app_name?(s(),a("span",zo,t(K.value.app_name[0]),1)):L("",!0)]),e("div",Go,[Qo,Z(e("select",{"onUpdate:modelValue":F[1]||(F[1]=c=>_.value.date_format=c),class:"form-control"},Ko,512),[[Pe,_.value.date_format]]),K.value&&K.value.date_format?(s(),a("span",Xo,t(K.value.date_format[0]),1)):L("",!0)]),e("div",Jo,[Zo,Z(e("input",{"onUpdate:modelValue":F[2]||(F[2]=c=>_.value.pagination_limit=c),type:"text",class:"form-control",id:"paginationLimit",placeholder:"Enter pagination limit"},null,512),[[ue,_.value.pagination_limit]]),K.value&&K.value.pagination_limit?(s(),a("span",el,t(K.value.pagination_limit[0]),1)):L("",!0)])]),tl],32)]),e("div",sl,[m.value.length>0?(s(),a("div",al,[k.value?(s(),ce(Ee,{key:0})):L("",!0),(s(!0),a(R,null,W(m.value,c=>(s(),a("ul",{class:"list-group",key:c.id},[c.is_active===1?(s(),a("li",ol,[e("div",ll,[e("div",nl,[e("i",{onClick:P=>q(c),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":c.is_active===1,"fa fa-circle text-primary":c.is_active===0}),style:{"font-size":"15px"}},null,10,dl),e("span",{class:D({"font-italic text-red":c.is_active===0,"":c.is_active===1})},t(c.site_name),3)]),e("div",il,[e("i",{class:"fa fa-pen text-success",onClick:P=>z(c)},null,8,cl)])])])):L("",!0)]))),128)),e("li",rl,[x.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-danger",onClick:n},[e("i",{class:D(["fa",r.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Deactive List "+t(x.value),1)])):L("",!0)]),r.value?(s(),a("div",ul,[(s(!0),a(R,null,W(m.value,c=>(s(),a("ul",{class:"list-group",key:c.id},[c.is_active===0?(s(),a("li",_l,[e("div",ml,[e("div",hl,[e("i",{onClick:P=>q(c),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":c.is_active===1,"fa fa-circle text-primary":c.is_active===0}),style:{"font-size":"15px"}},null,10,pl),e("span",{class:D({"font-italic text-red":c.is_active===0,"":c.is_active===1})},[e("del",null,t(c.site_name),1)],2)])])])):L("",!0)]))),128))])):L("",!0)])):(s(),a("div",vl,fl)),g(u(De),{ref:"form",onSubmit:w,"initial-values":E.value},{default:J(()=>[g(u(N),{name:"id",modelValue:l.value.id,"onUpdate:modelValue":F[4]||(F[4]=c=>l.value.id=c),type:"text",hidden:""},null,8,["modelValue"]),e("div",$l,[g(u(N),{name:"site_name",type:"text",class:"form-control",id:"site_name",modelValue:l.value.site_name,"onUpdate:modelValue":F[5]||(F[5]=c=>l.value.site_name=c),"aria-describedby":"nameHelp",placeholder:"Enter Site Name"},null,8,["modelValue"]),gl])]),_:1},8,["initial-values"])])])])])])])]))}};var kl=ye(yl,[["__scopeId","data-v-3a144c01"]]);const xl={class:"content"},wl={class:"container-fluid"},Cl={class:"row"},Sl={class:"col-md-3"},Dl={class:"card card-primary card-outline"},Ul={class:"card-body box-profile"},Ml={class:"text-center"},Vl=["src"],Al={class:"profile-username text-center"},El={class:"text-muted text-center"},Tl={class:"col-md-9"},Ll={class:"card"},Pl=we('<div class="card-header p-2"><ul class="nav nav-pills"><li class="nav-item"><a class="nav-link active" href="#profile" data-toggle="tab"><i class="fa fa-user mr-1"></i> Edit Profile</a></li><li class="nav-item"><a class="nav-link" href="#changePassword" data-toggle="tab"><i class="fa fa-key mr-1"></i> Change Password</a></li></ul></div>',1),Fl={class:"card-body"},Il={class:"tab-content"},ql={class:"tab-pane active",id:"profile"},Yl={class:"form-group row"},Bl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"User Name",-1),Nl={class:"col-sm-10"},Rl={key:0,class:"text-danger text-sm"},Hl={class:"form-group row"},jl=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"First Name",-1),Ol={class:"col-sm-10"},zl={key:0,class:"text-danger text-sm"},Gl={class:"form-group row"},Ql=e("label",{for:"inputName",class:"col-sm-2 col-form-label"},"Last Name",-1),Wl={class:"col-sm-10"},Kl={key:0,class:"text-danger text-sm"},Xl={class:"form-group row"},Jl=e("label",{for:"inputEmail",class:"col-sm-2 col-form-label"},"Email",-1),Zl={class:"col-sm-10"},en={key:0,class:"text-danger text-sm"},tn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-2 col-sm-10"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),sn={class:"tab-pane",id:"changePassword"},an={class:"form-group row"},on=e("label",{for:"currentPassword",class:"col-sm-3 col-form-label"},"Current Password",-1),ln={class:"col-sm-9"},nn={key:0,class:"text-danger text-sm"},dn={class:"form-group row"},cn=e("label",{for:"newPassword",class:"col-sm-3 col-form-label"},"New Password",-1),rn={class:"col-sm-9"},un={key:0,class:"text-danger text-sm"},_n={class:"form-group row"},mn=e("label",{for:"passwordConfirmation",class:"col-sm-3 col-form-label"},"Confirm New Password",-1),hn={class:"col-sm-9"},pn=e("div",{class:"form-group row"},[e("div",{class:"offset-sm-3 col-sm-9"},[e("button",{type:"submit",class:"btn btn-success"},[e("i",{class:"fa fa-save mr-1"}),V(" Save Changes")])])],-1),vn={__name:"UpdateProfile",setup(o){const y=me(),_=he(),d=`${fe().name}`,r=i([]),m=()=>{axios.put("/api/profile",{name:y.user.name,first_name:y.user.first_name,last_name:y.user.last_name,email:y.user.email,role:y.user.role}).then(x=>{_.success("Profile updated successfully!")}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},k=Ae({currentPassword:"",password:"",passwordConfirmation:""}),E=()=>{r.value="",axios.post("/api/change-user-password",k).then(x=>{_.success(x.data.message);for(const n in k)k[n]=""}).catch(x=>{x.response&&x.response.status===422&&(r.value=x.response.data.errors)})},l=i(null),T=()=>{l.value.click()},b=x=>{const n=x.target.files[0];y.user.avatar=URL.createObjectURL(n);const w=new FormData;w.append("profile_picture",n),axios.post("/api/upload-profile-image",w).then(q=>{_.success("Image uploaded successfully!")})};return _e(()=>{document.title=d}),(x,n)=>(s(),a("div",xl,[e("div",wl,[e("div",Cl,[e("div",Sl,[e("div",Dl,[e("div",Ul,[e("div",Ml,[e("input",{onChange:b,ref_key:"fileInput",ref:l,type:"file",class:"d-none"},null,544),e("img",{onClick:T,class:"profile-user-img img-circle",src:u(y).user.avatar,alt:"User profile picture"},null,8,Vl)]),e("h3",Al,t(u(y).user.name),1),e("p",El,t(u(y).user.role),1)])])]),e("div",Tl,[e("div",Ll,[Pl,e("div",Fl,[e("div",Il,[e("div",ql,[e("form",{onSubmit:n[4]||(n[4]=le(w=>m(),["prevent"])),class:"form-horizontal"},[e("div",Yl,[Bl,e("div",Nl,[Z(e("input",{"onUpdate:modelValue":n[0]||(n[0]=w=>u(y).user.name=w),type:"text",class:"form-control",id:"inputName",placeholder:"User name"},null,512),[[ue,u(y).user.name]]),r.value&&r.value.name?(s(),a("span",Rl,t(r.value.name[0]),1)):L("",!0)])]),e("div",Hl,[jl,e("div",Ol,[Z(e("input",{"onUpdate:modelValue":n[1]||(n[1]=w=>u(y).user.first_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"First Name"},null,512),[[ue,u(y).user.first_name]]),r.value&&r.value.first_name?(s(),a("span",zl,t(r.value.first_name[0]),1)):L("",!0)])]),e("div",Gl,[Ql,e("div",Wl,[Z(e("input",{"onUpdate:modelValue":n[2]||(n[2]=w=>u(y).user.last_name=w),type:"text",class:"form-control",id:"inputName",placeholder:"Last Name"},null,512),[[ue,u(y).user.last_name]]),r.value&&r.value.last_name?(s(),a("span",Kl,t(r.value.last_name[0]),1)):L("",!0)])]),e("div",Xl,[Jl,e("div",Zl,[Z(e("input",{"onUpdate:modelValue":n[3]||(n[3]=w=>u(y).user.email=w),type:"email",class:"form-control",id:"inputEmail",placeholder:"Email"},null,512),[[ue,u(y).user.email]]),r.value&&r.value.email?(s(),a("span",en,t(r.value.email[0]),1)):L("",!0)])]),tn],32)]),e("div",sn,[e("form",{onSubmit:le(E,["prevent"]),class:"form-horizontal"},[e("div",an,[on,e("div",ln,[Z(e("input",{"onUpdate:modelValue":n[5]||(n[5]=w=>k.currentPassword=w),type:"password",class:"form-control",id:"currentPassword",placeholder:"Current Password"},null,512),[[ue,k.currentPassword]]),r.value&&r.value.current_password?(s(),a("span",nn,t(r.value.current_password[0]),1)):L("",!0)])]),e("div",dn,[cn,e("div",rn,[Z(e("input",{"onUpdate:modelValue":n[6]||(n[6]=w=>k.password=w),type:"password",class:"form-control",id:"newPassword",placeholder:"New Password"},null,512),[[ue,k.password]]),r.value&&r.value.password?(s(),a("span",un,t(r.value.password[0]),1)):L("",!0)])]),e("div",_n,[mn,e("div",hn,[Z(e("input",{"onUpdate:modelValue":n[7]||(n[7]=w=>k.passwordConfirmation=w),type:"password",class:"form-control",id:"passwordConfirmation",placeholder:"Confirm New Password"},null,512),[[ue,k.passwordConfirmation]])])]),pn],32)])])])])])])])]))}};const Be=o=>(Ue("data-v-1e686d1e"),o=o(),Me(),o),bn={class:"login-box"},fn={class:"card card-outline card-primary"},$n=Be(()=>e("div",{class:"card-header text-center"},[e("a",{href:"#",class:"h5"},"Sign in")],-1)),gn={class:"card-body"},yn={key:0,class:"alert alert-danger",role:"alert"},kn={class:"input-group mb-3"},xn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-user"})])],-1)),wn={class:"input-group mb-3"},Cn=Be(()=>e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1)),Sn=["type"],Dn={style:{"font-family":"Tahoma, Geneva, sans-serif","font-size":"12px"}},Un=Be(()=>e("div",{class:"input-group mb-3"},null,-1)),Mn={class:"row"},Vn={class:"col-12 mb-2"},An=["disabled"],En={key:0,class:"spinner-border spinner-border-sm",role:"status"},Tn=Be(()=>e("span",{class:"sr-only"},"Loading...",-1)),Ln=[Tn],Pn={key:1},Fn=Be(()=>e("div",{class:"row"},[e("div",{class:"col-12"},[e("a",{class:"btn btn-success btn-block",href:"https://ticket.appsafexpress.com/open.php",target:"_blank"},[e("span",null,[e("b",null,"Request Account")])])])],-1)),In="Login",qn={__name:"Login",setup(o){const y=i(!1),_=he();me();const d=Qe(),r=Ae({email:"",password:""}),m=i(!1),k=i(""),E=()=>{m.value=!0,k.value="",A.post("/login",r).then(()=>{d.push("/dashboard"),_.success("Login Success")}).catch(l=>{_.error(l.response.data.message)}).finally(()=>{m.value=!1})};return _e(()=>{document.title=In}),(l,T)=>(s(),a("div",bn,[e("div",fn,[$n,e("div",gn,[k.value?(s(),a("div",yn,t(k.value),1)):L("",!0),e("form",{onSubmit:le(E,["prevent"])},[e("div",kn,[xn,Z(e("input",{"onUpdate:modelValue":T[0]||(T[0]=b=>r.email=b),type:"email",class:"form-control",placeholder:"Email"},null,512),[[ue,r.email]])]),e("div",wn,[Cn,Z(e("input",{"onUpdate:modelValue":T[1]||(T[1]=b=>r.password=b),class:"form-control",placeholder:"Password",type:y.value?"text":"password",onClick:T[2]||(T[2]=(...b)=>l.handleKeyClick&&l.handleKeyClick(...b))},null,8,Sn),[[_t,r.password]])]),e("label",Dn,[Z(e("input",{type:"checkbox","onUpdate:modelValue":T[3]||(T[3]=b=>y.value=b)},null,512),[[Ve,y.value]]),V(" Show Password ")]),Un,e("div",Mn,[e("div",Vn,[e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:m.value},[m.value?(s(),a("div",En,Ln)):(s(),a("span",Pn,"Sign In"))],8,An)])])],32),Fn])])]))}};var Yn=ye(qn,[["__scopeId","data-v-1e686d1e"]]);const Bn=["checked"],Nn=e("i",{class:"fa fa-edit"},null,-1),Rn=[Nn],Hn=e("i",{class:"fa fa-trash text-danger ml-2"},null,-1),jn=[Hn],On={__name:"ClientListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){he();const _=o,d=y,r=()=>{d("toggleSelection",_.item)};return(m,k)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Bn)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.first_name)+" "+t(o.item.last_name),1),e("td",null,t(o.item.email),1),e("td",null,t(o.item.created_at),1),e("td",null,[e("a",{href:"#",onClick:k[0]||(k[0]=le(E=>m.$emit("editUser",o.item),["prevent"]))},Rn),e("a",{href:"#",onClick:k[1]||(k[1]=le(E=>m.$emit("confirmUserDeletion",o.item.id),["prevent"]))},jn)])]))}},zn={class:"content"},Gn={class:"container-fluid"},Qn={class:"d-flex justify-content-between"},Wn={class:"d-flex"},Kn=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Xn={key:0},Jn=e("i",{class:"fa fa-trash mr-1"},null,-1),Zn={class:"ml-2"},ed={class:"card"},td={class:"card-body"},sd={class:"table table-bordered"},ad=e("th",{style:{width:"10px"}},"#",-1),od=e("th",null,"Name",-1),ld=e("th",null,"Email",-1),nd=e("th",null,"Registered Date",-1),dd=e("th",null,"Options",-1),id={key:0},cd={key:1},rd=e("tr",null,[e("td",{colspan:"6",class:"text-center"},"No results found...")],-1),ud=[rd],_d={class:"modal fade",id:"clientFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},md={class:"modal-dialog",role:"document"},hd={class:"modal-content"},pd={class:"modal-header"},vd={class:"modal-title",id:"staticBackdropLabel"},bd={key:0},fd={key:1},$d=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),gd={class:"modal-body"},yd={class:"form-group"},kd=e("label",{for:"fist_name"},"First Name",-1),xd={class:"invalid-feedback"},wd={class:"form-group"},Cd=e("label",{for:"last_name"},"Last Name",-1),Sd={class:"invalid-feedback"},Dd={class:"form-group"},Ud=e("label",{for:"email"},"Email",-1),Md={class:"invalid-feedback"},Vd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1),Ad={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ed={class:"modal-dialog",role:"document"},Td={class:"modal-content"},Ld=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),Pd={class:"modal-footer"},Fd=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancel",-1),Id={__name:"ClientList",setup(o){const y=he(),_=i({data:[]}),d=i(!1),r=i(),m=i(null),k=(H=1)=>{A.get(`/api/clients?page=${H}`,{params:{query:q.value}}).then(ae=>{_.value=ae.data,z.value=[],c.value=!1})},E=xe({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),l=xe({first_name:Y().required(),last_name:Y().required(),email:Y().email().required()}),T=(H,{resetForm:ae,setErrors:ee})=>{A.post("/api/clients",H).then(de=>{_.value.data.unshift(de.data),$("#clientFormModal").modal("hide"),ae(),y.success("User created successfully!")}).catch(de=>{de.response.data.errors&&ee(de.response.data.errors)})},b=()=>{d.value=!1,$("#clientFormModal").modal("show")},x=H=>{d.value=!0,m.value.resetForm(),$("#clientFormModal").modal("show"),r.value={id:H.id,first_name:H.first_name,last_name:H.last_name,email:H.email}},n=(H,{setErrors:ae})=>{A.put("/api/clients/"+r.value.id,H).then(ee=>{const de=_.value.data.findIndex(pe=>pe.id===ee.data.id);_.value.data[de]=ee.data,$("#clientFormModal").modal("hide"),y.success("Client updated successfully!")}).catch(ee=>{ae(ee.response.data.errors),console.log(ee)})},w=(H,ae)=>{d.value?n(H,ae):T(H,ae)},q=i(null),z=i([]),te=H=>{const ae=z.value.indexOf(H.id);ae===-1?z.value.push(H.id):z.value.splice(ae,1),console.log(z.value)},K=i(null),j=H=>{K.value=H,$("#deleteClientModal").modal("show")},C=()=>{A.delete(`/api/clients/${K.value}`).then(()=>{$("#deleteClientModal").modal("hide"),y.success("Client deleted successfully!"),_.value.data=_.value.data.filter(H=>H.id!==K.value)})},F=()=>{A.delete("/api/clients",{data:{ids:z.value}}).then(H=>{_.value.data=_.value.data.filter(ae=>!z.value.includes(ae.id)),z.value=[],c.value=!1,y.success(H.data.message)})},c=i(!1),P=()=>{c.value?z.value=_.value.data.map(H=>H.id):z.value=[],console.log(z.value)};return be(q,Te.exports.debounce(()=>{k()},300)),_e(()=>{k()}),(H,ae)=>(s(),a(R,null,[e("div",zn,[e("div",Gn,[e("div",Qn,[e("div",Wn,[e("button",{onClick:b,type:"button",class:"mb-2 btn btn-primary"},[Kn,V(" Add New Client ")]),z.value.length>0?(s(),a("div",Xn,[e("button",{onClick:F,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Jn,V(" Delete Selected ")]),e("span",Zn,"Selected "+t(z.value.length)+" clients",1)])):L("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":ae[0]||(ae[0]=ee=>q.value=ee),class:"form-control",placeholder:"Search..."},null,512),[[ue,q.value]])])]),e("div",ed,[e("div",td,[e("table",sd,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":ae[1]||(ae[1]=ee=>c.value=ee),onChange:P},null,544),[[Ve,c.value]])]),ad,od,ld,nd,dd])]),_.value.data.length>0?(s(),a("tbody",id,[(s(!0),a(R,null,W(_.value.data,(ee,de)=>(s(),ce(On,{key:ee.id,item:ee,index:de,onEditUser:x,onConfirmUserDeletion:j,onToggleSelection:te,"select-all":c.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",cd,ud))])])]),g(u(qe),{data:_.value,onPaginationChangePage:k},null,8,["data"])])]),e("div",_d,[e("div",md,[e("div",hd,[e("div",pd,[e("h5",vd,[d.value?(s(),a("span",bd,"Edit Client")):(s(),a("span",fd,"Add New Client"))]),$d]),g(u(De),{ref_key:"form",ref:m,onSubmit:w,"validation-schema":d.value?u(l):u(E),"initial-values":r.value},{default:J(({errors:ee})=>[e("div",gd,[e("div",yd,[kd,g(u(N),{name:"first_name",type:"text",class:D(["form-control",{"is-invalid":ee.first_name}]),id:"name","aria-describedby":"nameHelp",placeholder:"Enter First Name"},null,8,["class"]),e("span",xd,t(ee.first_name),1)]),e("div",wd,[Cd,g(u(N),{name:"last_name",type:"text",class:D(["form-control",{"is-invalid":ee.last_name}]),id:"last_name","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Sd,t(ee.last_name),1)]),e("div",Dd,[Ud,g(u(N),{name:"email",type:"email",class:D(["form-control",{"is-invalid":ee.email}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter full name"},null,8,["class"]),e("span",Md,t(ee.email),1)])]),Vd]),_:1},8,["validation-schema","initial-values"])])])]),e("div",Ad,[e("div",Ed,[e("div",Td,[Ld,e("div",Pd,[Fd,e("button",{onClick:le(C,["prevent"]),type:"button",class:"btn btn-primary"},"Delete User")])])])])],64))}};const We=o=>(Ue("data-v-36595330"),o=o(),Me(),o),qd={style:{"text-align":"center"}},Yd={key:0},Bd=We(()=>e("i",{class:"fa fa-edit"},null,-1)),Nd=[Bd],Rd=We(()=>e("i",{class:"fa fa-trash text-danger ml-2"},null,-1)),Hd=[Rd],jd={key:1,style:{"text-align":"center"}},Od={key:0},zd=We(()=>e("i",{class:"fa fa-edit"},null,-1)),Gd=[zd],Qd={__name:"TechListItem",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion","showItem"],setup(o,{emit:y}){he();const _=me();return(d,r)=>{const m=ge("router-link");return s(),a("tr",null,[e("td",null,t(o.item.recommnum),1),e("td",null,t(o.item.user),1),e("td",null,t(o.item.branch),1),e("td",null,t(o.item.department),1),e("td",null,t(o.item.created_user),1),e("td",qd,[o.item.statusid==2?(s(),ce(m,{key:0,to:`/admin/tech-approved/${o.item.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:D(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)]),_:1},8,["to"])):L("",!0),o.item.statusid!=2?(s(),a("span",{key:1,class:D(["badge",`badge-${o.item.status.color}`])},t(o.item.status.name),3)):L("",!0)]),e("td",null,t(o.item.created_at),1),u(_).user.role==="ADMIN"?(s(),a("td",Yd,[e("a",{href:"#",onClick:r[0]||(r[0]=le(k=>d.$emit("editUser",o.item),["prevent"]))},Nd),e("a",{href:"#",onClick:r[1]||(r[1]=le(k=>d.$emit("confirmUserDeletion",o.item.id),["prevent"]))},Hd)])):L("",!0),u(_).user.role==="USER"?(s(),a("td",jd,[o.item.statusid!=2?(s(),a("div",Od,[o.item.created_by==u(_).user.id?(s(),a("a",{key:0,href:"#",onClick:r[2]||(r[2]=le(k=>d.$emit("editUser",o.item),["prevent"]))},Gd)):L("",!0)])):L("",!0)])):L("",!0)])}}};var Wd=ye(Qd,[["__scopeId","data-v-36595330"]]);const Kd={class:"content"},Xd={class:"container-fluid"},Jd={class:"d-flex justify-content-between"},Zd={class:"d-flex"},ei=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),ti={key:0},si=e("i",{class:"fa fa-trash mr-1"},null,-1),ai={class:"ml-2"},oi={class:"card"},li={class:"card-body"},ni={class:"dispatch-table"},di={class:"table-responsive"},ii={class:"table table-bordered table-sm"},ci=e("thead",null,[e("tr",null,[e("th",null,"Technom"),e("th",null,"User"),e("th",null,"Branch"),e("th",null,"Department"),e("th",null,"Created by"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Action")])],-1),ri={key:0},ui={key:1},_i=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),mi=[_i],hi=["item","index"],pi={class:"card"},vi={class:"card-body"},bi={class:"list-field"},fi=e("span",{class:"mb-1 dis"},"Tech #:",-1),$i={class:"list-field"},gi=e("span",{class:"mb-1 dis"},"User:",-1),yi={class:"list-field"},ki=e("span",{class:"mb-1 dis"},"Branch:",-1),xi={class:"list-field"},wi=e("span",{class:"mb-1 dis"},"Department:",-1),Ci={class:"list-field"},Si=e("span",{class:"mb-1 dis"},"Created by:",-1),Di={class:"list-field"},Ui=e("span",{class:"mb-1 dis"},"Status:",-1),Mi={class:"list-field"},Vi=e("span",{class:"mb-1 dis"},"Created Date:",-1),Ai=e("hr",null,null,-1),Ei={class:"row"},Ti={key:0,class:"col"},Li=["onClick"],Pi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Fi=["onClick"],Ii=e("span",{class:"text-light"},[e("i",{class:"fa fa-trash-o"}),V(" Remove ")],-1),qi=[Ii],Yi={key:0,class:"btn btnsm btn-success btn-block"},Bi=e("i",{class:"fa fa-pencil-square-o"},null,-1),Ni={key:1,class:"col"},Ri={key:0},Hi=["onClick"],ji=e("i",{class:"fa fa-pencil-square-o"},null,-1),Oi={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zi={class:"modal-dialog modal-lg",role:"document"},Gi={class:"modal-content"},Qi={class:"modal-header"},Wi={class:"modal-title",id:"staticBackdropLabel"},Ki={key:0},Xi={key:1},Ji=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Zi={class:"modal-body"},ec={class:"col-md-12"},tc={class:"row"},sc={class:"col-6"},ac={class:"form-group"},oc=e("label",{for:"branch"},"Branch",-1),lc=e("option",{value:"",disabled:""}," Select Branch ",-1),nc=["value"],dc={class:"invalid-feedback"},ic={class:"form-group"},cc=e("label",{for:"department"},"Department",-1),rc={class:"invalid-feedback"},uc={class:"form-group"},_c=e("label",{for:"warehouse"},"warehouse",-1),mc={class:"invalid-feedback"},hc={class:"form-group"},pc=e("label",{for:"user"},"User",-1),vc={class:"invalid-feedback"},bc={class:"col-6"},fc={class:"form-group"},$c=e("label",{for:"brand"},"Brand",-1),gc={class:"form-group"},yc=e("label",{for:"model"},"Model",-1),kc={class:"invalid-feedback"},xc={class:"form-group"},wc=e("label",{for:"assettag"},"Asset tag",-1),Cc={class:"invalid-feedback"},Sc={class:"form-group"},Dc=e("label",{for:"serialnum"},"Serial number",-1),Uc={class:"invalid-feedback"},Mc={class:"col-12"},Vc={class:"form-group"},Ac=e("label",{for:"problem"},"Report Problem",-1),Ec={class:"invalid-feedback"},Tc={class:"form-group"},Lc=e("label",{for:"assconducted"},"Assessment conducted",-1),Pc={class:"invalid-feedback"},Fc={class:"form-group"},Ic=e("label",{for:"recommendation"},"Recommendation",-1),qc={class:"invalid-feedback"},Yc={class:"modal-footer"},Bc={key:0},Nc={key:0,class:"btn-group float-l ml-auto"},Rc=e("button",{type:"button",class:"btn btn-info dropdown-toggle dropdown-hover dropdown-icon","data-toggle":"dropdown"},[e("span",{class:"sr-only"},"Toggle Dropdown")],-1),Hc={class:"dropdown-menu",role:"menu"},jc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Oc=e("button",{type:"submit",class:"btn btn-primary"}," Save ",-1),zc={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gc={class:"modal-dialog",role:"document"},Qc={class:"modal-content"},Wc=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Kc={class:"modal-footer"},Xc=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),Jc={__name:"TechList",setup(o){const y=i(),_=i(),d=he(),r=i({data:[]});i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const m=`${fe().name}`,k=()=>{A.get("/api/getsite").then(p=>{_.value=p.data.sites}).catch(p=>{console.log(p)})},E=i(!1),l=i(!1),T=i(),b=Ae({id:"",recommnum:"",branch:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",ceated_by:""}),x=me();i(null);const n=(p=1)=>{E.value=!0,A.get(`/api/tech-recommendations?page=${p}`,{params:{query:c.value}}).then(f=>{E.value=!1,r.value=f.data,P.value=[],h.value=!1})},w=xe({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),q=xe({branch:Y().required(),department:Y().required(),user:Y().required(),problem:Y().required(),assconducted:Y().required(),brand:Y().required()}),z=(p,{resetForm:f,setErrors:G})=>{A.post("/api/tech-recommendations",p).then(ie=>{r.value.data.unshift(ie.data),$("#FormModal").modal("hide"),f(),d.success("Data created successfully!")}).catch(ie=>{ie.response.data.errors&&G(ie.response.data.errors)})},te=()=>{l.value=!1,$("#FormModal").modal("show")},K=()=>{b.id="",b.recommnum="",b.branch="",b.department="",b.warehouse="",b.user="",b.problem="",b.brand="",b.model="",b.assettag="",b.serialnum="",b.assconducted="",b.recommendation="",b.ceated_by=""},j=p=>{y.value=p.id,l.value=!0,K(),b.id=p.id,b.branch=p.branch,b.department=p.department,b.warehouse=p.warehouse,b.user=p.user,b.problem=p.problem,b.brand=p.brand,b.model=p.model,b.assettag=p.assettag,b.serialnum=p.serialnum,b.assconducted=p.assconducted,b.recommendation=p.recommendation,b.ceated_by=p.ceated_by,b.recommnum=p.recommnum,$("#FormModal").modal("show")},C=(p,{setErrors:f})=>{A.put("/api/tech-recommendations/"+p.id,p).then(G=>{$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(G=>{f(G.response.data.errors),console.log(G)})},F=(p,f)=>{l.value?C(b,f):z(p,f)},c=i(null),P=i([]),H=p=>{const f=P.value.indexOf(p.id);f===-1?P.value.push(p.id):P.value.splice(f,1),console.log(P.value)},ae=i(null),ee=p=>{ae.value=p,$("#deleteClientModal").modal("show")},de=()=>{A.delete(`/api/tech-recommendations/${ae.value}`).then(()=>{$("#deleteClientModal").modal("hide"),d.success("Client deleted successfully!"),r.value.data=r.value.data.filter(p=>p.id!==ae.value)})},pe=()=>{A.delete("/api/tech-recommendations",{data:{ids:P.value}}).then(p=>{r.value.data=r.value.data.filter(f=>!P.value.includes(f.id)),P.value=[],h.value=!1,d.success(p.data.message)})},U=p=>{A.post("/api/tech-getaction",{id:y.value,status:p}).then(f=>{$("#FormModal").modal("hide"),n()}).catch(f=>{console.log(f.message)})},h=i(!1);return be(c,Te.exports.debounce(()=>{n()},300)),_e(()=>{n(),k(),document.title=m}),(p,f)=>{const G=ge("font"),ie=ge("router-link");return s(),a(R,null,[e("div",Kd,[e("div",Xd,[e("div",Jd,[e("div",Zd,[e("button",{onClick:te,type:"button",class:"mb-2 btn btn-primary"},[ei,V(" TechRecom ")]),P.value.length>0?(s(),a("div",ti,[e("button",{onClick:pe,type:"button",class:"ml-2 mb-2 btn btn-danger"},[si,V(" Delete Selected ")]),e("span",ai,"Selected "+t(P.value.length)+" techrecomm",1)])):L("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=S=>c.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ue,c.value]])])]),e("div",oi,[e("div",li,[E.value?(s(),ce(Ee,{key:0})):L("",!0),e("div",ni,[e("div",di,[g(G,{size:"2"},{default:J(()=>[e("table",ii,[ci,r.value.data.length>0?(s(),a("tbody",ri,[(s(!0),a(R,null,W(r.value.data,(S,M)=>(s(),ce(Wd,{key:S.id,item:S,index:M,onEditUser:j,onShowItem:p.viewItem,onConfirmUserDeletion:ee,onToggleSelection:H,"select-all":h.value},null,8,["item","index","onShowItem","onConfirmUserDeletion","select-all"]))),128))])):(s(),a("tbody",ui,mi))])]),_:1})])]),(s(!0),a(R,null,W(r.value.data,(S,M)=>(s(),a("div",{class:"dispatch-list",key:S.id,item:S,index:M},[e("div",pi,[e("div",vi,[e("div",bi,[fi,e("span",null,[e("b",null,t(S.recommnum),1)])]),e("div",$i,[gi,e("span",null,t(S.user),1)]),e("div",yi,[ki,e("span",null,t(S.branch),1)]),e("div",xi,[wi,e("span",null,t(S.department),1)]),e("div",Ci,[Si,e("span",null,t(S.created_user),1)]),e("div",Di,[Ui,S.statusid==2?(s(),ce(ie,{key:0,to:`/admin/tech-approved/${S.recommnum}/view`,target:"_blank"},{default:J(()=>[e("span",{class:D(["badge",`badge-${S.status.color}`])},t(S.status.name),3)]),_:2},1032,["to"])):L("",!0),S.statusid!=2?(s(),a("span",{key:1,class:D(["badge",`badge-${S.status.color}`])},t(S.status.name),3)):L("",!0)]),e("div",Mi,[Vi,e("span",null,t(S.created_at),1)]),Ai,e("div",Ei,[u(x).user.role==="ADMIN"?(s(),a("div",Ti,[e("button",{variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Le=>j(S)},[Pi,V(" Edit ")],8,Li),e("button",{class:"btn btnsm btn-danger btn-block",onClick:Le=>ee(S.id)},qi,8,Fi),S.statusid==2?(s(),a("button",Yi,[Bi,V(" Download ")])):L("",!0)])):L("",!0),u(x).user.role==="USER"?(s(),a("div",Ni,[S.statusid!=2?(s(),a("div",Ri,[S.created_by==u(x).user.id?(s(),a("button",{key:0,variant:"primary",class:"btn btnsm btn-primary btn-block",onClick:Le=>j(S)},[ji,V(" Edit ")],8,Hi)):L("",!0)])):L("",!0)])):L("",!0)])])])],8,hi))),128))])]),g(u(qe),{data:r.value,onPaginationChangePage:n},null,8,["data"])])]),e("div",Oi,[e("div",zi,[e("div",Gi,[e("div",Qi,[e("h5",Wi,[l.value?(s(),a("span",Ki,"Edit Tech Recom.")):(s(),a("span",Xi,"Add New Tech Recom."))]),Ji]),g(u(De),{onSubmit:F,"validation-schema":l.value?u(q):u(w),"initial-values":T.value},{default:J(({errors:S})=>[e("div",Zi,[e("div",ec,[e("div",tc,[e("div",sc,[g(u(N),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(x).user.id,"onUpdate:modelValue":f[1]||(f[1]=M=>u(x).user.id=M)},null,8,["modelValue"]),g(u(N),{type:"hidden",name:"recommnum",id:"recommnum",modelValue:b.recommnum,"onUpdate:modelValue":f[2]||(f[2]=M=>b.recommnum=M)},null,8,["modelValue"]),e("div",ac,[oc,g(u(N),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":S.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:b.branch,"onUpdate:modelValue":f[3]||(f[3]=M=>b.branch=M)},{default:J(()=>[lc,(s(!0),a(R,null,W(_.value,M=>(s(),a("option",{key:M.site_name,value:M.site_name},t(M.site_name),9,nc))),128))]),_:2},1032,["class","modelValue"]),e("span",dc,t(S.branch),1)]),e("div",ic,[cc,g(u(N),{name:"department",type:"text",class:D(["form-control",{"is-invalid":S.department}]),id:"department","aria-describedby":"nameHelp",placeholder:"Enter Department",modelValue:b.department,"onUpdate:modelValue":f[4]||(f[4]=M=>b.department=M)},null,8,["class","modelValue"]),e("span",rc,t(S.department),1)]),e("div",uc,[_c,g(u(N),{name:"warehouse",type:"text",class:D(["form-control",{"is-invalid":S.warehouse}]),id:"email","aria-describedby":"nameHelp",placeholder:"Enter Warehouse",modelValue:b.warehouse,"onUpdate:modelValue":f[5]||(f[5]=M=>b.warehouse=M)},null,8,["class","modelValue"]),e("span",mc,t(S.warehouse),1)]),e("div",hc,[pc,g(u(N),{name:"user",type:"text",class:D(["form-control",{"is-invalid":S.user}]),id:"user","aria-describedby":"nameHelp",placeholder:"Enter User",modelValue:b.user,"onUpdate:modelValue":f[6]||(f[6]=M=>b.user=M)},null,8,["class","modelValue"]),e("span",vc,t(S.user),1)])]),e("div",bc,[e("div",fc,[$c,g(u(N),{name:"brand",type:"text",class:"form-control",id:"brand","aria-describedby":"nameHelp",placeholder:"Enter brand",modelValue:b.brand,"onUpdate:modelValue":f[7]||(f[7]=M=>b.brand=M)},null,8,["modelValue"])]),e("div",gc,[yc,g(u(N),{name:"model",type:"text",class:D(["form-control",{"is-invalid":S.model}]),id:"model",modelValue:b.model,"onUpdate:modelValue":f[8]||(f[8]=M=>b.model=M),"aria-describedby":"nameHelp",placeholder:"Enter Model"},null,8,["class","modelValue"]),e("span",kc,t(S.model),1)]),e("div",xc,[wc,g(u(N),{name:"assettag",type:"text",class:D(["form-control",{"is-invalid":S.assettag}]),id:"assettag",modelValue:b.assettag,"onUpdate:modelValue":f[9]||(f[9]=M=>b.assettag=M),"aria-describedby":"nameHelp",placeholder:"Enter Asset Tag"},null,8,["class","modelValue"]),e("span",Cc,t(S.assettag),1)]),e("div",Sc,[Dc,Z(e("input",{name:"serialnum",type:"text",class:D(["form-control",{"is-invalid":S.serialnum}]),id:"serialnum","aria-describedby":"nameHelp",placeholder:"Enter Serial Number","onUpdate:modelValue":f[10]||(f[10]=M=>b.serialnum=M)},null,2),[[ue,b.serialnum]]),e("span",Uc,t(S.serialnum),1)])]),e("div",Mc,[e("div",Vc,[Ac,g(u(N),{name:"problem",as:"textarea",class:D(["form-control",{"is-invalid":S.problem}]),id:"problem","aria-describedby":"nameHelp",placeholder:"Enter Report problem",modelValue:b.problem,"onUpdate:modelValue":f[11]||(f[11]=M=>b.problem=M)},null,8,["class","modelValue"]),e("span",Ec,t(S.problem),1)]),e("div",Tc,[Lc,g(u(N),{name:"assconducted",as:"textarea",class:D(["form-control",{"is-invalid":S.assconducted}]),id:"assconducted","aria-describedby":"nameHelp",placeholder:"Enter Assessment conducted",modelValue:b.assconducted,"onUpdate:modelValue":f[12]||(f[12]=M=>b.assconducted=M)},null,8,["class","modelValue"]),e("span",Pc,t(S.assconducted),1)]),e("div",Fc,[Ic,g(u(N),{name:"recommendation",as:"textarea",class:D(["form-control",{"is-invalid":S.recommendation}]),id:"recommendation","aria-describedby":"nameHelp",placeholder:"Enter Recommendation",modelValue:b.recommendation,"onUpdate:modelValue":f[13]||(f[13]=M=>b.recommendation=M)},null,8,["class","modelValue"]),e("span",qc,t(S.recommendation),1)])])])])]),e("div",Yc,[l.value?(s(),a("div",Bc,[u(x).user.role==="ADMIN"?(s(),a("div",Nc,[e("button",{type:"button",onClick:f[14]||(f[14]=M=>U(2)),class:"btn btn-info"}," Approved "),Rc,e("div",Hc,[e("span",{onClick:f[15]||(f[15]=M=>U(1)),class:"dropdown-item"},"Pending"),e("span",{onClick:f[16]||(f[16]=M=>U(3)),class:"dropdown-item"},"Disapproved")])])):L("",!0)])):L("",!0),jc,Oc])]),_:1},8,["validation-schema","initial-values"])])])]),e("div",zc,[e("div",Gc,[e("div",Qc,[Wc,e("div",Kc,[Xc,e("button",{onClick:le(de,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])])],64)}}};const He=Je("SettingStore",()=>{const o=i({app_name:""}),y=xt("SettingStore:theme",i("light"));return{setting:o,getSetting:async()=>{await A.get("/api/settings").then(r=>{o.value=r.data})},theme:y,changeTheme:()=>{y.value=y.value==="light"?"dark":"light"}}});const se=o=>(Ue("data-v-5aff9990"),o=o(),Me(),o),Zc={class:"content"},er={class:"container-fluid"},tr={class:"card"},sr={class:"card-header"},ar={class:"card-title"},or={class:"card-body"},lr={class:"col-md-12"},nr={class:"d-flex justify-content-between"},dr=se(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),ir={class:"d-flex"},cr={class:"col-12",id:"accordion"},rr={key:1},ur={key:0},_r={class:"card card-secondary"},mr={class:"card-body d-flex align-items-center justify-content-center"},hr={class:"image-container"},pr=["src"],vr=se(()=>e("div",{class:"overlay"},null,-1)),br={key:1},fr={class:"card-header bg-white"},$r={class:"card-title"},gr=["href"],yr=["src"],kr={class:"card-tools"},xr=["onClick"],wr=se(()=>e("i",{class:"fas fa-tasks"},null,-1)),Cr=[wr],Sr=["disabled","onClick"],Dr=["onClick"],Ur=se(()=>e("p",{class:"float-right"},null,-1)),Mr=["id"],Vr={class:"card-body"},Ar={class:"col-md-12"},Er={class:"dispatch-table"},Tr={class:"row"},Lr={class:"col-4"},Pr=se(()=>e("b",null,"Site:",-1)),Fr=se(()=>e("b",null,"Planned Date:",-1)),Ir=se(()=>e("b",null,"Planned End Date:",-1)),qr={class:"col-4"},Yr=se(()=>e("b",null,"Start Date:",-1)),Br=se(()=>e("b",null,"Accomplished Date:",-1)),Nr={class:"closestatus"},Rr=se(()=>e("b",{style:{color:"black"}},"Type:",-1)),Hr={class:"col-4"},jr={class:"ongoing"},Or=se(()=>e("b",{style:{color:"black"}},"Status:",-1)),zr=se(()=>e("b",{style:{color:"black"}},"Attachment:",-1)),Gr=se(()=>e("b",null,"Remarks:",-1)),Qr={style:{margin:"0.5%"}},Wr=["disabled","onClick"],Kr=["onClick","disabled"],Xr={class:"dispatch-list"},Jr={class:"list-group list-group-flush"},Zr={class:"list-group-item d-flex justify-content-between align-items-center"},eu={class:"badge badge-primary badge-pill"},tu={class:"list-group-item d-flex justify-content-between align-items-center"},su={class:"badge badge-primary badge-pill"},au={class:"list-group-item d-flex justify-content-between align-items-center"},ou={class:"badge badge-primary badge-pill"},lu={class:"list-group-item d-flex justify-content-between align-items-center"},nu={class:"badge badge-primary badge-pill"},du={class:"list-group-item d-flex justify-content-between align-items-center"},iu={class:"badge badge-primary badge-pill"},cu={class:"list-group-item d-flex justify-content-between align-items-center"},ru={class:"badge badge-primary badge-pill"},uu={class:"list-group-item d-flex justify-content-between align-items-center"},_u={class:"badge badge-primary badge-pill"},mu={class:"list-group-item d-flex justify-content-between align-items-center"},hu={class:"badge badge-primary badge-pill"},pu=se(()=>e("hr",null,null,-1)),vu={class:"row"},bu={class:"col"},fu=["onClick"],$u=se(()=>e("i",{class:"fas fa-pen"},null,-1)),gu=["onClick"],yu=se(()=>e("span",{class:"text-light"},[e("i",{class:"fas fa-trash"}),V(" Drop ")],-1)),ku=[yu],xu={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},wu={class:"modal-dialog modal-dialog-centered",role:"document"},Cu={class:"modal-content"},Su={class:"modal-header"},Du={class:"modal-title",id:"staticBackdropLabel"},Uu={key:0},Mu={key:1},Vu={key:2},Au=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Eu={class:"modal-body"},Tu={class:"col-md-12"},Lu={class:"row"},Pu={class:"col-12"},Fu={class:"form-group"},Iu=se(()=>e("label",{for:"siteDropdown"},"Select a Site:",-1)),qu=se(()=>e("option",{value:"",disabled:""}," Select a site ",-1)),Yu=["value"],Bu={key:0,class:"d-flex justify-content-between"},Nu={class:"d-flex"},Ru={class:"form-group"},Hu=se(()=>e("label",{for:"end-time"},"Start Date",-1)),ju={class:"form-group"},Ou=se(()=>e("label",{for:"end-time"},"Hour",-1)),zu=["value"],Gu=se(()=>e("div",{class:"d-fex"},null,-1)),Qu={key:1,class:"d-flex justify-content-between"},Wu={class:"d-flex"},Ku={class:"form-group"},Xu=se(()=>e("label",{for:"end-time"},"End Date",-1)),Ju={class:"form-group"},Zu=se(()=>e("label",{for:"end-time"},"Hour",-1)),e_=["value"],t_=se(()=>e("div",{class:"d-fex"},null,-1)),s_={class:"form-group"},a_=se(()=>e("label",{for:"site"},"Task",-1)),o_=se(()=>e("option",{value:"",disabled:""}," Select an option ",-1)),l_=["value"],n_=se(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," submit ")],-1)),d_={class:"modal fade",id:"FormModalTask","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},i_={class:"modal-dialog modal-sm",role:"document"},c_={class:"modal-content"},r_={class:"modal-header"},u_={class:"modal-title",id:"staticBackdropLabel"},__=se(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),m_={class:"modal-body"},h_=we('<ul class="nav nav-tabs" id="myTabs" data-v-5aff9990><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary active" id="tab1" data-toggle="tab" href="#todolist" data-v-5aff9990> Todo List</a></li><li class="nav-item" data-v-5aff9990><a class="nav-link btn btn-primary" id="tab2" data-toggle="tab" href="#formTask" data-v-5aff9990> Todo</a></li></ul>',1),p_={class:"tab-content"},v_={class:"tab-pane fade show active",id:"todolist"},b_={key:0,class:"mt-2",style:{"max-height":"300px","overflow-y":"auto"}},f_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),$_=se(()=>e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"50"},null,-1)),g_={key:0,class:"list-group-item mt-2"},y_={class:"d-flex justify-content-between"},k_={class:"d-flex"},x_=["onClick"],w_={class:"d-flex"},C_=["onClick"],S_={class:"m-2 list-unstyled"},D_={key:1},U_={key:0,class:"list-group-item mt-2"},M_={class:"d-flex justify-content-between"},V_={class:"d-flex"},A_=["onClick"],E_={class:"d-flex"},T_=["onClick"],L_={key:1,class:"mt-2 text-center"},P_=se(()=>e("span",null,"No Todo",-1)),F_=[P_],I_={class:"tab-pane fade",id:"formTask"},q_={class:"col-md-12"},Y_={class:"row"},B_={class:"col-12"},N_={class:"m-2",style:{display:"flex","align-items":"center"}},R_=se(()=>e("div",{class:"modal-footer",style:{border:"none"}},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"},[e("i",{class:"fas fa-plus-circle"}),V("\xA0Save ")])],-1)),H_={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j_={class:"modal-dialog",role:"document"},O_={class:"modal-content"},z_=we('<div class="modal-header" data-v-5aff9990><h5 class="modal-title" id="staticBackdropLabel" data-v-5aff9990><span data-v-5aff9990>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-5aff9990><span aria-hidden="true" data-v-5aff9990>\xD7</span></button></div><div class="modal-body" data-v-5aff9990><h5 data-v-5aff9990>Are you sure you want to delete this record ?</h5></div>',2),G_={class:"modal-footer"},Q_=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),W_={__name:"MyPrio",setup(o){const y=`${fe().name}`,_=i(!1),d=i(!1),r=Ze("$swal");He();const m=he(),k=i({data:[]}),E=i([]);i([{name:"PENDING",value:1},{name:"APPROVED",value:2},{name:"CANCELLED",value:3}]);const l=i();i();const T=i(!0),b=i(!1);i(!1),i();const x=i(),n=i(),w=i(),q=me();i(null),i(!1);const z=i([{name:"LEAVE",value:1},{name:"ON BUSINESS TRAVEL",value:2},{name:"SITE VISIT",value:3},{name:"COA",value:4},{name:"WORK FROM HOME",value:6}]),te=i(),K=i("1:00 AM"),j=i(),C=i("1:00 AM"),F=i(Array.from({length:24},(I,B)=>{const v=B%12+1,re=B<12?"AM":"PM";return`${v}:00 ${re}`})),c=i(Array.from({length:24},(I,B)=>{const v=B%12+1,re=B<12?"AM":"PM";return`${v}:00 ${re}`})),P=Ae({dailytask_id:"",site:"",user_id:q.user.id,tasktype:0,plandate:"",planenddate:"",enddates:""});be([te,K],()=>{const I=new Date(te.value),B=I.getFullYear(),v=String(I.getMonth()+1).padStart(2,"0"),re=String(I.getDate()).padStart(2,"0");P.plandate=`${B}-${v}-${re} ${K.value}`}),be([te,C],()=>{const I=new Date(te.value);I.getFullYear(),String(I.getMonth()+1).padStart(2,"0"),String(I.getDate()).padStart(2,"0")}),be([j,C],()=>{const I=new Date(j.value),B=I.getFullYear(),v=String(I.getMonth()+1).padStart(2,"0"),re=String(I.getDate()).padStart(2,"0");P.enddates=`${B}-${v}-${re} ${C.value}`});const H=i({id:"",dailytask_id:"",task_name:"",iscompleted:0}),ae=()=>{A.get("/web/getsite").then(I=>{l.value=I.data.sites}).catch(I=>{console.log(I)})},ee=()=>{_.value=!0,A.get("/api/dailytask",{params:{query:Q.value}}).then(I=>{_.value=!1,k.value=I.data,Ce.value=[]})},de=async I=>{(await r({title:"Are you sure?",text:"You wanna Drop this Todo?",icon:"warning",showCancelButton:!0})).isConfirmed&&(_.value=!0,A.put(`/api/dailytask/drop/${I}`).then(v=>{m.success("Data drop successfully!"),_.value=!1,ee()}))},pe=()=>{$("#FormModalTask").modal("show")},U=I=>{pe(),H.value.dailytask_id=I.dailytask_id,n.value=I.taskdate,w.value=I.startdate,d.value=!0,A.get(`/api/dailytask/${I.dailytask_id}/tasks`).then(B=>{E.value=B.data,pe(),d.value=!1}).catch(B=>{console.error("Error fetching tasks:",B)})},h=()=>{d.value=!0,A.post("/api/dailytask/addnewTask",{dailytask_id:H.value.dailytask_id,task_name:H.value.task_name,iscompleted:H.value.iscompleted}).then(I=>{m.success("Data created successfully!"),A.get(`/api/dailytask/${H.value.dailytask_id}/tasks`).then(B=>{E.value=B.data,d.value=!1}).catch(B=>{console.error("Error fetching tasks:",B),m.error("Error fetching tasks. Please try again.")}),H.value.task_name=""}).catch(I=>{console.error("Error adding new task:",I),m.error("Error adding new task. Please try again.")})},p=I=>{H.value.iscompleted=I.iscompleted===1?0:1,A.post("/api/dailytask/addnewTask",{id:I.id,dailytask_id:I.dailytask_id,task_name:I.task_name,iscompleted:H.value.iscompleted}).then(B=>{A.get(`/api/dailytask/${I.dailytask_id}/tasks`).then(v=>{E.value=v.data}).catch(v=>{console.error("Error fetching tasks:",v),m.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),m.error("Error adding new task. Please try again.")})},f=Fe(()=>Array.isArray(E.value)?E.value.filter(I=>I.iscompleted===1):[]),G=Fe(()=>f.value.length),ie=()=>{T.value=!T.value},S=I=>{A.delete(`/api/dailytask/deleteTask/${I.id}`).then(B=>{A.get(`/api/dailytask/${I.dailytask_id}/tasks`).then(v=>{E.value=v.data,m.success("Todo successfull Deleted")}).catch(v=>{console.error("Error fetching tasks:",v),m.error("Error fetching tasks. Please try again.")})}).catch(B=>{console.error("Error adding new task:",B),m.error("Error adding new task. Please try again.")})};xe({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()}),xe({site:Y().required(),tasktype:Y().required(),plandate:Y().required(),planenddate:Y().required()});const M=(I,B)=>{A.post("/api/dailytask",P).then(v=>{console.log(v.data),ee(),$("#FormModal").modal("hide"),m.success("data created successfully!")}).catch(v=>{B.setErrors(v.response.data.errors)})},Le=(I,B)=>{A.put("/api/dailytask/"+P.dailytask_id,P).then(v=>{console.log(v.data),ee(),$("#FormModal").modal("hide"),m.success("data update successfully!")}).catch(v=>{B.setErrors(v.response.data.errors)})},Re=I=>{I&&I.dailytask_id!==null&&I.dailytask_id!==void 0?(b.value=!0,x.value=" on "+ve(I.taskdate).format("MMMM D, YYYY"),P.site=I.site,P.dailytask_id=I.dailytask_id,P.plandate=I.plandate,P.planenddate=I.planenddate):b.value=!1,ae(),$("#FormModal").modal("show")},O=(I,B)=>{b.value?Le(I,B):M(I,B)},X=async I=>{try{const B=await A.get(`/api/dailytask/${I.dailytask_id}/tasks`);if(E.value=B.data,!E.value||E.value.length===0){r.fire({title:"Warning!",text:"No todos found. Please add todo before starting your task.",icon:"warning"});return}if((await r.fire({title:"Are you sure?",text:"You want to start your todo now?",icon:"warning",showCancelButton:!0})).isConfirmed){const re=await A.put("/api/dailytask/onhandler/"+I.dailytask_id,I);m.success(re.data.message),ee()}}catch(B){console.error("Error fetching tasks:",B),m.error("An error occurred while updating the task.")}},$e=async I=>{if((await r({title:"Are you sure?",text:"You wanna end your task now?",icon:"warning",showCancelButton:!0})).isConfirmed)try{ve(I.taskdate).format("YYYY-MM-DD")===ve().format("YYYY-MM-DD")?(I.remarks="HIT",I.status="On Schedule"):(I.remarks="MISS",I.status="Behind Schedule");const re=await A.put("/api/dailytask/onhandler/"+I.dailytask_id,I);m.success(re.data.message),ee()}catch(v){console.error(v),m.error("An error occurred while updating the task.")}},Q=i(null),Ce=i([]),ze=i(null),nt=()=>{A.delete(`/api/tech-recommendations/${ze.value}`).then(()=>{$("#deleteClientModal").modal("hide"),m.success("Client deleted successfully!"),k.value.data=k.value.data.filter(I=>I.id!==ze.value)})};return be(Q,Te.exports.debounce(()=>{ee()},300)),_e(()=>{et(".flatpickr",{enableTime:!0,dateFormat:"Y-m-d h:i K",defaultHour:10}),ee(),document.title=y}),(I,B)=>(s(),a(R,null,[e("div",Zc,[e("div",er,[e("div",tr,[e("div",sr,[e("div",ar,t(u(q).user.first_name+" "+u(q).user.last_name)+" - My Prio ",1)]),e("div",or,[e("div",lr,[e("div",nr,[e("div",{class:"d-flex"},[e("button",{onClick:Re,type:"button",class:"mb-2 btn btn-primary"},[dr,V(" Task ")])]),e("div",ir,[Z(e("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=v=>Q.value=v),class:"form-control",placeholder:"Search..."},null,512),[[ue,Q.value]])])]),e("div",cr,[_.value?(s(),ce(Ee,{key:0})):(s(),a("div",rr,[k.value.length===0?(s(),a("div",ur,[e("div",_r,[e("div",mr,[e("div",hr,[e("img",{src:"/img/no task.jpg",alt:"No Task",class:"img-fluid",draggable:"false"},null,8,pr),vr])])])])):(s(),a("div",br,[(s(!0),a(R,null,W(k.value,v=>(s(),a("div",{class:"card card-primary",key:v.id},[e("div",fr,[e("h4",$r,[e("a",{style:{color:"#2b2b2b","text-decoration":"none"},"data-toggle":"collapse",href:"#collapse"+v.dailytask_id},[e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,yr),V(" \xA0"),e("b",null,t(u(ve)(v.taskdate).format("MMMM D, YYYY")),1)],8,gr)]),e("div",kr,[e("button",{type:"button",class:"btn btn-sm btn-primary float-right",style:{"margin-left":"10px"},onClick:re=>U(v)},Cr,8,xr),e("button",{disabled:v.startdate===null,type:"button",class:"btn btn-sm btn-danger float-right",style:{"margin-left":"10px"},onClick:re=>$e(v)}," End ",8,Sr),v.startdate?L("",!0):(s(),a("button",{key:0,type:"button",class:"btn btn-sm btn-success float-right",style:{"margin-left":"10px"},onClick:re=>X(v)}," Start ",8,Dr)),Ur])]),e("div",{id:"collapse"+v.dailytask_id,class:"collapse","data-parent":"#accordion"},[e("div",Vr,[e("div",Ar,[e("div",Er,[e("div",Tr,[e("div",Lr,[e("h5",null,[Pr,V(" "+t(v.site_name),1)]),e("h5",null,[Fr,V(" "+t(v.plandate),1)]),e("h5",null,[Ir,V(" "+t(v.planenddate),1)])]),e("div",qr,[e("h5",null,[Yr,V(" "+t(v.startdate!==null?u(ve)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",null,[Br,V(" "+t(v.enddate!==null?u(ve)(v.enddate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("h5",Nr,[Rr,V(" "+t(v.tasktype?v.tasktype.join(", "):""),1)])]),e("div",Hr,[e("h5",jr,[Or,V(" "+t(v.status),1)]),e("h5",null,[zr,V(" "+t(v.attachment),1)]),e("h5",null,[Gr,V(" "+t(v.remarks),1)])])]),e("div",Qr,[e("button",{disabled:v.startdate!==null,onClick:re=>de(v.dailytask_id),type:"button",class:"btn btn btn-danger float-right fa fa-trash",style:{"margin-left":"10px","margin-bottom":"5px"}}," Drop",8,Wr),e("button",{onClick:re=>Re(v),type:"button",disabled:v.startdate!==null,class:"btn btn btn-primary far fa-edit float-left",style:{"margin-right":"5px","margin-bottom":"5px"}}," \xA0\xA0Edit ",8,Kr)])]),e("div",Xr,[e("ul",Jr,[e("li",Zr,[V(" Site: "),e("span",eu,t(v.site_name),1)]),e("li",tu,[V(" Planned Date: "),e("span",su,t(v.plandate),1)]),e("li",au,[V(" Planned End Date: "),e("span",ou,t(v.planenddate),1)]),e("li",lu,[V(" Start Date: "),e("span",nu,t(v.startdate!==null?u(ve)(v.startdate).format("MMMM D, YYYY, h:mm A"):""),1)]),e("li",du,[V(" Type: "),e("span",iu,t(v.tasktype?v.tasktype.join(", "):""),1)]),e("li",cu,[V(" Status: "),e("span",ru,t(v.status),1)]),e("li",uu,[V(" Attachment: "),e("span",_u,t(v.attachment),1)]),e("li",mu,[V(" Remarks: "),e("span",hu,t(v.remarks),1)])]),pu,e("div",vu,[e("div",bu,[e("button",{variant:"primary",class:"btn btn-sm btn-primary btn-block",onClick:re=>Re(v)},[$u,V(" Edit ")],8,fu),e("button",{class:"btn btn-sm btn-danger btn-block",onClick:re=>de(v.dailytask_id)},ku,8,gu)])])])])])],8,Mr)]))),128))]))]))])])])])])]),e("div",xu,[e("div",wu,[e("div",Cu,[e("div",Su,[e("h5",Du,[b.value?(s(),a("span",Uu,"Edit My Task")):(s(),a("span",Mu,"Add My Task")),b.value?(s(),a("span",Vu,t(x.value),1)):L("",!0)]),Au]),g(u(De),{onSubmit:O},{default:J(()=>[e("div",Eu,[e("div",Tu,[e("div",Lu,[e("div",Pu,[g(u(N),{modelValue:P.user_id,"onUpdate:modelValue":B[1]||(B[1]=v=>P.user_id=v),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Fu,[Iu,Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":B[2]||(B[2]=v=>P.site=v)},[qu,(s(!0),a(R,null,W(l.value,v=>(s(),a("option",{key:v.id,value:v.id},t(v.site_name),9,Yu))),128))],512),[[Pe,P.site]])]),b.value==!1?(s(),a("div",Bu,[e("div",Nu,[e("div",Ru,[Hu,g(u(Ie),{class:"form-control",modelValue:te.value,"onUpdate:modelValue":B[3]||(B[3]=v=>te.value=v)},null,8,["modelValue"])]),e("div",ju,[Ou,Z(e("select",{class:"form-control","onUpdate:modelValue":B[4]||(B[4]=v=>K.value=v),id:"plandate"},[(s(!0),a(R,null,W(F.value,v=>(s(),a("option",{key:v,value:v},t(v),9,zu))),128))],512),[[Pe,K.value]])])]),Gu])):L("",!0),b.value==!1?(s(),a("div",Qu,[e("div",Wu,[e("div",Ku,[Xu,g(u(Ie),{class:"form-control",modelValue:j.value,"onUpdate:modelValue":B[5]||(B[5]=v=>j.value=v)},null,8,["modelValue"])]),e("div",Ju,[Zu,Z(e("select",{class:"form-control","onUpdate:modelValue":B[6]||(B[6]=v=>C.value=v),id:"plandate"},[(s(!0),a(R,null,W(c.value,v=>(s(),a("option",{key:v,value:v},t(v),9,e_))),128))],512),[[Pe,C.value]])])]),t_])):L("",!0),e("div",s_,[a_,g(u(N),{name:"tasktype"},{default:J(()=>[Z(e("select",{"onUpdate:modelValue":B[7]||(B[7]=v=>P.tasktype=v),class:"form-control",required:!0},[o_,(s(!0),a(R,null,W(z.value,v=>(s(),a("option",{key:v.value,value:v.value},t(v.name),9,l_))),128))],512),[[Pe,P.tasktype]])]),_:1})])])])])]),n_]),_:1})])])]),e("div",d_,[e("div",i_,[e("div",c_,[e("div",r_,[e("h5",u_," My Todo of "+t(u(ve)(n.value).format("MM/D/YYYY")),1),__]),e("div",m_,[h_,e("div",p_,[e("div",v_,[E.value.length>0?(s(),a("div",b_,[d.value?(s(),ce(Ee,{key:0,viewBox:"0 0 250 110"},{default:J(()=>[f_,$_]),_:1})):L("",!0),(s(!0),a(R,null,W(E.value,v=>(s(),a("ul",{class:"list-group",key:v.id},[v.iscompleted!==1?(s(),a("li",g_,[e("div",y_,[e("div",k_,[w.value?(s(),a("i",{key:0,onClick:re=>p(v),class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle text-primary":v.iscompleted===1,"fa fa-circle text-primary":v.iscompleted!==1}),style:{"font-size":"15px"}},null,10,x_)):L("",!0),e("span",{class:D({"font-italic":v.iscompleted===1,"":v.iscompleted!==1})},t(v.task_name),3)]),e("div",w_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>S(v)},null,8,C_)])])])):L("",!0)]))),128)),e("li",S_,[G.value>0?(s(),a("button",{key:0,class:"btn btn-sm bg-secondary",onClick:ie},[e("i",{class:D(["fa",T.value?"fa-arrow-down":"fa-arrow-right"])},null,2),V(" \xA0Completed "+t(G.value),1)])):L("",!0)]),T.value?(s(),a("div",D_,[(s(!0),a(R,null,W(E.value,v=>(s(),a("ul",{class:"list-group",key:v.id},[v.iscompleted===1?(s(),a("li",U_,[e("div",M_,[e("div",V_,[e("i",{class:D({"cursor-pointer mr-2":!0,"fa fa-check-circle":v.iscompleted===1,"fa fa-circle":v.iscompleted!==1}),style:{"font-size":"15px"},onClick:re=>p(v)},null,10,A_),e("span",{class:D({"font-italic":v.iscompleted===1,"":v.iscompleted!==1})},[e("del",null,t(v.task_name),1)],2)]),e("div",E_,[e("i",{class:"fa fa-trash text-danger",onClick:re=>S(v)},null,8,T_)])])])):L("",!0)]))),128))])):L("",!0)])):(s(),a("div",L_,F_))]),e("div",I_,[g(u(De),{onSubmit:h},{default:J(()=>[e("div",q_,[e("div",Y_,[e("div",B_,[g(u(N),{modelValue:H.value.dailytask_id,"onUpdate:modelValue":B[8]||(B[8]=v=>H.value.dailytask_id=v),type:"hidden",name:"dailytask_id",id:"dailytask_id"},null,8,["modelValue"]),e("div",N_,[g(u(N),{modelValue:H.value.task_name,"onUpdate:modelValue":B[9]||(B[9]=v=>H.value.task_name=v),name:"'task_name",type:"text",class:"form-control",required:"",placeholder:"Enter Task",style:{"margin-right":"5px"}},null,8,["modelValue"])])])])]),R_]),_:1})])])])])])]),e("div",H_,[e("div",j_,[e("div",O_,[z_,e("div",G_,[Q_,e("button",{onClick:le(nt,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64))}};var K_=ye(W_,[["__scopeId","data-v-5aff9990"]]);const X_={class:"text-center"},J_={key:0},Z_={class:"text-center"},em={key:0},tm={class:"text-center"},sm={key:0},am={key:0,class:"bg-success text-center"},om={key:1,class:"bg-danger text-center"},lm={key:2,class:"text-center"},nm={__name:"ListItem",props:{item:Object,index:Number,selectAll:Boolean},setup(o){return he(),me(),(y,_)=>(s(),a("tr",null,[e("td",null,t(u(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",X_,[o.item.task_lists_count!==0?(s(),a("span",J_,t(o.item.task_lists_count),1)):L("",!0)]),e("td",Z_,[o.item.completed_task_count!==0?(s(),a("span",em,t(o.item.completed_task_count),1)):L("",!0)]),e("td",tm,[o.item.status!=="On Going"?(s(),a("span",sm,t(o.item.status),1)):L("",!0)]),o.item.remarks==="HIT"?(s(),a("td",am,t(o.item.remarks),1)):o.item.remarks==="MISS"?(s(),a("td",om,t(o.item.remarks),1)):o.item.remarks===null?(s(),a("td",lm,t(o.item.startdate!=null?"On Going!":""),1)):L("",!0),e("td",{class:D({"bg-danger":o.item.percentage_completed>=0&&o.item.percentage_completed<=59,"bg-orange":o.item.percentage_completed>60&&o.item.percentage_completed<=90,"bg-success":o.item.percentage_completed===100,"text-center":!0})},t(o.item.percentage_completed+"%"),3)]))}};const ke=o=>(Ue("data-v-04a9a400"),o=o(),Me(),o),dm={class:"content-header"},im={class:"container-fluid"},cm={class:"col-12"},rm={class:"card",id:"captureVSCContainer"},um={class:"card-header"},_m={class:"card-title"},mm={class:"card-tools"},hm={class:"card-body"},pm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),vm=[pm],bm={key:1,class:"row"},fm={class:"inner"},$m={style:{"font-size":"20px","font-family":"tahoma","text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},gm=["src"],ym={style:{"text-align":"center",background:"white",color:"#000000","margin-bottom":"2px"}},km={class:"m-2",style:{color:"#F3F5F8","text-align":"left"}},xm={style:{"text-align":"left"}},wm={key:0},Cm=ke(()=>e("span",{class:"text-light badge"},"Todos",-1)),Sm={class:"list-group list-group-flush"},Dm={style:{display:"flex","align-items":"left"}},Um={class:"ml-1"},Mm={class:"ml-1"},Vm={key:1},Am={class:"float-right"},Em={id:"captureHitRateContainer",class:"card"},Tm={class:"card-header"},Lm={class:"card-title"},Pm={class:"card-body"},Fm={class:"content"},Im={class:"container-fluid"},qm=ke(()=>e("i",{class:"fa fa-camera"},null,-1)),Ym=[qm],Bm={class:"dispatch-table"},Nm={class:"table-responsive"},Rm={class:"table table-bordered table-hover table-sm"},Hm=ke(()=>e("thead",null,[e("tr",null,[e("th",null,"Planed Date"),e("th",null,"Total Todos"),e("th",null,"Complete"),e("th",null,"Status"),e("th",null,"Remarks"),e("th",null,"Percentage Todos")])],-1)),jm=["item"],Om={class:"list-field"},zm=ke(()=>e("span",{class:"mb-1 dis"},"Planed Date: ",-1)),Gm={class:"list-field"},Qm=ke(()=>e("span",{class:"mb-1 dis"},"Total Task: ",-1)),Wm={key:0},Km={class:"list-field"},Xm=ke(()=>e("span",{class:"mb-1 dis"},"Completed Task: ",-1)),Jm={key:0},Zm={class:"list-field"},eh=ke(()=>e("span",{class:"mb-1 dis"},"Status: ",-1)),th={class:"list-field"},sh=ke(()=>e("span",{class:"mb-1 dis"},"Remark: ",-1)),ah={class:"list-field"},oh=ke(()=>e("span",{class:"mb-1 dis"},"Percentage Task: ",-1)),lh={class:"float-right"},nh={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dh={class:"modal-dialog modal-sm",role:"document"},ih={class:"modal-content"},ch=ke(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),rh={class:"modal-body"},uh={class:"fromtocenter"},_h=ke(()=>e("label",{for:"fromDate"},"From:",-1)),mh=ke(()=>e("label",{for:"toDate"},"To:",-1)),hh=ke(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),ph={class:"modal fade",id:"FormModalPickerThemes","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},vh={class:"modal-dialog modal-sm",role:"document"},bh={class:"modal-content"},fh=ke(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Card Themes Picker")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),$h={class:"modal-body"},gh={class:"container"},yh={class:"row"},kh=["onClick"],xh=ke(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1)),wh={__name:"MyVsc",setup(o){const y=`${fe().name}`,_=me(),d=i(!1),r=i([{background:"#B98D65",active_background:"#72461F",font_background:"#F8F9FA"},{background:"#2196F3",active_background:"#1769AA",font_background:"#F8F9FA"},{background:"#FFC400",active_background:"#B28900",font_background:"#F8F9FA"},{background:"#9C27B0",active_background:"#6D1B7B",font_background:"#F8F9FA"},{background:"#009688",active_background:"#00695F",font_background:"#F8F9FA"},{background:"#607d8b",active_background:"#37474f",font_background:"#F8F9FA"}]),k=i((()=>{const C={month:"long",day:"numeric",year:"numeric"};return new Date().toLocaleString("en-US",C)})()),E=()=>{const C=document.getElementById("captureVSCContainer");Oe(C).then(F=>{const c=F.toDataURL(),P=document.createElement("a");P.href=c,P.download=`${_.user.first_name+" "+_.user.last_name} - ${y}.png`,P.click()})},l=()=>{const C=document.getElementById("captureHitRateContainer");Oe(C).then(F=>{const c=F.toDataURL(),P=document.createElement("a");P.href=c,P.download=`${_.user.first_name+" "+_.user.last_name} - My HIT RATE.png`,P.click()})};i(null),i("today");const T=i({data:[]}),b=i({data:[]}),x=()=>{d.value=!0,axios.get("/api/myvsc").then(C=>{d.value=!1,T.value=C.data.dailyTasks,b.value=C.data.TaskList})},n=()=>{$("#FormModalfilterDate").modal("show")},w=i({start_date:"",end_date:""}),q=i(""),z=i("");be([q],()=>{const C=new Date(q.value),F=C.getFullYear(),c=String(C.getMonth()+1).padStart(2,"0"),P=String(C.getDate()).padStart(2,"0");w.value.start_date=`${F}-${c}-${P}`}),be([z],()=>{const C=new Date(z.value),F=C.getFullYear(),c=String(C.getMonth()+1).padStart(2,"0"),P=String(C.getDate()).padStart(2,"0");w.value.end_date=`${F}-${c}-${P}`});const te=()=>{d.value=!0,axios.get("/api/filter-vsc",{params:{start_date:w.value.start_date,end_date:w.value.end_date}}).then(C=>{d.value=!1,T.value=C.data.dailyTasks,b.value=C.data.TaskList}).catch(C=>{console.error(C)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},K=()=>{$("#FormModalPickerThemes").modal("show")},j=C=>{if(C){const F=_.user.id;axios.post("/api/changethemes",{userid:F,background:C.background,active_background:C.active_background,font_background:C.font_background}).then(c=>{$("#FormModalPickerThemes").modal("hide"),d.value=!0,axios.get("/api/myvsc").then(P=>{d.value=!1,T.value=P.data.dailyTasks,b.value=P.data.TaskList})}).catch(c=>{console.error(c)})}else console.error("Invalid item:",C)};return _e(()=>{x(),document.title=y}),(C,F)=>(s(),a(R,null,[e("div",dm,[e("div",im,[e("div",cm,[e("div",rm,[e("div",um,[e("div",_m,[e("h5",null,t(u(_).user.first_name+" "+u(_).user.last_name)+" - "+t(y),1)]),e("div",mm,[e("i",{onClick:F[0]||(F[0]=c=>K()),class:"fas fa-palette"})])]),e("div",hm,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:E,type:"button",class:"mb-2 btn btn-sm btn-success"},vm)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:n})])]),d.value?(s(),ce(Ee,{key:0})):(s(),a("div",bm,[(s(!0),a(R,null,W(T.value,c=>(s(),a("div",{class:"col-lg-3 col-6",key:c.id},[e("div",{class:"small-box",style:Ge("background-color: "+(u(ve)(c.taskdate).format("MMMM D, YYYY")===k.value?c.active_background==""?"#72461F":c.active_background:c.background==""?"#B98D65":c.background)+";")},[e("div",fm,[e("div",$m,[V(t(u(ve)(c.taskdate).format("dddd"))+" ",1),e("img",{src:"/img/calindar_logo.png",alt:"",class:"brand-image",style:{opacity:"0.8"},draggable:"false",width:"35"},null,8,gm)]),e("div",ym,t(u(ve)(c.taskdate).format("MMMM D, YYYY")),1),e("div",km,t(c.site_name),1),e("div",xm,[c.task_lists&&c.task_lists.length>0?(s(),a("div",wm,[Cm,e("ul",Sm,[(s(!0),a(R,null,W(c.task_lists,P=>(s(),a("li",{class:"list-group-item",key:P.id},[e("div",Dm,[e("div",Um,[e("i",{class:D(P.iscompleted==1?"fa fa-check-circle":"fa fa-circle"),style:{"font-size":"15px"}},null,2)]),e("div",Mm,t(P.task_name),1)])]))),128))])])):(s(),a("span",Vm))])])],4)]))),128))])),e("div",Am,t(k.value),1)])]),e("div",Em,[e("div",Tm,[e("div",Lm,[e("h5",null,t(u(_).user.first_name+" "+u(_).user.last_name)+" - My HIT RATE ",1)])]),e("div",Pm,[e("div",Fm,[e("div",Im,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},Ym)])]),e("div",Bm,[e("div",Nm,[e("table",Rm,[Hm,e("tbody",null,[(s(!0),a(R,null,W(b.value,c=>(s(),ce(nm,{key:c.id,item:c},null,8,["item"]))),128))])])])]),(s(!0),a(R,null,W(b.value,c=>(s(),a("div",{class:"dispatch-list",key:c.id,item:c},[e("div",{class:D([{"callout callout-success":c.remarks==="HIT","callout callout-danger":c.remarks==="MISS",callout:c.remarks===null}])},[e("div",Om,[zm,e("span",null,t(u(ve)(c.taskdate).format("MMMM D, YYYY")),1)]),e("div",Gm,[Qm,c.task_lists_count!==0?(s(),a("span",Wm,t(c.task_lists_count),1)):L("",!0)]),e("div",Km,[Xm,c.completed_task_count!==0?(s(),a("span",Jm,t(c.completed_task_count),1)):L("",!0)]),e("div",Zm,[eh,e("span",null,[e("b",null,t(c.status),1)])]),e("div",th,[sh,e("span",{class:D(["badge",c.remarks==="HIT"?"bg-success":"bg-danger"])},t(c.remarks),3)]),e("div",ah,[oh,e("span",{class:D(["badge",{"bg-danger":c.percentage_completed>=0&&c.percentage_completed<=59},{"bg-orange":c.percentage_completed>60&&c.percentage_completed<=90},{"bg-success":c.percentage_completed===100}])},t(c.percentage_completed+"%"),3)])],2)],8,jm))),128))])]),e("div",lh,t(k.value),1)])])])])]),e("div",nh,[e("div",dh,[e("div",ih,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(y)+" Summary Report")]),ch]),e("div",rh,[e("div",uh,[e("div",null,[_h,g(u(Ie),{modelValue:q.value,"onUpdate:modelValue":F[1]||(F[1]=c=>q.value=c)},null,8,["modelValue"])]),e("div",null,[mh,g(u(Ie),{modelValue:z.value,"onUpdate:modelValue":F[2]||(F[2]=c=>z.value=c)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[hh,e("button",{onClick:te,type:"button",class:"btn btn-primary"}," Generate ")])])])]),e("div",ph,[e("div",vh,[e("div",bh,[fh,e("div",$h,[e("div",gh,[e("div",yh,[(s(!0),a(R,null,W(r.value,c=>(s(),a("div",{class:"col-md-4",key:c.background},[e("div",{class:"box",onClick:P=>j(c)},[e("div",{class:"column",style:Ge({"background-color":c.background})},"\xA0",4),e("div",{class:"column",style:Ge({"background-color":c.active_background})},"\xA0",4)],8,kh)]))),128))])])]),xh])])])],64))}};var Ch=ye(wh,[["__scopeId","data-v-04a9a400"]]);const Sh={class:"text-center"},Dh={__name:"MyClosePrioListItem",props:{item:Object,index:Number},setup(o){return he(),me(),(y,_)=>(s(),a("tr",null,[e("td",null,t(o.item.sitename),1),e("td",null,t(u(ve)(o.item.taskdate).format("MMMM D, YYYY")),1),e("td",null,t(o.item.startdate),1),e("td",null,t(o.item.enddate),1),e("td",null,t(o.item.tasktype.listtask),1),e("td",null,t(o.item.status),1),e("td",Sh,[e("span",{class:D(["badge",o.item.remarks==="HIT"?"bg-success":"bg-danger"])},t(o.item.remarks),3)])]))}};var Uh=ye(Dh,[["__scopeId","data-v-f22938e0"]]);const Se=o=>(Ue("data-v-029f6d88"),o=o(),Me(),o),Mh={class:"content"},Vh={class:"container-fluid"},Ah={class:"card",id:"capturePrioContainer"},Eh={class:"card-header"},Th={class:"card-title"},Lh={class:"card-body"},Ph={key:1,class:"content"},Fh={class:"container-fluid"},Ih=Se(()=>e("i",{class:"fa fa-camera"},null,-1)),qh=[Ih],Yh={class:"dispatch-table"},Bh={class:"table-responsive"},Nh={class:"table table-bordered table-sm table-striped table-hover"},Rh=Se(()=>e("thead",null,[e("tr",null,[e("th",null,"Site"),e("th",null,"Planned Date"),e("th",null,"Start Date"),e("th",null,"End Date"),e("th",null,"Task"),e("th",null,"Status"),e("th",null,"Remark")])],-1)),Hh={key:0},jh={key:1},Oh=Se(()=>e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1)),zh=[Oh],Gh=["item","index"],Qh={class:"card"},Wh={class:"card-body"},Kh={class:"list-field"},Xh=Se(()=>e("span",{class:"mb-1 dis"},"Site:",-1)),Jh={class:"list-field"},Zh=Se(()=>e("span",{class:"mb-1 dis"},"Task Date:",-1)),ep={class:"list-field"},tp=Se(()=>e("span",{class:"mb-1 dis"},"Start Date:",-1)),sp={class:"list-field"},ap=Se(()=>e("span",{class:"mb-1 dis"},"End Date:",-1)),op={class:"list-field"},lp=Se(()=>e("span",{class:"mb-1 dis"},"Task Type:",-1)),np={class:"list-field"},dp=Se(()=>e("span",{class:"mb-1 dis"},"Status:",-1)),ip={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cp={class:"modal-dialog modal-sm",role:"document"},rp={class:"modal-content"},up=Se(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"My Close Prio")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1)),_p={class:"modal-body"},mp={class:"fromtocenter"},hp=Se(()=>e("label",{for:"fromDate"},"From:",-1)),pp=Se(()=>e("label",{for:"toDate"},"To:",-1)),vp=Se(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),bp={__name:"MyClosePrioList",setup(o){const y=`${fe().name}`,_=i(!1);he();const d=i({data:[]}),r=i(""),m=i(""),k=me(),E=(x=1)=>{_.value=!0,A.get(`/api/mycloseprio?page=${x}`,{params:{query:b.value}}).then(n=>{_.value=!1,d.value=n.data})},l=()=>{const x=document.getElementById("capturePrioContainer");Oe(x).then(n=>{const w=n.toDataURL(),q=document.createElement("a");q.href=w,q.download="MY CLOSED PRIO.png",q.click()})},T=()=>{_.value=!0,A.get("/api/filter-closeprio",{params:{start_date:r.value,end_date:m.value}}).then(x=>{_.value=!1,d.value=x.data.dailyTasks}).catch(x=>{console.error(x)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},b=i(null);return be(b,Te.exports.debounce(()=>{E()},300)),_e(()=>{E(),document.title=y}),(x,n)=>{const w=ge("font");return s(),a(R,null,[e("div",Mh,[e("div",Vh,[e("div",Ah,[e("div",Eh,[e("div",Th,[e("h5",null,t(u(k).user.first_name+" "+u(k).user.last_name)+" - My Closed Prio ",1)])]),e("div",Lh,[_.value?(s(),ce(Ee,{key:0})):(s(),a("div",Ph,[e("div",Fh,[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:l,type:"button",class:"mb-2 btn btn-sm btn-success"},qh)])]),e("div",null,[e("div",Yh,[e("div",Bh,[g(w,{size:"2"},{default:J(()=>[e("table",Nh,[Rh,d.value.data.length>0?(s(),a("tbody",Hh,[(s(!0),a(R,null,W(d.value.data,(q,z)=>(s(),ce(Uh,{key:q.id,item:q,index:z},null,8,["item","index"]))),128))])):(s(),a("tbody",jh,zh))])]),_:1})])]),(s(!0),a(R,null,W(d.value.data,(q,z)=>(s(),a("div",{class:"dispatch-list first-letter:shadow",key:q.id,item:q,index:z},[e("div",Qh,[e("div",Wh,[e("div",Kh,[Xh,e("span",null,t(q.sitename),1)]),e("div",Jh,[Zh,e("span",null,t(u(ve)(q.taskdate).format("MMMM D, YYYY")),1)]),e("div",ep,[tp,e("span",null,t(q.startdate),1)]),e("div",sp,[ap,e("span",null,t(q.enddate),1)]),e("div",op,[lp,e("span",null,t(q.tasktype.listtask),1)]),e("div",np,[dp,e("span",{class:D(["badge",q.remarks==="HIT"?"bg-success":"bg-danger"])},t(q.remarks),3)])])])],8,Gh))),128))])])]))])]),g(u(qe),{data:d.value,onPaginationChangePage:E},null,8,["data"])])]),e("div",ip,[e("div",cp,[e("div",rp,[up,e("div",_p,[e("div",mp,[e("div",null,[hp,g(u(Ie),{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=q=>r.value=q)},null,8,["modelValue"])]),e("div",null,[pp,g(u(Ie),{modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=q=>m.value=q)},null,8,["modelValue"])])])]),e("div",{class:"modal-footer"},[vp,e("button",{onClick:T,type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var fp=ye(bp,[["__scopeId","data-v-029f6d88"]]);const $p=["checked"],gp={class:"text-center"},yp=e("i",{class:"fa fa-edit"},null,-1),kp=[yp],xp={__name:"UserMenuListItem",props:{user:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editUser","confirmUserDeletion"],setup(o,{emit:y}){he();const _=o,d=y,r=()=>{d("toggleSelection",_.user)};return(m,k)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,$p)]),e("td",null,t(o.index+1),1),e("td",null,t(o.user.first_name+" "+o.user.last_name),1),e("td",null,t(o.user.email),1),e("td",null,t(o.user.formatted_created_at),1),e("td",gp,[e("a",{href:"#",onClick:k[0]||(k[0]=le(E=>m.$emit("editUser",o.user),["prevent"]))},kp)])]))}},wp={class:"content"},Cp={class:"container-fluid"},Sp={class:"card"},Dp={class:"card-header"},Up=e("div",{class:"card-title"},[e("h5",null,"User Menu")],-1),Mp={class:"card-tools"},Vp={class:"card-body"},Ap={class:"table-responsive"},Ep={class:"table table-bordered table-hover table-sm"},Tp=e("th",{style:{width:"10px"}},"#",-1),Lp=e("th",null,"Name",-1),Pp=e("th",null,"Email",-1),Fp=e("th",null,"Registered Date",-1),Ip=e("th",null,"Options",-1),qp={key:0},Yp={key:1},Bp=e("tr",null,[e("td",{colspan:"7",class:"text-center"}," No results found... ")],-1),Np=[Bp],Rp={class:"modal fade",id:"userFormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hp={class:"modal-dialog modal-sm",role:"document"},jp={class:"modal-content"},Op={class:"modal-header"},zp={class:"modal-title",id:"staticBackdropLabel"},Gp={key:0},Qp=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Wp={class:"modal-body"},Kp={class:"table table-sm"},Xp=e("tr",null,[e("td",{class:"text-bold"},"Menu Name")],-1),Jp={colspan:"5"},Zp={class:"custom-control custom-checkbox"},ev=["value","id","checked"],tv=["for"],sv={key:0,class:"table table-sm"},av={class:"text-danger"},ov={class:"custom-control custom-checkbox"},lv=["value","id"],nv=["for"],dv=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),iv={class:"modal fade",id:"deleteUserModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cv={class:"modal-dialog",role:"document"},rv={class:"modal-content"},uv=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete User</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this user ?</h5></div>',2),_v={class:"modal-footer"},mv=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),hv={__name:"UserMenuList",setup(o){const y=`${fe().name}`,_=he(),d=i({data:[]}),r=i(!1),m=i(),k=i(null),E=i(null),l=i([]),T=(j=1)=>{A.get(`/api/users?page=${j}`,{params:{query:n.value}}).then(C=>{d.value=C.data,w.value=[],selectAll.value=!1})},b=j=>{A.get("/api/usermenu",{params:{user_id:j.id}}).then(C=>{K.value=C.data,console.log(C.data)}).catch(C=>{console.log(C)}),r.value=!0,k.value.resetForm(),$("#userFormModal").modal("show"),m.value={id:j.id,username:j.username,email:j.email,first_name:j.first_name,last_name:j.last_name},E.value=m.value.first_name+" "+m.value.last_name},x=()=>{const j={user_id:m.value.id,menu_id:l.value};console.log(j),A.post("/api/usermenu",j).then(C=>{_.success("User Menu Save successfully!")}).catch(C=>{setErrors(C.response.data.errors)})},n=i(null),w=i([]),q=j=>{const C=w.value.indexOf(j.id);C===-1?w.value.push(j.id):w.value.splice(C,1),console.log(w.value)},z=i(null),te=j=>{z.value=j,$("#deleteUserModal").modal("show")},K=i({data:[]});return be(n,Te.exports.debounce(()=>{T()},300)),_e(()=>{T(),document.title=y}),(j,C)=>{const F=ge("font");return s(),a(R,null,[e("div",wp,[e("div",Cp,[e("div",Sp,[e("div",Dp,[Up,e("div",Mp,[Z(e("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=c=>n.value=c),class:"form-control",placeholder:"Search..."},null,512),[[ue,n.value]])])]),e("div",Vp,[e("div",Ap,[g(F,{size:"2"},{default:J(()=>[e("table",Ep,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":C[1]||(C[1]=c=>j.selectAll=c),onChange:C[2]||(C[2]=(...c)=>j.selectAllUsers&&j.selectAllUsers(...c))},null,544),[[Ve,j.selectAll]])]),Tp,Lp,Pp,Fp,Ip])]),d.value.data.length>0?(s(),a("tbody",qp,[(s(!0),a(R,null,W(d.value.data,(c,P)=>(s(),ce(xp,{key:c.id,user:c,index:P,onEditUser:b,onConfirmUserDeletion:te,onToggleSelection:q,"select-all":j.selectAll},null,8,["user","index","select-all"]))),128))])):(s(),a("tbody",Yp,Np))])]),_:1})])])]),g(u(qe),{data:d.value,onPaginationChangePage:T},null,8,["data"])])]),e("div",Rp,[e("div",Hp,[e("div",jp,[e("div",Op,[e("h5",zp,[r.value?(s(),a("span",Gp,"User Menu for "+t(E.value),1)):L("",!0)]),Qp]),g(u(De),{ref_key:"form",ref:k,onSubmit:x,"initial-values":m.value},{default:J(()=>[e("div",Wp,[e("table",Kp,[Xp,(s(!0),a(R,null,W(K.value,c=>(s(),a("tr",{key:c.menu_id},[e("td",Jp,[e("div",Zp,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[3]||(C[3]=P=>l.value=P),value:c.menu_id,id:"menu_id_"+c.menu_id,checked:c.hasAccess},null,8,ev),[[Ve,l.value]]),e("label",{for:"menu_id_"+c.menu_id,class:"custom-control-label"},t(c.menu_title),9,tv)]),c.submenus&&c.submenus.length>0?(s(),a("table",sv,[(s(!0),a(R,null,W(c.submenus,P=>(s(),a("tr",{key:P.id},[e("td",av,[e("div",ov,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":C[4]||(C[4]=H=>l.value=H),value:P.menu_id,id:"menu_id_"+P.menu_id},null,8,lv),[[Ve,l.value]]),e("label",{for:"menu_id_"+P.menu_id,class:"custom-control-label"},t(P.menu_title),9,nv)])])]))),128))])):L("",!0)])]))),128))])]),dv]),_:1},8,["initial-values"])])])]),e("div",iv,[e("div",cv,[e("div",rv,[uv,e("div",_v,[mv,e("button",{onClick:C[5]||(C[5]=le((...c)=>j.deleteUser&&j.deleteUser(...c),["prevent"])),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}};const st=o=>(Ue("data-v-8e5d6dd6"),o=o(),Me(),o),pv=["checked"],vv=["innerHTML"],bv={style:{"text-align":"center"}},fv={class:"text-center"},$v=st(()=>e("i",{class:"fa fa-edit"},null,-1)),gv=[$v],yv=st(()=>e("i",{class:"fa fa-trash"},null,-1)),kv=[yv],xv={__name:"MenuItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editMenu","confirmDeletion"],setup(o,{emit:y}){he(),me();const _=o,d=y,r=()=>{d("toggleSelection",_.item)};return(m,k)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,pv)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.menu_title),1),e("td",null,t(o.item.parent_title),1),e("td",null,t(o.item.menu_route),1),e("td",{style:{"text-align":"center"},innerHTML:`<i class='fa ${o.item.menu_icon}'></i>`},null,8,vv),e("td",null,t(o.item.sort_order),1),e("td",bv,[e("i",{class:D({"fas fa-check-circle":o.item.is_active===1,"far fa-circle":o.item.is_active!==1})},null,2)]),e("td",null,t(o.item.created_at),1),e("td",fv,[e("button",{class:"btn btn-sm bg-primary",onClick:k[0]||(k[0]=le(E=>m.$emit("editMenu",o.item),["prevent"]))},gv),V("\xA0 "),e("button",{class:"btn btn-sm bg-danger",onClick:k[1]||(k[1]=le(E=>m.$emit("confirmDeletion",o.item.menu_id),["prevent"]))},kv)])]))}};var wv=ye(xv,[["__scopeId","data-v-8e5d6dd6"]]);const Cv={class:"content"},Sv={class:"container-fluid"},Dv={class:"d-flex justify-content-between"},Uv={class:"d-flex"},Mv=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Vv={key:0},Av=e("i",{class:"fa fa-trash mr-1"},null,-1),Ev={class:"ml-2"},Tv={class:"card"},Lv={class:"card-body"},Pv={class:"table-responsive"},Fv={class:"table table-bordered table-sm"},Iv=e("th",{style:{width:"10px"}},"#",-1),qv=e("th",null,"Title",-1),Yv=e("th",null,"Parent Menu",-1),Bv=e("th",null,"Route",-1),Nv=e("th",null,"Icon",-1),Rv=e("th",null,"Sort",-1),Hv=e("th",null,"Active",-1),jv=e("th",null,"Date",-1),Ov=e("th",null,"Action",-1),zv={key:0},Gv={key:1},Qv=e("tr",null,[e("td",{colspan:"9",class:"text-center"}," No results found... ")],-1),Wv=[Qv],Kv={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xv={class:"modal-dialog modal-sm",role:"document"},Jv={class:"modal-content"},Zv={class:"modal-header"},e1={class:"modal-title",id:"staticBackdropLabel"},t1={key:0},s1={key:1},a1=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),o1={class:"modal-body"},l1={class:"col-md-12"},n1={class:"row"},d1={class:"col-12"},i1={class:"form-group"},c1=e("label",{for:"user"},"Menu Title",-1),r1={class:"invalid-feedback"},u1={class:"form-group"},_1=e("label",{for:"department"},"Parent Menu",-1),m1=e("option",{value:"0"},"None",-1),h1=["value"],p1={class:"form-group"},v1=e("label",{for:"warehouse"},"Icon",-1),b1={class:"invalid-feedback"},f1={class:"form-group"},$1=e("label",{for:"user"},"Route",-1),g1={class:"invalid-feedback"},y1={class:"form-group"},k1=e("label",{for:"user"},"Sort",-1),x1={class:"invalid-feedback"},w1={class:"form-group"},C1=e("label",{for:"is_active"},"Active",-1),S1=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),D1={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},U1={class:"modal-dialog",role:"document"},M1={class:"modal-content"},V1=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),A1={class:"modal-footer"},E1=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),T1={__name:"MenuList",setup(o){const y=`${fe().name}`,_=he(),d=i({data:[]}),r=i({data:[]}),m=i(!1),k=i(!1);i();const E=i(!0),l=Ae({menu_id:"",menu_title:"",parent_id:"",menu_icon:"",menu_route:"",sort_order:"",is_active:"",ceated_by:"",updated_by:""}),T=me();i(null);const b=i(),x=(U=1)=>{m.value=!0,A.get(`/api/menulist?page=${U}`,{params:{query:C.value}}).then(h=>{m.value=!1,d.value=h.data,F.value=[],de.value=!1})},n=()=>{A.get("/api/GetParentId").then(U=>{r.value=U.data}).catch(U=>{console.error(U)})};xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()});const w=U=>{l.is_active=U?1:0},q=({resetForm:U,setErrors:h})=>{A.post("/api/menulist",{menu_title:l.menu_title,parent_id:l.parent_id,menu_icon:l.menu_icon,menu_route:l.menu_route,sort_order:l.sort_order,is_active:l.is_active}).then(p=>{d.value.data.unshift(p.data),$("#FormModal").modal("hide"),U(),_.success("User created successfully!")}).catch(p=>{p.response.data.errors&&h(p.response.data.errors)})},z=()=>{k.value=!1,$("#FormModal").modal("show")},te=U=>{k.value=!0,l.menu_id=U.menu_id,l.menu_title=U.menu_title,l.parent_id=U.parent_id,l.menu_icon=U.menu_icon,l.menu_route=U.menu_route,l.sort_order=U.sort_order,l.is_active===1?E.value=!0:E.value=!1,l.is_active=U.is_active,$("#FormModal").modal("show"),b.value=U.parent_id},K=({setErrors:U})=>{A.post("/api/menulist",l).then(h=>{x(),$("#FormModal").modal("hide"),_.success("successfully Updated!")}).catch(h=>{U(h.response.data.errors),console.log(h)})},j=(U,h)=>{k.value?K(U):q(U)},C=i(null),F=i([]),c=U=>{const h=F.value.indexOf(U.id);h===-1?F.value.push(U.id):F.value.splice(h,1),console.log(F.value)},P=i(null),H=U=>{P.value=U,$("#deleteClientModal").modal("show")},ae=()=>{A.delete(`/api/menu/${P.value}`).then(()=>{$("#deleteClientModal").modal("hide"),_.success("Menu deleted successfully!"),d.value.data=d.value.data.filter(U=>U.menu_id!==P.value)})},ee=()=>{A.delete("menulist",{data:{ids:F.value}}).then(U=>{d.value.data=d.value.data.filter(h=>!F.value.includes(h.id)),F.value=[],de.value=!1,_.success(U.data.message)})},de=i(!1),pe=()=>{de.value?F.value=d.value.data.map(U=>U.id):F.value=[],console.log(F.value)};return be([E],U=>{l.is_active=U?1:0}),be(C,Te.exports.debounce(()=>{x()},300)),_e(()=>{x(),n(),document.title=y}),(U,h)=>{const p=ge("font");return s(),a(R,null,[e("div",Cv,[e("div",Sv,[e("div",Dv,[e("div",Uv,[e("button",{onClick:z,type:"button",class:"mb-2 btn btn-primary"},[Mv,V(" Menu ")]),F.value.length>0?(s(),a("div",Vv,[e("button",{onClick:ee,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Av,V(" Delete Selected ")]),e("span",Ev,"Selected "+t(F.value.length)+" Menu",1)])):L("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=f=>C.value=f),class:"form-control",placeholder:"Search..."},null,512),[[ue,C.value]])])]),e("div",Tv,[e("div",Lv,[m.value?(s(),ce(Ee,{key:0})):L("",!0),e("div",Pv,[g(p,{size:"2"},{default:J(()=>[e("table",Fv,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=f=>de.value=f),onChange:pe},null,544),[[Ve,de.value]])]),Iv,qv,Yv,Bv,Nv,Rv,Hv,jv,Ov])]),d.value.data.length>0?(s(),a("tbody",zv,[(s(!0),a(R,null,W(d.value.data,(f,G)=>(s(),ce(wv,{key:f.id,item:f,index:G,onEditMenu:te,onConfirmDeletion:H,onToggleSelection:c,"select-all":de.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",Gv,Wv))])]),_:1})])])]),g(u(qe),{data:d.value,onPaginationChangePage:x},null,8,["data"])])]),e("div",Kv,[e("div",Xv,[e("div",Jv,[e("div",Zv,[e("h5",e1,[k.value?(s(),a("span",t1,"Edit Menu")):(s(),a("span",s1,"Add Menu"))]),a1]),g(u(De),{onSubmit:j},{default:J(({errors:f})=>[e("div",o1,[e("div",l1,[e("div",n1,[e("div",d1,[g(u(N),{type:"hidden",name:"created_by",id:"created_by",modelValue:u(T).user.id,"onUpdate:modelValue":h[2]||(h[2]=G=>u(T).user.id=G)},null,8,["modelValue"]),e("div",i1,[c1,g(u(N),{name:"menu_title",type:"text",class:D(["form-control",{"is-invalid":f.menu_title}]),id:"menu_title","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:l.menu_title,"onUpdate:modelValue":h[3]||(h[3]=G=>l.menu_title=G)},null,8,["class","modelValue"]),e("span",r1,t(f.menu_title),1)]),e("div",u1,[_1,Z(e("select",{class:"form-control",id:"parentMenu","onUpdate:modelValue":h[4]||(h[4]=G=>l.parent_id=G)},[m1,(s(!0),a(R,null,W(r.value,G=>(s(),a("option",{key:G.menu_id,value:G.menu_id},t(G.menu_title),9,h1))),128))],512),[[Pe,l.parent_id]])]),e("div",p1,[v1,g(u(N),{name:"menu_icon",type:"text",class:D(["form-control",{"is-invalid":f.menu_icon}]),id:"menu_icon","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:l.menu_icon,"onUpdate:modelValue":h[5]||(h[5]=G=>l.menu_icon=G)},null,8,["class","modelValue"]),e("span",b1,t(f.menu_icon),1)]),e("div",f1,[$1,g(u(N),{name:"menu_route",type:"text",class:D(["form-control",{"is-invalid":f.menu_route}]),id:"menu_route","aria-describedby":"nameHelp",placeholder:"Enter Route",modelValue:l.menu_route,"onUpdate:modelValue":h[6]||(h[6]=G=>l.menu_route=G)},null,8,["class","modelValue"]),e("span",g1,t(f.menu_route),1)]),e("div",y1,[k1,g(u(N),{name:"sort_order",type:"text",class:D(["form-control",{"is-invalid":f.sort_order}]),id:"sort_order","aria-describedby":"nameHelp",placeholder:"Enter Sort Order",modelValue:l.sort_order,"onUpdate:modelValue":h[7]||(h[7]=G=>l.sort_order=G)},null,8,["class","modelValue"]),e("span",x1,t(f.sort_order),1)]),e("div",w1,[C1,Z(e("input",{name:"is_active",type:"checkbox",id:"is_active","onUpdate:modelValue":h[8]||(h[8]=G=>E.value=G),onChange:w},null,544),[[Ve,E.value]])])])])])]),S1]),_:1})])])]),e("div",D1,[e("div",U1,[e("div",M1,[V1,e("div",A1,[E1,e("button",{onClick:le(ae,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])])],64)}}},L1={class:"error-page"},P1=we('<h2 class="headline text-warning">404</h2><div class="error-content"><h3><i class="fas fa-exclamation-triangle text-warning"></i> Oops! Page not found.</h3><p> We could not find the page you were looking for. Meanwhile, you may return to dashboard or try using the search form. </p><form class="search-form"><div class="input-group"><input type="text" name="search" class="form-control" placeholder="Search"><div class="input-group-append"><button type="submit" name="submit" class="btn btn-warning"><i class="fas fa-search"></i></button></div></div></form></div>',2),F1=[P1],I1="Page Not Found",at={__name:"404",setup(o){return _e(()=>{document.title=I1}),(y,_)=>(s(),a("div",L1,F1))}};const oe=o=>(Ue("data-v-18d1690e"),o=o(),Me(),o),q1={id:"exportPDF"},Y1={class:"container"},B1=oe(()=>e("br",null,null,-1)),N1={class:"header"},R1=["src"],H1=["src"],j1={class:"header"},O1={class:"header-justify-space-between"},z1=oe(()=>e("br",null,null,-1)),G1=oe(()=>e("p",null,null,-1)),Q1={key:0},W1=oe(()=>e("strong",null,null,-1)),K1=oe(()=>e("br",null,null,-1)),X1=oe(()=>e("br",null,null,-1)),J1=oe(()=>e("p",null,null,-1)),Z1=oe(()=>e("strong",null,"Unit details",-1)),eb={class:"content"},tb={class:"header-justify-space-between"},sb=oe(()=>e("span",null,"Brand:",-1)),ab=oe(()=>e("br",null,null,-1)),ob=oe(()=>e("span",null,"Model:",-1)),lb=oe(()=>e("br",null,null,-1)),nb=oe(()=>e("div",null,null,-1)),db=oe(()=>e("span",null,"Serial #:",-1)),ib=oe(()=>e("br",null,null,-1)),cb=oe(()=>e("span",null,"Asset Tag:",-1)),rb=oe(()=>e("br",null,null,-1)),ub=oe(()=>e("div",null,null,-1)),_b=oe(()=>e("strong",null,"Reported problem",-1)),mb={class:"content"},hb=oe(()=>e("strong",null,"Assessment conducted",-1)),pb={class:"content"},vb=oe(()=>e("strong",null,"Recommendation",-1)),bb={class:"content"},fb={class:"header-justify-space-between"},$b=oe(()=>e("strong",null,"Evaluated by:",-1)),gb=oe(()=>e("br",null,null,-1)),yb={class:"botoom-line"},kb=oe(()=>e("br",null,null,-1)),xb=oe(()=>e("p",null,null,-1)),wb=oe(()=>e("strong",null,"Noted by:",-1)),Cb=oe(()=>e("br",null,null,-1)),Sb={class:"botoom-line"},Db=oe(()=>e("br",null,null,-1)),Ub=oe(()=>e("br",null,null,-1)),Mb=oe(()=>e("p",null,null,-1)),Vb={key:0},Ab={key:1},Eb={key:0,class:"fab-container"},Tb=oe(()=>e("i",{class:"fas fa-download"},null,-1)),Lb=[Tb],Pb={__name:"TechRecommApprove",setup(o){const y=`${fe().params.id}`,_=()=>{const m=document.getElementById("exportPDF");tt().from(m).save(`${y}.pdf`)},d=Ae({id:"",recommnum:"",branch:"",company:"",department:"",warehouse:"",user:"",problem:"",brand:"",model:"",status:"",assettag:"",serialnum:"",assconducted:"",recommendation:"",created_at:"",updated_at:"",createdby:"",updatedby:"",created_position:"",updated_position:""}),r=()=>{A.get(`/api/tech-recommendations/${fe().params.id}`).then(m=>{d.id=m.data.id,d.recommnum=m.data.recommnum,d.branch=m.data.branch,d.company=m.data.company,d.department=m.data.department,d.warehouse=m.data.warehouse,d.user=m.data.user,d.problem=m.data.problem,d.brand=m.data.brand,d.model=m.data.model,d.assettag=m.data.assettag,d.serialnum=m.data.serialnum,d.status=m.data.status,d.assconducted=m.data.assconducted,d.recommendation=m.data.recommendation,d.createdby=m.data.createdby.cfull_name,d.updatedby=m.data.updatedby.ufull_name,d.created_at=ve(m.data.created_at).format("MMMM D, YYYY"),d.updated_at=ve(m.data.updated_at).format("MMMM D, YYYY [at] h:mm:ss a"),d.created_position=m.data.createdby.cposition,d.updated_position=m.data.updatedby.uposition}).catch(m=>{actions.setErrors(m.response.data.errors)})};return _e(()=>{r(),document.title=y}),(m,k)=>(s(),a(R,null,[e("div",q1,[e("div",Y1,[B1,e("div",N1,[e("img",{class:"logo",src:"/img/IT_Technical_Recommendation .jpg",alt:"Right Logo"},null,8,R1),e("img",{class:"logo",src:"/img/safexpress.jpeg",alt:"Left Logo"},null,8,H1)]),e("div",j1,[e("span",null,[V("Recommendation No: "),e("strong",null,t(d.recommnum),1)]),e("span",null,[V("Date Checked: "),e("strong",null,t(d.created_at),1)])]),e("div",O1,[e("div",null,[e("span",null,[V("Company: "),e("strong",null,t(d.company),1)]),z1,e("span",null,[V("Branch: "),e("strong",null,t(d.branch),1)])]),G1,e("div",null,[d.warehouse==""?(s(),a("span",Q1,[V("Warehouse: "),W1,V(t(d.warehouse),1)])):L("",!0),K1,e("span",null,[V("User: "),e("strong",null,t(d.user),1)]),X1,e("span",null,[V("Department: "),e("strong",null,t(d.department),1)])]),J1]),Z1,e("div",eb,[e("div",tb,[e("div",null,[sb,e("strong",null,t(d.brand),1),ab,ob,e("strong",null,t(d.model),1),lb]),nb,e("div",null,[db,e("strong",null,t(d.serialnum),1),ib,cb,e("strong",null,t(d.assettag),1),rb]),ub])]),_b,e("div",mb,[e("p",null,t(d.problem),1)]),hb,e("div",pb,[e("p",null,t(d.assconducted),1)]),vb,e("div",bb,[e("p",null,t(d.recommendation),1)]),e("div",fb,[e("div",null,[$b,gb,e("span",yb,t(d.createdby),1),kb,e("span",null,t(d.created_position),1)]),xb,e("div",null,[wb,Cb,e("span",Sb,t(d.updatedby),1),Db,e("span",null,t(d.updated_position),1),Ub]),Mb]),d.status===2?(s(),a("span",Vb,"Approved date:("+t(d.updated_at)+")",1)):(s(),a("span",Ab,"Pending"))])]),d.status===2?(s(),a("div",Eb,[e("div",{class:"button iconbutton bg-success",onClick:k[0]||(k[0]=E=>_())},Lb)])):L("",!0)],64))}};var ot=ye(Pb,[["__scopeId","data-v-18d1690e"]]);const Fb={},Ib={class:"card mx-auto",style:{"max-width":"600px"}},qb=e("div",{class:"card-header"},[e("div",{class:"card-tools"},[e("i",{class:"fa fa-bars"})])],-1),Yb={class:"card-body"},Bb={class:"list-unstyled"};function Nb(o,y){return s(),a("div",Ib,[qb,e("div",Yb,[e("ul",Bb,[e("li",{class:"nav-item dropdown",onClick:y[0]||(y[0]=(..._)=>o.fetchNotifications&&o.fetchNotifications(..._))})])])])}var Rb=ye(Fb,[["render",Nb]]);const Hb=["checked"],jb={class:"text-center"},Ob={__name:"AssetmItemList",props:{item:Object,index:Number,selectAll:Boolean},emits:["userDeleted","editDa","confirmDeletion"],setup(o,{emit:y}){he(),me();const _=o,d=y,r=()=>{d("toggleSelection",_.item)};return(m,k)=>(s(),a("tr",null,[e("td",null,[e("input",{type:"checkbox",checked:o.selectAll,onChange:r},null,40,Hb)]),e("td",null,t(o.index+1),1),e("td",null,t(o.item.site_name),1),e("td",null,t(o.item.asset_name),1),e("td",null,t(o.item.asset_type),1),e("td",null,t(o.item.serial),1),e("td",null,t(o.item.date_acquired),1),e("td",null,t(o.item.man_supplier),1),e("td",null,t(o.item.unit),1),e("td",null,t(o.item.created_by),1),e("td",null,t(o.item.created_at),1),e("td",null,t(o.item.updated_by),1),e("td",jb,[e("i",{class:"fa fa-eye text-success",onClick:k[0]||(k[0]=le(E=>m.$emit("viewData",o.item),["prevent"]))}),V(" \xA0 "),e("i",{class:"fa fa-edit text-primary",onClick:k[1]||(k[1]=le(E=>m.$emit("editData",o.item),["prevent"]))}),V(" \xA0 "),e("i",{class:"fa fa-trash text-danger",onClick:k[2]||(k[2]=le(E=>m.$emit("confirmDeletion",o.item.id),["prevent"]))})])]))}};var zb=ye(Ob,[["__scopeId","data-v-39060f42"]]);const Gb={class:"content"},Qb={class:"container-fluid"},Wb={class:"d-flex justify-content-between"},Kb={class:"d-flex"},Xb=e("i",{class:"fa fa-plus-circle mr-1"},null,-1),Jb={key:0},Zb=e("i",{class:"fa fa-trash mr-1"},null,-1),ef={class:"ml-2"},tf={class:"card"},sf={class:"card-body"},af={class:"table-responsive"},of={class:"table table-bordered table-sm table-striped hover"},lf=e("th",{style:{width:"10px"}},"#",-1),nf=e("th",null,"Site",-1),df=e("th",null,"Asset",-1),cf=e("th",null,"Asset type",-1),rf=e("th",null,"Serial",-1),uf=e("th",null,"Date Aquired",-1),_f=e("th",null,"Supplier",-1),mf=e("th",null,"Unit",-1),hf=e("th",null,"Createdby",-1),pf=e("th",null,"CreatedAt",-1),vf=e("th",null,"Updatedby",-1),bf=e("th",null,"Action",-1),ff={key:0},$f={key:1},gf=e("tr",null,[e("td",{colspan:"14",class:"text-center"}," No results found... ")],-1),yf=[gf],kf={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},xf={class:"modal-dialog modal-lg",role:"document"},wf={class:"modal-content"},Cf={class:"modal-header"},Sf={class:"modal-title",id:"staticBackdropLabel"},Df={key:0},Uf={key:1},Mf=e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1),Vf={class:"modal-body"},Af={class:"col-md-12"},Ef={class:"row"},Tf={class:"col-6"},Lf={class:"form-group"},Pf=e("label",{for:"branch"},"Site",-1),Ff=e("option",{value:"",disabled:""}," Select Site ",-1),If=["value"],qf={class:"invalid-feedback"},Yf={class:"form-group"},Bf=e("label",{for:"department"},"Asset Name",-1),Nf={class:"invalid-feedback"},Rf={class:"form-group"},Hf=e("label",{for:"asset_type"},"Asset Type",-1),jf={class:"invalid-feedback"},Of={class:"form-group"},zf=e("label",{for:"serial"},"Serial #:",-1),Gf={class:"invalid-feedback"},Qf={class:"col-6"},Wf={class:"form-group"},Kf=e("label",{for:"date_acquired"},"Date Acquired",-1),Xf={class:"invalid-feedback"},Jf={class:"form-group"},Zf=e("label",{for:"man_supplier"},"Brand",-1),e$={class:"invalid-feedback"},t$={class:"form-group"},s$=e("label",{for:"unit"},"Unit",-1),a$={class:"invalid-feedback"},o$={class:"row"},l$={class:"col-6"},n$={class:"form-group"},d$=e("label",{for:"location"},"location",-1),i$={class:"invalid-feedback"},c$={class:"form-group"},r$=e("label",{for:"paccountable"},"Person Accountable",-1),u$={class:"invalid-feedback"},_$={class:"col-6"},m$={class:"form-group"},h$=e("label",{for:"locationchangetranfer"},"Transfer Location",-1),p$={class:"invalid-feedback"},v$={class:"row"},b$={class:"col-6"},f$={class:"form-group"},$$=e("label",{for:"cucodition"},"Current Condition",-1),g$=e("option",{value:"",disabled:""}," Select Condition ",-1),y$=e("option",{value:"Fair"}," FAIR ",-1),k$=e("option",{value:"Good"}," GOOD ",-1),x$=e("option",{value:"Damange"}," DAMANGE ",-1),w$={class:"invalid-feedback"},C$={class:"form-group"},S$=e("label",{for:"mentenancenotes"},"Maintenance Notes",-1),D$={class:"col-6"},U$={class:"form-group"},M$=e("label",{for:"lastmaintenance"},"Last Maintenance",-1),V$={class:"form-group"},A$=e("label",{for:"nextmaintenance"},"Next Maintenance",-1),E$={class:"row"},T$={class:"col-6"},L$={class:"form-group"},P$=e("label",{for:"operationhours"},"Operating Hours",-1),F$={class:"col-6"},I$={class:"form-group"},q$=e("label",{for:"notes"},"Notes",-1),Y$={class:"invalid-feedback"},B$={class:"row"},N$={class:"col-6"},R$={class:"form-group"},H$=e("label",{for:"purchasecost"},"Purchase Cost",-1),j$={class:"col-6"},O$={class:"form-group"},z$=e("label",{for:"insurancewarrantyinfo"},"WARRANTY Information",-1),G$={class:"invalid-feedback"},Q$=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1),W$={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},K$={class:"modal-dialog",role:"document"},X$={class:"modal-content"},J$=we('<div class="modal-header"><h5 class="modal-title" id="staticBackdropLabel"><span>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"><h5>Are you sure you want to delete this record ?</h5></div>',2),Z$={class:"modal-footer"},eg=e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),tg={class:"modal fade",id:"ViewRecodeModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},sg={class:"modal-dialog",role:"document"},ag={class:"modal-content"},og=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,"Asset Record")]),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),lg={class:"modal-body"},ng={class:"d-flex justify-content-between"},dg={class:"mb-3"},ig={class:"row"},cg={class:"col-md-12"},rg=e("br",null,null,-1),ug=e("br",null,null,-1),_g=e("br",null,null,-1),mg=e("br",null,null,-1),hg=e("br",null,null,-1),pg={class:"col-md-12"},vg=e("br",null,null,-1),bg=e("br",null,null,-1),fg=e("br",null,null,-1),$g=e("br",null,null,-1),gg=e("br",null,null,-1),yg=e("br",null,null,-1),kg=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ")],-1),xg={__name:"AssetmList",setup(o){me();const y=`${fe().name}`,_=he(),d=i({data:[]});i({data:[]});const r=i(!1),m=i(!1),k=i(),E=i(!0),l=Ae({site_name:"",id:"",site_id:"",asset_name:"",asset_type:"",serial:"",date_acquired:"",man_supplier:"",unit:"",location:"",paccountable:"",locationchangetranfer:"",cucodition:"",maintenancenotes:""});i(null),i();const T=i(),b=(h=1)=>{r.value=!0,A.get(`/web/asset-monitoring?page=${h}`,{params:{query:F.value}}).then(p=>{r.value=!1,d.value=p.data,c.value=[],pe.value=!1})},x=xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),n=xe({menu_title:Y().required(),parent_id:Y().required(),sort_order:Y().required(),menu_icon:Y().required(),menu_route:Y().required()}),w=()=>{A.post("/web/asset-monitoring",l).then(h=>{$("#FormModal").modal("hide"),b(),_.success(h.data.message)}).catch(h=>{_.error(h.data.message)})},q=()=>{m.value=!1,$("#FormModal").modal("show")},z=h=>{l.site_name=h.site_name,l.id=h.id,l.site_id=h.site_id,l.asset_name=h.asset_name,l.asset_type=h.asset_type,l.serial=h.serial,l.date_acquired=h.date_acquired,l.man_supplier=h.man_supplier,l.unit=h.unit,l.location=h.location,l.paccountable=h.paccountable,l.locationchangetranfer=h.locationchangetranfer,l.cucodition=h.cucodition,l.maintenancenotes=h.maintenancenotes,l.ceated_by=h.ceated_by,l.updated_by=h.updated_by,$("#ViewRecodeModal").modal("show")},te=h=>{m.value=!0,l.id=h.id,l.site_id=h.site_id,l.asset_name=h.asset_name,l.asset_type=h.asset_type,l.serial=h.serial,l.date_acquired=h.date_acquired,l.man_supplier=h.man_supplier,l.unit=h.unit,l.location=h.location,l.paccountable=h.paccountable,l.locationchangetranfer=h.locationchangetranfer,l.cucodition=h.cucodition,l.maintenancenotes=h.maintenancenotes,l.ceated_by=h.ceated_by,l.updated_by=h.updated_by,$("#FormModal").modal("show")},K=({setErrors:h})=>{A.post("/web/asset-monitoring",l).then(p=>{b(),$("#FormModal").modal("hide"),_.success("Data successfully Updated!")}).catch(p=>{h(p.response.data.errors),console.log(p)})},j=(h,p)=>{m.value?K(h):w()},C=()=>{A.get("/web/getsite").then(h=>{T.value=h.data.sites}).catch(h=>{console.log(h)})},F=i(null),c=i([]),P=h=>{const p=c.value.indexOf(h.id);p===-1?c.value.push(h.id):c.value.splice(p,1),console.log(c.value)},H=i(null),ae=h=>{H.value=h,$("#deleteClientModal").modal("show")},ee=()=>{A.delete(`/web/asset-monitoring/${H.value}`).then(h=>{$("#deleteClientModal").modal("hide"),_.success(h.data.message),b()})},de=()=>{A.delete("/web/bulkDeleteAsset",{data:{ids:c.value}}).then(h=>{d.value.data=d.value.data.filter(p=>!c.value.includes(p.id)),c.value=[],pe.value=!1,_.success(h.data.message)})},pe=i(!1),U=()=>{pe.value?c.value=d.value.data.map(h=>h.id):c.value=[],console.log(c.value)};return be([E],h=>{l.is_active=h?1:0}),be(F,Te.exports.debounce(()=>{b()},300)),_e(()=>{b(),C(),document.title=y}),(h,p)=>{const f=ge("font"),G=ge("tab-content"),ie=ge("form-wizard");return s(),a(R,null,[e("div",Gb,[e("div",Qb,[e("div",Wb,[e("div",Kb,[e("button",{onClick:q,type:"button",class:"mb-2 btn btn-primary"},[Xb,V(" Asset ")]),c.value.length>0?(s(),a("div",Jb,[e("button",{onClick:de,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Zb,V(" Delete Selected ")]),e("span",ef,"Selected "+t(c.value.length)+" Record",1)])):L("",!0)]),e("div",null,[Z(e("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=S=>F.value=S),class:"form-control",placeholder:"Search..."},null,512),[[ue,F.value]])])]),e("div",tf,[e("div",sf,[r.value?(s(),ce(Ee,{key:0})):L("",!0),e("div",af,[g(f,{size:"2"},{default:J(()=>[e("table",of,[e("thead",null,[e("tr",null,[e("th",null,[Z(e("input",{type:"checkbox","onUpdate:modelValue":p[1]||(p[1]=S=>pe.value=S),onChange:U},null,544),[[Ve,pe.value]])]),lf,nf,df,cf,rf,uf,_f,mf,hf,pf,vf,bf])]),d.value.data.length>0?(s(),a("tbody",ff,[(s(!0),a(R,null,W(d.value.data,(S,M)=>(s(),ce(zb,{key:S.id,item:S,index:M,onViewData:z,onEditData:te,onConfirmDeletion:ae,onToggleSelection:P,"select-all":pe.value},null,8,["item","index","select-all"]))),128))])):(s(),a("tbody",$f,yf))])]),_:1})])])]),g(u(qe),{data:d.value,onPaginationChangePage:b},null,8,["data"])])]),e("div",kf,[e("div",xf,[e("div",wf,[e("div",Cf,[e("h5",Sf,[m.value?(s(),a("span",Df,"Edit Asset")):(s(),a("span",Uf,"Add Asset"))]),Mf]),g(u(De),{onSubmit:j,"validation-schema":m.value?u(n):u(x),"initial-values":k.value},{default:J(({errors:S})=>[e("div",Vf,[e("div",Af,[g(ie,{onOnComplete:w,color:"#094899","step-size":"xs"},{default:J(()=>[g(G,{title:"Asset Information",icon:"fas fa-book"},{default:J(()=>[e("div",Ef,[e("div",Tf,[e("div",Lf,[Pf,g(u(N),{as:"select",name:"branch",class:D(["form-control",{"is-invalid":S.branch}]),id:"branch","aria-describedby":"branchHelp",modelValue:l.site_id,"onUpdate:modelValue":p[2]||(p[2]=M=>l.site_id=M)},{default:J(()=>[Ff,(s(!0),a(R,null,W(T.value,M=>(s(),a("option",{key:M.id,value:M.id},t(M.site_name),9,If))),128))]),_:2},1032,["class","modelValue"]),e("span",qf,t(S.branch),1)]),e("div",Yf,[Bf,g(u(N),{name:"asset_name",type:"text",class:D(["form-control",{"is-invalid":S.asset_name}]),id:"asset_name","aria-describedby":"nameHelp",placeholder:"Enter asset_name",modelValue:l.asset_name,"onUpdate:modelValue":p[3]||(p[3]=M=>l.asset_name=M)},null,8,["class","modelValue"]),e("span",Nf,t(S.asset_name),1)]),e("div",Rf,[Hf,g(u(N),{name:"asset_type",type:"text",class:D(["form-control",{"is-invalid":S.asset_type}]),id:"asset_type","aria-describedby":"nameHelp",placeholder:"Enter Asset Type",modelValue:l.asset_type,"onUpdate:modelValue":p[4]||(p[4]=M=>l.asset_type=M)},null,8,["class","modelValue"]),e("span",jf,t(S.asset_type),1)]),e("div",Of,[zf,g(u(N),{name:"serial",type:"text",class:D(["form-control",{"is-invalid":S.serial}]),id:"serial","aria-describedby":"nameHelp",placeholder:"Enter Serial no.",modelValue:l.serial,"onUpdate:modelValue":p[5]||(p[5]=M=>l.serial=M)},null,8,["class","modelValue"]),e("span",Gf,t(S.serial),1)])]),e("div",Qf,[e("div",Wf,[Kf,g(u(N),{name:"date_acquired",type:"date",class:D(["form-control",{"is-invalid":S.date_acquired}]),id:"date_acquired","aria-describedby":"nameHelp",placeholder:"Enter Date Aquired",modelValue:l.date_acquired,"onUpdate:modelValue":p[6]||(p[6]=M=>l.date_acquired=M)},null,8,["class","modelValue"]),e("span",Xf,t(S.date_acquired),1)]),e("div",Jf,[Zf,g(u(N),{name:"man_supplier",type:"text",class:D(["form-control",{"is-invalid":S.man_supplier}]),id:"man_supplier","aria-describedby":"nameHelp",placeholder:"Enter Brand Name",modelValue:l.man_supplier,"onUpdate:modelValue":p[7]||(p[7]=M=>l.man_supplier=M)},null,8,["class","modelValue"]),e("span",e$,t(S.man_supplier),1)]),e("div",t$,[s$,g(u(N),{name:"unit",type:"number",class:D(["form-control",{"is-invalid":S.unit}]),id:"unit","aria-describedby":"nameHelp",placeholder:"Enter unit",modelValue:l.unit,"onUpdate:modelValue":p[8]||(p[8]=M=>l.unit=M)},null,8,["class","modelValue"]),e("span",a$,t(S.unit),1)])])])]),_:2},1024),g(G,{title:"Asset Allocation",icon:"fa fa-map"},{default:J(()=>[e("div",o$,[e("div",l$,[e("div",n$,[d$,g(u(N),{name:"location",type:"text",class:D(["form-control",{"is-invalid":S.location}]),id:"location","aria-describedby":"nameHelp",placeholder:"Enter location",modelValue:l.location,"onUpdate:modelValue":p[9]||(p[9]=M=>l.location=M)},null,8,["class","modelValue"]),e("span",i$,t(S.location),1)]),e("div",c$,[r$,g(u(N),{name:"paccountable",type:"text",class:D(["form-control",{"is-invalid":S.paccountable}]),id:"paccountable","aria-describedby":"nameHelp",placeholder:"Enter Person Accountable",modelValue:l.paccountable,"onUpdate:modelValue":p[10]||(p[10]=M=>l.paccountable=M)},null,8,["class","modelValue"]),e("span",u$,t(S.paccountable),1)])]),e("div",_$,[e("div",m$,[h$,g(u(N),{name:"locationchangetranfer",type:"text",class:D(["form-control",{"is-invalid":S.locationchangetranfer}]),id:"locationchangetranfer","aria-describedby":"nameHelp",placeholder:"Enter tranfer Location",modelValue:l.locationchangetranfer,"onUpdate:modelValue":p[11]||(p[11]=M=>l.locationchangetranfer=M)},null,8,["class","modelValue"]),e("span",p$,t(S.locationchangetranfer),1)])])])]),_:2},1024),g(G,{title:"Asset Condition"},{default:J(()=>[e("div",v$,[e("div",b$,[e("div",f$,[$$,g(u(N),{as:"select",name:"cucodition",class:D(["form-control",{"is-invalid":S.cucodition}]),id:"cucodition","aria-describedby":"branchHelp",modelValue:l.cucodition,"onUpdate:modelValue":p[12]||(p[12]=M=>l.cucodition=M)},{default:J(()=>[g$,y$,k$,x$]),_:2},1032,["class","modelValue"]),e("span",w$,t(S.cucodition),1)]),e("div",C$,[S$,g(u(N),{name:"mentenancenotes",as:"textarea",class:D(["form-control",{"is-invalid":S.mentenancenotes}]),id:"mentenancenotes","aria-describedby":"nameHelp",placeholder:"Enter Maintenance Notes",modelValue:l.mentenancenotes,"onUpdate:modelValue":p[13]||(p[13]=M=>l.mentenancenotes=M)},null,8,["class","modelValue"])])]),e("div",D$,[e("div",U$,[M$,g(u(N),{name:"lastmaintenance",type:"date",class:D(["form-control",{"is-invalid":S.lastmaintenance}]),id:"lastmaintenance","aria-describedby":"nameHelp",modelValue:l.lastmaintenance,"onUpdate:modelValue":p[14]||(p[14]=M=>l.lastmaintenance=M)},null,8,["class","modelValue"])]),e("div",V$,[A$,g(u(N),{name:"nextmaintenance",type:"date",class:D(["form-control",{"is-invalid":S.nextmaintenance}]),id:"nextmaintenance","aria-describedby":"nameHelp",modelValue:l.nextmaintenance,"onUpdate:modelValue":p[15]||(p[15]=M=>l.nextmaintenance=M)},null,8,["class","modelValue"])])])])]),_:2},1024),g(G,{title:"Utilization & Ussage"},{default:J(()=>[e("div",E$,[e("div",T$,[e("div",L$,[P$,g(u(N),{name:"operationhours",type:"number",class:D(["form-control",{"is-invalid":S.operationhours}]),id:"operationhours","aria-describedby":"nameHelp",modelValue:l.operationhours,"onUpdate:modelValue":p[16]||(p[16]=M=>l.operationhours=M)},null,8,["class","modelValue"])])]),e("div",F$,[e("div",I$,[q$,g(u(N),{name:"notes",as:"textarea",class:D(["form-control",{"is-invalid":S.notes}]),id:"notes","aria-describedby":"nameHelp",placeholder:"Enter notes",modelValue:l.notes,"onUpdate:modelValue":p[17]||(p[17]=M=>l.notes=M)},null,8,["class","modelValue"]),e("span",Y$,t(S.notes),1)])])])]),_:2},1024),g(G,{title:"Financial Information",icon:"fas fa-receipt"},{default:J(()=>[e("div",B$,[e("div",N$,[e("div",R$,[H$,g(u(N),{name:"purchasecost",type:"number",class:D(["form-control",{"is-invalid":S.purchasecost}]),id:"purchasecost","aria-describedby":"nameHelp",modelValue:l.purchasecost,"onUpdate:modelValue":p[18]||(p[18]=M=>l.purchasecost=M)},null,8,["class","modelValue"])])]),e("div",j$,[e("div",O$,[z$,g(u(N),{name:"insurancewarrantyinfo",as:"textarea",class:D(["form-control",{"is-invalid":S.insurancewarrantyinfo}]),id:"insurancewarrantyinfo","aria-describedby":"nameHelp",placeholder:"Enter insurancewarrantyinfo",modelValue:l.insurancewarrantyinfo,"onUpdate:modelValue":p[19]||(p[19]=M=>l.insurancewarrantyinfo=M)},null,8,["class","modelValue"]),e("span",G$,t(S.insurancewarrantyinfo),1)])])])]),_:2},1024)]),_:2},1024)])]),Q$]),_:1},8,["validation-schema","initial-values"])])])]),e("div",W$,[e("div",K$,[e("div",X$,[J$,e("div",Z$,[eg,e("button",{onClick:le(ee,["prevent"]),type:"button",class:"btn btn-primary"}," Delete Record ")])])])]),e("div",tg,[e("div",sg,[e("div",ag,[og,e("div",lg,[e("div",ng,[e("div",dg,[e("div",ig,[e("div",cg,[e("p",null,[V(" Site: "+t(l.site_name),1),rg,V(" Asset Name: "+t(l.asset_name),1),ug,V(" Asset Type: "+t(l.asset_type),1),_g,V(" Serial: "+t(l.serial),1),mg,V(" Date Acquired: "+t(l.date_acquired),1),hg])]),e("div",pg,[e("p",null,[V(" Brand: "+t(l.man_supplier),1),vg,V(" Unit: "+t(l.unit),1),bg,V(" Person Accountability: "+t(l.paccountable),1),fg,V(" Location Transfer: "+t(l.locationchangetranfer),1),$g,V(" Condition: "+t(l.condition),1),gg,V(" Maintenance Note: "+t(l.maintenancenotes),1),yg])])])])])]),kg])])])],64)}}};const ne=o=>(Ue("data-v-acff4fc0"),o=o(),Me(),o),wg={class:"content"},Cg={class:"container-fluid"},Sg={class:"d-flex justify-content-between"},Dg={class:"d-flex"},Ug=ne(()=>e("i",{class:"fa fa-plus-circle mr-1"},null,-1)),Mg={key:0},Vg=ne(()=>e("i",{class:"fa fa-trash mr-1"},null,-1)),Ag={class:"ml-2"},Eg={class:"d-flex"},Tg={class:"form-group"},Lg=ne(()=>e("option",{value:"",disabled:""},"Select a site",-1)),Pg=["value"],Fg={id:"captureDiv"},Ig={class:"card"},qg={class:"card-header"},Yg={class:"card-title"},Bg={class:"card-tools"},Ng={id:"cost"},Rg={class:"custom-control custom-switch custom-switch-off-danger custom-switch-on-success"},Hg=ne(()=>e("label",{class:"custom-control-label",for:"customSwitch3"},"Cost",-1)),jg={class:"card-body"},Og=ne(()=>e("i",{class:"fa fa-camera"},null,-1)),zg=[Og],Gg={key:1,class:"table-responsive"},Qg={class:"table table-bordered table-sm table-striped table-hover"},Wg=ne(()=>e("th",null,null,-1)),Kg=ne(()=>e("th",null,"Date",-1)),Xg=ne(()=>e("th",null,"Allocated Pallet Space",-1)),Jg=ne(()=>e("th",null,"SPACE UTILIZATION TOTAL",-1)),Zg=ne(()=>e("th",null,"Space Utilization %",-1)),ey=ne(()=>e("th",null,"Excess",-1)),ty={key:0},sy={key:1},ay=ne(()=>e("th",null,"Remarks",-1)),oy=ne(()=>e("th",null,"Action",-1)),ly={key:0},ny=["item","index"],dy=["checked"],iy={key:0},cy={key:1},ry=["onClick"],uy=ne(()=>e("i",{class:"fa fa-edit"},null,-1)),_y=[uy],my={key:0},hy=ne(()=>e("td",{colspan:"7",style:{"text-align":"right"}},[e("b",null,"Total:")],-1)),py={colspan:"3"},vy={key:1},by=ne(()=>e("tr",null,[e("td",{colspan:"10",class:"text-center"}," No results found... ")],-1)),fy=[by],$y={class:"modal fade",id:"FormModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gy={class:"modal-dialog modal-sm",role:"document"},yy={class:"modal-content"},ky={class:"modal-header"},xy={class:"modal-title",id:"staticBackdropLabel"},wy={key:0},Cy={key:1},Sy=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),Dy={class:"modal-body"},Uy={class:"col-md-12"},My={class:"row"},Vy={class:"col-12"},Ay={class:"form-group"},Ey=ne(()=>e("label",{for:"date"},"Date",-1)),Ty={class:"invalid-feedback"},Ly={class:"form-group"},Py=ne(()=>e("label",{for:"user"},"Allocated Pallet Space",-1)),Fy={class:"invalid-feedback"},Iy={class:"form-group"},qy=ne(()=>e("label",{for:"warehouse"},"Space Utilization Total",-1)),Yy={class:"invalid-feedback"},By={class:"form-group"},Ny=ne(()=>e("label",{for:"user"},"Cost Per Pallet",-1)),Ry={class:"invalid-feedback"},Hy=ne(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel "),e("button",{type:"submit",class:"btn btn-primary"}," Save ")],-1)),jy={class:"modal fade",id:"deleteClientModal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Oy={class:"modal-dialog",role:"document"},zy={class:"modal-content"},Gy=we('<div class="modal-header" data-v-acff4fc0><h5 class="modal-title" id="staticBackdropLabel" data-v-acff4fc0><span data-v-acff4fc0>Delete Record</span></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-v-acff4fc0><span aria-hidden="true" data-v-acff4fc0>\xD7</span></button></div><div class="modal-body" data-v-acff4fc0><h5 data-v-acff4fc0>Are you sure you want to delete this record ?</h5></div>',2),Qy={class:"modal-footer"},Wy=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),Ky={class:"modal fade",id:"FormModalfilterDate","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xy={class:"modal-dialog modal-sm",role:"document"},Jy={class:"modal-content"},Zy=ne(()=>e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")],-1)),e2={class:"modal-body"},t2={class:"fromtocenter"},s2=ne(()=>e("label",{for:"fromDate"},"From:",-1)),a2=ne(()=>e("label",{for:"toDate"},"To:",-1)),o2={class:"modal-footer"},l2=ne(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1)),n2={__name:"PalletList",setup(o){const y=Ze("$swal"),_=`${fe().name}`,d=he(),r=i({data:[]}),m=i(),k=i(!1),E=i(!1),l=me(),T=i(!0),b=i(!0),x=i(),n=Ae({id:"",site_id:"",user_id:l.user.id,date:"",allocatedpalletspace:"",spaceuteltotal:"",caseperpallet:""});i(null);const w=i(),q=()=>{k.value=!0,A.get("/web/pallet",{params:{site_id:n.site_id,query:h.value}}).then(O=>{k.value=!1,r.value=O.data.data,w.value=O.data.sum,p.value=[],Le.value=!1})},z=xe({date:Y().required(),allocatedpalletspace:Y().required(),spaceuteltotal:Y().required(),caseperpallet:Y().required()}),te=xe({date:Y().required(),allocatedpalletspace:Y().required(),spaceuteltotal:Y().required(),caseperpallet:Y().required()}),K=i(""),j=i(""),C=i({start_date:"",end_date:""});be([K],()=>{const O=new Date(K.value),X=O.getFullYear(),$e=String(O.getMonth()+1).padStart(2,"0"),Q=String(O.getDate()).padStart(2,"0");C.value.start_date=`${X}-${$e}-${Q}`}),be([j],()=>{const O=new Date(j.value),X=O.getFullYear(),$e=String(O.getMonth()+1).padStart(2,"0"),Q=String(O.getDate()).padStart(2,"0");C.value.end_date=`${X}-${$e}-${Q}`});const F=()=>{k.value=!0,A.get("/web/filter-pallet",{params:{start_date:C.value.start_date,end_date:C.value.end_date,site_id:n.site_id}}).then(O=>{k.value=!1,r.value=O.data.data,w.value=O.data.sum}).catch(O=>{console.error(O)}).finally(()=>{$("#FormModalfilterDate").modal("hide")})},c=()=>{n.id="",n.user_id=l.user.id,n.date="",n.allocatedpalletspace="",n.spaceuteltotal="",n.caseperpallet=""},P=({resetForm:O,setErrors:X})=>{A.post("/web/pallet",{site_id:n.site_id,user_id:n.user_id,date:n.date,allocatedpalletspace:n.allocatedpalletspace,spaceuteltotal:n.spaceuteltotal,caseperpallet:n.caseperpallet}).then($e=>{q(),$("#FormModal").modal("hide"),c(),d.success("Data created successfully!")}).catch(function($e){$e.response?d.error($e.response.data.message):$e.request?d.error($e.request):d.error("Error",$e.message)})},H=()=>{A.get("/web/getsite").then(O=>{m.value=O.data.sites}).catch(O=>{console.log(O)})},ae=()=>{q(n.site_id);const O=m.value.find(X=>X.id===n.site_id);x.value=O?O.site_name:""},ee=()=>{if(!n.site_id||n.site_id.length===0){y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}E.value=!1,$("#FormModal").modal("show")},de=O=>{E.value=!0,n.id=O.id,n.user_id=O.user_id,n.site_id=O.site_id,n.date=O.date,n.allocatedpalletspace=O.allocatedpalletspace,n.spaceuteltotal=O.spaceuteltotal,n.caseperpallet=O.caseperpallet,$("#FormModal").modal("show")},pe=({setErrors:O})=>{A.post("/web/pallet",n).then(X=>{c(),q(),$("#FormModal").modal("hide"),d.success("successfully Updated!")}).catch(X=>{O(X.response.data.errors),console.log(X)})},U=(O,X)=>{E.value?pe(O):P(O)},h=i(null),p=i([]),f=O=>{const X=p.value.indexOf(O.id);X===-1?p.value.push(O.id):p.value.splice(X,1),console.log(p.value)},G=i(null),ie=()=>{A.delete(`/web/pallet/${G.value}`).then(()=>{$("#deleteDataModal").modal("hide"),d.success("Pallet deleted successfully!"),r.value.data=r.value.data.filter(O=>O.id!==G.value)})},S=()=>{A.delete("/web/bulkDeletePallet",{data:{ids:p.value}}).then(O=>{q(),p.value=[],Le.value=!1,d.success(O.data.message)})},M=()=>{if(!n.site_id||n.site_id.length===0){y.fire({title:"Warning!",text:"Select the Site First",icon:"warning"});return}$("#FormModalfilterDate").modal("show")},Le=i(!1),Re=()=>{$("#cost").hide(),$("#capturecamerafilter").hide();const O=document.getElementById("captureDiv");Oe(O).then(X=>{const $e=X.toDataURL(),Q=document.createElement("a");Q.href=$e,Q.download=`${x.value} - ${_}.png`,Q.click()}),$("#cost").show(),$("#capturecamerafilter").show()};return be([b],O=>{n.is_active=O?1:0}),be(h,Te.exports.debounce(()=>{q()},300)),_e(()=>{H(),document.title=_}),(O,X)=>{const $e=ge("font");return s(),a(R,null,[e("div",wg,[e("div",Cg,[e("div",Sg,[e("div",Dg,[e("button",{onClick:ee,type:"button",class:"mb-2 btn btn-primary"},[Ug,V(" Pallet ")]),p.value.length>0?(s(),a("div",Mg,[e("button",{onClick:S,type:"button",class:"ml-2 mb-2 btn btn-danger"},[Vg,V(" Delete Selected ")]),e("span",Ag,"Selected "+t(p.value.length)+" Pallet",1)])):L("",!0)]),e("div",Eg,[e("div",Tg,[Z(e("select",{class:"form-control",id:"siteDropdown","onUpdate:modelValue":X[0]||(X[0]=Q=>n.site_id=Q),onChange:X[1]||(X[1]=Q=>ae())},[Lg,(s(!0),a(R,null,W(m.value,Q=>(s(),a("option",{key:Q.id,value:Q.id},t(Q.site_name),9,Pg))),128))],544),[[Pe,n.site_id]])])])]),e("div",Fg,[e("div",Ig,[e("div",qg,[e("div",Yg,t(x.value||"Select a Site"),1),e("div",Bg,[e("div",Ng,[e("div",Rg,[Z(e("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch3","onUpdate:modelValue":X[2]||(X[2]=Q=>T.value=Q)},null,512),[[Ve,T.value]]),Hg])])])]),e("div",jg,[e("div",{id:"capturecamerafilter"},[e("div",{class:"d-flex justify-content-between"},[e("div",{class:"d-flex"},[e("button",{onClick:Re,type:"button",class:"mb-2 btn btn-sm btn-success"},zg)]),e("div",{class:"d-flex"},[e("i",{class:"fa fa-filter mr-1",onClick:M})])])]),k.value?(s(),ce(Ee,{key:0})):(s(),a("div",Gg,[g($e,{size:"2"},{default:J(()=>[e("table",Qg,[e("thead",null,[e("tr",null,[Wg,Kg,Xg,Jg,Zg,ey,T.value?(s(),a("th",ty,"Cost per Pallet")):L("",!0),T.value?(s(),a("th",sy,"Cost")):L("",!0),ay,oy])]),r.value.length>0?(s(),a("tbody",ly,[(s(!0),a(R,null,W(r.value,(Q,Ce)=>(s(),a("tr",{key:Q.id,item:Q,index:Ce},[e("td",null,[e("input",{type:"checkbox",checked:Le.value,onChange:f},null,40,dy)]),e("td",null,t(u(ve)(Q.date).format("MMMM DD, YY")),1),e("td",null,t(Q.allocatedpalletspace),1),e("td",null,t(Q.spaceuteltotal),1),e("td",null,t(Q.spacetotalutelpercent),1),e("td",null,t(Q.excess),1),T.value?(s(),a("td",iy,t(Q.caseperpallet),1)):L("",!0),T.value?(s(),a("td",cy,t(Q.cost),1)):L("",!0),e("td",null," EXCESS "+t(Q.excess)+" PALLETS ",1),e("td",null,[e("a",{href:"#",onClick:ze=>de(Q)},_y,8,ry)])],8,ny))),128)),T.value?(s(),a("tr",my,[hy,e("td",py,[e("b",null,t(w.value),1)])])):L("",!0)])):(s(),a("tbody",vy,fy))])]),_:1})]))])])])])]),e("div",$y,[e("div",gy,[e("div",yy,[e("div",ky,[e("h5",xy,[E.value?(s(),a("span",wy,"Edit Pallet")):(s(),a("span",Cy,"Add Pallet"))]),Sy]),g(u(De),{onSubmit:U,"validation-schema":E.value?u(te):u(z)},{default:J(({errors:Q})=>[e("div",Dy,[e("div",Uy,[e("div",My,[e("div",Vy,[g(u(N),{modelValue:n.user_id,"onUpdate:modelValue":X[3]||(X[3]=Ce=>n.user_id=Ce),type:"hidden",name:"user_id",id:"user_id"},null,8,["modelValue"]),e("div",Ay,[Ey,g(u(N),{name:"date",type:"date",class:D(["form-control",{"is-invalid":Q.date}]),id:"date","aria-describedby":"dateHelp",placeholder:"Select Date",modelValue:n.date,"onUpdate:modelValue":X[4]||(X[4]=Ce=>n.date=Ce)},null,8,["class","modelValue"]),e("span",Ty,t(Q.date),1)]),e("div",Ly,[Py,g(u(N),{name:"allocatedpalletspace",type:"text",class:D(["form-control",{"is-invalid":Q.allocatedpalletspace}]),id:"allocatedpalletspace","aria-describedby":"nameHelp",placeholder:"Enter Menu title",modelValue:n.allocatedpalletspace,"onUpdate:modelValue":X[5]||(X[5]=Ce=>n.allocatedpalletspace=Ce)},null,8,["class","modelValue"]),e("span",Fy,t(Q.allocatedpalletspace),1)]),e("div",Iy,[qy,g(u(N),{name:"spaceuteltotal",type:"text",class:D(["form-control",{"is-invalid":Q.spaceuteltotal}]),id:"spaceuteltotal","aria-describedby":"nameHelp",placeholder:"Enter Menu Icon",modelValue:n.spaceuteltotal,"onUpdate:modelValue":X[6]||(X[6]=Ce=>n.spaceuteltotal=Ce),required:""},null,8,["class","modelValue"]),e("span",Yy,t(Q.spaceuteltotal),1)]),e("div",By,[Ny,g(u(N),{name:"caseperpallet",type:"text",class:D(["form-control",{"is-invalid":Q.caseperpallet}]),id:"caseperpallet","aria-describedby":"nameHelp",placeholder:"Enter Case Per Pallet",modelValue:n.caseperpallet,"onUpdate:modelValue":X[7]||(X[7]=Ce=>n.caseperpallet=Ce)},null,8,["class","modelValue"]),e("span",Ry,t(Q.caseperpallet),1)])])])])]),Hy]),_:1},8,["validation-schema"])])])]),e("div",jy,[e("div",Oy,[e("div",zy,[Gy,e("div",Qy,[Wy,e("button",{onClick:le(ie,["prevent"]),type:"button",class:"btn btn-primary"}," Delete User ")])])])]),e("div",Ky,[e("div",Xy,[e("div",Jy,[e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},[e("span",null,t(_)+" Report")]),Zy]),e("div",e2,[e("div",t2,[e("div",null,[s2,g(u(Ie),{modelValue:K.value,"onUpdate:modelValue":X[8]||(X[8]=Q=>K.value=Q)},null,8,["modelValue"])]),e("div",null,[a2,g(u(Ie),{modelValue:j.value,"onUpdate:modelValue":X[9]||(X[9]=Q=>j.value=Q)},null,8,["modelValue"])])])]),e("div",o2,[l2,e("button",{onClick:X[10]||(X[10]=Q=>F()),type:"button",class:"btn btn-primary"}," Generate ")])])])])],64)}}};var d2=ye(n2,[["__scopeId","data-v-acff4fc0"]]);const i2=o=>(Ue("data-v-298b68f9"),o=o(),Me(),o),c2={class:"content"},r2={class:"container-fluid"},u2={class:"row"},_2={class:"col-md-6"},m2={class:"card"},h2={class:"card-title"},p2={class:"form-group m-3"},v2=i2(()=>e("option",{value:"",disabled:""}," Select User ",-1)),b2=["value"],f2={class:"card-body"},$2={class:"list-group",style:{"max-height":"300px","overflow-y":"auto"}},g2={class:"custom-control custom-checkbox"},y2=["value","id","checked"],k2=["for"],x2={class:"card-footer"},w2={__name:"UserSite",setup(o){me();const y=`${fe().name}`,_=he();i(!0);const d=Ae({user_id:""});i(null),i();const r=i(),m=i(),k=i([]),E=()=>{A.get("/api/users/userlist").then(x=>{m.value=x.data}).catch(x=>{console.log(x)})},l=x=>{x!==null?A.get(`/web/usersite/${x}`).then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data for user:",n)}):A.get("/web/getsitewithoutuser").then(n=>{r.value=n.data}).catch(n=>{console.error("Error fetching site data without user:",n)})},T=()=>{const x={user_id:d.user_id,site_id:k.value};console.log(x),A.post("/web/onSaveupdate",x).then(n=>{_.success("User Site Save successfully!")}).catch(n=>{setErrors(n.response.data.errors)})},b=x=>{l(x)};return _e(()=>{E(),l(),document.title=y}),(x,n)=>(s(),a("div",c2,[e("div",r2,[e("div",u2,[e("div",_2,[e("div",m2,[e("div",h2,[e("div",p2,[g(u(N),{as:"select",name:"user_id",class:"form-control",id:"userid",modelValue:d.user_id,"onUpdate:modelValue":n[0]||(n[0]=w=>d.user_id=w),onChange:n[1]||(n[1]=w=>b(d.user_id))},{default:J(()=>[v2,(s(!0),a(R,null,W(m.value,w=>(s(),a("option",{key:w.id,value:w.id},t(w.name),9,b2))),128))]),_:1},8,["modelValue"])])]),e("div",f2,[e("ul",$2,[(s(!0),a(R,null,W(r.value,w=>(s(),a("li",{key:w.id,class:"list-group-item"},[e("div",g2,[Z(e("input",{class:"custom-control-input",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=q=>k.value=q),value:w.id,id:"site_id_"+w.id,checked:w.hasAccess},null,8,y2),[[Ve,k.value]]),e("label",{for:"site_id_"+w.id,class:"custom-control-label"},t(w.site_name),9,k2)])]))),128))]),e("div",x2,[e("button",{type:"button",onClick:n[3]||(n[3]=w=>T()),class:"btn btn-primary"}," Submit ")])])])])])])]))}};var C2=ye(w2,[["__scopeId","data-v-298b68f9"]]),S2=[{path:"/login",name:"admin.login",component:Yn},{path:"/dashboard",name:"Dashboard",component:Et},{path:"/appointments",name:"Appointments",component:Zt},{path:"/appointments/create",name:"Appointments",component:Xe},{path:"/appointments/:id/edit",name:"Appointments",component:Xe},{path:"/user",name:"User",component:Vo},{path:"/settings",name:"Setting",component:kl},{path:"/profile",name:"Profile",component:vn},{path:"/client",name:"Client",component:Id},{path:"/tech-recommendation",name:"Tech Recomm",component:Jc},{path:"/weekly-task-schedule/myprio",name:"My Prio",component:K_},{path:"/weekly-task-schedule/my-closed-prio",name:"My Closed Prio",component:fp},{path:"/weekly-task-schedule/mycoa",name:"My COA",component:Ch},{path:"/usermenu",name:"User Menu",component:hv},{path:"/menu",name:"Menu",component:T1},{path:"/:catchAll(.*)",name:"404 Error Page",component:at},{path:"/notifications",name:"Notifications",component:Rb},{path:"/tech-approved/:id/view",name:"Tech-Approved",component:ot},{path:"/asset-monitoring",name:"Asset Monitoring",component:xg},{path:"/pallet-monitoring",name:"Pallet Monitoring",component:d2},{path:"/usersite",name:"User Site",component:C2}];const D2={class:"navbar-nav"},U2=e("li",{class:"nav-item",id:"toggleMenuIcon"},[e("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[e("i",{class:"fas fa-bars"})])],-1),M2={class:"nav-item d-none d-sm-inline-block"},V2={class:"navbar-nav ml-auto"},A2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"navbar-search",href:"#",role:"button"},[e("i",{class:"fas fa-search"})]),e("div",{class:"navbar-search-block"},[e("form",{class:"form-inline"},[e("div",{class:"input-group input-group-sm"},[e("input",{class:"form-control form-control-navbar",type:"search",placeholder:"Search","aria-label":"Search"}),e("div",{class:"input-group-append"},[e("button",{class:"btn btn-navbar",type:"submit"},[e("i",{class:"fas fa-search"})]),e("button",{class:"btn btn-navbar",type:"button","data-widget":"navbar-search"},[e("i",{class:"fas fa-times"})])])])])])],-1),E2=we('<li class="nav-item dropdown"><div class="dropdown-menu dropdown-menu-lg dropdown-menu-right"><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle"><div class="media-body"><h3 class="dropdown-item-title"> Brad Diesel <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span></h3><p class="text-sm">Call me whenever you can...</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> John Pierce <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span></h3><p class="text-sm">I got your message bro</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item"><div class="media"><img src="https://adminlte.io/themes/v3/dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3"><div class="media-body"><h3 class="dropdown-item-title"> Nora Silvester <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span></h3><p class="text-sm">The subject goes here</p><p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p></div></div></a><div class="dropdown-divider"></div><a href="#" class="dropdown-item dropdown-footer">See All Messages</a></div></li>',1),T2={class:"nav-link","data-toggle":"dropdown",href:"#"},L2=e("i",{class:"far fa-bell"},null,-1),P2={class:"badge badge-warning navbar-badge"},F2={class:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},I2={class:"dropdown-header"},q2=e("div",{class:"dropdown-divider"},null,-1),Y2=e("i",{class:"fas fa-envelope mr-2"},null,-1),B2={class:"float-right text-muted text-sm"},N2={key:1,class:"text-center text-muted py-3"},R2=e("div",{class:"dropdown-divider"},null,-1),H2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"fullscreen",href:"#",role:"button"},[e("i",{class:"fas fa-expand-arrows-alt"})])],-1),j2=e("li",{class:"nav-item"},[e("a",{class:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"#",role:"button"},[e("i",{class:"fas fa-th-large"})])],-1),O2={__name:"AppNavbar",setup(o){const y=He(),_=i([]),d=()=>{A.get("/api/notifications").then(r=>{_.value=r.data.notifications}).catch(r=>{console.error("Error fetching notifications",r)})};return _e(()=>{d()}),(r,m)=>{const k=ge("router-link");return s(),a("nav",{class:D(["main-header navbar navbar-expand",u(y).theme==="dark"?"navbar-dark":"navbar-light"])},[e("ul",D2,[U2,e("li",M2,[e("a",{onClick:m[0]||(m[0]=le((...E)=>u(y).changeTheme&&u(y).changeTheme(...E),["prevent"])),href:"#",class:"nav-link"},[e("i",{class:D(["far",u(y).theme==="dark"?"fa-moon":"fa-sun"])},null,2)])])]),e("ul",V2,[A2,E2,e("li",{class:"nav-item dropdown",onClick:d},[e("a",T2,[L2,e("span",P2,t(_.value.length),1)]),e("div",F2,[e("span",I2,t(_.value.length)+" Notifications",1),q2,_.value.length>0?(s(!0),a(R,{key:0},W(_.value,E=>(s(),a("a",{key:E.id,href:"#",class:"dropdown-item"},[Y2,V(" "+t(E.data?E.data:"No message available")+" ",1),e("span",B2,t(u(ve)(E.created_at)),1)]))),128)):(s(),a("p",N2,"No new notifications")),R2,g(k,{to:"notifications",class:"dropdown-item dropdown-footer"},{default:J(()=>[V("See All Notifications")]),_:1})])]),H2,j2])],2)}}},z2={class:"main-sidebar sidebar-dark-primary elevation-4 position-fixed"},G2={href:"#",class:"brand-link"},Q2=["src"],W2={class:"brand-text font-weight-light"},K2={class:"sidebar"},X2={class:"user-panel mt-3 pb-3 mb-3 d-flex"},J2={key:0,class:"image"},Z2=["src"],ek={key:1,class:"image"},tk=["src"],sk=["src"],ak={class:"info"},ok={href:"#",class:"d-block"},lk={class:"mt-2"},nk={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},dk={key:0,class:"right fas fa-angle-left"},ik={key:0,class:"nav nav-treeview"},ck={class:"nav-item"},rk={class:"nav-link"},uk=e("i",{class:"nav-icon fas fa-sign-out-alt"},null,-1),_k=e("p",null,"Logout",-1),mk=[uk,_k],hk={__name:"SidebarLeft",setup(o){const y=Qe(),_=me(),d=He(),r=i({data:[]}),m=()=>{axios.get("/api/menu").then(l=>{r.value=l.data}).catch(l=>{console.log(l)})},k=l=>l===y.currentRoute.value.path,E=()=>{axios.post("/logout").then(l=>{_.user.name="",y.push("/login")})};return _e(()=>{$('[data-widget="treeview"]').Treeview("init"),m()}),(l,T)=>{const b=ge("router-link");return s(),a("aside",z2,[e("a",G2,[e("img",{src:"/img/safe1.png",alt:"AdminLTE Logo",class:"brand-image",style:{opacity:"0.8"},draggable:"false"},null,8,Q2),e("span",W2,t(u(d).setting.app_name),1)]),e("div",K2,[e("div",X2,[u(_).user.avatar===""?(s(),a("div",J2,[e("img",{src:u(_).user.avatar,class:"img-circle elevation-1",alt:"User Image"},null,8,Z2)])):u(_).user.avatar!==""?(s(),a("div",ek,[u(_).user.gender==="Male"?(s(),a("img",{key:0,src:"/img/boy.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,tk)):u(_).user.gender==="Female"?(s(),a("img",{key:1,src:"/img/girl.png",class:"img-circle elevation-1",alt:"Profile",draggable:"false"},null,8,sk)):L("",!0)])):L("",!0),e("div",ak,[e("a",ok,t(u(_).user.name),1)])]),e("nav",lk,[e("ul",nk,[(s(!0),a(R,null,W(r.value,x=>(s(),a("li",{key:x.id,class:D({"nav-item":!0,"has-submenu":x.submenus&&x.submenus.length>0})},[g(b,{class:D({"nav-link":!0,active:k(x.menu_route)}),to:`${x.menu_route}`},{default:J(()=>[e("i",{class:D("nav-icon "+x.menu_icon)},null,2),e("p",null,t(x.menu_title),1),x.submenus&&x.submenus.length>0?(s(),a("i",dk)):L("",!0)]),_:2},1032,["class","to"]),x.submenus&&x.submenus.length>0?(s(),a("ul",ik,[(s(!0),a(R,null,W(x.submenus,n=>(s(),a("li",{key:n.id,class:"nav-item"},[g(b,{class:D({"nav-link":!0,active:k(n.menu_route)}),to:n.menu_route},{default:J(()=>[e("i",{class:D("nav-icon "+n.menu_icon)},null,2),e("p",null,t(n.menu_title),1)]),_:2},1032,["class","to"])]))),128))])):L("",!0)],2))),128)),e("li",ck,[e("form",rk,[e("a",{href:"#",onClick:le(E,["prevent"])},mk)])])])])])])}}},pk={},vk={class:"control-sidebar control-sidebar-dark"},bk=e("div",{class:"p-3"},[e("h5",null,"Title"),e("p",null,"Sidebar content")],-1),fk=[bk];function $k(o,y){return s(),a("aside",vk,fk)}var gk=ye(pk,[["render",$k]]);const yk={class:"main-footer"},kk={class:"float-right d-none d-sm-block"},xk={href:"#"},wk={__name:"AppFooter",props:{settings:Object},setup(o){const y=me(),_=i(new Date().getFullYear());return(d,r)=>{var m;return s(),a("footer",yk,[e("div",kk,t(u(y).user.name),1),e("strong",null,[V("Copyright \xA9 "+t(_.value)+" ",1),e("a",xk,t((m=o.settings)==null?void 0:m.app_name),1),V(".")]),V(" All rights reserved. ")])}}};const Ck=o=>(Ue("data-v-36653638"),o=o(),Me(),o),Sk={class:"content-wrapper"},Dk={class:"content-header"},Uk={class:"container-fluid"},Mk={class:"row mb-2"},Vk={class:"col-sm-6"},Ak={class:"m-0"},Ek={class:"col-sm-6"},Tk={class:"breadcrumb float-sm-right"},Lk=Ck(()=>e("li",{class:"breadcrumb-item"},[e("a",{href:"#"},"Home")],-1)),Pk={class:"breadcrumb-item active"},Fk={__name:"CustomMainLayout",setup(o){const y=me(),_=He(),d=Fe(()=>_.theme==="dark"?"dark-mode":"");return(r,m)=>{const k=ge("router-view");return u(y).user.name!==""?(s(),a("div",{key:0,class:D(["wrapper",d.value])},[g(O2),g(hk),g(gk),e("div",Sk,[e("section",Dk,[e("div",Uk,[e("div",Mk,[e("div",Vk,[e("h1",Ak,t(r.$route.name),1)]),e("div",Ek,[e("ol",Tk,[Lk,e("li",Pk,t(r.$route.name),1)])])])])]),g(k)]),g(wk)],2)):(s(),a("div",{key:1,class:D(["login-page slibg",d.value])},[g(k)],2))}}};var Ik=ye(Fk,[["__scopeId","data-v-36653638"]]);const qk={__name:"App",setup(o){me();const y=fe(),_=Fe(()=>y.name==="Tech-Approved"),d=Fe(()=>y.name==="404 Error Page");return(r,m)=>(s(),a("div",null,[!d.value&&!_.value?(s(),ce(Ik,{key:0})):_.value?(s(),ce(ot,{key:1})):(s(),ce(at,{key:2}))]))}};var Yk=ye(qk,[["__scopeId","data-v-252b567e"]]);const Bk=ct(),Ne=mt(Yk),lt=rt({routes:S2,history:ut()});lt.beforeEach(async(o,y)=>{const _=me();if(_.user.name===""&&o.name!=="admin.login"){const d=He();await Promise.all([_.getAuthUser(),d.getSetting()])}});Ne.use(Ct);Ne.use(Bk);Ne.use(lt);Ne.use(wt);Ne.use(tt);Ne.mount("#app");
